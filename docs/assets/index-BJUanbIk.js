var Vd=Object.defineProperty;var Wd=(t,e,n)=>e in t?Vd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pn=(t,e,n)=>(Wd(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function Yd(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function xd(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let l=0;l<n.length;l++)o[l]=n.charCodeAt(l);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function Ud(){let t=localStorage.getItem("plots_active_game_db");const e=await Yd(t);console.log("http://localhost:5173/plots/?shareId="+e)}const Ol=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(Ol.shareId!=null||Ol.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(xd(Ol.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),Ud();function Ce(){}const al=t=>t;function J(t,e){for(const n in e)t[n]=e[n];return t}function ic(t){return t()}function cs(){return Object.create(null)}function $e(t){t.forEach(ic)}function un(t){return typeof t=="function"}function ce(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Kd(t){return Object.keys(t).length===0}function Ar(t,...e){if(t==null){for(const o of e)o(void 0);return Ce}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function lc(t){let e;return Ar(t,n=>e=n)(),e}function ue(t,e,n){t.$$.on_destroy.push(Ar(e,n))}function me(t,e,n,o){if(t){const i=rc(t,e,n,o);return t[0](i)}}function rc(t,e,n,o){return t[1]&&o?J(n.ctx.slice(),t[1](o(e))):n.ctx}function he(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const l=[],r=Math.max(e.dirty.length,i.length);for(let a=0;a<r;a+=1)l[a]=e.dirty[a]|i[a];return l}return e.dirty|i}return e.dirty}function _e(t,e,n,o,i,l){if(i){const r=rc(e,n,o,l);t.p(r,i)}}function ge(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Re(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function re(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Ie(t,e,n){return t.set(n),e}function je(t){return t&&un(t.destroy)?t.destroy:Ce}const sc=typeof window<"u";let Sr=sc?()=>window.performance.now():()=>Date.now(),Tr=sc?t=>requestAnimationFrame(t):Ce;const fo=new Set;function ac(t){fo.forEach(e=>{e.c(t)||(fo.delete(e),e.f())}),fo.size!==0&&Tr(ac)}function Ir(t){let e;return fo.size===0&&Tr(ac),{promise:new Promise(n=>{fo.add(e={c:t,f:n})}),abort(){fo.delete(e)}}}function _(t,e){t.appendChild(e)}function uc(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Xd(t){const e=O("style");return e.textContent="/* empty */",Jd(uc(t),e),e.sheet}function Jd(t,e){return _(t.head||t,e),e.sheet}function I(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function dt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function O(t){return document.createElement(t)}function ul(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function q(t){return document.createTextNode(t)}function V(){return q(" ")}function Le(){return q("")}function ee(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function N(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Zd=["width","height"];function fe(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&Zd.indexOf(o)===-1?t[o]=e[o]:N(t,o,e[o])}function Ri(t,e){for(const n in e)N(t,n,e[n])}function Qd(t,e){Object.keys(e).forEach(n=>{zd(t,n,e[n])})}function zd(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:N(t,e,n)}function bn(t){return/-/.test(t)?Qd:fe}function ep(t){return Array.from(t.childNodes)}function le(t,e){e=""+e,t.data!==e&&(t.data=e)}function nn(t,e){t.value=e??""}function et(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function ds(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function mn(t,e,n){t.classList.toggle(e,!!n)}function fc(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class tn{constructor(e=!1){pn(this,"is_svg",!1);pn(this,"e");pn(this,"n");pn(this,"t");pn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=ul(n.nodeName):this.e=O(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)I(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(T)}}const Li=new Map;let Di=0;function tp(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function np(t,e){const n={stylesheet:Xd(e),rules:{}};return Li.set(t,n),n}function $i(t,e,n,o,i,l,r,a=0){const s=16.666/o;let u=`{
`;for(let v=0;v<=1;v+=s){const A=e+(n-e)*l(v);u+=v*100+`%{${r(A,1-A)}}
`}const f=u+`100% {${r(n,1-n)}}
}`,c=`__svelte_${tp(f)}_${a}`,d=uc(t),{stylesheet:p,rules:m}=Li.get(d)||np(d,t);m[c]||(m[c]=!0,p.insertRule(`@keyframes ${c} ${f}`,p.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${c} ${o}ms linear ${i}ms 1 both`,Di+=1,c}function Fi(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),Di-=i,Di||op())}function op(){Tr(()=>{Di||(Li.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&T(e)}),Li.clear())})}let Wo;function Go(t){Wo=t}function Qo(){if(!Wo)throw new Error("Function called outside component initialization");return Wo}function fl(t){Qo().$$.on_mount.push(t)}function ip(t){Qo().$$.on_destroy.push(t)}function lp(){const t=Qo();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const l=fc(e,n,{cancelable:o});return i.slice().forEach(r=>{r.call(t,l)}),!l.defaultPrevented}return!0}}function cl(t,e){return Qo().$$.context.set(t,e),e}function dl(t){return Qo().$$.context.get(t)}function ie(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const ro=[],Ee=[];let co=[];const Jl=[],cc=Promise.resolve();let Zl=!1;function dc(){Zl||(Zl=!0,cc.then(pc))}function Mr(){return dc(),cc}function st(t){co.push(t)}function Cn(t){Jl.push(t)}const Pl=new Set;let no=0;function pc(){if(no!==0)return;const t=Wo;do{try{for(;no<ro.length;){const e=ro[no];no++,Go(e),rp(e.$$)}}catch(e){throw ro.length=0,no=0,e}for(Go(null),ro.length=0,no=0;Ee.length;)Ee.pop()();for(let e=0;e<co.length;e+=1){const n=co[e];Pl.has(n)||(Pl.add(n),n())}co.length=0}while(ro.length);for(;Jl.length;)Jl.pop()();Zl=!1,Pl.clear(),Go(t)}function rp(t){if(t.fragment!==null){t.update(),$e(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(st)}}function sp(t){const e=[],n=[];co.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),co=e}let Oo;function Or(){return Oo||(Oo=Promise.resolve(),Oo.then(()=>{Oo=null})),Oo}function En(t,e,n){t.dispatchEvent(fc(`${e?"intro":"outro"}${n}`))}const Si=new Set;let Wt;function Me(){Wt={r:0,c:[],p:Wt}}function Oe(){Wt.r||$e(Wt.c),Wt=Wt.p}function S(t,e){t&&t.i&&(Si.delete(t),t.i(e))}function M(t,e,n,o){if(t&&t.o){if(Si.has(t))return;Si.add(t),Wt.c.push(()=>{Si.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const Pr={duration:0};function Jt(t,e,n){const o={direction:"in"};let i=e(t,n,o),l=!1,r,a,s=0;function u(){r&&Fi(t,r)}function f(){const{delay:d=0,duration:p=300,easing:m=al,tick:h=Ce,css:v}=i||Pr;v&&(r=$i(t,0,1,p,d,m,v,s++)),h(0,1);const A=Sr()+d,w=A+p;a&&a.abort(),l=!0,st(()=>En(t,!0,"start")),a=Ir(C=>{if(l){if(C>=w)return h(1,0),En(t,!0,"end"),u(),l=!1;if(C>=A){const E=m((C-A)/p);h(E,1-E)}}return l})}let c=!1;return{start(){c||(c=!0,Fi(t),un(i)?(i=i(o),Or().then(f)):f())},invalidate(){c=!1},end(){l&&(u(),l=!1)}}}function Zt(t,e,n){const o={direction:"out"};let i=e(t,n,o),l=!0,r;const a=Wt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=al,tick:p=Ce,css:m}=i||Pr;m&&(r=$i(t,1,0,c,f,d,m));const h=Sr()+f,v=h+c;st(()=>En(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),Ir(A=>{if(l){if(A>=v)return p(0,1),En(t,!1,"end"),--a.r||$e(a.c),!1;if(A>=h){const w=d((A-h)/c);p(1-w,w)}}return l})}return un(i)?Or().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),l&&(r&&Fi(t,r),l=!1)}}}function Ut(t,e,n,o){let l=e(t,n,{direction:"both"}),r=o?0:1,a=null,s=null,u=null,f;function c(){u&&Fi(t,u)}function d(m,h){const v=m.b-r;return h*=Math.abs(v),{a:r,b:m.b,d:v,duration:h,start:m.start,end:m.start+h,group:m.group}}function p(m){const{delay:h=0,duration:v=300,easing:A=al,tick:w=Ce,css:C}=l||Pr,E={start:Sr()+h,b:m};m||(E.group=Wt,Wt.r+=1),"inert"in t&&(m?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=E:(C&&(c(),u=$i(t,r,m,v,h,A,C)),m&&w(0,1),a=d(E,v),st(()=>En(t,m,"start")),Ir($=>{if(s&&$>s.start&&(a=d(s,v),s=null,En(t,a.b,"start"),C&&(c(),u=$i(t,r,a.b,a.duration,0,A,l.css))),a){if($>=a.end)w(r=a.b,1-r),En(t,a.b,"end"),s||(a.b?c():--a.group.r||$e(a.group.c)),a=null;else if($>=a.start){const L=$-a.start;r=a.a+a.d*A(L/a.duration),w(r,1-r)}}return!!(a||s)}))}return{run(m){un(l)?Or().then(()=>{l=l({direction:m?"in":"out"}),p(m)}):p(m)},end(){c(),a=s=null}}}function He(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ap(t,e){M(t,1,1,()=>{e.delete(t.key)})}function up(t,e,n,o,i,l,r,a,s,u,f,c){let d=t.length,p=l.length,m=d;const h={};for(;m--;)h[t[m].key]=m;const v=[],A=new Map,w=new Map,C=[];for(m=p;m--;){const D=c(i,l,m),Y=n(D);let F=r.get(Y);F?C.push(()=>F.p(D,e)):(F=u(Y,D),F.c()),A.set(Y,v[m]=F),Y in h&&w.set(Y,Math.abs(m-h[Y]))}const E=new Set,$=new Set;function L(D){S(D,1),D.m(a,f),r.set(D.key,D),f=D.first,p--}for(;d&&p;){const D=v[p-1],Y=t[d-1],F=D.key,G=Y.key;D===Y?(f=D.first,d--,p--):A.has(G)?!r.has(F)||E.has(F)?L(D):$.has(G)?d--:w.get(F)>w.get(G)?($.add(F),L(D)):(E.add(G),d--):(s(Y,r),d--)}for(;d--;){const D=t[d];A.has(D.key)||s(D,r)}for(;p;)L(v[p-1]);return $e(C),v}function we(t,e){const n={},o={},i={$$scope:1};let l=t.length;for(;l--;){const r=t[l],a=e[l];if(a){for(const s in r)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[l]=a}else for(const s in r)i[s]=1}for(const r in o)r in n||(n[r]=void 0);return n}function ut(t){return typeof t=="object"&&t!==null?t:{}}function An(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function X(t){t&&t.c()}function U(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),st(()=>{const l=t.$$.on_mount.map(ic).filter(un);t.$$.on_destroy?t.$$.on_destroy.push(...l):$e(l),t.$$.on_mount=[]}),i.forEach(st)}function K(t,e){const n=t.$$;n.fragment!==null&&(sp(n.after_update),$e(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function fp(t,e){t.$$.dirty[0]===-1&&(ro.push(t),dc(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function be(t,e,n,o,i,l,r=null,a=[-1]){const s=Wo;Go(t);const u=t.$$={fragment:null,ctx:[],props:l,update:Ce,not_equal:i,bound:cs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:cs(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};r&&r(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...p)=>{const m=p.length?p[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=m)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](m),f&&fp(t,c)),d}):[],u.update(),f=!0,$e(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=ep(e.target);u.fragment&&u.fragment.l(c),c.forEach(T)}else u.fragment&&u.fragment.c();e.intro&&S(t.$$.fragment),U(t,e.target,e.anchor),pc()}Go(s)}class ve{constructor(){pn(this,"$$");pn(this,"$$set")}$destroy(){K(this,1),this.$destroy=Ce}$on(e,n){if(!un(n))return Ce;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!Kd(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const cp="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(cp);const oo=[];function Rn(t,e){return{subscribe:Ke(t,e).subscribe}}function Ke(t,e=Ce){let n;const o=new Set;function i(a){if(ce(t,a)&&(t=a,n)){const s=!oo.length;for(const u of o)u[1](),oo.push(u,t);if(s){for(let u=0;u<oo.length;u+=2)oo[u][0](oo[u+1]);oo.length=0}}}function l(a){i(a(t))}function r(a,s=Ce){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,l)||Ce),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:l,subscribe:r}}function fn(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=e.length<2;return Rn(n,(r,a)=>{let s=!1;const u=[];let f=0,c=Ce;const d=()=>{if(f)return;c();const m=e(o?u[0]:u,r,a);l?r(m):c=un(m)?m:Ce},p=i.map((m,h)=>Ar(m,v=>{u[h]=v,f&=~(1<<h),s&&d()},()=>{f|=1<<h}));return s=!0,d(),function(){$e(p),c(),s=!1}})}function ps(t){return{subscribe:t.subscribe.bind(t)}}const dp={plots:[],timeSpent:0,devMode:!1,lastChangeDay:0,townLog:[],currentTutorialStep:0,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,guardians:0,happiness:150,health:150,recreation:0,community:150,knowledge_points:0,productivity:100},kingdom_expansions:0,resources:{food:50,wood:750,stone:750,metal:0,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1,still_playing:!0},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0},liege_location:null},pp={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]},Nr={0:"Easy",1:"Normal",2:"Hard"},mp={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},te=[{id:"small_homes",title:"🏠 Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople."},{id:"farm",title:"🥕 Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!"},{id:"tree_farm",title:"🌲 Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:10,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!"},{id:"quarry",title:"⛏️ Quarry",type:"quarry",description:"Produces stone, small amounts of metal. Isn't great for health. ",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:18,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The workers at the quarry are working harder with the presence of their liege."},{id:"livestock_farm",title:"🐄 Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:72,requirements:{gold:600,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"The cows are producing more milk and cheese when you are hanging out on the farm."},{id:"bakery",title:"🥖 Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:90,requirements:{gold:500,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:170,stone:170,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15},liege_on_plot_hint:null},{id:"stables",title:"🐴 Stables",type:"recreation",description:"Improves the health of the town and provides recreation.",revenue_per_week:24,requirements:{gold:400,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:120,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"church",title:"⛪️ Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:900,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.3},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"pub",title:"🍻 Pub",type:"recreation",description:"Generates knowledge, happiness, community. Isn't great for health.",revenue_per_week:40,knowledge_points_per_month:1,requirements:{gold:500,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.93,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"village_market",title:"🛒 Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:180,requirements:{gold:1400,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:150,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:35},liege_on_plot_hint:"Your presence is helping the market make more money."},{id:"fishery",title:"🐠 Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:1500,plots:[],employees:9,knowledge:0,size:1,xp:0,resources:{food:0,wood:1500,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:100,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your expertise in fishing is helping the town reel in far more fish!"},{id:"vineyard",title:"🍇 Vineyard",type:"farm",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:700,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"water_wheel",title:"💧 Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:200,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference."},{id:"adv_water_wheel",title:"💧 Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:1800,plots:["blacksmith"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:400,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:100,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference."},{id:"adv_farm",title:"🌾 Adv. Farm",type:"farm",description:"Uses knowledge and technology to produce more food, with only 1 employee.",revenue_per_week:35,requirements:{gold:750,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:15,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:75,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:10,wood:0,stone:0,metal:1,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!"},{id:"park",title:"🎪 Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"village_inn",title:"🛌 Village Inn",type:"tourism",description:"Enables tourism to your town, which increases revenue at certain stores.",revenue_per_week:23,requirements:{gold:1500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"schoolhouse",title:"🏫 Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:2500,plots:["lumber_mill"],employees:20,knowledge:0,size:1,xp:0,resources:{food:0,wood:500,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The children seem to be learning worse when you are around, maybe you are a distraction from the teachers."},{id:"blacksmith",title:"⚒️ Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:300,requirements:{gold:3e3,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:75,wood:0,stone:0,metal:10,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"library",title:"📕 Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:10,requirements:{gold:2e3,plots:["lumber_mill"],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:225,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"lumber_mill",title:"🏭 Lumber Mill",type:"industrial",description:"Increases wood production by 25%, has to be next to a tree farm",revenue_per_week:0,requirements:{gold:4e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"solar_farm",title:"☀️ Solar farm",type:"industrial",description:"Produces a lot of power without the need of water.",revenue_per_week:0,requirements:{gold:5e3,plots:["blacksmith"],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:500,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:50,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"general_store",title:"🛒 General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:500,requirements:{gold:15e3,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:5e3,stone:5e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1.1},immediate_variable_changes:{happiness:20,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:60,wood:0,stone:0,metal:0,bureaucracy:0,food:100},liege_on_plot_hint:"Your experience managing towns is increasing the profits at the general store!"},{id:"healing_house",title:"🏥 Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:2e4,plots:["blacksmith"],employees:18,knowledge:0,size:1,xp:0,resources:{food:0,wood:800,stone:1e3,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"community_center",title:"🫶 Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:19e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:700,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.09,health:1,community:2},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"city_hall",title:"🗳️ City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a lot of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:35e3,plots:[],employees:32,knowledge:3e3,size:1,xp:0,resources:{food:0,wood:3250,stone:800,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.2},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:4,active_costs:{gold:300,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"mine",title:"⛏️ Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:5e4,plots:["blacksmith"],employees:64,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:150,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.9,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:15,metal:50,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:80,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"academy",title:"🏫 Academy",type:"education",description:"Produces a lot of knowledge, requires high population",revenue_per_week:0,knowledge_points_per_month:90,requirements:{gold:3e4,plots:["lumber_mill"],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:5e3,stone:1600,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:500,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"bank",title:"🏦 Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:75e3,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:75,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"lab",title:"🧪 Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:1e5,plots:[],employees:24,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:0,stone:1e3,metal:3e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:300,power:35,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null}],Po={empty_unusable:"rgba(21, 40, 20, 0.70)",empty_buildable:"#CBB827",residential:"#de7633",farm:"#6b8f49",lumber:"#8E805C",business:"#9273a5",recreation:"#5277b1",shop:"#5277b1",tourism:"#d896d8",education:"#9997DF",medical:"#4a5ba3",bank:"#8477be",federal:"#8477be",science:"#4a5ba3",mine:"#d9874a",quarry:"#868685",industrial:"#868615"};function ji(t,e=!1){if(t<0)return t==-1?e?Po.empty_buildable:Po.empty_unusable:t==-2?Po.recreation:Po.empty_unusable;const n=te[t];return Po[n.type]}const ms={lab:1,city_hall:1,bank:1,community_center:1,inn:1},Bt="plots_active_game_db",Yo="plots_user_db";function hp(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),l=o(t),r=o(e),a="";return Math.random()>.5?a=i+" "+l+r:a=l+r,a}let Ne=Ke(JSON.parse(localStorage.getItem(Bt)||"null")),rn=Ke(JSON.parse(localStorage.getItem(Yo)||"null"));bp();function _p(t,e,n,o){let i={...dp};i.economyAndLaws.max_tax_rate=mp[t],i.endGoal=e;let l=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:hp(),i.difficulty=parseInt(t),o&&(i.devMode=!0,i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const r=t=="0"?8:t=="1"?12:t=="2"?16:1,a=Math.floor(Math.random()*r/2)+1,s=Math.floor(Math.random()*r/2)+1;for(let u=0;u<r;u++){l.push([]);for(let f=0;f<r;f++){const c=u==a&&f==s?!1:gp(u,f,r);l[u][f]={id:Math.random().toString(36).substring(2,9),active:!1,x:u,y:f,type:c?-9:-1,typeId:"",mineralSource:c?!1:a===u&&s===f,water:a===u&&s===f?!1:c}}}i.plots=l,localStorage.reset=!1,localStorage.setItem(Bt,JSON.stringify(i)),Ne.set(i),location.reload()}function gp(t,e,n){let o=.06;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=5),t==0&&e==0&&(o=0),Math.random()<o}function bp(){if(localStorage.getItem(Yo)===null){let t=pp;t.username="my_username_click_to_change",localStorage.setItem(Yo,JSON.stringify(t)),rn.set(t)}}function hs(t,e){var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var o=Math.round(t)/n;return+o.toFixed(e)}function Bi(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=te[o].immediate_variable_changes.population,n.townInfo.population_max-=te[o].immediate_variable_changes.population,n.townInfo.happiness-=te[o].immediate_variable_changes.happiness,n.townInfo.health-=te[o].immediate_variable_changes.health,n.modifiers.happiness=hs(n.modifiers.happiness/te[o].effect_modifiers.happiness,2),n.modifiers.health=hs(n.modifiers.health/te[o].effect_modifiers.health,2),n.townInfo.employees-=te[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(te[o].requirements.size??1)>1))for(let l=0;l<n.plots.length;l++)for(let r=0;r<n.plots[t].length;r++)n.plots[l][r].referencePlot!=null&&n.plots[l][r].referencePlot[0]===t&&n.plots[l][r].referencePlot[1]===e&&Bi(l,r,n);n.lastChangeDay=n.environment.day,Ne.set(n),localStorage.setItem(Bt,JSON.stringify(n))}function Ge(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(te[e.plots[o][i].type].id===t||te[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function so(t,e,n){return n.liege_location!=null&&n.liege_location[0]===t&&n.liege_location[1]===e}function vp(t,e){const n=t.plots.length,o=n>0?t.plots[0].length:0,i=e=="east"?5:0,l=e=="south"?5:0,r=Math.round(Math.pow(1.5,t.kingdom_expansions+5));if(t.townInfo.guardians<r)return`You need ${r-t.townInfo.guardians} more Guardians to expand the kingdom. See the City mgmt menu.`;for(let a=0;a<n;a++)for(let s=o;s<o+i;s++)t.plots[a].push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:"",mineralSource:!1,water:!1,disabled:!1});for(let a=n;a<n+l;a++){const s=[];for(let u=0;u<o+i;u++)s.push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:u,type:-1,typeId:"",mineralSource:!1,water:!1});t.plots.push(s)}t.kingdom_expansions++,Ne.set(t)}function Er(t=null){localStorage.removeItem(Bt),Ne.set(null),t&&(localStorage.setItem(Bt,JSON.stringify(t)),Ne.set(t)),location.reload()}function yp(){mc.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}function _s(t,e,n){n.liege_location=[t,e],_o.set(!1),document.querySelectorAll(".plot_container").forEach(i=>{i.style.cursor=""}),Ne.set(n)}let nt=Ke({visible:!1,x:0,y:0,isMineralSource:!1}),Ho=Ke({visible:!1});function wp(t){rn.set(t),localStorage.setItem(Yo,JSON.stringify(t))}let ho=Ke({}),Ti=Ke(!1),Et=Ke(!1),Ql=Ke(!0),gs=Ke(!1),qi=Ke(!1),Gi=Ke(!1),Ii=Ke(!1),_o=Ke(!1),Hi=Ke(!1),Rt=Ke(""),Vi=localStorage.getItem("showCompletedAchievements")==="true"?Ke(!0):Ke(!1),mc=localStorage.getItem("showOnlyAffordable")==="true"?Ke(!0):Ke(!1),hc=localStorage.getItem("pauseMenuTab")==="game"?Ke("game"):Ke("achievements"),zl=Ke(750);const $t={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},lt=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"😍",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"📌",check:t=>Ge("small_school",t).length!==0||Ge("large_school",t).length!==0||Ge("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"﹩",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"💵",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"🐌",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"🏦",check:t=>Ge("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"❤️",check:t=>Ge("community_center",t).length!==0,prize:1e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"💰",check:t=>t.townInfo.gold>=1e6,prize:15e4}],On=[{message:"My liege, we need places to live! Build the first homes.",isComplete:t=>t.townInfo.population_max>0,goldReward:750},{message:"My liege, you need to start making food and wood.",isComplete:t=>Ge("farm",t).length>=1&&Ge("tree_farm",t).length>=1,goldReward:300},{message:"My liege, the village will need stone and metals to expand. Build a quarry. ",isComplete:t=>Ge("quarry",t).length>0,goldReward:500},{message:"My liege, things are picking up but we will need far more money. Get weekly revenue to >=200 gold. ",isComplete:t=>t.economyAndLaws.weeklyProfit>=200,goldReward:2e3},{message:"My liege, as the town develops we will need the smartest and brightest. Build plots to get our Knowledge to 250.",isComplete:t=>t.townInfo.knowledge_points>=250,goldReward:2e3},{message:"My liege, the village is growing - yay! But we need to have more workers. Get the population to 100.",isComplete:t=>t.townInfo.population_count>=100,goldReward:1500},{message:"My liege, some advanced buildings require power. Start generating power with a water wheel or a solar farm.",isComplete:t=>t.resources.power>0,goldReward:2e3},{message:"My liege, we need more metals. Find a good spot for a mine and build it. ",isComplete:t=>Ge("mine",t).length>0,goldReward:1e4},{message:"My liege, mining resources has taken a toll on the towns health. Build a Healing House to lower the chance of sickness.",isComplete:t=>Ge("healing_house",t).length>0,goldReward:15e3},{message:"My liege, now that we have metals, power, and people, your next goal is a big one. Build your town a City Hall.",isComplete:t=>Ge("city_hall",t).length>0,goldReward:1e4}];function _c(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=_c(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function kp(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=_c(t))&&(o&&(o+=" "),o+=e);return o}const Rr="-";function Cp(t){const e=Sp(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(r){const a=r.split(Rr);return a[0]===""&&a.length!==1&&a.shift(),gc(a,e)||Ap(r)}function l(r,a){const s=n[r]||[];return a&&o[r]?[...s,...o[r]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:l}}function gc(t,e){var r;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?gc(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const l=t.join(Rr);return(r=e.validators.find(({validator:a})=>a(l)))==null?void 0:r.classGroupId}const bs=/^\[(.+)\]$/;function Ap(t){if(bs.test(t)){const e=bs.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function Sp(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return Ip(Object.entries(t.classGroups),n).forEach(([l,r])=>{er(r,o,l,e)}),o}function er(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const l=i===""?e:vs(e,i);l.classGroupId=n;return}if(typeof i=="function"){if(Tp(i)){er(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([l,r])=>{er(r,vs(e,l),n,o)})})}function vs(t,e){let n=t;return e.split(Rr).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function Tp(t){return t.isThemeGetter}function Ip(t,e){return e?t.map(([n,o])=>{const i=o.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([r,a])=>[e+r,a])):l);return[n,i]}):t}function Mp(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(l,r){n.set(l,r),e++,e>t&&(e=0,o=n,n=new Map)}return{get(l){let r=n.get(l);if(r!==void 0)return r;if((r=o.get(l))!==void 0)return i(l,r),r},set(l,r){n.has(l)?n.set(l,r):i(l,r)}}}const bc="!";function Op(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(r){const a=[];let s=0,u=0,f;for(let h=0;h<r.length;h++){let v=r[h];if(s===0){if(v===o&&(n||r.slice(h,h+i)===e)){a.push(r.slice(u,h)),u=h+i;continue}if(v==="/"){f=h;continue}}v==="["?s++:v==="]"&&s--}const c=a.length===0?r:r.substring(u),d=c.startsWith(bc),p=d?c.substring(1):c,m=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:m}}}function Pp(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function Np(t){return{cache:Mp(t.cacheSize),splitModifiers:Op(t),...Cp(t)}}const Ep=/\s+/;function Rp(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,l=new Set;return t.trim().split(Ep).map(r=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(r);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:r};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:r};d=!1}const p=Pp(a).join(":");return{isTailwindClass:!0,modifierId:s?p+bc:p,classGroupId:c,originalClassName:r,hasPostfixModifier:d}}).reverse().filter(r=>{if(!r.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=r,f=a+s;return l.has(f)?!1:(l.add(f),i(s,u).forEach(c=>l.add(a+c)),!0)}).reverse().map(r=>r.originalClassName).join(" ")}function Lp(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=vc(e))&&(o&&(o+=" "),o+=n);return o}function vc(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=vc(t[o]))&&(n&&(n+=" "),n+=e);return n}function tr(t,...e){let n,o,i,l=r;function r(s){const u=e.reduce((f,c)=>c(f),t());return n=Np(u),o=n.cache.get,i=n.cache.set,l=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=Rp(s,n);return i(s,f),f}return function(){return l(Lp.apply(null,arguments))}}function tt(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const yc=/^\[(?:([a-z-]+):)?(.+)\]$/i,Dp=/^\d+\/\d+$/,$p=new Set(["px","full","screen"]),Fp=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jp=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Bp=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qp=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Gp=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function zt(t){return Pn(t)||$p.has(t)||Dp.test(t)}function hn(t){return ko(t,"length",Xp)}function Pn(t){return!!t&&!Number.isNaN(Number(t))}function hi(t){return ko(t,"number",Pn)}function No(t){return!!t&&Number.isInteger(Number(t))}function Hp(t){return t.endsWith("%")&&Pn(t.slice(0,-1))}function qe(t){return yc.test(t)}function _n(t){return Fp.test(t)}const Vp=new Set(["length","size","percentage"]);function Wp(t){return ko(t,Vp,wc)}function Yp(t){return ko(t,"position",wc)}const xp=new Set(["image","url"]);function Up(t){return ko(t,xp,Zp)}function Kp(t){return ko(t,"",Jp)}function Eo(){return!0}function ko(t,e,n){const o=yc.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function Xp(t){return jp.test(t)&&!Bp.test(t)}function wc(){return!1}function Jp(t){return qp.test(t)}function Zp(t){return Gp.test(t)}function nr(){const t=tt("colors"),e=tt("spacing"),n=tt("blur"),o=tt("brightness"),i=tt("borderColor"),l=tt("borderRadius"),r=tt("borderSpacing"),a=tt("borderWidth"),s=tt("contrast"),u=tt("grayscale"),f=tt("hueRotate"),c=tt("invert"),d=tt("gap"),p=tt("gradientColorStops"),m=tt("gradientColorStopPositions"),h=tt("inset"),v=tt("margin"),A=tt("opacity"),w=tt("padding"),C=tt("saturate"),E=tt("scale"),$=tt("sepia"),L=tt("skew"),D=tt("space"),Y=tt("translate"),F=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],y=()=>["auto",qe,e],b=()=>[qe,e],k=()=>["",zt,hn],P=()=>["auto",Pn,qe],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],x=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],Q=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",qe],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[Pn,hi],ae=()=>[Pn,qe];return{cacheSize:500,separator:":",theme:{colors:[Eo],spacing:[zt,hn],blur:["none","",_n,qe],brightness:ne(),borderColor:[t],borderRadius:["none","","full",_n,qe],borderSpacing:b(),borderWidth:k(),contrast:ne(),grayscale:Z(),hueRotate:ae(),invert:Z(),gap:b(),gradientColorStops:[t],gradientColorStopPositions:[Hp,hn],inset:y(),margin:y(),opacity:ne(),padding:b(),saturate:ne(),scale:ne(),sepia:Z(),skew:ae(),space:b(),translate:b()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[_n]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),qe]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",No,qe]}],basis:[{basis:y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",No,qe]}],"grid-cols":[{"grid-cols":[Eo]}],"col-start-end":[{col:["auto",{span:["full",No,qe]},qe]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[Eo]}],"row-start-end":[{row:["auto",{span:[No,qe]},qe]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,e]}],"min-w":[{"min-w":[qe,e,"min","max","fit"]}],"max-w":[{"max-w":[qe,e,"none","full","min","max","fit","prose",{screen:[_n]},_n]}],h:[{h:[qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",_n,hn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hi]}],"font-family":[{font:[Eo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",Pn,hi]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zt,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zt,hn]}],"underline-offset":[{"underline-offset":["auto",zt,qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),Yp]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Wp]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Up]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:R()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[zt,qe]}],"outline-w":[{outline:[zt,hn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[zt,hn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",_n,Kp]}],"shadow-color":[{shadow:[Eo]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":x()}],"bg-blend":[{"bg-blend":x()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",_n,qe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[C]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[r]}],"border-spacing-x":[{"border-spacing-x":[r]}],"border-spacing-y":[{"border-spacing-y":[r]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[No,qe]}],"translate-x":[{"translate-x":[Y]}],"translate-y":[{"translate-y":[Y]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[zt,hn,hi]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function Qp(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:l={}}){Mi(t,"cacheSize",e),Mi(t,"prefix",n),Mi(t,"separator",o);for(const r in l)zp(t[r],l[r]);for(const r in i)em(t[r],i[r]);return t}function Mi(t,e,n){n!==void 0&&(t[e]=n)}function zp(t,e){if(e)for(const n in e)Mi(t,n,e[n])}function em(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function tm(t,...e){return typeof t=="function"?tr(nr,t,...e):tr(()=>Qp(nr(),t),...e)}const kc=tr(nr);function nm(t){const e=t-1;return e*e*e+1}function Fe(...t){return kc(kp(t))}const pl=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(r,a,s)=>{const[u,f]=a,[c,d]=s;return(r-u)/(f-u)*(d-c)+c},l=r=>Object.keys(r).reduce((a,s)=>r[s]===void 0?a:a+`${s}:${r[s]};`,"");return{duration:e.duration??200,delay:0,css:r=>{const a=i(r,[0,1],[e.y??5,0]),s=i(r,[0,1],[e.x??0,0]),u=i(r,[0,1],[e.start??.95,1]);return l({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:r})},easing:nm}};function _t(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function Nl(t){return t<10?"0"+t:t}function om(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${Nl(o)}:${Nl(n)}:${Nl(e)}`}function ye(t){return te.findIndex(e=>e.id===t)}function ys(t){return te.find(e=>e.id===t)}function ws(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function Kt(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function Dn(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ks(t,e=!0){return t=_t(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function $n(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let l=0;l<i.length;l++){let r=i[l][0],a=i[l][1];if(r>=0&&r<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[r][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&te[n.plots[t][e].type].id=="farm"))return!0}return!1}function im(t,e,n,o){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],l=!0;for(let r=0;r<o.length;r++){let a=!1;if(o[r]=="water"&&$n(t,e,n,!0)){a=!0;break}for(let s=0;s<i.length;s++){let u=i[s][0],f=i[s][1];if(u>=0&&u<n.plots.length&&f>=0&&f<n.plots[0].length&&n.plots[u][f].active==!0&&n.plots[u][f].type>0&&te[n.plots[u][f].type].id==o[r]){a=!0;break}}if(!a){l=!1;break}}return l}function lm(t,e=0){let n=t*.95,o=t*1.05;return _t(Math.random()*(o-n)+n,e)}const or=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:150,weekly_effect:t=>(t.modifiers.happiness*=1.1,t.modifiers.health*=1.1,t.resources.food-=2*Ge("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.2,t.modifiers.health*=1.2),t)},{id:"healthy_mining",description:"Healthy mining. Miners must mine with proper ventilation, but they move like molasses.",cost:250,weekly_effect:t=>(te.find(e=>e.id==="mine"),t.modifiers.health*=1.1,t.resources.stone-=5*Ge("quarry",t).length,t.resources.stone-=7*Ge("mine",t).length,t.resources.metal-=15*Ge("mine",t).length,t)},{id:"complicated_tax_forms",description:"Complicated Tax Forms. You sneak in a clause to charge 5% more in taxes. Now, if you adjust your tax rate 5% higher, they won't be upset. This can be enacted multiple times to stack.",cost:500,weekly_effect:t=>(t.economyAndLaws.max_tax_rate+=.05,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="complicated_tax_forms"),t)},{id:"legalize_it",description:"Legalize it. You legalize a substance that makes people happy, but it also gives them 'the munchies'. Food consumption and happiness go up.",cost:350,weekly_effect:t=>(t.resources.food-=Math.round(.2*t.townInfo.population_count),t.modifiers.happiness*=1.1,t)},{id:"park_upgrade",description:"Park upgrade. You hold a community forum and add the top 5 things that the people want in their parks. This increases happiness for each park.",cost:350,weekly_effect:t=>(t.townInfo.happiness+=2*Ge("park",t).length,t)},{id:"career_politician",description:"Career Politician. You hire a career politician to help you with your town. They cost the town $100 per week, but they earn bureaucracy points faster.",cost:200,weekly_effect:t=>(t.resources.bureaucracy+=25,t)},{id:"the_big_wood_deal",description:"The Big Wood Deal. This law allows you to sell all of the wood in your town for $2/wood at once. This won't make the town happy, but may be necessary in a pinch. Can be enacted multiple times to sell to other buyers.",cost:200,weekly_effect:t=>(t.townInfo.gold+=2*t.resources.wood,t.resources.wood=0,t.resource_rate.wood=0,t.townInfo.happiness*=.8,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="the_big_wood_deal"),t)},{id:"picky_eating_liege",description:"Picky Eater Liege. There is some food that the town makes that you just really hate. By passing this law, you insist that they sell off that gross food for $1/food every week. You won't make as much food, but you won't have to eat it either.",cost:200,weekly_effect:t=>{const e=Ge("farm",t).length*2,n=Math.floor(Math.random()*(.15*e-.05*e)+.05*e);return t.resources.food-=n,t.townInfo.gold+=n,t.townInfo.happiness=.95*t.townInfo.happiness,t}},{id:"stone_statue",description:"Stone Statue. You insist that we use ALL of our stone to build a massive statue. We lose all of our stone, but for some reason, the town has perfect health for a while.",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=10,t)},{id:"out_of_town",description:"Out of town. Everyone needs a vacation, right? When this is enacted, EVERYONE must leave the town for 10 days. During this time, no resources are produced, no taxes are collected, and you must take ",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=10,t)}];var it=(t=>(t[t.GOOD=0]="GOOD",t[t.BAD=1]="BAD",t[t.NORMAL=2]="NORMAL",t))(it||{});const Cs=30;function rm(t){return t=cm(t),t=t,t}function sm(t){const e=[()=>t.townInfo.happiness<100?"I heard that the town is unhappy. We miss our churches and parks...":"",()=>t.townInfo.health<100?"My kids keep getting sick, probably not enough farms around here!":"",()=>t.townInfo.happiness<50?"I'm thinking of moving out if things don't improve soon!":"",()=>t.townInfo.employees<t.townInfo.population_count?"I am unemployed and I hate it here":"",()=>t.townInfo.knowledge_points<100?"I wish we had more schools!":"",()=>t.economyAndLaws.tax_rate>t.economyAndLaws.max_tax_rate?"I wish the taxes were lower, I could use a break!":"",()=>t.townInfo.productivity>100?"I think we should take a day or two to just be chill, we've been working hard!":"",()=>t.economyAndLaws.tax_rate<t.economyAndLaws.max_tax_rate?"We would probably be ok chipping in more gold for village improvements.":""],n=Math.floor(Math.random()*e.length);return e[n]()}function am(t,e,n){return t.resource_rate.food=bt(n.food-e.food,2),t.resource_rate.wood=bt(n.wood-e.wood,2),t.resource_rate.stone=bt(n.stone-e.stone,2),t.resource_rate.metal=bt(n.metal-e.metal,2),t.resource_rate.bureaucracy=bt(n.bureaucracy-e.bureaucracy,2),t}function um(t){return t.hasBank,t}function fm(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let l=Math.random(),r=Math.random()*i;if(l<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=r:e-=r;return e<n&&(e+=Math.random()*r/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function cm(t){if(t.townInfo.population_count<t.townInfo.population_max&&t.townInfo.happiness>50){let e=t.townInfo.population_max-t.townInfo.population_count,n=Math.round(t.townInfo.happiness/100*e);t.townInfo.population_count+=n,t.townInfo.population_count>t.townInfo.population_max&&(t.townInfo.population_count=t.townInfo.population_max),t.townInfo.employees+=n,t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count)}if(t.townInfo.happiness<50&&t.townInfo.population_count>0){let e=Math.round((150-t.townInfo.happiness)/5);t.townInfo.population_count-=e,t.townInfo.employees>0&&(t.townInfo.employees-=e)}else t.townInfo.population_count==t.townInfo.population_max;return t}function ir(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function lr(t){return t.townInfo.happiness<0&&(t.townInfo.happiness=0),t.townInfo.health<0&&(t.townInfo.health=0),t.townInfo.community<0&&(t.townInfo.community=0),t.townInfo.gold<0&&(t.townInfo.gold=0),t.townInfo.employees<0&&(t.townInfo.employees=0),t.townInfo.knowledge_points<0&&(t.townInfo.knowledge_points=0),t.townInfo.population_count<0&&(t.townInfo.population_count=0),t.economyAndLaws.weeklyProfit=bt(t.economyAndLaws.weeklyProfit,0),t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count),t.townInfo.gold=bt(t.townInfo.gold,0),t.townInfo.population_count=bt(t.townInfo.population_count,0),t.townInfo.employees=bt(t.townInfo.employees,0),t.townInfo.population_max=bt(t.townInfo.population_max,0),t.townInfo.happiness=bt(t.townInfo.happiness,2),t.townInfo.health=bt(t.townInfo.health,2),t.townInfo.knowledge_points=bt(t.townInfo.knowledge_points,0),t.townInfo.happiness>t.maximums.happiness&&(t.townInfo.happiness=t.maximums.happiness),t.townInfo.health>t.maximums.health&&(t.townInfo.health=t.maximums.health),t.townInfo.community>300&&(t.townInfo.community=300),t.modifiers.happiness<.5&&(t.modifiers.happiness=.5),t.modifiers.health<.5&&(t.modifiers.health=.5),t.modifiers.community<.5&&(t.modifiers.community=.5),t}function rr(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function dm(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t.townInfo.community*=t.modifiers.community,t}function mt(t,e,n){let o=e.townLog||[];return o.filter(i=>i.message==t).length>0||(o.unshift({message:t,day:e.environment.day,vibe:n}),localStorage.mute!="true"&&new Audio("alert.mp3").play()),e}function bt(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function pm(t,e,n){let o,i,l,r,a;ue(t,zl,g=>n(7,o=g)),ue(t,Ti,g=>n(8,i=g)),ue(t,Gi,g=>n(9,l=g)),ue(t,Et,g=>n(10,r=g)),ue(t,rn,g=>n(11,a=g)),ue(t,Ne,g=>n(12,g));function s(g){g=x(g),g=R(g),g=d(g),g=fm(g),g=Q(g),g=v(g);const H={food:g.resources.food,wood:g.resources.wood,stone:g.resources.stone,metal:g.resources.metal,bureaucracy:g.resources.bureaucracy,power:g.resources.power};g=L(g),g=B(g),g=Y(g),g=F(g),g=ne(g),g=$(g);const j={food:g.resources.food,wood:g.resources.wood,stone:g.resources.stone,metal:g.resources.metal,bureaucracy:g.resources.bureaucracy,power:g.resources.power};return g.environment.day%14===0&&(g=dm(g)),g=am(g,H,j),g}function u(g){return g=um(g),g=h(g),g=z(g),g=rr(g),g=P(g),g=C(g),g=p(g),g}function f(g){return g=Z(g),g=lr(g),g=ir(g),g=E(g),g.overtime==!1&&(g=k(g),g=g),g=b(g),g=G(g),g=m(g),g}function c(){Ne.update(g=>{if(g==null||(g.tick++,g.tick%Cs!==0)||r||!g||g.endGameDetails.msg!==""&&g.overtime==!1||g.townInfo.population_count<=0)return g;try{return g.environment.day+=1,g.environment.day%7===0&&(g=s(g)),g.environment.day%30===0&&(g=u(g)),g.environment.day%90===0&&(g=rm(g)),window.location.search.includes("debug=true")&&console.log(g),g=f(g),g}catch(H){return console.error("Error in game loop:",H),g}})}Ne.subscribe(g=>{g&&localStorage.setItem(Bt,JSON.stringify(g))}),rn.subscribe(g=>{g&&localStorage.setItem(Yo,JSON.stringify(g))});function d(g){let H=!1,j=!1,oe=!1,se=!1;for(let de=0;de<g.plots.length;de++)for(let Be=0;Be<g.plots[de].length;Be++)if(g.plots[de][Be].active==!0&&g.plots[de][Be].type>-1){let Ae=te[g.plots[de][Be].type].id;Ae=="bank"&&(H=!0),Ae=="city_hall"&&(oe=!0),(Ae=="small_hospital"||Ae=="large_hospital")&&(j=!0),Ae=="lab"&&(se=!0)}return g.hasBank=H,g.hasHospital=j,g.hasCityHall=oe,g.hasLab=se,g}function p(g){let H=0,j=0;for(let oe=0;oe<g.plots.length;oe++)for(let se=0;se<g.plots[oe].length;se++)if(g.plots[oe][se].active==!0&&g.plots[oe][se].type>-1){let de=te[g.plots[oe][se].type].type;j++,(de=="recreation"||de=="shop")&&H++}return g.townInfo.recreation=H,j>40&&(H/j<.2?(g.modifiers.happiness*.95,g=mt("The city is growing and citizens are demanding more recreation, look for plots with 🛝 icons.",g,it.BAD)):(g.modifiers.happiness*1.01,g=mt("The city is growing and citizens are happy with the amount of recreation available.",g,it.GOOD))),g}function m(g){for(let H=0;H<g.plots.length;H++)for(let j=0;j<g.plots[H].length;j++)g.plots[H][j].active==!0&&(g.plots[H][j].type=ye(g.plots[H][j].typeId));return g}function h(g){const H=g.townInfo.productivity;let j=1;if(H>50&&H<100)j=1.05;else{if(H==100)return g;H<50?j=1.3:H>100&&H<125?j=.95:H>125&&H<150?j=.9:H>150&&H<175?j=.85:H>175&&H<200&&(j=.75)}const oe=g.townInfo.happiness;return g.townInfo.happiness*=j,j>1?g=mt(`Happiness has gone up by ${Math.round(g.townInfo.happiness/oe*100)}% due to productivity.`,g,it.GOOD):g=mt(`Happiness has gone down by ${100-Math.round(g.townInfo.happiness/oe*100)}% due to productivity.`,g,it.BAD),g}function v(g){return g.endGameDetails!=null||(g.townInfo.happiness<70&&g.last_warning_happiness+365<g.environment.day&&(Rt.set("Your citizens are very unhappy. You should do something about it."),g.last_warning_happiness=g.environment.day),g.townInfo.health<70&&g.last_warning_health+365<g.environment.day&&(Rt.set("Your citizens are very unhealthy. You should do something about it."),g.last_warning_health=g.environment.day)),g}const A=["Abigail","Elijah","Mabel","Silas","Beatrice","Clarence","Dorothy","Edgar","Florence","George","Harriet","Isaac","Josephine","Levi","Matilda","Nathaniel","Olive","Percy","Quincy","Rose","Samuel","Theodore","Ursula","Vincent","Winifred","Xavier","Yvette","Zachary","Amos","Betsy","Cecil","Delia","Emmett","Fanny","Gideon","Hazel","Irving","Jeannette","Karl","Lucinda","Mortimer","Nettie","Otis","Prudence","Rufus","Sophronia","Titus","Ulysses","Vera","Winston","Xenia","Yolanda","Zeke","Ada","Bernard","Cornelia","Duncan","Esther","Fletcher","Genevieve"],w=["Farmer","Blacksmith","Biscuit Sculptor","Baker","Carpenter","Chicken Whisperer","Fisher","Herbalist","Miner","Mason","Mustache Twirler","Brewer","Butcher","Candlemaker","Cloud Watcher","Dressmaker","Gardener","Hunter","Innkeeper","Jeweler","Locksmith","Miller","Painter","Potter","Quilter","Rancher","Saddler","Tanner","Upholsterer","Vintner","Watchmaker","Wheelwright","Wooly Sock Knitter","Yarn Spinner","Zodiac Interpreter","Archivist","Bookbinder","Cobbler","Dyer","Engraver","Fletcher","Glassblower","Haberdasher","Illuminator","Joiner","Knitter","Lace Maker","Mapmaker","Navigator","Orchardist","Potion Tester","Quarryman","Roofer","Soapmaker","Tobacconist","Undertaker","Victualler","Wainwright","Xylographer","Yeoman","Pumpkin Carver","Mud Pie Maker","Folk Tale Teller","Leaf Collector","Sunset Chaser","Dream Interpreter","Star Gazer"];function C(g){for(let H=0;H<g.plots.length;H++)for(let j=0;j<g.plots[H].length;j++)if(so(H,j,g)&&g.plots[H][j].active==!0&&te[g.plots[H][j].type].type=="residential"&&Math.random()<.99){let oe=`👑🏠 ${A[Math.floor(Math.random()*A.length)]} the ${w[Math.floor(Math.random()*w.length)]}: `,se=sm(g);oe+=se,se!=""&&(g=mt(oe,g,it.NORMAL))}return g}function E(g){let H=0;for(let j=0;j<g.plots.length;j++)for(let oe=0;oe<g.plots[j].length;oe++)if(g.plots[j][oe].active==!0&&g.plots[j][oe].type>-1){let se=te[g.plots[j][oe].type].type;(se=="recreation"||se=="shop")&&H++}return g.townInfo.recreation=H,g}function $(g){const H=g.townInfo.population_count;return g.resources.food<H?(g.modifiers.happiness*=.95,g.modifiers.health*=.95,g=mt("There isn't enough food for everyone!",g,it.BAD),g.resources.food=0):(g.townLog=g.townLog.filter(oe=>!oe.message.includes("There isn't enough food for everyone!")),g.resources.food-=H),g.resources.food=Math.round(g.resources.food),g}function L(g){const H=g.townInfo.productivity;let j=1;H<50?j=.5:H>50&&H<100?j=.75:H==100?j=1:H>100&&H<125?j=1.25:H>125&&H<150?j=1.75:H>150&&H<175?j=3:H>175&&H<200&&(j=5),j=lm(j,2);let oe=Ge("lumber_mill",g).length*1.25;oe===0&&(oe=1);for(let se=0;se<g.plots.length;se++)for(let de=0;de<g.plots[se].length;de++)if(g.plots[se][de].active==!0&&g.plots[se][de].type>-1){let Be=$n(se,de,g),Ae=so(se,de,g)?1.5:1,Ye=te[g.plots[se][de].type];Ye.generated_resources!=null&&(g.resources.food+=Math.round(Ye.generated_resources.food*j)*(Be?2:1)*Ae,g.resources.wood+=Math.round(Ye.generated_resources.wood*j*oe)*Ae,g.resources.stone+=Math.round(Ye.generated_resources.stone*j)*Ae,g.resources.metal+=Math.round(Ye.generated_resources.metal*j)*Ae,g.resources.bureaucracy+=Math.round(Ye.generated_resources.bureaucracy*j)*Ae)}return g.resources.food=Math.round(g.resources.food),g.resources.wood=Math.round(g.resources.wood),g.resources.stone=Math.round(g.resources.stone),g.resources.metal=Math.round(g.resources.metal),g.resources.bureaucracy=Math.round(g.resources.bureaucracy),g}var D;(function(g){g.food="food",g.wood="wood",g.stone="stone",g.metal="metal",g.bureaucracy="bureaucracy"})(D||(D={}));function Y(g){for(let H=0;H<g.plots.length;H++)for(let j=0;j<g.plots[H].length;j++)if(g.plots[H][j].active==!0&&g.plots[H][j].type>-1){let oe=te[g.plots[H][j].type],se=!1;Object.keys(oe.active_costs).forEach((de,Be)=>{const Ae=Object.values(oe.active_costs)[Be];de!="power"&&(g.townInfo.gold,de=="gold"?g.townInfo.gold<Ae?se=!0:g.townInfo.gold-=Ae:g.resources[de]<Ae?se=!0:g.resources[de]-=Ae)}),g.plots[H][j].disabled=se,g.plots[H][j].disabled&&(g.townInfo.happiness-=1),se&&te[g.plots[H][j].type].type=="residential"&&(g.townInfo.population_count-=1,g.townInfo.employees-=1)}return g}function F(g){let H=0;for(let j=0;j<g.plots.length;j++)for(let oe=0;oe<g.plots[j].length;oe++)if(g.plots[j][oe].active==!0&&g.plots[j][oe].type>-1){let se=te[g.plots[j][oe].type];se.active_costs.power!=0&&(H-=se.active_costs.power),se.generated_resources.power!=0&&(H+=se.generated_resources.power)}return g.resources.power=H,g.resources.power<0&&(g.modifiers.happiness*.98,g.townInfo.happiness-=5,g=mt("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.",g,it.BAD)),g}function G(g){if(g.devMode)return g;let H=a;for(let j=0;j<lt.length;j++)H.achievements.find(oe=>oe[0]==lt[j].id)==null&&lt[j].check(g)&&(H.achievements.push([lt[j].id,g.environment.day,g.townInfo.name]),Ie(Et,r=!0,r),Ie(Gi,l=!0,l));return rn.update(()=>H),g}let y=!1;function b(g){if(y)return g;for(let H=g.currentTutorialStep;H<g.currentTutorialStep+1;H++)if(On[H].isComplete(g)){Ie(Ti,i=!0,i),y=!0,setTimeout(()=>{Ie(Ti,i=!1,i),g.currentTutorialStep++,g.townInfo.gold+=On[H].goldReward,y=!1},1e3);break}return g}function k(g){return g.townInfo.happiness<=3&&(g.townInfo.happiness=0,g.endGameDetails={msg:$t.happiness_zero,win:!1,still_playing:!1}),g.townInfo.health<=3&&(g.townInfo.health=3,g.endGameDetails={msg:$t.health_zero,win:!1,still_playing:!1}),g.townInfo.population_count<=0&&g.townInfo.population_max>0&&(g.townInfo.population_count=0,g.endGameDetails={msg:$t.population_zero,win:!1,still_playing:!1}),g}function P(g){let H=g.townInfo.population_count-g.townInfo.employees;if(H>0){let j=H*.2;j<15&&(j=15),g.townInfo.happiness-=j,g=mt(H+$t.unemployment_num,g,it.BAD)}else g.townLog=g.townLog.filter(j=>!j.message.includes($t.unemployment_num));return g}function B(g){for(let H=0;H<g.economyAndLaws.enacted.length;H++){let j=or.find(oe=>oe.id==g.economyAndLaws.enacted[H]);j!=null&&j.weekly_effect!=null&&(g=j.weekly_effect(g))}return g}function R(g){let H=g.townInfo.health,j=0;return H>50||H<Math.random()*50&&(H<25?(g=mt($t.sickAndDying,g,it.BAD),g.townInfo.happiness-=10,j=Math.round(g.townInfo.population_count*.1)):(g=mt($t.sickAndLeaving,g,it.BAD),g.townInfo.happiness-=5,j=Math.round(g.townInfo.population_count*.05)),g.townInfo.population_count-=j,g.townInfo.employees-=j),g}function x(g){const H=Math.random();if(g.economyAndLaws.tax_rate>g.economyAndLaws.max_tax_rate&&g.townInfo.population_count>0){let j=1;g.hasBank&&(j=2);const oe=g.difficulty==0?.7:g.difficulty==1?.4:.2;H<oe&&g.economyAndLaws.tax_rate>g.economyAndLaws.max_tax_rate*2*j?(g.modifiers.happiness-=.02,g=mt($t.very_high_tax_rate+"  ("+g.economyAndLaws.tax_rate+"%)",g,it.BAD)):(g.modifiers.happiness-=.01,g=mt($t.high_tax_rate+"  ("+g.economyAndLaws.tax_rate*100+"%)",g,it.BAD))}return g}function Q(g){if(g.modifiers.happiness>1){let j=g.modifiers.happiness-1;g.modifiers.happiness-=j*.1,g.modifiers.happiness<1.02&&(g.modifiers.happiness=1)}if(g.modifiers.community>1){let j=g.modifiers.community-1;g.modifiers.community-=j*.1,g.modifiers.community<1.02&&(g.modifiers.community=1)}if(g.modifiers.health>1)if(Ge("healing_house",g).length>0){g=mt($t.hospital_advantage,g,it.GOOD);let j=g.modifiers.health-1;g.modifiers.health-=j*Ge("healing_house",g).length?.03:.06,g.modifiers.health<1.02&&(g.modifiers.health=1)}else{let j=g.modifiers.health-1;g.modifiers.health-=j*.1,g.modifiers.health<1.02&&(g.modifiers.health=1)}else Ge("healing_house",g).length>0&&(g.modifiers.health+=.1);return g}function Z(g){g.economyAndLaws.weeklyProfit=0;for(let H=0;H<g.plots.length;H++)for(let j=0;j<g.plots[H].length;j++)if(g.plots[H][j].active==!0&&g.plots[H][j].type>-1)if(g.plots[H][j].disabled===!0){const oe=te[g.plots[H][j].type],se=Math.round(ae(oe.revenue_per_week,g,oe.type,H,j)*(g.townInfo.productivity/100)/7);g.townInfo.gold-=se,g.townInfo.happiness-=1,g=mt(`🚨 ${oe.title} at ${j}, ${H} is disabled and costing you $${se} a week! It is also lowering overall happiness by 1. Look at available resources and fix the problem! `,g,it.BAD)}else{const oe=te[g.plots[H][j].type];let se=ae(oe.revenue_per_week,g,oe.type,H,j)*(g.townInfo.productivity/100)/7,de=$n(H,j,g);se*=de?2:1,g.townInfo.gold+=se,g.economyAndLaws.weeklyProfit+=se*7}return g}function z(g){return Ge("mine",g).length>0&&(g.modifiers.health-=.01,Ge("healing_house",g).length==0&&(g=mt("The mine is actively hurting the health of the town. Time to look into a healing house.",g,it.BAD))),g}function ne(g){let H=0;for(let j=0;j<g.plots.length;j++)for(let oe=0;oe<g.plots[j].length;oe++)if(g.plots[j][oe].active==!0&&g.plots[j][oe].type>-1){let se=te[g.plots[j][oe].type],de=so(j,oe,g)?.75:1;se.knowledge_points_per_month!=null&&(g.townInfo.knowledge_points+=Math.round(se.knowledge_points_per_month*de/4),H+=se.knowledge_points_per_month*de/4)}return g.resource_rate.knowledge=bt(H/4,0),g}function ae(g,H,j,oe,se){let de=H.townInfo.happiness/100;de>2?de=2:de<.75&&(de=.75),Ge("village_inn",H).length>0&&j=="shop"&&(de*=2),so(oe,se,H)&&(de*=1.5);let Be=Math.round(g*H.economyAndLaws.tax_rate*(H.townInfo.population_count/H.townInfo.population_max)*de*(H.economyAndLaws.enacted.includes("tax_free")?-1:1));return bt(Be,2)}return fl(async()=>{for(;;)localStorage.reset=="true"&&(Er(),localStorage.setItem("reset","false")),c(),await new Promise(g=>setTimeout(g,o/Cs))}),[c,ir,lr,Q,rr]}class mm extends ve{constructor(e){super(),be(this,e,pm,null,ce,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return ir}get _fixVariables(){return lr}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return rr}}function hm(t){return t[t.length-1]}function gn(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function El(t){return t?!0:void 0}gn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function Cc(t){if(t!==null)return t}function As(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function Rl(t){if(!xo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return At(e)?e:null}const $o=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),Ss=t=>typeof t=="function";ht("empty");function ht(t,e){const{stores:n,action:o,returned:i}=e??{},l=(()=>{if(n&&i)return fn(n,a=>{const s=i(a);if(Ss(s)){const u=(...f)=>$o({...s(...f),[`data-melt-${t}`]:"",action:o??ot});return u.action=o??ot,u}return $o({...s,[`data-melt-${t}`]:"",action:o??ot})});{const a=i,s=a==null?void 0:a();if(Ss(s)){const u=(...f)=>$o({...s(...f),[`data-melt-${t}`]:"",action:o??ot});return u.action=o??ot,As(u)}return As($o({...s,[`data-melt-${t}`]:"",action:o??ot}))}})(),r=o??(()=>{});return r.subscribe=l.subscribe,r}function Ts(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:l}=fn(n,a=>o(a).map(s=>$o({...s,[`data-melt-${t}`]:"",action:i??ot}))),r=i??(()=>{});return r.subscribe=l,r}function ml(t){const e=l=>l?`${t}-${l}`:t,n=l=>`data-melt-${t}${l?`-${l}`:""}`,o=l=>`[data-melt-${t}${l?`-${l}`:""}]`;return{name:e,attribute:n,selector:o,getEl:l=>document.querySelector(o(l))}}const xo=typeof document<"u",Ac=t=>typeof t=="function";function _m(t){return t instanceof Document}function hl(t){return t instanceof Element}function At(t){return t instanceof HTMLElement}function Is(t){return t.pointerType==="touch"}function gm(t){return t!==null&&typeof t=="object"}function bm(t){return gm(t)&&"subscribe"in t}function Yt(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function ot(){}function vt(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(l=>t.addEventListener(l,n,o)),()=>{i.forEach(l=>t.removeEventListener(l,n,o))}}function kt(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const l=ym(r=>n(r));return i.forEach(r=>t.addEventListener(r,l,o)),()=>{i.forEach(r=>t.removeEventListener(r,l,o))}}return()=>void 0}function vm(t){const e=t.currentTarget;if(!At(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function ym(t){return e=>{const n=vm(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function _l(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function ln(t){return{...t,get:()=>lc(t)}}ln.writable=function(t){const e=Ke(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};ln.derived=function(t,e){const n=new Map,o=()=>{const l=Array.isArray(t)?t.map(r=>r.get()):t.get();return e(l)};return{get:o,subscribe:l=>{const r=[];return(Array.isArray(t)?t:[t]).forEach(s=>{r.push(s.subscribe(()=>{l(o())}))}),l(o()),n.set(l,r),()=>{const s=n.get(l);if(s)for(const u of s)u();n.delete(l)}}}};const gl=(t,e)=>{const n=ln(t),o=(l,r)=>{n.update(a=>{const s=l(a);let u=s;return e&&(u=e({curr:a,next:s})),r==null||r(u),u})};return{...n,update:o,set:l=>{o(()=>l)}}};function Lr(t){return new Promise(e=>setTimeout(e,t))}let wm="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",km=(t=21)=>{let e="",n=t;for(;n--;)e+=wm[Math.random()*64|0];return e};function Cm(){return km(10)}function Dr(t){return t.reduce((e,n)=>(e[n]=Cm(),e),{})}const ct={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Sc=()=>typeof window<"u";function Am(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Tc=t=>Sc()&&t.test(Am().toLowerCase()),Sm=()=>Sc()&&!!navigator.maxTouchPoints,Tm=()=>Tc(/^mac/)&&!Sm(),Im=()=>Tc(/mac|iphone|ipad|ipod/i),Mm=()=>Im()&&!Tm();function Om(t){const e=t.slice();return e.sort(Nm),Pm(e)}function Pm(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const l=e[e.length-1],r=e[e.length-2];if((l.x-r.x)*(i.y-r.y)>=(l.y-r.y)*(i.x-r.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const l=n[n.length-1],r=n[n.length-2];if((l.x-r.x)*(i.y-r.y)>=(l.y-r.y)*(i.x-r.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function Nm(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function Em(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function Rm(t){const e=t.flatMap(n=>Em(n));return Om(e)}function Lm(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const l=e[o].x,r=e[o].y,a=e[i].x,s=e[i].y;r>t.y!=s>t.y&&t.x<(a-l)*(t.y-r)/(s-r)+l&&(n=!n)}return n}const Ll="data-melt-scroll-lock";function Ms(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Dm(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function $m(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Fm(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(Ll))return ot;i.setAttribute(Ll,"");const r=n.innerWidth-o.clientWidth,a=()=>Dm(o,"--scrollbar-width",`${r}px`),s=$m(o),u=n.getComputedStyle(i)[s],f=()=>Ms(i,{overflow:"hidden",[s]:`calc(${u} + ${r}px)`}),c=()=>{const{scrollX:p,scrollY:m,visualViewport:h}=n,v=(h==null?void 0:h.offsetLeft)??0,A=(h==null?void 0:h.offsetTop)??0,w=Ms(i,{position:"fixed",overflow:"hidden",top:`${-(m-Math.floor(A))}px`,left:`${-(p-Math.floor(v))}px`,right:"0",[s]:`calc(${u} + ${r}px)`});return()=>{w==null||w(),n.scrollTo(p,m)}},d=[a(),Mm()?c():f()];return()=>{d.forEach(p=>p==null?void 0:p()),i.removeAttribute(Ll)}}const jm=t=>{try{ip(t)}catch{return t}};function Nt(t,e){let n;const o=fn(t,l=>{n==null||n(),n=e(l)}).subscribe(ot),i=()=>{o(),n==null||n()};return jm(i),i}function Fn(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=ln(Ke(i))}),e}function Bm(t){let e=t.parentElement;for(;At(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Ic(t,e){return e!==void 0?e:Bm(t)==="body"?document.body:null}async function Os(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([Lr(1),Mr]),e===void 0){n==null||n.focus();return}const o=Ac(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!At(i))return;i.focus()}else At(o)&&o.focus()}function Dl(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let l=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&l>n&&(l=Math.floor(n/o)*o):l<e?l=e:!isNaN(n)&&l>n&&(l=e+Math.floor((n-e)/o)*o);const r=o.toString(),a=r.indexOf("."),s=a>=0?r.length-a:0;if(s>0){const u=Math.pow(10,s);l=Math.round(l*u)/u}return l}Rn(void 0,t=>{function e(o){t(o),t(void 0)}return vt(document,"pointerup",e,{passive:!1,capture:!0})});const qm=Rn(void 0,t=>{function e(o){o&&o.key===ct.ESCAPE&&t(o),t(void 0)}return vt(document,"keydown",e,{passive:!1})}),Ps=(t,e={})=>{let n=ot;function o(i={}){n();const l={enabled:!0,...i},r=bm(l.enabled)?l.enabled:Rn(l.enabled);n=Yt(qm.subscribe(a=>{var u;if(!a||!lc(r))return;const s=a.target;if(!(!At(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),l.ignore){if(Ac(l.ignore)){if(l.ignore(a))return}else if(Array.isArray(l.ignore)&&l.ignore.length>0&&l.ignore.some(f=>f&&s===f))return}(u=l.handler)==null||u.call(l,a)}}),Nt(r,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},vn=Math.min,It=Math.max,Wi=Math.round,_i=Math.floor,yn=t=>({x:t,y:t}),Gm={left:"right",right:"left",bottom:"top",top:"bottom"},Hm={start:"end",end:"start"};function sr(t,e,n){return It(t,vn(e,n))}function Co(t,e){return typeof t=="function"?t(e):t}function wn(t){return t.split("-")[0]}function Ao(t){return t.split("-")[1]}function Mc(t){return t==="x"?"y":"x"}function $r(t){return t==="y"?"height":"width"}function zo(t){return["top","bottom"].includes(wn(t))?"y":"x"}function Fr(t){return Mc(zo(t))}function Vm(t,e,n){n===void 0&&(n=!1);const o=Ao(t),i=Fr(t),l=$r(i);let r=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(r=Yi(r)),[r,Yi(r)]}function Wm(t){const e=Yi(t);return[ar(t),e,ar(e)]}function ar(t){return t.replace(/start|end/g,e=>Hm[e])}function Ym(t,e,n){const o=["left","right"],i=["right","left"],l=["top","bottom"],r=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?l:r;default:return[]}}function xm(t,e,n,o){const i=Ao(t);let l=Ym(wn(t),n==="start",o);return i&&(l=l.map(r=>r+"-"+i),e&&(l=l.concat(l.map(ar)))),l}function Yi(t){return t.replace(/left|right|bottom|top/g,e=>Gm[e])}function Um(t){return{top:0,right:0,bottom:0,left:0,...t}}function Oc(t){return typeof t!="number"?Um(t):{top:t,right:t,bottom:t,left:t}}function xi(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Ns(t,e,n){let{reference:o,floating:i}=t;const l=zo(e),r=Fr(e),a=$r(r),s=wn(e),u=l==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let p;switch(s){case"top":p={x:f,y:o.y-i.height};break;case"bottom":p={x:f,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:c};break;case"left":p={x:o.x-i.width,y:c};break;default:p={x:o.x,y:o.y}}switch(Ao(e)){case"start":p[r]-=d*(n&&u?-1:1);break;case"end":p[r]+=d*(n&&u?-1:1);break}return p}const Km=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:l=[],platform:r}=n,a=l.filter(Boolean),s=await(r.isRTL==null?void 0:r.isRTL(e));let u=await r.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=Ns(u,o,s),d=o,p={},m=0;for(let h=0;h<a.length;h++){const{name:v,fn:A}=a[h],{x:w,y:C,data:E,reset:$}=await A({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:p,rects:u,platform:r,elements:{reference:t,floating:e}});f=w??f,c=C??c,p={...p,[v]:{...p[v],...E}},$&&m<=50&&(m++,typeof $=="object"&&($.placement&&(d=$.placement),$.rects&&(u=$.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:i}):$.rects),{x:f,y:c}=Ns(u,d,s)),h=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:p}};async function jr(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:l,rects:r,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:p=0}=Co(e,t),m=Oc(p),v=a[d?c==="floating"?"reference":"floating":c],A=xi(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(v)))==null||n?v:v.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),w=c==="floating"?{...r.floating,x:o,y:i}:r.reference,C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(a.floating)),E=await(l.isElement==null?void 0:l.isElement(C))?await(l.getScale==null?void 0:l.getScale(C))||{x:1,y:1}:{x:1,y:1},$=xi(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:C,strategy:s}):w);return{top:(A.top-$.top+m.top)/E.y,bottom:($.bottom-A.bottom+m.bottom)/E.y,left:(A.left-$.left+m.left)/E.x,right:($.right-A.right+m.right)/E.x}}const Xm=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:l,platform:r,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=Co(t,e)||{};if(u==null)return{};const c=Oc(f),d={x:n,y:o},p=Fr(i),m=$r(p),h=await r.getDimensions(u),v=p==="y",A=v?"top":"left",w=v?"bottom":"right",C=v?"clientHeight":"clientWidth",E=l.reference[m]+l.reference[p]-d[p]-l.floating[m],$=d[p]-l.reference[p],L=await(r.getOffsetParent==null?void 0:r.getOffsetParent(u));let D=L?L[C]:0;(!D||!await(r.isElement==null?void 0:r.isElement(L)))&&(D=a.floating[C]||l.floating[m]);const Y=E/2-$/2,F=D/2-h[m]/2-1,G=vn(c[A],F),y=vn(c[w],F),b=G,k=D-h[m]-y,P=D/2-h[m]/2+Y,B=sr(b,P,k),R=!s.arrow&&Ao(i)!=null&&P!==B&&l.reference[m]/2-(P<b?G:y)-h[m]/2<0,x=R?P<b?P-b:P-k:0;return{[p]:d[p]+x,data:{[p]:B,centerOffset:P-B-x,...R&&{alignmentOffset:x}},reset:R}}}),Jm=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:l,rects:r,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:h=!0,...v}=Co(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const A=wn(i),w=wn(a)===a,C=await(s.isRTL==null?void 0:s.isRTL(u.floating)),E=d||(w||!h?[Yi(a)]:Wm(a));!d&&m!=="none"&&E.push(...xm(a,h,m,C));const $=[a,...E],L=await jr(e,v),D=[];let Y=((o=l.flip)==null?void 0:o.overflows)||[];if(f&&D.push(L[A]),c){const b=Vm(i,r,C);D.push(L[b[0]],L[b[1]])}if(Y=[...Y,{placement:i,overflows:D}],!D.every(b=>b<=0)){var F,G;const b=(((F=l.flip)==null?void 0:F.index)||0)+1,k=$[b];if(k)return{data:{index:b,overflows:Y},reset:{placement:k}};let P=(G=Y.filter(B=>B.overflows[0]<=0).sort((B,R)=>B.overflows[1]-R.overflows[1])[0])==null?void 0:G.placement;if(!P)switch(p){case"bestFit":{var y;const B=(y=Y.map(R=>[R.placement,R.overflows.filter(x=>x>0).reduce((x,Q)=>x+Q,0)]).sort((R,x)=>R[1]-x[1])[0])==null?void 0:y[0];B&&(P=B);break}case"initialPlacement":P=a;break}if(i!==P)return{reset:{placement:P}}}return{}}}};async function Zm(t,e){const{placement:n,platform:o,elements:i}=t,l=await(o.isRTL==null?void 0:o.isRTL(i.floating)),r=wn(n),a=Ao(n),s=zo(n)==="y",u=["left","top"].includes(r)?-1:1,f=l&&s?-1:1,c=Co(e,t);let{mainAxis:d,crossAxis:p,alignmentAxis:m}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),s?{x:p*f,y:d*u}:{x:d*u,y:p*f}}const Qm=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:l,placement:r,middlewareData:a}=e,s=await Zm(e,t);return r===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:l+s.y,data:{...s,placement:r}}}}},zm=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:l=!0,crossAxis:r=!1,limiter:a={fn:v=>{let{x:A,y:w}=v;return{x:A,y:w}}},...s}=Co(t,e),u={x:n,y:o},f=await jr(e,s),c=zo(wn(i)),d=Mc(c);let p=u[d],m=u[c];if(l){const v=d==="y"?"top":"left",A=d==="y"?"bottom":"right",w=p+f[v],C=p-f[A];p=sr(w,p,C)}if(r){const v=c==="y"?"top":"left",A=c==="y"?"bottom":"right",w=m+f[v],C=m-f[A];m=sr(w,m,C)}const h=a.fn({...e,[d]:p,[c]:m});return{...h,data:{x:h.x-n,y:h.y-o}}}}},eh=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:l}=e,{apply:r=()=>{},...a}=Co(t,e),s=await jr(e,a),u=wn(n),f=Ao(n),c=zo(n)==="y",{width:d,height:p}=o.floating;let m,h;u==="top"||u==="bottom"?(m=u,h=f===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(h=u,m=f==="end"?"top":"bottom");const v=p-s[m],A=d-s[h],w=!e.middlewareData.shift;let C=v,E=A;if(c){const L=d-s.left-s.right;E=f||w?vn(A,L):L}else{const L=p-s.top-s.bottom;C=f||w?vn(v,L):L}if(w&&!f){const L=It(s.left,0),D=It(s.right,0),Y=It(s.top,0),F=It(s.bottom,0);c?E=d-2*(L!==0||D!==0?L+D:It(s.left,s.right)):C=p-2*(Y!==0||F!==0?Y+F:It(s.top,s.bottom))}await r({...e,availableWidth:E,availableHeight:C});const $=await i.getDimensions(l.floating);return d!==$.width||p!==$.height?{reset:{rects:!0}}:{}}}};function kn(t){return Pc(t)?(t.nodeName||"").toLowerCase():"#document"}function Mt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function cn(t){var e;return(e=(Pc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Pc(t){return t instanceof Node||t instanceof Mt(t).Node}function sn(t){return t instanceof Element||t instanceof Mt(t).Element}function Xt(t){return t instanceof HTMLElement||t instanceof Mt(t).HTMLElement}function Es(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Mt(t).ShadowRoot}function ei(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Lt(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function th(t){return["table","td","th"].includes(kn(t))}function Br(t){const e=qr(),n=Lt(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function nh(t){let e=go(t);for(;Xt(e)&&!bl(e);){if(Br(e))return e;e=go(e)}return null}function qr(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bl(t){return["html","body","#document"].includes(kn(t))}function Lt(t){return Mt(t).getComputedStyle(t)}function vl(t){return sn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function go(t){if(kn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Es(t)&&t.host||cn(t);return Es(e)?e.host:e}function Nc(t){const e=go(t);return bl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xt(e)&&ei(e)?e:Nc(e)}function Uo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Nc(t),l=i===((o=t.ownerDocument)==null?void 0:o.body),r=Mt(i);return l?e.concat(r,r.visualViewport||[],ei(i)?i:[],r.frameElement&&n?Uo(r.frameElement):[]):e.concat(i,Uo(i,[],n))}function Ec(t){const e=Lt(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Xt(t),l=i?t.offsetWidth:n,r=i?t.offsetHeight:o,a=Wi(n)!==l||Wi(o)!==r;return a&&(n=l,o=r),{width:n,height:o,$:a}}function Gr(t){return sn(t)?t:t.contextElement}function po(t){const e=Gr(t);if(!Xt(e))return yn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:l}=Ec(e);let r=(l?Wi(n.width):n.width)/o,a=(l?Wi(n.height):n.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!a||!Number.isFinite(a))&&(a=1),{x:r,y:a}}const oh=yn(0);function Rc(t){const e=Mt(t);return!qr()||!e.visualViewport?oh:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ih(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Mt(t)?!1:e}function jn(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),l=Gr(t);let r=yn(1);e&&(o?sn(o)&&(r=po(o)):r=po(t));const a=ih(l,n,o)?Rc(l):yn(0);let s=(i.left+a.x)/r.x,u=(i.top+a.y)/r.y,f=i.width/r.x,c=i.height/r.y;if(l){const d=Mt(l),p=o&&sn(o)?Mt(o):o;let m=d,h=m.frameElement;for(;h&&o&&p!==m;){const v=po(h),A=h.getBoundingClientRect(),w=Lt(h),C=A.left+(h.clientLeft+parseFloat(w.paddingLeft))*v.x,E=A.top+(h.clientTop+parseFloat(w.paddingTop))*v.y;s*=v.x,u*=v.y,f*=v.x,c*=v.y,s+=C,u+=E,m=Mt(h),h=m.frameElement}}return xi({width:f,height:c,x:s,y:u})}const lh=[":popover-open",":modal"];function Lc(t){return lh.some(e=>{try{return t.matches(e)}catch{return!1}})}function rh(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const l=i==="fixed",r=cn(o),a=e?Lc(e.floating):!1;if(o===r||a&&l)return n;let s={scrollLeft:0,scrollTop:0},u=yn(1);const f=yn(0),c=Xt(o);if((c||!c&&!l)&&((kn(o)!=="body"||ei(r))&&(s=vl(o)),Xt(o))){const d=jn(o);u=po(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function sh(t){return Array.from(t.getClientRects())}function Dc(t){return jn(cn(t)).left+vl(t).scrollLeft}function ah(t){const e=cn(t),n=vl(t),o=t.ownerDocument.body,i=It(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),l=It(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let r=-n.scrollLeft+Dc(t);const a=-n.scrollTop;return Lt(o).direction==="rtl"&&(r+=It(e.clientWidth,o.clientWidth)-i),{width:i,height:l,x:r,y:a}}function uh(t,e){const n=Mt(t),o=cn(t),i=n.visualViewport;let l=o.clientWidth,r=o.clientHeight,a=0,s=0;if(i){l=i.width,r=i.height;const u=qr();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:l,height:r,x:a,y:s}}function fh(t,e){const n=jn(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,l=Xt(t)?po(t):yn(1),r=t.clientWidth*l.x,a=t.clientHeight*l.y,s=i*l.x,u=o*l.y;return{width:r,height:a,x:s,y:u}}function Rs(t,e,n){let o;if(e==="viewport")o=uh(t,n);else if(e==="document")o=ah(cn(t));else if(sn(e))o=fh(e,n);else{const i=Rc(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return xi(o)}function $c(t,e){const n=go(t);return n===e||!sn(n)||bl(n)?!1:Lt(n).position==="fixed"||$c(n,e)}function ch(t,e){const n=e.get(t);if(n)return n;let o=Uo(t,[],!1).filter(a=>sn(a)&&kn(a)!=="body"),i=null;const l=Lt(t).position==="fixed";let r=l?go(t):t;for(;sn(r)&&!bl(r);){const a=Lt(r),s=Br(r);!s&&a.position==="fixed"&&(i=null),(l?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ei(r)&&!s&&$c(t,r))?o=o.filter(f=>f!==r):i=a,r=go(r)}return e.set(t,o),o}function dh(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const r=[...n==="clippingAncestors"?ch(e,this._c):[].concat(n),o],a=r[0],s=r.reduce((u,f)=>{const c=Rs(e,f,i);return u.top=It(c.top,u.top),u.right=vn(c.right,u.right),u.bottom=vn(c.bottom,u.bottom),u.left=It(c.left,u.left),u},Rs(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function ph(t){const{width:e,height:n}=Ec(t);return{width:e,height:n}}function mh(t,e,n){const o=Xt(e),i=cn(e),l=n==="fixed",r=jn(t,!0,l,e);let a={scrollLeft:0,scrollTop:0};const s=yn(0);if(o||!o&&!l)if((kn(e)!=="body"||ei(i))&&(a=vl(e)),o){const c=jn(e,!0,l,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=Dc(i));const u=r.left+a.scrollLeft-s.x,f=r.top+a.scrollTop-s.y;return{x:u,y:f,width:r.width,height:r.height}}function Ls(t,e){return!Xt(t)||Lt(t).position==="fixed"?null:e?e(t):t.offsetParent}function Fc(t,e){const n=Mt(t);if(!Xt(t)||Lc(t))return n;let o=Ls(t,e);for(;o&&th(o)&&Lt(o).position==="static";)o=Ls(o,e);return o&&(kn(o)==="html"||kn(o)==="body"&&Lt(o).position==="static"&&!Br(o))?n:o||nh(t)||n}const hh=async function(t){const e=this.getOffsetParent||Fc,n=this.getDimensions;return{reference:mh(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function _h(t){return Lt(t).direction==="rtl"}const gh={convertOffsetParentRelativeRectToViewportRelativeRect:rh,getDocumentElement:cn,getClippingRect:dh,getOffsetParent:Fc,getElementRects:hh,getClientRects:sh,getDimensions:ph,getScale:po,isElement:sn,isRTL:_h};function bh(t,e){let n=null,o;const i=cn(t);function l(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function r(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),l();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const p=_i(f),m=_i(i.clientWidth-(u+c)),h=_i(i.clientHeight-(f+d)),v=_i(u),w={rootMargin:-p+"px "+-m+"px "+-h+"px "+-v+"px",threshold:It(0,vn(1,s))||1};let C=!0;function E($){const L=$[0].intersectionRatio;if(L!==s){if(!C)return r();L?r(!1,L):o=setTimeout(()=>{r(!1,1e-7)},100)}C=!1}try{n=new IntersectionObserver(E,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,w)}n.observe(t)}return r(!0),l}function vh(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=Gr(t),f=i||l?[...u?Uo(u):[],...Uo(e)]:[];f.forEach(A=>{i&&A.addEventListener("scroll",n,{passive:!0}),l&&A.addEventListener("resize",n)});const c=u&&a?bh(u,n):null;let d=-1,p=null;r&&(p=new ResizeObserver(A=>{let[w]=A;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var C;(C=p)==null||C.observe(e)})),n()}),u&&!s&&p.observe(u),p.observe(e));let m,h=s?jn(t):null;s&&v();function v(){const A=jn(t);h&&(A.x!==h.x||A.y!==h.y||A.width!==h.width||A.height!==h.height)&&n(),h=A,m=requestAnimationFrame(v)}return n(),()=>{var A;f.forEach(w=>{i&&w.removeEventListener("scroll",n),l&&w.removeEventListener("resize",n)}),c==null||c(),(A=p)==null||A.disconnect(),p=null,s&&cancelAnimationFrame(m)}}const yh=zm,wh=Jm,kh=eh,Ch=Xm,Ah=(t,e,n)=>{const o=new Map,i={platform:gh,...n},l={...i.platform,_c:o};return Km(t,e,{...i,platform:l})},Sh={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},Th={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Ih(t,e,n={}){if(!e||!t||n===null)return{destroy:ot};const o={...Sh,...n},i=e.querySelector("[data-arrow=true]"),l=[];o.flip&&l.push(wh({boundary:o.boundary,padding:o.overflowPadding}));const r=At(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=r),l.push(Qm(s))}l.push(yh({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&l.push(Ch({element:i,padding:8})),l.push(kh({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;Ah(t,e,{placement:s,middleware:l,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),At(i)&&f.middlewareData.arrow){const{x:p,y:m}=f.middlewareData.arrow,h=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:p!=null?`${p}px`:"",top:m!=null?`${m}px`:"",[h]:`calc(100% - ${r}px)`,transform:Th[h],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:vh(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var jc=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ui=jc.join(","),Bc=typeof Element>"u",Bn=Bc?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ki=!Bc&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Xi=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),l=i===""||i==="true",r=l||n&&e&&t(e.parentNode);return r},Mh=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},qc=function(e,n,o){if(Xi(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Ui));return n&&Bn.call(e,Ui)&&i.unshift(e),i=i.filter(o),i},Gc=function t(e,n,o){for(var i=[],l=Array.from(e);l.length;){var r=l.shift();if(!Xi(r,!1))if(r.tagName==="SLOT"){var a=r.assignedElements(),s=a.length?a:r.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:r,candidates:u})}else{var f=Bn.call(r,Ui);f&&o.filter(r)&&(n||!e.includes(r))&&i.push(r);var c=r.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(r),d=!Xi(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(r));if(c&&d){var p=t(c===!0?r.children:c.children,!0,o);o.flatten?i.push.apply(i,p):i.push({scopeParent:r,candidates:p})}else l.unshift.apply(l,r.children)}}return i},Hc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Mn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Mh(e))&&!Hc(e)?0:e.tabIndex},Oh=function(e,n){var o=Mn(e);return o<0&&n&&!Hc(e)?0:o},Ph=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Vc=function(e){return e.tagName==="INPUT"},Nh=function(e){return Vc(e)&&e.type==="hidden"},Eh=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},Rh=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},Lh=function(e){if(!e.name)return!0;var n=e.form||Ki(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(r){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",r.message),!1}var l=Rh(i,e.form);return!l||l===e},Dh=function(e){return Vc(e)&&e.type==="radio"},$h=function(e){return Dh(e)&&!Lh(e)},Fh=function(e){var n,o=e&&Ki(e),i=(n=o)===null||n===void 0?void 0:n.host,l=!1;if(o&&o!==e){var r,a,s;for(l=!!((r=i)!==null&&r!==void 0&&(a=r.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!l&&i;){var u,f,c;o=Ki(i),i=(u=o)===null||u===void 0?void 0:u.host,l=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return l},Ds=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},jh=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var l=Bn.call(e,"details>summary:first-of-type"),r=l?e.parentElement:e;if(Bn.call(r,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=Ki(e);if(s&&!s.shadowRoot&&i(s)===!0)return Ds(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(Fh(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return Ds(e);return!1},Bh=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return Bn.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},Ji=function(e,n){return!(n.disabled||Xi(n)||Nh(n)||jh(n,e)||Eh(n)||Bh(n))},ur=function(e,n){return!($h(n)||Mn(n)<0||!Ji(e,n))},qh=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Gh=function t(e){var n=[],o=[];return e.forEach(function(i,l){var r=!!i.scopeParent,a=r?i.scopeParent:i,s=Oh(a,r),u=r?t(i.candidates):a;s===0?r?n.push.apply(n,u):n.push(a):o.push({documentOrder:l,tabIndex:s,item:i,isScope:r,content:u})}),o.sort(Ph).reduce(function(i,l){return l.isScope?i.push.apply(i,l.content):i.push(l.content),i},[]).concat(n)},Hh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Gc([e],n.includeContainer,{filter:ur.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:qh}):o=qc(e,n.includeContainer,ur.bind(null,n)),Gh(o)},Vh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Gc([e],n.includeContainer,{filter:Ji.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=qc(e,n.includeContainer,Ji.bind(null,n)),o},io=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Bn.call(e,Ui)===!1?!1:ur(n,e)},Wh=jc.concat("iframe").join(","),$l=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Bn.call(e,Wh)===!1?!1:Ji(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function $s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function Fs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$s(Object(n),!0).forEach(function(o){Yh(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Yh(t,e,n){return e=Uh(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xh(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uh(t){var e=xh(t,"string");return typeof e=="symbol"?e:String(e)}var js={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},Kh=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Xh=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Vo=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Jh=function(e){return Vo(e)&&!e.shiftKey},Zh=function(e){return Vo(e)&&e.shiftKey},Bs=function(e){return setTimeout(e,0)},qs=function(e,n){var o=-1;return e.every(function(i,l){return n(i)?(o=l,!1):!0}),o},Ro=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},gi=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Qh=[],zh=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||Qh,l=Fs({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Jh,isKeyBackward:Zh},n),r={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(b,k,P){return b&&b[k]!==void 0?b[k]:l[P||k]},u=function(b,k){var P=typeof(k==null?void 0:k.composedPath)=="function"?k.composedPath():void 0;return r.containerGroups.findIndex(function(B){var R=B.container,x=B.tabbableNodes;return R.contains(b)||(P==null?void 0:P.includes(R))||x.find(function(Q){return Q===b})})},f=function(b){var k=l[b];if(typeof k=="function"){for(var P=arguments.length,B=new Array(P>1?P-1:0),R=1;R<P;R++)B[R-1]=arguments[R];k=k.apply(void 0,B)}if(k===!0&&(k=void 0),!k){if(k===void 0||k===!1)return k;throw new Error("`".concat(b,"` was specified but was not a node, or did not return a node"))}var x=k;if(typeof k=="string"&&(x=o.querySelector(k),!x))throw new Error("`".concat(b,"` as selector refers to no known node"));return x},c=function(){var b=f("initialFocus");if(b===!1)return!1;if(b===void 0||!$l(b,l.tabbableOptions))if(u(o.activeElement)>=0)b=o.activeElement;else{var k=r.tabbableGroups[0],P=k&&k.firstTabbableNode;b=P||f("fallbackFocus")}if(!b)throw new Error("Your focus-trap needs to have at least one focusable element");return b},d=function(){if(r.containerGroups=r.containers.map(function(b){var k=Hh(b,l.tabbableOptions),P=Vh(b,l.tabbableOptions),B=k.length>0?k[0]:void 0,R=k.length>0?k[k.length-1]:void 0,x=P.find(function(z){return io(z)}),Q=P.slice().reverse().find(function(z){return io(z)}),Z=!!k.find(function(z){return Mn(z)>0});return{container:b,tabbableNodes:k,focusableNodes:P,posTabIndexesFound:Z,firstTabbableNode:B,lastTabbableNode:R,firstDomTabbableNode:x,lastDomTabbableNode:Q,nextTabbableNode:function(ne){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,g=k.indexOf(ne);return g<0?ae?P.slice(P.indexOf(ne)+1).find(function(H){return io(H)}):P.slice(0,P.indexOf(ne)).reverse().find(function(H){return io(H)}):k[g+(ae?1:-1)]}}}),r.tabbableGroups=r.containerGroups.filter(function(b){return b.tabbableNodes.length>0}),r.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(r.containerGroups.find(function(b){return b.posTabIndexesFound})&&r.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function y(b){var k=b.activeElement;if(k)return k.shadowRoot&&k.shadowRoot.activeElement!==null?y(k.shadowRoot):k},m=function y(b){if(b!==!1&&b!==p(document)){if(!b||!b.focus){y(c());return}b.focus({preventScroll:!!l.preventScroll}),r.mostRecentlyFocusedNode=b,Kh(b)&&b.select()}},h=function(b){var k=f("setReturnFocus",b);return k||(k===!1?!1:b)},v=function(b){var k=b.target,P=b.event,B=b.isBackward,R=B===void 0?!1:B;k=k||gi(P),d();var x=null;if(r.tabbableGroups.length>0){var Q=u(k,P),Z=Q>=0?r.containerGroups[Q]:void 0;if(Q<0)R?x=r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:x=r.tabbableGroups[0].firstTabbableNode;else if(R){var z=qs(r.tabbableGroups,function(oe){var se=oe.firstTabbableNode;return k===se});if(z<0&&(Z.container===k||$l(k,l.tabbableOptions)&&!io(k,l.tabbableOptions)&&!Z.nextTabbableNode(k,!1))&&(z=Q),z>=0){var ne=z===0?r.tabbableGroups.length-1:z-1,ae=r.tabbableGroups[ne];x=Mn(k)>=0?ae.lastTabbableNode:ae.lastDomTabbableNode}else Vo(P)||(x=Z.nextTabbableNode(k,!1))}else{var g=qs(r.tabbableGroups,function(oe){var se=oe.lastTabbableNode;return k===se});if(g<0&&(Z.container===k||$l(k,l.tabbableOptions)&&!io(k,l.tabbableOptions)&&!Z.nextTabbableNode(k))&&(g=Q),g>=0){var H=g===r.tabbableGroups.length-1?0:g+1,j=r.tabbableGroups[H];x=Mn(k)>=0?j.firstTabbableNode:j.firstDomTabbableNode}else Vo(P)||(x=Z.nextTabbableNode(k))}}else x=f("fallbackFocus");return x},A=function(b){var k=gi(b);if(!(u(k,b)>=0)){if(Ro(l.clickOutsideDeactivates,b)){a.deactivate({returnFocus:l.returnFocusOnDeactivate});return}Ro(l.allowOutsideClick,b)||b.preventDefault()}},w=function(b){var k=gi(b),P=u(k,b)>=0;if(P||k instanceof Document)P&&(r.mostRecentlyFocusedNode=k);else{b.stopImmediatePropagation();var B,R=!0;if(r.mostRecentlyFocusedNode)if(Mn(r.mostRecentlyFocusedNode)>0){var x=u(r.mostRecentlyFocusedNode),Q=r.containerGroups[x].tabbableNodes;if(Q.length>0){var Z=Q.findIndex(function(z){return z===r.mostRecentlyFocusedNode});Z>=0&&(l.isKeyForward(r.recentNavEvent)?Z+1<Q.length&&(B=Q[Z+1],R=!1):Z-1>=0&&(B=Q[Z-1],R=!1))}}else r.containerGroups.some(function(z){return z.tabbableNodes.some(function(ne){return Mn(ne)>0})})||(R=!1);else R=!1;R&&(B=v({target:r.mostRecentlyFocusedNode,isBackward:l.isKeyBackward(r.recentNavEvent)})),m(B||r.mostRecentlyFocusedNode||c())}r.recentNavEvent=void 0},C=function(b){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.recentNavEvent=b;var P=v({event:b,isBackward:k});P&&(Vo(b)&&b.preventDefault(),m(P))},E=function(b){if(Xh(b)&&Ro(l.escapeDeactivates,b)!==!1){b.preventDefault(),a.deactivate();return}(l.isKeyForward(b)||l.isKeyBackward(b))&&C(b,l.isKeyBackward(b))},$=function(b){var k=gi(b);u(k,b)>=0||Ro(l.clickOutsideDeactivates,b)||Ro(l.allowOutsideClick,b)||(b.preventDefault(),b.stopImmediatePropagation())},L=function(){if(r.active)return js.activateTrap(i,a),r.delayInitialFocusTimer=l.delayInitialFocus?Bs(function(){m(c())}):m(c()),o.addEventListener("focusin",w,!0),o.addEventListener("mousedown",A,{capture:!0,passive:!1}),o.addEventListener("touchstart",A,{capture:!0,passive:!1}),o.addEventListener("click",$,{capture:!0,passive:!1}),o.addEventListener("keydown",E,{capture:!0,passive:!1}),a},D=function(){if(r.active)return o.removeEventListener("focusin",w,!0),o.removeEventListener("mousedown",A,!0),o.removeEventListener("touchstart",A,!0),o.removeEventListener("click",$,!0),o.removeEventListener("keydown",E,!0),a},Y=function(b){var k=b.some(function(P){var B=Array.from(P.removedNodes);return B.some(function(R){return R===r.mostRecentlyFocusedNode})});k&&m(c())},F=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Y):void 0,G=function(){F&&(F.disconnect(),r.active&&!r.paused&&r.containers.map(function(b){F.observe(b,{subtree:!0,childList:!0})}))};return a={get active(){return r.active},get paused(){return r.paused},activate:function(b){if(r.active)return this;var k=s(b,"onActivate"),P=s(b,"onPostActivate"),B=s(b,"checkCanFocusTrap");B||d(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=o.activeElement,k==null||k();var R=function(){B&&d(),L(),G(),P==null||P()};return B?(B(r.containers.concat()).then(R,R),this):(R(),this)},deactivate:function(b){if(!r.active)return this;var k=Fs({onDeactivate:l.onDeactivate,onPostDeactivate:l.onPostDeactivate,checkCanReturnFocus:l.checkCanReturnFocus},b);clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,D(),r.active=!1,r.paused=!1,G(),js.deactivateTrap(i,a);var P=s(k,"onDeactivate"),B=s(k,"onPostDeactivate"),R=s(k,"checkCanReturnFocus"),x=s(k,"returnFocus","returnFocusOnDeactivate");P==null||P();var Q=function(){Bs(function(){x&&m(h(r.nodeFocusedBeforeActivation)),B==null||B()})};return x&&R?(R(h(r.nodeFocusedBeforeActivation)).then(Q,Q),this):(Q(),this)},pause:function(b){if(r.paused||!r.active)return this;var k=s(b,"onPause"),P=s(b,"onPostPause");return r.paused=!0,k==null||k(),D(),G(),P==null||P(),this},unpause:function(b){if(!r.paused||!r.active)return this;var k=s(b,"onUnpause"),P=s(b,"onPostUnpause");return r.paused=!1,k==null||k(),d(),L(),G(),P==null||P(),this},updateContainerElements:function(b){var k=[].concat(b).filter(Boolean);return r.containers=k.map(function(P){return typeof P=="string"?o.querySelector(P):P}),r.active&&d(),G(),this}},a.updateContainerElements(e),a};function e_(t={}){let e;const{immediate:n,...o}=t,i=Ke(!1),l=Ke(!1),r=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),l.set(!0))},u=()=>{e&&(e.unpause(),l.set(!1))};return{useFocusTrap:c=>(e=zh(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&r(),{destroy(){a(),e=void 0}}),hasFocus:ps(i),isPaused:ps(l),activate:r,deactivate:a,pause:s,unpause:u}}const bi=[];function t_(t,e){let n=ot;function o(){const l=bi.indexOf(t);l>=0&&bi.splice(l,1)}function i(l){n();const{open:r,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=l;Lr(100).then(()=>{r?bi.push(t):o()});function f(){return hm(bi)===t}function c(){f()&&a&&(a(),o())}function d(m){const h=m.target;hl(h)&&h&&f()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation())}function p(m){s!=null&&s(m)&&f()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation(),c())}n=n_(t,{onInteractOutsideStart:d,onInteractOutside:u?p:void 0,enabled:r}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const Wc=(t,e="body")=>{let n;if(!At(e)&&typeof e!="string")return{destroy:ot};async function o(l){if(e=l,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Mr(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function n_(t,e){let n=ot,o=!1,i=!1,l=!1;function r(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function p(v){f&&Gs(v,t)&&(c==null||c(v));const A=v.target;hl(A)&&Yc(t,A)&&(i=!0),o=!0}function m(v){f==null||f(v)}const h=o_(t);if(typeof PointerEvent<"u"){const v=A=>{a(A)&&m(A),s()};n=Yt(vt(h,"pointerdown",p,!0),vt(h,"pointerup",v,!0))}else{const v=w=>{l?l=!1:a(w)&&m(w),s()},A=w=>{l=!0,a(w)&&m(w),s()};n=Yt(vt(h,"mousedown",p,!0),vt(h,"mouseup",v,!0),vt(h,"touchstart",p,!0),vt(h,"touchend",A,!0))}}function a(u){return!!(o&&!i&&Gs(u,t))}function s(){o=!1,i=!1}return r(e),{update:r,destroy:n}}function Gs(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!hl(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!Yc(e,n)}function Yc(t,e){return t===e||t.contains(e)}function o_(t){return(t==null?void 0:t.ownerDocument)??document}Rn(!1),Rn(!1),Rn(void 0);function i_(){return{elements:{root:ht("label",{action:e=>({destroy:kt(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:Tn}=ml("dialog"),l_={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},r_=["content","title","description"];function xc(t){const e={...l_,...t},n=Fn(_l(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:l,role:r,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=ln.writable(null),p=Fn({...Dr(r_),...e.ids}),m=e.open??Ke(e.defaultOpen),h=gl(m,e==null?void 0:e.onOpenChange),v=fn([h,s],([y,b])=>y||b);let A=ot;function w(y){const b=y.currentTarget,k=y.currentTarget;!At(b)||!At(k)||(h.set(!0),d.set(k))}function C(){h.set(!1),Os({prop:f.get(),defaultEl:d.get()})}const E=ht(Tn("trigger"),{stores:[h],returned:([y])=>({"aria-haspopup":"dialog","aria-expanded":y,type:"button"}),action:y=>({destroy:Yt(kt(y,"click",k=>{w(k)}),kt(y,"keydown",k=>{k.key!==ct.ENTER&&k.key!==ct.SPACE||(k.preventDefault(),w(k))}))})}),$=ht(Tn("overlay"),{stores:[v,h],returned:([y,b])=>({hidden:y?void 0:!0,tabindex:-1,style:gn({display:y?void 0:"none"}),"aria-hidden":!0,"data-state":b?"open":"closed"}),action:y=>{let b=ot;if(i.get()){const k=Ps(y,{handler:()=>{C()}});k&&k.destroy&&(b=k.destroy)}return{destroy(){b()}}}}),L=ht(Tn("content"),{stores:[v,p.content,p.description,p.title,h],returned:([y,b,k,P,B])=>({id:b,role:r.get(),"aria-describedby":k,"aria-labelledby":P,"aria-modal":y?"true":void 0,"data-state":B?"open":"closed",tabindex:-1,hidden:y?void 0:!0,style:gn({display:y?void 0:"none"})}),action:y=>{let b=ot,k=ot;const P=Yt(Nt([h],([B])=>{if(!B)return;const R=e_({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:y});b=R.activate,k=R.deactivate;const x=R.useFocusTrap(y);return x&&x.destroy?x.destroy:R.deactivate}),Nt([l,h],([B,R])=>t_(y,{open:R,closeOnInteractOutside:B,onClose(){C()},shouldCloseOnInteractOutside(x){var Q;return(Q=c.get())==null||Q(x),!x.defaultPrevented}}).destroy),Nt([i],([B])=>{if(!B)return ot;const R=Ps(y,{handler:()=>{C()}});return R&&R.destroy?R.destroy:ot}),Nt([v],([B])=>{Mr().then(()=>{B?b():k()})}));return{destroy:()=>{A(),P()}}}}),D=ht(Tn("portalled"),{stores:a,returned:y=>({"data-portal":Cc(y)}),action:y=>{const b=Nt([a],([k])=>{if(k===null)return ot;const P=Ic(y,k);if(P===null)return ot;const B=Wc(y,P);return B&&B.destroy?B.destroy:ot});return{destroy(){b()}}}}),Y=ht(Tn("title"),{stores:[p.title],returned:([y])=>({id:y})}),F=ht(Tn("description"),{stores:[p.description],returned:([y])=>({id:y})}),G=ht(Tn("close"),{returned:()=>({type:"button"}),action:y=>({destroy:Yt(kt(y,"click",()=>{C()}),kt(y,"keydown",k=>{k.key!==ct.SPACE&&k.key!==ct.ENTER||(k.preventDefault(),C())}))})});return Nt([h,o],([y,b])=>{if(xo){if(b&&y&&(A=Fm()),y){const k=document.getElementById(p.content.get());Os({prop:u.get(),defaultEl:k})}return()=>{s.get()||A()}}}),{ids:p,elements:{content:L,trigger:E,title:Y,description:F,overlay:$,close:G,portalled:D},states:{open:h},options:n}}const s_={defaultValue:0,max:100},{name:a_}=ml("progress"),u_=t=>{const e={...s_,...t},n=Fn(_l(e,"value")),{max:o}=n,i=e.value??Ke(e.defaultValue),l=gl(i,e==null?void 0:e.onValueChange);return{elements:{root:ht(a_(),{stores:[l,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:l},options:n}},f_={orientation:"horizontal",decorative:!1},c_=t=>{const e={...f_,...t},n=Fn(e),{orientation:o,decorative:i}=n;return{elements:{root:ht("separator",{stores:[o,i],returned:([r,a])=>({role:a?"none":"separator","aria-orientation":r==="vertical"?r:void 0,"aria-hidden":a,"data-orientation":r})})},options:n}},d_={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:vi}=ml("slider"),p_=t=>{const e={...d_,...t},n=Fn(_l(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:l,orientation:r,dir:a,disabled:s}=n,u=e.value??Ke(e.defaultValue),f=gl(u,e==null?void 0:e.onValueChange),c=ln(Ke(!1)),d=ln(Ke(0)),p=ln(Ke(null)),m=Dr(["root"]),h=(D,Y)=>{f.update(F=>{if(!F)return[D];if(F[Y]===D)return F;const G=[...F],y=G[Y]>D?-1:1;function b(){G[Y]=G[Y+y],G[Y+y]=D;const R=v();R&&(R[Y+y].focus(),p.set({thumb:R[Y+y],index:Y+y}))}if(y===-1&&D<G[Y-1])return b(),G;if(y===1&&D>G[Y+1])return b(),G;const k=o.get(),P=i.get(),B=l.get();return G[Y]=Dl(D,k,P,B),G})},v=()=>{const D=Rl(m.root);return D?Array.from(D.querySelectorAll('[data-melt-part="thumb"]')).filter(Y=>At(Y)):null},A=fn([o,i],([D,Y])=>F=>(F-D)/(Y-D)*100),w=ln.derived([r,a],([D,Y])=>D==="horizontal"?Y==="rtl"?"rl":"lr":Y==="rtl"?"tb":"bt"),C=ht(vi(),{stores:[s,r,a],returned:([D,Y,F])=>({dir:F,disabled:El(D),"data-disabled":El(D),"data-orientation":Y,style:D?void 0:`touch-action: ${Y==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":m.root})}),E=ht(vi("range"),{stores:[f,w,A],returned:([D,Y,F])=>{const G=D.length>1?F(Math.min(...D)??0):0,y=100-F(Math.max(...D)??0),b={position:"absolute"};switch(Y){case"lr":{b.left=`${G}%`,b.right=`${y}%`;break}case"rl":{b.right=`${G}%`,b.left=`${y}%`;break}case"bt":{b.bottom=`${G}%`,b.top=`${y}%`;break}case"tb":{b.top=`${G}%`,b.bottom=`${y}%`;break}}return{style:gn(b)}}}),$=Ts(vi("thumb"),{stores:[f,A,o,i,s,r,w],returned:([D,Y,F,G,y,b,k])=>Array.from({length:D.length||1},(B,R)=>{d.get()<D.length&&d.update(ne=>ne+1);const Q=D[R],Z=`${Y(Q)}%`,z={position:"absolute"};switch(k){case"lr":{z.left=Z,z.translate="-50% 0";break}case"rl":{z.right=Z,z.translate="50% 0";break}case"bt":{z.bottom=Z,z.translate="0 50%";break}case"tb":{z.top=Z,z.translate="0 -50%";break}}return{role:"slider","aria-valuemin":F,"aria-valuemax":G,"aria-valuenow":Q,"aria-disabled":El(y),"aria-orientation":b,"data-melt-part":"thumb","data-value":Q,style:gn(z),tabindex:y?-1:0}}),action:D=>({destroy:kt(D,"keydown",F=>{if(s.get())return;const G=F.currentTarget;if(!At(G))return;const y=v();if(!(y!=null&&y.length))return;const b=y.indexOf(G);if(d.set(b),![ct.ARROW_LEFT,ct.ARROW_RIGHT,ct.ARROW_UP,ct.ARROW_DOWN,ct.HOME,ct.END].includes(F.key))return;F.preventDefault();const k=o.get(),P=i.get(),B=l.get(),R=f.get(),x=r.get(),Q=w.get(),Z=R[b];switch(F.key){case ct.HOME:{h(k,b);break}case ct.END:{h(P,b);break}case ct.ARROW_LEFT:{if(x!=="horizontal")break;F.metaKey?h(Q==="rl"?P:k,b):Q==="rl"&&Z<P?h(Z+B,b):Q==="lr"&&Z>k&&h(Z-B,b);break}case ct.ARROW_RIGHT:{if(x!=="horizontal")break;F.metaKey?h(Q==="rl"?k:P,b):Q==="rl"&&Z>k?h(Z-B,b):Q==="lr"&&Z<P&&h(Z+B,b);break}case ct.ARROW_UP:{F.metaKey?h(Q==="tb"?k:P,b):Q==="tb"&&Z>k?h(Z-B,b):Q!=="tb"&&Z<P&&h(Z+B,b);break}case ct.ARROW_DOWN:{F.metaKey?h(Q==="tb"?P:k,b):Q==="tb"&&Z<P?h(Z+B,b):Q!=="tb"&&Z>k&&h(Z-B,b);break}}})})}),L=Ts(vi("tick"),{stores:[f,o,i,l,w],returned:([D,Y,F,G,y])=>{const b=F-Y;let k=Math.ceil(b/G);return b%G==0&&k++,Array.from({length:k},(P,B)=>{const R=`${B*(G/(F-Y))*100}%`,x=B===0,Q=B===k-1,Z=x?0:Q?-100:-50,z={position:"absolute"};switch(y){case"lr":{z.left=R,z.translate=`${Z}% 0`;break}case"rl":{z.right=R,z.translate=`${-Z}% 0`;break}case"bt":{z.bottom=R,z.translate=`0 ${-Z}%`;break}case"tb":{z.top=R,z.translate=`0 ${Z}%`;break}}const ne=Y+B*G;return{"data-bounded":(D.length===1?ne<=D[0]:D[0]<=ne&&ne<=D[D.length-1])?!0:void 0,"data-value":ne,style:gn(z)}})}});return Nt([C,o,i,s,r,w,l],([D,Y,F,G,y,b,k])=>{if(!xo||G)return;const P=(z,ne,ae,g)=>{const j=(z-ae)/(g-ae)*(F-Y)+Y;if(j<Y)h(Y,ne);else if(j>F)h(F,ne);else{const oe=k,se=Y,de=Math.floor((j-se)/oe),Be=se+de*oe+oe/2,Ae=se+(de+1)*oe+oe/2,Ye=j>=Be&&j<Ae?(de+1)*oe+se:de*oe+se;Ye<=F&&h(Ye,ne)}},B=z=>{const ne=v();if(!ne)return;ne.forEach(j=>j.blur());const ae=ne.map(j=>{if(y==="horizontal"){const{left:oe,right:se}=j.getBoundingClientRect();return Math.abs(z.clientX-(oe+se)/2)}else{const{top:oe,bottom:se}=j.getBoundingClientRect();return Math.abs(z.clientY-(oe+se)/2)}}),g=ne[ae.indexOf(Math.min(...ae))],H=ne.indexOf(g);return{thumb:g,index:H}},R=z=>{if(!c.get())return;z.preventDefault(),z.stopPropagation();const ne=Rl(D["data-melt-id"]),ae=p.get();if(!ne||!ae)return;ae.thumb.focus();const{left:g,right:H,top:j,bottom:oe}=ne.getBoundingClientRect();switch(b){case"lr":{P(z.clientX,ae.index,g,H);break}case"rl":{P(z.clientX,ae.index,H,g);break}case"bt":{P(z.clientY,ae.index,oe,j);break}case"tb":{P(z.clientY,ae.index,j,oe);break}}},x=z=>{if(z.button!==0)return;const ne=Rl(D["data-melt-id"]),ae=B(z);if(!ae||!ne)return;const g=z.target;!At(g)||!ne.contains(g)||(z.preventDefault(),p.set(ae),ae.thumb.focus(),c.set(!0),R(z))},Q=()=>{c.set(!1)},Z=Yt(vt(document,"pointerdown",x),vt(document,"pointerup",Q),vt(document,"pointerleave",Q),vt(document,"pointermove",R));return()=>{Z()}}),Nt([l,o,i,f],function([Y,F,G,y]){const b=P=>Dl(P,F,G,Y)===P,k=P=>Dl(P,F,G,Y);y.some(P=>!b(P))&&f.update(P=>P.map(k))}),{elements:{root:C,thumbs:$,range:E,ticks:L},states:{value:f},options:n}},m_={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:Fl}=ml("tooltip"),yi=new Map,h_=["trigger","content"];function __(t){const e={...m_,...t},n=Fn(_l(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:l,openDelay:r,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,p=e.open??Ke(e.defaultOpen),m=gl(p,e==null?void 0:e.onOpenChange),h=Ke(null),v=Fn({...Dr(h_),...e.ids});let A=!1;const w=b=>xo?document.getElementById(v[b].get()):null;let C=null,E=null;function $(b){E&&(window.clearTimeout(E),E=null),C||(C=window.setTimeout(()=>{m.set(!0),h.update(k=>k??b),C=null},r.get()))}function L(b){if(C&&(window.clearTimeout(C),C=null),b&&y){h.set("pointer");return}E||(E=window.setTimeout(()=>{m.set(!1),h.set(null),b&&(A=!1),E=null},a.get()))}const D=fn([m,s],([b,k])=>b||k),Y=ht(Fl("trigger"),{stores:[v.content,v.trigger,m],returned:([b,k,P])=>({"aria-describedby":b,id:k,"data-state":P?"open":"closed"}),action:b=>{const k=B=>{f.get()&&B.key===ct.ESCAPE&&(C&&(window.clearTimeout(C),C=null),m.set(!1))};return{destroy:Yt(kt(b,"pointerdown",()=>{l.get()&&(m.set(!1),A=!0,C&&(window.clearTimeout(C),C=null))}),kt(b,"pointerenter",B=>{Is(B)||$("pointer")}),kt(b,"pointerleave",B=>{Is(B)||C&&(window.clearTimeout(C),C=null)}),kt(b,"focus",()=>{A||$("focus")}),kt(b,"blur",async()=>{await Lr(0),L(!0)}),kt(b,"keydown",k),vt(document,"keydown",k))}}}),F=ht(Fl("content"),{stores:[D,m,u,v.content],returned:([b,k,P,B])=>({role:"tooltip",hidden:b?void 0:!0,tabindex:-1,style:gn({display:b?void 0:"none"}),id:B,"data-portal":Cc(P),"data-state":k?"open":"closed"}),action:b=>{let k=ot,P=ot;const B=Nt([D,o,u],([Q,Z,z])=>{const ne=w("trigger");if(!Q||!ne){P(),k();return}if(k=Ih(ne,b,Z).destroy,z===null){P();return}const g=Ic(b,z);if(g){const H=Wc(b,g);H&&H.destroy&&(P=H.destroy)}});function R(Q){if(!m.get())return;const Z=Q.target;if(!hl(Z)&&!_m(Z))return;const z=w("trigger");z&&Z.contains(z)&&L()}const x=Yt(kt(b,"pointerenter",()=>$("pointer")),kt(b,"pointerdown",()=>$("pointer")),vt(window,"scroll",R,{capture:!0}));return{destroy(){x(),P(),k(),B()}}}}),G=ht(Fl("arrow"),{stores:i,returned:b=>({"data-arrow":!0,style:gn({position:"absolute",width:`var(--arrow-size, ${b}px)`,height:`var(--arrow-size, ${b}px)`})})});let y=!1;return Nt(m,b=>{const k=d.get();if(k===void 0||k===!1)return;if(!b){yi.get(k)===m&&yi.delete(k);return}const P=yi.get(k);P==null||P.set(!1),yi.set(k,m)}),Nt([m,h],([b,k])=>{if(!(!b||!xo))return Yt(vt(document,"mousemove",P=>{const B=w("content"),R=w("trigger");if(!B||!R)return;const x=c.get()?[R]:[R,B],Q=Rm(x);y=Lm({x:P.clientX,y:P.clientY},Q),k==="pointer"&&(y||L())}))}),{ids:v,elements:{trigger:Y,content:F,arrow:G},states:{open:m},options:n}}function Wn(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Yn(){const t=lp();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function So(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function qn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function Uc(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function g_(t){const{NAME:e,PARTS:n}=Uc(),o=Wn(e,n),i=xc({...So(t),role:"alertdialog",forceVisible:!0}),l={...i,getAttrs:o,updateOption:qn(i.options)};return cl(e,l),{...l,updateOption:qn(l.options),getAttrs:o}}function xn(){const{NAME:t}=Uc();return dl(t)}const b_=t=>({ids:t&1}),Hs=t=>({ids:t[0]});function v_(t){let e;const n=t[12].default,o=me(n,t,t[11],Hs);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,[l]){o&&o.p&&(!e||l&2049)&&_e(o,n,i,i[11],e?he(n,i[11],l,b_):ge(i[11]),Hs)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function y_(t,e,n){let o,{$$slots:i={},$$scope:l}=e,{preventScroll:r=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:p=void 0}=e,{onOutsideClick:m=void 0}=e;const{states:{open:h},updateOption:v,ids:A}=g_({closeOnEscape:a,preventScroll:r,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:p,onOutsideClick:m,onOpenChange:({next:C})=>(f!==C&&(c==null||c(C),n(2,f=C)),C)}),w=fn([A.content,A.description,A.title],([C,E,$])=>({content:C,description:E,title:$}));return ue(t,w,C=>n(0,o=C)),t.$$set=C=>{"preventScroll"in C&&n(3,r=C.preventScroll),"closeOnEscape"in C&&n(4,a=C.closeOnEscape),"closeOnOutsideClick"in C&&n(5,s=C.closeOnOutsideClick),"portal"in C&&n(6,u=C.portal),"open"in C&&n(2,f=C.open),"onOpenChange"in C&&n(7,c=C.onOpenChange),"openFocus"in C&&n(8,d=C.openFocus),"closeFocus"in C&&n(9,p=C.closeFocus),"onOutsideClick"in C&&n(10,m=C.onOutsideClick),"$$scope"in C&&n(11,l=C.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&h.set(f),t.$$.dirty&8&&v("preventScroll",r),t.$$.dirty&16&&v("closeOnEscape",a),t.$$.dirty&32&&v("closeOnOutsideClick",s),t.$$.dirty&64&&v("portal",u),t.$$.dirty&256&&v("openFocus",d),t.$$.dirty&512&&v("closeFocus",p),t.$$.dirty&1024&&v("onOutsideClick",m)},[o,w,f,r,a,s,u,c,d,p,m,l,i]}class w_ extends ve{constructor(e){super(),be(this,e,y_,v_,ce,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const k_=t=>({builder:t&8}),Vs=t=>({builder:t[3]}),C_=t=>({builder:t&8}),Ws=t=>({builder:t[3]});function A_(t){let e=t[1],n,o,i=t[1]&&jl(t);return{c(){i&&i.c(),n=Le()},m(l,r){i&&i.m(l,r),I(l,n,r),o=!0},p(l,r){l[1]?e?ce(e,l[1])?(i.d(1),i=jl(l),e=l[1],i.c(),i.m(n.parentNode,n)):i.p(l,r):(i=jl(l),e=l[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=l[1])},i(l){o||(S(i,l),o=!0)},o(l){M(i,l),o=!1},d(l){l&&T(n),i&&i.d(l)}}}function S_(t){let e;const n=t[9].default,o=me(n,t,t[8],Ws);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&264)&&_e(o,n,i,i[8],e?he(n,i[8],l,C_):ge(i[8]),Ws)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function jl(t){let e,n,o,i;const l=t[9].default,r=me(l,t,t[8],Vs);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=O(t[1]),r&&r.c(),bn(t[1])(e,s)},m(u,f){I(u,e,f),r&&r.m(e,null),t[10](e),n=!0,o||(i=je(t[3].action(e)),o=!0)},p(u,f){r&&r.p&&(!n||f&264)&&_e(r,l,u,u[8],n?he(l,u[8],f,k_):ge(u[8]),Vs),bn(u[1])(e,s=we(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(S(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&T(e),r&&r.d(u),t[10](null),o=!1,i()}}}function T_(t){let e,n,o,i;const l=[S_,A_],r=[];function a(s,u){return s[2]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Le()},m(s,u){r[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o))},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),r[e].d(s)}}}function I_(t,e,n){let o;const i=["level","asChild","id","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:p},ids:m,getAttrs:h}=xn();ue(t,p,w=>n(7,r=w));const v=h("title");function A(w){Ee[w?"unshift":"push"](()=>{d=w,n(0,d)})}return t.$$set=w=>{e=J(J({},e),Re(w)),n(5,l=re(e,i)),"level"in w&&n(1,u=w.level),"asChild"in w&&n(2,f=w.asChild),"id"in w&&n(6,c=w.id),"el"in w&&n(0,d=w.el),"$$scope"in w&&n(8,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&m.title.set(c),t.$$.dirty&128&&n(3,o=r),t.$$.dirty&8&&Object.assign(o,v)},[d,u,f,o,p,l,c,r,s,a,A]}let M_=class extends ve{constructor(e){super(),be(this,e,I_,T_,ce,{level:1,asChild:2,id:6,el:0})}};const O_=t=>({builder:t&4}),Ys=t=>({builder:t[2]}),P_=t=>({builder:t&4}),xs=t=>({builder:t[2]});function N_(t){let e,n,o,i;const l=t[8].default,r=me(l,t,t[7],Ys);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=O("button"),r&&r.c(),fe(e,s)},m(u,f){I(u,e,f),r&&r.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){r&&r.p&&(!n||f&132)&&_e(r,l,u,u[7],n?he(l,u[7],f,O_):ge(u[7]),Ys),fe(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(S(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&T(e),r&&r.d(u),t[9](null),o=!1,$e(i)}}}function E_(t){let e;const n=t[8].default,o=me(n,t,t[7],xs);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&132)&&_e(o,n,i,i[7],e?he(n,i[7],l,P_):ge(i[7]),xs)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function R_(t){let e,n,o,i;const l=[E_,N_],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Le()},m(s,u){r[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o))},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),r[e].d(s)}}}function L_(t,e,n){let o;const i=["asChild","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=xn();ue(t,c,v=>n(6,r=v));const p=Yn(),m=d("action");function h(v){Ee[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=J(J({},e),Re(v)),n(5,l=re(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,p,l,r,s,a,h]}let D_=class extends ve{constructor(e){super(),be(this,e,L_,R_,ce,{asChild:1,el:0})}};const $_=t=>({builder:t&4}),Us=t=>({builder:t[2]}),F_=t=>({builder:t&4}),Ks=t=>({builder:t[2]});function j_(t){let e,n,o,i;const l=t[8].default,r=me(l,t,t[7],Us);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=O("button"),r&&r.c(),fe(e,s)},m(u,f){I(u,e,f),r&&r.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){r&&r.p&&(!n||f&132)&&_e(r,l,u,u[7],n?he(l,u[7],f,$_):ge(u[7]),Us),fe(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(S(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&T(e),r&&r.d(u),t[9](null),o=!1,$e(i)}}}function B_(t){let e;const n=t[8].default,o=me(n,t,t[7],Ks);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&132)&&_e(o,n,i,i[7],e?he(n,i[7],l,F_):ge(i[7]),Ks)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function q_(t){let e,n,o,i;const l=[B_,j_],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Le()},m(s,u){r[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o))},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),r[e].d(s)}}}function G_(t,e,n){let o;const i=["asChild","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=xn();ue(t,c,v=>n(6,r=v));const p=Yn(),m=d("cancel");function h(v){Ee[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=J(J({},e),Re(v)),n(5,l=re(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,p,l,r,s,a,h]}let H_=class extends ve{constructor(e){super(),be(this,e,G_,q_,ce,{asChild:1,el:0})}};const V_=t=>({builder:t&4}),Xs=t=>({builder:t[2]}),W_=t=>({builder:t&4}),Js=t=>({builder:t[2]});function Y_(t){let e,n,o,i;const l=t[7].default,r=me(l,t,t[6],Xs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=O("div"),r&&r.c(),fe(e,s)},m(u,f){I(u,e,f),r&&r.m(e,null),t[8](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){r&&r.p&&(!n||f&68)&&_e(r,l,u,u[6],n?he(l,u[6],f,V_):ge(u[6]),Xs),fe(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(S(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&T(e),r&&r.d(u),t[8](null),o=!1,i()}}}function x_(t){let e;const n=t[7].default,o=me(n,t,t[6],Js);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&68)&&_e(o,n,i,i[6],e?he(n,i[6],l,W_):ge(i[6]),Js)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function U_(t){let e,n,o,i;const l=[x_,Y_],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Le()},m(s,u){r[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o))},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),r[e].d(s)}}}function K_(t,e,n){let o;const i=["asChild","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=xn();ue(t,c,h=>n(5,r=h));const p=d("portal");function m(h){Ee[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=J(J({},e),Re(h)),n(4,l=re(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,l,r,s,a,m]}let X_=class extends ve{constructor(e){super(),be(this,e,K_,U_,ce,{asChild:1,el:0})}};const J_=t=>({builder:t[0]&256}),Zs=t=>({builder:t[8]}),Z_=t=>({builder:t[0]&256}),Qs=t=>({builder:t[8]}),Q_=t=>({builder:t[0]&256}),zs=t=>({builder:t[8]}),z_=t=>({builder:t[0]&256}),ea=t=>({builder:t[8]}),e0=t=>({builder:t[0]&256}),ta=t=>({builder:t[8]}),t0=t=>({builder:t[0]&256}),na=t=>({builder:t[8]});function n0(t){let e,n,o,i;const l=t[16].default,r=me(l,t,t[15],Zs);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=O("div"),r&&r.c(),fe(e,s)},m(u,f){I(u,e,f),r&&r.m(e,null),t[56](e),n=!0,o||(i=[je(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],o=!0)},p(u,f){r&&r.p&&(!n||f[0]&33024)&&_e(r,l,u,u[15],n?he(l,u[15],f,J_):ge(u[15]),Zs),fe(e,s=we(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(S(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&T(e),r&&r.d(u),t[56](null),o=!1,$e(i)}}}function o0(t){let e,n,o,i,l;const r=t[16].default,a=me(r,t,t[15],Qs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=O("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(l=[je(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,r,t,t[15],o?he(r,t[15],c,Z_):ge(t[15]),Qs),fe(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(S(a,f),n&&n.end(1),o=!0)},o(f){M(a,f),f&&(n=Zt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,$e(l)}}}function i0(t){let e,n,o,i,l;const r=t[16].default,a=me(r,t,t[15],zs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=O("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(l=[je(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,r,t,t[15],o?he(r,t[15],c,Q_):ge(t[15]),zs),fe(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(S(a,f),f&&(n||st(()=>{n=Jt(e,t[3],t[4]),n.start()})),o=!0)},o(f){M(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,$e(l)}}}function l0(t){let e,n,o,i,l,r;const a=t[16].default,s=me(a,t,t[15],ea);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=J(f,u[c]);return{c(){e=O("div"),s&&s.c(),fe(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[53](e),i=!0,l||(r=[je(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],l=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&_e(s,a,t,t[15],i?he(a,t[15],d,z_):ge(t[15]),ea),fe(e,f=we(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(S(s,c),c&&st(()=>{i&&(o&&o.end(1),n=Jt(e,t[3],t[4]),n.start())}),i=!0)},o(c){M(s,c),n&&n.invalidate(),c&&(o=Zt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),l=!1,$e(r)}}}function r0(t){let e,n,o,i,l;const r=t[16].default,a=me(r,t,t[15],ta);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=O("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(l=[je(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,r,t,t[15],o?he(r,t[15],c,e0):ge(t[15]),ta),fe(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(S(a,f),f&&st(()=>{o&&(n||(n=Ut(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){M(a,f),f&&(n||(n=Ut(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,$e(l)}}}function s0(t){let e;const n=t[16].default,o=me(n,t,t[15],na);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l[0]&33024)&&_e(o,n,i,i[15],e?he(n,i[15],l,t0):ge(i[15]),na)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function a0(t){let e,n,o,i;const l=[s0,r0,l0,i0,o0,n0],r=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=r[e]=l[e](t)),{c(){n&&n.c(),o=Le()},m(s,u){~e&&r[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&r[e].p(s,u):(n&&(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe()),~e?(n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),~e&&r[e].d(s)}}}function u0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let l=re(e,i),r,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:h=void 0}=e,{id:v=void 0}=e,{asChild:A=!1}=e,{el:w=void 0}=e;const{elements:{content:C},states:{open:E},ids:$,getAttrs:L}=xn();ue(t,C,W=>n(14,r=W)),ue(t,E,W=>n(9,a=W));const D=L("content");function Y(W){ie.call(this,t,W)}function F(W){ie.call(this,t,W)}function G(W){ie.call(this,t,W)}function y(W){ie.call(this,t,W)}function b(W){ie.call(this,t,W)}function k(W){ie.call(this,t,W)}function P(W){ie.call(this,t,W)}function B(W){ie.call(this,t,W)}function R(W){ie.call(this,t,W)}function x(W){ie.call(this,t,W)}function Q(W){ie.call(this,t,W)}function Z(W){ie.call(this,t,W)}function z(W){ie.call(this,t,W)}function ne(W){ie.call(this,t,W)}function ae(W){ie.call(this,t,W)}function g(W){ie.call(this,t,W)}function H(W){ie.call(this,t,W)}function j(W){ie.call(this,t,W)}function oe(W){ie.call(this,t,W)}function se(W){ie.call(this,t,W)}function de(W){ie.call(this,t,W)}function Be(W){ie.call(this,t,W)}function Ae(W){ie.call(this,t,W)}function Ye(W){ie.call(this,t,W)}function ke(W){ie.call(this,t,W)}function Ve(W){ie.call(this,t,W)}function We(W){ie.call(this,t,W)}function xe(W){ie.call(this,t,W)}function Ze(W){ie.call(this,t,W)}function Xe(W){ie.call(this,t,W)}function Pe(W){ie.call(this,t,W)}function Je(W){ie.call(this,t,W)}function Se(W){ie.call(this,t,W)}function De(W){ie.call(this,t,W)}function Dt(W){ie.call(this,t,W)}function Pt(W){Ee[W?"unshift":"push"](()=>{w=W,n(0,w)})}function gt(W){Ee[W?"unshift":"push"](()=>{w=W,n(0,w)})}function ze(W){Ee[W?"unshift":"push"](()=>{w=W,n(0,w)})}function pe(W){Ee[W?"unshift":"push"](()=>{w=W,n(0,w)})}function Qe(W){Ee[W?"unshift":"push"](()=>{w=W,n(0,w)})}return t.$$set=W=>{e=J(J({},e),Re(W)),n(12,l=re(e,i)),"transition"in W&&n(1,f=W.transition),"transitionConfig"in W&&n(2,c=W.transitionConfig),"inTransition"in W&&n(3,d=W.inTransition),"inTransitionConfig"in W&&n(4,p=W.inTransitionConfig),"outTransition"in W&&n(5,m=W.outTransition),"outTransitionConfig"in W&&n(6,h=W.outTransitionConfig),"id"in W&&n(13,v=W.id),"asChild"in W&&n(7,A=W.asChild),"el"in W&&n(0,w=W.el),"$$scope"in W&&n(15,u=W.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&v&&$.content.set(v),t.$$.dirty[0]&16384&&n(8,o=r),t.$$.dirty[0]&256&&Object.assign(o,D)},[w,f,c,d,p,m,h,A,o,a,C,E,l,v,r,u,s,Y,F,G,y,b,k,P,B,R,x,Q,Z,z,ne,ae,g,H,j,oe,se,de,Be,Ae,Ye,ke,Ve,We,xe,Ze,Xe,Pe,Je,Se,De,Dt,Pt,gt,ze,pe,Qe]}let f0=class extends ve{constructor(e){super(),be(this,e,u0,a0,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const c0=t=>({builder:t&256}),oa=t=>({builder:t[8]});function d0(t){let e,n,o,i=[t[8],t[12]],l={};for(let r=0;r<i.length;r+=1)l=J(l,i[r]);return{c(){e=O("div"),fe(e,l)},m(r,a){I(r,e,a),t[20](e),n||(o=je(t[8].action(e)),n=!0)},p(r,a){fe(e,l=we(i,[a&256&&r[8],a&4096&&r[12]]))},i:Ce,o:Ce,d(r){r&&T(e),t[20](null),n=!1,o()}}}function p0(t){let e,n,o,i,l,r=[t[8],t[12]],a={};for(let s=0;s<r.length;s+=1)a=J(a,r[s]);return{c(){e=O("div"),fe(e,a)},m(s,u){I(s,e,u),t[19](e),o=!0,i||(l=je(t[8].action(e)),i=!0)},p(s,u){t=s,fe(e,a=we(r,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Zt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[19](null),s&&n&&n.end(),i=!1,l()}}}function m0(t){let e,n,o,i,l=[t[8],t[12]],r={};for(let a=0;a<l.length;a+=1)r=J(r,l[a]);return{c(){e=O("div"),fe(e,r)},m(a,s){I(a,e,s),t[18](e),o||(i=je(t[8].action(e)),o=!0)},p(a,s){t=a,fe(e,r=we(l,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||st(()=>{n=Jt(e,t[3],t[4]),n.start()}))},o:Ce,d(a){a&&T(e),t[18](null),o=!1,i()}}}function h0(t){let e,n,o,i,l,r,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=O("div"),fe(e,s)},m(u,f){I(u,e,f),t[17](e),i=!0,l||(r=je(t[8].action(e)),l=!0)},p(u,f){t=u,fe(e,s=we(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&st(()=>{i&&(o&&o.end(1),n=Jt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Zt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[17](null),u&&o&&o.end(),l=!1,r()}}}function _0(t){let e,n,o,i,l,r=[t[8],t[12]],a={};for(let s=0;s<r.length;s+=1)a=J(a,r[s]);return{c(){e=O("div"),fe(e,a)},m(s,u){I(s,e,u),t[16](e),o=!0,i||(l=je(t[8].action(e)),i=!0)},p(s,u){t=s,fe(e,a=we(r,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&st(()=>{o&&(n||(n=Ut(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Ut(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[16](null),s&&n&&n.end(),i=!1,l()}}}function g0(t){let e;const n=t[15].default,o=me(n,t,t[14],oa);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&16640)&&_e(o,n,i,i[14],e?he(n,i[14],l,c0):ge(i[14]),oa)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function b0(t){let e,n,o,i;const l=[g0,_0,h0,m0,p0,d0],r=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=r[e]=l[e](t)),{c(){n&&n.c(),o=Le()},m(s,u){~e&&r[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&r[e].p(s,u):(n&&(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe()),~e?(n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),~e&&r[e].d(s)}}}function v0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let l=re(e,i),r,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:v=!1}=e,{el:A=void 0}=e;const{elements:{overlay:w},states:{open:C},getAttrs:E}=xn();ue(t,w,y=>n(13,r=y)),ue(t,C,y=>n(9,a=y));const $=E("overlay");function L(y){Ee[y?"unshift":"push"](()=>{A=y,n(0,A)})}function D(y){Ee[y?"unshift":"push"](()=>{A=y,n(0,A)})}function Y(y){Ee[y?"unshift":"push"](()=>{A=y,n(0,A)})}function F(y){Ee[y?"unshift":"push"](()=>{A=y,n(0,A)})}function G(y){Ee[y?"unshift":"push"](()=>{A=y,n(0,A)})}return t.$$set=y=>{e=J(J({},e),Re(y)),n(12,l=re(e,i)),"transition"in y&&n(1,f=y.transition),"transitionConfig"in y&&n(2,c=y.transitionConfig),"inTransition"in y&&n(3,d=y.inTransition),"inTransitionConfig"in y&&n(4,p=y.inTransitionConfig),"outTransition"in y&&n(5,m=y.outTransition),"outTransitionConfig"in y&&n(6,h=y.outTransitionConfig),"asChild"in y&&n(7,v=y.asChild),"el"in y&&n(0,A=y.el),"$$scope"in y&&n(14,u=y.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=r),t.$$.dirty&256&&Object.assign(o,$)},[A,f,c,d,p,m,h,v,o,a,w,C,l,r,u,s,L,D,Y,F,G]}let y0=class extends ve{constructor(e){super(),be(this,e,v0,b0,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const w0=t=>({builder:t&4}),ia=t=>({builder:t[2]}),k0=t=>({builder:t&4}),la=t=>({builder:t[2]});function C0(t){let e,n,o,i;const l=t[8].default,r=me(l,t,t[7],ia);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=O("div"),r&&r.c(),fe(e,s)},m(u,f){I(u,e,f),r&&r.m(e,null),t[9](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){r&&r.p&&(!n||f&132)&&_e(r,l,u,u[7],n?he(l,u[7],f,w0):ge(u[7]),ia),fe(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(S(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&T(e),r&&r.d(u),t[9](null),o=!1,i()}}}function A0(t){let e;const n=t[8].default,o=me(n,t,t[7],la);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&132)&&_e(o,n,i,i[7],e?he(n,i[7],l,k0):ge(i[7]),la)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function S0(t){let e,n,o,i;const l=[A0,C0],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Le()},m(s,u){r[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o))},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),r[e].d(s)}}}function T0(t,e,n){let o;const i=["asChild","id","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:p,getAttrs:m}=xn();ue(t,d,A=>n(6,r=A));const h=m("description");function v(A){Ee[A?"unshift":"push"](()=>{c=A,n(0,c)})}return t.$$set=A=>{e=J(J({},e),Re(A)),n(4,l=re(e,i)),"asChild"in A&&n(1,u=A.asChild),"id"in A&&n(5,f=A.id),"el"in A&&n(0,c=A.el),"$$scope"in A&&n(7,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&p.description.set(f),t.$$.dirty&64&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,h)},[c,u,o,d,l,f,r,s,a,v]}let I0=class extends ve{constructor(e){super(),be(this,e,T0,S0,ce,{asChild:1,id:5,el:0})}};function M0(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function ra(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function O0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&Bl(t);return{c(){i&&i.c(),n=Le()},m(l,r){i&&i.m(l,r),I(l,n,r),o=!0},p(l,r){l[1],e?ce(e,l[1]?"a":"button")?(i.d(1),i=Bl(l),e=l[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(l,r):(i=Bl(l),e=l[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(l){o||(S(i,l),o=!0)},o(l){M(i,l),o=!1},d(l){l&&T(n),i&&i.d(l)}}}function P0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&ql(t);return{c(){i&&i.c(),n=Le()},m(l,r){i&&i.m(l,r),I(l,n,r),o=!0},p(l,r){l[1],e?ce(e,l[1]?"a":"button")?(i.d(1),i=ql(l),e=l[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(l,r):(i=ql(l),e=l[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(l){o||(S(i,l),o=!0)},o(l){M(i,l),o=!1},d(l){l&&T(n),i&&i.d(l)}}}function Bl(t){let e,n,o,i,l;const r=t[7].default,a=me(r,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=O(t[1]?"a":"button"),a&&a.c(),bn(t[1]?"a":"button")(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),o=!0,i||(l=[ee(e,"click",t[14]),ee(e,"change",t[15]),ee(e,"keydown",t[16]),ee(e,"keyup",t[17]),ee(e,"mouseenter",t[18]),ee(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&_e(a,r,f,f[6],o?he(r,f[6],c,null):ge(f[6]),null),bn(f[1]?"a":"button")(e,u=we(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(S(a,f),o=!0)},o(f){M(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),i=!1,$e(l)}}}function ql(t){let e,n,o,i,l,r;const a=t[7].default,s=me(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},ra(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=J(f,u[c]);return{c(){e=O(t[1]?"a":"button"),s&&s.c(),bn(t[1]?"a":"button")(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[20](e),i=!0,l||(r=[ee(e,"click",t[8]),ee(e,"change",t[9]),ee(e,"keydown",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseenter",t[12]),ee(e,"mouseleave",t[13]),je(o=M0.call(null,e,{builders:t[3]}))],l=!0)},p(c,d){s&&s.p&&(!i||d&64)&&_e(s,a,c,c[6],i?he(a,c[6],d,null):ge(c[6]),null),bn(c[1]?"a":"button")(e,f=we(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&ra(c[3]),d&32&&c[5],c[4]])),o&&un(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(S(s,c),i=!0)},o(c){M(s,c),i=!1},d(c){c&&T(e),s&&s.d(c),t[20](null),l=!1,$e(r)}}}function N0(t){let e,n,o,i;const l=[P0,O0],r=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Le()},m(s,u){r[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o))},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),r[e].d(s)}}}function E0(t,e,n){const o=["href","type","builders","el"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(F){ie.call(this,t,F)}function p(F){ie.call(this,t,F)}function m(F){ie.call(this,t,F)}function h(F){ie.call(this,t,F)}function v(F){ie.call(this,t,F)}function A(F){ie.call(this,t,F)}function w(F){ie.call(this,t,F)}function C(F){ie.call(this,t,F)}function E(F){ie.call(this,t,F)}function $(F){ie.call(this,t,F)}function L(F){ie.call(this,t,F)}function D(F){ie.call(this,t,F)}function Y(F){Ee[F?"unshift":"push"](()=>{f=F,n(0,f)})}return t.$$set=F=>{e=J(J({},e),Re(F)),n(5,i=re(e,o)),"href"in F&&n(1,a=F.href),"type"in F&&n(2,s=F.type),"builders"in F&&n(3,u=F.builders),"el"in F&&n(0,f=F.el),"$$scope"in F&&n(6,r=F.$$scope)},[f,a,s,u,c,i,r,l,d,p,m,h,v,A,w,C,E,$,L,D,Y]}let R0=class extends ve{constructor(e){super(),be(this,e,E0,N0,ce,{href:1,type:2,builders:3,el:0})}};function L0(t){return(e={})=>D0(t,e)}function D0(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:$0(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function $0(t,e){return e==="center"?t:`${t}-${e}`}function F0(){return{NAME:"separator",PARTS:["root"]}}function j0(t){const{NAME:e,PARTS:n}=F0(),o=Wn(e,n),i={...c_(So(t)),getAttrs:o};return{...i,updateOption:qn(i.options)}}const B0=t=>({builder:t&4}),sa=t=>({builder:t[2]});function q0(t){let e,n,o,i=[t[2],t[4]],l={};for(let r=0;r<i.length;r+=1)l=J(l,i[r]);return{c(){e=O("div"),fe(e,l)},m(r,a){I(r,e,a),t[10](e),n||(o=je(t[2].action(e)),n=!0)},p(r,a){fe(e,l=we(i,[a&4&&r[2],a&16&&r[4]]))},i:Ce,o:Ce,d(r){r&&T(e),t[10](null),n=!1,o()}}}function G0(t){let e;const n=t[9].default,o=me(n,t,t[8],sa);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&260)&&_e(o,n,i,i[8],e?he(n,i[8],l,B0):ge(i[8]),sa)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function H0(t){let e,n,o,i;const l=[G0,q0],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Le()},m(s,u){r[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o))},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),r[e].d(s)}}}function V0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:p},updateOption:m,getAttrs:h}=j0({orientation:u,decorative:f});ue(t,p,w=>n(7,r=w));const v=h("root");function A(w){Ee[w?"unshift":"push"](()=>{d=w,n(0,d)})}return t.$$set=w=>{e=J(J({},e),Re(w)),n(4,l=re(e,i)),"orientation"in w&&n(5,u=w.orientation),"decorative"in w&&n(6,f=w.decorative),"asChild"in w&&n(1,c=w.asChild),"el"in w&&n(0,d=w.el),"$$scope"in w&&n(8,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&m("orientation",u),t.$$.dirty&64&&m("decorative",f),t.$$.dirty&128&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,v)},[d,c,o,p,l,u,f,r,s,a,A]}let W0=class extends ve{constructor(e){super(),be(this,e,V0,H0,ce,{orientation:5,decorative:6,asChild:1,el:0})}};function Kc(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function Y0(t){const{NAME:e,PARTS:n}=Kc(),o=Wn(e,n),i={...xc({...So(t),role:"dialog",forceVisible:!0}),getAttrs:o};return cl(e,i),{...i,updateOption:qn(i.options)}}function To(){const{NAME:t}=Kc();return dl(t)}const x0=t=>({ids:t&1}),aa=t=>({ids:t[0]});function U0(t){let e;const n=t[12].default,o=me(n,t,t[11],aa);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,[l]){o&&o.p&&(!e||l&2049)&&_e(o,n,i,i[11],e?he(n,i[11],l,x0):ge(i[11]),aa)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function K0(t,e,n){let o,{$$slots:i={},$$scope:l}=e,{preventScroll:r=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:p=void 0}=e,{onOutsideClick:m=void 0}=e;const{states:{open:h},updateOption:v,ids:A}=Y0({closeOnEscape:a,preventScroll:r,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:p,onOutsideClick:m,onOpenChange:({next:C})=>(f!==C&&(c==null||c(C),n(2,f=C)),C)}),w=fn([A.content,A.description,A.title],([C,E,$])=>({content:C,description:E,title:$}));return ue(t,w,C=>n(0,o=C)),t.$$set=C=>{"preventScroll"in C&&n(3,r=C.preventScroll),"closeOnEscape"in C&&n(4,a=C.closeOnEscape),"closeOnOutsideClick"in C&&n(5,s=C.closeOnOutsideClick),"portal"in C&&n(6,u=C.portal),"open"in C&&n(2,f=C.open),"onOpenChange"in C&&n(7,c=C.onOpenChange),"openFocus"in C&&n(8,d=C.openFocus),"closeFocus"in C&&n(9,p=C.closeFocus),"onOutsideClick"in C&&n(10,m=C.onOutsideClick),"$$scope"in C&&n(11,l=C.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&h.set(f),t.$$.dirty&8&&v("preventScroll",r),t.$$.dirty&16&&v("closeOnEscape",a),t.$$.dirty&32&&v("closeOnOutsideClick",s),t.$$.dirty&64&&v("portal",u),t.$$.dirty&256&&v("openFocus",d),t.$$.dirty&512&&v("closeFocus",p),t.$$.dirty&1024&&v("onOutsideClick",m)},[o,w,f,r,a,s,u,c,d,p,m,l,i]}class X0 extends ve{constructor(e){super(),be(this,e,K0,U0,ce,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const J0=t=>({builder:t&8}),ua=t=>({builder:t[3]}),Z0=t=>({builder:t&8}),fa=t=>({builder:t[3]});function Q0(t){let e=t[1],n,o,i=t[1]&&Gl(t);return{c(){i&&i.c(),n=Le()},m(l,r){i&&i.m(l,r),I(l,n,r),o=!0},p(l,r){l[1]?e?ce(e,l[1])?(i.d(1),i=Gl(l),e=l[1],i.c(),i.m(n.parentNode,n)):i.p(l,r):(i=Gl(l),e=l[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=l[1])},i(l){o||(S(i,l),o=!0)},o(l){M(i,l),o=!1},d(l){l&&T(n),i&&i.d(l)}}}function z0(t){let e;const n=t[9].default,o=me(n,t,t[8],fa);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&264)&&_e(o,n,i,i[8],e?he(n,i[8],l,Z0):ge(i[8]),fa)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function Gl(t){let e,n,o,i;const l=t[9].default,r=me(l,t,t[8],ua);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=O(t[1]),r&&r.c(),bn(t[1])(e,s)},m(u,f){I(u,e,f),r&&r.m(e,null),t[10](e),n=!0,o||(i=je(t[3].action(e)),o=!0)},p(u,f){r&&r.p&&(!n||f&264)&&_e(r,l,u,u[8],n?he(l,u[8],f,J0):ge(u[8]),ua),bn(u[1])(e,s=we(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(S(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&T(e),r&&r.d(u),t[10](null),o=!1,i()}}}function eg(t){let e,n,o,i;const l=[z0,Q0],r=[];function a(s,u){return s[2]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Le()},m(s,u){r[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o))},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),r[e].d(s)}}}function tg(t,e,n){let o;const i=["level","asChild","id","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:p},ids:m,getAttrs:h}=To();ue(t,p,w=>n(7,r=w));const v=h("title");function A(w){Ee[w?"unshift":"push"](()=>{d=w,n(0,d)})}return t.$$set=w=>{e=J(J({},e),Re(w)),n(5,l=re(e,i)),"level"in w&&n(1,u=w.level),"asChild"in w&&n(2,f=w.asChild),"id"in w&&n(6,c=w.id),"el"in w&&n(0,d=w.el),"$$scope"in w&&n(8,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&m.title.set(c),t.$$.dirty&128&&n(3,o=r),t.$$.dirty&8&&Object.assign(o,v)},[d,u,f,o,p,l,c,r,s,a,A]}let ng=class extends ve{constructor(e){super(),be(this,e,tg,eg,ce,{level:1,asChild:2,id:6,el:0})}};const og=t=>({builder:t&4}),ca=t=>({builder:t[2]}),ig=t=>({builder:t&4}),da=t=>({builder:t[2]});function lg(t){let e,n,o,i;const l=t[8].default,r=me(l,t,t[7],ca);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=O("button"),r&&r.c(),fe(e,s)},m(u,f){I(u,e,f),r&&r.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){r&&r.p&&(!n||f&132)&&_e(r,l,u,u[7],n?he(l,u[7],f,og):ge(u[7]),ca),fe(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(S(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&T(e),r&&r.d(u),t[9](null),o=!1,$e(i)}}}function rg(t){let e;const n=t[8].default,o=me(n,t,t[7],da);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&132)&&_e(o,n,i,i[7],e?he(n,i[7],l,ig):ge(i[7]),da)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function sg(t){let e,n,o,i;const l=[rg,lg],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Le()},m(s,u){r[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o))},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),r[e].d(s)}}}function ag(t,e,n){let o;const i=["asChild","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=To();ue(t,c,v=>n(6,r=v));const p=Yn(),m=d("close");function h(v){Ee[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=J(J({},e),Re(v)),n(5,l=re(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,p,l,r,s,a,h]}class ug extends ve{constructor(e){super(),be(this,e,ag,sg,ce,{asChild:1,el:0})}}const fg=t=>({builder:t&4}),pa=t=>({builder:t[2]}),cg=t=>({builder:t&4}),ma=t=>({builder:t[2]});function dg(t){let e,n,o,i;const l=t[7].default,r=me(l,t,t[6],pa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=O("div"),r&&r.c(),fe(e,s)},m(u,f){I(u,e,f),r&&r.m(e,null),t[8](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){r&&r.p&&(!n||f&68)&&_e(r,l,u,u[6],n?he(l,u[6],f,fg):ge(u[6]),pa),fe(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(S(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&T(e),r&&r.d(u),t[8](null),o=!1,i()}}}function pg(t){let e;const n=t[7].default,o=me(n,t,t[6],ma);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&68)&&_e(o,n,i,i[6],e?he(n,i[6],l,cg):ge(i[6]),ma)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function mg(t){let e,n,o,i;const l=[pg,dg],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Le()},m(s,u){r[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o))},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),r[e].d(s)}}}function hg(t,e,n){let o;const i=["asChild","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=To();ue(t,c,h=>n(5,r=h));const p=d("portal");function m(h){Ee[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=J(J({},e),Re(h)),n(4,l=re(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,l,r,s,a,m]}let _g=class extends ve{constructor(e){super(),be(this,e,hg,mg,ce,{asChild:1,el:0})}};const gg=t=>({builder:t[0]&256}),ha=t=>({builder:t[8]}),bg=t=>({builder:t[0]&256}),_a=t=>({builder:t[8]}),vg=t=>({builder:t[0]&256}),ga=t=>({builder:t[8]}),yg=t=>({builder:t[0]&256}),ba=t=>({builder:t[8]}),wg=t=>({builder:t[0]&256}),va=t=>({builder:t[8]}),kg=t=>({builder:t[0]&256}),ya=t=>({builder:t[8]});function Cg(t){let e,n,o,i;const l=t[16].default,r=me(l,t,t[15],ha);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=O("div"),r&&r.c(),fe(e,s)},m(u,f){I(u,e,f),r&&r.m(e,null),t[56](e),n=!0,o||(i=[je(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],o=!0)},p(u,f){r&&r.p&&(!n||f[0]&33024)&&_e(r,l,u,u[15],n?he(l,u[15],f,gg):ge(u[15]),ha),fe(e,s=we(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(S(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&T(e),r&&r.d(u),t[56](null),o=!1,$e(i)}}}function Ag(t){let e,n,o,i,l;const r=t[16].default,a=me(r,t,t[15],_a);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=O("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(l=[je(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,r,t,t[15],o?he(r,t[15],c,bg):ge(t[15]),_a),fe(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(S(a,f),n&&n.end(1),o=!0)},o(f){M(a,f),f&&(n=Zt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,$e(l)}}}function Sg(t){let e,n,o,i,l;const r=t[16].default,a=me(r,t,t[15],ga);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=O("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(l=[je(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,r,t,t[15],o?he(r,t[15],c,vg):ge(t[15]),ga),fe(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(S(a,f),f&&(n||st(()=>{n=Jt(e,t[3],t[4]),n.start()})),o=!0)},o(f){M(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,$e(l)}}}function Tg(t){let e,n,o,i,l,r;const a=t[16].default,s=me(a,t,t[15],ba);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=J(f,u[c]);return{c(){e=O("div"),s&&s.c(),fe(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[53](e),i=!0,l||(r=[je(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],l=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&_e(s,a,t,t[15],i?he(a,t[15],d,yg):ge(t[15]),ba),fe(e,f=we(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(S(s,c),c&&st(()=>{i&&(o&&o.end(1),n=Jt(e,t[3],t[4]),n.start())}),i=!0)},o(c){M(s,c),n&&n.invalidate(),c&&(o=Zt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),l=!1,$e(r)}}}function Ig(t){let e,n,o,i,l;const r=t[16].default,a=me(r,t,t[15],va);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=O("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(l=[je(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,r,t,t[15],o?he(r,t[15],c,wg):ge(t[15]),va),fe(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(S(a,f),f&&st(()=>{o&&(n||(n=Ut(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){M(a,f),f&&(n||(n=Ut(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,$e(l)}}}function Mg(t){let e;const n=t[16].default,o=me(n,t,t[15],ya);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l[0]&33024)&&_e(o,n,i,i[15],e?he(n,i[15],l,kg):ge(i[15]),ya)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function Og(t){let e,n,o,i;const l=[Mg,Ig,Tg,Sg,Ag,Cg],r=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=r[e]=l[e](t)),{c(){n&&n.c(),o=Le()},m(s,u){~e&&r[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&r[e].p(s,u):(n&&(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe()),~e?(n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),~e&&r[e].d(s)}}}function Pg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let l=re(e,i),r,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:v=!1}=e,{id:A=void 0}=e,{el:w=void 0}=e;const{elements:{content:C},states:{open:E},ids:$,getAttrs:L}=To();ue(t,C,W=>n(14,r=W)),ue(t,E,W=>n(9,a=W));const D=L("content");function Y(W){ie.call(this,t,W)}function F(W){ie.call(this,t,W)}function G(W){ie.call(this,t,W)}function y(W){ie.call(this,t,W)}function b(W){ie.call(this,t,W)}function k(W){ie.call(this,t,W)}function P(W){ie.call(this,t,W)}function B(W){ie.call(this,t,W)}function R(W){ie.call(this,t,W)}function x(W){ie.call(this,t,W)}function Q(W){ie.call(this,t,W)}function Z(W){ie.call(this,t,W)}function z(W){ie.call(this,t,W)}function ne(W){ie.call(this,t,W)}function ae(W){ie.call(this,t,W)}function g(W){ie.call(this,t,W)}function H(W){ie.call(this,t,W)}function j(W){ie.call(this,t,W)}function oe(W){ie.call(this,t,W)}function se(W){ie.call(this,t,W)}function de(W){ie.call(this,t,W)}function Be(W){ie.call(this,t,W)}function Ae(W){ie.call(this,t,W)}function Ye(W){ie.call(this,t,W)}function ke(W){ie.call(this,t,W)}function Ve(W){ie.call(this,t,W)}function We(W){ie.call(this,t,W)}function xe(W){ie.call(this,t,W)}function Ze(W){ie.call(this,t,W)}function Xe(W){ie.call(this,t,W)}function Pe(W){ie.call(this,t,W)}function Je(W){ie.call(this,t,W)}function Se(W){ie.call(this,t,W)}function De(W){ie.call(this,t,W)}function Dt(W){ie.call(this,t,W)}function Pt(W){Ee[W?"unshift":"push"](()=>{w=W,n(0,w)})}function gt(W){Ee[W?"unshift":"push"](()=>{w=W,n(0,w)})}function ze(W){Ee[W?"unshift":"push"](()=>{w=W,n(0,w)})}function pe(W){Ee[W?"unshift":"push"](()=>{w=W,n(0,w)})}function Qe(W){Ee[W?"unshift":"push"](()=>{w=W,n(0,w)})}return t.$$set=W=>{e=J(J({},e),Re(W)),n(12,l=re(e,i)),"transition"in W&&n(1,f=W.transition),"transitionConfig"in W&&n(2,c=W.transitionConfig),"inTransition"in W&&n(3,d=W.inTransition),"inTransitionConfig"in W&&n(4,p=W.inTransitionConfig),"outTransition"in W&&n(5,m=W.outTransition),"outTransitionConfig"in W&&n(6,h=W.outTransitionConfig),"asChild"in W&&n(7,v=W.asChild),"id"in W&&n(13,A=W.id),"el"in W&&n(0,w=W.el),"$$scope"in W&&n(15,u=W.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&A&&$.content.set(A),t.$$.dirty[0]&16384&&n(8,o=r),t.$$.dirty[0]&256&&Object.assign(o,D)},[w,f,c,d,p,m,h,v,o,a,C,E,l,A,r,u,s,Y,F,G,y,b,k,P,B,R,x,Q,Z,z,ne,ae,g,H,j,oe,se,de,Be,Ae,Ye,ke,Ve,We,xe,Ze,Xe,Pe,Je,Se,De,Dt,Pt,gt,ze,pe,Qe]}let Ng=class extends ve{constructor(e){super(),be(this,e,Pg,Og,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const Eg=t=>({builder:t&256}),wa=t=>({builder:t[8]});function Rg(t){let e,n,o,i=[t[8],t[12]],l={};for(let r=0;r<i.length;r+=1)l=J(l,i[r]);return{c(){e=O("div"),fe(e,l)},m(r,a){I(r,e,a),t[25](e),n||(o=[je(t[8].action(e)),ee(e,"mouseup",t[20])],n=!0)},p(r,a){fe(e,l=we(i,[a&256&&r[8],a&4096&&r[12]]))},i:Ce,o:Ce,d(r){r&&T(e),t[25](null),n=!1,$e(o)}}}function Lg(t){let e,n,o,i,l,r=[t[8],t[12]],a={};for(let s=0;s<r.length;s+=1)a=J(a,r[s]);return{c(){e=O("div"),fe(e,a)},m(s,u){I(s,e,u),t[24](e),o=!0,i||(l=[je(t[8].action(e)),ee(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,fe(e,a=we(r,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Zt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[24](null),s&&n&&n.end(),i=!1,$e(l)}}}function Dg(t){let e,n,o,i,l=[t[8],t[12]],r={};for(let a=0;a<l.length;a+=1)r=J(r,l[a]);return{c(){e=O("div"),fe(e,r)},m(a,s){I(a,e,s),t[23](e),o||(i=[je(t[8].action(e)),ee(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,fe(e,r=we(l,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||st(()=>{n=Jt(e,t[3],t[4]),n.start()}))},o:Ce,d(a){a&&T(e),t[23](null),o=!1,$e(i)}}}function $g(t){let e,n,o,i,l,r,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=O("div"),fe(e,s)},m(u,f){I(u,e,f),t[22](e),i=!0,l||(r=[je(t[8].action(e)),ee(e,"mouseup",t[17])],l=!0)},p(u,f){t=u,fe(e,s=we(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&st(()=>{i&&(o&&o.end(1),n=Jt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Zt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[22](null),u&&o&&o.end(),l=!1,$e(r)}}}function Fg(t){let e,n,o,i,l,r=[t[8],t[12]],a={};for(let s=0;s<r.length;s+=1)a=J(a,r[s]);return{c(){e=O("div"),fe(e,a)},m(s,u){I(s,e,u),t[21](e),o=!0,i||(l=[ee(e,"mouseup",t[16]),je(t[8].action(e))],i=!0)},p(s,u){t=s,fe(e,a=we(r,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&st(()=>{o&&(n||(n=Ut(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Ut(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[21](null),s&&n&&n.end(),i=!1,$e(l)}}}function jg(t){let e;const n=t[15].default,o=me(n,t,t[14],wa);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&16640)&&_e(o,n,i,i[14],e?he(n,i[14],l,Eg):ge(i[14]),wa)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function Bg(t){let e,n,o,i;const l=[jg,Fg,$g,Dg,Lg,Rg],r=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=r[e]=l[e](t)),{c(){n&&n.c(),o=Le()},m(s,u){~e&&r[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&r[e].p(s,u):(n&&(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe()),~e?(n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),~e&&r[e].d(s)}}}function qg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let l=re(e,i),r,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:v=!1}=e,{el:A=void 0}=e;const{elements:{overlay:w},states:{open:C},getAttrs:E}=To();ue(t,w,R=>n(13,r=R)),ue(t,C,R=>n(9,a=R));const $=E("overlay");function L(R){ie.call(this,t,R)}function D(R){ie.call(this,t,R)}function Y(R){ie.call(this,t,R)}function F(R){ie.call(this,t,R)}function G(R){ie.call(this,t,R)}function y(R){Ee[R?"unshift":"push"](()=>{A=R,n(0,A)})}function b(R){Ee[R?"unshift":"push"](()=>{A=R,n(0,A)})}function k(R){Ee[R?"unshift":"push"](()=>{A=R,n(0,A)})}function P(R){Ee[R?"unshift":"push"](()=>{A=R,n(0,A)})}function B(R){Ee[R?"unshift":"push"](()=>{A=R,n(0,A)})}return t.$$set=R=>{e=J(J({},e),Re(R)),n(12,l=re(e,i)),"transition"in R&&n(1,f=R.transition),"transitionConfig"in R&&n(2,c=R.transitionConfig),"inTransition"in R&&n(3,d=R.inTransition),"inTransitionConfig"in R&&n(4,p=R.inTransitionConfig),"outTransition"in R&&n(5,m=R.outTransition),"outTransitionConfig"in R&&n(6,h=R.outTransitionConfig),"asChild"in R&&n(7,v=R.asChild),"el"in R&&n(0,A=R.el),"$$scope"in R&&n(14,u=R.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=r),t.$$.dirty&256&&Object.assign(o,$)},[A,f,c,d,p,m,h,v,o,a,w,C,l,r,u,s,L,D,Y,F,G,y,b,k,P,B]}let Gg=class extends ve{constructor(e){super(),be(this,e,qg,Bg,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Hg=t=>({builder:t&4}),ka=t=>({builder:t[2]}),Vg=t=>({builder:t&4}),Ca=t=>({builder:t[2]});function Wg(t){let e,n,o,i;const l=t[8].default,r=me(l,t,t[7],ka);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=O("div"),r&&r.c(),fe(e,s)},m(u,f){I(u,e,f),r&&r.m(e,null),t[9](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){r&&r.p&&(!n||f&132)&&_e(r,l,u,u[7],n?he(l,u[7],f,Hg):ge(u[7]),ka),fe(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(S(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&T(e),r&&r.d(u),t[9](null),o=!1,i()}}}function Yg(t){let e;const n=t[8].default,o=me(n,t,t[7],Ca);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&132)&&_e(o,n,i,i[7],e?he(n,i[7],l,Vg):ge(i[7]),Ca)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function xg(t){let e,n,o,i;const l=[Yg,Wg],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Le()},m(s,u){r[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o))},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),r[e].d(s)}}}function Ug(t,e,n){let o;const i=["asChild","id","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:p,getAttrs:m}=To();ue(t,d,A=>n(6,r=A));const h=m("description");function v(A){Ee[A?"unshift":"push"](()=>{c=A,n(0,c)})}return t.$$set=A=>{e=J(J({},e),Re(A)),n(4,l=re(e,i)),"asChild"in A&&n(1,u=A.asChild),"id"in A&&n(5,f=A.id),"el"in A&&n(0,c=A.el),"$$scope"in A&&n(7,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&p.description.set(f),t.$$.dirty&64&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,h)},[c,u,o,d,l,f,r,s,a,v]}let Kg=class extends ve{constructor(e){super(),be(this,e,Ug,xg,ce,{asChild:1,id:5,el:0})}};function Xg(){const t="label",n=Wn(t,["root"]);return{NAME:t,getAttrs:n}}const Jg=t=>({builder:t&4}),Aa=t=>({builder:t[2]}),Zg=t=>({builder:t&4}),Sa=t=>({builder:t[2]});function Qg(t){let e,n,o,i;const l=t[8].default,r=me(l,t,t[7],Aa);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=O("label"),r&&r.c(),fe(e,s)},m(u,f){I(u,e,f),r&&r.m(e,null),t[9](e),n=!0,o||(i=[je(t[2].action(e)),ee(e,"m-mousedown",t[4])],o=!0)},p(u,f){r&&r.p&&(!n||f&132)&&_e(r,l,u,u[7],n?he(l,u[7],f,Jg):ge(u[7]),Aa),fe(e,s=we(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(S(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&T(e),r&&r.d(u),t[9](null),o=!1,$e(i)}}}function zg(t){let e;const n=t[8].default,o=me(n,t,t[7],Sa);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&132)&&_e(o,n,i,i[7],e?he(n,i[7],l,Zg):ge(i[7]),Sa)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function e1(t){let e,n,o,i;const l=[zg,Qg],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Le()},m(s,u){r[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o))},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),r[e].d(s)}}}function t1(t,e,n){let o;const i=["asChild","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=i_();ue(t,c,v=>n(6,r=v));const d=Yn(),{getAttrs:p}=Xg(),m=p("root");function h(v){Ee[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=J(J({},e),Re(v)),n(5,l=re(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,d,l,r,s,a,h]}let n1=class extends ve{constructor(e){super(),be(this,e,t1,e1,ce,{asChild:1,el:0})}};function o1(){return{NAME:"progress",PARTS:["root"]}}function i1(t){const{NAME:e,PARTS:n}=o1(),o=Wn(e,n),i={...u_(So(t)),getAttrs:o};return{...i,updateOption:qn(i.options)}}const l1=t=>({builder:t&4}),Ta=t=>({builder:t[2]}),r1=t=>({builder:t&4}),Ia=t=>({builder:t[2]});function s1(t){let e,n,o,i;const l=t[10].default,r=me(l,t,t[9],Ta);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=O("div"),r&&r.c(),fe(e,s)},m(u,f){I(u,e,f),r&&r.m(e,null),t[11](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){r&&r.p&&(!n||f&516)&&_e(r,l,u,u[9],n?he(l,u[9],f,l1):ge(u[9]),Ta),fe(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(S(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&T(e),r&&r.d(u),t[11](null),o=!1,i()}}}function a1(t){let e;const n=t[10].default,o=me(n,t,t[9],Ia);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&516)&&_e(o,n,i,i[9],e?he(n,i[9],l,r1):ge(i[9]),Ia)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function u1(t){let e,n,o,i;const l=[a1,s1],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Le()},m(s,u){r[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o))},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),r[e].d(s)}}}function f1(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:p=void 0}=e;const{elements:{root:m},states:{value:h},updateOption:v,getAttrs:A}=i1({max:u,defaultValue:f,onValueChange:({next:E})=>(c==null||c(E),n(5,f=E),E)});ue(t,m,E=>n(8,r=E));const w=A("root");function C(E){Ee[E?"unshift":"push"](()=>{p=E,n(0,p)})}return t.$$set=E=>{e=J(J({},e),Re(E)),n(4,l=re(e,i)),"max"in E&&n(6,u=E.max),"value"in E&&n(5,f=E.value),"onValueChange"in E&&n(7,c=E.onValueChange),"asChild"in E&&n(1,d=E.asChild),"el"in E&&n(0,p=E.el),"$$scope"in E&&n(9,s=E.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&h.set(f),t.$$.dirty&64&&v("max",u),t.$$.dirty&256&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,w)},[p,d,o,m,l,f,u,c,r,s,a,C]}let c1=class extends ve{constructor(e){super(),be(this,e,f1,u1,ce,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function Xc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function d1(t){const{NAME:e,PARTS:n}=Xc(),o=Wn(e,n),i={...p_(So(t)),getAttrs:o};return cl(e,i),{...i,updateOption:qn(i.options)}}function Jc(){const{NAME:t}=Xc();return dl(t)}const p1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Ma=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),m1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Oa=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function h1(t){let e,n,o,i;const l=t[18].default,r=me(l,t,t[17],Ma);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=O("span"),r&&r.c(),fe(e,s)},m(u,f){I(u,e,f),r&&r.m(e,null),t[19](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){r&&r.p&&(!n||f&131100)&&_e(r,l,u,u[17],n?he(l,u[17],f,p1):ge(u[17]),Ma),fe(e,s=we(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(S(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&T(e),r&&r.d(u),t[19](null),o=!1,i()}}}function _1(t){let e;const n=t[18].default,o=me(n,t,t[17],Oa);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&131100)&&_e(o,n,i,i[17],e?he(n,i[17],l,m1):ge(i[17]),Oa)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function g1(t){let e,n,o,i;const l=[_1,h1],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Le()},m(s,u){r[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o))},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),r[e].d(s)}}}function b1(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let l=re(e,i),r,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:p=void 0}=e,{step:m=void 0}=e,{orientation:h=void 0}=e,{value:v=void 0}=e,{onValueChange:A=void 0}=e,{asChild:w=!1}=e,{el:C=void 0}=e;const{elements:{root:E,ticks:$,thumbs:L},states:{value:D},updateOption:Y,getAttrs:F}=d1({disabled:c,min:d,max:p,step:m,orientation:h,defaultValue:v,onValueChange:({next:b})=>(v!==b&&(A==null||A(b),n(9,v=b)),b)});ue(t,E,b=>n(16,r=b)),ue(t,$,b=>n(3,a=b)),ue(t,L,b=>n(4,s=b));const G=F("root");function y(b){Ee[b?"unshift":"push"](()=>{C=b,n(0,C)})}return t.$$set=b=>{e=J(J({},e),Re(b)),n(8,l=re(e,i)),"disabled"in b&&n(10,c=b.disabled),"min"in b&&n(11,d=b.min),"max"in b&&n(12,p=b.max),"step"in b&&n(13,m=b.step),"orientation"in b&&n(14,h=b.orientation),"value"in b&&n(9,v=b.value),"onValueChange"in b&&n(15,A=b.onValueChange),"asChild"in b&&n(1,w=b.asChild),"el"in b&&n(0,C=b.el),"$$scope"in b&&n(17,f=b.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&v!==void 0&&D.set(v),t.$$.dirty&1024&&Y("disabled",c),t.$$.dirty&2048&&Y("min",d),t.$$.dirty&4096&&Y("max",p),t.$$.dirty&8192&&Y("step",m),t.$$.dirty&16384&&Y("orientation",h),t.$$.dirty&65536&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,G)},[C,w,o,a,s,E,$,L,l,v,c,d,p,m,h,A,r,f,u,y]}let v1=class extends ve{constructor(e){super(),be(this,e,b1,g1,ce,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const y1=t=>({builder:t&4}),Pa=t=>({builder:t[2]});function w1(t){let e,n,o,i=[t[2],t[4]],l={};for(let r=0;r<i.length;r+=1)l=J(l,i[r]);return{c(){e=O("span"),fe(e,l)},m(r,a){I(r,e,a),t[8](e),n||(o=je(t[2].action(e)),n=!0)},p(r,a){fe(e,l=we(i,[a&4&&r[2],a&16&&r[4]]))},i:Ce,o:Ce,d(r){r&&T(e),t[8](null),n=!1,o()}}}function k1(t){let e;const n=t[7].default,o=me(n,t,t[6],Pa);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&68)&&_e(o,n,i,i[6],e?he(n,i[6],l,y1):ge(i[6]),Pa)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function C1(t){let e,n,o,i;const l=[k1,w1],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Le()},m(s,u){r[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o))},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),r[e].d(s)}}}function A1(t,e,n){let o;const i=["asChild","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=Jc();ue(t,c,h=>n(5,r=h));const p=d("range");function m(h){Ee[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=J(J({},e),Re(h)),n(4,l=re(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,l,r,s,a,m]}class S1 extends ve{constructor(e){super(),be(this,e,A1,C1,ce,{asChild:1,el:0})}}const T1=t=>({builder:t&4}),Na=t=>({builder:t[2]});function I1(t){let e,n,o,i=[t[2],t[4]],l={};for(let r=0;r<i.length;r+=1)l=J(l,i[r]);return{c(){e=O("span"),fe(e,l)},m(r,a){I(r,e,a),t[8](e),n||(o=[je(t[2].action(e)),ee(e,"m-keydown",t[3])],n=!0)},p(r,a){fe(e,l=we(i,[a&4&&r[2],a&16&&r[4]]))},i:Ce,o:Ce,d(r){r&&T(e),t[8](null),n=!1,$e(o)}}}function M1(t){let e;const n=t[7].default,o=me(n,t,t[6],Na);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&68)&&_e(o,n,i,i[6],e?he(n,i[6],l,T1):ge(i[6]),Na)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function O1(t){let e,n,o,i;const l=[M1,I1],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Le()},m(s,u){r[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o))},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),r[e].d(s)}}}function P1(t,e,n){let o;const i=["asChild","el","thumb"];let l=re(e,i),{$$slots:r={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=Jc(),d=Yn(),p=c("thumb");function m(h){Ee[h?"unshift":"push"](()=>{u=h,n(0,u)})}return t.$$set=h=>{e=J(J({},e),Re(h)),n(4,l=re(e,i)),"asChild"in h&&n(1,s=h.asChild),"el"in h&&n(0,u=h.el),"thumb"in h&&n(5,f=h.thumb),"$$scope"in h&&n(6,a=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,p)},[u,s,o,d,l,f,a,r,m]}class N1 extends ve{constructor(e){super(),be(this,e,P1,O1,ce,{asChild:1,el:0,thumb:5})}}function Zc(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function E1(t){const{NAME:e,PARTS:n}=Zc(),o=Wn(e,n),i={...__({positioning:{placement:"top",gutter:0},openDelay:700,...So(t),forceVisible:!0}),getAttrs:o};return cl(e,i),{...i,updateOption:qn(i.options)}}function Hr(){const{NAME:t}=Zc();return dl(t)}function R1(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=Hr();L0(o)({...n})}const L1=t=>({ids:t&1}),Ea=t=>({ids:t[0]});function D1(t){let e;const n=t[12].default,o=me(n,t,t[11],Ea);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,[l]){o&&o.p&&(!e||l&2049)&&_e(o,n,i,i[11],e?he(n,i[11],l,L1):ge(i[11]),Ea)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function $1(t,e,n){let o,{$$slots:i={},$$scope:l}=e,{closeOnEscape:r=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:p=void 0}=e,{group:m=void 0}=e;const{states:{open:h},updateOption:v,ids:A}=E1({closeOnEscape:r,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:p,group:m,onOpenChange:({next:C})=>(c!==C&&(d==null||d(C),n(2,c=C)),C),positioning:{gutter:0,offset:{mainAxis:1}}}),w=fn([A.content,A.trigger],([C,E])=>({content:C,trigger:E}));return ue(t,w,C=>n(0,o=C)),t.$$set=C=>{"closeOnEscape"in C&&n(3,r=C.closeOnEscape),"portal"in C&&n(4,a=C.portal),"closeOnPointerDown"in C&&n(5,s=C.closeOnPointerDown),"openDelay"in C&&n(6,u=C.openDelay),"closeDelay"in C&&n(7,f=C.closeDelay),"open"in C&&n(2,c=C.open),"onOpenChange"in C&&n(8,d=C.onOpenChange),"disableHoverableContent"in C&&n(9,p=C.disableHoverableContent),"group"in C&&n(10,m=C.group),"$$scope"in C&&n(11,l=C.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&h.set(c),t.$$.dirty&8&&v("closeOnEscape",r),t.$$.dirty&16&&v("portal",a),t.$$.dirty&32&&v("closeOnPointerDown",s),t.$$.dirty&64&&v("openDelay",u),t.$$.dirty&128&&v("closeDelay",f),t.$$.dirty&1024&&v("group",m),t.$$.dirty&512&&v("disableHoverableContent",p)},[o,w,c,r,a,s,u,f,d,p,m,l,i]}class F1 extends ve{constructor(e){super(),be(this,e,$1,D1,ce,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const j1=t=>({builder:t[0]&256}),Ra=t=>({builder:t[8]}),B1=t=>({builder:t[0]&256}),La=t=>({builder:t[8]}),q1=t=>({builder:t[0]&256}),Da=t=>({builder:t[8]}),G1=t=>({builder:t[0]&256}),$a=t=>({builder:t[8]}),H1=t=>({builder:t[0]&256}),Fa=t=>({builder:t[8]}),V1=t=>({builder:t[0]&256}),ja=t=>({builder:t[8]});function W1(t){let e,n,o,i;const l=t[28].default,r=me(l,t,t[27],Ra);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=O("div"),r&&r.c(),fe(e,s)},m(u,f){I(u,e,f),r&&r.m(e,null),t[33](e),n=!0,o||(i=[je(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],o=!0)},p(u,f){r&&r.p&&(!n||f[0]&134217984)&&_e(r,l,u,u[27],n?he(l,u[27],f,j1):ge(u[27]),Ra),fe(e,s=we(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(S(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&T(e),r&&r.d(u),t[33](null),o=!1,$e(i)}}}function Y1(t){let e,n,o,i,l;const r=t[28].default,a=me(r,t,t[27],La);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=O("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(l=[je(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&_e(a,r,t,t[27],o?he(r,t[27],c,B1):ge(t[27]),La),fe(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(S(a,f),n&&n.end(1),o=!0)},o(f){M(a,f),f&&(n=Zt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,$e(l)}}}function x1(t){let e,n,o,i,l;const r=t[28].default,a=me(r,t,t[27],Da);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=O("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(l=[je(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&_e(a,r,t,t[27],o?he(r,t[27],c,q1):ge(t[27]),Da),fe(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(S(a,f),f&&(n||st(()=>{n=Jt(e,t[3],t[4]),n.start()})),o=!0)},o(f){M(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[31](null),i=!1,$e(l)}}}function U1(t){let e,n,o,i,l,r;const a=t[28].default,s=me(a,t,t[27],$a);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=J(f,u[c]);return{c(){e=O("div"),s&&s.c(),fe(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[30](e),i=!0,l||(r=[je(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],l=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&_e(s,a,t,t[27],i?he(a,t[27],d,G1):ge(t[27]),$a),fe(e,f=we(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(S(s,c),c&&st(()=>{i&&(o&&o.end(1),n=Jt(e,t[3],t[4]),n.start())}),i=!0)},o(c){M(s,c),n&&n.invalidate(),c&&(o=Zt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[30](null),c&&o&&o.end(),l=!1,$e(r)}}}function K1(t){let e,n,o,i,l;const r=t[28].default,a=me(r,t,t[27],Fa);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=O("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(l=[je(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&_e(a,r,t,t[27],o?he(r,t[27],c,H1):ge(t[27]),Fa),fe(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(S(a,f),f&&st(()=>{o&&(n||(n=Ut(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){M(a,f),f&&(n||(n=Ut(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,$e(l)}}}function X1(t){let e;const n=t[28].default,o=me(n,t,t[27],ja);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l[0]&134217984)&&_e(o,n,i,i[27],e?he(n,i[27],l,V1):ge(i[27]),ja)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function J1(t){let e,n,o,i;const l=[X1,K1,U1,x1,Y1,W1],r=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=r[e]=l[e](t)),{c(){n&&n.c(),o=Le()},m(s,u){~e&&r[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&r[e].p(s,u):(n&&(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe()),~e?(n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),~e&&r[e].d(s)}}}function Z1(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let l=re(e,i),r,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:v=!1}=e,{id:A=void 0}=e,{side:w="top"}=e,{align:C="center"}=e,{sideOffset:E=0}=e,{alignOffset:$=0}=e,{collisionPadding:L=8}=e,{avoidCollisions:D=!0}=e,{collisionBoundary:Y=void 0}=e,{sameWidth:F=!1}=e,{fitViewport:G=!1}=e,{strategy:y="absolute"}=e,{overlap:b=!1}=e,{el:k=void 0}=e;const{elements:{content:P},states:{open:B},ids:R,getAttrs:x}=Hr();ue(t,P,j=>n(26,a=j)),ue(t,B,j=>n(9,r=j));const Q=Yn(),Z=x("content");function z(j){Ee[j?"unshift":"push"](()=>{k=j,n(0,k)})}function ne(j){Ee[j?"unshift":"push"](()=>{k=j,n(0,k)})}function ae(j){Ee[j?"unshift":"push"](()=>{k=j,n(0,k)})}function g(j){Ee[j?"unshift":"push"](()=>{k=j,n(0,k)})}function H(j){Ee[j?"unshift":"push"](()=>{k=j,n(0,k)})}return t.$$set=j=>{e=J(J({},e),Re(j)),n(13,l=re(e,i)),"transition"in j&&n(1,f=j.transition),"transitionConfig"in j&&n(2,c=j.transitionConfig),"inTransition"in j&&n(3,d=j.inTransition),"inTransitionConfig"in j&&n(4,p=j.inTransitionConfig),"outTransition"in j&&n(5,m=j.outTransition),"outTransitionConfig"in j&&n(6,h=j.outTransitionConfig),"asChild"in j&&n(7,v=j.asChild),"id"in j&&n(14,A=j.id),"side"in j&&n(15,w=j.side),"align"in j&&n(16,C=j.align),"sideOffset"in j&&n(17,E=j.sideOffset),"alignOffset"in j&&n(18,$=j.alignOffset),"collisionPadding"in j&&n(19,L=j.collisionPadding),"avoidCollisions"in j&&n(20,D=j.avoidCollisions),"collisionBoundary"in j&&n(21,Y=j.collisionBoundary),"sameWidth"in j&&n(22,F=j.sameWidth),"fitViewport"in j&&n(23,G=j.fitViewport),"strategy"in j&&n(24,y=j.strategy),"overlap"in j&&n(25,b=j.overlap),"el"in j&&n(0,k=j.el),"$$scope"in j&&n(27,u=j.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&A&&R.content.set(A),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,Z),t.$$.dirty[0]&67076608&&r&&R1({side:w,align:C,sideOffset:E,alignOffset:$,collisionPadding:L,avoidCollisions:D,collisionBoundary:Y,sameWidth:F,fitViewport:G,strategy:y,overlap:b})},[k,f,c,d,p,m,h,v,o,r,P,B,Q,l,A,w,C,E,$,L,D,Y,F,G,y,b,a,u,s,z,ne,ae,g,H]}let Q1=class extends ve{constructor(e){super(),be(this,e,Z1,J1,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const z1=t=>({builder:t&4}),Ba=t=>({builder:t[2]}),eb=t=>({builder:t&4}),qa=t=>({builder:t[2]});function tb(t){let e,n,o,i;const l=t[9].default,r=me(l,t,t[8],Ba);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=O("button"),r&&r.c(),fe(e,s)},m(u,f){I(u,e,f),r&&r.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[je(t[2].action(e)),ee(e,"m-blur",t[4]),ee(e,"m-focus",t[4]),ee(e,"m-keydown",t[4]),ee(e,"m-pointerdown",t[4]),ee(e,"m-pointerenter",t[4]),ee(e,"m-pointerleave",t[4])],o=!0)},p(u,f){r&&r.p&&(!n||f&260)&&_e(r,l,u,u[8],n?he(l,u[8],f,z1):ge(u[8]),Ba),fe(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(S(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&T(e),r&&r.d(u),t[10](null),o=!1,$e(i)}}}function nb(t){let e;const n=t[9].default,o=me(n,t,t[8],qa);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&260)&&_e(o,n,i,i[8],e?he(n,i[8],l,eb):ge(i[8]),qa)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function ob(t){let e,n,o,i;const l=[nb,tb],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Le()},m(s,u){r[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o))},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),r[e].d(s)}}}function ib(t,e,n){let o;const i=["asChild","id","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:p,getAttrs:m}=Hr();ue(t,d,w=>n(7,r=w));const h=Yn(),v=m("trigger");function A(w){Ee[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=J(J({},e),Re(w)),n(5,l=re(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(6,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(8,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&p.trigger.set(f),t.$$.dirty&128&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,v)},[c,u,o,d,h,l,f,r,s,a,A]}class lb extends ve{constructor(e){super(),be(this,e,ib,ob,ce,{asChild:1,id:6,el:0})}}function rb(t){let e;const n=t[5].default,o=me(n,t,t[8],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&256)&&_e(o,n,i,i[8],e?he(n,i[8],l,null):ge(i[8]),null)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function sb(t){let e,n;const o=[{builders:t[3]},{class:Fe(bo({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let i={$$slots:{default:[rb]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=J(i,o[l]);return e=new R0({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&31?we(o,[r&8&&{builders:l[3]},r&7&&{class:Fe(bo({variant:l[1],size:l[2],className:l[0]}))},o[2],r&16&&ut(l[4])]):{};r&256&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function ab(t,e,n){const o=["class","variant","size","builders"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(p){ie.call(this,t,p)}function d(p){ie.call(this,t,p)}return t.$$set=p=>{e=J(J({},e),Re(p)),n(4,i=re(e,o)),"class"in p&&n(0,a=p.class),"variant"in p&&n(1,s=p.variant),"size"in p&&n(2,u=p.size),"builders"in p&&n(3,f=p.builders),"$$scope"in p&&n(8,r=p.$$scope)},[a,s,u,f,i,l,c,d,r]}class yt extends ve{constructor(e){super(),be(this,e,ab,sb,ce,{class:0,variant:1,size:2,builders:3})}}var Ga=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Tt=t=>!t||typeof t!="object"||Object.keys(t).length===0,ub=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function Qc(t,e){t.forEach(function(n){Array.isArray(n)?Qc(n,e):e.push(n)})}function zc(t){let e=[];return Qc(t,e),e}var ed=(...t)=>zc(t).filter(Boolean),td=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let l of o)if(i.includes(l)){let r=t[l],a=e[l];typeof r=="object"&&typeof a=="object"?n[l]=td(r,a):Array.isArray(r)||Array.isArray(a)?n[l]=ed(a,r):n[l]=a+" "+r}else n[l]=t[l];for(let l of i)o.includes(l)||(n[l]=e[l]);return n},Ha=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),fb={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},nd=t=>t||void 0,Ko=(...t)=>nd(zc(t).filter(Boolean).join(" ")),Hl=null,on={},fr=!1,Lo=(...t)=>e=>e.twMerge?((!Hl||fr)&&(fr=!1,Hl=Tt(on)?kc:tm({...on,extend:{theme:on.theme,classGroups:on.classGroups,conflictingClassGroupModifiers:on.conflictingClassGroupModifiers,conflictingClassGroups:on.conflictingClassGroups,...on.extend}})),nd(Hl(Ko(t)))):Ko(t),Va=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Ko(t[n],e[n]):t[n]=e[n];return t},cb=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:l=[],compoundSlots:r=[],defaultVariants:a={}}=t,s={...fb,...e},u=n!=null&&n.base?Ko(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!Tt(n.variants)?td(i,n.variants):i,c=n!=null&&n.defaultVariants&&!Tt(n.defaultVariants)?{...n.defaultVariants,...a}:a;!Tt(s.twMergeConfig)&&!ub(s.twMergeConfig,on)&&(fr=!0,on=s.twMergeConfig);let d=Tt(n==null?void 0:n.slots),p=Tt(o)?{}:{base:Ko(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},m=d?p:Va({...n==null?void 0:n.slots},Tt(p)?{base:t==null?void 0:t.base}:p),h=A=>{if(Tt(f)&&Tt(o)&&d)return Lo(u,A==null?void 0:A.class,A==null?void 0:A.className)(s);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof l}`);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof r}`);let w=(b,k,P=[],B)=>{let R=P;if(typeof k=="string")R=R.concat(Ha(k).split(" ").map(x=>`${b}:${x}`));else if(Array.isArray(k))R=R.concat(k.reduce((x,Q)=>x.concat(`${b}:${Q}`),[]));else if(typeof k=="object"&&typeof B=="string"){for(let x in k)if(k.hasOwnProperty(x)&&x===B){let Q=k[x];if(Q&&typeof Q=="string"){let Z=Ha(Q);R[B]?R[B]=R[B].concat(Z.split(" ").map(z=>`${b}:${z}`)):R[B]=Z.split(" ").map(z=>`${b}:${z}`)}else Array.isArray(Q)&&Q.length>0&&(R[B]=Q.reduce((Z,z)=>Z.concat(`${b}:${z}`),[]))}}return R},C=(b,k=f,P=null,B=null)=>{var R;let x=k[b];if(!x||Tt(x))return null;let Q=(R=B==null?void 0:B[b])!=null?R:A==null?void 0:A[b];if(Q===null)return null;let Z=Ga(Q),z=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,ne=c==null?void 0:c[b],ae=[];if(typeof Z=="object"&&z)for(let[j,oe]of Object.entries(Z)){let se=x[oe];if(j==="initial"){ne=oe;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(j)||(ae=w(j,se,ae,P))}let g=Z!=null&&typeof Z!="object"?Z:Ga(ne),H=x[g]||x.false;return typeof ae=="object"&&typeof P=="string"&&ae[P]?Va(ae,H):ae.length>0?(ae.push(H),ae):H},E=()=>f?Object.keys(f).map(b=>C(b,f)):null,$=(b,k)=>{if(!f||typeof f!="object")return null;let P=new Array;for(let B in f){let R=C(B,f,b,k),x=b==="base"&&typeof R=="string"?R:R&&R[b];x&&(P[P.length]=x)}return P},L={};for(let b in A)A[b]!==void 0&&(L[b]=A[b]);let D=(b,k)=>{var P;let B=typeof(A==null?void 0:A[b])=="object"?{[b]:(P=A[b])==null?void 0:P.initial}:{};return{...c,...L,...B,...k}},Y=(b=[],k)=>{let P=[];for(let{class:B,className:R,...x}of b){let Q=!0;for(let[Z,z]of Object.entries(x)){let ne=D(Z,k);if(Array.isArray(z)){if(!z.includes(ne[Z])){Q=!1;break}}else if(ne[Z]!==z){Q=!1;break}}Q&&(B&&P.push(B),R&&P.push(R))}return P},F=b=>{let k=Y(l,b),P=Y(n==null?void 0:n.compoundVariants,b);return ed(P,k)},G=b=>{let k=F(b);if(!Array.isArray(k))return k;let P={};for(let B of k)if(typeof B=="string"&&(P.base=Lo(P.base,B)(s)),typeof B=="object")for(let[R,x]of Object.entries(B))P[R]=Lo(P[R],x)(s);return P},y=b=>{if(r.length<1)return null;let k={};for(let{slots:P=[],class:B,className:R,...x}of r){if(!Tt(x)){let Q=!0;for(let Z of Object.keys(x)){let z=D(Z,b)[Z];if(z===void 0||(Array.isArray(x[Z])?!x[Z].includes(z):x[Z]!==z)){Q=!1;break}}if(!Q)continue}for(let Q of P)k[Q]=k[Q]||[],k[Q].push([B,R])}return k};if(!Tt(o)||!d){let b={};if(typeof m=="object"&&!Tt(m))for(let k of Object.keys(m))b[k]=P=>{var B,R;return Lo(m[k],$(k,P),((B=G(P))!=null?B:[])[k],((R=y(P))!=null?R:[])[k],P==null?void 0:P.class,P==null?void 0:P.className)(s)};return b}return Lo(u,E(),F(),A==null?void 0:A.class,A==null?void 0:A.className)(s)},v=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return h.variantKeys=v(),h.extend=n,h.base=u,h.slots=m,h.variants=f,h.defaultVariants=c,h.compoundSlots=r,h.compoundVariants=l,h};const bo=cb({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function db(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&8)&&_e(o,n,i,i[3],e?he(n,i[3],l,null):ge(i[3]),null)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function pb(t){let e,n;const o=[{class:Fe("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[db]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=J(i,o[l]);return e=new ng({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&3?we(o,[r&1&&{class:Fe("text-lg font-semibold leading-none tracking-tight",l[0])},r&2&&ut(l[1])]):{};r&8&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function mb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Re(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,r=s.$$scope)},[a,i,l,r]}class Un extends ve{constructor(e){super(),be(this,e,mb,pb,ce,{class:0})}}function hb(t){let e;const n=t[1].default,o=me(n,t,t[2],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&4)&&_e(o,n,i,i[2],e?he(n,i[2],l,null):ge(i[2]),null)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function _b(t){let e,n;const o=[t[0]];let i={$$slots:{default:[hb]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=J(i,o[l]);return e=new _g({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&1?we(o,[ut(l[0])]):{};r&4&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function gb(t,e,n){const o=[];let i=re(e,o),{$$slots:l={},$$scope:r}=e;return t.$$set=a=>{e=J(J({},e),Re(a)),n(0,i=re(e,o)),"$$scope"in a&&n(2,r=a.$$scope)},[i,l,r]}class bb extends ve{constructor(e){super(),be(this,e,gb,_b,ce,{})}}function vb(t){let e,n,o;const i=t[3].default,l=me(i,t,t[2],null);let r=[{class:n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<r.length;s+=1)a=J(a,r[s]);return{c(){e=O("div"),l&&l.c(),fe(e,a)},m(s,u){I(s,e,u),l&&l.m(e,null),o=!0},p(s,[u]){l&&l.p&&(!o||u&4)&&_e(l,i,s,s[2],o?he(i,s[2],u,null):ge(s[2]),null),fe(e,a=we(r,[(!o||u&1&&n!==(n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(S(l,s),o=!0)},o(s){M(l,s),o=!1},d(s){s&&T(e),l&&l.d(s)}}}function yb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Re(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,r=s.$$scope)},[a,i,r,l]}class Io extends ve{constructor(e){super(),be(this,e,yb,vb,ce,{class:0})}}function wb(t){let e,n,o;const i=t[3].default,l=me(i,t,t[2],null);let r=[{class:n=Fe("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<r.length;s+=1)a=J(a,r[s]);return{c(){e=O("div"),l&&l.c(),fe(e,a)},m(s,u){I(s,e,u),l&&l.m(e,null),o=!0},p(s,[u]){l&&l.p&&(!o||u&4)&&_e(l,i,s,s[2],o?he(i,s[2],u,null):ge(s[2]),null),fe(e,a=we(r,[(!o||u&1&&n!==(n=Fe("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(S(l,s),o=!0)},o(s){M(l,s),o=!1},d(s){s&&T(e),l&&l.d(s)}}}function kb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Re(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,r=s.$$scope)},[a,i,r,l]}class Kn extends ve{constructor(e){super(),be(this,e,kb,wb,ce,{class:0})}}function od(t,{delay:e=0,duration:n=400,easing:o=al}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:l=>`opacity: ${l*i}`}}function Cb(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let l=0;l<o.length;l+=1)i=J(i,o[l]);return e=new Gg({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&15?we(o,[r&2&&{transition:l[1]},r&4&&{transitionConfig:l[2]},r&1&&{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",l[0])},r&8&&ut(l[3])]):{};e.$set(a)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function Ab(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{class:l=void 0}=e,{transition:r=od}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=J(J({},e),Re(s)),n(3,i=re(e,o)),"class"in s&&n(0,l=s.class),"transition"in s&&n(1,r=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[l,r,a,i]}class Sb extends ve{constructor(e){super(),be(this,e,Ab,Cb,ce,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Ya(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function Vl(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=J(o,n[i]);return{c(){e=ul(t[11]),Ri(e,o)},m(i,l){I(i,e,l)},p(i,l){Ri(e,o=we(n,[l&32&&i[12]]))},d(i){i&&T(e)}}}function xa(t){let e=t[11],n,o=t[11]&&Vl(t);return{c(){o&&o.c(),n=Le()},m(i,l){o&&o.m(i,l),I(i,n,l)},p(i,l){i[11]?e?ce(e,i[11])?(o.d(1),o=Vl(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,l):(o=Vl(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&T(n),o&&o.d(i)}}}function Tb(t){let e,n,o,i,l,r=He(t[5]),a=[];for(let d=0;d<r.length;d+=1)a[d]=xa(Ya(t,r,d));const s=t[10].default,u=me(s,t,t[9],null);let f=[Wa,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=J(c,f[d]);return{c(){e=ul("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=Le(),u&&u.c(),Ri(e,c)},m(d,p){I(d,e,p);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(e,null);_(e,n),u&&u.m(e,null),l=!0},p(d,[p]){if(p&32){r=He(d[5]);let m;for(m=0;m<r.length;m+=1){const h=Ya(d,r,m);a[m]?a[m].p(h,p):(a[m]=xa(h),a[m].c(),a[m].m(e,n))}for(;m<a.length;m+=1)a[m].d(1);a.length=r.length}u&&u.p&&(!l||p&512)&&_e(u,s,d,d[9],l?he(s,d[9],p,null):ge(d[9]),null),Ri(e,c=we(f,[Wa,p&128&&d[7],(!l||p&4)&&{width:d[2]},(!l||p&4)&&{height:d[2]},(!l||p&2)&&{stroke:d[1]},(!l||p&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!l||p&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){l||(S(u,d),l=!0)},o(d){M(u,d),l=!1},d(d){d&&T(e),dt(a,d),u&&u.d(d)}}}function Ib(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const p=(...m)=>m.filter((h,v,A)=>!!h&&A.indexOf(h)===v).join(" ");return t.$$set=m=>{n(8,e=J(J({},e),Re(m))),n(7,i=re(e,o)),"name"in m&&n(0,a=m.name),"color"in m&&n(1,s=m.color),"size"in m&&n(2,u=m.size),"strokeWidth"in m&&n(3,f=m.strokeWidth),"absoluteStrokeWidth"in m&&n(4,c=m.absoluteStrokeWidth),"iconNode"in m&&n(5,d=m.iconNode),"$$scope"in m&&n(9,r=m.$$scope)},e=Re(e),[a,s,u,f,c,d,p,i,e,r,l]}class Mb extends ve{constructor(e){super(),be(this,e,Ib,Tb,ce,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function Ob(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&8)&&_e(o,n,i,i[3],e?he(n,i[3],l,null):ge(i[3]),null)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function Pb(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[Ob]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=J(i,o[l]);return e=new Mb({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&3?we(o,[o[0],r&2&&ut(l[1]),r&1&&{iconNode:l[0]}]):{};r&8&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function Nb(t,e,n){let{$$slots:o={},$$scope:i}=e;const l=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=r=>{n(1,e=J(J({},e),Re(r))),"$$scope"in r&&n(3,i=r.$$scope)},e=Re(e),[l,e,o,i]}class Eb extends ve{constructor(e){super(),be(this,e,Nb,Pb,ce,{})}}function Rb(t){let e,n,o,i;return e=new Eb({props:{class:"h-4 w-4"}}),{c(){X(e.$$.fragment),n=V(),o=O("span"),o.textContent="Close",N(o,"class","sr-only")},m(l,r){U(e,l,r),I(l,n,r),I(l,o,r),i=!0},p:Ce,i(l){i||(S(e.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),i=!1},d(l){l&&(T(n),T(o)),K(e,l)}}}function Lb(t){let e,n,o;const i=t[4].default,l=me(i,t,t[5],null);return n=new ug({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[Rb]},$$scope:{ctx:t}}}),{c(){l&&l.c(),e=V(),X(n.$$.fragment)},m(r,a){l&&l.m(r,a),I(r,e,a),U(n,r,a),o=!0},p(r,a){l&&l.p&&(!o||a&32)&&_e(l,i,r,r[5],o?he(i,r[5],a,null):ge(r[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:r}),n.$set(s)},i(r){o||(S(l,r),S(n.$$.fragment,r),o=!0)},o(r){M(l,r),M(n.$$.fragment,r),o=!1},d(r){r&&T(e),l&&l.d(r),K(n,r)}}}function Db(t){let e,n,o,i;e=new Sb({});const l=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let r={$$slots:{default:[Lb]},$$scope:{ctx:t}};for(let a=0;a<l.length;a+=1)r=J(r,l[a]);return o=new Ng({props:r}),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment)},m(a,s){U(e,a,s),I(a,n,s),U(o,a,s),i=!0},p(a,s){const u=s&15?we(l,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&ut(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(S(e.$$.fragment,a),S(o.$$.fragment,a),i=!0)},o(a){M(e.$$.fragment,a),M(o.$$.fragment,a),i=!1},d(a){a&&T(n),K(e,a),K(o,a)}}}function $b(t){let e,n;return e=new bb({props:{$$slots:{default:[Db]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const l={};i&47&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Fb(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e,{transition:s=pl}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=J(J({},e),Re(f)),n(3,i=re(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,r=f.$$scope)},[a,s,u,i,l,r]}class Xn extends ve{constructor(e){super(),be(this,e,Fb,$b,ce,{class:0,transition:1,transitionConfig:2})}}function jb(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&8)&&_e(o,n,i,i[3],e?he(n,i[3],l,null):ge(i[3]),null)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function Bb(t){let e,n;const o=[{class:Fe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[jb]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=J(i,o[l]);return e=new Kg({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&3?we(o,[r&1&&{class:Fe("text-sm text-muted-foreground",l[0])},r&2&&ut(l[1])]):{};r&8&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function qb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Re(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,r=s.$$scope)},[a,i,l,r]}class Jn extends ve{constructor(e){super(),be(this,e,qb,Bb,ce,{class:0})}}const Zn=X0;function Gb(t){let e,n,o,i,l=[{class:n=Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],r={};for(let a=0;a<l.length;a+=1)r=J(r,l[a]);return{c(){e=O("input"),fe(e,r)},m(a,s){I(a,e,s),e.autofocus&&e.focus(),nn(e,t[0]),o||(i=[ee(e,"input",t[17]),ee(e,"blur",t[3]),ee(e,"change",t[4]),ee(e,"click",t[5]),ee(e,"focus",t[6]),ee(e,"focusin",t[7]),ee(e,"focusout",t[8]),ee(e,"keydown",t[9]),ee(e,"keypress",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseover",t[12]),ee(e,"mouseenter",t[13]),ee(e,"mouseleave",t[14]),ee(e,"paste",t[15]),ee(e,"input",t[16])],o=!0)},p(a,[s]){fe(e,r=we(l,[s&2&&n!==(n=Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&nn(e,a[0])},i:Ce,o:Ce,d(a){a&&T(e),o=!1,$e(i)}}}function Hb(t,e,n){const o=["class","value"];let i=re(e,o),{class:l=void 0}=e,{value:r=void 0}=e;function a(L){ie.call(this,t,L)}function s(L){ie.call(this,t,L)}function u(L){ie.call(this,t,L)}function f(L){ie.call(this,t,L)}function c(L){ie.call(this,t,L)}function d(L){ie.call(this,t,L)}function p(L){ie.call(this,t,L)}function m(L){ie.call(this,t,L)}function h(L){ie.call(this,t,L)}function v(L){ie.call(this,t,L)}function A(L){ie.call(this,t,L)}function w(L){ie.call(this,t,L)}function C(L){ie.call(this,t,L)}function E(L){ie.call(this,t,L)}function $(){r=this.value,n(0,r)}return t.$$set=L=>{e=J(J({},e),Re(L)),n(2,i=re(e,o)),"class"in L&&n(1,l=L.class),"value"in L&&n(0,r=L.value)},[r,l,i,a,s,u,f,c,d,p,m,h,v,A,w,C,E,$]}class Vr extends ve{constructor(e){super(),be(this,e,Hb,Gb,ce,{class:1,value:0})}}function Vb(t){let e;const n=t[2].default,o=me(n,t,t[4],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&16)&&_e(o,n,i,i[4],e?he(n,i[4],l,null):ge(i[4]),null)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function Wb(t){let e,n;const o=[{class:Fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[Vb]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=J(i,o[l]);return e=new n1({props:i}),e.$on("mousedown",t[3]),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&3?we(o,[r&1&&{class:Fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",l[0])},r&2&&ut(l[1])]):{};r&16&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function Yb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e;function s(u){ie.call(this,t,u)}return t.$$set=u=>{e=J(J({},e),Re(u)),n(1,i=re(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,r=u.$$scope)},[a,i,l,s,r]}class ao extends ve{constructor(e){super(),be(this,e,Yb,Wb,ce,{class:0})}}const Gn={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}};function xb(t){let e,n;const o=[{class:Fe("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let l=0;l<o.length;l+=1)i=J(i,o[l]);return e=new W0({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&15?we(o,[r&3&&{class:Fe("shrink-0 bg-border",l[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",l[0])},r&2&&{orientation:l[1]},r&4&&{decorative:l[2]},r&8&&ut(l[3])]):{};e.$set(a)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function Ub(t,e,n){const o=["class","orientation","decorative"];let i=re(e,o),{class:l=void 0}=e,{orientation:r="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Re(s)),n(3,i=re(e,o)),"class"in s&&n(0,l=s.class),"orientation"in s&&n(1,r=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[l,r,a,i]}class St extends ve{constructor(e){super(),be(this,e,Ub,xb,ce,{class:0,orientation:1,decorative:2})}}function Kb(t){let e;const n=t[3].default,o=me(n,t,t[4],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&16)&&_e(o,n,i,i[4],e?he(n,i[4],l,null):ge(i[4]),null)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function Xb(t){let e,n;const o=[{class:Fe("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[Kb]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=J(i,o[l]);return e=new M_({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&7?we(o,[r&1&&{class:Fe("text-lg font-semibold",l[0])},r&2&&{level:l[1]},r&4&&ut(l[2])]):{};r&16&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function Jb(t,e,n){const o=["class","level"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=J(J({},e),Re(u)),n(2,i=re(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,r=u.$$scope)},[a,s,i,l,r]}class id extends ve{constructor(e){super(),be(this,e,Jb,Xb,ce,{class:0,level:1})}}const Zb=t=>({builder:t&64}),Ua=t=>({builder:t[6]});function Qb(t){let e;const n=t[2].default,o=me(n,t,t[5],Ua);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&96)&&_e(o,n,i,i[5],e?he(n,i[5],l,Zb):ge(i[5]),Ua)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function zb(t){let e,n;const o=[{class:Fe(bo(),t[0])},t[1]];let i={$$slots:{default:[Qb,({builder:l})=>({6:l}),({builder:l})=>l?64:0]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=J(i,o[l]);return e=new D_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&3?we(o,[r&1&&{class:Fe(bo(),l[0])},r&2&&ut(l[1])]):{};r&96&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function ev(t,e,n){const o=["class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e;function s(f){ie.call(this,t,f)}function u(f){ie.call(this,t,f)}return t.$$set=f=>{e=J(J({},e),Re(f)),n(1,i=re(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,r=f.$$scope)},[a,i,l,s,u,r]}class ld extends ve{constructor(e){super(),be(this,e,ev,zb,ce,{class:0})}}const tv=t=>({builder:t&64}),Ka=t=>({builder:t[6]});function nv(t){let e;const n=t[2].default,o=me(n,t,t[5],Ka);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&96)&&_e(o,n,i,i[5],e?he(n,i[5],l,tv):ge(i[5]),Ka)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function ov(t){let e,n;const o=[{class:Fe(bo({variant:"default"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[nv,({builder:l})=>({6:l}),({builder:l})=>l?64:0]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=J(i,o[l]);return e=new H_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&3?we(o,[r&1&&{class:Fe(bo({variant:"default"}),"mt-2 sm:mt-0",l[0])},r&2&&ut(l[1])]):{};r&96&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function iv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e;function s(f){ie.call(this,t,f)}function u(f){ie.call(this,t,f)}return t.$$set=f=>{e=J(J({},e),Re(f)),n(1,i=re(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,r=f.$$scope)},[a,i,l,s,u,r]}class rd extends ve{constructor(e){super(),be(this,e,iv,ov,ce,{class:0})}}function lv(t){let e;const n=t[1].default,o=me(n,t,t[2],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&4)&&_e(o,n,i,i[2],e?he(n,i[2],l,null):ge(i[2]),null)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function rv(t){let e,n;const o=[t[0]];let i={$$slots:{default:[lv]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=J(i,o[l]);return e=new X_({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&1?we(o,[ut(l[0])]):{};r&4&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function sv(t,e,n){const o=[];let i=re(e,o),{$$slots:l={},$$scope:r}=e;return t.$$set=a=>{e=J(J({},e),Re(a)),n(0,i=re(e,o)),"$$scope"in a&&n(2,r=a.$$scope)},[i,l,r]}class av extends ve{constructor(e){super(),be(this,e,sv,rv,ce,{})}}function uv(t){let e,n,o;const i=t[3].default,l=me(i,t,t[2],null);let r=[{class:n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<r.length;s+=1)a=J(a,r[s]);return{c(){e=O("div"),l&&l.c(),fe(e,a)},m(s,u){I(s,e,u),l&&l.m(e,null),o=!0},p(s,[u]){l&&l.p&&(!o||u&4)&&_e(l,i,s,s[2],o?he(i,s[2],u,null):ge(s[2]),null),fe(e,a=we(r,[(!o||u&1&&n!==(n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(S(l,s),o=!0)},o(s){M(l,s),o=!1},d(s){s&&T(e),l&&l.d(s)}}}function fv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Re(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,r=s.$$scope)},[a,i,r,l]}class yl extends ve{constructor(e){super(),be(this,e,fv,uv,ce,{class:0})}}function cv(t){let e,n,o;const i=t[3].default,l=me(i,t,t[2],null);let r=[{class:n=Fe("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<r.length;s+=1)a=J(a,r[s]);return{c(){e=O("div"),l&&l.c(),fe(e,a)},m(s,u){I(s,e,u),l&&l.m(e,null),o=!0},p(s,[u]){l&&l.p&&(!o||u&4)&&_e(l,i,s,s[2],o?he(i,s[2],u,null):ge(s[2]),null),fe(e,a=we(r,[(!o||u&1&&n!==(n=Fe("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(S(l,s),o=!0)},o(s){M(l,s),o=!1},d(s){s&&T(e),l&&l.d(s)}}}function dv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Re(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,r=s.$$scope)},[a,i,r,l]}class Wr extends ve{constructor(e){super(),be(this,e,dv,cv,ce,{class:0})}}function pv(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let l=0;l<o.length;l+=1)i=J(i,o[l]);return e=new y0({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&15?we(o,[r&2&&{transition:l[1]},r&4&&{transitionConfig:l[2]},r&1&&{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",l[0])},r&8&&ut(l[3])]):{};e.$set(a)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function mv(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{class:l=void 0}=e,{transition:r=od}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=J(J({},e),Re(s)),n(3,i=re(e,o)),"class"in s&&n(0,l=s.class),"transition"in s&&n(1,r=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[l,r,a,i]}class hv extends ve{constructor(e){super(),be(this,e,mv,pv,ce,{class:0,transition:1,transitionConfig:2})}}function _v(t){let e;const n=t[4].default,o=me(n,t,t[5],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&32)&&_e(o,n,i,i[5],e?he(n,i[5],l,null):ge(i[5]),null)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function gv(t){let e,n,o,i;e=new hv({});const l=[{transition:t[0]},{transitionConfig:t[1]},{class:Fe("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg md:w-full",t[2])},t[3]];let r={$$slots:{default:[_v]},$$scope:{ctx:t}};for(let a=0;a<l.length;a+=1)r=J(r,l[a]);return o=new f0({props:r}),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment)},m(a,s){U(e,a,s),I(a,n,s),U(o,a,s),i=!0},p(a,s){const u=s&15?we(l,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:Fe("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg md:w-full",a[2])},s&8&&ut(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(S(e.$$.fragment,a),S(o.$$.fragment,a),i=!0)},o(a){M(e.$$.fragment,a),M(o.$$.fragment,a),i=!1},d(a){a&&T(n),K(e,a),K(o,a)}}}function bv(t){let e,n;return e=new av({props:{$$slots:{default:[gv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const l={};i&47&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function vv(t,e,n){const o=["transition","transitionConfig","class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{transition:a=pl}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=J(J({},e),Re(f)),n(3,i=re(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,r=f.$$scope)},[a,s,u,i,l,r]}class wl extends ve{constructor(e){super(),be(this,e,vv,bv,ce,{transition:0,transitionConfig:1,class:2})}}function yv(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&8)&&_e(o,n,i,i[3],e?he(n,i[3],l,null):ge(i[3]),null)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function wv(t){let e,n;const o=[{class:Fe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[yv]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=J(i,o[l]);return e=new I0({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&3?we(o,[r&1&&{class:Fe("text-sm text-muted-foreground",l[0])},r&2&&ut(l[1])]):{};r&8&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function kv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Re(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,r=s.$$scope)},[a,i,l,r]}class Yr extends ve{constructor(e){super(),be(this,e,kv,wv,ce,{class:0})}}const kl=w_;function Xa(t,e,n){const o=t.slice();return o[25]=e[n],o}function Ja(t,e,n){const o=t.slice();return o[28]=e[n],o}function Cv(t){let e;return{c(){e=q("Pause Menu")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Av(t){let e;return{c(){e=q("Unpause any time by pressing 'P'")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Sv(t){let e,n,o,i;return e=new Un({props:{$$slots:{default:[Cv]},$$scope:{ctx:t}}}),o=new Jn({props:{$$slots:{default:[Av]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment)},m(l,r){U(e,l,r),I(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r[1]&1&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r[1]&1&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(S(e.$$.fragment,l),S(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&T(n),K(e,l),K(o,l)}}}function Za(t){let e,n,o,i,l,r=JSON.stringify(t[5].requirements[t[2].difficulty].population_count)+"",a,s,u=JSON.stringify(t[2].townInfo.population_count)+"",f,c,d,p,m=JSON.stringify(t[5].requirements[t[2].difficulty].happiness)+"",h,v,A=JSON.stringify(t[2].townInfo.happiness)+"",w,C,E,$,L=JSON.stringify(t[5].requirements[t[2].difficulty].employment*100)+"",D,Y,F=JSON.stringify((t[2].townInfo.employees/t[2].townInfo.population_count||0)*100)+"",G,y,b,k,P,B=JSON.stringify(t[5].requirements[t[2].difficulty].health)+"",R,x,Q=JSON.stringify(t[2].townInfo.health)+"",Z,z,ne,ae,g=JSON.stringify(t[5].requirements[t[2].difficulty].knowledge)+"",H,j,oe=JSON.stringify(t[2].townInfo.knowledge_points)+"",se,de,Be;function Ae(pe,Qe){return pe[2].townInfo.population_count>=pe[5].requirements[pe[2].difficulty].population_count?Iv:Tv}let Ye=Ae(t),ke=Ye(t);function Ve(pe,Qe){return pe[2].townInfo.happiness>=pe[5].requirements[pe[2].difficulty].happiness?Ov:Mv}let We=Ve(t),xe=We(t);function Ze(pe,Qe){return pe[2].townInfo.employees/pe[2].townInfo.population_count>=pe[5].requirements[pe[2].difficulty].employment?Nv:Pv}let Xe=Ze(t),Pe=Xe(t);function Je(pe,Qe){return pe[2].townInfo.health>=pe[5].requirements[pe[2].difficulty].health?Rv:Ev}let Se=Je(t),De=Se(t);function Dt(pe,Qe){return pe[2].townInfo.knowledge_points>=pe[5].requirements[pe[2].difficulty].knowledge?Dv:Lv}let Pt=Dt(t),gt=Pt(t),ze=t[5].requirements[t[2].difficulty].required_plots!=null&&t[5].requirements[t[2].difficulty].required_plots.length>0&&Qa(t);return{c(){e=O("div"),e.textContent=`With your difficulty (${t[6]}), you must also have:`,n=V(),o=O("ul"),i=O("li"),ke.c(),l=q(`
                  Population: `),a=q(r),s=q(" - Currently at "),f=q(u),c=V(),d=O("li"),xe.c(),p=q(`
                  Happiness: `),h=q(m),v=q(" - Currently at "),w=q(A),C=V(),E=O("li"),Pe.c(),$=q(`
                  Employment: `),D=q(L),Y=q("% - Currently at "),G=q(F),y=q("%"),b=V(),k=O("li"),De.c(),P=q(`
                  Health: `),R=q(B),x=q(" - Currently at "),Z=q(Q),z=V(),ne=O("li"),gt.c(),ae=q(`
                  Knowledge: `),H=q(g),j=q(" - Currently at "),se=q(oe),de=V(),ze&&ze.c(),Be=Le(),N(e,"class","leading-relaxed text-sm"),N(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(pe,Qe){I(pe,e,Qe),I(pe,n,Qe),I(pe,o,Qe),_(o,i),ke.m(i,null),_(i,l),_(i,a),_(i,s),_(i,f),_(o,c),_(o,d),xe.m(d,null),_(d,p),_(d,h),_(d,v),_(d,w),_(o,C),_(o,E),Pe.m(E,null),_(E,$),_(E,D),_(E,Y),_(E,G),_(E,y),_(o,b),_(o,k),De.m(k,null),_(k,P),_(k,R),_(k,x),_(k,Z),_(o,z),_(o,ne),gt.m(ne,null),_(ne,ae),_(ne,H),_(ne,j),_(ne,se),I(pe,de,Qe),ze&&ze.m(pe,Qe),I(pe,Be,Qe)},p(pe,Qe){Ye!==(Ye=Ae(pe))&&(ke.d(1),ke=Ye(pe),ke&&(ke.c(),ke.m(i,l))),Qe[0]&4&&r!==(r=JSON.stringify(pe[5].requirements[pe[2].difficulty].population_count)+"")&&le(a,r),Qe[0]&4&&u!==(u=JSON.stringify(pe[2].townInfo.population_count)+"")&&le(f,u),We!==(We=Ve(pe))&&(xe.d(1),xe=We(pe),xe&&(xe.c(),xe.m(d,p))),Qe[0]&4&&m!==(m=JSON.stringify(pe[5].requirements[pe[2].difficulty].happiness)+"")&&le(h,m),Qe[0]&4&&A!==(A=JSON.stringify(pe[2].townInfo.happiness)+"")&&le(w,A),Xe!==(Xe=Ze(pe))&&(Pe.d(1),Pe=Xe(pe),Pe&&(Pe.c(),Pe.m(E,$))),Qe[0]&4&&L!==(L=JSON.stringify(pe[5].requirements[pe[2].difficulty].employment*100)+"")&&le(D,L),Qe[0]&4&&F!==(F=JSON.stringify((pe[2].townInfo.employees/pe[2].townInfo.population_count||0)*100)+"")&&le(G,F),Se!==(Se=Je(pe))&&(De.d(1),De=Se(pe),De&&(De.c(),De.m(k,P))),Qe[0]&4&&B!==(B=JSON.stringify(pe[5].requirements[pe[2].difficulty].health)+"")&&le(R,B),Qe[0]&4&&Q!==(Q=JSON.stringify(pe[2].townInfo.health)+"")&&le(Z,Q),Pt!==(Pt=Dt(pe))&&(gt.d(1),gt=Pt(pe),gt&&(gt.c(),gt.m(ne,ae))),Qe[0]&4&&g!==(g=JSON.stringify(pe[5].requirements[pe[2].difficulty].knowledge)+"")&&le(H,g),Qe[0]&4&&oe!==(oe=JSON.stringify(pe[2].townInfo.knowledge_points)+"")&&le(se,oe),pe[5].requirements[pe[2].difficulty].required_plots!=null&&pe[5].requirements[pe[2].difficulty].required_plots.length>0?ze?ze.p(pe,Qe):(ze=Qa(pe),ze.c(),ze.m(Be.parentNode,Be)):ze&&(ze.d(1),ze=null)},d(pe){pe&&(T(e),T(n),T(o),T(de),T(Be)),ke.d(),xe.d(),Pe.d(),De.d(),gt.d(),ze&&ze.d(pe)}}}function Tv(t){let e;return{c(){e=q("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Iv(t){let e;return{c(){e=q("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Mv(t){let e;return{c(){e=q("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ov(t){let e;return{c(){e=q("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Pv(t){let e;return{c(){e=q("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Nv(t){let e;return{c(){e=q("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ev(t){let e;return{c(){e=q("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Rv(t){let e;return{c(){e=q("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Lv(t){let e;return{c(){e=q("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Dv(t){let e;return{c(){e=q("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Qa(t){let e,n,o,i=He(t[5].requirements[t[2].difficulty].required_plots),l=[];for(let r=0;r<i.length;r+=1)l[r]=za(Ja(t,i,r));return{c(){e=O("br"),n=q(`
                You also need to have these plots:
                `);for(let r=0;r<l.length;r+=1)l[r].c();o=Le()},m(r,a){I(r,e,a),I(r,n,a);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(r,a);I(r,o,a)},p(r,a){if(a[0]&36){i=He(r[5].requirements[r[2].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=Ja(r,i,s);l[s]?l[s].p(u,a):(l[s]=za(u),l[s].c(),l[s].m(o.parentNode,o))}for(;s<l.length;s+=1)l[s].d(1);l.length=i.length}},d(r){r&&(T(e),T(n),T(o)),dt(l,r)}}}function $v(t){let e;return{c(){e=q("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Fv(t){let e;return{c(){e=q("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function za(t){let e,n,o,i,l=t[28]+"",r,a;function s(c,d){return d[0]&4&&(o=null),o==null&&(o=Ge(c[28],c[2]).length>0),o?Fv:$v}let u=s(t,[-1,-1]),f=u(t);return{c(){e=O("div"),n=O("li"),f.c(),i=V(),r=q(l),a=V(),N(e,"class","text-sm")},m(c,d){I(c,e,d),_(e,n),f.m(n,null),_(n,i),_(n,r),_(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d[0]&4&&l!==(l=c[28]+"")&&le(r,l)},d(c){c&&T(e),f.d()}}}function jv(t){let e;return{c(){e=q("Save game")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Bv(t){let e;return{c(){e=q("Save")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function qv(t){let e;return{c(){e=q("Upload game")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function eu(t){let e,n;function o(){return t[19](t[25])}return e=new yt({props:{class:"bg-blue-600 hover:bg-blue-700 mt-4",id:"collectPrize-"+t[25].id,$$slots:{default:[Gv]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){X(e.$$.fragment)},m(i,l){U(e,i,l),n=!0},p(i,l){t=i;const r={};l[0]&2&&(r.id="collectPrize-"+t[25].id),l[0]&2|l[1]&1&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){M(e.$$.fragment,i),n=!1},d(i){K(e,i)}}}function Gv(t){let e,n=nu(t[25].prize)+"",o,i;return{c(){e=q("Collect Prize: $"),o=q(n),i=q(" gold")},m(l,r){I(l,e,r),I(l,o,r),I(l,i,r)},p(l,r){r[0]&2&&n!==(n=nu(l[25].prize)+"")&&le(o,n)},d(l){l&&(T(e),T(o),T(i))}}}function tu(t){let e,n,o,i,l,r,a=t[25].title+"",s,u,f,c=t[25].requirements+"",d,p,m,h=t[25].icon+"",v,A,w,C=t[25].description+"",E,$,L,D,Y=t[8](t[25].id)+"",F,G,y,b=t[13](t[25].id)&&!t[9](t[25].id),k,P,B,R=b&&eu(t);return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("span"),l=O("div"),r=O("span"),s=q(a),u=V(),f=O("div"),d=q(c),p=V(),m=O("div"),v=q(h),A=V(),w=O("div"),E=q(C),$=V(),L=O("div"),D=q("✅ Completed on Day "),F=q(Y),y=V(),R&&R.c(),k=V(),N(r,"class","font-semibold text-lg"),N(f,"class","font-thin text-white opacity-75 text-xs"),N(l,"class","flex flex-row gap-3 w-[100%] text- items-center "),N(m,"class","text-sm flex-grow pr-1 break-inside-avoid "),N(i,"class","flex flex-row justify-between w-[100%]"),N(o,"class","min-w-32 flex"),N(w,"class","text-white opacity-75 text-sm font-light"),N(L,"class",G=(t[13](t[25].id)?"":"hidden")+" text-xs text-green-400"),N(n,"class","flex-col flex px-3 py-2 gap-0"),N(e,"class",P="flex flex-col gap-3 cursor-default rounded-md "+(t[13](t[25].id)?"bg-green-700":"bg-gray-500 opacity-35"))},m(x,Q){I(x,e,Q),_(e,n),_(n,o),_(o,i),_(i,l),_(l,r),_(r,s),_(l,u),_(l,f),_(f,d),_(i,p),_(i,m),_(m,v),_(n,A),_(n,w),_(w,E),_(n,$),_(n,L),_(L,D),_(L,F),_(n,y),R&&R.m(n,null),_(e,k),B=!0},p(x,Q){(!B||Q[0]&2)&&a!==(a=x[25].title+"")&&le(s,a),(!B||Q[0]&2)&&c!==(c=x[25].requirements+"")&&le(d,c),(!B||Q[0]&2)&&h!==(h=x[25].icon+"")&&le(v,h),(!B||Q[0]&2)&&C!==(C=x[25].description+"")&&le(E,C),(!B||Q[0]&2)&&Y!==(Y=x[8](x[25].id)+"")&&le(F,Y),(!B||Q[0]&2&&G!==(G=(x[13](x[25].id)?"":"hidden")+" text-xs text-green-400"))&&N(L,"class",G),Q[0]&2&&(b=x[13](x[25].id)&&!x[9](x[25].id)),b?R?(R.p(x,Q),Q[0]&2&&S(R,1)):(R=eu(x),R.c(),S(R,1),R.m(n,null)):R&&(Me(),M(R,1,1,()=>{R=null}),Oe()),(!B||Q[0]&2&&P!==(P="flex flex-col gap-3 cursor-default rounded-md "+(x[13](x[25].id)?"bg-green-700":"bg-gray-500 opacity-35")))&&N(e,"class",P)},i(x){B||(S(R),B=!0)},o(x){M(R),B=!1},d(x){x&&T(e),R&&R.d()}}}function Hv(t){let e,n,o,i,l,r,a,s,u,f,c,d,p,m,h,v,A,w,C,E,$,L,D,Y,F,G,y,b,k,P,B,R,x,Q,Z,z,ne,ae,g,H,j,oe,se;e=new Kn({props:{$$slots:{default:[Sv]},$$scope:{ctx:t}}});let de=t[2].endGoal=="land"&&Za(t);h=new ao({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[jv]},$$scope:{ctx:t}}}),A=new yt({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[Bv]},$$scope:{ctx:t}}}),A.$on("click",t[16]),C=new ao({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[qv]},$$scope:{ctx:t}}}),$=new Vr({props:{class:"hidden",type:"file",id:"upload"}}),$.$on("change",t[12]),D=new St({props:{orientation:"vertical"}});let Be=He(t[1]),Ae=[];for(let ke=0;ke<Be.length;ke+=1)Ae[ke]=tu(Xa(t,Be,ke));const Ye=ke=>M(Ae[ke],1,1,()=>{Ae[ke]=null});return{c(){X(e.$$.fragment),n=V(),o=O("div"),i=O("div"),l=O("div"),r=O("h4"),r.textContent="This game",a=V(),s=O("span"),s.textContent=`${t[5].description_title}`,u=V(),f=O("div"),de&&de.c(),c=V(),d=O("div"),p=O("div"),m=O("div"),X(h.$$.fragment),v=V(),X(A.$$.fragment),w=V(),X(C.$$.fragment),E=V(),X($.$$.fragment),L=V(),X(D.$$.fragment),Y=V(),F=O("div"),G=O("h4"),G.textContent=`Your achievement (${t[7].length}
          / ${lt.length})`,y=V(),b=O("span"),b.textContent="Track your progress through games & complete challenges!",k=V(),P=O("br"),B=V(),R=O("div"),x=O("input"),Q=V(),Z=O("label"),Z.textContent="Show completed",z=V(),ne=O("div"),ae=O("div");for(let ke=0;ke<Ae.length;ke+=1)Ae[ke].c();g=V(),H=O("span"),H.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,N(r,"class","underline underline-offset-4"),N(s,"class","text-sm text-gray-400"),N(f,"class","mt-6 gap-0 py-0 text-gray-400 text-sm"),N(l,"class","flex-col h-max"),N(m,"class","flex gap-10 justify-start min-w-[100%] w-[100%] items"),N(p,"class","flex flex-col gap-3 h-max"),N(i,"class","flex flex-col gap-6 justify-between"),N(G,"class","underline underline-offset-4"),N(b,"class","text-sm text-gray-400"),N(x,"type","checkbox"),N(x,"id","toggle-show-completed"),N(x,"class","rounded"),N(x,"tabindex","-1"),x.checked=localStorage.getItem("showCompletedAchievements")==="true",N(Z,"for","toggle-show-completed"),N(Z,"class","text-xs text-gray-400 select-none ml-2 no-select cursor-pointer "),N(R,"class","flex items-center"),N(ae,"class","flex flex-col gap-4 overflow-scroll pb-20 scroll-smooth"),N(ne,"class","overflow-scroll mt-2 h-[55vh]"),N(H,"class","text-sm text-yellow-400 italic"),N(o,"class","flex flex-row w-full gap-10")},m(ke,Ve){U(e,ke,Ve),I(ke,n,Ve),I(ke,o,Ve),_(o,i),_(i,l),_(l,r),_(l,a),_(l,s),_(l,u),_(l,f),de&&de.m(f,null),_(i,c),_(i,d),_(d,p),_(p,m),U(h,m,null),_(m,v),U(A,m,null),_(m,w),U(C,m,null),_(m,E),U($,m,null),_(o,L),U(D,o,null),_(o,Y),_(o,F),_(F,G),_(F,y),_(F,b),_(F,k),_(F,P),_(F,B),_(F,R),_(R,x),_(R,Q),_(R,Z),_(F,z),_(F,ne),_(ne,ae);for(let We=0;We<Ae.length;We+=1)Ae[We]&&Ae[We].m(ae,null);_(F,g),_(F,H),j=!0,oe||(se=[ee(x,"change",t[17]),ee(x,"keydown",t[18])],oe=!0)},p(ke,Ve){const We={};Ve[1]&1&&(We.$$scope={dirty:Ve,ctx:ke}),e.$set(We),ke[2].endGoal=="land"?de?de.p(ke,Ve):(de=Za(ke),de.c(),de.m(f,null)):de&&(de.d(1),de=null);const xe={};Ve[1]&1&&(xe.$$scope={dirty:Ve,ctx:ke}),h.$set(xe);const Ze={};Ve[1]&1&&(Ze.$$scope={dirty:Ve,ctx:ke}),A.$set(Ze);const Xe={};if(Ve[1]&1&&(Xe.$$scope={dirty:Ve,ctx:ke}),C.$set(Xe),Ve[0]&9986){Be=He(ke[1]);let Pe;for(Pe=0;Pe<Be.length;Pe+=1){const Je=Xa(ke,Be,Pe);Ae[Pe]?(Ae[Pe].p(Je,Ve),S(Ae[Pe],1)):(Ae[Pe]=tu(Je),Ae[Pe].c(),S(Ae[Pe],1),Ae[Pe].m(ae,null))}for(Me(),Pe=Be.length;Pe<Ae.length;Pe+=1)Ye(Pe);Oe()}},i(ke){if(!j){S(e.$$.fragment,ke),S(h.$$.fragment,ke),S(A.$$.fragment,ke),S(C.$$.fragment,ke),S($.$$.fragment,ke),S(D.$$.fragment,ke);for(let Ve=0;Ve<Be.length;Ve+=1)S(Ae[Ve]);j=!0}},o(ke){M(e.$$.fragment,ke),M(h.$$.fragment,ke),M(A.$$.fragment,ke),M(C.$$.fragment,ke),M($.$$.fragment,ke),M(D.$$.fragment,ke),Ae=Ae.filter(Boolean);for(let Ve=0;Ve<Ae.length;Ve+=1)M(Ae[Ve]);j=!1},d(ke){ke&&(T(n),T(o)),K(e,ke),de&&de.d(),K(h),K(A),K(C),K($),K(D),dt(Ae,ke),oe=!1,$e(se)}}}function Vv(t){let e,n;return e=new Xn({props:{class:" max-w-[90vw] max-h-[90vh] bg-foregroundDark text-foregroundText",$$slots:{default:[Hv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i[0]&6|i[1]&1&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Wv(t){var o;let e=((o=t[14]())==null?void 0:o.title)+"",n;return{c(){n=q(e)},m(i,l){I(i,n,l)},p:Ce,d(i){i&&T(n)}}}function Yv(t){let e,n,o,i;return{c(){var l,r;e=O("div"),n=O("div"),n.textContent=`${(l=t[14]())==null?void 0:l.icon}`,o=V(),i=O("div"),i.textContent=`${(r=t[14]())==null?void 0:r.description}`,N(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),N(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),N(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(l,r){I(l,e,r),_(e,n),_(e,o),_(e,i)},p:Ce,d(l){l&&T(e)}}}function xv(t){let e,n,o,i;return e=new id({props:{class:"text-center text-xl font-bold",$$slots:{default:[Wv]},$$scope:{ctx:t}}}),o=new Yr({props:{$$slots:{default:[Yv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment)},m(l,r){U(e,l,r),I(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r[1]&1&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r[1]&1&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(S(e.$$.fragment,l),S(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&T(n),K(e,l),K(o,l)}}}function Uv(t){let e;return{c(){e=q("Close to collect prize")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Kv(t){let e,n;return e=new rd({props:{$$slots:{default:[Uv]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i[1]&1&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Xv(t){let e,n,o,i;return e=new Wr({props:{$$slots:{default:[xv]},$$scope:{ctx:t}}}),o=new yl({props:{$$slots:{default:[Kv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment)},m(l,r){U(e,l,r),I(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r[1]&1&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r[0]&16|r[1]&1&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(S(e.$$.fragment,l),S(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&T(n),K(e,l),K(o,l)}}}function Jv(t){let e,n;return e=new wl({props:{$$slots:{default:[Xv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i[0]&16|i[1]&1&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Zv(t){let e,n,o,i,l;function r(s){t[20](s)}let a={$$slots:{default:[Vv]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),e=new Zn({props:a}),Ee.push(()=>An(e,"open",r)),i=new kl({props:{open:t[4],$$slots:{default:[Jv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),o=V(),X(i.$$.fragment)},m(s,u){U(e,s,u),I(s,o,u),U(i,s,u),l=!0},p(s,u){const f={};u[0]&6|u[1]&1&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&8&&(n=!0,f.open=s[3],Cn(()=>n=!1)),e.$set(f);const c={};u[0]&16&&(c.open=s[4]),u[0]&16|u[1]&1&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){l||(S(e.$$.fragment,s),S(i.$$.fragment,s),l=!0)},o(s){M(e.$$.fragment,s),M(i.$$.fragment,s),l=!1},d(s){s&&T(o),K(e,s),K(i,s)}}}function nu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Qv(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function zv(t,e,n){let o,i,l,r,a;ue(t,rn,y=>n(23,o=y)),ue(t,Ne,y=>n(2,i=y)),ue(t,Vi,y=>n(15,l=y)),ue(t,Et,y=>n(3,r=y)),ue(t,Gi,y=>n(4,a=y));const u=Gn[i.endGoal],f=Nr[i.difficulty]||0;lt.sort((y,b)=>w(y.id)&&!w(b.id)?-1:!w(y.id)&&w(b.id)?1:0);const c=lt.filter(y=>w(y.id));function d(y){const b=o.achievements.find(k=>k[0]==y);return b==null?0:`${b[1]} in ${b[2]}.`}function p(y){const b=o.achievements.find(k=>k[0]==y);return b==null?!1:b[3]}function m(y){const b=o.achievements.find(P=>P[0]==y);if(b==null)return;const k=lt.find(P=>P.id==y);k!=null&&(Ie(Ne,i.townInfo.gold+=k.prize,i),b[3]=!0,Ie(rn,o.achievements=o.achievements.map(P=>P[0]==y?b:P),o))}let h=lt;function v(){const y=JSON.stringify(i),b=new Blob([y],{type:"text/plain"}),k=URL.createObjectURL(b),P=document.createElement("a");P.href=k,P.download=`${new Date().toISOString()}.json`,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(k)}function A(){const b=document.getElementById("upload").files;if(b==null)return;const k=b[0],P=new FileReader;P.onload=function(B){if(B.target==null)return;const R=B.target.result;if(typeof R=="string"){if(!Qv(R)){Rt.set("Invalid game file");return}Er(JSON.parse(R))}else Rt.set("Invalid game file: is not String.")},P.readAsText(k)}function w(y){return o.achievements==null?!1:o.achievements.find(b=>b[0]==y)!=null}function C(){Vi.update(y=>!y),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),hc.set("game"));function E(){const y=o.achievements[o.achievements.length-1];if(y!=null)return lt.find(b=>b.id==y[0])}const $=()=>v(),L=()=>{C()},D=y=>{y.key==="p"&&Et.set(!1)},Y=y=>{m(y.id);const b=document.getElementById(`collectPrize-${y.id}`);b&&(b.style.display="none")};function F(y){r=y,Et.set(r)}const G=()=>{Ie(Gi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&32774&&i)if(l)n(1,h=lt);else{n(1,h=[]);for(let y=0;y<lt.length;y++)(!w(lt[y].id)||!p(lt[y].id))&&h.push(lt[y])}},[C,h,i,r,a,u,f,c,d,p,m,v,A,w,E,l,$,L,D,Y,F,G]}class ey extends ve{constructor(e){super(),be(this,e,zv,Zv,ce,{toggleShowCompleted:0},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[0]}}function ty(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function ny(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=q(e)},m(o,i){I(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&le(n,e)},d(o){o&&T(n)}}}function oy(t){let e;return{c(){e=q("Keep playin'")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function iy(t){let e,n=t[0].endGameDetails.msg+"",o,i,l,r,a,s,u,f;return u=new yt({props:{class:"bg-accent",$$slots:{default:[oy]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=O("span"),o=q(n),i=V(),l=O("br"),r=V(),a=O("br"),s=V(),X(u.$$.fragment),N(e,"class","text-gray-500 text-sm")},m(c,d){I(c,e,d),_(e,o),I(c,i,d),I(c,l,d),I(c,r,d),I(c,a,d),I(c,s,d),U(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&le(o,n);const p={};d&16&&(p.$$scope={dirty:d,ctx:c}),u.$set(p)},i(c){f||(S(u.$$.fragment,c),f=!0)},o(c){M(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(i),T(l),T(r),T(a),T(s)),K(u,c)}}}function ly(t){let e,n,o,i;return e=new Un({props:{$$slots:{default:[ny]},$$scope:{ctx:t}}}),o=new Jn({props:{$$slots:{default:[iy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment)},m(l,r){U(e,l,r),I(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&17&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&17&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(S(e.$$.fragment,l),S(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&T(n),K(e,l),K(o,l)}}}function ry(t){let e;return{c(){e=O("span"),e.textContent="Reset the game by pressing SHIFT+ESC",N(e,"class","text-gray-500 text-sm")},m(n,o){I(n,e,o)},p:Ce,d(n){n&&T(e)}}}function sy(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[ly]},$$scope:{ctx:t}}}),o=new Io({props:{$$slots:{default:[ry]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment)},m(l,r){U(e,l,r),I(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&17&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&16&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(S(e.$$.fragment,l),S(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&T(n),K(e,l),K(o,l)}}}function ay(t){let e,n;return e=new Xn({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[sy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&17&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function uy(t){let e,n,o;function i(r){t[3](r)}let l={$$slots:{default:[ay]},$$scope:{ctx:t}};return t[1]!==void 0&&(l.open=t[1]),e=new Zn({props:l}),Ee.push(()=>An(e,"open",i)),{c(){X(e.$$.fragment)},m(r,a){U(e,r,a),o=!0},p(r,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:r}),!n&&a&2&&(n=!0,s.open=r[1],Cn(()=>n=!1)),e.$set(s)},i(r){o||(S(e.$$.fragment,r),o=!0)},o(r){M(e.$$.fragment,r),o=!1},d(r){K(e,r)}}}function fy(t,e,n){let o;ue(t,Ne,a=>n(0,o=a));let i=!1;function l(){let a=o;a.overtime=!0,Ne.set(a),n(1,i=!1),Et.set(!1)}function r(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,l,r]}class cy extends ve{constructor(e){super(),be(this,e,fy,uy,ce,{})}}function dy(t){let e;return{c(){e=q("Welcome to Plots!")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function py(t){let e;return{c(){e=q("Select a map size (difficulty)")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function my(t){let e;return{c(){e=q("Select a game mode")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function hy(t){let e;return{c(){e=O("p"),e.textContent=`${Gn.free_play.description_title}`,N(e,"class","text-gray-500 text-sm")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function _y(t){let e;return{c(){e=O("p"),e.textContent=`${Gn.land.description_title}`,N(e,"class","text-gray-500 text-sm")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function gy(t){let e;return{c(){e=q("Town Name")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function by(t){let e;return{c(){e=q("Cheats")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function vy(t){let e,n,o,i,l,r,a,s,u,f,c,d,p,m,h,v,A,w,C,E,$,L,D,Y,F,G,y,b,k,P,B,R,x;l=new ao({props:{for:"difficulty",class:"mt-2",$$slots:{default:[py]},$$scope:{ctx:t}}}),p=new ao({props:{for:"endGoal",class:"mt-2",$$slots:{default:[my]},$$scope:{ctx:t}}});function Q(ne,ae){return ne[0]==="land"?_y:hy}let Z=Q(t),z=Z(t);return $=new ao({props:{for:"townName",class:"mt-2",$$slots:{default:[gy]},$$scope:{ctx:t}}}),D=new Vr({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),G=new ao({props:{for:"cheats",class:"mt-2",$$slots:{default:[by]},$$scope:{ctx:t}}}),{c(){e=O("a"),e.textContent="GitHub / Learn how to play",n=V(),o=O("div"),i=O("div"),X(l.$$.fragment),r=V(),a=O("select"),s=O("option"),s.textContent="Easy (quick game)",u=O("option"),u.textContent="Normal",f=O("option"),f.textContent="Hard (longest game)",c=V(),d=O("div"),X(p.$$.fragment),m=V(),z.c(),h=V(),v=O("select"),A=O("option"),A.textContent=`${Gn.land.short_title}`,w=O("option"),w.textContent=`${Gn.free_play.short_title}`,C=V(),E=O("div"),X($.$$.fragment),L=V(),X(D.$$.fragment),Y=V(),F=O("div"),X(G.$$.fragment),y=V(),b=O("select"),k=O("option"),k.textContent="No cheats",P=O("option"),P.textContent="Dev mode",N(e,"href","https://github.com/josephrcox/plots#how-to-play"),N(e,"class","text-blue-500 text-sm mb-4 hover:underline"),N(e,"target","_blank"),s.__value="0",nn(s,s.__value),u.__value="1",nn(u,u.__value),u.selected=!0,f.__value="2",nn(f,f.__value),N(a,"id","difficulty"),N(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"),A.__value="land",nn(A,A.__value),w.__value="free_play",nn(w,w.__value),N(v,"id","endGoal"),N(v,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),k.__value="false",nn(k,k.__value),k.selected=!0,P.__value="true",nn(P,P.__value),N(b,"id","cheats"),N(b,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),N(o,"class","flex flex-col justify-center gap-5 mt-4")},m(ne,ae){I(ne,e,ae),I(ne,n,ae),I(ne,o,ae),_(o,i),U(l,i,null),_(i,r),_(i,a),_(a,s),_(a,u),_(a,f),_(o,c),_(o,d),U(p,d,null),_(d,m),z.m(d,null),_(d,h),_(d,v),_(v,A),_(v,w),ds(v,t[0]),_(o,C),_(o,E),U($,E,null),_(E,L),U(D,E,null),_(o,Y),_(o,F),U(G,F,null),_(F,y),_(F,b),_(b,k),_(b,P),B=!0,R||(x=ee(v,"change",t[4]),R=!0)},p(ne,ae){const g={};ae&256&&(g.$$scope={dirty:ae,ctx:ne}),l.$set(g);const H={};ae&256&&(H.$$scope={dirty:ae,ctx:ne}),p.$set(H),Z!==(Z=Q(ne))&&(z.d(1),z=Z(ne),z&&(z.c(),z.m(d,h))),(!B||ae&1)&&ds(v,ne[0]);const j={};ae&256&&(j.$$scope={dirty:ae,ctx:ne}),$.$set(j);const oe={};ae&256&&(oe.$$scope={dirty:ae,ctx:ne}),G.$set(oe)},i(ne){B||(S(l.$$.fragment,ne),S(p.$$.fragment,ne),S($.$$.fragment,ne),S(D.$$.fragment,ne),S(G.$$.fragment,ne),B=!0)},o(ne){M(l.$$.fragment,ne),M(p.$$.fragment,ne),M($.$$.fragment,ne),M(D.$$.fragment,ne),M(G.$$.fragment,ne),B=!1},d(ne){ne&&(T(e),T(n),T(o)),K(l),K(p),z.d(),K($),K(D),K(G),R=!1,x()}}}function yy(t){let e,n,o,i;return e=new Un({props:{$$slots:{default:[dy]},$$scope:{ctx:t}}}),o=new Jn({props:{$$slots:{default:[vy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment)},m(l,r){U(e,l,r),I(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&256&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&257&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(S(e.$$.fragment,l),S(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&T(n),K(e,l),K(o,l)}}}function wy(t){let e;return{c(){e=q("Reset user")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function ky(t){let e,n,o=t[1].username+"",i,l,r,a,s,u,f,c,d;return a=new yt({props:{$$slots:{default:[wy]},$$scope:{ctx:t}}}),a.$on("click",t[5]),{c(){e=O("div"),n=O("span"),i=q(o),l=V(),r=O("div"),X(a.$$.fragment),s=V(),u=O("button"),u.textContent="Start game",N(n,"class","italic opacity-30 text-xs py-2 text-start rounded h-full flex flex-col justify-center mr-10"),N(u,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"),N(e,"class","flex flex-row justify-between w-full px-1")},m(p,m){I(p,e,m),_(e,n),_(n,i),_(e,l),_(e,r),U(a,r,null),_(r,s),_(r,u),f=!0,c||(d=[ee(n,"click",t[6]),ee(u,"click",t[3])],c=!0)},p(p,m){(!f||m&2)&&o!==(o=p[1].username+"")&&le(i,o);const h={};m&256&&(h.$$scope={dirty:m,ctx:p}),a.$set(h)},i(p){f||(S(a.$$.fragment,p),f=!0)},o(p){M(a.$$.fragment,p),f=!1},d(p){p&&T(e),K(a),c=!1,$e(d)}}}function Cy(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[yy]},$$scope:{ctx:t}}}),o=new Io({props:{$$slots:{default:[ky]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment)},m(l,r){U(e,l,r),I(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&257&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&258&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(S(e.$$.fragment,l),S(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&T(n),K(e,l),K(o,l)}}}function Ay(t){let e,n;return e=new Xn({props:{transition:pl,class:"bg-foregroundDark text-foregroundText",$$slots:{default:[Cy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&259&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Sy(t){let e,n,o;function i(r){t[7](r)}let l={$$slots:{default:[Ay]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(l.open=t[2].visible),e=new Zn({props:l}),Ee.push(()=>An(e,"open",i)),{c(){X(e.$$.fragment)},m(r,a){U(e,r,a),o=!0},p(r,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:r}),!n&&a&4&&(n=!0,s.open=r[2].visible,Cn(()=>n=!1)),e.$set(s)},i(r){o||(S(e.$$.fragment,r),o=!0)},o(r){M(e.$$.fragment,r),o=!1},d(r){K(e,r)}}}function Ty(t,e,n){let o,i;ue(t,rn,c=>n(1,o=c)),ue(t,Ho,c=>n(2,i=c)),Et.set(!1);function l(){const c=document.getElementById("difficulty").value,d=document.getElementById("endGoal").value,p=document.getElementById("townName").value,m=document.getElementById("cheats").value=="true";_p(c,d,p,m)}let r="free_play";const a=c=>{n(0,r=c.target.value)};function s(){Rt.set("Deleted :)"),localStorage.clear(),window.location.href=""}function u(){const c=prompt("Enter new username");let d=o;d.username=c,wp(d)}function f(c){t.$$.not_equal(i.visible,c)&&(i.visible=c,Ho.set(i))}return[r,o,i,l,a,s,u,f]}class Iy extends ve{constructor(e){super(),be(this,e,Ty,Sy,ce,{})}}function My(t){let e;return{c(){e=q("Scoreboard")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Oy(t){let e=t[1].description_title+"",n;return{c(){n=q(e)},m(o,i){I(o,n,i)},p:Ce,d(o){o&&T(n)}}}function Py(t){let e,n,o,i;return e=new Un({props:{$$slots:{default:[My]},$$scope:{ctx:t}}}),o=new Jn({props:{$$slots:{default:[Oy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment)},m(l,r){U(e,l,r),I(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&128&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&128&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(S(e.$$.fragment,l),S(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&T(n),K(e,l),K(o,l)}}}function Ny(t){let e;return{c(){e=q("footer")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ey(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[Py]},$$scope:{ctx:t}}}),o=new Io({props:{$$slots:{default:[Ny]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=q(`
		hi
		`),X(o.$$.fragment)},m(l,r){U(e,l,r),I(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&128&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&128&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(S(e.$$.fragment,l),S(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&T(n),K(e,l),K(o,l)}}}function Ry(t){let e,n;return e=new Xn({props:{$$slots:{default:[Ey]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&128&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Ly(t){let e,n,o;function i(r){t[3](r)}let l={$$slots:{default:[Ry]},$$scope:{ctx:t}};return t[0]!==void 0&&(l.open=t[0]),e=new Zn({props:l}),Ee.push(()=>An(e,"open",i)),{c(){X(e.$$.fragment)},m(r,a){U(e,r,a),o=!0},p(r,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:r}),!n&&a&1&&(n=!0,s.open=r[0],Cn(()=>n=!1)),e.$set(s)},i(r){o||(S(e.$$.fragment,r),o=!0)},o(r){M(e.$$.fragment,r),o=!1},d(r){K(e,r)}}}function Dy(t,e,n){let o,i;ue(t,Ne,s=>n(2,o=s)),ue(t,gs,s=>n(0,i=s));const r=Gn[o.endGoal];Nr[o.difficulty];function a(s){i=s,gs.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,r,o,a]}class $y extends ve{constructor(e){super(),be(this,e,Dy,Ly,ce,{})}}function Oi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fy(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sd(t){let e,n,o;t.length!==2?(e=Oi,n=(a,s)=>Oi(t(a),s),o=(a,s)=>t(a)-s):(e=t===Oi||t===Fy?t:jy,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:r,right:l}}function jy(){return 0}function By(t){return t===null?NaN:+t}const qy=sd(Oi),Gy=qy.right;sd(By).center;const Hy=Math.sqrt(50),Vy=Math.sqrt(10),Wy=Math.sqrt(2);function Zi(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),l=o/Math.pow(10,i),r=l>=Hy?10:l>=Vy?5:l>=Wy?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/r,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*r,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?Zi(t,e,n*2):[a,s,u]}function Yy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,l,r]=o?Zi(e,t,n):Zi(t,e,n);if(!(l>=i))return[];const a=l-i+1,s=new Array(a);if(o)if(r<0)for(let u=0;u<a;++u)s[u]=(l-u)/-r;else for(let u=0;u<a;++u)s[u]=(l-u)*r;else if(r<0)for(let u=0;u<a;++u)s[u]=(i+u)/-r;else for(let u=0;u<a;++u)s[u]=(i+u)*r;return s}function cr(t,e,n){return e=+e,t=+t,n=+n,Zi(t,e,n)[2]}function xy(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?cr(e,t,n):cr(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function Uy(t){return t}var Wl=1,Yl=2,dr=3,Fo=4,ou=1e-6;function Ky(t){return"translate("+t+",0)"}function Xy(t){return"translate(0,"+t+")"}function Jy(t){return e=>+t(e)}function Zy(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Qy(){return!this.__axis}function ad(t,e){var n=[],o=null,i=null,l=6,r=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Wl||t===Fo?-1:1,f=t===Fo||t===Yl?"x":"y",c=t===Wl||t===dr?Ky:Xy;function d(p){var m=o??(e.ticks?e.ticks.apply(e,n):e.domain()),h=i??(e.tickFormat?e.tickFormat.apply(e,n):Uy),v=Math.max(l,0)+a,A=e.range(),w=+A[0]+s,C=+A[A.length-1]+s,E=(e.bandwidth?Zy:Jy)(e.copy(),s),$=p.selection?p.selection():p,L=$.selectAll(".domain").data([null]),D=$.selectAll(".tick").data(m,e).order(),Y=D.exit(),F=D.enter().append("g").attr("class","tick"),G=D.select("line"),y=D.select("text");L=L.merge(L.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),D=D.merge(F),G=G.merge(F.append("line").attr("stroke","currentColor").attr(f+"2",u*l)),y=y.merge(F.append("text").attr("fill","currentColor").attr(f,u*v).attr("dy",t===Wl?"0em":t===dr?"0.71em":"0.32em")),p!==$&&(L=L.transition(p),D=D.transition(p),G=G.transition(p),y=y.transition(p),Y=Y.transition(p).attr("opacity",ou).attr("transform",function(b){return isFinite(b=E(b))?c(b+s):this.getAttribute("transform")}),F.attr("opacity",ou).attr("transform",function(b){var k=this.parentNode.__axis;return c((k&&isFinite(k=k(b))?k:E(b))+s)})),Y.remove(),L.attr("d",t===Fo||t===Yl?r?"M"+u*r+","+w+"H"+s+"V"+C+"H"+u*r:"M"+s+","+w+"V"+C:r?"M"+w+","+u*r+"V"+s+"H"+C+"V"+u*r:"M"+w+","+s+"H"+C),D.attr("opacity",1).attr("transform",function(b){return c(E(b)+s)}),G.attr(f+"2",u*l),y.attr(f,u*v).text(h),$.filter(Qy).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Yl?"start":t===Fo?"end":"middle"),$.each(function(){this.__axis=E})}return d.scale=function(p){return arguments.length?(e=p,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),d):n.slice()},d.tickValues=function(p){return arguments.length?(o=p==null?null:Array.from(p),d):o&&o.slice()},d.tickFormat=function(p){return arguments.length?(i=p,d):i},d.tickSize=function(p){return arguments.length?(l=r=+p,d):l},d.tickSizeInner=function(p){return arguments.length?(l=+p,d):l},d.tickSizeOuter=function(p){return arguments.length?(r=+p,d):r},d.tickPadding=function(p){return arguments.length?(a=+p,d):a},d.offset=function(p){return arguments.length?(s=+p,d):s},d}function zy(t){return ad(dr,t)}function ew(t){return ad(Fo,t)}var tw={value:()=>{}};function ud(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Pi(n)}function Pi(t){this._=t}function nw(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Pi.prototype=ud.prototype={constructor:Pi,on:function(t,e){var n=this._,o=nw(t+"",n),i,l=-1,r=o.length;if(arguments.length<2){for(;++l<r;)if((i=(t=o[l]).type)&&(i=ow(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++l<r;)if(i=(t=o[l]).type)n[i]=iu(n[i],t.name,e);else if(e==null)for(i in n)n[i]=iu(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Pi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,l;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(l=this._[t],o=0,i=l.length;o<i;++o)l[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,l=o.length;i<l;++i)o[i].value.apply(e,n)}};function ow(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function iu(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=tw,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var pr="http://www.w3.org/1999/xhtml";const lu={svg:"http://www.w3.org/2000/svg",xhtml:pr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Cl(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),lu.hasOwnProperty(e)?{space:lu[e],local:t}:t}function iw(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===pr&&e.documentElement.namespaceURI===pr?e.createElement(t):e.createElementNS(n,t)}}function lw(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function fd(t){var e=Cl(t);return(e.local?lw:iw)(e)}function rw(){}function xr(t){return t==null?rw:function(){return this.querySelector(t)}}function sw(t){typeof t!="function"&&(t=xr(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var l=e[i],r=l.length,a=o[i]=new Array(r),s,u,f=0;f<r;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new Ot(o,this._parents)}function aw(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function uw(){return[]}function cd(t){return t==null?uw:function(){return this.querySelectorAll(t)}}function fw(t){return function(){return aw(t.apply(this,arguments))}}function cw(t){typeof t=="function"?t=fw(t):t=cd(t);for(var e=this._groups,n=e.length,o=[],i=[],l=0;l<n;++l)for(var r=e[l],a=r.length,s,u=0;u<a;++u)(s=r[u])&&(o.push(t.call(s,s.__data__,u,r)),i.push(s));return new Ot(o,i)}function dd(t){return function(){return this.matches(t)}}function pd(t){return function(e){return e.matches(t)}}var dw=Array.prototype.find;function pw(t){return function(){return dw.call(this.children,t)}}function mw(){return this.firstElementChild}function hw(t){return this.select(t==null?mw:pw(typeof t=="function"?t:pd(t)))}var _w=Array.prototype.filter;function gw(){return Array.from(this.children)}function bw(t){return function(){return _w.call(this.children,t)}}function vw(t){return this.selectAll(t==null?gw:bw(typeof t=="function"?t:pd(t)))}function yw(t){typeof t!="function"&&(t=dd(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var l=e[i],r=l.length,a=o[i]=[],s,u=0;u<r;++u)(s=l[u])&&t.call(s,s.__data__,u,l)&&a.push(s);return new Ot(o,this._parents)}function md(t){return new Array(t.length)}function ww(){return new Ot(this._enter||this._groups.map(md),this._parents)}function Qi(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Qi.prototype={constructor:Qi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function kw(t){return function(){return t}}function Cw(t,e,n,o,i,l){for(var r=0,a,s=e.length,u=l.length;r<u;++r)(a=e[r])?(a.__data__=l[r],o[r]=a):n[r]=new Qi(t,l[r]);for(;r<s;++r)(a=e[r])&&(i[r]=a)}function Aw(t,e,n,o,i,l,r){var a,s,u=new Map,f=e.length,c=l.length,d=new Array(f),p;for(a=0;a<f;++a)(s=e[a])&&(d[a]=p=r.call(s,s.__data__,a,e)+"",u.has(p)?i[a]=s:u.set(p,s));for(a=0;a<c;++a)p=r.call(t,l[a],a,l)+"",(s=u.get(p))?(o[a]=s,s.__data__=l[a],u.delete(p)):n[a]=new Qi(t,l[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function Sw(t){return t.__data__}function Tw(t,e){if(!arguments.length)return Array.from(this,Sw);var n=e?Aw:Cw,o=this._parents,i=this._groups;typeof t!="function"&&(t=kw(t));for(var l=i.length,r=new Array(l),a=new Array(l),s=new Array(l),u=0;u<l;++u){var f=o[u],c=i[u],d=c.length,p=Iw(t.call(f,f&&f.__data__,u,o)),m=p.length,h=a[u]=new Array(m),v=r[u]=new Array(m),A=s[u]=new Array(d);n(f,c,h,v,A,p,e);for(var w=0,C=0,E,$;w<m;++w)if(E=h[w]){for(w>=C&&(C=w+1);!($=v[C])&&++C<m;);E._next=$||null}}return r=new Ot(r,o),r._enter=a,r._exit=s,r}function Iw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Mw(){return new Ot(this._exit||this._groups.map(md),this._parents)}function Ow(t,e,n){var o=this.enter(),i=this,l=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?l.remove():n(l),o&&i?o.merge(i).order():i}function Pw(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,l=o.length,r=Math.min(i,l),a=new Array(i),s=0;s<r;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),p,m=0;m<c;++m)(p=u[m]||f[m])&&(d[m]=p);for(;s<i;++s)a[s]=n[s];return new Ot(a,this._parents)}function Nw(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,l=o[i],r;--i>=0;)(r=o[i])&&(l&&r.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(r,l),l=r);return this}function Ew(t){t||(t=Rw);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),l=0;l<o;++l){for(var r=n[l],a=r.length,s=i[l]=new Array(a),u,f=0;f<a;++f)(u=r[f])&&(s[f]=u);s.sort(e)}return new Ot(i,this._parents).order()}function Rw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Lw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Dw(){return Array.from(this)}function $w(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,l=o.length;i<l;++i){var r=o[i];if(r)return r}return null}function Fw(){let t=0;for(const e of this)++t;return t}function jw(){return!this.node()}function Bw(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],l=0,r=i.length,a;l<r;++l)(a=i[l])&&t.call(a,a.__data__,l,i);return this}function qw(t){return function(){this.removeAttribute(t)}}function Gw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Hw(t,e){return function(){this.setAttribute(t,e)}}function Vw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ww(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Yw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function xw(t,e){var n=Cl(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?Gw:qw:typeof e=="function"?n.local?Yw:Ww:n.local?Vw:Hw)(n,e))}function hd(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Uw(t){return function(){this.style.removeProperty(t)}}function Kw(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Xw(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function Jw(t,e,n){return arguments.length>1?this.each((e==null?Uw:typeof e=="function"?Xw:Kw)(t,e,n??"")):vo(this.node(),t)}function vo(t,e){return t.style.getPropertyValue(e)||hd(t).getComputedStyle(t,null).getPropertyValue(e)}function Zw(t){return function(){delete this[t]}}function Qw(t,e){return function(){this[t]=e}}function zw(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function e2(t,e){return arguments.length>1?this.each((e==null?Zw:typeof e=="function"?zw:Qw)(t,e)):this.node()[t]}function _d(t){return t.trim().split(/^|\s+/)}function Ur(t){return t.classList||new gd(t)}function gd(t){this._node=t,this._names=_d(t.getAttribute("class")||"")}gd.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function bd(t,e){for(var n=Ur(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function vd(t,e){for(var n=Ur(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function t2(t){return function(){bd(this,t)}}function n2(t){return function(){vd(this,t)}}function o2(t,e){return function(){(e.apply(this,arguments)?bd:vd)(this,t)}}function i2(t,e){var n=_d(t+"");if(arguments.length<2){for(var o=Ur(this.node()),i=-1,l=n.length;++i<l;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?o2:e?t2:n2)(n,e))}function l2(){this.textContent=""}function r2(t){return function(){this.textContent=t}}function s2(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function a2(t){return arguments.length?this.each(t==null?l2:(typeof t=="function"?s2:r2)(t)):this.node().textContent}function u2(){this.innerHTML=""}function f2(t){return function(){this.innerHTML=t}}function c2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function d2(t){return arguments.length?this.each(t==null?u2:(typeof t=="function"?c2:f2)(t)):this.node().innerHTML}function p2(){this.nextSibling&&this.parentNode.appendChild(this)}function m2(){return this.each(p2)}function h2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _2(){return this.each(h2)}function g2(t){var e=typeof t=="function"?t:fd(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function b2(){return null}function v2(t,e){var n=typeof t=="function"?t:fd(t),o=e==null?b2:typeof e=="function"?e:xr(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function y2(){var t=this.parentNode;t&&t.removeChild(this)}function w2(){return this.each(y2)}function k2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function C2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function A2(t){return this.select(t?C2:k2)}function S2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function T2(t){return function(e){t.call(this,e,this.__data__)}}function I2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function M2(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,l;n<i;++n)l=e[n],(!t.type||l.type===t.type)&&l.name===t.name?this.removeEventListener(l.type,l.listener,l.options):e[++o]=l;++o?e.length=o:delete this.__on}}}function O2(t,e,n){return function(){var o=this.__on,i,l=T2(e);if(o){for(var r=0,a=o.length;r<a;++r)if((i=o[r]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=l,i.options=n),i.value=e;return}}this.addEventListener(t.type,l,n),i={type:t.type,name:t.name,value:e,listener:l,options:n},o?o.push(i):this.__on=[i]}}function P2(t,e,n){var o=I2(t+""),i,l=o.length,r;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<l;++i)if((r=o[i]).type===f.type&&r.name===f.name)return f.value}return}for(a=e?O2:M2,i=0;i<l;++i)this.each(a(o[i],e,n));return this}function yd(t,e,n){var o=hd(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function N2(t,e){return function(){return yd(this,t,e)}}function E2(t,e){return function(){return yd(this,t,e.apply(this,arguments))}}function R2(t,e){return this.each((typeof e=="function"?E2:N2)(t,e))}function*L2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,l=o.length,r;i<l;++i)(r=o[i])&&(yield r)}var wd=[null];function Ot(t,e){this._groups=t,this._parents=e}function ti(){return new Ot([[document.documentElement]],wd)}function D2(){return this}Ot.prototype=ti.prototype={constructor:Ot,select:sw,selectAll:cw,selectChild:hw,selectChildren:vw,filter:yw,data:Tw,enter:ww,exit:Mw,join:Ow,merge:Pw,selection:D2,order:Nw,sort:Ew,call:Lw,nodes:Dw,node:$w,size:Fw,empty:jw,each:Bw,attr:xw,style:Jw,property:e2,classed:i2,text:a2,html:d2,raise:m2,lower:_2,append:g2,insert:v2,remove:w2,clone:A2,datum:S2,on:P2,dispatch:R2,[Symbol.iterator]:L2};function $2(t){return typeof t=="string"?new Ot([[document.querySelector(t)]],[document.documentElement]):new Ot([[t]],wd)}function Kr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function kd(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function ni(){}var Xo=.7,zi=1/Xo,mo="\\s*([+-]?\\d+)\\s*",Jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",F2=/^#([0-9a-f]{3,8})$/,j2=new RegExp(`^rgb\\(${mo},${mo},${mo}\\)$`),B2=new RegExp(`^rgb\\(${xt},${xt},${xt}\\)$`),q2=new RegExp(`^rgba\\(${mo},${mo},${mo},${Jo}\\)$`),G2=new RegExp(`^rgba\\(${xt},${xt},${xt},${Jo}\\)$`),H2=new RegExp(`^hsl\\(${Jo},${xt},${xt}\\)$`),V2=new RegExp(`^hsla\\(${Jo},${xt},${xt},${Jo}\\)$`),ru={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kr(ni,Hn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:su,formatHex:su,formatHex8:W2,formatHsl:Y2,formatRgb:au,toString:au});function su(){return this.rgb().formatHex()}function W2(){return this.rgb().formatHex8()}function Y2(){return Cd(this).formatHsl()}function au(){return this.rgb().formatRgb()}function Hn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=F2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?uu(e):n===3?new Ct(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?wi(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?wi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=j2.exec(t))?new Ct(e[1],e[2],e[3],1):(e=B2.exec(t))?new Ct(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=q2.exec(t))?wi(e[1],e[2],e[3],e[4]):(e=G2.exec(t))?wi(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=H2.exec(t))?du(e[1],e[2]/100,e[3]/100,1):(e=V2.exec(t))?du(e[1],e[2]/100,e[3]/100,e[4]):ru.hasOwnProperty(t)?uu(ru[t]):t==="transparent"?new Ct(NaN,NaN,NaN,0):null}function uu(t){return new Ct(t>>16&255,t>>8&255,t&255,1)}function wi(t,e,n,o){return o<=0&&(t=e=n=NaN),new Ct(t,e,n,o)}function x2(t){return t instanceof ni||(t=Hn(t)),t?(t=t.rgb(),new Ct(t.r,t.g,t.b,t.opacity)):new Ct}function mr(t,e,n,o){return arguments.length===1?x2(t):new Ct(t,e,n,o??1)}function Ct(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}Kr(Ct,mr,kd(ni,{brighter(t){return t=t==null?zi:Math.pow(zi,t),new Ct(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xo:Math.pow(Xo,t),new Ct(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ct(Ln(this.r),Ln(this.g),Ln(this.b),el(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fu,formatHex:fu,formatHex8:U2,formatRgb:cu,toString:cu}));function fu(){return`#${Nn(this.r)}${Nn(this.g)}${Nn(this.b)}`}function U2(){return`#${Nn(this.r)}${Nn(this.g)}${Nn(this.b)}${Nn((isNaN(this.opacity)?1:this.opacity)*255)}`}function cu(){const t=el(this.opacity);return`${t===1?"rgb(":"rgba("}${Ln(this.r)}, ${Ln(this.g)}, ${Ln(this.b)}${t===1?")":`, ${t})`}`}function el(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ln(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Nn(t){return t=Ln(t),(t<16?"0":"")+t.toString(16)}function du(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new jt(t,e,n,o)}function Cd(t){if(t instanceof jt)return new jt(t.h,t.s,t.l,t.opacity);if(t instanceof ni||(t=Hn(t)),!t)return new jt;if(t instanceof jt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),l=Math.max(e,n,o),r=NaN,a=l-i,s=(l+i)/2;return a?(e===l?r=(n-o)/a+(n<o)*6:n===l?r=(o-e)/a+2:r=(e-n)/a+4,a/=s<.5?l+i:2-l-i,r*=60):a=s>0&&s<1?0:r,new jt(r,a,s,t.opacity)}function K2(t,e,n,o){return arguments.length===1?Cd(t):new jt(t,e,n,o??1)}function jt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}Kr(jt,K2,kd(ni,{brighter(t){return t=t==null?zi:Math.pow(zi,t),new jt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xo:Math.pow(Xo,t),new jt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new Ct(xl(t>=240?t-240:t+120,i,o),xl(t,i,o),xl(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new jt(pu(this.h),ki(this.s),ki(this.l),el(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=el(this.opacity);return`${t===1?"hsl(":"hsla("}${pu(this.h)}, ${ki(this.s)*100}%, ${ki(this.l)*100}%${t===1?")":`, ${t})`}`}}));function pu(t){return t=(t||0)%360,t<0?t+360:t}function ki(t){return Math.max(0,Math.min(1,t||0))}function xl(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Xr=t=>()=>t;function X2(t,e){return function(n){return t+n*e}}function J2(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function Z2(t){return(t=+t)==1?Ad:function(e,n){return n-e?J2(e,n,t):Xr(isNaN(e)?n:e)}}function Ad(t,e){var n=e-t;return n?X2(t,n):Xr(isNaN(t)?e:t)}const tl=function t(e){var n=Z2(e);function o(i,l){var r=n((i=mr(i)).r,(l=mr(l)).r),a=n(i.g,l.g),s=n(i.b,l.b),u=Ad(i.opacity,l.opacity);return function(f){return i.r=r(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function Q2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(l){for(i=0;i<n;++i)o[i]=t[i]*(1-l)+e[i]*l;return o}}function z2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ek(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),l=new Array(n),r;for(r=0;r<o;++r)i[r]=Jr(t[r],e[r]);for(;r<n;++r)l[r]=e[r];return function(a){for(r=0;r<o;++r)l[r]=i[r](a);return l}}function tk(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function Ft(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function nk(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Jr(t[i],e[i]):o[i]=e[i];return function(l){for(i in n)o[i]=n[i](l);return o}}var hr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ul=new RegExp(hr.source,"g");function ok(t){return function(){return t}}function ik(t){return function(e){return t(e)+""}}function Sd(t,e){var n=hr.lastIndex=Ul.lastIndex=0,o,i,l,r=-1,a=[],s=[];for(t=t+"",e=e+"";(o=hr.exec(t))&&(i=Ul.exec(e));)(l=i.index)>n&&(l=e.slice(n,l),a[r]?a[r]+=l:a[++r]=l),(o=o[0])===(i=i[0])?a[r]?a[r]+=i:a[++r]=i:(a[++r]=null,s.push({i:r,x:Ft(o,i)})),n=Ul.lastIndex;return n<e.length&&(l=e.slice(n),a[r]?a[r]+=l:a[++r]=l),a.length<2?s[0]?ik(s[0].x):ok(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function Jr(t,e){var n=typeof e,o;return e==null||n==="boolean"?Xr(e):(n==="number"?Ft:n==="string"?(o=Hn(e))?(e=o,tl):Sd:e instanceof Hn?tl:e instanceof Date?tk:z2(e)?Q2:Array.isArray(e)?ek:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?nk:Ft)(t,e)}function lk(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var mu=180/Math.PI,_r={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Td(t,e,n,o,i,l){var r,a,s;return(r=Math.sqrt(t*t+e*e))&&(t/=r,e/=r),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,r=-r),{translateX:i,translateY:l,rotate:Math.atan2(e,t)*mu,skewX:Math.atan(s)*mu,scaleX:r,scaleY:a}}var Ci;function rk(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?_r:Td(e.a,e.b,e.c,e.d,e.e,e.f)}function sk(t){return t==null||(Ci||(Ci=document.createElementNS("http://www.w3.org/2000/svg","g")),Ci.setAttribute("transform",t),!(t=Ci.transform.baseVal.consolidate()))?_r:(t=t.matrix,Td(t.a,t.b,t.c,t.d,t.e,t.f))}function Id(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function l(u,f,c,d,p,m){if(u!==c||f!==d){var h=p.push("translate(",null,e,null,n);m.push({i:h-4,x:Ft(u,c)},{i:h-2,x:Ft(f,d)})}else(c||d)&&p.push("translate("+c+e+d+n)}function r(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:Ft(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:Ft(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,p,m){if(u!==c||f!==d){var h=p.push(i(p)+"scale(",null,",",null,")");m.push({i:h-4,x:Ft(u,c)},{i:h-2,x:Ft(f,d)})}else(c!==1||d!==1)&&p.push(i(p)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),l(u.translateX,u.translateY,f.translateX,f.translateY,c,d),r(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(p){for(var m=-1,h=d.length,v;++m<h;)c[(v=d[m]).i]=v.x(p);return c.join("")}}}var ak=Id(rk,"px, ","px)","deg)"),uk=Id(sk,", ",")",")"),yo=0,jo=0,Do=0,Md=1e3,nl,Bo,ol=0,Vn=0,Al=0,Zo=typeof performance=="object"&&performance.now?performance:Date,Od=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Zr(){return Vn||(Od(fk),Vn=Zo.now()+Al)}function fk(){Vn=0}function il(){this._call=this._time=this._next=null}il.prototype=Pd.prototype={constructor:il,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Zr():+n)+(e==null?0:+e),!this._next&&Bo!==this&&(Bo?Bo._next=this:nl=this,Bo=this),this._call=t,this._time=n,gr()},stop:function(){this._call&&(this._call=null,this._time=1/0,gr())}};function Pd(t,e,n){var o=new il;return o.restart(t,e,n),o}function ck(){Zr(),++yo;for(var t=nl,e;t;)(e=Vn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--yo}function hu(){Vn=(ol=Zo.now())+Al,yo=jo=0;try{ck()}finally{yo=0,pk(),Vn=0}}function dk(){var t=Zo.now(),e=t-ol;e>Md&&(Al-=e,ol=t)}function pk(){for(var t,e=nl,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:nl=n);Bo=t,gr(o)}function gr(t){if(!yo){jo&&(jo=clearTimeout(jo));var e=t-Vn;e>24?(t<1/0&&(jo=setTimeout(hu,t-Zo.now()-Al)),Do&&(Do=clearInterval(Do))):(Do||(ol=Zo.now(),Do=setInterval(dk,Md)),yo=1,Od(hu))}}function _u(t,e,n){var o=new il;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var mk=ud("start","end","cancel","interrupt"),hk=[],Nd=0,gu=1,br=2,Ni=3,bu=4,vr=5,Ei=6;function Sl(t,e,n,o,i,l){var r=t.__transition;if(!r)t.__transition={};else if(n in r)return;_k(t,n,{name:e,index:o,group:i,on:mk,tween:hk,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:Nd})}function Qr(t,e){var n=qt(t,e);if(n.state>Nd)throw new Error("too late; already scheduled");return n}function Qt(t,e){var n=qt(t,e);if(n.state>Ni)throw new Error("too late; already running");return n}function qt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function _k(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=Pd(l,0,n.time);function l(u){n.state=gu,n.timer.restart(r,n.delay,n.time),n.delay<=u&&r(u-n.delay)}function r(u){var f,c,d,p;if(n.state!==gu)return s();for(f in o)if(p=o[f],p.name===n.name){if(p.state===Ni)return _u(r);p.state===bu?(p.state=Ei,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete o[f]):+f<e&&(p.state=Ei,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete o[f])}if(_u(function(){n.state===Ni&&(n.state=bu,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=br,n.on.call("start",t,t.__data__,n.index,n.group),n.state===br){for(n.state=Ni,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(p=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=p);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=vr,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===vr&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=Ei,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function gk(t,e){var n=t.__transition,o,i,l=!0,r;if(n){e=e==null?null:e+"";for(r in n){if((o=n[r]).name!==e){l=!1;continue}i=o.state>br&&o.state<vr,o.state=Ei,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[r]}l&&delete t.__transition}}function bk(t){return this.each(function(){gk(this,t)})}function vk(t,e){var n,o;return function(){var i=Qt(this,t),l=i.tween;if(l!==n){o=n=l;for(var r=0,a=o.length;r<a;++r)if(o[r].name===e){o=o.slice(),o.splice(r,1);break}}i.tween=o}}function yk(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var l=Qt(this,t),r=l.tween;if(r!==o){i=(o=r).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}l.tween=i}}function wk(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=qt(this.node(),n).tween,i=0,l=o.length,r;i<l;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((e==null?vk:yk)(n,t,e))}function zr(t,e,n){var o=t._id;return t.each(function(){var i=Qt(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return qt(i,o).value[e]}}function Ed(t,e){var n;return(typeof e=="number"?Ft:e instanceof Hn?tl:(n=Hn(e))?(e=n,tl):Sd)(t,e)}function kk(t){return function(){this.removeAttribute(t)}}function Ck(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ak(t,e,n){var o,i=n+"",l;return function(){var r=this.getAttribute(t);return r===i?null:r===o?l:l=e(o=r,n)}}function Sk(t,e,n){var o,i=n+"",l;return function(){var r=this.getAttributeNS(t.space,t.local);return r===i?null:r===o?l:l=e(o=r,n)}}function Tk(t,e,n){var o,i,l;return function(){var r,a=n(this),s;return a==null?void this.removeAttribute(t):(r=this.getAttribute(t),s=a+"",r===s?null:r===o&&s===i?l:(i=s,l=e(o=r,a)))}}function Ik(t,e,n){var o,i,l;return function(){var r,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(r=this.getAttributeNS(t.space,t.local),s=a+"",r===s?null:r===o&&s===i?l:(i=s,l=e(o=r,a)))}}function Mk(t,e){var n=Cl(t),o=n==="transform"?uk:Ed;return this.attrTween(t,typeof e=="function"?(n.local?Ik:Tk)(n,o,zr(this,"attr."+t,e)):e==null?(n.local?Ck:kk)(n):(n.local?Sk:Ak)(n,o,e))}function Ok(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Pk(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Nk(t,e){var n,o;function i(){var l=e.apply(this,arguments);return l!==o&&(n=(o=l)&&Pk(t,l)),n}return i._value=e,i}function Ek(t,e){var n,o;function i(){var l=e.apply(this,arguments);return l!==o&&(n=(o=l)&&Ok(t,l)),n}return i._value=e,i}function Rk(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=Cl(t);return this.tween(n,(o.local?Nk:Ek)(o,e))}function Lk(t,e){return function(){Qr(this,t).delay=+e.apply(this,arguments)}}function Dk(t,e){return e=+e,function(){Qr(this,t).delay=e}}function $k(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Lk:Dk)(e,t)):qt(this.node(),e).delay}function Fk(t,e){return function(){Qt(this,t).duration=+e.apply(this,arguments)}}function jk(t,e){return e=+e,function(){Qt(this,t).duration=e}}function Bk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Fk:jk)(e,t)):qt(this.node(),e).duration}function qk(t,e){if(typeof e!="function")throw new Error;return function(){Qt(this,t).ease=e}}function Gk(t){var e=this._id;return arguments.length?this.each(qk(e,t)):qt(this.node(),e).ease}function Hk(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Qt(this,t).ease=n}}function Vk(t){if(typeof t!="function")throw new Error;return this.each(Hk(this._id,t))}function Wk(t){typeof t!="function"&&(t=dd(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var l=e[i],r=l.length,a=o[i]=[],s,u=0;u<r;++u)(s=l[u])&&t.call(s,s.__data__,u,l)&&a.push(s);return new an(o,this._parents,this._name,this._id)}function Yk(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,l=Math.min(o,i),r=new Array(o),a=0;a<l;++a)for(var s=e[a],u=n[a],f=s.length,c=r[a]=new Array(f),d,p=0;p<f;++p)(d=s[p]||u[p])&&(c[p]=d);for(;a<o;++a)r[a]=e[a];return new an(r,this._parents,this._name,this._id)}function xk(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Uk(t,e,n){var o,i,l=xk(e)?Qr:Qt;return function(){var r=l(this,t),a=r.on;a!==o&&(i=(o=a).copy()).on(e,n),r.on=i}}function Kk(t,e){var n=this._id;return arguments.length<2?qt(this.node(),n).on.on(t):this.each(Uk(n,t,e))}function Xk(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Jk(){return this.on("end.remove",Xk(this._id))}function Zk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=xr(t));for(var o=this._groups,i=o.length,l=new Array(i),r=0;r<i;++r)for(var a=o[r],s=a.length,u=l[r]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Sl(u[d],e,n,d,u,qt(f,n)));return new an(l,this._parents,e,n)}function Qk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=cd(t));for(var o=this._groups,i=o.length,l=[],r=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),p,m=qt(f,n),h=0,v=d.length;h<v;++h)(p=d[h])&&Sl(p,e,n,h,d,m);l.push(d),r.push(f)}return new an(l,r,e,n)}var zk=ti.prototype.constructor;function e5(){return new zk(this._groups,this._parents)}function t5(t,e){var n,o,i;return function(){var l=vo(this,t),r=(this.style.removeProperty(t),vo(this,t));return l===r?null:l===n&&r===o?i:i=e(n=l,o=r)}}function Rd(t){return function(){this.style.removeProperty(t)}}function n5(t,e,n){var o,i=n+"",l;return function(){var r=vo(this,t);return r===i?null:r===o?l:l=e(o=r,n)}}function o5(t,e,n){var o,i,l;return function(){var r=vo(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),vo(this,t))),r===s?null:r===o&&s===i?l:(i=s,l=e(o=r,a))}}function i5(t,e){var n,o,i,l="style."+e,r="end."+l,a;return function(){var s=Qt(this,t),u=s.on,f=s.value[l]==null?a||(a=Rd(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(r,i=f),s.on=o}}function l5(t,e,n){var o=(t+="")=="transform"?ak:Ed;return e==null?this.styleTween(t,t5(t,o)).on("end.style."+t,Rd(t)):typeof e=="function"?this.styleTween(t,o5(t,o,zr(this,"style."+t,e))).each(i5(this._id,t)):this.styleTween(t,n5(t,o,e),n).on("end.style."+t,null)}function r5(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function s5(t,e,n){var o,i;function l(){var r=e.apply(this,arguments);return r!==i&&(o=(i=r)&&r5(t,r,n)),o}return l._value=e,l}function a5(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,s5(t,e,n??""))}function u5(t){return function(){this.textContent=t}}function f5(t){return function(){var e=t(this);this.textContent=e??""}}function c5(t){return this.tween("text",typeof t=="function"?f5(zr(this,"text",t)):u5(t==null?"":t+""))}function d5(t){return function(e){this.textContent=t.call(this,e)}}function p5(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&d5(i)),e}return o._value=t,o}function m5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,p5(t))}function h5(){for(var t=this._name,e=this._id,n=Ld(),o=this._groups,i=o.length,l=0;l<i;++l)for(var r=o[l],a=r.length,s,u=0;u<a;++u)if(s=r[u]){var f=qt(s,e);Sl(s,t,n,u,r,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new an(o,this._parents,t,n)}function _5(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(l,r){var a={value:r},s={value:function(){--i===0&&l()}};n.each(function(){var u=Qt(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&l()})}var g5=0;function an(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function Ld(){return++g5}var en=ti.prototype;an.prototype={constructor:an,select:Zk,selectAll:Qk,selectChild:en.selectChild,selectChildren:en.selectChildren,filter:Wk,merge:Yk,selection:e5,transition:h5,call:en.call,nodes:en.nodes,node:en.node,size:en.size,empty:en.empty,each:en.each,on:Kk,attr:Mk,attrTween:Rk,style:l5,styleTween:a5,text:c5,textTween:m5,remove:Jk,tween:wk,delay:$k,duration:Bk,ease:Gk,easeVarying:Vk,end:_5,[Symbol.iterator]:en[Symbol.iterator]};function b5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var v5={time:null,delay:0,duration:250,ease:b5};function y5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function w5(t){var e,n;t instanceof an?(e=t._id,t=t._name):(e=Ld(),(n=v5).time=Zr(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,l=0;l<i;++l)for(var r=o[l],a=r.length,s,u=0;u<a;++u)(s=r[u])&&Sl(s,t,e,u,r,n||y5(s,e));return new an(o,this._parents,t,e)}ti.prototype.interrupt=bk;ti.prototype.transition=w5;const yr=Math.PI,wr=2*yr,In=1e-6,k5=wr-In;function Dd(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function C5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Dd;const n=10**e;return function(o){this._+=o[0];for(let i=1,l=o.length;i<l;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class A5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Dd:C5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,l,r){this._append`C${+e},${+n},${+o},${+i},${this._x1=+l},${this._y1=+r}`}arcTo(e,n,o,i,l){if(e=+e,n=+n,o=+o,i=+i,l=+l,l<0)throw new Error(`negative radius: ${l}`);let r=this._x1,a=this._y1,s=o-e,u=i-n,f=r-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>In)if(!(Math.abs(c*s-u*f)>In)||!l)this._append`L${this._x1=e},${this._y1=n}`;else{let p=o-r,m=i-a,h=s*s+u*u,v=p*p+m*m,A=Math.sqrt(h),w=Math.sqrt(d),C=l*Math.tan((yr-Math.acos((h+d-v)/(2*A*w)))/2),E=C/w,$=C/A;Math.abs(E-1)>In&&this._append`L${e+E*f},${n+E*c}`,this._append`A${l},${l},0,0,${+(c*p>f*m)},${this._x1=e+$*s},${this._y1=n+$*u}`}}arc(e,n,o,i,l,r){if(e=+e,n=+n,o=+o,r=!!r,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^r,d=r?i-l:l-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>In||Math.abs(this._y1-f)>In)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%wr+wr),d>k5?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>In&&this._append`A${o},${o},0,${+(d>=yr)},${c},${this._x1=e+o*Math.cos(l)},${this._y1=n+o*Math.sin(l)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function S5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ll(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function wo(t){return t=ll(Math.abs(t)),t?t[1]:NaN}function T5(t,e){return function(n,o){for(var i=n.length,l=[],r=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),l.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[r=(r+1)%t.length];return l.reverse().join(e)}}function I5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var M5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rl(t){if(!(e=M5.exec(t)))throw new Error("invalid format: "+t);var e;return new es({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}rl.prototype=es.prototype;function es(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}es.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function O5(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var $d;function P5(t,e){var n=ll(t,e);if(!n)return t+"";var o=n[0],i=n[1],l=i-($d=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,r=o.length;return l===r?o:l>r?o+new Array(l-r+1).join("0"):l>0?o.slice(0,l)+"."+o.slice(l):"0."+new Array(1-l).join("0")+ll(t,Math.max(0,e+l-1))[0]}function vu(t,e){var n=ll(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const yu={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:S5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>vu(t*100,e),r:vu,s:P5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function wu(t){return t}var ku=Array.prototype.map,Cu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function N5(t){var e=t.grouping===void 0||t.thousands===void 0?wu:T5(ku.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",l=t.numerals===void 0?wu:I5(ku.call(t.numerals,String)),r=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=rl(c);var d=c.fill,p=c.align,m=c.sign,h=c.symbol,v=c.zero,A=c.width,w=c.comma,C=c.precision,E=c.trim,$=c.type;$==="n"?(w=!0,$="g"):yu[$]||(C===void 0&&(C=12),E=!0,$="g"),(v||d==="0"&&p==="=")&&(v=!0,d="0",p="=");var L=h==="$"?n:h==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",D=h==="$"?o:/[%p]/.test($)?r:"",Y=yu[$],F=/[defgprs%]/.test($);C=C===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function G(y){var b=L,k=D,P,B,R;if($==="c")k=Y(y)+k,y="";else{y=+y;var x=y<0||1/y<0;if(y=isNaN(y)?s:Y(Math.abs(y),C),E&&(y=O5(y)),x&&+y==0&&m!=="+"&&(x=!1),b=(x?m==="("?m:a:m==="-"||m==="("?"":m)+b,k=($==="s"?Cu[8+$d/3]:"")+k+(x&&m==="("?")":""),F){for(P=-1,B=y.length;++P<B;)if(R=y.charCodeAt(P),48>R||R>57){k=(R===46?i+y.slice(P+1):y.slice(P))+k,y=y.slice(0,P);break}}}w&&!v&&(y=e(y,1/0));var Q=b.length+y.length+k.length,Z=Q<A?new Array(A-Q+1).join(d):"";switch(w&&v&&(y=e(Z+y,Z.length?A-k.length:1/0),Z=""),p){case"<":y=b+y+k+Z;break;case"=":y=b+Z+y+k;break;case"^":y=Z.slice(0,Q=Z.length>>1)+b+y+k+Z.slice(Q);break;default:y=Z+b+y+k;break}return l(y)}return G.toString=function(){return c+""},G}function f(c,d){var p=u((c=rl(c),c.type="f",c)),m=Math.max(-8,Math.min(8,Math.floor(wo(d)/3)))*3,h=Math.pow(10,-m),v=Cu[8+m/3];return function(A){return p(h*A)+v}}return{format:u,formatPrefix:f}}var Ai,Fd,jd;E5({thousands:",",grouping:[3],currency:["$",""]});function E5(t){return Ai=N5(t),Fd=Ai.format,jd=Ai.formatPrefix,Ai}function R5(t){return Math.max(0,-wo(Math.abs(t)))}function L5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wo(e)/3)))*3-wo(Math.abs(t)))}function D5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wo(e)-wo(t))+1}function $5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function F5(t){return function(){return t}}function j5(t){return+t}var Au=[0,1];function uo(t){return t}function kr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:F5(isNaN(e)?NaN:.5)}function B5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function q5(t,e,n){var o=t[0],i=t[1],l=e[0],r=e[1];return i<o?(o=kr(i,o),l=n(r,l)):(o=kr(o,i),l=n(l,r)),function(a){return l(o(a))}}function G5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),l=new Array(o),r=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++r<o;)i[r]=kr(t[r],t[r+1]),l[r]=n(e[r],e[r+1]);return function(a){var s=Gy(t,a,1,o)-1;return l[s](i[s](a))}}function H5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function V5(){var t=Au,e=Au,n=Jr,o,i,l,r=uo,a,s,u;function f(){var d=Math.min(t.length,e.length);return r!==uo&&(r=B5(t[0],t[d-1])),a=d>2?G5:q5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?l:(s||(s=a(t.map(o),e,n)))(o(r(d)))}return c.invert=function(d){return r(i((u||(u=a(e,t.map(o),Ft)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,j5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=lk,f()},c.clamp=function(d){return arguments.length?(r=d?!0:uo,f()):r!==uo},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(l=d,c):l},function(d,p){return o=d,i=p,f()}}function W5(){return V5()(uo,uo)}function Y5(t,e,n,o){var i=xy(t,e,n),l;switch(o=rl(o??",f"),o.type){case"s":{var r=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(l=L5(i,r))&&(o.precision=l),jd(o,r)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(l=D5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=l-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(l=R5(i))&&(o.precision=l-(o.type==="%")*2);break}}return Fd(o)}function x5(t){var e=t.domain;return t.ticks=function(n){var o=e();return Yy(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return Y5(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,l=o.length-1,r=o[i],a=o[l],s,u,f=10;for(a<r&&(u=r,r=a,a=u,u=i,i=l,l=u);f-- >0;){if(u=cr(r,a,n),u===s)return o[i]=r,o[l]=a,e(o);if(u>0)r=Math.floor(r/u)*u,a=Math.ceil(a/u)*u;else if(u<0)r=Math.ceil(r*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function Cr(){var t=W5();return t.copy=function(){return H5(t,Cr())},$5.apply(t,arguments),x5(t)}function lo(t){return function(){return t}}function U5(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new A5(e)}function K5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Bd(t){this._context=t}Bd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function X5(t){return new Bd(t)}function J5(t){return t[0]}function Z5(t){return t[1]}function Kl(t,e){var n=lo(!0),o=null,i=X5,l=null,r=U5(a);t=typeof t=="function"?t:t===void 0?J5:lo(t),e=typeof e=="function"?e:e===void 0?Z5:lo(e);function a(s){var u,f=(s=K5(s)).length,c,d=!1,p;for(o==null&&(l=i(p=r())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?l.lineStart():l.lineEnd()),d&&l.point(+t(c,u,s),+e(c,u,s));if(p)return l=null,p+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:lo(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:lo(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:lo(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(l=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=l=null:l=i(o=s),a):o},a}function qo(t,e,n){this.k=t,this.x=e,this.y=n}qo.prototype={constructor:qo,scale:function(t){return t===1?this:new qo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new qo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};qo.prototype;function Q5(t){let e;return{c(){e=ul("svg"),N(e,"id","line-chart")},m(n,o){I(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&T(e)}}}const Su=52;function z5(t,e,n){let{data:o=[]}=e,i,l,r;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;Kl().x((m,h)=>l(h)).y(m=>r(m)),fl(()=>{n(1,i=$2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),l=Cr().range([0,s]),r=Cr().range([u,0]),o.length&&f()});function f(){const m=o.length>Su?o.slice(-Su):o;c(m),d(m),p()}function c(m){i.selectAll(".line").remove();const h=Kl().defined(A=>A>-5).x((A,w)=>l(w)).y(A=>r(A)),v=Kl().defined(A=>A<0).x((A,w)=>l(w)).y(A=>r(A));i.append("path").datum(m).attr("class","line positive").attr("d",h).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(m).attr("class","line negative").attr("d",v).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(m){const h=Math.max(0,...m),v=Math.min(0,...m);l.domain([0,m.length-1]),r.domain([v,h]).nice()}function p(m){const h=zy(l).ticks(0),v=ew(r).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(h),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(v)}return t.$$set=m=>{"data"in m&&n(0,o=m.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class e4 extends ve{constructor(e){super(),be(this,e,z5,Q5,ce,{data:0})}}function t4(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=q("Manage your Knowledge ("),o=q(n),i=q(" pts)")},m(l,r){I(l,e,r),I(l,o,r),I(l,i,r)},p(l,r){r&2&&n!==(n=l[1].townInfo.knowledge_points+"")&&le(o,n)},d(l){l&&(T(e),T(o),T(i))}}}function n4(t){let e,n,o,i;return e=new Un({props:{$$slots:{default:[t4]},$$scope:{ctx:t}}}),o=new Jn({}),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment)},m(l,r){U(e,l,r),I(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&258&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){i||(S(e.$$.fragment,l),S(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&T(n),K(e,l),K(o,l)}}}function Tu(t){let e,n,o=Pu(t[1].townInfo.knowledge_points*t[3])+"",i,l;return{c(){e=O("br"),n=q(`
          (total value: $`),i=q(o),l=q(")")},m(r,a){I(r,e,a),I(r,n,a),I(r,i,a),I(r,l,a)},p(r,a){a&10&&o!==(o=Pu(r[1].townInfo.knowledge_points*r[3])+"")&&le(i,o)},d(r){r&&(T(e),T(n),T(i),T(l))}}}function Iu(t){let e;return{c(){e=O("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
          convert.`},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Mu(t){let e,n,o;return n=new yt({props:{variant:"default",$$slots:{default:[o4]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=O("div"),X(n.$$.fragment)},m(i,l){I(i,e,l),U(n,e,null),o=!0},p(i,l){const r={};l&256&&(r.$$scope={dirty:l,ctx:i}),n.$set(r)},i(i){o||(S(n.$$.fragment,i),o=!0)},o(i){M(n.$$.fragment,i),o=!1},d(i){i&&T(e),K(n)}}}function o4(t){let e;return{c(){e=q("Convert Knowledge to Gold")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ou(t){let e;return{c(){e=O("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function i4(t){let e,n,o,i,l,r,a,s,u=(t[3]??0)+"",f,c,d,p,m,h,v,A,w,C,E,$;e=new Kn({props:{$$slots:{default:[n4]},$$scope:{ctx:t}}});let L=t[3]>0&&Tu(t);h=new e4({props:{data:t[2]}});let D=t[3]<0&&Iu(),Y=t[1].hasBank&&t[3]>0&&Mu(t),F=t[1].hasBank===!1&&Ou();return E=new Io({}),{c(){X(e.$$.fragment),n=V(),o=O("span"),o.textContent="Knowledge is power, unlock it!",i=V(),l=O("div"),r=O("div"),a=q("Market Rate: "),s=O("span"),f=q(u),c=q(" gold"),p=q(`
        per Knowledge Point
        `),L&&L.c(),m=V(),X(h.$$.fragment),v=V(),D&&D.c(),A=V(),Y&&Y.c(),w=V(),F&&F.c(),C=V(),X(E.$$.fragment),N(o,"class","italic"),N(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),N(l,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(G,y){U(e,G,y),I(G,n,y),I(G,o,y),I(G,i,y),I(G,l,y),_(l,r),_(r,a),_(r,s),_(s,f),_(s,c),_(r,p),L&&L.m(r,null),_(l,m),U(h,l,null),_(l,v),D&&D.m(l,null),_(l,A),Y&&Y.m(l,null),_(l,w),F&&F.m(l,null),I(G,C,y),U(E,G,y),$=!0},p(G,y){const b={};y&258&&(b.$$scope={dirty:y,ctx:G}),e.$set(b),(!$||y&8)&&u!==(u=(G[3]??0)+"")&&le(f,u),(!$||y&8&&d!==(d=G[3]<0?"text-red-500":"text-green-500"))&&N(s,"class",d),G[3]>0?L?L.p(G,y):(L=Tu(G),L.c(),L.m(r,null)):L&&(L.d(1),L=null);const k={};y&4&&(k.data=G[2]),h.$set(k),G[3]<0?D||(D=Iu(),D.c(),D.m(l,A)):D&&(D.d(1),D=null),G[1].hasBank&&G[3]>0?Y?(Y.p(G,y),y&10&&S(Y,1)):(Y=Mu(G),Y.c(),S(Y,1),Y.m(l,w)):Y&&(Me(),M(Y,1,1,()=>{Y=null}),Oe()),G[1].hasBank===!1?F||(F=Ou(),F.c(),F.m(l,null)):F&&(F.d(1),F=null)},i(G){$||(S(e.$$.fragment,G),S(h.$$.fragment,G),S(Y),S(E.$$.fragment,G),$=!0)},o(G){M(e.$$.fragment,G),M(h.$$.fragment,G),M(Y),M(E.$$.fragment,G),$=!1},d(G){G&&(T(n),T(o),T(i),T(l),T(C)),K(e,G),L&&L.d(),K(h),D&&D.d(),Y&&Y.d(),F&&F.d(),K(E,G)}}}function l4(t){let e,n;return e=new Xn({props:{transitionConfig:{duration:0},class:"bg-foreground text-foregroundText",$$slots:{default:[i4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&270&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function r4(t){let e,n,o;function i(r){t[5](r)}let l={$$slots:{default:[l4]},$$scope:{ctx:t}};return t[4]!==void 0&&(l.open=t[4]),e=new Zn({props:l}),Ee.push(()=>An(e,"open",i)),{c(){X(e.$$.fragment)},m(r,a){U(e,r,a),o=!0},p(r,[a]){const s={};a&270&&(s.$$scope={dirty:a,ctx:r}),!n&&a&16&&(n=!0,s.open=r[4],Cn(()=>n=!1)),e.$set(s)},i(r){o||(S(e.$$.fragment,r),o=!0)},o(r){M(e.$$.fragment,r),o=!1},d(r){K(e,r)}}}function Pu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function s4(t,e,n){let o,i;ue(t,Ne,u=>n(1,o=u)),ue(t,qi,u=>n(4,i=u));let l,r=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*r),u.townInfo.knowledge_points=0,Ne.set(u),localStorage.setItem(Bt,JSON.stringify(u))):showCustomAlert.set("You need a bank to convert knowledge to gold.")}function s(u){i=u,qi.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,l=o.economyAndLaws.knowledge_gold_market_rates),n(3,r=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,l,r,i,s]}class a4 extends ve{constructor(e){super(),be(this,e,s4,r4,ce,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const u4=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:5e3,duration:180,effect:!0},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
        
         We don't really know what that means, but it seems to make people healthier. 
        `,cost:8e3,duration:200,effect:!0},{id:"goodbye_carrots",title:"Goodbye Carrots",description:`Scientist Jarrod M. collaborated with local carrot farms to enhance the recipe, aiming to increase consumers' height by 10%.

        Unfortunately, the experiment failed, and all the local carrot farms have gone out of business. 
        `,cost:8e3,duration:80,effect:!0},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.

        The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
        `,cost:3e3,duration:60,effect:!1},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab. 

        She hopes nobody will miss it. Your town now has some more money. 
        `,cost:15e3,duration:180,effect:!0},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes. 

        We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:!0},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach. 

        We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:!1},{id:"coffee_boost_tourism",title:"Speedy Brews",description:`Scientist Claudia A. has found that a specific blend of coffee can significantly increase productivity among town employees. 

        The catch? It only works on Mondays. But hey, starting the week with a turbo-charged workforce might just be the boost we needed. The town gets a bit of extra cash from the productivity, and a bit of tourism revenue from coffee tourism.
        `,cost:8e3,duration:100,effect:!0},{id:"bee_bonanza",title:"Buzzing with Possibilities",description:`Scientist Will B. thought that introducing genetically modified super bees to the local ecosystem could help with pollination.
        
        Unfortunately, these bees prefer coffee plants over all others, leading to all coffee bean farms forced to close.`,cost:5e3,duration:120,effect:!0},{id:"wheat_whirlwind",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather control experiment aimed at improving crop yields accidentally resulted in a series of mini-tornadoes sweeping through the town's wheat farms. The wheat is gone, but the townsfolk have never been more entertained.

        Local bakers mourn the loss of wheat while selling tickets to the wheat whirlwind tours. All wheat farms are now torn down, but happiness is up.`,cost:7e3,duration:150,effect:!0},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.

        Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:!0},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools. 

        This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:!0},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took the funding and applied the town for a grant to improve education.

        The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:4e4,duration:45,effect:!0},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress. 
		
		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:!0}];function Nu(t,e,n){const o=t.slice();return o[17]=e[n],o}function f4(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=q("🎉 Experiment Completed: "),o=q(n)},m(i,l){I(i,e,l),I(i,o,l)},p(i,l){l&2&&n!==(n=i[1].lab.active_experiment.title+"")&&le(o,n)},d(i){i&&(T(e),T(o))}}}function c4(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=O("div"),o=q(n),N(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,l){I(i,e,l),_(e,o)},p(i,l){l&2&&n!==(n=i[1].lab.active_experiment.description+"")&&le(o,n)},d(i){i&&T(e)}}}function d4(t){let e,n,o,i;return e=new id({props:{class:"text-center",$$slots:{default:[f4]},$$scope:{ctx:t}}}),o=new Yr({props:{$$slots:{default:[c4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment)},m(l,r){U(e,l,r),I(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&1048578&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&1048578&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(S(e.$$.fragment,l),S(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&T(n),K(e,l),K(o,l)}}}function p4(t){let e;return{c(){e=q("Thank the scientists")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function m4(t){let e,n;return e=new ld({props:{$$slots:{default:[p4]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&1048576&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function h4(t){let e,n,o,i;return e=new Wr({props:{$$slots:{default:[d4]},$$scope:{ctx:t}}}),o=new yl({props:{$$slots:{default:[m4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment)},m(l,r){U(e,l,r),I(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&1048578&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&1048576&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(S(e.$$.fragment,l),S(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&T(n),K(e,l),K(o,l)}}}function _4(t){let e,n;return e=new wl({props:{$$slots:{default:[h4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&1048578&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function g4(t){let e;return{c(){e=O("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,o){I(n,e,o)},p:Ce,d(n){n&&T(e)}}}function b4(t){let e,n,o,i=t[1].lab.xp+"",l,r,a,s;return{c(){e=O("span"),n=q("You have earned "),o=O("span"),l=q(i),r=q(" XP"),s=q(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),N(o,"class",a="italic "+(t[1].lab.xp<0?"text-textDanger1":"text-primaryText"))},m(u,f){I(u,e,f),_(e,n),_(e,o),_(o,l),_(o,r),_(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&le(l,i),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-textDanger1":"text-primaryText"))&&N(o,"class",a)},d(u){u&&T(e)}}}function v4(t){let e,n,o,i;return e=new Un({props:{$$slots:{default:[g4]},$$scope:{ctx:t}}}),o=new Jn({props:{$$slots:{default:[b4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment)},m(l,r){U(e,l,r),I(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&1048576&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&1048578&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(S(e.$$.fragment,l),S(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&T(n),K(e,l),K(o,l)}}}function y4(t){let e;return{c(){e=q("No more experiments available")},m(n,o){I(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&T(e)}}}function w4(t){let e,n,o,i,l=He(t[0]),r=[];for(let s=0;s<l.length;s+=1)r[s]=Ru(Nu(t,l,s));const a=s=>M(r[s],1,1,()=>{r[s]=null});return{c(){e=O("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=V(),o=O("div");for(let s=0;s<r.length;s+=1)r[s].c();N(e,"class","select-none text-sm "),N(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){I(s,e,u),I(s,n,u),I(s,o,u);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(o,null);i=!0},p(s,u){if(u&19){l=He(s[0]);let f;for(f=0;f<l.length;f+=1){const c=Nu(s,l,f);r[f]?(r[f].p(c,u),S(r[f],1)):(r[f]=Ru(c),r[f].c(),S(r[f],1),r[f].m(o,null))}for(Me(),f=l.length;f<r.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<l.length;u+=1)S(r[u]);i=!0}},o(s){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)M(r[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),dt(r,s)}}}function k4(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,l,r,a=t[1].lab.active_experiment.duration===0&&Lu(t);return{c(){e=q("Currently running an experiment... check back in "),o=q(n),i=q(` days.
      `),a&&a.c(),l=Le()},m(s,u){I(s,e,u),I(s,o,u),I(s,i,u),a&&a.m(s,u),I(s,l,u),r=!0},p(s,u){(!r||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&le(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&S(a,1)):(a=Lu(s),a.c(),S(a,1),a.m(l.parentNode,l)):a&&(Me(),M(a,1,1,()=>{a=null}),Oe())},i(s){r||(S(a),r=!0)},o(s){M(a),r=!1},d(s){s&&(T(e),T(o),T(i),T(l)),a&&a.d(s)}}}function Eu(t){let e,n,o=t[17].id+"",i;return{c(){e=O("span"),n=q("// dev-"),i=q(o),N(e,"class","text-xs text-gray-400")},m(l,r){I(l,e,r),_(e,n),_(e,i)},p(l,r){r&1&&o!==(o=l[17].id+"")&&le(i,o)},d(l){l&&T(e)}}}function C4(t){let e,n=Du(t[17].cost).split(".")[0]+"",o,i,l,r=t[1].devMode===!0&&Eu(t);return{c(){e=q("$"),o=q(n),i=q(` gold

            `),r&&r.c(),l=V()},m(a,s){I(a,e,s),I(a,o,s),I(a,i,s),r&&r.m(a,s),I(a,l,s)},p(a,s){s&1&&n!==(n=Du(a[17].cost).split(".")[0]+"")&&le(o,n),a[1].devMode===!0?r?r.p(a,s):(r=Eu(a),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},d(a){a&&(T(e),T(o),T(i),T(l)),r&&r.d(a)}}}function Ru(t){let e,n;function o(){return t[11](t[17])}return e=new yt({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[C4]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){X(e.$$.fragment)},m(i,l){U(e,i,l),n=!0},p(i,l){t=i;const r={};l&3&&(r.class=`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),l&1048579&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){M(e.$$.fragment,i),n=!1},d(i){K(e,i)}}}function Lu(t){let e,n;return e=new yt({props:{variant:"outline",$$slots:{default:[A4]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&1048576&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function A4(t){let e;return{c(){e=q("Complete experiment (and face the impact)")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function S4(t){let e;return{c(){e=O("span"),e.textContent="Keep in mind that not all experiments yield positive results.",N(e,"class","italic text-left text-textDanger1")},m(n,o){I(n,e,o)},p:Ce,d(n){n&&T(e)}}}function T4(t){let e,n,o,i,l,r,a,s,u,f,c;e=new Kn({props:{$$slots:{default:[v4]},$$scope:{ctx:t}}}),o=new St({});const d=[k4,w4,y4],p=[];function m(h,v){return h[1].lab.active_experiment!==null?0:h[0].length>0?1:h[0].length===0?2:-1}return~(l=m(t))&&(r=p[l]=d[l](t)),s=new St({props:{class:"mt-4"}}),f=new Io({props:{$$slots:{default:[S4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment),i=V(),r&&r.c(),a=V(),X(s.$$.fragment),u=V(),X(f.$$.fragment)},m(h,v){U(e,h,v),I(h,n,v),U(o,h,v),I(h,i,v),~l&&p[l].m(h,v),I(h,a,v),U(s,h,v),I(h,u,v),U(f,h,v),c=!0},p(h,v){const A={};v&1048578&&(A.$$scope={dirty:v,ctx:h}),e.$set(A);let w=l;l=m(h),l===w?~l&&p[l].p(h,v):(r&&(Me(),M(p[w],1,1,()=>{p[w]=null}),Oe()),~l?(r=p[l],r?r.p(h,v):(r=p[l]=d[l](h),r.c()),S(r,1),r.m(a.parentNode,a)):r=null);const C={};v&1048576&&(C.$$scope={dirty:v,ctx:h}),f.$set(C)},i(h){c||(S(e.$$.fragment,h),S(o.$$.fragment,h),S(r),S(s.$$.fragment,h),S(f.$$.fragment,h),c=!0)},o(h){M(e.$$.fragment,h),M(o.$$.fragment,h),M(r),M(s.$$.fragment,h),M(f.$$.fragment,h),c=!1},d(h){h&&(T(n),T(i),T(a),T(u)),K(e,h),K(o,h),~l&&p[l].d(h),K(s,h),K(f,h)}}}function I4(t){let e,n;return e=new Xn({props:{class:"bg-foreground text-foregroundText",$$slots:{default:[T4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&1048579&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function M4(t){let e,n,o,i,l;e=new kl({props:{open:t[2],$$slots:{default:[_4]},$$scope:{ctx:t}}});function r(s){t[12](s)}let a={$$slots:{default:[I4]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new Zn({props:a}),Ee.push(()=>An(o,"open",r)),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment)},m(s,u){U(e,s,u),I(s,n,u),U(o,s,u),l=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&1048578&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&1048579&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],Cn(()=>i=!1)),o.$set(c)},i(s){l||(S(e.$$.fragment,s),S(o.$$.fragment,s),l=!0)},o(s){M(e.$$.fragment,s),M(o.$$.fragment,s),l=!1},d(s){s&&T(n),K(e,s),K(o,s)}}}function Du(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function O4(t,e,n){let o,i;ue(t,Ne,C=>n(1,o=C)),ue(t,Ii,C=>n(3,i=C));var l;let r=[],a=!1,s=!1,u=!1;function f(){if(r.length>0||!a)return r;let C=[],E=u4.filter($=>!o.lab.past_experiments.some(L=>L.id===$.id));for(let $=0;$<3;$++){let L=E[Math.floor(Math.random()*E.length)];L.cost=Math.floor(Math.random()*(L.cost*.35)+L.cost*.8),C.push(L)}return C=C.filter(($,L)=>C.indexOf($)===L),C=C.filter($=>$),n(8,u=!0),C}function c(C){if(o.townInfo.gold<C.cost){showCustomAlert.set("You do not have enough gold to purchase this experiment.");return}Ie(Ne,o.townInfo.gold-=C.cost,o),Ie(Ne,o.lab.active_experiment=C,o),o.lab.past_experiments.push(C)}function d(){var C;switch(Ie(Ii,i=!1,i),n(2,s=!0),(C=o.lab.active_experiment)===null||C===void 0?void 0:C.id){case"sunshine":Ie(Ne,o.modifiers.happiness=50,o);break;case"antibiotics":Ie(Ne,o.modifiers.health=50,o);break;case"goodbye_carrots":m("carrot_farm");break;case"missing_treasure":Ie(Ne,o.townInfo.gold+=Math.floor(Math.random()*o.lab.active_experiment.cost*2),o);break;case"tax_relief":Ie(Ne,o.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*o.economyAndLaws.max_tax_rate,o);break;case"bee_bonanza":m("coffee_bean_farm");break;case"wheat_whirlwind":m("wheat_farm"),Ie(Ne,o.townInfo.happiness*=1.5,o),Ie(Ne,o.modifiers.happiness+=3,o);break;case"educational_eclipse":m("small_school"),m("large_school"),Ie(Ne,o.townInfo.knowledge_points*=.8,o);break;case"education_grant":Ie(Ne,o.townInfo.knowledge_points*=1.5,o),Ie(Ne,o.townInfo.gold+=15e4,o);break;case"mindfulness_meditation_classes":o.modifiers.happiness*1.5;break}Ie(Ne,o.lab.active_experiment.duration=-1,o)}function p(){let C=o;C.lab.xp+=Math.round(C.lab.active_experiment.cost*(Math.random()*2+.5)),C.lab.active_experiment=null,n(2,s=!1),Ie(Ne,o=C,o)}function m(C){let E=Ge(C,o);for(let $=0;$<E.length;$++)Bi(E[$].x,E[$].y,o)}const h=()=>{p()},v=()=>{d()},A=C=>{C.cost<o.townInfo.gold&&c(C)};function w(C){i=C,Ii.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,r=u==!1?f():r),(n(7,l=o.lab.active_experiment)===null||l===void 0?void 0:l.duration)===-1&&n(2,s=!0)):a=!1)},[r,o,s,i,c,d,p,l,u,h,v,A,w]}class P4 extends ve{constructor(e){super(),be(this,e,O4,M4,ce,{})}}function $u(t,e,n){const o=t.slice();return o[19]=e[n],o}function Fu(t){let e,n=He({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=ju($u(t,n,i));return{c(){e=O("div");for(let i=0;i<o.length;i+=1)o[i].c();N(e,"class","confetti-holder svelte-15ksp55"),mn(e,"rounded",t[9]),mn(e,"cone",t[10]),mn(e,"no-gravity",t[11]),mn(e,"reduced-motion",t[13])},m(i,l){I(i,e,l);for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(e,null)},p(i,l){if(l&37375){n=He({length:i[6]});let r;for(r=0;r<n.length;r+=1){const a=$u(i,n,r);o[r]?o[r].p(a,l):(o[r]=ju(a),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}l&512&&mn(e,"rounded",i[9]),l&1024&&mn(e,"cone",i[10]),l&2048&&mn(e,"no-gravity",i[11]),l&8192&&mn(e,"reduced-motion",i[13])},d(i){i&&T(e),dt(o,i)}}}function ju(t){let e;return{c(){e=O("div"),N(e,"class","confetti svelte-15ksp55"),et(e,"--fall-distance",t[8]),et(e,"--size",t[0]+"px"),et(e,"--color",t[15]()),et(e,"--skew",wt(-45,45)+"deg,"+wt(-45,45)+"deg"),et(e,"--rotation-xyz",wt(-10,10)+", "+wt(-10,10)+", "+wt(-10,10)),et(e,"--rotation-deg",wt(0,360)+"deg"),et(e,"--translate-y-multiplier",wt(t[2][0],t[2][1])),et(e,"--translate-x-multiplier",wt(t[1][0],t[1][1])),et(e,"--scale",.1*wt(2,10)),et(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),et(e,"--transition-delay",wt(t[5][0],t[5][1])+"ms"),et(e,"--transition-iteration-count",t[4]?"infinite":t[7]),et(e,"--x-spread",1-t[12])},m(n,o){I(n,e,o)},p(n,o){o&256&&et(e,"--fall-distance",n[8]),o&1&&et(e,"--size",n[0]+"px"),o&4&&et(e,"--translate-y-multiplier",wt(n[2][0],n[2][1])),o&2&&et(e,"--translate-x-multiplier",wt(n[1][0],n[1][1])),o&24&&et(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&et(e,"--transition-delay",wt(n[5][0],n[5][1])+"ms"),o&144&&et(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&et(e,"--x-spread",1-n[12])},d(n){n&&T(e)}}}function N4(t){let e,n=!t[14]&&Fu(t);return{c(){n&&n.c(),e=Le()},m(o,i){n&&n.m(o,i),I(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=Fu(o),n.c(),n.m(e.parentNode,e))},i:Ce,o:Ce,d(o){o&&T(e),n&&n.d(o)}}}function wt(t,e){return Math.random()*(e-t)+t}function E4(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:l=[.25,1]}=e,{duration:r=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:p="100px"}=e,{rounded:m=!1}=e,{cone:h=!1}=e,{noGravity:v=!1}=e,{xSpread:A=.15}=e,{destroyOnComplete:w=!0}=e,{disableForReducedMotion:C=!1}=e,E=!1;fl(()=>{!w||a||d=="infinite"||setTimeout(()=>n(14,E=!0),(r+s[1])*d)});function $(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(wt(u[0],u[1]))}, 75%, 50%)`}return t.$$set=L=>{"size"in L&&n(0,o=L.size),"x"in L&&n(1,i=L.x),"y"in L&&n(2,l=L.y),"duration"in L&&n(3,r=L.duration),"infinite"in L&&n(4,a=L.infinite),"delay"in L&&n(5,s=L.delay),"colorRange"in L&&n(16,u=L.colorRange),"colorArray"in L&&n(17,f=L.colorArray),"amount"in L&&n(6,c=L.amount),"iterationCount"in L&&n(7,d=L.iterationCount),"fallDistance"in L&&n(8,p=L.fallDistance),"rounded"in L&&n(9,m=L.rounded),"cone"in L&&n(10,h=L.cone),"noGravity"in L&&n(11,v=L.noGravity),"xSpread"in L&&n(12,A=L.xSpread),"destroyOnComplete"in L&&n(18,w=L.destroyOnComplete),"disableForReducedMotion"in L&&n(13,C=L.disableForReducedMotion)},[o,i,l,r,a,s,c,d,p,m,h,v,A,C,E,$,u,f,w]}class R4 extends ve{constructor(e){super(),be(this,e,E4,N4,ce,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function L4(t){let e,n,o;return{c(){e=O("div"),N(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all"),N(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`)},m(i,l){I(i,e,l)},p(i,l){l&8&&n!==(n="h-full w-full flex-1 "+i[3]+" transition-all")&&N(e,"class",n),l&6&&o!==(o=`transform: translateX(-${100-100*(i[2]??0)/(i[1]??1)}%)`)&&N(e,"style",o)},d(i){i&&T(e)}}}function D4(t){let e,n;const o=[{class:Fe("relative h-4 w-full overflow-hidden rounded-full bg-black border border-gray-300",t[0])},t[4]];let i={$$slots:{default:[L4]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=J(i,o[l]);return e=new c1({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&17?we(o,[r&1&&{class:Fe("relative h-4 w-full overflow-hidden rounded-full bg-black border border-gray-300",l[0])},r&16&&ut(l[4])]):{};r&46&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function $4(t,e,n){const o=["class","max","value","color"];let i=re(e,o),{class:l=void 0}=e,{max:r=100}=e,{value:a=void 0}=e,{color:s="bg-secondary"}=e;return t.$$set=u=>{e=J(J({},e),Re(u)),n(4,i=re(e,o)),"class"in u&&n(0,l=u.class),"max"in u&&n(1,r=u.max),"value"in u&&n(2,a=u.value),"color"in u&&n(3,s=u.color)},[l,r,a,s,i]}class F4 extends ve{constructor(e){super(),be(this,e,$4,D4,ce,{class:0,max:1,value:2,color:3})}}function j4(t){let e;const n=t[5].default,o=me(n,t,t[6],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&64)&&_e(o,n,i,i[6],e?he(n,i[6],l,null):ge(i[6]),null)},i(i){e||(S(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function B4(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:Fe("z-50 overflow-hidden border bg-popover px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",t[0])},t[4]];let i={$$slots:{default:[j4]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=J(i,o[l]);return e=new Q1({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&31?we(o,[r&4&&{transition:l[2]},r&8&&{transitionConfig:l[3]},r&2&&{sideOffset:l[1]},r&1&&{class:Fe("z-50 overflow-hidden border bg-popover px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",l[0])},r&16&&ut(l[4])]):{};r&64&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function q4(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e,{sideOffset:s=4}=e,{transition:u=pl}=e,{transitionConfig:f={y:8,duration:100}}=e;return t.$$set=c=>{e=J(J({},e),Re(c)),n(4,i=re(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,r=c.$$scope)},[a,s,u,f,i,l,r]}class oi extends ve{constructor(e){super(),be(this,e,q4,B4,ce,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const ii=F1,li=lb;function Bu(t,e,n){const o=t.slice();return o[13]=e[n].name,o[14]=e[n].value,o[15]=e[n].modifier,o[16]=e[n].color,o[17]=e[n].hover,o[18]=e[n].description,o[19]=e[n].max,o}function G4(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=O("span"),n=q("+$"),i=q(o),N(e,"class","text-textPrimary")},m(l,r){I(l,e,r),_(e,n),_(e,i)},p(l,r){r&1&&o!==(o=l[0].economyAndLaws.weeklyProfit+"")&&le(i,o)},d(l){l&&T(e)}}}function H4(t){let e,n=t[0].economyAndLaws.weeklyProfit+"",o;return{c(){e=O("span"),o=q(n),N(e,"class","text-textDanger2")},m(i,l){I(i,e,l),_(e,o)},p(i,l){l&1&&n!==(n=i[0].economyAndLaws.weeklyProfit+"")&&le(o,n)},d(i){i&&T(e)}}}function V4(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=O("span"),n=q("+$"),i=q(o),N(e,"class","text-textHappy")},m(l,r){I(l,e,r),_(e,n),_(e,i)},p(l,r){r&1&&o!==(o=l[0].economyAndLaws.weeklyProfit+"")&&le(i,o)},d(l){l&&T(e)}}}function W4(t){let e=_t(t[0].townInfo.employees/t[0].townInfo.population_count*100,0)+"",n,o,i=t[0].townInfo.employees+"",l,r,a=t[0].townInfo.population_count+"",s,u,f=t[0].townInfo.population_count-t[0].townInfo.employees+"",c,d;return{c(){n=q(e),o=q("% employment ("),l=q(i),r=q("/"),s=q(a),u=q(" - "),c=q(f),d=q(" unemployed)")},m(p,m){I(p,n,m),I(p,o,m),I(p,l,m),I(p,r,m),I(p,s,m),I(p,u,m),I(p,c,m),I(p,d,m)},p(p,m){m&1&&e!==(e=_t(p[0].townInfo.employees/p[0].townInfo.population_count*100,0)+"")&&le(n,e),m&1&&i!==(i=p[0].townInfo.employees+"")&&le(l,i),m&1&&a!==(a=p[0].townInfo.population_count+"")&&le(s,a),m&1&&f!==(f=p[0].townInfo.population_count-p[0].townInfo.employees+"")&&le(c,f)},d(p){p&&(T(n),T(o),T(l),T(r),T(s),T(u),T(c),T(d))}}}function Y4(t){let e,n=t[0].townInfo.population_count===0&&qu();return{c(){n&&n.c(),e=Le()},m(o,i){n&&n.m(o,i),I(o,e,i)},p(o,i){o[0].townInfo.population_count===0?n||(n=qu(),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(o){o&&T(e),n&&n.d(o)}}}function qu(t){let e;return{c(){e=q("Nobody lives here , build some homes")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Gu(t){let e,n=_t(t[15],2)+"",o,i;return{c(){e=q("(x"),o=q(n),i=q(")")},m(l,r){I(l,e,r),I(l,o,r),I(l,i,r)},p(l,r){r&4&&n!==(n=_t(l[15],2)+"")&&le(o,n)},d(l){l&&(T(e),T(o),T(i))}}}function x4(t){let e,n=t[13]+"",o,i,l,r,a,s=t[15]!=null&&Gu(t);return r=new F4({props:{value:t[14],max:t[19]??300,class:"w-full",color:t[16]}}),{c(){e=O("span"),o=q(n),i=V(),s&&s.c(),l=V(),X(r.$$.fragment),N(e,"class","text-xs pb-2")},m(u,f){I(u,e,f),_(e,o),_(e,i),s&&s.m(e,null),I(u,l,f),U(r,u,f),a=!0},p(u,f){(!a||f&4)&&n!==(n=u[13]+"")&&le(o,n),u[15]!=null?s?s.p(u,f):(s=Gu(u),s.c(),s.m(e,null)):s&&(s.d(1),s=null);const c={};f&4&&(c.value=u[14]),f&4&&(c.max=u[19]??300),f&4&&(c.color=u[16]),r.$set(c)},i(u){a||(S(r.$$.fragment,u),a=!0)},o(u){M(r.$$.fragment,u),a=!1},d(u){u&&(T(e),T(l)),s&&s.d(),K(r,u)}}}function Hu(t){let e,n;return e=new oi({props:{class:"rounded-3xl "+(t[16]??t[8](t[14]).replace("500","300")),$$slots:{default:[U4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&4&&(l.class="rounded-3xl "+(o[16]??o[8](o[14]).replace("500","300"))),i&4194308&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function U4(t){let e,n,o=t[13]+"",i,l,r=t[14]+"",a,s,u,f,c,d=t[18]+"",p;return u=new St({props:{class:"mb-2 mt-1"}}),{c(){e=O("div"),n=O("span"),i=q(o),l=q(" - "),a=q(r),s=V(),X(u.$$.fragment),f=V(),c=O("span"),N(n,"class","text-md font-bold"),N(e,"class","flex flex-col justify-between text-black p-0 m-0 max-w-32")},m(m,h){I(m,e,h),_(e,n),_(n,i),_(n,l),_(n,a),_(e,s),U(u,e,null),_(e,f),_(e,c),c.innerHTML=d,p=!0},p(m,h){(!p||h&4)&&o!==(o=m[13]+"")&&le(i,o),(!p||h&4)&&r!==(r=m[14]+"")&&le(a,r),(!p||h&4)&&d!==(d=m[18]+"")&&(c.innerHTML=d)},i(m){p||(S(u.$$.fragment,m),p=!0)},o(m){M(u.$$.fragment,m),p=!1},d(m){m&&T(e),K(u)}}}function K4(t){let e,n,o,i;e=new li({props:{class:"w-full mt-0 flex flex-col",$$slots:{default:[x4]},$$scope:{ctx:t}}});let l=t[17]&&Hu(t);return{c(){X(e.$$.fragment),n=V(),l&&l.c(),o=Le()},m(r,a){U(e,r,a),I(r,n,a),l&&l.m(r,a),I(r,o,a),i=!0},p(r,a){const s={};a&4194308&&(s.$$scope={dirty:a,ctx:r}),e.$set(s),r[17]?l?(l.p(r,a),a&4&&S(l,1)):(l=Hu(r),l.c(),S(l,1),l.m(o.parentNode,o)):l&&(Me(),M(l,1,1,()=>{l=null}),Oe())},i(r){i||(S(e.$$.fragment,r),S(l),i=!0)},o(r){M(e.$$.fragment,r),M(l),i=!1},d(r){r&&(T(n),T(o)),K(e,r),l&&l.d(r)}}}function Vu(t){let e,n,o,i;return n=new ii({props:{openDelay:400,closeDelay:0,$$slots:{default:[K4]},$$scope:{ctx:t}}}),{c(){e=O("div"),X(n.$$.fragment),o=V(),N(e,"class","flex flex-col gap-2")},m(l,r){I(l,e,r),U(n,e,null),_(e,o),i=!0},p(l,r){const a={};r&4194308&&(a.$$scope={dirty:r,ctx:l}),n.$set(a)},i(l){i||(S(n.$$.fragment,l),i=!0)},o(l){M(n.$$.fragment,l),i=!1},d(l){l&&T(e),K(n)}}}function Wu(t){let e,n;return e=new R4({props:{y:[-.5,.5],x:[-.5,.5],duration:2e3}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function X4(t){let e,n=t[0].currentTutorialStep+1+"",o,i,l=On[t[0].currentTutorialStep].message+"",r,a,s,u,f=On[t[0].currentTutorialStep].goldReward+"",c,d;return{c(){e=q("Milestone "),o=q(n),i=q(" : "),r=q(l),a=V(),s=O("span"),u=q("(💰"),c=q(f),d=q(")"),N(s,"class","opacity-40")},m(p,m){I(p,e,m),I(p,o,m),I(p,i,m),I(p,r,m),I(p,a,m),I(p,s,m),_(s,u),_(s,c),_(s,d)},p(p,m){m&1&&n!==(n=p[0].currentTutorialStep+1+"")&&le(o,n),m&1&&l!==(l=On[p[0].currentTutorialStep].message+"")&&le(r,l),m&1&&f!==(f=On[p[0].currentTutorialStep].goldReward+"")&&le(c,f)},d(p){p&&(T(e),T(o),T(i),T(r),T(a),T(s))}}}function J4(t){let e;return{c(){e=q("No more goals!")},m(n,o){I(n,e,o)},p:Ce,d(n){n&&T(e)}}}function Z4(t){let e,n,o,i,l,r,a,s=t[0].townInfo.name+"",u,f,c,d,p,m=t[0].townInfo.population_count+"",h,v,A=t[0].townInfo.population_max+"",w,C,E,$,L,D,Y=Kt(t[0].townInfo.gold,!1)+"",F,G,y,b,k,P,B,R,x,Q,Z,z,ne,ae,g,H,j,oe,se,de,Be,Ae,Ye,ke,Ve,We,xe=t[0].environment.day%365+1+"",Ze,Xe,Pe,Je,Se,De,Dt=Math.floor(t[0].environment.day/365)+1+"",Pt,gt,ze,pe,Qe,W,ts,Qn,ns,ri,os,zn,is,si,ai,Tl,eo,dn,Il,to,ui,ls,Mo,fi,ci,ft,Ml,rs;function ss(Te,Ue){return Te[0].economyAndLaws.weeklyProfit>0?V4:Te[0].economyAndLaws.weeklyProfit<0?H4:G4}let di=ss(t),Gt=di(t);function as(Te,Ue){return Te[0].townInfo.employees==Te[0].townInfo.population_count?Y4:W4}let pi=as(t),Ht=pi(t),Sn=He(t[2]),rt=[];for(let Te=0;Te<Sn.length;Te+=1)rt[Te]=Vu(Bu(t,Sn,Te));const Hd=Te=>M(rt[Te],1,1,()=>{rt[Te]=null});let pt=t[5]&&Wu();function us(Te,Ue){return Te[0].currentTutorialStep>=On.length?J4:X4}let mi=us(t),Vt=mi(t);return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("div"),l=O("div"),r=O("div"),a=O("h1"),u=q(s),f=V(),c=O("div"),d=O("span"),p=q("👥 "),h=q(m),v=q(" / "),w=q(A),C=V(),E=O("div"),$=O("span"),L=O("span"),D=q("💰 "),F=q(Y),G=V(),y=O("div"),Gt.c(),b=V(),k=O("span"),k.textContent="(weekly)",P=V(),B=O("div"),R=O("span"),Ht.c(),Q=V(),Z=O("div"),z=O("div");for(let Te=0;Te<rt.length;Te+=1)rt[Te].c();ne=V(),ae=O("div"),g=O("div"),H=O("div"),j=O("div"),oe=O("span"),se=q("Game time · "),de=q(t[1]),Be=V(),Ae=O("div"),Ye=O("span"),ke=O("span"),ke.textContent="Day",Ve=V(),We=O("span"),Ze=q(xe),Xe=V(),Pe=O("span"),Je=O("span"),Je.textContent="Year",Se=V(),De=O("span"),Pt=q(Dt),gt=V(),ze=O("div"),pe=O("span"),Qe=q("Slow"),ts=V(),Qn=O("span"),ns=q("Normal"),os=V(),zn=O("span"),is=q("Fast"),Tl=V(),eo=O("div"),dn=O("div"),pt&&pt.c(),Il=V(),to=O("div"),ui=O("div"),ui.textContent="👨‍🦰",ls=V(),Mo=O("div"),Vt.c(),N(a,"class","font-bold cursor-pointer w-full text-start select-none text-lg"),N(r,"class","cursor-pointer flex flex-row justify-start"),N(l,"class","flex flex-row items-start text-md"),N(d,"class","text-sm"),N(c,"class","flex flex-row gap-4 flex-wrap items-center"),N(L,"class","text-sm"),N($,"class","text-xs"),N(k,"class","text-gray-400"),N(y,"class","text-xs"),N(R,"class","text-xs"),N(B,"class",x="text-xs pt-0 opacity-70 "+(t[0].townInfo.employees==t[0].townInfo.population_count?"text-textPrimary":t[0].townInfo.employees>t[0].townInfo.population_count*.95?"text-textDanger3":t[0].townInfo.employees>t[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")),N(i,"class","flex flex-col gap-1 "),N(o,"class","rounded-xl"),N(n,"class","flex justify-between flex-col py-2 max-w-[25%] w-[25%]"),N(z,"class","flex flex-col text-foregroundText py-1 rounded-xl gap-4 flex-wrap max-h-[110px]"),N(Z,"class","flex flex-row gap-2 my-2"),N(oe,"class","text-xs text-secondary cursor-pointer"),N(ke,"class","text-xs"),N(We,"class","font-semibold text-xs"),N(Ye,"class","flex flex-col gap-2 text-center"),N(Je,"class","text-xs"),N(De,"class","font-semibold text-xs"),N(Pe,"class","flex flex-col gap-2 text-center"),N(Ae,"class","rounded-xl bg-accent flex-row justify-between text-accentText w-36 h-14 flex px-6 items-center mb-2"),N(pe,"class",W=(t[3].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(Qn,"class",ri=(t[3].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(zn,"class",si=(t[3].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(ze,"class","flex flex-row gap-2 align-middle justify-center items-center"),N(H,"class","flex flex-col items-center h-max"),N(g,"class","flex flex-col"),N(ae,"class","flex justify-end align-end w-[25%]"),N(e,"class",ai="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-10 bg-foreground text-foregroundText max-h-[135px] h-[135px] "+(t[4].visible?"opacity-70":"")),N(ui,"class","text-lg h-max"),N(Mo,"class","text-xs ml-2 overflow-auto opacity-80"),N(to,"class","gap flex-row items-center flex bg-white text-slate-800 py-1 px-2 rounded-xl w-full "),N(dn,"class",fi="flex flex-col justify-center w-full align-middle items-center fixed max-w-[50vw] z-10 "+(t[0].environment.day===0?"top-[160px]":"top-[130px]")+" left-0 right-0 mx-auto"),N(eo,"class",ci=(t[5]?"opacity-25 ":"")+" transition-all duration-1000 "+(t[0].environment.day===0?"wiggle":"")+" svelte-1asvijo")},m(Te,Ue){I(Te,e,Ue),_(e,n),_(n,o),_(o,i),_(i,l),_(l,r),_(r,a),_(a,u),_(i,f),_(i,c),_(c,d),_(d,p),_(d,h),_(d,v),_(d,w),_(i,C),_(i,E),_(E,$),_($,L),_(L,D),_(L,F),_(i,G),_(i,y),Gt.m(y,null),_(y,b),_(y,k),_(i,P),_(i,B),_(B,R),Ht.m(R,null),_(e,Q),_(e,Z),_(Z,z);for(let at=0;at<rt.length;at+=1)rt[at]&&rt[at].m(z,null);_(e,ne),_(e,ae),_(ae,g),_(g,H),_(H,j),_(j,oe),_(oe,se),_(oe,de),_(H,Be),_(H,Ae),_(Ae,Ye),_(Ye,ke),_(Ye,Ve),_(Ye,We),_(We,Ze),_(Ae,Xe),_(Ae,Pe),_(Pe,Je),_(Pe,Se),_(Pe,De),_(De,Pt),_(H,gt),_(H,ze),_(ze,pe),_(pe,Qe),_(ze,ts),_(ze,Qn),_(Qn,ns),_(ze,os),_(ze,zn),_(zn,is),I(Te,Tl,Ue),I(Te,eo,Ue),_(eo,dn),pt&&pt.m(dn,null),_(dn,Il),_(dn,to),_(to,ui),_(to,ls),_(to,Mo),Vt.m(Mo,null),ft=!0,Ml||(rs=[ee(r,"click",t[6]),ee(pe,"click",t[9]),ee(Qn,"click",t[10]),ee(zn,"click",t[11])],Ml=!0)},p(Te,[Ue]){if((!ft||Ue&1)&&s!==(s=Te[0].townInfo.name+"")&&le(u,s),(!ft||Ue&1)&&m!==(m=Te[0].townInfo.population_count+"")&&le(h,m),(!ft||Ue&1)&&A!==(A=Te[0].townInfo.population_max+"")&&le(w,A),(!ft||Ue&1)&&Y!==(Y=Kt(Te[0].townInfo.gold,!1)+"")&&le(F,Y),di===(di=ss(Te))&&Gt?Gt.p(Te,Ue):(Gt.d(1),Gt=di(Te),Gt&&(Gt.c(),Gt.m(y,b))),pi===(pi=as(Te))&&Ht?Ht.p(Te,Ue):(Ht.d(1),Ht=pi(Te),Ht&&(Ht.c(),Ht.m(R,null))),(!ft||Ue&1&&x!==(x="text-xs pt-0 opacity-70 "+(Te[0].townInfo.employees==Te[0].townInfo.population_count?"text-textPrimary":Te[0].townInfo.employees>Te[0].townInfo.population_count*.95?"text-textDanger3":Te[0].townInfo.employees>Te[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")))&&N(B,"class",x),Ue&260){Sn=He(Te[2]);let at;for(at=0;at<Sn.length;at+=1){const fs=Bu(Te,Sn,at);rt[at]?(rt[at].p(fs,Ue),S(rt[at],1)):(rt[at]=Vu(fs),rt[at].c(),S(rt[at],1),rt[at].m(z,null))}for(Me(),at=Sn.length;at<rt.length;at+=1)Hd(at);Oe()}(!ft||Ue&2)&&le(de,Te[1]),(!ft||Ue&1)&&xe!==(xe=Te[0].environment.day%365+1+"")&&le(Ze,xe),(!ft||Ue&1)&&Dt!==(Dt=Math.floor(Te[0].environment.day/365)+1+"")&&le(Pt,Dt),(!ft||Ue&8&&W!==(W=(Te[3].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(pe,"class",W),(!ft||Ue&8&&ri!==(ri=(Te[3].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(Qn,"class",ri),(!ft||Ue&8&&si!==(si=(Te[3].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(zn,"class",si),(!ft||Ue&16&&ai!==(ai="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-10 bg-foreground text-foregroundText max-h-[135px] h-[135px] "+(Te[4].visible?"opacity-70":"")))&&N(e,"class",ai),Te[5]?pt?Ue&32&&S(pt,1):(pt=Wu(),pt.c(),S(pt,1),pt.m(dn,Il)):pt&&(Me(),M(pt,1,1,()=>{pt=null}),Oe()),mi===(mi=us(Te))&&Vt?Vt.p(Te,Ue):(Vt.d(1),Vt=mi(Te),Vt&&(Vt.c(),Vt.m(Mo,null))),(!ft||Ue&1&&fi!==(fi="flex flex-col justify-center w-full align-middle items-center fixed max-w-[50vw] z-10 "+(Te[0].environment.day===0?"top-[160px]":"top-[130px]")+" left-0 right-0 mx-auto"))&&N(dn,"class",fi),(!ft||Ue&33&&ci!==(ci=(Te[5]?"opacity-25 ":"")+" transition-all duration-1000 "+(Te[0].environment.day===0?"wiggle":"")+" svelte-1asvijo"))&&N(eo,"class",ci)},i(Te){if(!ft){for(let Ue=0;Ue<Sn.length;Ue+=1)S(rt[Ue]);S(pt),ft=!0}},o(Te){rt=rt.filter(Boolean);for(let Ue=0;Ue<rt.length;Ue+=1)M(rt[Ue]);M(pt),ft=!1},d(Te){Te&&(T(e),T(Tl),T(eo)),Gt.d(),Ht.d(),dt(rt,Te),pt&&pt.d(),Vt.d(),Ml=!1,$e(rs)}}}function Yu(t){let e=0;for(let n=0;n<t.plots.length;n++)for(let o=0;o<t.plots[n].length;o++)t.plots[n][o].active==!0&&t.plots[n][o].type>-1&&e++;return e}function Q4(t,e,n){let o,i,l,r;ue(t,Ne,v=>n(0,o=v)),ue(t,zl,v=>n(3,i=v)),ue(t,nt,v=>n(4,l=v)),ue(t,Ti,v=>n(5,r=v)),fl(()=>{const v=setInterval(()=>{Ie(Ne,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(v)}});function a(){let v=prompt("Enter a new name for your town (under 200 chars)");if(v&&v.length<200&&v.length>=1){let A=o;A.townInfo.name=v,Ne.set(A),localStorage.setItem(Bt,JSON.stringify(A))}}function s(v){return Ie(zl,i=v,i),document.querySelectorAll(".speedButton").forEach(w=>{w.classList.remove("active")}),i}let u="00:00:00",f;const c=v=>v===1?"bg-green-500":v>.9?"bg-yellow-500":"bg-red-500",d=v=>v>149?"bg-green-500":v>99?"bg-yellow-500":"bg-red-500",p=()=>s(2e3),m=()=>s(750),h=()=>s(200);return t.$$.update=()=>{t.$$.dirty&1&&(o.timeSpent>0?n(1,u=om(o.timeSpent)):n(1,u="00:00:00")),t.$$.dirty&1&&n(2,f=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:o.townInfo.happiness,modifier:o.modifiers.happiness,color:d(o.townInfo.happiness),hover:!0,max:null},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:o.townInfo.health,modifier:o.modifiers.health,color:d(o.townInfo.health),hover:!0,max:null},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:o.townInfo.community,modifier:o.modifiers.community,color:d(o.townInfo.community),hover:!0,max:null},{name:"Employment",description:"The number of people employed in your town. Unemployed people are more likely to leave.",value:o.townInfo.employees/o.townInfo.population_count*300,modifier:null,color:c(o.townInfo.employees/o.townInfo.population_count),hover:!1,max:null},{name:"🛝 Recreation",description:"Tracker for how many plots you have for recreation, which keeps townspeople happy. <br/><br/>Make sure as your town grows that you build enough 🛝 plots. ",value:o.townInfo.recreation,modifier:null,color:o.townInfo.recreation/Yu(o)>=.2?"bg-green-500":"bg-orange-300",hover:!0,max:Yu(o)}])},[o,u,f,i,l,r,a,s,d,p,m,h]}class z4 extends ve{constructor(e){super(),be(this,e,Q4,Z4,ce,{})}}function xu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Uu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Ku(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Xu(t){let e,n,o,i=te[ye(t[0].id)].title+"",l,r,a,s=te[ye(t[0].id)].description+"",u,f,c,d,p,m,h,v,A,w=t[3]("💰",te[ye(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",C,E,$=t[3]("🥕",te[ye(t[0].id)].requirements.resources.food,t[2].resources.food)+"",L,D,Y=t[3]("🧠",te[ye(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",F,G,y=t[3]("🪵",te[ye(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",b,k,P=t[3]("🪨",te[ye(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",B,R,x=t[3]("🧲",te[ye(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",Q,Z,z=t[3]("🔋",te[ye(t[0].id)].active_costs.power,t[2].resources.power)+"",ne,ae,g=t[3]("🧑‍⚖️",te[ye(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",H,j=te[ye(t[0].id)].requirements.employees!=0,oe,se=te[ye(t[0].id)].revenue_per_week!=0,de,Be=Object.values(te[ye(t[0].id)].active_costs).some(ff),Ae,Ye=Object.values(te[ye(t[0].id)].requirements.plots).length>0,ke,Ve=Object.values(te[ye(t[0].id)].generated_resources).some(uf)||te[ye(t[0].id)].knowledge_points_per_month>0,We;d=new St({props:{class:"bg-secondary opacity-25 mt-1 mb-1"}});let xe=j&&Ju(t),Ze=se&&Zu(t),Xe=Be&&Qu(t),Pe=Ye&&tf(t),Je=Ve&&lf(t);return{c(){e=O("div"),n=O("div"),o=O("span"),l=q(i),r=V(),a=O("span"),u=q(s),f=V(),c=O("div"),X(d.$$.fragment),p=V(),m=O("span"),m.textContent="Requirements",h=V(),v=O("div"),A=new tn(!1),C=V(),E=new tn(!1),L=V(),D=new tn(!1),F=V(),G=new tn(!1),b=V(),k=new tn(!1),B=V(),R=new tn(!1),Q=V(),Z=new tn(!1),ne=V(),ae=new tn(!1),H=V(),xe&&xe.c(),oe=V(),Ze&&Ze.c(),de=V(),Xe&&Xe.c(),Ae=V(),Pe&&Pe.c(),ke=V(),Je&&Je.c(),N(o,"class","text-md"),N(a,"class","text-xs"),N(n,"class","flex flex-col gap-2"),N(m,"class","font-semibold"),A.a=C,E.a=L,D.a=F,G.a=b,k.a=B,R.a=Q,Z.a=ne,ae.a=H,N(v,"class","flex flex-col gap-1"),N(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),N(e,"class","p-2 max-w-64")},m(Se,De){I(Se,e,De),_(e,n),_(n,o),_(o,l),_(n,r),_(n,a),_(a,u),_(e,f),_(e,c),U(d,c,null),_(c,p),_(c,m),_(c,h),_(c,v),A.m(w,v),_(v,C),E.m($,v),_(v,L),D.m(Y,v),_(v,F),G.m(y,v),_(v,b),k.m(P,v),_(v,B),R.m(x,v),_(v,Q),Z.m(z,v),_(v,ne),ae.m(g,v),_(v,H),xe&&xe.m(v,null),_(e,oe),Ze&&Ze.m(e,null),_(e,de),Xe&&Xe.m(e,null),_(e,Ae),Pe&&Pe.m(e,null),_(e,ke),Je&&Je.m(e,null),We=!0},p(Se,De){(!We||De&1)&&i!==(i=te[ye(Se[0].id)].title+"")&&le(l,i),(!We||De&1)&&s!==(s=te[ye(Se[0].id)].description+"")&&le(u,s),(!We||De&5)&&w!==(w=Se[3]("💰",te[ye(Se[0].id)].requirements.gold,Se[2].townInfo.gold)+"")&&A.p(w),(!We||De&5)&&$!==($=Se[3]("🥕",te[ye(Se[0].id)].requirements.resources.food,Se[2].resources.food)+"")&&E.p($),(!We||De&5)&&Y!==(Y=Se[3]("🧠",te[ye(Se[0].id)].requirements.knowledge,Se[2].townInfo.knowledge_points)+"")&&D.p(Y),(!We||De&5)&&y!==(y=Se[3]("🪵",te[ye(Se[0].id)].requirements.resources.wood,Se[2].resources.wood)+"")&&G.p(y),(!We||De&5)&&P!==(P=Se[3]("🪨",te[ye(Se[0].id)].requirements.resources.stone,Se[2].resources.stone)+"")&&k.p(P),(!We||De&5)&&x!==(x=Se[3]("🧲",te[ye(Se[0].id)].requirements.resources.metal,Se[2].resources.metal)+"")&&R.p(x),(!We||De&5)&&z!==(z=Se[3]("🔋",te[ye(Se[0].id)].active_costs.power,Se[2].resources.power)+"")&&Z.p(z),(!We||De&5)&&g!==(g=Se[3]("🧑‍⚖️",te[ye(Se[0].id)].requirements.resources.bureaucracy,Se[2].resources.bureaucracy)+"")&&ae.p(g),De&1&&(j=te[ye(Se[0].id)].requirements.employees!=0),j?xe?xe.p(Se,De):(xe=Ju(Se),xe.c(),xe.m(v,null)):xe&&(xe.d(1),xe=null),De&1&&(se=te[ye(Se[0].id)].revenue_per_week!=0),se?Ze?(Ze.p(Se,De),De&1&&S(Ze,1)):(Ze=Zu(Se),Ze.c(),S(Ze,1),Ze.m(e,de)):Ze&&(Me(),M(Ze,1,1,()=>{Ze=null}),Oe()),De&1&&(Be=Object.values(te[ye(Se[0].id)].active_costs).some(ff)),Be?Xe?(Xe.p(Se,De),De&1&&S(Xe,1)):(Xe=Qu(Se),Xe.c(),S(Xe,1),Xe.m(e,Ae)):Xe&&(Me(),M(Xe,1,1,()=>{Xe=null}),Oe()),De&1&&(Ye=Object.values(te[ye(Se[0].id)].requirements.plots).length>0),Ye?Pe?(Pe.p(Se,De),De&1&&S(Pe,1)):(Pe=tf(Se),Pe.c(),S(Pe,1),Pe.m(e,ke)):Pe&&(Me(),M(Pe,1,1,()=>{Pe=null}),Oe()),De&1&&(Ve=Object.values(te[ye(Se[0].id)].generated_resources).some(uf)||te[ye(Se[0].id)].knowledge_points_per_month>0),Ve?Je?(Je.p(Se,De),De&1&&S(Je,1)):(Je=lf(Se),Je.c(),S(Je,1),Je.m(e,null)):Je&&(Me(),M(Je,1,1,()=>{Je=null}),Oe())},i(Se){We||(S(d.$$.fragment,Se),S(Ze),S(Xe),S(Pe),S(Je),We=!0)},o(Se){M(d.$$.fragment,Se),M(Ze),M(Xe),M(Pe),M(Je),We=!1},d(Se){Se&&T(e),K(d),xe&&xe.d(),Ze&&Ze.d(),Xe&&Xe.d(),Pe&&Pe.d(),Je&&Je.d()}}}function Ju(t){let e,n,o=te[ye(t[0].id)].requirements.employees+"",i,l,r;return{c(){e=O("span"),n=q("👥 "),i=q(o),l=q(" employees"),N(e,"class",r=te[ye(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")},m(a,s){I(a,e,s),_(e,n),_(e,i),_(e,l)},p(a,s){s&1&&o!==(o=te[ye(a[0].id)].requirements.employees+"")&&le(i,o),s&7&&r!==(r=te[ye(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")&&N(e,"class",r)},d(a){a&&T(e)}}}function Zu(t){let e,n,o,i,l,r,a,s=te[ye(t[0].id)].revenue_per_week+"",u,f;return n=new St({props:{class:"bg-secondary opacity-25 mt-0"}}),{c(){e=O("div"),X(n.$$.fragment),o=V(),i=O("span"),i.textContent="Weekly revenue",l=V(),r=O("span"),a=q("💰 "),u=q(s),N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(c,d){I(c,e,d),U(n,e,null),_(e,o),_(e,i),_(e,l),_(e,r),_(r,a),_(r,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=te[ye(c[0].id)].revenue_per_week+"")&&le(u,s)},i(c){f||(S(n.$$.fragment,c),f=!0)},o(c){M(n.$$.fragment,c),f=!1},d(c){c&&T(e),K(n)}}}function Qu(t){let e,n,o,i,l,r;n=new St({props:{class:"bg-secondary opacity-25 mt-2"}});let a=He(Object.keys(te[ye(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=ef(Ku(t,a,u));return{c(){e=O("div"),X(n.$$.fragment),o=V(),i=O("span"),i.textContent="Weekly Costs",l=V();for(let u=0;u<s.length;u+=1)s[u].c();N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(u,f){I(u,e,f),U(n,e,null),_(e,o),_(e,i),_(e,l);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);r=!0},p(u,f){if(f&1){a=He(Object.keys(te[ye(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=Ku(u,a,c);s[c]?s[c].p(d,f):(s[c]=ef(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){r||(S(n.$$.fragment,u),r=!0)},o(u){M(n.$$.fragment,u),r=!1},d(u){u&&T(e),K(n),dt(s,u)}}}function zu(t){let e,n=Dn(t[4])+"",o,i,l=sl(t[4])+"",r,a,s=-1*Object.values(te[ye(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=O("span"),o=q(n),i=V(),r=q(l),a=V(),u=q(s),f=V(),N(e,"class",c=Object.values(te[ye(t[0].id)].active_costs)[t[6]]>0?"text-textDanger1":"text-textHappyDark")},m(d,p){I(d,e,p),_(e,o),_(e,i),_(e,r),_(e,a),_(e,u),_(e,f)},p(d,p){p&1&&n!==(n=Dn(d[4])+"")&&le(o,n),p&1&&l!==(l=sl(d[4])+"")&&le(r,l),p&1&&s!==(s=-1*Object.values(te[ye(d[0].id)].active_costs)[d[6]]+"")&&le(u,s),p&1&&c!==(c=Object.values(te[ye(d[0].id)].active_costs)[d[6]]>0?"text-textDanger1":"text-textHappyDark")&&N(e,"class",c)},d(d){d&&T(e)}}}function ef(t){let e=Object.values(te[ye(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&zu(t);return{c(){o&&o.c(),n=Le()},m(i,l){o&&o.m(i,l),I(i,n,l)},p(i,l){l&1&&(e=Object.values(te[ye(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,l):(o=zu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function tf(t){let e,n,o,i,l,r;n=new St({props:{class:"bg-secondary opacity-25 mt-2"}});let a=He(Object.keys(te[ye(t[0].id)].requirements.plots)),s=[];for(let u=0;u<a.length;u+=1)s[u]=of(Uu(t,a,u));return{c(){e=O("div"),X(n.$$.fragment),o=V(),i=O("span"),i.textContent="Required Plots",l=V();for(let u=0;u<s.length;u+=1)s[u].c();N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(u,f){I(u,e,f),U(n,e,null),_(e,o),_(e,i),_(e,l);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);r=!0},p(u,f){if(f&5){a=He(Object.keys(te[ye(u[0].id)].requirements.plots));let c;for(c=0;c<a.length;c+=1){const d=Uu(u,a,c);s[c]?s[c].p(d,f):(s[c]=of(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){r||(S(n.$$.fragment,u),r=!0)},o(u){M(n.$$.fragment,u),r=!1},d(u){u&&T(e),K(n),dt(s,u)}}}function nf(t){var r;let e,n=((r=ys(Object.values(te[ye(t[0].id)].requirements.plots)[t[6]]))==null?void 0:r.title)+"",o,i,l;return{c(){e=O("span"),o=q(n),i=V(),N(e,"class",l=Ge(Object.values(te[ye(t[0].id)].requirements.plots)[t[6]],t[2]).length==0?"text-textDanger1 border-2 border-red-400 font-semibold px-1":"text-textHappyDark")},m(a,s){I(a,e,s),_(e,o),_(e,i)},p(a,s){var u;s&1&&n!==(n=((u=ys(Object.values(te[ye(a[0].id)].requirements.plots)[a[6]]))==null?void 0:u.title)+"")&&le(o,n),s&5&&l!==(l=Ge(Object.values(te[ye(a[0].id)].requirements.plots)[a[6]],a[2]).length==0?"text-textDanger1 border-2 border-red-400 font-semibold px-1":"text-textHappyDark")&&N(e,"class",l)},d(a){a&&T(e)}}}function of(t){let e=Object.values(te[ye(t[0].id)].requirements.plots)[t[6]]!=0,n,o=e&&nf(t);return{c(){o&&o.c(),n=Le()},m(i,l){o&&o.m(i,l),I(i,n,l)},p(i,l){l&1&&(e=Object.values(te[ye(i[0].id)].requirements.plots)[i[6]]!=0),e?o?o.p(i,l):(o=nf(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function lf(t){let e,n,o,i,l,r=te[ye(t[0].id)].knowledge_points_per_month>0,a,s;n=new St({props:{class:"bg-secondary opacity-25 mt-2"}});let u=r&&rf(t),f=He(Object.keys(te[ye(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=af(xu(t,f,d));return{c(){e=O("div"),X(n.$$.fragment),o=V(),i=O("span"),i.textContent="Generated Resources",l=V(),u&&u.c(),a=V();for(let d=0;d<c.length;d+=1)c[d].c();N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(d,p){I(d,e,p),U(n,e,null),_(e,o),_(e,i),_(e,l),u&&u.m(e,null),_(e,a);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(e,null);s=!0},p(d,p){if(p&1&&(r=te[ye(d[0].id)].knowledge_points_per_month>0),r?u?u.p(d,p):(u=rf(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),p&1){f=He(Object.keys(te[ye(d[0].id)].generated_resources));let m;for(m=0;m<f.length;m+=1){const h=xu(d,f,m);c[m]?c[m].p(h,p):(c[m]=af(h),c[m].c(),c[m].m(e,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=f.length}},i(d){s||(S(n.$$.fragment,d),s=!0)},o(d){M(n.$$.fragment,d),s=!1},d(d){d&&T(e),K(n),u&&u.d(),dt(c,d)}}}function rf(t){let e,n,o=Math.round(te[ye(t[0].id)].knowledge_points_per_month)+"",i,l;return{c(){e=O("span"),n=q("🧠 "),i=q(o),l=q(" (monthly)")},m(r,a){I(r,e,a),_(e,n),_(e,i),_(e,l)},p(r,a){a&1&&o!==(o=Math.round(te[ye(r[0].id)].knowledge_points_per_month)+"")&&le(i,o)},d(r){r&&T(e)}}}function sf(t){let e,n=sl(t[4])+"",o,i,l=Dn(t[4])+"",r,a,s=ks(Object.values(te[ye(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=O("span"),o=q(n),i=V(),r=q(l),a=V(),u=q(s),f=V(),N(e,"class",c=Object.values(te[ye(t[0].id)].generated_resources)[t[6]]>0?"text-textHappyDark":"text-textDanger1")},m(d,p){I(d,e,p),_(e,o),_(e,i),_(e,r),_(e,a),_(e,u),_(e,f)},p(d,p){p&1&&n!==(n=sl(d[4])+"")&&le(o,n),p&1&&l!==(l=Dn(d[4])+"")&&le(r,l),p&1&&s!==(s=ks(Object.values(te[ye(d[0].id)].generated_resources)[d[6]],!1)+"")&&le(u,s),p&1&&c!==(c=Object.values(te[ye(d[0].id)].generated_resources)[d[6]]>0?"text-textHappyDark":"text-textDanger1")&&N(e,"class",c)},d(d){d&&T(e)}}}function af(t){let e=Object.values(te[ye(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&sf(t);return{c(){o&&o.c(),n=Le()},m(i,l){o&&o.m(i,l),I(i,n,l)},p(i,l){l&1&&(e=Object.values(te[ye(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,l):(o=sf(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function e3(t){let e,n,o=t[0]!=null&&Xu(t);return{c(){o&&o.c(),e=Le()},m(i,l){o&&o.m(i,l),I(i,e,l),n=!0},p(i,[l]){i[0]!=null?o?(o.p(i,l),l&1&&S(o,1)):(o=Xu(i),o.c(),S(o,1),o.m(e.parentNode,e)):o&&(Me(),M(o,1,1,()=>{o=null}),Oe())},i(i){n||(S(o),n=!0)},o(i){M(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function sl(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const uf=t=>t!=0,ff=t=>t!=0;function t3(t,e,n){let o;ue(t,Ne,a=>n(2,o=a));let{option:i}=e,{checkRequirements:l=!0}=e;function r(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&l&&(c="text-textDanger1 border-2 border-red-400"),f=`<span class='${c}'>${a} ${s}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,l=a.checkRequirements)},[i,l,o,r]}class qd extends ve{constructor(e){super(),be(this,e,t3,e3,ce,{option:0,checkRequirements:1})}}function cf(t,e,n){const o=t.slice();return o[25]=e[n],o}function df(t,e,n){const o=t.slice();return o[28]=e[n],o}function pf(t){let e,n,o,i,l,r,a,s,u,f,c,d,p,m,h=t[5].plots[t[0]][t[1]].type!==-1&&t[11](t[0],t[1]),v,A,w,C,E,$,L,D,Y={type:"text",autofocus:!0,id:"search-bar",placeholder:"Search Plot Options...",value:t[3],class:"border rounded w-auto bg-white placeholder-black text-black text-xs"};a=new Vr({props:Y}),t[15](a),a.$on("input",t[9]);let F=h&&mf(t),G=He(t[6].isMineralSource||t[3].length>0||t[7]?[1]:Ge("tree_farm",t[5]).length!=0?[1,2,3,4]:[1]),y=[];for(let k=0;k<G.length;k+=1)y[k]=Cf(cf(t,G,k));const b=k=>M(y[k],1,1,()=>{y[k]=null});return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("div"),l=O("div"),r=O("div"),X(a.$$.fragment),s=V(),u=O("div"),f=O("input"),c=V(),d=O("label"),d.textContent="Buildable",p=V(),m=O("div"),F&&F.c(),v=V(),A=O("div"),A.textContent="Press escape or click to close",w=V(),C=O("div");for(let k=0;k<y.length;k+=1)y[k].c();N(r,"class","flex items-end "),N(f,"type","checkbox"),N(f,"id","toggle-affordable"),N(f,"class","rounded"),f.checked=t[7],N(d,"for","toggle-affordable"),N(d,"class","ml-2 no-select cursor-pointer "),N(u,"class","flex items-center ml-4"),N(m,"class","flex justify-end ml-6"),N(l,"class","flex flex-row w-full "),N(i,"class","text-sm"),N(A,"class","absolute top-[-15px] right-3 text-xs text-black p-2 bg-white rounded-xl cursor-pointer"),N(C,"class",E="flex flex-col "+(t[6].isMineralSource||t[3].length>0||t[7]?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-["+Xl+"] pb-24"),N(o,"class","flex flex-col gap-2 px-2 justify-end"),N(n,"class","text-xl items-center justify-center w-[100%] align-bottom bg-foregroundDark shadow-3xl rounded-t-xl py-2 "),N(e,"class","w-[100vw] fixed bottom-[-5px] h-["+Xl+"] z-50 flex flex-col justify-center text-center items-center")},m(k,P){I(k,e,P),_(e,n),_(n,o),_(o,i),_(i,l),_(l,r),U(a,r,null),_(l,s),_(l,u),_(u,f),_(u,c),_(u,d),_(l,p),_(l,m),F&&F.m(m,null),_(o,v),_(o,A),_(o,w),_(o,C);for(let B=0;B<y.length;B+=1)y[B]&&y[B].m(C,null);$=!0,L||(D=[ee(f,"change",t[16]),ee(A,"click",t[17]),ee(o,"click",t[10])],L=!0)},p(k,P){const B={};if(P[0]&8&&(B.value=k[3]),a.$set(B),(!$||P[0]&128)&&(f.checked=k[7]),P[0]&35&&(h=k[5].plots[k[0]][k[1]].type!==-1&&k[11](k[0],k[1])),h?F?F.p(k,P):(F=mf(k),F.c(),F.m(m,null)):F&&(F.d(1),F=null),P[0]&248){G=He(k[6].isMineralSource||k[3].length>0||k[7]?[1]:Ge("tree_farm",k[5]).length!=0?[1,2,3,4]:[1]);let R;for(R=0;R<G.length;R+=1){const x=cf(k,G,R);y[R]?(y[R].p(x,P),S(y[R],1)):(y[R]=Cf(x),y[R].c(),S(y[R],1),y[R].m(C,null))}for(Me(),R=G.length;R<y.length;R+=1)b(R);Oe()}(!$||P[0]&200&&E!==(E="flex flex-col "+(k[6].isMineralSource||k[3].length>0||k[7]?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-["+Xl+"] pb-24"))&&N(C,"class",E)},i(k){if(!$){S(a.$$.fragment,k);for(let P=0;P<G.length;P+=1)S(y[P]);$=!0}},o(k){M(a.$$.fragment,k),y=y.filter(Boolean);for(let P=0;P<y.length;P+=1)M(y[P]);$=!1},d(k){k&&T(e),t[15](null),K(a),F&&F.d(),dt(y,k),L=!1,$e(D)}}}function mf(t){let e,n,o;return{c(){e=O("button"),e.textContent="❌ Bulldoze",N(e,"id","bulldoze"),N(e,"class","px-2 py-2 bg-red-500 rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(i,l){I(i,e,l),n||(o=ee(e,"click",t[12]),n=!0)},p:Ce,d(i){i&&T(e),n=!1,o()}}}function hf(t){let e,n,o=t[25]+"",i;return{c(){e=O("div"),n=q("Level "),i=q(o),N(e,"class","text-sm font-extralight pb-3")},m(l,r){I(l,e,r),_(e,n),_(e,i)},p(l,r){r[0]&232&&o!==(o=l[25]+"")&&le(i,o)},d(l){l&&T(e)}}}function _f(t){let e,n,o=t[28].active_costs.power+"",i;return{c(){e=O("span"),n=q("🔋"),i=q(o),N(e,"class","bg-yellow-300 text-xs text-black px-1 py-0.5 rounded-2xl absolute top-[-8px] right-[-2px] border-2 border-green-700 ")},m(l,r){I(l,e,r),_(e,n),_(e,i)},p(l,r){r[0]&248&&o!==(o=l[28].active_costs.power+"")&&le(i,o)},d(l){l&&T(e)}}}function gf(t){let e;return{c(){e=O("span"),e.textContent="🛝",N(e,"class","bg-blue-200 text-xs text-black px-1 py-0.5 rounded-2xl absolute bottom-[2px] left-[-2px] border-2 border-blue-600 ")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function bf(t){let e,n,o=Ge(t[28].id,t[5]).length+"",i;return{c(){e=O("span"),n=q("x"),i=q(o),N(e,"class","bg-black text-xs text-white px-1 py-0.5 rounded-2xl absolute top-[-5px] left-[-2px] border-2 border-white ")},m(l,r){I(l,e,r),_(e,n),_(e,i)},p(l,r){r[0]&248&&o!==(o=Ge(l[28].id,l[5]).length+"")&&le(i,o)},d(l){l&&T(e)}}}function vf(t){let e,n,o=Kt(t[28].revenue_per_week,!1)+"",i,l;return{c(){e=O("br"),n=q(`
                            Makes 💰 `),i=q(o),l=q("/week")},m(r,a){I(r,e,a),I(r,n,a),I(r,i,a),I(r,l,a)},p(r,a){a[0]&248&&o!==(o=Kt(r[28].revenue_per_week,!1)+"")&&le(i,o)},d(r){r&&(T(e),T(n),T(i),T(l))}}}function yf(t){let e,n,o=Kt(t[28].requirements.employees,!1)+"",i;return{c(){e=O("br"),n=q(`
                            Employs `),i=q(o)},m(l,r){I(l,e,r),I(l,n,r),I(l,i,r)},p(l,r){r[0]&248&&o!==(o=Kt(l[28].requirements.employees,!1)+"")&&le(i,o)},d(l){l&&(T(e),T(n),T(i))}}}function n3(t){let e,n,o,i=(t[28].selected?"✅":ws(t[28].title))+"",l,r,a,s=t[28].title.substring(2)+"",u,f,c,d,p=Ge(t[28].id,t[5]).length>0,m,h,v,A=Kt(t[28].requirements.gold,!1)+"",w,C,E,$,L,D,Y=t[28].active_costs.power>0&&_f(t),F=(t[28].type=="recreation"||t[28].type=="shop")&&gf(),G=p&&bf(t),y=t[28].revenue_per_week>0&&vf(t),b=t[28].requirements.employees>0&&yf(t);return{c(){e=O("div"),n=O("div"),o=O("span"),l=q(i),r=V(),a=O("span"),u=q(s),f=V(),Y&&Y.c(),c=V(),F&&F.c(),d=V(),G&&G.c(),m=V(),h=O("span"),v=q("Costs 💰 "),w=q(A),C=V(),y&&y.c(),E=V(),b&&b.c(),N(o,"class","text-md text-center"),N(a,"class","text-xs text-center font-bold mx-1"),N(n,"class","pt-2"),N(h,"style",$=t[28].styling),N(h,"class","text-xs text-center pt-4"),N(e,"class",L="plotOption cursor-pointer min-w-40 "+(t[6].isMineralSource||t[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(t[28].affordable||t[28].selected?"cursor-pointer":"opacity-40 cursor-not-allowed ")+" "+(t[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":"")),N(e,"data-plotoptionid",D=t[28].id),et(e,"background-color",ji(ye(t[28].id),!0))},m(k,P){I(k,e,P),_(e,n),_(n,o),_(o,l),_(n,r),_(n,a),_(a,u),_(e,f),Y&&Y.m(e,null),_(e,c),F&&F.m(e,null),_(e,d),G&&G.m(e,null),_(e,m),_(e,h),_(h,v),_(h,w),_(h,C),y&&y.m(h,null),_(h,E),b&&b.m(h,null)},p(k,P){P[0]&248&&i!==(i=(k[28].selected?"✅":ws(k[28].title))+"")&&le(l,i),P[0]&248&&s!==(s=k[28].title.substring(2)+"")&&le(u,s),k[28].active_costs.power>0?Y?Y.p(k,P):(Y=_f(k),Y.c(),Y.m(e,c)):Y&&(Y.d(1),Y=null),k[28].type=="recreation"||k[28].type=="shop"?F||(F=gf(),F.c(),F.m(e,d)):F&&(F.d(1),F=null),P[0]&248&&(p=Ge(k[28].id,k[5]).length>0),p?G?G.p(k,P):(G=bf(k),G.c(),G.m(e,m)):G&&(G.d(1),G=null),P[0]&248&&A!==(A=Kt(k[28].requirements.gold,!1)+"")&&le(w,A),k[28].revenue_per_week>0?y?y.p(k,P):(y=vf(k),y.c(),y.m(h,E)):y&&(y.d(1),y=null),k[28].requirements.employees>0?b?b.p(k,P):(b=yf(k),b.c(),b.m(h,null)):b&&(b.d(1),b=null),P[0]&248&&$!==($=k[28].styling)&&N(h,"style",$),P[0]&248&&L!==(L="plotOption cursor-pointer min-w-40 "+(k[6].isMineralSource||k[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(k[28].affordable||k[28].selected?"cursor-pointer":"opacity-40 cursor-not-allowed ")+" "+(k[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":""))&&N(e,"class",L),P[0]&248&&D!==(D=k[28].id)&&N(e,"data-plotoptionid",D),P[0]&248&&et(e,"background-color",ji(ye(k[28].id),!0))},d(k){k&&T(e),Y&&Y.d(),F&&F.d(),G&&G.d(),y&&y.d(),b&&b.d()}}}function o3(t){let e,n;return e=new qd({props:{option:t[28]}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i[0]&248&&(l.option=o[28]),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function i3(t){let e,n,o,i;return e=new li({props:{$$slots:{default:[n3]},$$scope:{ctx:t}}}),o=new oi({props:{class:"",$$slots:{default:[o3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment)},m(l,r){U(e,l,r),I(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r[0]&248|r[1]&1&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r[0]&248|r[1]&1&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(S(e.$$.fragment,l),S(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&T(n),K(e,l),K(o,l)}}}function wf(t,e){let n,o,i;return o=new ii({props:{openDelay:400,closeDelay:0,$$slots:{default:[i3]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=Le(),X(o.$$.fragment),this.first=n},m(l,r){I(l,n,r),U(o,l,r),i=!0},p(l,r){e=l;const a={};r[0]&248|r[1]&1&&(a.$$scope={dirty:r,ctx:e}),o.$set(a)},i(l){i||(S(o.$$.fragment,l),i=!0)},o(l){M(o.$$.fragment,l),i=!1},d(l){l&&T(n),K(o,l)}}}function kf(t){let e;return{c(){e=O("span"),e.textContent="No plots available!",N(e,"class","text-sm pt-2")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Cf(t){let e,n,o,i=[],l=new Map,r,a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource,s,u,f;function c(...A){return t[14](t[25],...A)}let d=t[3].length==0&&!t[6].isMineralSource&&hf(t);function p(...A){return t[18](t[25],...A)}let m=He(t[3].length==0&&!t[6].isMineralSource?t[4].filter(p):t[4]);const h=A=>A[28].id;for(let A=0;A<m.length;A+=1){let w=df(t,m,A),C=h(w);l.set(C,i[A]=wf(C,w))}let v=a&&kf();return{c(){e=O("div"),d&&d.c(),n=V(),o=O("div");for(let A=0;A<i.length;A+=1)i[A].c();r=V(),v&&v.c(),u=V(),N(o,"class",s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle"),N(e,"class","px-2")},m(A,w){I(A,e,w),d&&d.m(e,null),_(e,n),_(e,o);for(let C=0;C<i.length;C+=1)i[C]&&i[C].m(o,null);_(o,r),v&&v.m(o,null),_(e,u),f=!0},p(A,w){t=A,t[3].length==0&&!t[6].isMineralSource?d?d.p(t,w):(d=hf(t),d.c(),d.m(e,n)):d&&(d.d(1),d=null),w[0]&248&&(m=He(t[3].length==0&&!t[6].isMineralSource?t[4].filter(p):t[4]),Me(),i=up(i,w,h,1,t,m,l,o,ap,wf,r,df),Oe()),w[0]&248&&(a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource),a?v||(v=kf(),v.c(),v.m(o,null)):v&&(v.d(1),v=null),(!f||w[0]&72&&s!==(s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle"))&&N(o,"class",s)},i(A){if(!f){for(let w=0;w<m.length;w+=1)S(i[w]);f=!0}},o(A){for(let w=0;w<i.length;w+=1)M(i[w]);f=!1},d(A){A&&T(e),d&&d.d();for(let w=0;w<i.length;w+=1)i[w].d();v&&v.d()}}}function l3(t){let e,n,o=t[2]&&pf(t);return{c(){o&&o.c(),e=Le()},m(i,l){o&&o.m(i,l),I(i,e,l),n=!0},p(i,l){i[2]?o?(o.p(i,l),l[0]&4&&S(o,1)):(o=pf(i),o.c(),S(o,1),o.m(e.parentNode,e)):o&&(Me(),M(o,1,1,()=>{o=null}),Oe())},i(i){n||(S(o),n=!0)},o(i){M(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}const Xl="50vh";function r3(t,e,n){let o,i,l;ue(t,Ne,y=>n(5,o=y)),ue(t,nt,y=>n(6,i=y)),ue(t,mc,y=>n(7,l=y));let{x:r=0}=e,{y:a=0}=e,{open:s=!1}=e,{tooltip:u=""}=e,f="",c=te,d,p=c.map(y=>Object.assign(Object.assign({},y),{affordable:v(y,o),selected:h(y)}));function m(y){n(3,f=y.target.value||"")}function h(y){return o.plots[r][a].type>-1?c[o.plots[r][a].type].id===y.id:!1}function v(y,b){let k=!0;y.requirements.gold>b.townInfo.gold&&(k=!1);let P=b.townInfo.population_count-b.townInfo.employees;return y.requirements.employees!==void 0&&y.requirements.employees>0&&y.requirements.employees>P&&(k=!1),y.requirements.knowledge!==void 0&&y.requirements.knowledge>b.townInfo.knowledge_points&&(k=!1),y.requirements.resources!==void 0&&Object.keys(y.requirements.resources).forEach(B=>{y.requirements.resources[B]!=0&&o.resources[B]<y.requirements.resources[B]&&(k=!1)}),k}function A(y){const b=y.target.closest(".plotOption");if(b){const k=b.dataset.plotoptionid;w(k)}}function w(y){document.querySelectorAll(".plotOption").forEach(P=>{P.classList.remove("active")});const k=document.querySelector(`[data-plotoptionid="${y}"]`);k&&(k.classList.add("active"),E(r,a,y))}function C(y,b){if(o.liege_location!=null&&y==o.liege_location[0]&&b==o.liege_location[1]||i.isMineralSource)return!1;let k=0;return y>0&&o.plots[y-1][b].type!==-1&&k++,y<o.plots.length-1&&o.plots[y+1][b].type!==-1&&k++,b>0&&o.plots[y][b-1].type!==-1&&k++,b<o.plots[0].length-1&&o.plots[y][b+1].type!==-1&&k++,k<=4}function E(y,b,k){let P=o;const B=te.findIndex(Z=>Z.id===k);Object.entries(te[B].requirements).map(([Z,z])=>`<li>${Dn(Z)}: ${z}</li>`);let R=te[B];if(R.requirements.adjacent_plots!==void 0){let Z=R.requirements.adjacent_plots;if(im(y,b,P,R.requirements.adjacent_plots)===!1)return Rt.set(`This plot requires adjacent plots of type: ${Z.join(", ")}`)}let x=!0;if((R.requirements.gold>P.townInfo.gold||R.requirements.employees>P.townInfo.population_count-P.townInfo.employees)&&(x=!1),R.requirements.size!=null&&R.requirements.size!=1&&x){let ae=function(g,H){let j={x:g,y:H};return j.x===0&&j.y===0?!0:[{x:j.x-1,y:j.y},{x:j.x+1,y:j.y},{x:j.x,y:j.y-1},{x:j.x,y:j.y+1}].some(se=>se.x<0||se.x>o.plots.length-1||se.y<0||se.y>o.plots.length-1?!1:o.plots[se.x][se.y].active)};var Q=ae;let Z=R.requirements.size,z=[],ne=c[B].title.toLowerCase().indexOf("school")!=-1;for(let g=0;g<4;g++){let H=[[y,b]];g===0?(H.push([y-(Z-1),b-(Z-1)]),H.push([y-(Z-1),b]),H.push([y,b-(Z-1)])):g===1?(H.push([y,b-(Z-1)]),H.push([y+(Z-1),b-(Z-1)]),H.push([y+(Z-1),b])):g===2?(H.push([y-(Z-1),b]),H.push([y-(Z-1),b+(Z-1)]),H.push([y,b+(Z-1)])):g===3&&(H.push([y,b+(Z-1)]),H.push([y+(Z-1),b+(Z-1)]),H.push([y+(Z-1),b])),z.push(H)}z=z.filter(g=>g.every(H=>H[0]>=0&&H[0]<=P.plots.length-1&&H[1]>=0&&H[1]<=P.plots.length-1&&!P.plots[H[0]][H[1]].active&&ae(H[0],H[1])==!0)),z.length===0?x=!1:z.length>0&&z[0].forEach(H=>{P.plots[H[0]][H[1]].active=!0,P.plots[H[0]][H[1]].type=ne?-3:-2,P.plots[H[0]][H[1]].referencePlot=[y,b]})}if(x===!0){if(P.plots[y][b].type!==-1&&Bi(y,b,P),n(13,u=""),P.plots[y][b].type=B,P.plots[y][b].active=!0,P.plots[y][b].referencePlot=[],P.plots[y][b].typeId=R.id,P.townInfo.gold-=R.requirements.gold,P.townInfo.gold=_t(P.townInfo.gold,2),P.townInfo.population_count+=R.immediate_variable_changes.population,P.townInfo.population_max+=R.immediate_variable_changes.population,P.townInfo.happiness+=R.immediate_variable_changes.happiness,P.townInfo.health+=R.immediate_variable_changes.health,P.modifiers.happiness=_t(P.modifiers.happiness*R.effect_modifiers.happiness,2),P.modifiers.health=_t(P.modifiers.health*R.effect_modifiers.health,2),P.modifiers.community=_t(P.modifiers.community*R.effect_modifiers.community,2),P.townInfo.employees+=R.requirements.employees,(P.plotCounts[B]===void 0||P.plotCounts[B]===null)&&(P.plotCounts[B]=0),P.plotCounts[B]++,P.lastChangeDay=P.environment.day,R.requirements.resources!==void 0){const z=R.requirements.resources;P.resources.food-=z.food,P.resources.wood-=z.wood,P.resources.stone-=z.stone,P.resources.metal-=z.metal}switch(R.id){case"city_hall":P.hasCityHall=!0;break;case"bank":P.hasBank=!0;break}Ne.set(P),localStorage.setItem(Bt,JSON.stringify(P));let Z=!1;for(let z=y;z<P.plots.length;z++){for(let ne=b;ne<P.plots[z].length;ne++)if(P.plots[z][ne].active===!1&&P.plots[z][ne].mineralSource==!1&&P.plots[z][ne].water==!1){y=z,b=ne,Z=!0;break}if(Z)break}Ie(nt,i.x=y,i),Ie(nt,i.y=b,i)}else n(13,u="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(z=>{z.classList.remove("active")})}function $(){document.querySelectorAll(".plotOption").forEach(b=>{b.classList.remove("active")}),Bi(r,a,o)}const L=(y,b)=>b.level===y;function D(y){Ee[y?"unshift":"push"](()=>{d=y,n(8,d)})}const Y=()=>{yp()},F=()=>Ie(nt,i.visible=!1,i),G=(y,b)=>b.level===y;return t.$$set=y=>{"x"in y&&n(0,r=y.x),"y"in y&&n(1,a=y.y),"open"in y&&n(2,s=y.open),"tooltip"in y&&n(13,u=y.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&240&&o&&(n(4,p=c.map(y=>Object.assign(Object.assign({},y),{affordable:v(y,o),selected:h(y)}))),Ge("tree_farm",o).length===0&&n(4,p=p.filter(y=>y.id==="small_homes"||y.id==="farm"||y.id==="tree_farm")),i.isMineralSource&&n(4,p=p.filter(y=>y.id==="mine")),l&&n(4,p=p.filter(y=>y.affordable)),Object.keys(ms).forEach(y=>{let b=ms[y];if(b>0){let k=Ge(y,o).length;n(4,p=p.filter(P=>P.id!==y||k<b))}}),p.sort((y,b)=>y.selected&&!b.selected?-1:0)),t.$$.dirty[0]&24&&n(4,p=p.filter(y=>y.title.toLowerCase().includes(f.toLowerCase())))},[r,a,s,f,p,o,i,l,d,m,A,C,$,u,L,D,Y,F,G]}class Gd extends ve{constructor(e){super(),be(this,e,r3,l3,ce,{x:0,y:1,open:2,tooltip:13},null,[-1,-1])}}function s3(t){let e,n,o;return{c(){e=O("span"),n=q("My liege, if you build a City Hall, you can expand your city "),o=q(t[0]),N(e,"class","text-xs")},m(i,l){I(i,e,l),_(e,n),_(e,o)},p(i,l){l&1&&le(o,i[0])},i:Ce,o:Ce,d(i){i&&T(e)}}}function a3(t){let e,n;return e=new yt({props:{class:"bg-accent h-max rounded-2xl hover:scale-110 transition-transform duration-200 ease-in-out hover:drop-shadow-2xl",$$slots:{default:[u3]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&11&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function u3(t){let e,n,o,i,l,r=t[0].toUpperCase()+"",a,s,u,f,c,d,p,m,h,v,A,w=Math.round(Math.pow(1.5,t[1].kingdom_expansions+5))+"",C,E,$,L;return{c(){e=O("div"),n=q("spanMy liege, you can expand your "),o=O("br"),i=q(`kingdom
        `),l=O("span"),a=q(r),s=q(`
        using
        `),u=O("br"),f=q(`your
        `),c=O("span"),c.textContent="City Hall",d=q("!"),p=O("br"),m=O("br"),h=V(),v=O("span"),A=q("Requires "),C=q(w),E=q(` Guardians
          `),$=O("br"),L=q("to be employed. (see city mgmt menu)"),N(l,"class","font-extrabold text-blue-200"),N(c,"class","text-blue-200 bold"),N(v,"class","opacity-75 text-xs")},m(D,Y){I(D,e,Y),_(e,n),_(e,o),_(e,i),_(e,l),_(l,a),_(e,s),_(e,u),_(e,f),_(e,c),_(e,d),_(e,p),_(e,m),_(e,h),_(e,v),_(v,A),_(v,C),_(v,E),_(v,$),_(v,L)},p(D,Y){Y&1&&r!==(r=D[0].toUpperCase()+"")&&le(a,r),Y&2&&w!==(w=Math.round(Math.pow(1.5,D[1].kingdom_expansions+5))+"")&&le(C,w)},d(D){D&&T(e)}}}function f3(t){let e,n,o,i,l;const r=[a3,s3],a=[];function s(u,f){return f&2&&(n=null),n==null&&(n=Ge("city_hall",u[1]).length>0),n?0:1}return o=s(t,-1),i=a[o]=r[o](t),{c(){e=O("div"),i.c(),N(e,"class","w-48 h-max")},m(u,f){I(u,e,f),a[o].m(e,null),l=!0},p(u,[f]){let c=o;o=s(u,f),o===c?a[o].p(u,f):(Me(),M(a[c],1,1,()=>{a[c]=null}),Oe(),i=a[o],i?i.p(u,f):(i=a[o]=r[o](u),i.c()),S(i,1),i.m(e,null))},i(u){l||(S(i),l=!0)},o(u){M(i),l=!1},d(u){u&&T(e),a[o].d()}}}function c3(t,e,n){let o;ue(t,Ne,r=>n(1,o=r));let{direction:i}=e;const l=()=>{const r=vp(o,i);r&&Rt.set(r)};return t.$$set=r=>{"direction"in r&&n(0,i=r.direction)},[i,o,l]}class Af extends ve{constructor(e){super(),be(this,e,c3,f3,ce,{direction:0})}}function d3(t){return{c:Ce,m:Ce,p:Ce,d:Ce}}function p3(t){let e,n,o,i=te[t[0].type].title.substring(0,2)+"",l,r,a,s,u,f=te[t[0].type].title.substring(2)+"",c,d,p,m;return{c(){e=O("div"),n=O("span"),o=O("span"),l=q(i),r=V(),a=O("br"),s=V(),u=O("span"),c=q(f),N(o,"class","text-lg align-text-top select-none"),N(u,"class","text-xs align-text-top font-normal text-black from-stone-600 select-none"),N(n,"data-size",d=te[t[0].type].requirements.size),N(n,"data-x",p=t[0].x),N(n,"data-y",m=t[0].y),N(e,"class","svelte-9dbw4v")},m(h,v){I(h,e,v),_(e,n),_(n,o),_(o,l),_(n,r),_(n,a),_(n,s),_(n,u),_(u,c)},p(h,v){v&1&&i!==(i=te[h[0].type].title.substring(0,2)+"")&&le(l,i),v&1&&f!==(f=te[h[0].type].title.substring(2)+"")&&le(c,f),v&1&&d!==(d=te[h[0].type].requirements.size)&&N(n,"data-size",d),v&1&&p!==(p=h[0].x)&&N(n,"data-x",p),v&1&&m!==(m=h[0].y)&&N(n,"data-y",m)},d(h){h&&T(e)}}}function Sf(t){let e;return{c(){e=O("span"),e.textContent="🧲",N(e,"class","text-lg")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Tf(t){let e;return{c(){e=O("span"),e.textContent="👑",N(e,"class","text-xl absolute top-0")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function m3(t){let e,n,o,i=t[7](t[0].x,t[0].y),l,r,a,s,u,f,c,d,p,m,h,v,A,w,C,E,$,L;function D(b,k){if(b[0].type>-1)return p3;if(b[0].type==-1&&b[0].x==0&&b[0].y==0)return d3}let Y=D(t),F=Y&&Y(t),G=t[0].mineralSource&&t[0].type==-1&&Sf(),y=i&&Tf();return{c(){e=O("button"),F&&F.c(),n=V(),G&&G.c(),o=V(),y&&y.c(),N(e,"class",l="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v"),et(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":ji(t[0].type,t[2])),N(e,"data-active",r=t[0].active),N(e,"data-hidehoveranimation",a=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),N(e,"data-id",s=t[0].id),N(e,"data-x",u=t[0].x),N(e,"data-y",f=t[0].y),N(e,"data-optionindex",c=t[0].optionIndex),N(e,"data-canbeupgraded",t[2]),N(e,"data-type",d=t[0].type),N(e,"data-type-id",p=t[0].typeId),N(e,"data-refplotx",m=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),N(e,"data-refploty",h=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),N(e,"data-size",v=t[0].type>-1?te[t[0].type].requirements.size:null),N(e,"data-mineralsource",A=t[0].mineralSource),N(e,"data-water",w=t[0].water),N(e,"data-nearwater",C=$n(t[0].x,t[0].y,t[5])),N(e,"data-liegelocation",E=t[7](t[0].x,t[0].y))},m(b,k){I(b,e,k),F&&F.m(e,null),_(e,n),G&&G.m(e,null),_(e,o),y&&y.m(e,null),$||(L=ee(e,"click",function(){un(t[0].water?null:t[6]?_s(t[0].x,t[0].y,t[5]):t[8])&&(t[0].water?null:t[6]?_s(t[0].x,t[0].y,t[5]):t[8]).apply(this,arguments)}),$=!0)},p(b,k){t=b,Y===(Y=D(t))&&F?F.p(t,k):(F&&F.d(1),F=Y&&Y(t),F&&(F.c(),F.m(e,n))),t[0].mineralSource&&t[0].type==-1?G||(G=Sf(),G.c(),G.m(e,o)):G&&(G.d(1),G=null),k&1&&(i=t[7](t[0].x,t[0].y)),i?y||(y=Tf(),y.c(),y.m(e,null)):y&&(y.d(1),y=null),k&7&&l!==(l="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v")&&N(e,"class",l),k&21&&et(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":ji(t[0].type,t[2])),k&1&&r!==(r=t[0].active)&&N(e,"data-active",r),k&17&&a!==(a=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0)&&N(e,"data-hidehoveranimation",a),k&1&&s!==(s=t[0].id)&&N(e,"data-id",s),k&1&&u!==(u=t[0].x)&&N(e,"data-x",u),k&1&&f!==(f=t[0].y)&&N(e,"data-y",f),k&1&&c!==(c=t[0].optionIndex)&&N(e,"data-optionindex",c),k&4&&N(e,"data-canbeupgraded",t[2]),k&1&&d!==(d=t[0].type)&&N(e,"data-type",d),k&1&&p!==(p=t[0].typeId)&&N(e,"data-type-id",p),k&1&&m!==(m=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null)&&N(e,"data-refplotx",m),k&1&&h!==(h=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null)&&N(e,"data-refploty",h),k&1&&v!==(v=t[0].type>-1?te[t[0].type].requirements.size:null)&&N(e,"data-size",v),k&1&&A!==(A=t[0].mineralSource)&&N(e,"data-mineralsource",A),k&1&&w!==(w=t[0].water)&&N(e,"data-water",w),k&33&&C!==(C=$n(t[0].x,t[0].y,t[5]))&&N(e,"data-nearwater",C),k&1&&E!==(E=t[7](t[0].x,t[0].y))&&N(e,"data-liegelocation",E)},d(b){b&&T(e),F&&F.d(),G&&G.d(),y&&y.d(),$=!1,L()}}}function If(t){let e;return{c(){e=q("Water - Place farms nearby for more food & revenue!")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Mf(t){let e;return{c(){e=O("span"),e.textContent="Near water - Generating more food & revenue!",N(e,"class","text-xs bg-blue-500 text-white px-2 py-3 italic rounded-2xl text-center")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Of(t){let e;function n(l,r){return te[l[0].type].liege_on_plot_hint==null?_3:h3}let o=n(t),i=o(t);return{c(){e=O("span"),i.c(),N(e,"class","text-xs bg-pink-700 text-white px-2 py-3 italic rounded-2xl text-center")},m(l,r){I(l,e,r),i.m(e,null)},p(l,r){o===(o=n(l))&&i?i.p(l,r):(i.d(1),i=o(l),i&&(i.c(),i.m(e,null)))},d(l){l&&T(e),i.d()}}}function h3(t){let e=te[t[0].type].liege_on_plot_hint+"",n;return{c(){n=q(e)},m(o,i){I(o,n,i)},p(o,i){i&1&&e!==(e=te[o[0].type].liege_on_plot_hint+"")&&le(n,e)},d(o){o&&T(n)}}}function _3(t){let e,n=te[t[0].type].title+"",o,i;return{c(){e=q("You are hanging out on the "),o=q(n),i=q(` plot, but nothing
            seems to be changing except a revenue boost.`)},m(l,r){I(l,e,r),I(l,o,r),I(l,i,r)},p(l,r){r&1&&n!==(n=te[l[0].type].title+"")&&le(o,n)},d(l){l&&(T(e),T(o),T(i))}}}function Pf(t){let e,n;return e=new qd({props:{option:t[3],checkRequirements:!1}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&8&&(l.option=o[3]),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function g3(t){let e,n,o=$n(t[0].x,t[0].y,t[5]),i,l=so(t[0].x,t[0].y,t[5]),r,a,s=t[0].water&&If(),u=o&&Mf(),f=l&&Of(t),c=t[0].active&&Pf(t);return{c(){e=O("div"),s&&s.c(),n=V(),u&&u.c(),i=V(),f&&f.c(),r=V(),c&&c.c(),N(e,"class","flex flex-col gap-2")},m(d,p){I(d,e,p),s&&s.m(e,null),_(e,n),u&&u.m(e,null),_(e,i),f&&f.m(e,null),_(e,r),c&&c.m(e,null),a=!0},p(d,p){d[0].water?s||(s=If(),s.c(),s.m(e,n)):s&&(s.d(1),s=null),p&33&&(o=$n(d[0].x,d[0].y,d[5])),o?u||(u=Mf(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),p&33&&(l=so(d[0].x,d[0].y,d[5])),l?f?f.p(d,p):(f=Of(d),f.c(),f.m(e,r)):f&&(f.d(1),f=null),d[0].active?c?(c.p(d,p),p&1&&S(c,1)):(c=Pf(d),c.c(),S(c,1),c.m(e,null)):c&&(Me(),M(c,1,1,()=>{c=null}),Oe())},i(d){a||(S(c),a=!0)},o(d){M(c),a=!1},d(d){d&&T(e),s&&s.d(),u&&u.d(),f&&f.d(),c&&c.d()}}}function b3(t){let e,n,o,i;return e=new li({props:{$$slots:{default:[m3]},$$scope:{ctx:t}}}),o=new oi({props:{class:"max-w-64 rounded-3xl "+(t[0].type<0&&!t[0].water?"hidden":""),$$slots:{default:[g3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment)},m(l,r){U(e,l,r),I(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&4215&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&1&&(s.class="max-w-64 rounded-3xl "+(l[0].type<0&&!l[0].water?"hidden":"")),r&4137&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(S(e.$$.fragment,l),S(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&T(n),K(e,l),K(o,l)}}}function v3(t){let e,n;return e=new ii({props:{openDelay:400,closeDelay:0,$$slots:{default:[b3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const l={};i&4223&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function y3(t,e,n){let o,i,l,r,a;ue(t,nt,h=>n(4,o=h)),ue(t,Ne,h=>n(5,i=h)),ue(t,Et,h=>n(10,l=h)),ue(t,ho,h=>n(11,r=h)),ue(t,_o,h=>n(6,a=h));let{data:s={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,u,{classText:f=""}=e,{canBeUpgraded:c=!1}=e;const d=(h,v)=>i.liege_location!=null&&h==i.liege_location[0]&&v==i.liege_location[1];function p(h,v,A){let w=document.querySelectorAll(".plot_container");if(l==!1){if(s.referencePlot!=null&&s.referencePlot[0]!==null&&v==null&&A==null&&s.referencePlot[1]!==void 0)return p(h,s.referencePlot[0],s.referencePlot[1]);!s.active&&!c?(Ie(ho,r={},r),Ie(nt,o.visible=!1,o),w.forEach(C=>{C.classList.remove("selected")})):(v!=null&&A!=null?(Ie(nt,o.x=v,o),Ie(nt,o.y=A,o)):(Ie(nt,o.x=s.x,o),Ie(nt,o.y=s.y,o)),Ie(nt,o.isMineralSource=s.mineralSource,o),Ie(nt,o.visible=!0,o),w.forEach(C=>{C.classList.remove("selected")}),v!=null&&A!=null?document.querySelector(`.plot_container[data-x="${v}"][data-y="${A}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${s.id}"]`).classList.add("selected"))}}function m(h){l==!1&&(Ie(Ne,i.plots[s.x][s.y].type=h,i),Ie(nt,o.visible=!1,o))}return t.$$set=h=>{"data"in h&&n(0,s=h.data),"classText"in h&&n(1,f=h.classText),"canBeUpgraded"in h&&n(2,c=h.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1&&s.type>-1&&n(3,u=te[s.type])},[s,f,c,u,o,i,a,d,p,m]}class w3 extends ve{constructor(e){super(),be(this,e,y3,v3,ce,{data:0,classText:1,canBeUpgraded:2,changePlotType:9})}get changePlotType(){return this.$$.ctx[9]}}function Nf(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function Ef(t,e,n){const o=t.slice();return o[9]=e[n],o}function Rf(t){let e,n,o,i,l,r,a,s,u,f,c,d=t[3],p,m,h=He(t[2].plots),v=[];for(let C=0;C<h.length;C+=1)v[C]=Df(Nf(t,h,C));const A=C=>M(v[C],1,1,()=>{v[C]=null});a=new Af({props:{direction:"east"}}),f=new Af({props:{direction:"south"}});let w=Ff(t);return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("div");for(let C=0;C<v.length;C+=1)v[C].c();l=V(),r=O("span"),X(a.$$.fragment),s=V(),u=O("span"),X(f.$$.fragment),c=V(),w.c(),p=Le(),N(i,"class","grid plot_controller svelte-1bzj7j4"),N(o,"class","flex flex-row items-center"),N(n,"id","plotContainerMain"),N(n,"class","absolute left-[50px] items-center h-max flex flex-col top-[170px] pl-16 pt-16 pb-[1000px] pr-80 bg-background svelte-1bzj7j4"),N(e,"class","flex flex-col")},m(C,E){I(C,e,E),_(e,n),_(n,o),_(o,i);for(let $=0;$<v.length;$+=1)v[$]&&v[$].m(i,null);_(o,l),_(o,r),U(a,r,null),_(n,s),_(n,u),U(f,u,null),I(C,c,E),w.m(C,E),I(C,p,E),m=!0},p(C,E){if(E&7){h=He(C[2].plots);let $;for($=0;$<h.length;$+=1){const L=Nf(C,h,$);v[$]?(v[$].p(L,E),S(v[$],1)):(v[$]=Df(L),v[$].c(),S(v[$],1),v[$].m(i,null))}for(Me(),$=h.length;$<v.length;$+=1)A($);Oe()}E&8&&ce(d,d=C[3])?(Me(),M(w,1,1,Ce),Oe(),w=Ff(C),w.c(),S(w,1),w.m(p.parentNode,p)):w.p(C,E)},i(C){if(!m){for(let E=0;E<h.length;E+=1)S(v[E]);S(a.$$.fragment,C),S(f.$$.fragment,C),S(w),m=!0}},o(C){v=v.filter(Boolean);for(let E=0;E<v.length;E+=1)M(v[E]);M(a.$$.fragment,C),M(f.$$.fragment,C),M(w),m=!1},d(C){C&&(T(e),T(c),T(p)),dt(v,C),K(a),K(f),w.d(C)}}}function Lf(t){let e,n;return e=new w3({props:{classText:"hexagon",data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&4&&(l.data=o[9]),i&4&&(l.canBeUpgraded=o[0](o[9].x,o[9].y)),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Df(t){let e,n,o,i,l,r=He(t[6]),a=[];for(let u=0;u<r.length;u+=1)a[u]=Lf(Ef(t,r,u));const s=u=>M(a[u],1,1,()=>{a[u]=null});return{c(){e=O("div");for(let u=0;u<a.length;u+=1)a[u].c();n=V(),N(e,"class","row "+(t[8]%2!==0?"odd-row":"")+" svelte-1bzj7j4")},m(u,f){I(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);_(e,n),o=!0,i||(l=ee(e,"click",t[1]),i=!0)},p(u,f){if(f&5){r=He(u[6]);let c;for(c=0;c<r.length;c+=1){const d=Ef(u,r,c);a[c]?(a[c].p(d,f),S(a[c],1)):(a[c]=Lf(d),a[c].c(),S(a[c],1),a[c].m(e,n))}for(Me(),c=r.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!o){for(let f=0;f<r.length;f+=1)S(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)M(a[f]);o=!1},d(u){u&&T(e),dt(a,u),i=!1,l()}}}function $f(t){let e,n;return e=new Gd({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&16&&(l.x=o[4].x),i&16&&(l.y=o[4].y),i&16&&(l.open=o[4].visible),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Ff(t){let e,n,o=t[4].visible&&$f(t);return{c(){o&&o.c(),e=Le()},m(i,l){o&&o.m(i,l),I(i,e,l),n=!0},p(i,l){i[4].visible?o?(o.p(i,l),l&16&&S(o,1)):(o=$f(i),o.c(),S(o,1),o.m(e.parentNode,e)):o&&(Me(),M(o,1,1,()=>{o=null}),Oe())},i(i){n||(S(o),n=!0)},o(i){M(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function k3(t){let e,n,o=t[2]!=null&&Rf(t);return{c(){o&&o.c(),e=Le()},m(i,l){o&&o.m(i,l),I(i,e,l),n=!0},p(i,[l]){i[2]!=null?o?(o.p(i,l),l&4&&S(o,1)):(o=Rf(i),o.c(),S(o,1),o.m(e.parentNode,e)):o&&(Me(),M(o,1,1,()=>{o=null}),Oe())},i(i){n||(S(o),n=!0)},o(i){M(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function C3(t,e,n){let o,i,l;ue(t,ho,u=>n(3,o=u)),ue(t,Ne,u=>n(2,i=u)),ue(t,nt,u=>n(4,l=u)),document.addEventListener("click",function(u){const f=u.target;(f.dataset.x==null&&f.dataset.type!="-1"&&f.dataset.size!=null||f.id=="plotContainerMain"||f.classList.contains("row")||f.classList.contains("grid"))&&Ie(nt,l.visible=!1,l)});function r(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(p=>p.x<0||p.x>=i.plots.length||p.y<0||p.y>=i.plots[p.x].length?!1:i.plots[p.x][p.y].active)}function a(){let u=[];for(let f=0;f<i.plots.length;f++)for(let c=0;c<i.plots.length;c++)r(f,c)&&i.plots[f][c].active==!1&&u.push(i.plots[f][c])}function s(){Ie(ho,o={},o)}return t.$$.update=()=>{t.$$.dirty&4&&i&&a()},[r,s,i,o,l]}class A3 extends ve{constructor(e){super(),be(this,e,C3,k3,ce,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}function jf(t,e,n){const o=t.slice();return o[5]=e[n],o}function Bf(t){let e,n;return e=new N1({props:{thumb:t[5],class:"block h-5 w-5 rounded-full border-2 border-primary bg-accent ring-accent transition-colors focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&16&&(l.thumb=o[5]),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function S3(t){let e,n,o,i,l;n=new S1({props:{class:"absolute h-full bg-primary"}});let r=He(t[4]),a=[];for(let u=0;u<r.length;u+=1)a[u]=Bf(jf(t,r,u));const s=u=>M(a[u],1,1,()=>{a[u]=null});return{c(){e=O("span"),X(n.$$.fragment),o=V();for(let u=0;u<a.length;u+=1)a[u].c();i=Le(),N(e,"class","relative h-2 w-full grow overflow-hidden rounded-full bg-textPrimary")},m(u,f){I(u,e,f),U(n,e,null),I(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);I(u,i,f),l=!0},p(u,f){if(f&16){r=He(u[4]);let c;for(c=0;c<r.length;c+=1){const d=jf(u,r,c);a[c]?(a[c].p(d,f),S(a[c],1)):(a[c]=Bf(d),a[c].c(),S(a[c],1),a[c].m(i.parentNode,i))}for(Me(),c=r.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!l){S(n.$$.fragment,u);for(let f=0;f<r.length;f+=1)S(a[f]);l=!0}},o(u){M(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)M(a[f]);l=!1},d(u){u&&(T(e),T(o),T(i)),K(n),dt(a,u)}}}function T3(t){let e,n,o;const i=[{class:Fe("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function l(a){t[3](a)}let r={$$slots:{default:[S3,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)r=J(r,i[a]);return t[0]!==void 0&&(r.value=t[0]),e=new v1({props:r}),Ee.push(()=>An(e,"value",l)),{c(){X(e.$$.fragment)},m(a,s){U(e,a,s),o=!0},p(a,[s]){const u=s&6?we(i,[s&2&&{class:Fe("relative flex w-full touch-none select-none items-center",a[1])},s&4&&ut(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],Cn(()=>n=!1)),e.$set(u)},i(a){o||(S(e.$$.fragment,a),o=!0)},o(a){M(e.$$.fragment,a),o=!1},d(a){K(e,a)}}}function I3(t,e,n){const o=["class","value"];let i=re(e,o),{class:l=void 0}=e,{value:r=[0]}=e;function a(s){r=s,n(0,r)}return t.$$set=s=>{e=J(J({},e),Re(s)),n(2,i=re(e,o)),"class"in s&&n(1,l=s.class),"value"in s&&n(0,r=s.value)},[r,l,i,a]}class qf extends ve{constructor(e){super(),be(this,e,I3,T3,ce,{class:1,value:0})}}function M3(t){let e;return{c(){e=q("Pick an active Plot")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function O3(t){let e;return{c(){e=q("Set your location!")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function P3(t){let e;function n(l,r){return l[2]?M3:O3}let o=n(t),i=o(t);return{c(){e=O("div"),i.c()},m(l,r){I(l,e,r),i.m(e,null)},p(l,r){o!==(o=n(l))&&(i.d(1),i=o(l),i&&(i.c(),i.m(e,null)))},d(l){l&&T(e),i.d()}}}function N3(t){let e;return{c(){e=O("div"),e.textContent="Manage Knowledge"},m(n,o){I(n,e,o)},p:Ce,d(n){n&&T(e)}}}function E3(t){let e;return{c(){e=O("div"),e.textContent="City Management"},m(n,o){I(n,e,o)},p:Ce,d(n){n&&T(e)}}}function Gf(t){let e;function n(l,r){if(l[0].lab.active_experiment.duration>0)return L3;if(l[0].lab.active_experiment.duration===0)return R3}let o=n(t),i=o&&o(t);return{c(){i&&i.c(),e=Le()},m(l,r){i&&i.m(l,r),I(l,e,r)},p(l,r){o===(o=n(l))&&i?i.p(l,r):(i&&i.d(1),i=o&&o(l),i&&(i.c(),i.m(e.parentNode,e)))},d(l){l&&T(e),i&&i.d(l)}}}function R3(t){let e;return{c(){e=O("span"),e.textContent="✅ DONE!",N(e,"class","animate-pulse ")},m(n,o){I(n,e,o)},p:Ce,d(n){n&&T(e)}}}function L3(t){let e,n=t[0].lab.active_experiment.duration+"",o,i;return{c(){e=O("span"),o=q(n),i=q("d")},m(l,r){I(l,e,r),_(e,o),_(e,i)},p(l,r){r&1&&n!==(n=l[0].lab.active_experiment.duration+"")&&le(o,n)},d(l){l&&T(e)}}}function D3(t){let e,n,o=t[0].lab.active_experiment!==null&&Gf(t);return{c(){e=O("div"),n=q(`Manage Lab
            `),o&&o.c()},m(i,l){I(i,e,l),_(e,n),o&&o.m(e,null)},p(i,l){i[0].lab.active_experiment!==null?o?o.p(i,l):(o=Gf(i),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(i){i&&T(e),o&&o.d()}}}function $3(t){let e,n,o,i,l,r,a,s,u,f=_t(t[0].economyAndLaws.tax_rate*100,0)+"",c,d,p,m,h,v,A,w,C,E,$,L=_t(t[0].townInfo.productivity,0)+"",D,Y,F,G,y,b,k,P,B,R,x,Q,Z,z,ne,ae,g;return m=new qf({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[7],min:0,max:.5,step:.05,class:"cursor-pointer w-[90%]"}}),G=new qf({props:{value:[t[0].townInfo.productivity],onValueChange:t[6],min:0,max:200,step:5,class:"cursor-pointer w-[90%]"}}),k=new yt({props:{class:`text-xs flex flex-col h-min  bg-accent cursor-pointer text-textPrimary p-1.5
          
            `+(t[2]?"bg-green-500":"")+`
          `,$$slots:{default:[P3]},$$scope:{ctx:t}}}),k.$on("click",t[8]),B=new yt({props:{class:"text-xs flex flex-col h-min  bg-accent cursor-pointer text-textPrimary p-1.5",$$slots:{default:[N3]},$$scope:{ctx:t}}}),B.$on("click",t[9]),x=new yt({props:{class:"text-xs flex flex-col h-min  bg-accent cursor-pointer text-textPrimary p-1.5",$$slots:{default:[E3]},$$scope:{ctx:t}}}),x.$on("click",t[10]),Z=new yt({props:{class:"text-xs flex flex-col h-min p-1.5 "+(t[0].hasLab?"bg-accent cursor-pointer text-textPrimary":"bg-accent cursor-not-allowed text-textPrimary opacity-35"),$$slots:{default:[D3]},$$scope:{ctx:t}}}),Z.$on("click",t[5]),{c(){e=O("div"),n=O("div"),o=O("div"),i=O("div"),l=O("div"),r=O("div"),a=O("span"),a.textContent="💰 Tax Rate",s=V(),u=O("span"),c=q(f),d=q("%"),p=V(),X(m.$$.fragment),v=V(),A=O("div"),w=O("div"),C=O("span"),C.textContent="💪 Productivity",E=V(),$=O("span"),D=q(L),Y=q("%"),F=V(),X(G.$$.fragment),y=V(),b=O("div"),X(k.$$.fragment),P=V(),X(B.$$.fragment),R=V(),X(x.$$.fragment),Q=V(),X(Z.$$.fragment),z=V(),ne=O("br"),N(a,"class","text-xs"),N(u,"class","text-xs"),N(l,"class",h="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(t[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")),N(C,"class","text-xs"),N($,"class","text-xs"),N(A,"class","flex flex-col justify-center w-full text-center items-center gap-2"),N(i,"class","flex flex-col gap-2 rounded-xl text-center justify-center mb-2 mt-0"),N(b,"class","flex flex-col gap-2 align-middle justify-start mt-6 "),N(o,"class","flex flex-col justify-center mx-2"),N(n,"class",ae="bg-foreground w-[160px] border-foregroundDark border-4 "+(t[1].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 py-2 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300 overflow-y-clip"),N(e,"class","flex flex-row text-foregroundText")},m(H,j){I(H,e,j),_(e,n),_(n,o),_(o,i),_(i,l),_(l,r),_(r,a),_(r,s),_(r,u),_(u,c),_(u,d),_(l,p),U(m,l,null),_(i,v),_(i,A),_(A,w),_(w,C),_(w,E),_(w,$),_($,D),_($,Y),_(A,F),U(G,A,null),_(o,y),_(o,b),U(k,b,null),_(b,P),U(B,b,null),_(b,R),U(x,b,null),_(b,Q),U(Z,b,null),_(n,z),_(n,ne),g=!0},p(H,[j]){(!g||j&1)&&f!==(f=_t(H[0].economyAndLaws.tax_rate*100,0)+"")&&le(c,f);const oe={};j&1&&(oe.value=[H[0].economyAndLaws.tax_rate]),m.$set(oe),(!g||j&1&&h!==(h="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(H[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")))&&N(l,"class",h),(!g||j&1)&&L!==(L=_t(H[0].townInfo.productivity,0)+"")&&le(D,L);const se={};j&1&&(se.value=[H[0].townInfo.productivity]),G.$set(se);const de={};j&4&&(de.class=`text-xs flex flex-col h-min  bg-accent cursor-pointer text-textPrimary p-1.5
          
            `+(H[2]?"bg-green-500":"")+`
          `),j&2052&&(de.$$scope={dirty:j,ctx:H}),k.$set(de);const Be={};j&2048&&(Be.$$scope={dirty:j,ctx:H}),B.$set(Be);const Ae={};j&2048&&(Ae.$$scope={dirty:j,ctx:H}),x.$set(Ae);const Ye={};j&1&&(Ye.class="text-xs flex flex-col h-min p-1.5 "+(H[0].hasLab?"bg-accent cursor-pointer text-textPrimary":"bg-accent cursor-not-allowed text-textPrimary opacity-35")),j&2049&&(Ye.$$scope={dirty:j,ctx:H}),Z.$set(Ye),(!g||j&2&&ae!==(ae="bg-foreground w-[160px] border-foregroundDark border-4 "+(H[1].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 py-2 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300 overflow-y-clip"))&&N(n,"class",ae)},i(H){g||(S(m.$$.fragment,H),S(G.$$.fragment,H),S(k.$$.fragment,H),S(B.$$.fragment,H),S(x.$$.fragment,H),S(Z.$$.fragment,H),g=!0)},o(H){M(m.$$.fragment,H),M(G.$$.fragment,H),M(k.$$.fragment,H),M(B.$$.fragment,H),M(x.$$.fragment,H),M(Z.$$.fragment,H),g=!1},d(H){H&&T(e),K(m),K(G),K(k),K(B),K(x),K(Z)}}}function F3(t,e,n){let o,i,l,r,a;ue(t,Ne,m=>n(0,o=m)),ue(t,nt,m=>n(1,i=m)),ue(t,_o,m=>n(2,l=m)),ue(t,qi,m=>n(3,r=m)),ue(t,Hi,m=>n(4,a=m));function s(){o.hasLab&&Ii.set(!0)}function u(m){let h=o;h.townInfo.productivity=_t(m[0],2),Ne.set(h),localStorage.setItem(Bt,JSON.stringify(h))}function f(m){let h=o;h.economyAndLaws.tax_rate=_t(m[0],2),Ne.set(h),localStorage.setItem(Bt,JSON.stringify(h))}return[o,i,l,r,a,s,u,f,function(){Ie(_o,l=!0,l)},function(){Ie(qi,r=!r,r)},function(){Ie(Hi,a=!a,a)}]}class j3 extends ve{constructor(e){super(),be(this,e,F3,$3,ce,{})}}function Hf(t,e,n){const o=t.slice();return o[8]=e[n],o}function Vf(t,e,n){const o=t.slice();return o[11]=e[n].icon,o[12]=e[n].name,o[13]=e[n].value,o[14]=e[n].rate,o}function Wf(t,e,n){const o=t.slice();return o[17]=e[n],o}function B3(t){let e;return{c(){e=O("div"),e.innerHTML=`Resources are generated from plots. Generation rate can be increased
            by raising the productivity of the town, at the cost of some
            happiness.
            <br/> <br/>
            There is also a slight bit of randomness as townspeople aren&#39;t robots.`,N(e,"class","text-sm")},m(n,o){I(n,e,o)},p:Ce,d(n){n&&T(e)}}}function q3(t){let e,n,o,i;return o=new oi({props:{class:"text-sm w-[200px]",$$slots:{default:[B3]},$$scope:{ctx:t}}}),{c(){e=O("div"),e.innerHTML='<h1 class="text-xl w-full text-center">Resources</h1> <button class="text-textPrimary text-sm">ℹ️</button>',n=V(),X(o.$$.fragment),N(e,"class","flex flex-row items-center pb-2 gap-2")},m(l,r){I(l,e,r),I(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&1048576&&(a.$$scope={dirty:r,ctx:l}),o.$set(a)},i(l){i||(S(o.$$.fragment,l),i=!0)},o(l){M(o.$$.fragment,l),i=!1},d(l){l&&(T(e),T(n)),K(o,l)}}}function G3(t){let e,n;return e=new li({props:{$$slots:{default:[q3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&1048576&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function H3(t){let e,n,o=t[14]+"",i;return{c(){e=O("span"),n=q("+"),i=q(o),N(e,"class","text-textPrimary")},m(l,r){I(l,e,r),_(e,n),_(e,i)},p(l,r){r&4&&o!==(o=l[14]+"")&&le(i,o)},d(l){l&&T(e)}}}function V3(t){let e;return{c(){e=O("span")},m(n,o){I(n,e,o)},p:Ce,d(n){n&&T(e)}}}function W3(t){let e,n=t[14]+"",o;return{c(){e=O("span"),o=q(n),N(e,"class","text-textDanger2")},m(i,l){I(i,e,l),_(e,o)},p(i,l){l&4&&n!==(n=i[14]+"")&&le(o,n)},d(i){i&&T(e)}}}function Y3(t){let e,n,o=t[14]+"",i;return{c(){e=O("span"),n=q("+"),i=q(o),N(e,"class","text-textHappy")},m(l,r){I(l,e,r),_(e,n),_(e,i)},p(l,r){r&4&&o!==(o=l[14]+"")&&le(i,o)},d(l){l&&T(e)}}}function x3(t){let e;return{c(){e=O("span"),N(e,"class","display-none")},m(n,o){I(n,e,o)},p:Ce,d(n){n&&T(e)}}}function U3(t){let e,n,o=t[14]+"",i,l;return{c(){e=O("span"),n=q("+"),i=q(o),l=q(" (weekly)"),N(e,"class","")},m(r,a){I(r,e,a),_(e,n),_(e,i),_(e,l)},p(r,a){a&4&&o!==(o=r[14]+"")&&le(i,o)},d(r){r&&T(e)}}}function K3(t){let e,n=t[14]+"",o,i;return{c(){e=O("span"),o=q(n),i=q(" (weekly)"),N(e,"class","text-textDanger2")},m(l,r){I(l,e,r),_(e,o),_(e,i)},p(l,r){r&4&&n!==(n=l[14]+"")&&le(o,n)},d(l){l&&T(e)}}}function X3(t){let e,n,o=t[14]+"",i,l;return{c(){e=O("span"),n=q("+"),i=q(o),l=q(" (weekly)"),N(e,"class","text-textHappy")},m(r,a){I(r,e,a),_(e,n),_(e,i),_(e,l)},p(r,a){a&4&&o!==(o=r[14]+"")&&le(i,o)},d(r){r&&T(e)}}}function Yf(t){let e,n,o,i;return e=new St({}),{c(){X(e.$$.fragment),n=V(),o=O("span"),o.textContent="Required for",N(o,"class","text-sm font-semibold")},m(l,r){U(e,l,r),I(l,n,r),I(l,o,r),i=!0},i(l){i||(S(e.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),i=!1},d(l){l&&(T(n),T(o)),K(e,l)}}}function xf(t){let e,n=t[17]+"",o;return{c(){e=O("span"),o=q(n),N(e,"class","text-xs mr-4")},m(i,l){I(i,e,l),_(e,o)},p(i,l){l&4&&n!==(n=i[17]+"")&&le(o,n)},d(i){i&&T(e)}}}function J3(t){let e,n,o=t[11]+"",i,l,r=Dn(t[12])+"",a,s,u,f=t[4](t[12]).length>0,c,d,p;function m(E,$){return E[14]>0?X3:E[14]<0?K3:E[14]!=null?U3:x3}let h=m(t),v=h(t),A=f&&Yf(),w=He(t[4](t[12])),C=[];for(let E=0;E<w.length;E+=1)C[E]=xf(Wf(t,w,E));return{c(){e=O("div"),n=O("span"),i=q(o),l=V(),a=q(r),s=V(),v.c(),u=V(),A&&A.c(),c=V(),d=O("div");for(let E=0;E<C.length;E+=1)C[E].c();N(n,"class","text-md font-bold"),N(d,"class","flex flex-col flex-wrap min-w-full"),N(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit")},m(E,$){I(E,e,$),_(e,n),_(n,i),_(n,l),_(n,a),_(e,s),v.m(e,null),_(e,u),A&&A.m(e,null),_(e,c),_(e,d);for(let L=0;L<C.length;L+=1)C[L]&&C[L].m(d,null);p=!0},p(E,$){if((!p||$&4)&&o!==(o=E[11]+"")&&le(i,o),(!p||$&4)&&r!==(r=Dn(E[12])+"")&&le(a,r),h===(h=m(E))&&v?v.p(E,$):(v.d(1),v=h(E),v&&(v.c(),v.m(e,u))),$&4&&(f=E[4](E[12]).length>0),f?A?$&4&&S(A,1):(A=Yf(),A.c(),S(A,1),A.m(e,c)):A&&(Me(),M(A,1,1,()=>{A=null}),Oe()),$&20){w=He(E[4](E[12]));let L;for(L=0;L<w.length;L+=1){const D=Wf(E,w,L);C[L]?C[L].p(D,$):(C[L]=xf(D),C[L].c(),C[L].m(d,null))}for(;L<C.length;L+=1)C[L].d(1);C.length=w.length}},i(E){p||(S(A),p=!0)},o(E){M(A),p=!1},d(E){E&&T(e),v.d(),A&&A.d(),dt(C,E)}}}function Z3(t){let e,n=t[11]+"",o,i,l=Kt(parseInt(t[13]),!1)+"",r,a,s,u,f,c;function d(h,v){return h[14]>0?Y3:h[14]<0?W3:h[14]==null?V3:H3}let p=d(t),m=p(t);return f=new oi({props:{$$slots:{default:[J3]},$$scope:{ctx:t}}}),{c(){e=O("span"),o=q(n),i=V(),r=q(l),a=V(),m.c(),u=V(),X(f.$$.fragment),N(e,"class",s="flex flex-row justify-between "+(t[13]<=0?"text-textDanger1 font-semibold":"text-textPrimary"))},m(h,v){I(h,e,v),_(e,o),_(e,i),_(e,r),_(e,a),m.m(e,null),I(h,u,v),U(f,h,v),c=!0},p(h,v){(!c||v&4)&&n!==(n=h[11]+"")&&le(o,n),(!c||v&4)&&l!==(l=Kt(parseInt(h[13]),!1)+"")&&le(r,l),p===(p=d(h))&&m?m.p(h,v):(m.d(1),m=p(h),m&&(m.c(),m.m(e,null))),(!c||v&4&&s!==(s="flex flex-row justify-between "+(h[13]<=0?"text-textDanger1 font-semibold":"text-textPrimary")))&&N(e,"class",s);const A={};v&1048580&&(A.$$scope={dirty:v,ctx:h}),f.$set(A)},i(h){c||(S(f.$$.fragment,h),c=!0)},o(h){M(f.$$.fragment,h),c=!1},d(h){h&&(T(e),T(u)),m.d(),K(f,h)}}}function Q3(t){let e,n,o;return e=new li({props:{$$slots:{default:[Z3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=V()},m(i,l){U(e,i,l),I(i,n,l),o=!0},p(i,l){const r={};l&1048580&&(r.$$scope={dirty:l,ctx:i}),e.$set(r)},i(i){o||(S(e.$$.fragment,i),o=!0)},o(i){M(e.$$.fragment,i),o=!1},d(i){i&&T(n),K(e,i)}}}function Uf(t){let e,n;return e=new ii({props:{openDelay:400,closeDelay:0,$$slots:{default:[Q3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&1048580&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Kf(t){let e;return{c(){e=O("p"),e.textContent="No alerts",N(e,"class","text-center text-xs opacity-50")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Xf(t){let e,n,o,i=t[8].day+"",l,r,a,s=t[8].message+"",u,f,c,d;return{c(){e=O("div"),n=O("p"),o=q("DAY "),l=q(i),r=V(),a=O("p"),u=q(s),c=V(),d=O("br"),N(n,"class","font-mono text-[10px] "),N(a,"class","text-xs pb-1"),N(e,"class",f="p-2 rounded-2xl fade-in "+(t[8].vibe==it.BAD?"bg-red-600":t[8].vibe==it.GOOD?"bg-green-600":(t[8].vibe==it.NORMAL,"bg-accent")))},m(p,m){I(p,e,m),_(e,n),_(n,o),_(n,l),_(e,r),_(e,a),_(a,u),I(p,c,m),I(p,d,m)},p(p,m){m&1&&i!==(i=p[8].day+"")&&le(l,i),m&1&&s!==(s=p[8].message+"")&&le(u,s),m&1&&f!==(f="p-2 rounded-2xl fade-in "+(p[8].vibe==it.BAD?"bg-red-600":p[8].vibe==it.GOOD?"bg-green-600":(p[8].vibe==it.NORMAL,"bg-accent")))&&N(e,"class",f)},d(p){p&&(T(e),T(c),T(d))}}}function z3(t){let e,n,o,i,l,r,a,s,u,f,c,d,p,m=t[1]=="true"?"🔇":"🔊",h,v,A,w,C,E,$,L,D,Y;o=new ii({props:{openDelay:400,closeDelay:0,$$slots:{default:[G3]},$$scope:{ctx:t}}});let F=He(t[2]),G=[];for(let B=0;B<F.length;B+=1)G[B]=Uf(Vf(t,F,B));const y=B=>M(G[B],1,1,()=>{G[B]=null});s=new St({});let b=t[0].townLog.length==0&&Kf(),k=He(t[0].townLog),P=[];for(let B=0;B<k.length;B+=1)P[B]=Xf(Hf(t,k,B));return{c(){e=O("div"),n=O("div"),X(o.$$.fragment),i=V(),l=O("div"),r=O("div");for(let B=0;B<G.length;B+=1)G[B].c();a=V(),X(s.$$.fragment),u=V(),f=O("div"),c=O("h1"),c.textContent="Alerts",d=V(),p=O("button"),h=q(m),v=V(),A=O("div"),b&&b.c(),w=V();for(let B=0;B<P.length;B+=1)P[B].c();C=V(),E=O("ul"),N(n,"class","flex flex-row justify-center"),N(r,"class","flex flex-col text-sm text-nowrap gap-2"),N(c,"class","text-xl pb-2 cursor-pointer "),N(f,"class","flex flex-row gap-2 items-start justify-center"),N(A,"class","overflow-y-scroll h-[100%] w-[100%] px-1 pb-16 scroll-smooth"),N(E,"class","list-disc pl-5 gap-2 flex flex-col text-xs "),N(l,"class","flex flex-col justify-between gap-4 text-foregroundText h-full pb-12"),N(e,"class",$="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(t[3].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300")},m(B,R){I(B,e,R),_(e,n),U(o,n,null),_(e,i),_(e,l),_(l,r);for(let x=0;x<G.length;x+=1)G[x]&&G[x].m(r,null);_(l,a),U(s,l,null),_(l,u),_(l,f),_(f,c),_(f,d),_(f,p),_(p,h),_(l,v),_(l,A),b&&b.m(A,null),_(A,w);for(let x=0;x<P.length;x+=1)P[x]&&P[x].m(A,null);_(l,C),_(l,E),L=!0,D||(Y=[ee(c,"click",t[5]),ee(p,"click",t[6])],D=!0)},p(B,[R]){const x={};if(R&1048576&&(x.$$scope={dirty:R,ctx:B}),o.$set(x),R&20){F=He(B[2]);let Q;for(Q=0;Q<F.length;Q+=1){const Z=Vf(B,F,Q);G[Q]?(G[Q].p(Z,R),S(G[Q],1)):(G[Q]=Uf(Z),G[Q].c(),S(G[Q],1),G[Q].m(r,null))}for(Me(),Q=F.length;Q<G.length;Q+=1)y(Q);Oe()}if((!L||R&2)&&m!==(m=B[1]=="true"?"🔇":"🔊")&&le(h,m),B[0].townLog.length==0?b||(b=Kf(),b.c(),b.m(A,w)):b&&(b.d(1),b=null),R&1){k=He(B[0].townLog);let Q;for(Q=0;Q<k.length;Q+=1){const Z=Hf(B,k,Q);P[Q]?P[Q].p(Z,R):(P[Q]=Xf(Z),P[Q].c(),P[Q].m(A,null))}for(;Q<P.length;Q+=1)P[Q].d(1);P.length=k.length}(!L||R&8&&$!==($="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(B[3].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300"))&&N(e,"class",$)},i(B){if(!L){S(o.$$.fragment,B);for(let R=0;R<F.length;R+=1)S(G[R]);S(s.$$.fragment,B),L=!0}},o(B){M(o.$$.fragment,B),G=G.filter(Boolean);for(let R=0;R<G.length;R+=1)M(G[R]);M(s.$$.fragment,B),L=!1},d(B){B&&T(e),K(o),dt(G,B),K(s),b&&b.d(),dt(P,B),D=!1,$e(Y)}}}function eC(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function tC(t,e,n){let o,i;ue(t,Ne,c=>n(0,o=c)),ue(t,nt,c=>n(3,i=c));let l=localStorage.getItem("mute")||"false",r=[];function a(c){let d=[];for(let p=0;p<te.length;p++)(c!="knowledge"&&te[p].requirements.resources[c]>0||c=="power"&&te[p].active_costs.power>0||c=="knowledge"&&te[p].requirements.knowledge>0)&&d.push(te[p].title);return d}function s(c){return eC(c)?a(c):[]}const u=()=>{Ie(Ne,o.townLog=[],o)},f=()=>{localStorage.setItem("mute",l=="false"?"true":l==="true"?"false":"true"),n(1,l=localStorage.getItem("mute")||"false")};return t.$$.update=()=>{t.$$.dirty&1&&n(2,r=[{icon:"🥕",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"🪵",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"🪨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"🧠",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"🧲",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"🔋",name:"power",value:o.resources.power,rate:null},{icon:"🧑‍⚖️",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy}])},n(1,l=localStorage.getItem("mute")||"false"),[o,l,r,i,s,u,f]}class nC extends ve{constructor(e){super(),be(this,e,tC,z3,ce,{})}}function oC(t){let e,n,o,i,l,r,a,s,u,f,c,d,p;return o=new z4({}),r=new j3({}),s=new A3({}),f=new nC({}),d=new Gd({}),{c(){e=O("div"),n=O("div"),X(o.$$.fragment),i=V(),l=O("div"),X(r.$$.fragment),a=V(),X(s.$$.fragment),u=V(),X(f.$$.fragment),c=V(),X(d.$$.fragment),N(l,"class","flex flex-row text-foregroundText"),N(e,"class","flex flex-col max-h-[100%] justify-between")},m(m,h){I(m,e,h),_(e,n),U(o,n,null),_(e,i),_(e,l),U(r,l,null),_(l,a),U(s,l,null),_(l,u),U(f,l,null),_(l,c),U(d,l,null),p=!0},p:Ce,i(m){p||(S(o.$$.fragment,m),S(r.$$.fragment,m),S(s.$$.fragment,m),S(f.$$.fragment,m),S(d.$$.fragment,m),p=!0)},o(m){M(o.$$.fragment,m),M(r.$$.fragment,m),M(s.$$.fragment,m),M(f.$$.fragment,m),M(d.$$.fragment,m),p=!1},d(m){m&&T(e),K(o),K(r),K(s),K(f),K(d)}}}function iC(t,e,n){return ue(t,Ne,o=>n(0,o)),[]}class lC extends ve{constructor(e){super(),be(this,e,iC,oC,ce,{})}}function Jf(t,e,n){const o=t.slice();return o[20]=e[n],o}function Zf(t){let e,n,o,i,l,r,a=t[20].description+"",s;return{c(){e=O("li"),n=O("div"),o=O("span"),o.textContent=`☑️ ${t[20].text}`,i=V(),l=O("span"),r=O("blockquote"),s=V(),N(o,"class","hover:text-green-300 font-bold"),N(r,"class","text-xs px-[18px]"),N(l,"class","text-sm transition-all duration-300 ease-in-out "),N(n,"class","flex flex-col gap-2"),N(e,"class","flex flex-row gap-2 items-center")},m(u,f){I(u,e,f),_(e,n),_(n,o),_(n,i),_(n,l),_(l,r),r.innerHTML=a,_(e,s)},p:Ce,d(u){u&&T(e)}}}function rC(t){let e,n,o,i,l,r,a=t[0].townInfo.name+"",s,u,f,c,d,p,m,h,v,A,w,C=He(t[2]),E=[];for(let $=0;$<C.length;$+=1)E[$]=Zf(Jf(t,C,$));return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("h1"),l=q("The town of "),r=O("span"),s=q(a),u=q(`
                has been founded!`),f=V(),c=O("p"),c.textContent=`Congratulations! 🎉 After leaving your old town, you've
                discovered a fertile land bursting with potential. This is your
                chance to build a thriving new community from the ground up.`,d=V(),p=O("p"),p.innerHTML=`As the town founder and <span class="italic">formal liege</span>, you must <span class="text-blue-300">collect taxes</span>,
                and use that funding to
                <span class="text-blue-300">build plots</span>.`,m=V(),h=O("div"),v=O("div"),v.innerHTML='<h3 class="text-xl underline underline-offset-8">Your Objectives</h3>',A=V(),w=O("ul");for(let $=0;$<E.length;$+=1)E[$].c();N(r,"class","text-accent"),N(i,"class","text-3xl mt-4 text-white font-semibold"),N(o,"class","flex flex-col gap-4"),N(v,"class","flex flex-row align-middle items-center"),N(w,"class","select-none gap-4 flex flex-col "),N(h,"class","flex flex-col gap-4"),N(n,"class","flex flex-col gap-8 overflow-y-scroll"),N(e,"class","flex flex-row gap-6")},m($,L){I($,e,L),_(e,n),_(n,o),_(o,i),_(i,l),_(i,r),_(r,s),_(i,u),_(o,f),_(o,c),_(o,d),_(o,p),_(n,m),_(n,h),_(h,v),_(h,A),_(h,w);for(let D=0;D<E.length;D+=1)E[D]&&E[D].m(w,null)},p($,L){if(L&1&&a!==(a=$[0].townInfo.name+"")&&le(s,a),L&4){C=He($[2]);let D;for(D=0;D<C.length;D+=1){const Y=Jf($,C,D);E[D]?E[D].p(Y,L):(E[D]=Zf(Y),E[D].c(),E[D].m(w,null))}for(;D<E.length;D+=1)E[D].d(1);E.length=C.length}},d($){$&&T(e),dt(E,$)}}}function sC(t){let e,n;return e=new Yr({props:{$$slots:{default:[rC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&8388609&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function aC(t){let e;return{c(){e=q("Start your kingdom")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function uC(t){let e,n;return e=new rd({props:{class:"bg-accent rounded-2xl text-foregroundText px-4 py-2 hover:scale-110 transition-all duration-300 ",$$slots:{default:[aC]},$$scope:{ctx:t}}}),e.$on("click",t[6]),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&8388608&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function fC(t){let e,n,o,i;return e=new Wr({props:{$$slots:{default:[sC]},$$scope:{ctx:t}}}),o=new yl({props:{$$slots:{default:[uC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment)},m(l,r){U(e,l,r),I(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&8388609&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&8388608&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(S(e.$$.fragment,l),S(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&T(n),K(e,l),K(o,l)}}}function cC(t){let e,n;return e=new wl({props:{class:"bg-foregroundDark text-foregroundText min-w-[50vw] min-h-[50vh] flex flex-col justify-between ",$$slots:{default:[fC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&8388609&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function dC(t){let e,n;return e=new kl({props:{open:t[1],$$slots:{default:[cC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const l={};i&2&&(l.open=o[1]),i&8388609&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function pC(t,e,n){let o,i,l,r;ue(t,rn,m=>n(8,o=m)),ue(t,Ne,m=>n(0,i=m)),ue(t,Vi,m=>n(5,l=m)),ue(t,Ql,m=>n(1,r=m)),Gn[i.endGoal],Nr[i.difficulty],lt.sort((m,h)=>f(m.id)&&!f(h.id)?-1:!f(m.id)&&f(h.id)?1:0),lt.filter(m=>f(m.id));function s(m){const h=o.achievements.find(v=>v[0]==m);return h==null?!1:h[3]}let u=lt;function f(m){return o.achievements==null?!1:o.achievements.find(h=>h[0]==m)!=null}function c(){Vi.update(m=>!m),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),hc.set("game"));const d=[{text:"Create a thriving economy",description:"Invite people into your town, and have them work to generate food, wood, and other resources."},{text:"Grow your kingdom",description:"Get enough resources to build a <span class='text-green-300'>City Hall</span>, which will be used to expand your kingdom and keep your townspeople the happiest!"},{text:"Keep the town Happy and Healthy",description:"Pay attention to your happiness and health in the top left when you place plots. Certain ones may greatly impact your town's well-being. "}],p=()=>{Ql.set(!1)};return t.$$.update=()=>{if(t.$$.dirty&49&&i)if(l)n(4,u=lt);else{n(4,u=[]);for(let m=0;m<lt.length;m++)(!f(lt[m].id)||!s(lt[m].id))&&u.push(lt[m])}},[i,r,d,c,u,l,p]}class mC extends ve{constructor(e){super(),be(this,e,pC,dC,ce,{toggleShowCompleted:3})}get toggleShowCompleted(){return this.$$.ctx[3]}}function Qf(t,e,n){const o=t.slice();return o[7]=e[n],o}function hC(t){let e,n,o=t[0].townInfo.name+"",i,l,r,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=O("div"),n=O("span"),i=q(o),l=V(),r=O("span"),a=q("🧑‍⚖️ "),u=q(s),N(e,"class","flex justify-between mr-10")},m(f,c){I(f,e,c),_(e,n),_(n,i),_(e,l),_(e,r),_(r,a),_(r,u)},p(f,c){c&1&&o!==(o=f[0].townInfo.name+"")&&le(i,o),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&le(u,s)},d(f){f&&T(e)}}}function zf(t){let e,n,o,i,l,r,a,s,u,f,c,d,p,m,h=t[0].townInfo.guardians+"",v,A,w,C,E,$=t[0].townInfo.population_count-t[0].townInfo.employees+"",L,D,Y;return e=new St({props:{class:"mb-4"}}),d=new yt({props:{class:`bg-accent rounded-2xl h-min select-none
            `+(t[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[_C]},$$scope:{ctx:t}}}),d.$on("click",t[2]),w=new yt({props:{class:`bg-accent rounded-2xl h-min select-none
            
              `+(t[0].townInfo.employees>=t[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[gC]},$$scope:{ctx:t}}}),w.$on("click",t[3]),{c(){X(e.$$.fragment),n=V(),o=O("div"),i=O("span"),i.textContent="Hire Guardians ⚔️",l=V(),r=O("br"),a=V(),s=O("span"),s.textContent=`Guardians work for you and are required to expand your kingdom.
            They do not generate revenue, but still require housing & food.`,u=V(),f=O("div"),c=O("div"),X(d.$$.fragment),p=V(),m=O("span"),v=q(h),A=V(),X(w.$$.fragment),C=V(),E=O("span"),L=q($),D=q(`
              unemployed available for hire.`),N(i,"class","text-lg font-bold"),N(s,"class","text-sm italic"),N(m,"class","text-lg font-bold select-none px-2"),N(E,"class","w-max"),N(f,"class","flex flex-row justify-between align-middle items-center pt-2 pb-2 gap-2 "),N(o,"class","w-full")},m(F,G){U(e,F,G),I(F,n,G),I(F,o,G),_(o,i),_(o,l),_(o,r),_(o,a),_(o,s),_(o,u),_(o,f),_(f,c),U(d,c,null),_(c,p),_(c,m),_(m,v),_(c,A),U(w,c,null),_(f,C),_(f,E),_(E,L),_(E,D),Y=!0},p(F,G){const y={};G&1&&(y.class=`bg-accent rounded-2xl h-min select-none
            `+(F[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `),G&1024&&(y.$$scope={dirty:G,ctx:F}),d.$set(y),(!Y||G&1)&&h!==(h=F[0].townInfo.guardians+"")&&le(v,h);const b={};G&1&&(b.class=`bg-accent rounded-2xl h-min select-none
            
              `+(F[0].townInfo.employees>=F[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `),G&1024&&(b.$$scope={dirty:G,ctx:F}),w.$set(b),(!Y||G&1)&&$!==($=F[0].townInfo.population_count-F[0].townInfo.employees+"")&&le(L,$)},i(F){Y||(S(e.$$.fragment,F),S(d.$$.fragment,F),S(w.$$.fragment,F),Y=!0)},o(F){M(e.$$.fragment,F),M(d.$$.fragment,F),M(w.$$.fragment,F),Y=!1},d(F){F&&(T(n),T(o)),K(e,F),K(d),K(w)}}}function _C(t){let e;return{c(){e=q("-")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function gC(t){let e;return{c(){e=q("+")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function bC(t){let e;return{c(){e=q("Build a City Hall to manage your city.")},m(n,o){I(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&T(e)}}}function vC(t){let e,n,o,i,l=He(or),r=[];for(let s=0;s<l.length;s+=1)r[s]=ec(Qf(t,l,s));const a=s=>M(r[s],1,1,()=>{r[s]=null});return{c(){e=O("span"),e.textContent="Laws 🧑‍⚖️",n=V();for(let s=0;s<r.length;s+=1)r[s].c();o=Le(),N(e,"class","text-lg font-bold")},m(s,u){I(s,e,u),I(s,n,u);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(s,u);I(s,o,u),i=!0},p(s,u){if(u&1){l=He(or);let f;for(f=0;f<l.length;f+=1){const c=Qf(s,l,f);r[f]?(r[f].p(c,u),S(r[f],1)):(r[f]=ec(c),r[f].c(),S(r[f],1),r[f].m(o.parentNode,o))}for(Me(),f=l.length;f<r.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<l.length;u+=1)S(r[u]);i=!0}},o(s){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)M(r[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),dt(r,s)}}}function yC(t){let e,n=t[7].cost+"",o;return{c(){e=q("Enact for 🧑‍⚖️ "),o=q(n)},m(i,l){I(i,e,l),I(i,o,l)},d(i){i&&(T(e),T(o))}}}function wC(t){let e;return{c(){e=q("Repeal ❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function kC(t){let e,n;function o(r,a){return a&1&&(e=null),e==null&&(e=!!r[0].economyAndLaws.enacted.includes(r[7].id)),e?wC:yC}let i=o(t,-1),l=i(t);return{c(){l.c(),n=Le()},m(r,a){l.m(r,a),I(r,n,a)},p(r,a){i!==(i=o(r,a))&&(l.d(1),l=i(r),l&&(l.c(),l.m(n.parentNode,n)))},d(r){r&&T(n),l.d(r)}}}function ec(t){let e,n,o,i,l,r,a;function s(){return t[4](t[7])}return i=new yt({props:{class:`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger1":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `,$$slots:{default:[kC]},$$scope:{ctx:t}}}),i.$on("click",s),r=new St({props:{class:"bg-white opacity-30"}}),{c(){e=O("div"),n=O("span"),n.textContent=`${t[7].description}`,o=V(),X(i.$$.fragment),l=V(),X(r.$$.fragment),N(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){I(u,e,f),_(e,n),_(e,o),U(i,e,null),I(u,l,f),U(r,u,f),a=!0},p(u,f){t=u;const c={};f&1&&(c.class=`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger1":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `),f&1025&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(S(i.$$.fragment,u),S(r.$$.fragment,u),a=!0)},o(u){M(i.$$.fragment,u),M(r.$$.fragment,u),a=!1},d(u){u&&(T(e),T(l)),K(i),K(r,u)}}}function CC(t){let e,n,o,i,l=Ge("city_hall",t[0]).length>0,r,a,s,u,f,c,d,p;e=new Un({props:{class:"text-xl",$$slots:{default:[hC]},$$scope:{ctx:t}}}),o=new Jn({props:{class:"w-3/4 overflow-scroll "}});let m=l&&zf(t);a=new St({props:{class:"mb-4"}});const h=[vC,bC],v=[];function A(w,C){return C&1&&(f=null),f==null&&(f=Ge("city_hall",w[0]).length>0),f?0:1}return c=A(t,-1),d=v[c]=h[c](t),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment),i=V(),m&&m.c(),r=V(),X(a.$$.fragment),s=V(),u=O("div"),d.c(),N(u,"class","w-full")},m(w,C){U(e,w,C),I(w,n,C),U(o,w,C),I(w,i,C),m&&m.m(w,C),I(w,r,C),U(a,w,C),I(w,s,C),I(w,u,C),v[c].m(u,null),p=!0},p(w,C){const E={};C&1025&&(E.$$scope={dirty:C,ctx:w}),e.$set(E),C&1&&(l=Ge("city_hall",w[0]).length>0),l?m?(m.p(w,C),C&1&&S(m,1)):(m=zf(w),m.c(),S(m,1),m.m(r.parentNode,r)):m&&(Me(),M(m,1,1,()=>{m=null}),Oe());let $=c;c=A(w,C),c===$?v[c].p(w,C):(Me(),M(v[$],1,1,()=>{v[$]=null}),Oe(),d=v[c],d?d.p(w,C):(d=v[c]=h[c](w),d.c()),S(d,1),d.m(u,null))},i(w){p||(S(e.$$.fragment,w),S(o.$$.fragment,w),S(m),S(a.$$.fragment,w),S(d),p=!0)},o(w){M(e.$$.fragment,w),M(o.$$.fragment,w),M(m),M(a.$$.fragment,w),M(d),p=!1},d(w){w&&(T(n),T(i),T(r),T(s),T(u)),K(e,w),K(o,w),m&&m.d(w),K(a,w),v[c].d()}}}function AC(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[CC]},$$scope:{ctx:t}}}),o=new Io({}),{c(){X(e.$$.fragment),n=V(),X(o.$$.fragment)},m(l,r){U(e,l,r),I(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&1025&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){i||(S(e.$$.fragment,l),S(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&T(n),K(e,l),K(o,l)}}}function SC(t){let e,n;return e=new Xn({props:{class:"bg-foreground text-foregroundText h-[80vh] overflow-scroll",$$slots:{default:[AC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&1025&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function TC(t){let e,n,o;function i(r){t[5](r)}let l={$$slots:{default:[SC]},$$scope:{ctx:t}};return t[1]!==void 0&&(l.open=t[1]),e=new Zn({props:l}),Ee.push(()=>An(e,"open",i)),{c(){X(e.$$.fragment)},m(r,a){U(e,r,a),o=!0},p(r,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:r}),!n&&a&2&&(n=!0,s.open=r[1],Cn(()=>n=!1)),e.$set(s)},i(r){o||(S(e.$$.fragment,r),o=!0)},o(r){M(e.$$.fragment,r),o=!1},d(r){K(e,r)}}}function IC(t,e,n){let o,i;ue(t,Ne,u=>n(0,o=u)),ue(t,Hi,u=>n(1,i=u));const l=()=>{o.townInfo.guardians>0?(Ie(Ne,o.townInfo.guardians-=1,o),Ie(Ne,o.townInfo.employees-=1,o)):Rt.set("No guardians to fire.")},r=()=>{o.townInfo.employees<o.townInfo.population_count?(Ie(Ne,o.townInfo.guardians+=1,o),Ie(Ne,o.townInfo.employees+=1,o)):Rt.set("Not enough people.")},a=u=>{o.economyAndLaws.enacted.includes(u.id)?o.economyAndLaws.enacted.splice(o.economyAndLaws.enacted.indexOf(u.id),1):u.cost<=o.resources.bureaucracy?(Ie(Ne,o.resources.bureaucracy-=u.cost,o),o.economyAndLaws.enacted.push(u.id)):Rt.set("Not enough bureaucracy!")};function s(u){i=u,Hi.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[o,i,l,r,a,s]}class MC extends ve{constructor(e){super(),be(this,e,IC,TC,ce,{})}}function OC(t){let e;return{c(){e=q("Got it")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function PC(t){let e,n,o,i,l,r,a,s;return l=new ld({props:{class:"bg-accent hover:scale-105 min-w-[70%] transition-all duration-150 mt-2",$$slots:{default:[OC]},$$scope:{ctx:t}}}),l.$on("click",t[1]),a=new yl({}),{c(){e=O("span"),n=q("🛎️ "),o=new tn(!1),i=V(),X(l.$$.fragment),r=V(),X(a.$$.fragment),o.a=null,N(e,"class","whitespace-pre-wrap overflow-scroll text-center sm:whitespace-normal break-all sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center"),et(e,"max-height","80%")},m(u,f){I(u,e,f),_(e,n),o.m(t[0],e),I(u,i,f),U(l,u,f),I(u,r,f),U(a,u,f),s=!0},p(u,f){(!s||f&1)&&o.p(u[0]);const c={};f&4&&(c.$$scope={dirty:f,ctx:u}),l.$set(c)},i(u){s||(S(l.$$.fragment,u),S(a.$$.fragment,u),s=!0)},o(u){M(l.$$.fragment,u),M(a.$$.fragment,u),s=!1},d(u){u&&(T(e),T(i),T(r)),K(l,u),K(a,u)}}}function NC(t){let e,n;return e=new wl({props:{class:`bg-foregroundDark text-white rounded-input shadow-3xl justify-center items-center flex flex-col py-2 text-lg font-semibold p-2 min-w-96 min-h-36
         sm:rounded-2xl sm:flex sm:flex-col sm:p-6 sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center max-h-[50vh]

         `,$$slots:{default:[PC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&5&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function EC(t){let e,n;return e=new kl({props:{open:t[0]!="",$$slots:{default:[NC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const l={};i&1&&(l.open=o[0]!=""),i&5&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function RC(t,e,n){let o;return ue(t,Rt,l=>n(0,o=l)),[o,()=>{Rt.set("")}]}class LC extends ve{constructor(e){super(),be(this,e,RC,EC,ce,{})}}function tc(t){let e,n,o,i;const l=[$C,DC],r=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Le()},m(s,u){r[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?r[e].p(s,u):(Me(),M(r[f],1,1,()=>{r[f]=null}),Oe(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),S(n,1),n.m(o.parentNode,o))},i(s){i||(S(n),i=!0)},o(s){M(n),i=!1},d(s){s&&T(o),r[e].d(s)}}}function DC(t){let e,n,o,i,l,r,a,s,u,f,c,d,p,m,h,v,A,w,C,E,$=t[2]==!0&&nc();n=new lC({}),i=new mm({}),r=new cy({}),s=new $y({}),f=new a4({}),d=new P4({}),m=new MC({}),v=new LC({});let L=t[0].environment.day==0&&t[3]&&oc();return{c(){$&&$.c(),e=V(),X(n.$$.fragment),o=V(),X(i.$$.fragment),l=V(),X(r.$$.fragment),a=V(),X(s.$$.fragment),u=V(),X(f.$$.fragment),c=V(),X(d.$$.fragment),p=V(),X(m.$$.fragment),h=V(),X(v.$$.fragment),A=V(),L&&L.c(),w=V(),C=O("style"),C.textContent=`body {
        margin-bottom: 0;
      }
      /* no visible scrollbars */
      #plot_grid::-webkit-scrollbar {
        display: none;
      }

      ::-webkit-scrollbar {
        width: 0px;
        background: transparent; /* make scrollbar transparent */
      }

      /* no scrollbars on firefox either */
      #plot_grid {
        scrollbar-width: none;
      }

      /* no scrollbars for IE/Edge */
      #plot_grid {
        -ms-overflow-style: none;
      }`},m(D,Y){$&&$.m(D,Y),I(D,e,Y),U(n,D,Y),I(D,o,Y),U(i,D,Y),I(D,l,Y),U(r,D,Y),I(D,a,Y),U(s,D,Y),I(D,u,Y),U(f,D,Y),I(D,c,Y),U(d,D,Y),I(D,p,Y),U(m,D,Y),I(D,h,Y),U(v,D,Y),I(D,A,Y),L&&L.m(D,Y),I(D,w,Y),I(D,C,Y),E=!0},p(D,Y){D[2]==!0?$?Y&4&&S($,1):($=nc(),$.c(),S($,1),$.m(e.parentNode,e)):$&&(Me(),M($,1,1,()=>{$=null}),Oe()),D[0].environment.day==0&&D[3]?L?Y&9&&S(L,1):(L=oc(),L.c(),S(L,1),L.m(w.parentNode,w)):L&&(Me(),M(L,1,1,()=>{L=null}),Oe())},i(D){E||(S($),S(n.$$.fragment,D),S(i.$$.fragment,D),S(r.$$.fragment,D),S(s.$$.fragment,D),S(f.$$.fragment,D),S(d.$$.fragment,D),S(m.$$.fragment,D),S(v.$$.fragment,D),S(L),E=!0)},o(D){M($),M(n.$$.fragment,D),M(i.$$.fragment,D),M(r.$$.fragment,D),M(s.$$.fragment,D),M(f.$$.fragment,D),M(d.$$.fragment,D),M(m.$$.fragment,D),M(v.$$.fragment,D),M(L),E=!1},d(D){D&&(T(e),T(o),T(l),T(a),T(u),T(c),T(p),T(h),T(A),T(w),T(C)),$&&$.d(D),K(n,D),K(i,D),K(r,D),K(s,D),K(f,D),K(d,D),K(m,D),K(v,D),L&&L.d(D)}}}function $C(t){let e,n;return e=new Iy({}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p:Ce,i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function nc(t){let e,n;return e=new ey({}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function oc(t){let e,n;return e=new mC({}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function FC(t){let e,n,o=(t[1]||t[0]==null)&&tc(t);return{c(){o&&o.c(),e=Le()},m(i,l){o&&o.m(i,l),I(i,e,l),n=!0},p(i,[l]){i[1]||i[0]==null?o?(o.p(i,l),l&3&&S(o,1)):(o=tc(i),o.c(),S(o,1),o.m(e.parentNode,e)):o&&(Me(),M(o,1,1,()=>{o=null}),Oe())},i(i){n||(S(o),n=!0)},o(i){M(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function jC(t,e,n){let o,i,l,r,a,s,u;ue(t,ho,p=>n(7,o=p)),ue(t,nt,p=>n(8,i=p)),ue(t,Et,p=>n(2,l=p)),ue(t,Ne,p=>n(0,r=p)),ue(t,_o,p=>n(5,a=p)),ue(t,Ho,p=>n(9,s=p)),ue(t,Ql,p=>n(3,u=p));let f=!1;ty();let c=!1;document.addEventListener("keydown",p=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&p.key!=="Escape")return;switch(p.key.toLowerCase()){case"p":l==!0?Et.set(!1):(Et.set(!0),Ie(nt,i.visible=!1,i));break;case"escape":p.shiftKey?(Ie(Et,l=!0,l),localStorage.setItem("reset","true"),location.reload(),Er()):i.visible==!0&&Ie(nt,i.visible=!1,i),a==!0&&(_o.set(!1),document.querySelectorAll(".plot_container").forEach(v=>{v.style.cursor=""}));break}});function d(p,m,h){if(c==!0)switch(h){case"up":m-=2;break;case"down":m+=1;break;case"left":p-=2;break;case"right":p+=1;break}p<0?p=0:p>r.plots.length&&(p=r.plots.length),m<0?m=0:m>r.plots.length&&(m=r.plots.length);let v=document.querySelectorAll(".plot_container"),A;if(v.forEach(w=>{w.dataset.x=="$x"&&w.dataset.y=="$y"&&(A=w)}),l==!1){if(A.dataset.canBeUpgraded==="true"?Ie(nt,i.visible=!0,i):Ie(nt,i.visible=!1,i),A.dataset.refPlotX!==void 0&&A.dataset.refPlotY!=""?(c=!0,v.forEach(w=>{w.dataset.x==A.dataset.refPlotX&&w.dataset.y==A.dataset.refPlotY&&(A=w,p=parseInt(A.dataset.x),m=parseInt(A.dataset.y))})):c=!1,A.dataset.size!=="1"&&A.dataset.size!==void 0&&(c=!0),Ie(nt,i.x=p,i),Ie(nt,i.y=m,i),v.forEach(w=>{w.classList.remove("selected"),w.style.fontWeight=""}),A.classList.add("selected"),c){let w="4px solid #00800045";A.classList.remove("selected"),A.style.borderTop=w,A.style.borderLeft=w,A.style.fontWeight="600",v.forEach(C=>{const E=parseInt(`${C.dataset.x}`),$=parseInt(`${C.dataset.y}`);E==p+1&&$==m&&(C.style.borderLeft=w,C.style.borderBottom=w),E==p&&$==m+1&&(C.style.borderTop=w,C.style.borderRight=w),E==p+1&&$==m+1&&(C.style.borderBottom=w,C.style.borderRight=w)})}A.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Ie(ho,o={},o)}}return t.$$.update=()=>{t.$$.dirty&33&&(r?(Ie(Ho,s.visible=!1,s),n(1,f=!0),a==!0&&document.querySelectorAll(".plot_container").forEach(m=>{m.dataset.canbeupgraded=="true"&&(m.style.cursor="pointer",m.style.cursor="url('https://github.com/josephrcox/plots/raw/main/public/liege_place.cur'), auto")})):(Ie(Ho,s.visible=!0,s),n(1,f=!1)))},[r,f,l,u,d,a]}class BC extends ve{constructor(e){super(),be(this,e,jC,FC,ce,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new BC({target:document.getElementById("app")});
