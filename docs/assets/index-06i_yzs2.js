var om=Object.defineProperty;var im=(t,e,n)=>e in t?om(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pn=(t,e,n)=>(im(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function rm(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function lm(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function sm(){let t=localStorage.getItem("plots_active_game_db");const e=await rm(t);console.log("http://localhost:5173/plots/?shareId="+e)}const Yr=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(Yr.shareId!=null||Yr.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(lm(Yr.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),sm();function Ae(){}const wr=t=>t;function Z(t,e){for(const n in e)t[n]=e[n];return t}function wc(t){return t()}function Us(){return Object.create(null)}function qe(t){t.forEach(wc)}function Tn(t){return typeof t=="function"}function ce(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ii;function am(t,e){return t===e?!0:(Ii||(Ii=document.createElement("a")),Ii.href=e,t===Ii.href)}function um(t){return Object.keys(t).length===0}function Vl(t,...e){if(t==null){for(const o of e)o(void 0);return Ae}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function kc(t){let e;return Vl(t,n=>e=n)(),e}function fe(t,e,n){t.$$.on_destroy.push(Vl(e,n))}function pe(t,e,n,o){if(t){const i=Cc(t,e,n,o);return t[0](i)}}function Cc(t,e,n,o){return t[1]&&o?Z(n.ctx.slice(),t[1](o(e))):n.ctx}function he(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function _e(t,e,n,o,i,r){if(i){const l=Cc(e,n,o,r);t.p(l,i)}}function ge(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Re(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function se(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Ee(t,e,n){return t.set(n),e}function $e(t){return t&&Tn(t.destroy)?t.destroy:Ae}const Ac=typeof window<"u";let Gl=Ac?()=>window.performance.now():()=>Date.now(),Hl=Ac?t=>requestAnimationFrame(t):Ae;const mo=new Set;function Sc(t){mo.forEach(e=>{e.c(t)||(mo.delete(e),e.f())}),mo.size!==0&&Hl(Sc)}function Wl(t){let e;return mo.size===0&&Hl(Sc),{promise:new Promise(n=>{mo.add(e={c:t,f:n})}),abort(){mo.delete(e)}}}function b(t,e){t.appendChild(e)}function Tc(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function fm(t){const e=P("style");return e.textContent="/* empty */",cm(Tc(t),e),e.sheet}function cm(t,e){return b(t.head||t,e),e.sheet}function I(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function gt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function P(t){return document.createElement(t)}function kr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function V(t){return document.createTextNode(t)}function G(){return V(" ")}function De(){return V("")}function ee(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function N(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const dm=["width","height"];function ue(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&dm.indexOf(o)===-1?t[o]=e[o]:N(t,o,e[o])}function Ui(t,e){for(const n in e)N(t,n,e[n])}function mm(t,e){Object.keys(e).forEach(n=>{pm(t,n,e[n])})}function pm(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:N(t,e,n)}function yn(t){return/-/.test(t)?mm:ue}function hm(t){return Array.from(t.childNodes)}function ae(t,e){e=""+e,t.data!==e&&(t.data=e)}function zt(t,e){t.value=e??""}function Je(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Ys(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function hn(t,e,n){t.classList.toggle(e,!!n)}function Ic(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class _n{constructor(e=!1){pn(this,"is_svg",!1);pn(this,"e");pn(this,"n");pn(this,"t");pn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=kr(n.nodeName):this.e=P(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)I(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(T)}}const Yi=new Map;let Xi=0;function _m(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function gm(t,e){const n={stylesheet:fm(e),rules:{}};return Yi.set(t,n),n}function Ji(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let y=0;y<=1;y+=s){const w=e+(n-e)*r(y);u+=y*100+`%{${l(w,1-w)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${_m(f)}_${a}`,d=Tc(t),{stylesheet:m,rules:h}=Yi.get(d)||gm(d,t);h[c]||(h[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${o}ms linear ${i}ms 1 both`,Xi+=1,c}function Zi(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),Xi-=i,Xi||bm())}function bm(){Hl(()=>{Xi||(Yi.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&T(e)}),Yi.clear())})}let Xo;function Ko(t){Xo=t}function ni(){if(!Xo)throw new Error("Function called outside component initialization");return Xo}function Cr(t){ni().$$.on_mount.push(t)}function vm(t){ni().$$.on_destroy.push(t)}function ym(){const t=ni();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=Ic(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function Ar(t,e){return ni().$$.context.set(t,e),e}function Sr(t){return ni().$$.context.get(t)}function oe(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const uo=[],Me=[];let po=[];const pl=[],Mc=Promise.resolve();let hl=!1;function Pc(){hl||(hl=!0,Mc.then(Oc))}function Kl(){return Pc(),Mc}function nt(t){po.push(t)}function In(t){pl.push(t)}const Xr=new Set;let ro=0;function Oc(){if(ro!==0)return;const t=Xo;do{try{for(;ro<uo.length;){const e=uo[ro];ro++,Ko(e),wm(e.$$)}}catch(e){throw uo.length=0,ro=0,e}for(Ko(null),uo.length=0,ro=0;Me.length;)Me.pop()();for(let e=0;e<po.length;e+=1){const n=po[e];Xr.has(n)||(Xr.add(n),n())}po.length=0}while(uo.length);for(;pl.length;)pl.pop()();hl=!1,Xr.clear(),Ko(t)}function wm(t){if(t.fragment!==null){t.update(),qe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(nt)}}function km(t){const e=[],n=[];po.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),po=e}let Ro;function Ul(){return Ro||(Ro=Promise.resolve(),Ro.then(()=>{Ro=null})),Ro}function Dn(t,e,n){t.dispatchEvent(Ic(`${e?"intro":"outro"}${n}`))}const $i=new Set;let Ht;function Pe(){Ht={r:0,c:[],p:Ht}}function Oe(){Ht.r||qe(Ht.c),Ht=Ht.p}function C(t,e){t&&t.i&&($i.delete(t),t.i(e))}function S(t,e,n,o){if(t&&t.o){if($i.has(t))return;$i.add(t),Ht.c.push(()=>{$i.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const Yl={duration:0};function Xt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&Zi(t,l)}function f(){const{delay:d=0,duration:m=300,easing:h=wr,tick:_=Ae,css:y}=i||Yl;y&&(l=Ji(t,0,1,m,d,h,y,s++)),_(0,1);const w=Gl()+d,k=w+m;a&&a.abort(),r=!0,nt(()=>Dn(t,!0,"start")),a=Wl(A=>{if(r){if(A>=k)return _(1,0),Dn(t,!0,"end"),u(),r=!1;if(A>=w){const D=h((A-w)/m);_(D,1-D)}}return r})}let c=!1;return{start(){c||(c=!0,Zi(t),Tn(i)?(i=i(o),Ul().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function Jt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=Ht;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=wr,tick:m=Ae,css:h}=i||Yl;h&&(l=Ji(t,1,0,c,f,d,h));const _=Gl()+f,y=_+c;nt(()=>Dn(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),Wl(w=>{if(r){if(w>=y)return m(0,1),Dn(t,!1,"end"),--a.r||qe(a.c),!1;if(w>=_){const k=d((w-_)/c);m(1-k,k)}}return r})}return Tn(i)?Ul().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&Zi(t,l),r=!1)}}}function Ut(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&Zi(t,u)}function d(h,_){const y=h.b-l;return _*=Math.abs(y),{a:l,b:h.b,d:y,duration:_,start:h.start,end:h.start+_,group:h.group}}function m(h){const{delay:_=0,duration:y=300,easing:w=wr,tick:k=Ae,css:A}=r||Yl,D={start:Gl()+_,b:h};h||(D.group=Ht,Ht.r+=1),"inert"in t&&(h?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=D:(A&&(c(),u=Ji(t,l,h,y,_,w,A)),h&&k(0,1),a=d(D,y),nt(()=>Dn(t,h,"start")),Wl(L=>{if(s&&L>s.start&&(a=d(s,y),s=null,Dn(t,a.b,"start"),A&&(c(),u=Ji(t,l,a.b,a.duration,0,w,r.css))),a){if(L>=a.end)k(l=a.b,1-l),Dn(t,a.b,"end"),s||(a.b?c():--a.group.r||qe(a.group.c)),a=null;else if(L>=a.start){const E=L-a.start;l=a.a+a.d*w(E/a.duration),k(l,1-l)}}return!!(a||s)}))}return{run(h){Tn(r)?Ul().then(()=>{r=r({direction:h?"in":"out"}),m(h)}):m(h)},end(){c(),a=s=null}}}function Ye(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Cm(t,e){S(t,1,1,()=>{e.delete(t.key)})}function Am(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,m=r.length,h=d;const _={};for(;h--;)_[t[h].key]=h;const y=[],w=new Map,k=new Map,A=[];for(h=m;h--;){const B=c(i,r,h),q=n(B);let R=l.get(q);R?A.push(()=>R.p(B,e)):(R=u(q,B),R.c()),w.set(q,y[h]=R),q in _&&k.set(q,Math.abs(h-_[q]))}const D=new Set,L=new Set;function E(B){C(B,1),B.m(a,f),l.set(B.key,B),f=B.first,m--}for(;d&&m;){const B=y[m-1],q=t[d-1],R=B.key,U=q.key;B===q?(f=B.first,d--,m--):w.has(U)?!l.has(R)||D.has(R)?E(B):L.has(U)?d--:k.get(R)>k.get(U)?(L.add(R),E(B)):(D.add(U),d--):(s(q,l),d--)}for(;d--;){const B=t[d];w.has(B.key)||s(B,l)}for(;m;)E(y[m-1]);return qe(A),y}function we(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function it(t){return typeof t=="object"&&t!==null?t:{}}function Mn(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function J(t){t&&t.c()}function Y(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),nt(()=>{const r=t.$$.on_mount.map(wc).filter(Tn);t.$$.on_destroy?t.$$.on_destroy.push(...r):qe(r),t.$$.on_mount=[]}),i.forEach(nt)}function X(t,e){const n=t.$$;n.fragment!==null&&(km(n.after_update),qe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Sm(t,e){t.$$.dirty[0]===-1&&(uo.push(t),Pc(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ve(t,e,n,o,i,r,l=null,a=[-1]){const s=Xo;Ko(t);const u=t.$$={fragment:null,ctx:[],props:r,update:Ae,not_equal:i,bound:Us(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Us(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...m)=>{const h=m.length?m[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=h)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](h),f&&Sm(t,c)),d}):[],u.update(),f=!0,qe(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=hm(e.target);u.fragment&&u.fragment.l(c),c.forEach(T)}else u.fragment&&u.fragment.c();e.intro&&C(t.$$.fragment),Y(t,e.target,e.anchor),Oc()}Ko(s)}class ye{constructor(){pn(this,"$$");pn(this,"$$set")}$destroy(){X(this,1),this.$destroy=Ae}$on(e,n){if(!Tn(n))return Ae;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!um(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Tm="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Tm);const lo=[];function Ln(t,e){return{subscribe:Ue(t,e).subscribe}}function Ue(t,e=Ae){let n;const o=new Set;function i(a){if(ce(t,a)&&(t=a,n)){const s=!lo.length;for(const u of o)u[1](),lo.push(u,t);if(s){for(let u=0;u<lo.length;u+=2)lo[u][0](lo[u+1]);lo.length=0}}}function r(a){i(a(t))}function l(a,s=Ae){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||Ae),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function ln(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Ln(n,(l,a)=>{let s=!1;const u=[];let f=0,c=Ae;const d=()=>{if(f)return;c();const h=e(o?u[0]:u,l,a);r?l(h):c=Tn(h)?h:Ae},m=i.map((h,_)=>Vl(h,y=>{u[_]=y,f&=~(1<<_),s&&d()},()=>{f|=1<<_}));return s=!0,d(),function(){qe(m),c(),s=!1}})}function Xs(t){return{subscribe:t.subscribe.bind(t)}}const Im={plots:[],timeSpent:0,devMode:!1,lastChangeDay:0,townLog:"",currentTutorialStep:0,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,happiness:150,health:150,community:150,knowledge_points:0,productivity:100},resources:{food:50,wood:300,stone:300,metal:0,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0}},Mm={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]},Xl={0:"Easy",1:"Normal",2:"Hard"},Pm={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},Om={0:.35,1:.25,2:.25},le=[{id:"small_homes",title:"🏠 Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0}},{id:"farm",title:"🥕 Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"tree_farm",title:"🌲 Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:15,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"quarry",title:"⛏️ Quarry",type:"quarry",description:"Produces stone, small amounts of metal",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:18,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"livestock_farm",title:"🐄 Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:42,requirements:{gold:300,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"bakery",title:"🥖 Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:90,requirements:{gold:500,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:170,stone:170,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15}},{id:"stables",title:"🐴 Stables",type:"business",description:"Makes money and improves health",revenue_per_week:24,requirements:{gold:400,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:120,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"church",title:"⛪️ Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:500,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:350,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:1,community:1},immediate_variable_changes:{happiness:50,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"pub",title:"🍻 Pub",type:"recreation",description:"Increases knowledge, happiness, community. Isn't great for health.",revenue_per_week:40,knowledge_points_per_month:1,requirements:{gold:500,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.93,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_market",title:"🛒 Village Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:180,requirements:{gold:1400,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:150,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:35}},{id:"fishery",title:"🐠 Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:1e3,plots:[],employees:9,knowledge:0,size:1,xp:0,resources:{food:0,wood:500,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:75,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"neighborhood",title:"🏘️ Neighborhood",type:"residential",description:"+64 people",revenue_per_week:0,requirements:{gold:700,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1,community:1.1},immediate_variable_changes:{happiness:0,health:0,population:64,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"vineyard",title:"🍇 Vineyard",type:"farm",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:700,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"water_wheel",title:"💧 Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:200,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"adv_water_wheel",title:"💧 Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:400,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:100,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"park",title:"🎪 Park",type:"recreation",description:"Makes people extremely happy & healthy for a period.",revenue_per_week:0,requirements:{gold:800,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:20,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:2,community:1},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_inn",title:"🛌 Village Inn",type:"tourism",description:"Enables tourism to your town, which increases revenue at certain stores.",revenue_per_week:23,requirements:{gold:1500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"schoolhouse",title:"🏫 Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:2500,plots:[],employees:20,knowledge:0,size:1,xp:0,resources:{food:0,wood:500,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1.1,community:1},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"blacksmith",title:"⚒️ Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:300,requirements:{gold:3e3,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:75,wood:0,stone:0,metal:10,bureaucracy:0,food:0}},{id:"library",title:"📕 Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:10,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:225,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lumber_mill",title:"🏭 Lumber Mill",type:"industrial",description:"Increases wood production by 25%, has to be next to a tree farm",revenue_per_week:0,requirements:{gold:4e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"solar_farm",title:"☀️ Solar farm",type:"industrial",description:"Produces a lot of power without the need of water.",revenue_per_week:0,requirements:{gold:5e3,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:500,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:50,bureaucracy:0,food:0}},{id:"general_store",title:"🛒 General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:500,requirements:{gold:7e3,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:20,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:40,wood:0,stone:0,metal:0,bureaucracy:0,food:100}},{id:"healing_house",title:"🏥 Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e4,plots:[],employees:18,knowledge:0,size:1,xp:0,resources:{food:0,wood:800,stone:1e3,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.25,health:1.5,community:1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"community_center",title:"🫶 Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:19e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:700,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.09,health:1,community:1},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"city_hall",title:"🗳️ City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a lot of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:3e4,plots:[],employees:48,knowledge:500,size:1,xp:0,resources:{food:0,wood:1250,stone:800,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:1,community:1.1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:4,active_costs:{gold:1e3,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"mine",title:"⛏️ Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:5e4,plots:[],employees:64,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:150,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.95,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:50,metal:50,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:60,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"academy",title:"🏫 Academy",type:"education",description:"Produces a lot of knowledge, requires high population",revenue_per_week:0,knowledge_points_per_month:90,requirements:{gold:3e4,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1600,stone:1600,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:500,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"bank",title:"🏦 Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:75e3,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:75,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lab",title:"🧪 Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:1e5,plots:[],employees:24,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:0,stone:1e3,metal:3e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:300,power:35,wood:0,stone:0,metal:0,bureaucracy:0,food:0}}],Do={empty_unusable:"rgba(21, 40, 20, 0.70)",empty_buildable:"#CBB827",residential:"#de7633",farm:"#6b8f49",lumber:"#8E805C",business:"#9273a5",recreation:"#5277b1",shop:"#d896d8",tourism:"#d896d8",education:"#BFBEEB",medical:"#4a5ba3",bank:"#8477be",federal:"#8477be",science:"#4a5ba3",mine:"#d9874a",quarry:"#868685",industrial:"#868615"};function Qi(t,e=!1){if(t<0)return t==-1?e?Do.empty_buildable:Do.empty_unusable:t==-2?Do.recreation:Do.empty_unusable;const n=le[t];return Do[n.type]}const Js={lab:1,city_hall:1,bank:1,community_center:1,inn:1},Ft="plots_active_game_db",Jo="plots_user_db";function Nm(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let Le=Ue(JSON.parse(localStorage.getItem(Ft)||"null")),nn=Ue(JSON.parse(localStorage.getItem(Jo)||"null"));Dm();function Em(t,e,n,o){let i={...Im};i.economyAndLaws.max_tax_rate=Pm[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:Nm(),i.difficulty=parseInt(t),o&&(i.devMode=!0,i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const l=t=="0"?8:t=="1"?12:t=="2"?16:1,a=Math.floor(Math.random()*l/2)+1,s=Math.floor(Math.random()*l/2)+1;for(let u=0;u<l;u++){r.push([]);for(let f=0;f<l;f++){const c=u==a&&f==s?!1:Rm(u,f,l);r[u][f]={id:Math.random().toString(36).substring(2,9),active:!1,x:u,y:f,type:c?-9:-1,typeId:"",mineralSource:c?!1:a===u&&s===f,water:a===u&&s===f?!1:c}}}i.plots=r,localStorage.reset=!1,localStorage.setItem(Ft,JSON.stringify(i)),Le.set(i),location.reload()}function Rm(t,e,n){let o=.06;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=5),t==0&&e==0&&(o=0),Math.random()<o}function Dm(){if(localStorage.getItem(Jo)===null){let t=Mm;t.username="my_username_click_to_change",localStorage.setItem(Jo,JSON.stringify(t)),nn.set(t)}}function Zs(t,e){var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var o=Math.round(t)/n;return+o.toFixed(e)}function xi(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=le[o].immediate_variable_changes.population,n.townInfo.population_max-=le[o].immediate_variable_changes.population,n.townInfo.happiness-=le[o].immediate_variable_changes.happiness,n.townInfo.health-=le[o].immediate_variable_changes.health,n.modifiers.happiness=Zs(n.modifiers.happiness/le[o].effect_modifiers.happiness,2),n.modifiers.health=Zs(n.modifiers.health/le[o].effect_modifiers.health,2),n.townInfo.employees-=le[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(le[o].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&xi(r,l,n);n.lastChangeDay=n.environment.day,Le.set(n),localStorage.setItem(Ft,JSON.stringify(n))}function Qe(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(le[e.plots[o][i].type].id===t||le[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function Jl(t=null){localStorage.removeItem(Ft),Le.set(null),t&&(localStorage.setItem(Ft,JSON.stringify(t)),Le.set(t)),location.reload()}function Lm(){Nc.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}let xe=Ue({visible:!1,x:0,y:0,isMineralSource:!1}),Uo=Ue({visible:!1});function Fm(t){nn.set(t),localStorage.setItem(Jo,JSON.stringify(t))}let go=Ue({}),ji=Ue(!1),Pt=Ue(!1),_l=Ue(!0),Qs=Ue(!1),zi=Ue(!1),er=Ue(!1),Bi=Ue(!1),tr=Ue(!1),nr=localStorage.getItem("showCompletedAchievements")==="true"?Ue(!0):Ue(!1),Nc=localStorage.getItem("showOnlyAffordable")==="true"?Ue(!0):Ue(!1),Ec=localStorage.getItem("pauseMenuTab")==="game"?Ue("game"):Ue("achievements"),gl=Ue(750);const ut={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},pt={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}},et=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"😍",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"📌",check:t=>Qe("small_school",t).length!==0||Qe("large_school",t).length!==0||Qe("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"﹩",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"💵",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"🐌",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"🏦",check:t=>Qe("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"❤️",check:t=>Qe("community_center",t).length!==0,prize:1e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"💰",check:t=>t.townInfo.gold>=1e6,prize:15e4}],Dt=[{message:"My liege, we need places to live! Build the first homes.",isComplete:t=>t.townInfo.population_max>0,goldReward:250},{message:"My liege, the village is going to run out of food soon. Build some farms. ",isComplete:t=>t.townInfo.employees>0,goldReward:250},{message:"My liege, lumber is needed for most buildings. Build a tree farm. ",isComplete:t=>Qe("tree_farm",t).length>0,goldReward:250},{message:"My liege, for the village to be successful, everyone needs a job. ",isComplete:t=>t.townInfo.employees>=t.townInfo.population_count,goldReward:250},{message:"My liege, the village will need stone and metals to expand. Build a quarry. ",isComplete:t=>Qe("quarry",t).length>0,goldReward:500},{message:"My liege, things are picking up but we will need far more money. Get weekly revenue to >=200 gold. ",isComplete:t=>t.economyAndLaws.weeklyProfit>=200,goldReward:1e3},{message:"My liege, as the town grows, we need a lot more knowledge. Get to 250 knowledge.  ",isComplete:t=>t.townInfo.knowledge_points>=250,goldReward:2e3},{message:"My liege, the village is growing - woohoo! But we need to have more workers. Get the population to 100.",isComplete:t=>t.townInfo.population_count>=100,goldReward:1500},{message:"My liege, some advanced buildings require power. Start generating power with a waterwheel.",isComplete:t=>t.resources.power>0,goldReward:2e3},{message:"My liege, we need more metals. Find a good spot for a mine and build it. ",isComplete:t=>Qe("mine",t).length>0,goldReward:2e3}];function Rc(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Rc(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function qm(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Rc(t))&&(o&&(o+=" "),o+=e);return o}const Zl="-";function $m(t){const e=Bm(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split(Zl);return a[0]===""&&a.length!==1&&a.shift(),Dc(a,e)||jm(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function Dc(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?Dc(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(Zl);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const xs=/^\[(.+)\]$/;function jm(t){if(xs.test(t)){const e=xs.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function Bm(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return Gm(Object.entries(t.classGroups),n).forEach(([r,l])=>{bl(l,o,r,e)}),o}function bl(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:zs(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(Vm(i)){bl(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{bl(l,zs(e,r),n,o)})})}function zs(t,e){let n=t;return e.split(Zl).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function Vm(t){return t.isThemeGetter}function Gm(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function Hm(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const Lc="!";function Wm(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let _=0;_<l.length;_++){let y=l[_];if(s===0){if(y===o&&(n||l.slice(_,_+i)===e)){a.push(l.slice(u,_)),u=_+i;continue}if(y==="/"){f=_;continue}}y==="["?s++:y==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(Lc),m=d?c.substring(1):c,h=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:h}}}function Km(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function Um(t){return{cache:Hm(t.cacheSize),splitModifiers:Wm(t),...$m(t)}}const Ym=/\s+/;function Xm(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(Ym).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const m=Km(a).join(":");return{isTailwindClass:!0,modifierId:s?m+Lc:m,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Jm(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Fc(e))&&(o&&(o+=" "),o+=n);return o}function Fc(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=Fc(t[o]))&&(n&&(n+=" "),n+=e);return n}function vl(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=Um(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=Xm(s,n);return i(s,f),f}return function(){return r(Jm.apply(null,arguments))}}function Xe(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const qc=/^\[(?:([a-z-]+):)?(.+)\]$/i,Zm=/^\d+\/\d+$/,Qm=new Set(["px","full","screen"]),xm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zm=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ep=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,tp=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,np=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Qt(t){return En(t)||Qm.has(t)||Zm.test(t)}function gn(t){return Ao(t,"length",fp)}function En(t){return!!t&&!Number.isNaN(Number(t))}function Mi(t){return Ao(t,"number",En)}function Lo(t){return!!t&&Number.isInteger(Number(t))}function op(t){return t.endsWith("%")&&En(t.slice(0,-1))}function je(t){return qc.test(t)}function bn(t){return xm.test(t)}const ip=new Set(["length","size","percentage"]);function rp(t){return Ao(t,ip,$c)}function lp(t){return Ao(t,"position",$c)}const sp=new Set(["image","url"]);function ap(t){return Ao(t,sp,dp)}function up(t){return Ao(t,"",cp)}function Fo(){return!0}function Ao(t,e,n){const o=qc.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function fp(t){return zm.test(t)&&!ep.test(t)}function $c(){return!1}function cp(t){return tp.test(t)}function dp(t){return np.test(t)}function yl(){const t=Xe("colors"),e=Xe("spacing"),n=Xe("blur"),o=Xe("brightness"),i=Xe("borderColor"),r=Xe("borderRadius"),l=Xe("borderSpacing"),a=Xe("borderWidth"),s=Xe("contrast"),u=Xe("grayscale"),f=Xe("hueRotate"),c=Xe("invert"),d=Xe("gap"),m=Xe("gradientColorStops"),h=Xe("gradientColorStopPositions"),_=Xe("inset"),y=Xe("margin"),w=Xe("opacity"),k=Xe("padding"),A=Xe("saturate"),D=Xe("scale"),L=Xe("sepia"),E=Xe("skew"),B=Xe("space"),q=Xe("translate"),R=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],v=()=>["auto",je,e],g=()=>[je,e],M=()=>["",Qt,gn],O=()=>["auto",En,je],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],te=()=>["start","end","center","between","around","evenly","stretch"],x=()=>["","0",je],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[En,Mi],ne=()=>[En,je];return{cacheSize:500,separator:":",theme:{colors:[Fo],spacing:[Qt,gn],blur:["none","",bn,je],brightness:z(),borderColor:[t],borderRadius:["none","","full",bn,je],borderSpacing:g(),borderWidth:M(),contrast:z(),grayscale:x(),hueRotate:ne(),invert:x(),gap:g(),gradientColorStops:[t],gradientColorStopPositions:[op,gn],inset:v(),margin:v(),opacity:z(),padding:g(),saturate:z(),scale:z(),sepia:x(),skew:ne(),space:g(),translate:g()},classGroups:{aspect:[{aspect:["auto","square","video",je]}],container:["container"],columns:[{columns:[bn]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),je]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Lo,je]}],basis:[{basis:v()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",je]}],grow:[{grow:x()}],shrink:[{shrink:x()}],order:[{order:["first","last","none",Lo,je]}],"grid-cols":[{"grid-cols":[Fo]}],"col-start-end":[{col:["auto",{span:["full",Lo,je]},je]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Fo]}],"row-start-end":[{row:["auto",{span:[Lo,je]},je]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",je]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",je,e]}],"min-w":[{"min-w":[je,e,"min","max","fit"]}],"max-w":[{"max-w":[je,e,"none","full","min","max","fit","prose",{screen:[bn]},bn]}],h:[{h:[je,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[je,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[je,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[je,e,"auto","min","max","fit"]}],"font-size":[{text:["base",bn,gn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mi]}],"font-family":[{font:[Fo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",je]}],"line-clamp":[{"line-clamp":["none",En,Mi]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qt,je]}],"list-image":[{"list-image":["none",je]}],"list-style-type":[{list:["none","disc","decimal",je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qt,gn]}],"underline-offset":[{"underline-offset":["auto",Qt,je]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:g()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),lp]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rp]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ap]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:F()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Qt,je]}],"outline-w":[{outline:[Qt,gn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Qt,gn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",bn,up]}],"shadow-color":[{shadow:[Fo]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":Q()}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",bn,je]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[A]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",je]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",je]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Lo,je]}],"translate-x":[{"translate-x":[q]}],"translate-y":[{"translate-y":[q]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",je]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":g()}],"scroll-mx":[{"scroll-mx":g()}],"scroll-my":[{"scroll-my":g()}],"scroll-ms":[{"scroll-ms":g()}],"scroll-me":[{"scroll-me":g()}],"scroll-mt":[{"scroll-mt":g()}],"scroll-mr":[{"scroll-mr":g()}],"scroll-mb":[{"scroll-mb":g()}],"scroll-ml":[{"scroll-ml":g()}],"scroll-p":[{"scroll-p":g()}],"scroll-px":[{"scroll-px":g()}],"scroll-py":[{"scroll-py":g()}],"scroll-ps":[{"scroll-ps":g()}],"scroll-pe":[{"scroll-pe":g()}],"scroll-pt":[{"scroll-pt":g()}],"scroll-pr":[{"scroll-pr":g()}],"scroll-pb":[{"scroll-pb":g()}],"scroll-pl":[{"scroll-pl":g()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qt,gn,Mi]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function mp(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){Vi(t,"cacheSize",e),Vi(t,"prefix",n),Vi(t,"separator",o);for(const l in r)pp(t[l],r[l]);for(const l in i)hp(t[l],i[l]);return t}function Vi(t,e,n){n!==void 0&&(t[e]=n)}function pp(t,e){if(e)for(const n in e)Vi(t,n,e[n])}function hp(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function _p(t,...e){return typeof t=="function"?vl(yl,t,...e):vl(()=>mp(yl(),t),...e)}const jc=vl(yl);function gp(t){const e=t-1;return e*e*e+1}function Fe(...t){return jc(qm(t))}const Tr=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:gp}};function st(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function Jr(t){return t<10?"0"+t:t}function bp(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${Jr(o)}:${Jr(n)}:${Jr(e)}`}function Te(t){return le.findIndex(e=>e.id===t)}function ea(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function wn(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function bo(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ta(t,e=!0){return t=st(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function qn(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[l][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&le[n.plots[t][e].type].id=="farm"))return!0}return!1}function vp(t,e,n,o){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],r=!0;for(let l=0;l<o.length;l++){let a=!1;if(o[l]=="water"&&(console.log("water"),qn(t,e,n,!0))){a=!0;break}for(let s=0;s<i.length;s++){let u=i[s][0],f=i[s][1];if(u>=0&&u<n.plots.length&&f>=0&&f<n.plots[0].length&&n.plots[u][f].active==!0&&n.plots[u][f].type>0&&le[n.plots[u][f].type].id==o[l]){a=!0;break}}if(!a){r=!1;break}}return r}const wl=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:100,weekly_effect:t=>(t.modifiers.happiness*=1.02,t.modifiers.health*=1.02,t.resources.food-=2*Qe("farm",t).length,t)}],na=30;function yp(t){let e=!0;for(let n=0;n<t.plots.length;n++)for(let o=0;o<t.plots[n].length;o++)if(t.plots[n][o].active==!1){e=!1;break}return e}function wp(t){return t.endGameDetails!=null||(t.townInfo.happiness<70&&t.last_warning_happiness+365<t.environment.day&&(alert("Your citizens are very unhappy. You should do something about it."),t.last_warning_happiness=t.environment.day),t.townInfo.health<70&&t.last_warning_health+365<t.environment.day&&(alert("Your citizens are very unhealthy. You should do something about it."),t.last_warning_health=t.environment.day)),t}function kp(t,e,n){return t.resource_rate.food=mt(n.food-e.food,2),t.resource_rate.wood=mt(n.wood-e.wood,2),t.resource_rate.stone=mt(n.stone-e.stone,2),t.resource_rate.metal=mt(n.metal-e.metal,2),t.resource_rate.bureaucracy=mt(n.bureaucracy-e.bureaucracy,2),t}function Cp(t){return t.hasBank,t}function Ap(t){return t.hasCityHall,t}function Sp(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function kl(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function Cl(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function Tp(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t.townInfo.community*=t.modifiers.community,t}function mt(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function Ip(t,e,n){let o,i,r,l,a,s;fe(t,gl,p=>n(6,o=p)),fe(t,Le,p=>n(7,i=p)),fe(t,ji,p=>n(8,r=p)),fe(t,er,p=>n(9,l=p)),fe(t,Pt,p=>n(10,a=p)),fe(t,nn,p=>n(11,s=p));function u(p){p=W(p),p=g(p),p=h(p),p=Sp(p),p=wp(p);const H={food:p.resources.food,wood:p.resources.wood,stone:p.resources.stone,metal:p.resources.metal,bureaucracy:p.resources.bureaucracy};p=w(p),p=v(p),p=k(p),p=A(p),p=Cl(p),p=K(p),p=y(p);const j={food:p.resources.food,wood:p.resources.wood,stone:p.resources.stone,metal:p.resources.metal,bureaucracy:p.resources.bureaucracy};return p=kp(p,H,j),p}function f(p){return p=R(p),p=Cp(p),p=Ap(p),p=_(p),p=Tp(p),p=x(p),p}function c(p){return p=M(p),p=O(p),p=U(p),p}function d(p){return p=te(p),p=Q(p),p=F(p),p=kl(p),p.overtime==!1&&(p=q(p),p=D(p)),p=B(p),p=L(p),p}function m(){Le.update(p=>{if(p==null||(p.tick++,p.tick%na!==0)||a||!p||p.endGameDetails.msg!==""&&p.overtime==!1||p.townInfo.population_count<=0)return p;try{return p.environment.day+=1,p.environment.day%7===0&&(p=u(p)),p.environment.day%30===0&&(p.townLog="",p=f(p)),p.environment.day%90===0&&(p=c(p)),window.location.search.includes("debug=true")&&console.log(p),p=d(p),p}catch(H){return console.error("Error in game loop:",H),p}})}Le.subscribe(p=>{p&&localStorage.setItem(Ft,JSON.stringify(p))}),nn.subscribe(p=>{p&&localStorage.setItem(Jo,JSON.stringify(p))});function h(p){let H=!1,j=!1,ie=!1,re=!1;for(let ke=0;ke<p.plots.length;ke++)for(let We=0;We<p.plots[ke].length;We++)if(p.plots[ke][We].active==!0&&p.plots[ke][We].type>-1){let Se=le[p.plots[ke][We].type].id;Se=="bank"&&(H=!0),Se=="city_hall"&&(ie=!0),(Se=="small_hospital"||Se=="large_hospital")&&(j=!0),Se=="lab"&&(re=!0)}return p.hasBank=H,p.hasHospital=j,p.hasCityHall=ie,p.hasLab=re,p}function _(p){const H=p.townInfo.productivity;let j=1;if(H>50&&H<100)j=1.05;else{if(H==100)return p;H<50?j=1.2:H>100&&H<125?j=.98:H>125&&H<150?j=.96:H>150&&H<175?j=.9:H>175&&H<200&&(j=.8)}const ie=p.townInfo.happiness;return p.townInfo.happines*=j,j>1?p=z(`Happiness has gone up by ${Math.round(p.townInfo.happiness/ie*100)}% due to productivity.`,p):p=z(`Happiness has gone down by ${100-Math.round(p.townInfo.happiness/ie*100)}% due to productivity.`,p),p}function y(p){const H=p.townInfo.population_count;return p.resources.food<H?(p.modifiers.happiness*=.95,p.modifiers.health*=.95,p=z("not enough food",p),p.resources.food=0):p.resources.food-=H,p.resources.food=Math.round(p.resources.food,2),p}function w(p){const H=p.townInfo.productivity;let j=1;H<50?j=.5:H>50&&H<100?j=.75:H==100?j=1:H>100&&H<125?j=1.25:H>125&&H<150?j=1.75:H>150&&H<175?j=3:H>175&&H<200&&(j=5),j=1;let ie=Qe("lumber_mill",p).length*1.25;ie===0&&(ie=1);for(let re=0;re<p.plots.length;re++)for(let ke=0;ke<p.plots[re].length;ke++)if(p.plots[re][ke].active==!0&&p.plots[re][ke].type>-1){let We=qn(re,ke,p),Se=le[p.plots[re][ke].type];Se.generated_resources!=null&&(p.resources.food+=Math.round(Se.generated_resources.food*j)*(We?2:1),p.resources.wood+=Math.round(Se.generated_resources.wood*j*ie),p.resources.stone+=Math.round(Se.generated_resources.stone*j),p.resources.metal+=Math.round(Se.generated_resources.metal*j),p.resources.bureaucracy+=Math.round(Se.generated_resources.bureaucracy*j))}return p.resources.food=Math.round(p.resources.food,2),p.resources.wood=Math.round(p.resources.wood,2),p.resources.stone=Math.round(p.resources.stone,2),p.resources.metal=Math.round(p.resources.metal,2),p.resources.bureaucracy=Math.round(p.resources.bureaucracy,2),p}function k(p){for(let H=0;H<p.plots.length;H++)for(let j=0;j<p.plots[H].length;j++)if(p.plots[H][j].active==!0&&p.plots[H][j].type>-1){let ie=le[p.plots[H][j].type],re=!1;Object.keys(ie.active_costs).forEach((ke,We)=>{const Se=Object.values(ie.active_costs)[We];ke!="power"&&(p.townInfo.gold,ke=="gold"?p.townInfo.gold<Se?re=!0:p.townInfo.gold-=Se:p.resources[ke]<Se?re=!0:p.resources[ke]-=Se)}),p.plots[H][j].disabled=re,p.plots[H][j].disabled&&(p.townInfo.happiness-=1),re&&le[p.plots[H][j].type].type=="residential"&&(p.townInfo.population_count-=1,p.townInfo.employees-=1)}return p}function A(p){let H=0;for(let j=0;j<p.plots.length;j++)for(let ie=0;ie<p.plots[j].length;ie++)if(p.plots[j][ie].active==!0&&p.plots[j][ie].type>-1){let re=le[p.plots[j][ie].type];re.active_costs.power!=0&&(H-=re.active_costs.power),re.generated_resources.power!=0&&(H+=re.generated_resources.power)}return p.resource_rate.power=H,p.resources.power=H,p}function D(p){if(p.endGoal=="land"&&p.townInfo.population_max==p.townInfo.population_count&&p.townInfo.happiness>=pt.land.requirements[p.difficulty].happiness&&p.townInfo.health>=pt.land.requirements[p.difficulty].health&&p.townInfo.employees/p.townInfo.population_count>=pt.land.requirements[p.difficulty].employment&&p.townInfo.population_count>pt.land.requirements[p.difficulty].population_count&&p.townInfo.knowledge_points>=pt.land.requirements[p.difficulty].knowledge){let j=!0;for(let re=0;re<pt.land.requirements[p.difficulty].required_plots.length;re++){let ke=pt.land.requirements[p.difficulty].required_plots[re];if(Qe(ke,p)==!1){j=!1;break}}yp(p)&&j&&(p.endGameDetails={msg:pt.land.win,win:!0,still_playing:!1})}return p}function L(p){if(p.devMode)return p;let H=s;for(let j=0;j<et.length;j++)H.achievements.find(ie=>ie[0]==et[j].id)==null&&et[j].check(p)&&(H.achievements.push([et[j].id,p.environment.day,p.townInfo.name]),Ee(Pt,a=!0,a),Ee(er,l=!0,l));return nn.update(()=>H),p}let E=!1;function B(p){if(E)return p;for(let H=p.currentTutorialStep;H<p.currentTutorialStep+1;H++)if(Dt[H].isComplete(p)){Ee(ji,r=!0,r),E=!0,setTimeout(()=>{Ee(ji,r=!1,r),p.currentTutorialStep++,p.townInfo.gold+=Dt[H].goldReward,E=!1},1e3);break}return p}function q(p){return p.townInfo.happiness<=3&&(p.townInfo.happiness=0,p.endGameDetails={msg:ut.happiness_zero,win:!1,still_playing:!1}),p.townInfo.health<=3&&(p.townInfo.health=3,p.endGameDetails={msg:ut.health_zero,win:!1,still_playing:!1}),p.townInfo.population_count<=0&&p.townInfo.population_max>0&&(p.townInfo.population_count=0,p.endGameDetails={msg:ut.population_zero,win:!1,still_playing:!1}),p}function R(p){let H=p.townInfo.population_count-p.townInfo.employees;return H>0&&(p.townInfo.happiness-=H*.06,p=z(H+ut.unemployment_num,p)),p}function U(p){let H=p.plotCounts.reduce((ie,re)=>ie+re,0),j=!1;for(let ie=0;ie<p.plotCounts.length;ie++)p.plotCounts[ie]==null||le[ie].check_for_variety!=!0||p.plotCounts[ie]/H>=Om[p.difficulty]&&(le[ie].title,j=!0);return j&&(p=z(ut.notEnoughVariety,p),p.modifiers.happiness*.95),p}function v(p){for(let H=0;H<p.economyAndLaws.enacted.length;H++){let j=wl.find(ie=>ie.id==p.economyAndLaws.enacted[H]);j!=null&&j.weekly_effect!=null&&(p=j.weekly_effect(p))}return p}function g(p){let H=p.townInfo.health,j=0;return H>50||H<Math.random()*50&&(H<25?(p=z(ut.sickAndDying,p),p.townInfo.happiness-=10,j=Math.round(p.townInfo.population_count*.1)):(p=z(ut.sickAndLeaving,p),p.townInfo.happiness-=5,j=Math.round(p.townInfo.population_count*.05)),p.townInfo.population_count-=j,p.townInfo.employees-=j),p}function M(p){return p.lastChangeDay+(Math.random()*500+365)<p.environment.day&&p.townInfo.population_count>0&&(p.townInfo.population_count>0&&(p.townInfo.population_count-=1,p.townInfo.employees-=1,p.modifiers.happiness-=.01),p=z(ut.bored,p)),p}function O(p){if(p.townInfo.population_count<p.townInfo.population_max&&p.townInfo.happiness>50){let H=p.townInfo.population_max-p.townInfo.population_count,j=Math.round(p.townInfo.happiness/100*H);p.townInfo.population_count+=j,p.townInfo.population_count>p.townInfo.population_max&&(p.townInfo.population_count=p.townInfo.population_max),p.townInfo.employees+=j,p.townInfo.employees>p.townInfo.population_count&&(p.townInfo.employees=p.townInfo.population_count),p=z(j+ut.new_people_num,p)}if(p.townInfo.happiness<50&&p.townInfo.population_count>0){let H=Math.round((100-p.townInfo.happiness)/5);p.townInfo.population_count-=H,p.townInfo.employees>0&&(p.townInfo.employees-=H),p=z(H+ut.leave_town_num,p)}else p.townInfo.population_count==p.townInfo.population_max;return p}function W(p){const H=Math.random();if(p.economyAndLaws.tax_rate>p.economyAndLaws.max_tax_rate&&p.townInfo.population_count>0){let j=1;p.hasBank&&(j=2);const ie=p.difficulty==0?.7:p.difficulty==1?.4:.2;H<ie&&p.economyAndLaws.tax_rate>p.economyAndLaws.max_tax_rate*2*j?(p.modifiers.happiness-=.02,p=z(ut.very_high_tax_rate+"  ("+p.economyAndLaws.tax_rate+"%)",p)):(p.modifiers.happiness-=.01,p=z(ut.high_tax_rate+"  ("+p.economyAndLaws.tax_rate*100+"%)",p))}return p}function F(p){return p.townInfo.happiness<0&&(p.townInfo.happiness=0),p.townInfo.health<0&&(p.townInfo.health=0),p.townInfo.gold<0&&(p.townInfo.gold=0),p.townInfo.employees<0&&(p.townInfo.employees=0),p.townInfo.knowledge_points<0&&(p.townInfo.knowledge_points=0),p.townInfo.population_count<0&&(p.townInfo.population_count=0),p.townInfo.population_max==0&&p.townLog.indexOf(ut.nobody_home)==-1&&(p=z(ut.nobody_home,p)),p.economyAndLaws.weeklyProfit=mt(p.economyAndLaws.weeklyProfit,0),p.townInfo.employees>p.townInfo.population_count&&(p.townInfo.employees=p.townInfo.population_count),p.townInfo.gold=mt(p.townInfo.gold,0),p.townInfo.population_count=mt(p.townInfo.population_count,0),p.townInfo.employees=mt(p.townInfo.employees,0),p.townInfo.population_max=mt(p.townInfo.population_max,0),p.townInfo.happiness=mt(p.townInfo.happiness,2),p.townInfo.health=mt(p.townInfo.health,2),p.townInfo.knowledge_points=mt(p.townInfo.knowledge_points,0),p.townInfo.happiness>p.maximums.happiness&&(p.townInfo.happiness=p.maximums.happiness),p.townInfo.health>p.maximums.health&&(p.townInfo.health=p.maximums.health),p.modifiers.happiness<.5&&(p.modifiers.happiness=.5),p.modifiers.health<.5&&(p.modifiers.health=.5),p.modifiers.community<.5&&(p.modifiers.community=.5),p}function Q(p){if(p.modifiers.happiness>1){let j=p.modifiers.happiness-1;p.modifiers.happiness-=j*.1,p.modifiers.happiness<1.05&&(p.modifiers.happiness=1)}if(p.modifiers.community>1){let j=p.modifiers.community-1;p.modifiers.community-=j*.1,p.modifiers.community<1.05&&(p.modifiers.community=1)}if(p.modifiers.health>1)if(Qe("healing_house",p).length>0){if(p.townLog.indexOf(ut.hospital_advantage)==-1)return p=z(ut.hospital_advantage,p);let j=p.modifiers.health-1;p.modifiers.health-=j*Qe("healing_house",p)?.03:.06,p.modifiers.health<1.05&&(p.modifiers.health=1)}else{let j=p.modifiers.health-1;p.modifiers.health-=j*.1,p.modifiers.health<1.05&&(p.modifiers.health=1)}else Qe("healing_house",p).length>0&&(p.modifiers.health+=.1);return p}function te(p){p.economyAndLaws.weeklyProfit=0;for(let H=0;H<p.plots.length;H++)for(let j=0;j<p.plots[H].length;j++)if(p.plots[H][j].active==!0&&p.plots[H][j].type>-1)if(p.plots[H][j].disabled===!0){const ie=le[p.plots[H][j].type],re=ne(ie.revenue_per_week,p,ie.type)*(p.townInfo.productivity/100)/7;p.townInfo.gold-=re,p=z(`🚨 ${ie.title} at ${j}, ${H} is disabled and costing you $${re} a week!`,p)}else{const ie=le[p.plots[H][j].type];let re=ne(ie.revenue_per_week,p,ie.type)*(p.townInfo.productivity/100)/7,ke=qn(H,j,p);re*=ke?2:1,p.townInfo.gold+=re,p.economyAndLaws.weeklyProfit+=re*7}return p}function x(p){return Qe("mine",p).length>0&&(p.modifiers.health-=.01,Qe("healing_house",p).length==0&&(p=z("The mine is actively hurting the health of the town. Time to look into a healing house.",p))),p}function K(p){let H=0;for(let j=0;j<p.plots.length;j++)for(let ie=0;ie<p.plots[j].length;ie++)if(p.plots[j][ie].active==!0&&p.plots[j][ie].type>-1){let re=le[p.plots[j][ie].type];re.knowledge_points_per_month!=null&&(p.townInfo.knowledge_points+=Math.round(re.knowledge_points_per_month/4),H+=re.knowledge_points_per_month)}return p.resource_rate.knowledge=mt(H/4,0),p}function z(p,H){return H.townLog="Day "+i.environment.day+" - "+p+`
`+H.townLog,H}function ne(p,H,j){let ie=H.townInfo.happiness/100;ie>1.75?ie=1.75:ie<.75&&(ie=.75),Qe("village_inn",H).length>0&&j=="shop"&&(ie*=1.3);let re=p*H.economyAndLaws.tax_rate*(H.townInfo.population_count/H.townInfo.population_max)*ie;return mt(re,2)}return Cr(async()=>{for(;;)localStorage.reset=="true"&&(Jl(),localStorage.setItem("reset","false")),m(),await new Promise(p=>setTimeout(p,o/na))}),[m,kl,F,Q,Cl]}class Mp extends ye{constructor(e){super(),ve(this,e,Ip,null,ce,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return kl}get _fixVariables(){return this.$$.ctx[2]}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return Cl}}function Pp(t){return t[t.length-1]}function vn(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function Zr(t){return t?!0:void 0}vn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function Bc(t){if(t!==null)return t}function oa(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function Qr(t){if(!Zo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return kt(e)?e:null}const Bo=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),ia=t=>typeof t=="function";ct("empty");function ct(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return ln(n,a=>{const s=i(a);if(ia(s)){const u=(...f)=>Bo({...s(...f),[`data-melt-${t}`]:"",action:o??Ze});return u.action=o??Ze,u}return Bo({...s,[`data-melt-${t}`]:"",action:o??Ze})});{const a=i,s=a==null?void 0:a();if(ia(s)){const u=(...f)=>Bo({...s(...f),[`data-melt-${t}`]:"",action:o??Ze});return u.action=o??Ze,oa(u)}return oa(Bo({...s,[`data-melt-${t}`]:"",action:o??Ze}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function ra(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=ln(n,a=>o(a).map(s=>Bo({...s,[`data-melt-${t}`]:"",action:i??Ze}))),l=i??(()=>{});return l.subscribe=r,l}function Ir(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const Zo=typeof document<"u",Vc=t=>typeof t=="function";function Op(t){return t instanceof Document}function Mr(t){return t instanceof Element}function kt(t){return t instanceof HTMLElement}function la(t){return t.pointerType==="touch"}function Np(t){return t!==null&&typeof t=="object"}function Ep(t){return Np(t)&&"subscribe"in t}function Wt(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function Ze(){}function ht(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function yt(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=Dp(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function Rp(t){const e=t.currentTarget;if(!kt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function Dp(t){return e=>{const n=Rp(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function Pr(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function tn(t){return{...t,get:()=>kc(t)}}tn.writable=function(t){const e=Ue(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};tn.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const Or=(t,e)=>{const n=tn(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function Ql(t){return new Promise(e=>setTimeout(e,t))}let Lp="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Fp=(t=21)=>{let e="",n=t;for(;n--;)e+=Lp[Math.random()*64|0];return e};function qp(){return Fp(10)}function xl(t){return t.reduce((e,n)=>(e[n]=qp(),e),{})}const lt={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Gc=()=>typeof window<"u";function $p(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Hc=t=>Gc()&&t.test($p().toLowerCase()),jp=()=>Gc()&&!!navigator.maxTouchPoints,Bp=()=>Hc(/^mac/)&&!jp(),Vp=()=>Hc(/mac|iphone|ipad|ipod/i),Gp=()=>Vp()&&!Bp();function Hp(t){const e=t.slice();return e.sort(Kp),Wp(e)}function Wp(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function Kp(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function Up(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function Yp(t){const e=t.flatMap(n=>Up(n));return Hp(e)}function Xp(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const xr="data-melt-scroll-lock";function sa(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Jp(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function Zp(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Qp(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(xr))return Ze;i.setAttribute(xr,"");const l=n.innerWidth-o.clientWidth,a=()=>Jp(o,"--scrollbar-width",`${l}px`),s=Zp(o),u=n.getComputedStyle(i)[s],f=()=>sa(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:m,scrollY:h,visualViewport:_}=n,y=(_==null?void 0:_.offsetLeft)??0,w=(_==null?void 0:_.offsetTop)??0,k=sa(i,{position:"fixed",overflow:"hidden",top:`${-(h-Math.floor(w))}px`,left:`${-(m-Math.floor(y))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{k==null||k(),n.scrollTo(m,h)}},d=[a(),Gp()?c():f()];return()=>{d.forEach(m=>m==null?void 0:m()),i.removeAttribute(xr)}}const xp=t=>{try{vm(t)}catch{return t}};function Mt(t,e){let n;const o=ln(t,r=>{n==null||n(),n=e(r)}).subscribe(Ze),i=()=>{o(),n==null||n()};return xp(i),i}function $n(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=tn(Ue(i))}),e}function zp(t){let e=t.parentElement;for(;kt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Wc(t,e){return e!==void 0?e:zp(t)==="body"?document.body:null}async function aa(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([Ql(1),Kl]),e===void 0){n==null||n.focus();return}const o=Vc(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!kt(i))return;i.focus()}else kt(o)&&o.focus()}function zr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}Ln(void 0,t=>{function e(o){t(o),t(void 0)}return ht(document,"pointerup",e,{passive:!1,capture:!0})});const eh=Ln(void 0,t=>{function e(o){o&&o.key===lt.ESCAPE&&t(o),t(void 0)}return ht(document,"keydown",e,{passive:!1})}),ua=(t,e={})=>{let n=Ze;function o(i={}){n();const r={enabled:!0,...i},l=Ep(r.enabled)?r.enabled:Ln(r.enabled);n=Wt(eh.subscribe(a=>{var u;if(!a||!kc(l))return;const s=a.target;if(!(!kt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(Vc(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Mt(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},kn=Math.min,At=Math.max,or=Math.round,Pi=Math.floor,Cn=t=>({x:t,y:t}),th={left:"right",right:"left",bottom:"top",top:"bottom"},nh={start:"end",end:"start"};function Al(t,e,n){return At(t,kn(e,n))}function So(t,e){return typeof t=="function"?t(e):t}function An(t){return t.split("-")[0]}function To(t){return t.split("-")[1]}function Kc(t){return t==="x"?"y":"x"}function zl(t){return t==="y"?"height":"width"}function oi(t){return["top","bottom"].includes(An(t))?"y":"x"}function es(t){return Kc(oi(t))}function oh(t,e,n){n===void 0&&(n=!1);const o=To(t),i=es(t),r=zl(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=ir(l)),[l,ir(l)]}function ih(t){const e=ir(t);return[Sl(t),e,Sl(e)]}function Sl(t){return t.replace(/start|end/g,e=>nh[e])}function rh(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function lh(t,e,n,o){const i=To(t);let r=rh(An(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(Sl)))),r}function ir(t){return t.replace(/left|right|bottom|top/g,e=>th[e])}function sh(t){return{top:0,right:0,bottom:0,left:0,...t}}function Uc(t){return typeof t!="number"?sh(t):{top:t,right:t,bottom:t,left:t}}function rr(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function fa(t,e,n){let{reference:o,floating:i}=t;const r=oi(e),l=es(e),a=zl(l),s=An(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let m;switch(s){case"top":m={x:f,y:o.y-i.height};break;case"bottom":m={x:f,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:c};break;case"left":m={x:o.x-i.width,y:c};break;default:m={x:o.x,y:o.y}}switch(To(e)){case"start":m[l]-=d*(n&&u?-1:1);break;case"end":m[l]+=d*(n&&u?-1:1);break}return m}const ah=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=fa(u,o,s),d=o,m={},h=0;for(let _=0;_<a.length;_++){const{name:y,fn:w}=a[_],{x:k,y:A,data:D,reset:L}=await w({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:m,rects:u,platform:l,elements:{reference:t,floating:e}});f=k??f,c=A??c,m={...m,[y]:{...m[y],...D}},L&&h<=50&&(h++,typeof L=="object"&&(L.placement&&(d=L.placement),L.rects&&(u=L.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):L.rects),{x:f,y:c}=fa(u,d,s)),_=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:m}};async function ts(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:m=0}=So(e,t),h=Uc(m),y=a[d?c==="floating"?"reference":"floating":c],w=rr(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(y)))==null||n?y:y.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),k=c==="floating"?{...l.floating,x:o,y:i}:l.reference,A=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),D=await(r.isElement==null?void 0:r.isElement(A))?await(r.getScale==null?void 0:r.getScale(A))||{x:1,y:1}:{x:1,y:1},L=rr(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:k,offsetParent:A,strategy:s}):k);return{top:(w.top-L.top+h.top)/D.y,bottom:(L.bottom-w.bottom+h.bottom)/D.y,left:(w.left-L.left+h.left)/D.x,right:(L.right-w.right+h.right)/D.x}}const uh=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=So(t,e)||{};if(u==null)return{};const c=Uc(f),d={x:n,y:o},m=es(i),h=zl(m),_=await l.getDimensions(u),y=m==="y",w=y?"top":"left",k=y?"bottom":"right",A=y?"clientHeight":"clientWidth",D=r.reference[h]+r.reference[m]-d[m]-r.floating[h],L=d[m]-r.reference[m],E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let B=E?E[A]:0;(!B||!await(l.isElement==null?void 0:l.isElement(E)))&&(B=a.floating[A]||r.floating[h]);const q=D/2-L/2,R=B/2-_[h]/2-1,U=kn(c[w],R),v=kn(c[k],R),g=U,M=B-_[h]-v,O=B/2-_[h]/2+q,W=Al(g,O,M),F=!s.arrow&&To(i)!=null&&O!==W&&r.reference[h]/2-(O<g?U:v)-_[h]/2<0,Q=F?O<g?O-g:O-M:0;return{[m]:d[m]+Q,data:{[m]:W,centerOffset:O-W-Q,...F&&{alignmentOffset:Q}},reset:F}}}),fh=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:_=!0,...y}=So(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const w=An(i),k=An(a)===a,A=await(s.isRTL==null?void 0:s.isRTL(u.floating)),D=d||(k||!_?[ir(a)]:ih(a));!d&&h!=="none"&&D.push(...lh(a,_,h,A));const L=[a,...D],E=await ts(e,y),B=[];let q=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&B.push(E[w]),c){const g=oh(i,l,A);B.push(E[g[0]],E[g[1]])}if(q=[...q,{placement:i,overflows:B}],!B.every(g=>g<=0)){var R,U;const g=(((R=r.flip)==null?void 0:R.index)||0)+1,M=L[g];if(M)return{data:{index:g,overflows:q},reset:{placement:M}};let O=(U=q.filter(W=>W.overflows[0]<=0).sort((W,F)=>W.overflows[1]-F.overflows[1])[0])==null?void 0:U.placement;if(!O)switch(m){case"bestFit":{var v;const W=(v=q.map(F=>[F.placement,F.overflows.filter(Q=>Q>0).reduce((Q,te)=>Q+te,0)]).sort((F,Q)=>F[1]-Q[1])[0])==null?void 0:v[0];W&&(O=W);break}case"initialPlacement":O=a;break}if(i!==O)return{reset:{placement:O}}}return{}}}};async function ch(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=An(n),a=To(n),s=oi(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=So(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:h}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof h=="number"&&(m=a==="end"?h*-1:h),s?{x:m*f,y:d*u}:{x:d*u,y:m*f}}const dh=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await ch(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},mh=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:y=>{let{x:w,y:k}=y;return{x:w,y:k}}},...s}=So(t,e),u={x:n,y:o},f=await ts(e,s),c=oi(An(i)),d=Kc(c);let m=u[d],h=u[c];if(r){const y=d==="y"?"top":"left",w=d==="y"?"bottom":"right",k=m+f[y],A=m-f[w];m=Al(k,m,A)}if(l){const y=c==="y"?"top":"left",w=c==="y"?"bottom":"right",k=h+f[y],A=h-f[w];h=Al(k,h,A)}const _=a.fn({...e,[d]:m,[c]:h});return{..._,data:{x:_.x-n,y:_.y-o}}}}},ph=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=So(t,e),s=await ts(e,a),u=An(n),f=To(n),c=oi(n)==="y",{width:d,height:m}=o.floating;let h,_;u==="top"||u==="bottom"?(h=u,_=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(_=u,h=f==="end"?"top":"bottom");const y=m-s[h],w=d-s[_],k=!e.middlewareData.shift;let A=y,D=w;if(c){const E=d-s.left-s.right;D=f||k?kn(w,E):E}else{const E=m-s.top-s.bottom;A=f||k?kn(y,E):E}if(k&&!f){const E=At(s.left,0),B=At(s.right,0),q=At(s.top,0),R=At(s.bottom,0);c?D=d-2*(E!==0||B!==0?E+B:At(s.left,s.right)):A=m-2*(q!==0||R!==0?q+R:At(s.top,s.bottom))}await l({...e,availableWidth:D,availableHeight:A});const L=await i.getDimensions(r.floating);return d!==L.width||m!==L.height?{reset:{rects:!0}}:{}}}};function Sn(t){return Yc(t)?(t.nodeName||"").toLowerCase():"#document"}function St(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function sn(t){var e;return(e=(Yc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Yc(t){return t instanceof Node||t instanceof St(t).Node}function on(t){return t instanceof Element||t instanceof St(t).Element}function Yt(t){return t instanceof HTMLElement||t instanceof St(t).HTMLElement}function ca(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof St(t).ShadowRoot}function ii(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Ot(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function hh(t){return["table","td","th"].includes(Sn(t))}function ns(t){const e=os(),n=Ot(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function _h(t){let e=vo(t);for(;Yt(e)&&!Nr(e);){if(ns(e))return e;e=vo(e)}return null}function os(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Nr(t){return["html","body","#document"].includes(Sn(t))}function Ot(t){return St(t).getComputedStyle(t)}function Er(t){return on(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function vo(t){if(Sn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ca(t)&&t.host||sn(t);return ca(e)?e.host:e}function Xc(t){const e=vo(t);return Nr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yt(e)&&ii(e)?e:Xc(e)}function Qo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Xc(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=St(i);return r?e.concat(l,l.visualViewport||[],ii(i)?i:[],l.frameElement&&n?Qo(l.frameElement):[]):e.concat(i,Qo(i,[],n))}function Jc(t){const e=Ot(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Yt(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=or(n)!==r||or(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function is(t){return on(t)?t:t.contextElement}function ho(t){const e=is(t);if(!Yt(e))return Cn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=Jc(e);let l=(r?or(n.width):n.width)/o,a=(r?or(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const gh=Cn(0);function Zc(t){const e=St(t);return!os()||!e.visualViewport?gh:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bh(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==St(t)?!1:e}function jn(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=is(t);let l=Cn(1);e&&(o?on(o)&&(l=ho(o)):l=ho(t));const a=bh(r,n,o)?Zc(r):Cn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=St(r),m=o&&on(o)?St(o):o;let h=d,_=h.frameElement;for(;_&&o&&m!==h;){const y=ho(_),w=_.getBoundingClientRect(),k=Ot(_),A=w.left+(_.clientLeft+parseFloat(k.paddingLeft))*y.x,D=w.top+(_.clientTop+parseFloat(k.paddingTop))*y.y;s*=y.x,u*=y.y,f*=y.x,c*=y.y,s+=A,u+=D,h=St(_),_=h.frameElement}}return rr({width:f,height:c,x:s,y:u})}const vh=[":popover-open",":modal"];function Qc(t){return vh.some(e=>{try{return t.matches(e)}catch{return!1}})}function yh(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=sn(o),a=e?Qc(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=Cn(1);const f=Cn(0),c=Yt(o);if((c||!c&&!r)&&((Sn(o)!=="body"||ii(l))&&(s=Er(o)),Yt(o))){const d=jn(o);u=ho(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function wh(t){return Array.from(t.getClientRects())}function xc(t){return jn(sn(t)).left+Er(t).scrollLeft}function kh(t){const e=sn(t),n=Er(t),o=t.ownerDocument.body,i=At(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=At(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+xc(t);const a=-n.scrollTop;return Ot(o).direction==="rtl"&&(l+=At(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function Ch(t,e){const n=St(t),o=sn(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=os();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function Ah(t,e){const n=jn(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=Yt(t)?ho(t):Cn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function da(t,e,n){let o;if(e==="viewport")o=Ch(t,n);else if(e==="document")o=kh(sn(t));else if(on(e))o=Ah(e,n);else{const i=Zc(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return rr(o)}function zc(t,e){const n=vo(t);return n===e||!on(n)||Nr(n)?!1:Ot(n).position==="fixed"||zc(n,e)}function Sh(t,e){const n=e.get(t);if(n)return n;let o=Qo(t,[],!1).filter(a=>on(a)&&Sn(a)!=="body"),i=null;const r=Ot(t).position==="fixed";let l=r?vo(t):t;for(;on(l)&&!Nr(l);){const a=Ot(l),s=ns(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ii(l)&&!s&&zc(t,l))?o=o.filter(f=>f!==l):i=a,l=vo(l)}return e.set(t,o),o}function Th(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?Sh(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=da(e,f,i);return u.top=At(c.top,u.top),u.right=kn(c.right,u.right),u.bottom=kn(c.bottom,u.bottom),u.left=At(c.left,u.left),u},da(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function Ih(t){const{width:e,height:n}=Jc(t);return{width:e,height:n}}function Mh(t,e,n){const o=Yt(e),i=sn(e),r=n==="fixed",l=jn(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=Cn(0);if(o||!o&&!r)if((Sn(e)!=="body"||ii(i))&&(a=Er(e)),o){const c=jn(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=xc(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function ma(t,e){return!Yt(t)||Ot(t).position==="fixed"?null:e?e(t):t.offsetParent}function ed(t,e){const n=St(t);if(!Yt(t)||Qc(t))return n;let o=ma(t,e);for(;o&&hh(o)&&Ot(o).position==="static";)o=ma(o,e);return o&&(Sn(o)==="html"||Sn(o)==="body"&&Ot(o).position==="static"&&!ns(o))?n:o||_h(t)||n}const Ph=async function(t){const e=this.getOffsetParent||ed,n=this.getDimensions;return{reference:Mh(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function Oh(t){return Ot(t).direction==="rtl"}const Nh={convertOffsetParentRelativeRectToViewportRelativeRect:yh,getDocumentElement:sn,getClippingRect:Th,getOffsetParent:ed,getElementRects:Ph,getClientRects:wh,getDimensions:Ih,getScale:ho,isElement:on,isRTL:Oh};function Eh(t,e){let n=null,o;const i=sn(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const m=Pi(f),h=Pi(i.clientWidth-(u+c)),_=Pi(i.clientHeight-(f+d)),y=Pi(u),k={rootMargin:-m+"px "+-h+"px "+-_+"px "+-y+"px",threshold:At(0,kn(1,s))||1};let A=!0;function D(L){const E=L[0].intersectionRatio;if(E!==s){if(!A)return l();E?l(!1,E):o=setTimeout(()=>{l(!1,1e-7)},100)}A=!1}try{n=new IntersectionObserver(D,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,k)}n.observe(t)}return l(!0),r}function Rh(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=is(t),f=i||r?[...u?Qo(u):[],...Qo(e)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),r&&w.addEventListener("resize",n)});const c=u&&a?Eh(u,n):null;let d=-1,m=null;l&&(m=new ResizeObserver(w=>{let[k]=w;k&&k.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var A;(A=m)==null||A.observe(e)})),n()}),u&&!s&&m.observe(u),m.observe(e));let h,_=s?jn(t):null;s&&y();function y(){const w=jn(t);_&&(w.x!==_.x||w.y!==_.y||w.width!==_.width||w.height!==_.height)&&n(),_=w,h=requestAnimationFrame(y)}return n(),()=>{var w;f.forEach(k=>{i&&k.removeEventListener("scroll",n),r&&k.removeEventListener("resize",n)}),c==null||c(),(w=m)==null||w.disconnect(),m=null,s&&cancelAnimationFrame(h)}}const Dh=mh,Lh=fh,Fh=ph,qh=uh,$h=(t,e,n)=>{const o=new Map,i={platform:Nh,...n},r={...i.platform,_c:o};return ah(t,e,{...i,platform:r})},jh={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},Bh={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Vh(t,e,n={}){if(!e||!t||n===null)return{destroy:Ze};const o={...jh,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push(Lh({boundary:o.boundary,padding:o.overflowPadding}));const l=kt(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(dh(s))}r.push(Dh({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(qh({element:i,padding:8})),r.push(Fh({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;$h(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),kt(i)&&f.middlewareData.arrow){const{x:m,y:h}=f.middlewareData.arrow,_=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:m!=null?`${m}px`:"",top:h!=null?`${h}px`:"",[_]:`calc(100% - ${l}px)`,transform:Bh[_],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:Rh(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var td=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],lr=td.join(","),nd=typeof Element>"u",Bn=nd?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,sr=!nd&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},ar=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},Gh=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},od=function(e,n,o){if(ar(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(lr));return n&&Bn.call(e,lr)&&i.unshift(e),i=i.filter(o),i},id=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!ar(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=Bn.call(l,lr);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!ar(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var m=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,m):i.push({scopeParent:l,candidates:m})}else r.unshift.apply(r,l.children)}}return i},rd=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Nn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Gh(e))&&!rd(e)?0:e.tabIndex},Hh=function(e,n){var o=Nn(e);return o<0&&n&&!rd(e)?0:o},Wh=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},ld=function(e){return e.tagName==="INPUT"},Kh=function(e){return ld(e)&&e.type==="hidden"},Uh=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},Yh=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},Xh=function(e){if(!e.name)return!0;var n=e.form||sr(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=Yh(i,e.form);return!r||r===e},Jh=function(e){return ld(e)&&e.type==="radio"},Zh=function(e){return Jh(e)&&!Xh(e)},Qh=function(e){var n,o=e&&sr(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=sr(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},pa=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},xh=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Bn.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Bn.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=sr(e);if(s&&!s.shadowRoot&&i(s)===!0)return pa(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(Qh(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return pa(e);return!1},zh=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return Bn.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},ur=function(e,n){return!(n.disabled||ar(n)||Kh(n)||xh(n,e)||Uh(n)||zh(n))},Tl=function(e,n){return!(Zh(n)||Nn(n)<0||!ur(e,n))},e_=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},t_=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=Hh(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(Wh).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},n_=function(e,n){n=n||{};var o;return n.getShadowRoot?o=id([e],n.includeContainer,{filter:Tl.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:e_}):o=od(e,n.includeContainer,Tl.bind(null,n)),t_(o)},o_=function(e,n){n=n||{};var o;return n.getShadowRoot?o=id([e],n.includeContainer,{filter:ur.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=od(e,n.includeContainer,ur.bind(null,n)),o},so=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Bn.call(e,lr)===!1?!1:Tl(n,e)},i_=td.concat("iframe").join(","),el=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Bn.call(e,i_)===!1?!1:ur(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ha(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function _a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ha(Object(n),!0).forEach(function(o){r_(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ha(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function r_(t,e,n){return e=s_(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l_(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s_(t){var e=l_(t,"string");return typeof e=="symbol"?e:String(e)}var ga={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},a_=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},u_=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Yo=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},f_=function(e){return Yo(e)&&!e.shiftKey},c_=function(e){return Yo(e)&&e.shiftKey},ba=function(e){return setTimeout(e,0)},va=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},qo=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},Oi=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},d_=[],m_=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||d_,r=_a({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:f_,isKeyBackward:c_},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(g,M,O){return g&&g[M]!==void 0?g[M]:r[O||M]},u=function(g,M){var O=typeof(M==null?void 0:M.composedPath)=="function"?M.composedPath():void 0;return l.containerGroups.findIndex(function(W){var F=W.container,Q=W.tabbableNodes;return F.contains(g)||(O==null?void 0:O.includes(F))||Q.find(function(te){return te===g})})},f=function(g){var M=r[g];if(typeof M=="function"){for(var O=arguments.length,W=new Array(O>1?O-1:0),F=1;F<O;F++)W[F-1]=arguments[F];M=M.apply(void 0,W)}if(M===!0&&(M=void 0),!M){if(M===void 0||M===!1)return M;throw new Error("`".concat(g,"` was specified but was not a node, or did not return a node"))}var Q=M;if(typeof M=="string"&&(Q=o.querySelector(M),!Q))throw new Error("`".concat(g,"` as selector refers to no known node"));return Q},c=function(){var g=f("initialFocus");if(g===!1)return!1;if(g===void 0||!el(g,r.tabbableOptions))if(u(o.activeElement)>=0)g=o.activeElement;else{var M=l.tabbableGroups[0],O=M&&M.firstTabbableNode;g=O||f("fallbackFocus")}if(!g)throw new Error("Your focus-trap needs to have at least one focusable element");return g},d=function(){if(l.containerGroups=l.containers.map(function(g){var M=n_(g,r.tabbableOptions),O=o_(g,r.tabbableOptions),W=M.length>0?M[0]:void 0,F=M.length>0?M[M.length-1]:void 0,Q=O.find(function(K){return so(K)}),te=O.slice().reverse().find(function(K){return so(K)}),x=!!M.find(function(K){return Nn(K)>0});return{container:g,tabbableNodes:M,focusableNodes:O,posTabIndexesFound:x,firstTabbableNode:W,lastTabbableNode:F,firstDomTabbableNode:Q,lastDomTabbableNode:te,nextTabbableNode:function(z){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,p=M.indexOf(z);return p<0?ne?O.slice(O.indexOf(z)+1).find(function(H){return so(H)}):O.slice(0,O.indexOf(z)).reverse().find(function(H){return so(H)}):M[p+(ne?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(g){return g.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(g){return g.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function v(g){var M=g.activeElement;if(M)return M.shadowRoot&&M.shadowRoot.activeElement!==null?v(M.shadowRoot):M},h=function v(g){if(g!==!1&&g!==m(document)){if(!g||!g.focus){v(c());return}g.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=g,a_(g)&&g.select()}},_=function(g){var M=f("setReturnFocus",g);return M||(M===!1?!1:g)},y=function(g){var M=g.target,O=g.event,W=g.isBackward,F=W===void 0?!1:W;M=M||Oi(O),d();var Q=null;if(l.tabbableGroups.length>0){var te=u(M,O),x=te>=0?l.containerGroups[te]:void 0;if(te<0)F?Q=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:Q=l.tabbableGroups[0].firstTabbableNode;else if(F){var K=va(l.tabbableGroups,function(ie){var re=ie.firstTabbableNode;return M===re});if(K<0&&(x.container===M||el(M,r.tabbableOptions)&&!so(M,r.tabbableOptions)&&!x.nextTabbableNode(M,!1))&&(K=te),K>=0){var z=K===0?l.tabbableGroups.length-1:K-1,ne=l.tabbableGroups[z];Q=Nn(M)>=0?ne.lastTabbableNode:ne.lastDomTabbableNode}else Yo(O)||(Q=x.nextTabbableNode(M,!1))}else{var p=va(l.tabbableGroups,function(ie){var re=ie.lastTabbableNode;return M===re});if(p<0&&(x.container===M||el(M,r.tabbableOptions)&&!so(M,r.tabbableOptions)&&!x.nextTabbableNode(M))&&(p=te),p>=0){var H=p===l.tabbableGroups.length-1?0:p+1,j=l.tabbableGroups[H];Q=Nn(M)>=0?j.firstTabbableNode:j.firstDomTabbableNode}else Yo(O)||(Q=x.nextTabbableNode(M))}}else Q=f("fallbackFocus");return Q},w=function(g){var M=Oi(g);if(!(u(M,g)>=0)){if(qo(r.clickOutsideDeactivates,g)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}qo(r.allowOutsideClick,g)||g.preventDefault()}},k=function(g){var M=Oi(g),O=u(M,g)>=0;if(O||M instanceof Document)O&&(l.mostRecentlyFocusedNode=M);else{g.stopImmediatePropagation();var W,F=!0;if(l.mostRecentlyFocusedNode)if(Nn(l.mostRecentlyFocusedNode)>0){var Q=u(l.mostRecentlyFocusedNode),te=l.containerGroups[Q].tabbableNodes;if(te.length>0){var x=te.findIndex(function(K){return K===l.mostRecentlyFocusedNode});x>=0&&(r.isKeyForward(l.recentNavEvent)?x+1<te.length&&(W=te[x+1],F=!1):x-1>=0&&(W=te[x-1],F=!1))}}else l.containerGroups.some(function(K){return K.tabbableNodes.some(function(z){return Nn(z)>0})})||(F=!1);else F=!1;F&&(W=y({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),h(W||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},A=function(g){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=g;var O=y({event:g,isBackward:M});O&&(Yo(g)&&g.preventDefault(),h(O))},D=function(g){if(u_(g)&&qo(r.escapeDeactivates,g)!==!1){g.preventDefault(),a.deactivate();return}(r.isKeyForward(g)||r.isKeyBackward(g))&&A(g,r.isKeyBackward(g))},L=function(g){var M=Oi(g);u(M,g)>=0||qo(r.clickOutsideDeactivates,g)||qo(r.allowOutsideClick,g)||(g.preventDefault(),g.stopImmediatePropagation())},E=function(){if(l.active)return ga.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?ba(function(){h(c())}):h(c()),o.addEventListener("focusin",k,!0),o.addEventListener("mousedown",w,{capture:!0,passive:!1}),o.addEventListener("touchstart",w,{capture:!0,passive:!1}),o.addEventListener("click",L,{capture:!0,passive:!1}),o.addEventListener("keydown",D,{capture:!0,passive:!1}),a},B=function(){if(l.active)return o.removeEventListener("focusin",k,!0),o.removeEventListener("mousedown",w,!0),o.removeEventListener("touchstart",w,!0),o.removeEventListener("click",L,!0),o.removeEventListener("keydown",D,!0),a},q=function(g){var M=g.some(function(O){var W=Array.from(O.removedNodes);return W.some(function(F){return F===l.mostRecentlyFocusedNode})});M&&h(c())},R=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(q):void 0,U=function(){R&&(R.disconnect(),l.active&&!l.paused&&l.containers.map(function(g){R.observe(g,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(g){if(l.active)return this;var M=s(g,"onActivate"),O=s(g,"onPostActivate"),W=s(g,"checkCanFocusTrap");W||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,M==null||M();var F=function(){W&&d(),E(),U(),O==null||O()};return W?(W(l.containers.concat()).then(F,F),this):(F(),this)},deactivate:function(g){if(!l.active)return this;var M=_a({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},g);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,B(),l.active=!1,l.paused=!1,U(),ga.deactivateTrap(i,a);var O=s(M,"onDeactivate"),W=s(M,"onPostDeactivate"),F=s(M,"checkCanReturnFocus"),Q=s(M,"returnFocus","returnFocusOnDeactivate");O==null||O();var te=function(){ba(function(){Q&&h(_(l.nodeFocusedBeforeActivation)),W==null||W()})};return Q&&F?(F(_(l.nodeFocusedBeforeActivation)).then(te,te),this):(te(),this)},pause:function(g){if(l.paused||!l.active)return this;var M=s(g,"onPause"),O=s(g,"onPostPause");return l.paused=!0,M==null||M(),B(),U(),O==null||O(),this},unpause:function(g){if(!l.paused||!l.active)return this;var M=s(g,"onUnpause"),O=s(g,"onPostUnpause");return l.paused=!1,M==null||M(),d(),E(),U(),O==null||O(),this},updateContainerElements:function(g){var M=[].concat(g).filter(Boolean);return l.containers=M.map(function(O){return typeof O=="string"?o.querySelector(O):O}),l.active&&d(),U(),this}},a.updateContainerElements(e),a};function p_(t={}){let e;const{immediate:n,...o}=t,i=Ue(!1),r=Ue(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=m_(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:Xs(i),isPaused:Xs(r),activate:l,deactivate:a,pause:s,unpause:u}}const Ni=[];function h_(t,e){let n=Ze;function o(){const r=Ni.indexOf(t);r>=0&&Ni.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;Ql(100).then(()=>{l?Ni.push(t):o()});function f(){return Pp(Ni)===t}function c(){f()&&a&&(a(),o())}function d(h){const _=h.target;Mr(_)&&_&&f()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation())}function m(h){s!=null&&s(h)&&f()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation(),c())}n=__(t,{onInteractOutsideStart:d,onInteractOutside:u?m:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const sd=(t,e="body")=>{let n;if(!kt(e)&&typeof e!="string")return{destroy:Ze};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Kl(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function __(t,e){let n=Ze,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function m(y){f&&ya(y,t)&&(c==null||c(y));const w=y.target;Mr(w)&&ad(t,w)&&(i=!0),o=!0}function h(y){f==null||f(y)}const _=g_(t);if(typeof PointerEvent<"u"){const y=w=>{a(w)&&h(w),s()};n=Wt(ht(_,"pointerdown",m,!0),ht(_,"pointerup",y,!0))}else{const y=k=>{r?r=!1:a(k)&&h(k),s()},w=k=>{r=!0,a(k)&&h(k),s()};n=Wt(ht(_,"mousedown",m,!0),ht(_,"mouseup",y,!0),ht(_,"touchstart",m,!0),ht(_,"touchend",w,!0))}}function a(u){return!!(o&&!i&&ya(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function ya(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!Mr(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!ad(e,n)}function ad(t,e){return t===e||t.contains(e)}function g_(t){return(t==null?void 0:t.ownerDocument)??document}Ln(!1),Ln(!1),Ln(void 0);function b_(){return{elements:{root:ct("label",{action:e=>({destroy:yt(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:Pn}=Ir("dialog"),v_={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},y_=["content","title","description"];function ud(t){const e={...v_,...t},n=$n(Pr(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=tn.writable(null),m=$n({...xl(y_),...e.ids}),h=e.open??Ue(e.defaultOpen),_=Or(h,e==null?void 0:e.onOpenChange),y=ln([_,s],([v,g])=>v||g);let w=Ze;function k(v){const g=v.currentTarget,M=v.currentTarget;!kt(g)||!kt(M)||(_.set(!0),d.set(M))}function A(){_.set(!1),aa({prop:f.get(),defaultEl:d.get()})}const D=ct(Pn("trigger"),{stores:[_],returned:([v])=>({"aria-haspopup":"dialog","aria-expanded":v,type:"button"}),action:v=>({destroy:Wt(yt(v,"click",M=>{k(M)}),yt(v,"keydown",M=>{M.key!==lt.ENTER&&M.key!==lt.SPACE||(M.preventDefault(),k(M))}))})}),L=ct(Pn("overlay"),{stores:[y,_],returned:([v,g])=>({hidden:v?void 0:!0,tabindex:-1,style:vn({display:v?void 0:"none"}),"aria-hidden":!0,"data-state":g?"open":"closed"}),action:v=>{let g=Ze;if(i.get()){const M=ua(v,{handler:()=>{A()}});M&&M.destroy&&(g=M.destroy)}return{destroy(){g()}}}}),E=ct(Pn("content"),{stores:[y,m.content,m.description,m.title,_],returned:([v,g,M,O,W])=>({id:g,role:l.get(),"aria-describedby":M,"aria-labelledby":O,"aria-modal":v?"true":void 0,"data-state":W?"open":"closed",tabindex:-1,hidden:v?void 0:!0,style:vn({display:v?void 0:"none"})}),action:v=>{let g=Ze,M=Ze;const O=Wt(Mt([_],([W])=>{if(!W)return;const F=p_({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:v});g=F.activate,M=F.deactivate;const Q=F.useFocusTrap(v);return Q&&Q.destroy?Q.destroy:F.deactivate}),Mt([r,_],([W,F])=>h_(v,{open:F,closeOnInteractOutside:W,onClose(){A()},shouldCloseOnInteractOutside(Q){var te;return(te=c.get())==null||te(Q),!Q.defaultPrevented}}).destroy),Mt([i],([W])=>{if(!W)return Ze;const F=ua(v,{handler:()=>{A()}});return F&&F.destroy?F.destroy:Ze}),Mt([y],([W])=>{Kl().then(()=>{W?g():M()})}));return{destroy:()=>{w(),O()}}}}),B=ct(Pn("portalled"),{stores:a,returned:v=>({"data-portal":Bc(v)}),action:v=>{const g=Mt([a],([M])=>{if(M===null)return Ze;const O=Wc(v,M);if(O===null)return Ze;const W=sd(v,O);return W&&W.destroy?W.destroy:Ze});return{destroy(){g()}}}}),q=ct(Pn("title"),{stores:[m.title],returned:([v])=>({id:v})}),R=ct(Pn("description"),{stores:[m.description],returned:([v])=>({id:v})}),U=ct(Pn("close"),{returned:()=>({type:"button"}),action:v=>({destroy:Wt(yt(v,"click",()=>{A()}),yt(v,"keydown",M=>{M.key!==lt.SPACE&&M.key!==lt.ENTER||(M.preventDefault(),A())}))})});return Mt([_,o],([v,g])=>{if(Zo){if(g&&v&&(w=Qp()),v){const M=document.getElementById(m.content.get());aa({prop:u.get(),defaultEl:M})}return()=>{s.get()||w()}}}),{ids:m,elements:{content:E,trigger:D,title:q,description:R,overlay:L,close:U,portalled:B},states:{open:_},options:n}}const w_={defaultValue:0,max:100},{name:k_}=Ir("progress"),C_=t=>{const e={...w_,...t},n=$n(Pr(e,"value")),{max:o}=n,i=e.value??Ue(e.defaultValue),r=Or(i,e==null?void 0:e.onValueChange);return{elements:{root:ct(k_(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},A_={orientation:"horizontal",decorative:!1},S_=t=>{const e={...A_,...t},n=$n(e),{orientation:o,decorative:i}=n;return{elements:{root:ct("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},T_={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:Ei}=Ir("slider"),I_=t=>{const e={...T_,...t},n=$n(Pr(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??Ue(e.defaultValue),f=Or(u,e==null?void 0:e.onValueChange),c=tn(Ue(!1)),d=tn(Ue(0)),m=tn(Ue(null)),h=xl(["root"]),_=(B,q)=>{f.update(R=>{if(!R)return[B];if(R[q]===B)return R;const U=[...R],v=U[q]>B?-1:1;function g(){U[q]=U[q+v],U[q+v]=B;const F=y();F&&(F[q+v].focus(),m.set({thumb:F[q+v],index:q+v}))}if(v===-1&&B<U[q-1])return g(),U;if(v===1&&B>U[q+1])return g(),U;const M=o.get(),O=i.get(),W=r.get();return U[q]=zr(B,M,O,W),U})},y=()=>{const B=Qr(h.root);return B?Array.from(B.querySelectorAll('[data-melt-part="thumb"]')).filter(q=>kt(q)):null},w=ln([o,i],([B,q])=>R=>(R-B)/(q-B)*100),k=tn.derived([l,a],([B,q])=>B==="horizontal"?q==="rtl"?"rl":"lr":q==="rtl"?"tb":"bt"),A=ct(Ei(),{stores:[s,l,a],returned:([B,q,R])=>({dir:R,disabled:Zr(B),"data-disabled":Zr(B),"data-orientation":q,style:B?void 0:`touch-action: ${q==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":h.root})}),D=ct(Ei("range"),{stores:[f,k,w],returned:([B,q,R])=>{const U=B.length>1?R(Math.min(...B)??0):0,v=100-R(Math.max(...B)??0),g={position:"absolute"};switch(q){case"lr":{g.left=`${U}%`,g.right=`${v}%`;break}case"rl":{g.right=`${U}%`,g.left=`${v}%`;break}case"bt":{g.bottom=`${U}%`,g.top=`${v}%`;break}case"tb":{g.top=`${U}%`,g.bottom=`${v}%`;break}}return{style:vn(g)}}}),L=ra(Ei("thumb"),{stores:[f,w,o,i,s,l,k],returned:([B,q,R,U,v,g,M])=>Array.from({length:B.length||1},(W,F)=>{d.get()<B.length&&d.update(z=>z+1);const te=B[F],x=`${q(te)}%`,K={position:"absolute"};switch(M){case"lr":{K.left=x,K.translate="-50% 0";break}case"rl":{K.right=x,K.translate="50% 0";break}case"bt":{K.bottom=x,K.translate="0 50%";break}case"tb":{K.top=x,K.translate="0 -50%";break}}return{role:"slider","aria-valuemin":R,"aria-valuemax":U,"aria-valuenow":te,"aria-disabled":Zr(v),"aria-orientation":g,"data-melt-part":"thumb","data-value":te,style:vn(K),tabindex:v?-1:0}}),action:B=>({destroy:yt(B,"keydown",R=>{if(s.get())return;const U=R.currentTarget;if(!kt(U))return;const v=y();if(!(v!=null&&v.length))return;const g=v.indexOf(U);if(d.set(g),![lt.ARROW_LEFT,lt.ARROW_RIGHT,lt.ARROW_UP,lt.ARROW_DOWN,lt.HOME,lt.END].includes(R.key))return;R.preventDefault();const M=o.get(),O=i.get(),W=r.get(),F=f.get(),Q=l.get(),te=k.get(),x=F[g];switch(R.key){case lt.HOME:{_(M,g);break}case lt.END:{_(O,g);break}case lt.ARROW_LEFT:{if(Q!=="horizontal")break;R.metaKey?_(te==="rl"?O:M,g):te==="rl"&&x<O?_(x+W,g):te==="lr"&&x>M&&_(x-W,g);break}case lt.ARROW_RIGHT:{if(Q!=="horizontal")break;R.metaKey?_(te==="rl"?M:O,g):te==="rl"&&x>M?_(x-W,g):te==="lr"&&x<O&&_(x+W,g);break}case lt.ARROW_UP:{R.metaKey?_(te==="tb"?M:O,g):te==="tb"&&x>M?_(x-W,g):te!=="tb"&&x<O&&_(x+W,g);break}case lt.ARROW_DOWN:{R.metaKey?_(te==="tb"?O:M,g):te==="tb"&&x<O?_(x+W,g):te!=="tb"&&x>M&&_(x-W,g);break}}})})}),E=ra(Ei("tick"),{stores:[f,o,i,r,k],returned:([B,q,R,U,v])=>{const g=R-q;let M=Math.ceil(g/U);return g%U==0&&M++,Array.from({length:M},(O,W)=>{const F=`${W*(U/(R-q))*100}%`,Q=W===0,te=W===M-1,x=Q?0:te?-100:-50,K={position:"absolute"};switch(v){case"lr":{K.left=F,K.translate=`${x}% 0`;break}case"rl":{K.right=F,K.translate=`${-x}% 0`;break}case"bt":{K.bottom=F,K.translate=`0 ${-x}%`;break}case"tb":{K.top=F,K.translate=`0 ${x}%`;break}}const z=q+W*U;return{"data-bounded":(B.length===1?z<=B[0]:B[0]<=z&&z<=B[B.length-1])?!0:void 0,"data-value":z,style:vn(K)}})}});return Mt([A,o,i,s,l,k,r],([B,q,R,U,v,g,M])=>{if(!Zo||U)return;const O=(K,z,ne,p)=>{const j=(K-ne)/(p-ne)*(R-q)+q;if(j<q)_(q,z);else if(j>R)_(R,z);else{const ie=M,re=q,ke=Math.floor((j-re)/ie),We=re+ke*ie+ie/2,Se=re+(ke+1)*ie+ie/2,tt=j>=We&&j<Se?(ke+1)*ie+re:ke*ie+re;tt<=R&&_(tt,z)}},W=K=>{const z=y();if(!z)return;z.forEach(j=>j.blur());const ne=z.map(j=>{if(v==="horizontal"){const{left:ie,right:re}=j.getBoundingClientRect();return Math.abs(K.clientX-(ie+re)/2)}else{const{top:ie,bottom:re}=j.getBoundingClientRect();return Math.abs(K.clientY-(ie+re)/2)}}),p=z[ne.indexOf(Math.min(...ne))],H=z.indexOf(p);return{thumb:p,index:H}},F=K=>{if(!c.get())return;K.preventDefault(),K.stopPropagation();const z=Qr(B["data-melt-id"]),ne=m.get();if(!z||!ne)return;ne.thumb.focus();const{left:p,right:H,top:j,bottom:ie}=z.getBoundingClientRect();switch(g){case"lr":{O(K.clientX,ne.index,p,H);break}case"rl":{O(K.clientX,ne.index,H,p);break}case"bt":{O(K.clientY,ne.index,ie,j);break}case"tb":{O(K.clientY,ne.index,j,ie);break}}},Q=K=>{if(K.button!==0)return;const z=Qr(B["data-melt-id"]),ne=W(K);if(!ne||!z)return;const p=K.target;!kt(p)||!z.contains(p)||(K.preventDefault(),m.set(ne),ne.thumb.focus(),c.set(!0),F(K))},te=()=>{c.set(!1)},x=Wt(ht(document,"pointerdown",Q),ht(document,"pointerup",te),ht(document,"pointerleave",te),ht(document,"pointermove",F));return()=>{x()}}),Mt([r,o,i,f],function([q,R,U,v]){const g=O=>zr(O,R,U,q)===O,M=O=>zr(O,R,U,q);v.some(O=>!g(O))&&f.update(O=>O.map(M))}),{elements:{root:A,thumbs:L,range:D,ticks:E},states:{value:f},options:n}},M_={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:tl}=Ir("tooltip"),Ri=new Map,P_=["trigger","content"];function O_(t){const e={...M_,...t},n=$n(Pr(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,m=e.open??Ue(e.defaultOpen),h=Or(m,e==null?void 0:e.onOpenChange),_=Ue(null),y=$n({...xl(P_),...e.ids});let w=!1;const k=g=>Zo?document.getElementById(y[g].get()):null;let A=null,D=null;function L(g){D&&(window.clearTimeout(D),D=null),A||(A=window.setTimeout(()=>{h.set(!0),_.update(M=>M??g),A=null},l.get()))}function E(g){if(A&&(window.clearTimeout(A),A=null),g&&v){_.set("pointer");return}D||(D=window.setTimeout(()=>{h.set(!1),_.set(null),g&&(w=!1),D=null},a.get()))}const B=ln([h,s],([g,M])=>g||M),q=ct(tl("trigger"),{stores:[y.content,y.trigger,h],returned:([g,M,O])=>({"aria-describedby":g,id:M,"data-state":O?"open":"closed"}),action:g=>{const M=W=>{f.get()&&W.key===lt.ESCAPE&&(A&&(window.clearTimeout(A),A=null),h.set(!1))};return{destroy:Wt(yt(g,"pointerdown",()=>{r.get()&&(h.set(!1),w=!0,A&&(window.clearTimeout(A),A=null))}),yt(g,"pointerenter",W=>{la(W)||L("pointer")}),yt(g,"pointerleave",W=>{la(W)||A&&(window.clearTimeout(A),A=null)}),yt(g,"focus",()=>{w||L("focus")}),yt(g,"blur",async()=>{await Ql(0),E(!0)}),yt(g,"keydown",M),ht(document,"keydown",M))}}}),R=ct(tl("content"),{stores:[B,h,u,y.content],returned:([g,M,O,W])=>({role:"tooltip",hidden:g?void 0:!0,tabindex:-1,style:vn({display:g?void 0:"none"}),id:W,"data-portal":Bc(O),"data-state":M?"open":"closed"}),action:g=>{let M=Ze,O=Ze;const W=Mt([B,o,u],([te,x,K])=>{const z=k("trigger");if(!te||!z){O(),M();return}if(M=Vh(z,g,x).destroy,K===null){O();return}const p=Wc(g,K);if(p){const H=sd(g,p);H&&H.destroy&&(O=H.destroy)}});function F(te){if(!h.get())return;const x=te.target;if(!Mr(x)&&!Op(x))return;const K=k("trigger");K&&x.contains(K)&&E()}const Q=Wt(yt(g,"pointerenter",()=>L("pointer")),yt(g,"pointerdown",()=>L("pointer")),ht(window,"scroll",F,{capture:!0}));return{destroy(){Q(),O(),M(),W()}}}}),U=ct(tl("arrow"),{stores:i,returned:g=>({"data-arrow":!0,style:vn({position:"absolute",width:`var(--arrow-size, ${g}px)`,height:`var(--arrow-size, ${g}px)`})})});let v=!1;return Mt(h,g=>{const M=d.get();if(M===void 0||M===!1)return;if(!g){Ri.get(M)===h&&Ri.delete(M);return}const O=Ri.get(M);O==null||O.set(!1),Ri.set(M,h)}),Mt([h,_],([g,M])=>{if(!(!g||!Zo))return Wt(ht(document,"mousemove",O=>{const W=k("content"),F=k("trigger");if(!W||!F)return;const Q=c.get()?[F]:[F,W],te=Yp(Q);v=Xp({x:O.clientX,y:O.clientY},te),M==="pointer"&&(v||E())}))}),{ids:y,elements:{trigger:q,content:R,arrow:U},states:{open:h},options:n}}function Wn(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Kn(){const t=ym();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function Io(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function Vn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function fd(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function N_(t){const{NAME:e,PARTS:n}=fd(),o=Wn(e,n),i=ud({...Io(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:Vn(i.options)};return Ar(e,r),{...r,updateOption:Vn(r.options),getAttrs:o}}function Un(){const{NAME:t}=fd();return Sr(t)}const E_=t=>({ids:t&1}),wa=t=>({ids:t[0]});function R_(t){let e;const n=t[12].default,o=pe(n,t,t[11],wa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&_e(o,n,i,i[11],e?he(n,i[11],r,E_):ge(i[11]),wa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function D_(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:h=void 0}=e;const{states:{open:_},updateOption:y,ids:w}=N_({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:h,onOpenChange:({next:A})=>(f!==A&&(c==null||c(A),n(2,f=A)),A)}),k=ln([w.content,w.description,w.title],([A,D,L])=>({content:A,description:D,title:L}));return fe(t,k,A=>n(0,o=A)),t.$$set=A=>{"preventScroll"in A&&n(3,l=A.preventScroll),"closeOnEscape"in A&&n(4,a=A.closeOnEscape),"closeOnOutsideClick"in A&&n(5,s=A.closeOnOutsideClick),"portal"in A&&n(6,u=A.portal),"open"in A&&n(2,f=A.open),"onOpenChange"in A&&n(7,c=A.onOpenChange),"openFocus"in A&&n(8,d=A.openFocus),"closeFocus"in A&&n(9,m=A.closeFocus),"onOutsideClick"in A&&n(10,h=A.onOutsideClick),"$$scope"in A&&n(11,r=A.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&y("preventScroll",l),t.$$.dirty&16&&y("closeOnEscape",a),t.$$.dirty&32&&y("closeOnOutsideClick",s),t.$$.dirty&64&&y("portal",u),t.$$.dirty&256&&y("openFocus",d),t.$$.dirty&512&&y("closeFocus",m),t.$$.dirty&1024&&y("onOutsideClick",h)},[o,k,f,l,a,s,u,c,d,m,h,r,i]}class L_ extends ye{constructor(e){super(),ve(this,e,D_,R_,ce,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const F_=t=>({builder:t&8}),ka=t=>({builder:t[3]}),q_=t=>({builder:t&8}),Ca=t=>({builder:t[3]});function $_(t){let e=t[1],n,o,i=t[1]&&nl(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),I(r,n,l),o=!0},p(r,l){r[1]?e?ce(e,r[1])?(i.d(1),i=nl(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=nl(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function j_(t){let e;const n=t[9].default,o=pe(n,t,t[8],Ca);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&_e(o,n,i,i[8],e?he(n,i[8],r,q_):ge(i[8]),Ca)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function nl(t){let e,n,o,i;const r=t[9].default,l=pe(r,t,t[8],ka);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),yn(t[1])(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=$e(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&_e(l,r,u,u[8],n?he(r,u[8],f,F_):ge(u[8]),ka),yn(u[1])(e,s=we(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function B_(t){let e,n,o,i;const r=[j_,$_],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function V_(t,e,n){let o;const i=["level","asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:h,getAttrs:_}=Un();fe(t,m,k=>n(7,l=k));const y=_("title");function w(k){Me[k?"unshift":"push"](()=>{d=k,n(0,d)})}return t.$$set=k=>{e=Z(Z({},e),Re(k)),n(5,r=se(e,i)),"level"in k&&n(1,u=k.level),"asChild"in k&&n(2,f=k.asChild),"id"in k&&n(6,c=k.id),"el"in k&&n(0,d=k.el),"$$scope"in k&&n(8,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&h.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,y)},[d,u,f,o,m,r,c,l,s,a,w]}let G_=class extends ye{constructor(e){super(),ve(this,e,V_,B_,ce,{level:1,asChild:2,id:6,el:0})}};const H_=t=>({builder:t&4}),Aa=t=>({builder:t[2]}),W_=t=>({builder:t&4}),Sa=t=>({builder:t[2]});function K_(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],Aa);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=P("button"),l&&l.c(),ue(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[$e(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,H_):ge(u[7]),Aa),ue(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,qe(i)}}}function U_(t){let e;const n=t[8].default,o=pe(n,t,t[7],Sa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,W_):ge(i[7]),Sa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Y_(t){let e,n,o,i;const r=[U_,K_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function X_(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Un();fe(t,c,y=>n(6,l=y));const m=Kn(),h=d("action");function _(y){Me[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=Z(Z({},e),Re(y)),n(5,r=se(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,m,r,l,s,a,_]}let J_=class extends ye{constructor(e){super(),ve(this,e,X_,Y_,ce,{asChild:1,el:0})}};const Z_=t=>({builder:t&4}),Ta=t=>({builder:t[2]}),Q_=t=>({builder:t&4}),Ia=t=>({builder:t[2]});function x_(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],Ta);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=P("button"),l&&l.c(),ue(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[$e(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,Z_):ge(u[7]),Ta),ue(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,qe(i)}}}function z_(t){let e;const n=t[8].default,o=pe(n,t,t[7],Ia);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,Q_):ge(i[7]),Ia)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function e0(t){let e,n,o,i;const r=[z_,x_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function t0(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Un();fe(t,c,y=>n(6,l=y));const m=Kn(),h=d("cancel");function _(y){Me[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=Z(Z({},e),Re(y)),n(5,r=se(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,m,r,l,s,a,_]}let n0=class extends ye{constructor(e){super(),ve(this,e,t0,e0,ce,{asChild:1,el:0})}};const o0=t=>({builder:t&4}),Ma=t=>({builder:t[2]}),i0=t=>({builder:t&4}),Pa=t=>({builder:t[2]});function r0(t){let e,n,o,i;const r=t[7].default,l=pe(r,t,t[6],Ma);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=$e(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&_e(l,r,u,u[6],n?he(r,u[6],f,o0):ge(u[6]),Ma),ue(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function l0(t){let e;const n=t[7].default,o=pe(n,t,t[6],Pa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&_e(o,n,i,i[6],e?he(n,i[6],r,i0):ge(i[6]),Pa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function s0(t){let e,n,o,i;const r=[l0,r0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function a0(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Un();fe(t,c,_=>n(5,l=_));const m=d("portal");function h(_){Me[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Z(Z({},e),Re(_)),n(4,r=se(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,h]}let u0=class extends ye{constructor(e){super(),ve(this,e,a0,s0,ce,{asChild:1,el:0})}};const f0=t=>({builder:t[0]&256}),Oa=t=>({builder:t[8]}),c0=t=>({builder:t[0]&256}),Na=t=>({builder:t[8]}),d0=t=>({builder:t[0]&256}),Ea=t=>({builder:t[8]}),m0=t=>({builder:t[0]&256}),Ra=t=>({builder:t[8]}),p0=t=>({builder:t[0]&256}),Da=t=>({builder:t[8]}),h0=t=>({builder:t[0]&256}),La=t=>({builder:t[8]});function _0(t){let e,n,o,i;const r=t[16].default,l=pe(r,t,t[15],Oa);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[$e(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&_e(l,r,u,u[15],n?he(r,u[15],f,f0):ge(u[15]),Oa),ue(e,s=we(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,qe(i)}}}function g0(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],Na);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[$e(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,c0):ge(t[15]),Na),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Jt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,qe(r)}}}function b0(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],Ea);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[$e(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,d0):ge(t[15]),Ea),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&(n||nt(()=>{n=Xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,qe(r)}}}function v0(t){let e,n,o,i,r,l;const a=t[16].default,s=pe(a,t,t[15],Ra);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Z(f,u[c]);return{c(){e=P("div"),s&&s.c(),ue(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[$e(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&_e(s,a,t,t[15],i?he(a,t[15],d,m0):ge(t[15]),Ra),ue(e,f=we(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(C(s,c),c&&nt(()=>{i&&(o&&o.end(1),n=Xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Jt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,qe(l)}}}function y0(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],Da);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[$e(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,p0):ge(t[15]),Da),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&nt(()=>{o&&(n||(n=Ut(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Ut(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,qe(r)}}}function w0(t){let e;const n=t[16].default,o=pe(n,t,t[15],La);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&_e(o,n,i,i[15],e?he(n,i[15],r,h0):ge(i[15]),La)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function k0(t){let e,n,o,i;const r=[w0,y0,v0,b0,g0,_0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function C0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{id:y=void 0}=e,{asChild:w=!1}=e,{el:k=void 0}=e;const{elements:{content:A},states:{open:D},ids:L,getAttrs:E}=Un();fe(t,A,$=>n(14,l=$)),fe(t,D,$=>n(9,a=$));const B=E("content");function q($){oe.call(this,t,$)}function R($){oe.call(this,t,$)}function U($){oe.call(this,t,$)}function v($){oe.call(this,t,$)}function g($){oe.call(this,t,$)}function M($){oe.call(this,t,$)}function O($){oe.call(this,t,$)}function W($){oe.call(this,t,$)}function F($){oe.call(this,t,$)}function Q($){oe.call(this,t,$)}function te($){oe.call(this,t,$)}function x($){oe.call(this,t,$)}function K($){oe.call(this,t,$)}function z($){oe.call(this,t,$)}function ne($){oe.call(this,t,$)}function p($){oe.call(this,t,$)}function H($){oe.call(this,t,$)}function j($){oe.call(this,t,$)}function ie($){oe.call(this,t,$)}function re($){oe.call(this,t,$)}function ke($){oe.call(this,t,$)}function We($){oe.call(this,t,$)}function Se($){oe.call(this,t,$)}function tt($){oe.call(this,t,$)}function me($){oe.call(this,t,$)}function Ne($){oe.call(this,t,$)}function Ge($){oe.call(this,t,$)}function He($){oe.call(this,t,$)}function Be($){oe.call(this,t,$)}function Ce($){oe.call(this,t,$)}function Ie($){oe.call(this,t,$)}function bt($){oe.call(this,t,$)}function It($){oe.call(this,t,$)}function dt($){oe.call(this,t,$)}function $t($){oe.call(this,t,$)}function Nt($){Me[$?"unshift":"push"](()=>{k=$,n(0,k)})}function ft($){Me[$?"unshift":"push"](()=>{k=$,n(0,k)})}function ze($){Me[$?"unshift":"push"](()=>{k=$,n(0,k)})}function be($){Me[$?"unshift":"push"](()=>{k=$,n(0,k)})}function Ke($){Me[$?"unshift":"push"](()=>{k=$,n(0,k)})}return t.$$set=$=>{e=Z(Z({},e),Re($)),n(12,r=se(e,i)),"transition"in $&&n(1,f=$.transition),"transitionConfig"in $&&n(2,c=$.transitionConfig),"inTransition"in $&&n(3,d=$.inTransition),"inTransitionConfig"in $&&n(4,m=$.inTransitionConfig),"outTransition"in $&&n(5,h=$.outTransition),"outTransitionConfig"in $&&n(6,_=$.outTransitionConfig),"id"in $&&n(13,y=$.id),"asChild"in $&&n(7,w=$.asChild),"el"in $&&n(0,k=$.el),"$$scope"in $&&n(15,u=$.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&y&&L.content.set(y),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,B)},[k,f,c,d,m,h,_,w,o,a,A,D,r,y,l,u,s,q,R,U,v,g,M,O,W,F,Q,te,x,K,z,ne,p,H,j,ie,re,ke,We,Se,tt,me,Ne,Ge,He,Be,Ce,Ie,bt,It,dt,$t,Nt,ft,ze,be,Ke]}let A0=class extends ye{constructor(e){super(),ve(this,e,C0,k0,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const S0=t=>({builder:t&256}),Fa=t=>({builder:t[8]});function T0(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Z(r,i[l]);return{c(){e=P("div"),ue(e,r)},m(l,a){I(l,e,a),t[20](e),n||(o=$e(t[8].action(e)),n=!0)},p(l,a){ue(e,r=we(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ae,o:Ae,d(l){l&&T(e),t[20](null),n=!1,o()}}}function I0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Z(a,l[s]);return{c(){e=P("div"),ue(e,a)},m(s,u){I(s,e,u),t[19](e),o=!0,i||(r=$e(t[8].action(e)),i=!0)},p(s,u){t=s,ue(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Jt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function M0(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Z(l,r[a]);return{c(){e=P("div"),ue(e,l)},m(a,s){I(a,e,s),t[18](e),o||(i=$e(t[8].action(e)),o=!0)},p(a,s){t=a,ue(e,l=we(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||nt(()=>{n=Xt(e,t[3],t[4]),n.start()}))},o:Ae,d(a){a&&T(e),t[18](null),o=!1,i()}}}function P0(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=P("div"),ue(e,s)},m(u,f){I(u,e,f),t[17](e),i=!0,r||(l=$e(t[8].action(e)),r=!0)},p(u,f){t=u,ue(e,s=we(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&nt(()=>{i&&(o&&o.end(1),n=Xt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Jt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function O0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Z(a,l[s]);return{c(){e=P("div"),ue(e,a)},m(s,u){I(s,e,u),t[16](e),o=!0,i||(r=$e(t[8].action(e)),i=!0)},p(s,u){t=s,ue(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&nt(()=>{o&&(n||(n=Ut(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Ut(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function N0(t){let e;const n=t[15].default,o=pe(n,t,t[14],Fa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&_e(o,n,i,i[14],e?he(n,i[14],r,S0):ge(i[14]),Fa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function E0(t){let e,n,o,i;const r=[N0,O0,P0,M0,I0,T0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function R0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:y=!1}=e,{el:w=void 0}=e;const{elements:{overlay:k},states:{open:A},getAttrs:D}=Un();fe(t,k,v=>n(13,l=v)),fe(t,A,v=>n(9,a=v));const L=D("overlay");function E(v){Me[v?"unshift":"push"](()=>{w=v,n(0,w)})}function B(v){Me[v?"unshift":"push"](()=>{w=v,n(0,w)})}function q(v){Me[v?"unshift":"push"](()=>{w=v,n(0,w)})}function R(v){Me[v?"unshift":"push"](()=>{w=v,n(0,w)})}function U(v){Me[v?"unshift":"push"](()=>{w=v,n(0,w)})}return t.$$set=v=>{e=Z(Z({},e),Re(v)),n(12,r=se(e,i)),"transition"in v&&n(1,f=v.transition),"transitionConfig"in v&&n(2,c=v.transitionConfig),"inTransition"in v&&n(3,d=v.inTransition),"inTransitionConfig"in v&&n(4,m=v.inTransitionConfig),"outTransition"in v&&n(5,h=v.outTransition),"outTransitionConfig"in v&&n(6,_=v.outTransitionConfig),"asChild"in v&&n(7,y=v.asChild),"el"in v&&n(0,w=v.el),"$$scope"in v&&n(14,u=v.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,L)},[w,f,c,d,m,h,_,y,o,a,k,A,r,l,u,s,E,B,q,R,U]}let D0=class extends ye{constructor(e){super(),ve(this,e,R0,E0,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const L0=t=>({builder:t&4}),qa=t=>({builder:t[2]}),F0=t=>({builder:t&4}),$a=t=>({builder:t[2]});function q0(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],qa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=$e(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,L0):ge(u[7]),qa),ue(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function $0(t){let e;const n=t[8].default,o=pe(n,t,t[7],$a);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,F0):ge(i[7]),$a)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function j0(t){let e,n,o,i;const r=[$0,q0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function B0(t,e,n){let o;const i=["asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:h}=Un();fe(t,d,w=>n(6,l=w));const _=h("description");function y(w){Me[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=Z(Z({},e),Re(w)),n(4,r=se(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(5,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,y]}let V0=class extends ye{constructor(e){super(),ve(this,e,B0,j0,ce,{asChild:1,id:5,el:0})}};function G0(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function ja(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function H0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&ol(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),I(r,n,l),o=!0},p(r,l){r[1],e?ce(e,r[1]?"a":"button")?(i.d(1),i=ol(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=ol(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function W0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&il(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),I(r,n,l),o=!0},p(r,l){r[1],e?ce(e,r[1]?"a":"button")?(i.d(1),i=il(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=il(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function ol(t){let e,n,o,i,r;const l=t[7].default,a=pe(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=P(t[1]?"a":"button"),a&&a.c(),yn(t[1]?"a":"button")(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),o=!0,i||(r=[ee(e,"click",t[14]),ee(e,"change",t[15]),ee(e,"keydown",t[16]),ee(e,"keyup",t[17]),ee(e,"mouseenter",t[18]),ee(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&_e(a,l,f,f[6],o?he(l,f[6],c,null):ge(f[6]),null),yn(f[1]?"a":"button")(e,u=we(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(C(a,f),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),i=!1,qe(r)}}}function il(t){let e,n,o,i,r,l;const a=t[7].default,s=pe(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},ja(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=Z(f,u[c]);return{c(){e=P(t[1]?"a":"button"),s&&s.c(),yn(t[1]?"a":"button")(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[ee(e,"click",t[8]),ee(e,"change",t[9]),ee(e,"keydown",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseenter",t[12]),ee(e,"mouseleave",t[13]),$e(o=G0.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&_e(s,a,c,c[6],i?he(a,c[6],d,null):ge(c[6]),null),yn(c[1]?"a":"button")(e,f=we(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&ja(c[3]),d&32&&c[5],c[4]])),o&&Tn(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(C(s,c),i=!0)},o(c){S(s,c),i=!1},d(c){c&&T(e),s&&s.d(c),t[20](null),r=!1,qe(l)}}}function K0(t){let e,n,o,i;const r=[W0,H0],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function U0(t,e,n){const o=["href","type","builders","el"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(R){oe.call(this,t,R)}function m(R){oe.call(this,t,R)}function h(R){oe.call(this,t,R)}function _(R){oe.call(this,t,R)}function y(R){oe.call(this,t,R)}function w(R){oe.call(this,t,R)}function k(R){oe.call(this,t,R)}function A(R){oe.call(this,t,R)}function D(R){oe.call(this,t,R)}function L(R){oe.call(this,t,R)}function E(R){oe.call(this,t,R)}function B(R){oe.call(this,t,R)}function q(R){Me[R?"unshift":"push"](()=>{f=R,n(0,f)})}return t.$$set=R=>{e=Z(Z({},e),Re(R)),n(5,i=se(e,o)),"href"in R&&n(1,a=R.href),"type"in R&&n(2,s=R.type),"builders"in R&&n(3,u=R.builders),"el"in R&&n(0,f=R.el),"$$scope"in R&&n(6,l=R.$$scope)},[f,a,s,u,c,i,l,r,d,m,h,_,y,w,k,A,D,L,E,B,q]}let Y0=class extends ye{constructor(e){super(),ve(this,e,U0,K0,ce,{href:1,type:2,builders:3,el:0})}};function X0(t){return(e={})=>J0(t,e)}function J0(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:Z0(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function Z0(t,e){return e==="center"?t:`${t}-${e}`}function Q0(){return{NAME:"separator",PARTS:["root"]}}function x0(t){const{NAME:e,PARTS:n}=Q0(),o=Wn(e,n),i={...S_(Io(t)),getAttrs:o};return{...i,updateOption:Vn(i.options)}}const z0=t=>({builder:t&4}),Ba=t=>({builder:t[2]});function eg(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Z(r,i[l]);return{c(){e=P("div"),ue(e,r)},m(l,a){I(l,e,a),t[10](e),n||(o=$e(t[2].action(e)),n=!0)},p(l,a){ue(e,r=we(i,[a&4&&l[2],a&16&&l[4]]))},i:Ae,o:Ae,d(l){l&&T(e),t[10](null),n=!1,o()}}}function tg(t){let e;const n=t[9].default,o=pe(n,t,t[8],Ba);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&_e(o,n,i,i[8],e?he(n,i[8],r,z0):ge(i[8]),Ba)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function ng(t){let e,n,o,i;const r=[tg,eg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function og(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:m},updateOption:h,getAttrs:_}=x0({orientation:u,decorative:f});fe(t,m,k=>n(7,l=k));const y=_("root");function w(k){Me[k?"unshift":"push"](()=>{d=k,n(0,d)})}return t.$$set=k=>{e=Z(Z({},e),Re(k)),n(4,r=se(e,i)),"orientation"in k&&n(5,u=k.orientation),"decorative"in k&&n(6,f=k.decorative),"asChild"in k&&n(1,c=k.asChild),"el"in k&&n(0,d=k.el),"$$scope"in k&&n(8,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&h("orientation",u),t.$$.dirty&64&&h("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,y)},[d,c,o,m,r,u,f,l,s,a,w]}let ig=class extends ye{constructor(e){super(),ve(this,e,og,ng,ce,{orientation:5,decorative:6,asChild:1,el:0})}};function cd(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function rg(t){const{NAME:e,PARTS:n}=cd(),o=Wn(e,n),i={...ud({...Io(t),role:"dialog",forceVisible:!0}),getAttrs:o};return Ar(e,i),{...i,updateOption:Vn(i.options)}}function Mo(){const{NAME:t}=cd();return Sr(t)}const lg=t=>({ids:t&1}),Va=t=>({ids:t[0]});function sg(t){let e;const n=t[12].default,o=pe(n,t,t[11],Va);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&_e(o,n,i,i[11],e?he(n,i[11],r,lg):ge(i[11]),Va)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function ag(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:h=void 0}=e;const{states:{open:_},updateOption:y,ids:w}=rg({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:h,onOpenChange:({next:A})=>(f!==A&&(c==null||c(A),n(2,f=A)),A)}),k=ln([w.content,w.description,w.title],([A,D,L])=>({content:A,description:D,title:L}));return fe(t,k,A=>n(0,o=A)),t.$$set=A=>{"preventScroll"in A&&n(3,l=A.preventScroll),"closeOnEscape"in A&&n(4,a=A.closeOnEscape),"closeOnOutsideClick"in A&&n(5,s=A.closeOnOutsideClick),"portal"in A&&n(6,u=A.portal),"open"in A&&n(2,f=A.open),"onOpenChange"in A&&n(7,c=A.onOpenChange),"openFocus"in A&&n(8,d=A.openFocus),"closeFocus"in A&&n(9,m=A.closeFocus),"onOutsideClick"in A&&n(10,h=A.onOutsideClick),"$$scope"in A&&n(11,r=A.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&y("preventScroll",l),t.$$.dirty&16&&y("closeOnEscape",a),t.$$.dirty&32&&y("closeOnOutsideClick",s),t.$$.dirty&64&&y("portal",u),t.$$.dirty&256&&y("openFocus",d),t.$$.dirty&512&&y("closeFocus",m),t.$$.dirty&1024&&y("onOutsideClick",h)},[o,k,f,l,a,s,u,c,d,m,h,r,i]}class ug extends ye{constructor(e){super(),ve(this,e,ag,sg,ce,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const fg=t=>({builder:t&8}),Ga=t=>({builder:t[3]}),cg=t=>({builder:t&8}),Ha=t=>({builder:t[3]});function dg(t){let e=t[1],n,o,i=t[1]&&rl(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),I(r,n,l),o=!0},p(r,l){r[1]?e?ce(e,r[1])?(i.d(1),i=rl(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=rl(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function mg(t){let e;const n=t[9].default,o=pe(n,t,t[8],Ha);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&_e(o,n,i,i[8],e?he(n,i[8],r,cg):ge(i[8]),Ha)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function rl(t){let e,n,o,i;const r=t[9].default,l=pe(r,t,t[8],Ga);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),yn(t[1])(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=$e(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&_e(l,r,u,u[8],n?he(r,u[8],f,fg):ge(u[8]),Ga),yn(u[1])(e,s=we(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function pg(t){let e,n,o,i;const r=[mg,dg],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function hg(t,e,n){let o;const i=["level","asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:h,getAttrs:_}=Mo();fe(t,m,k=>n(7,l=k));const y=_("title");function w(k){Me[k?"unshift":"push"](()=>{d=k,n(0,d)})}return t.$$set=k=>{e=Z(Z({},e),Re(k)),n(5,r=se(e,i)),"level"in k&&n(1,u=k.level),"asChild"in k&&n(2,f=k.asChild),"id"in k&&n(6,c=k.id),"el"in k&&n(0,d=k.el),"$$scope"in k&&n(8,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&h.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,y)},[d,u,f,o,m,r,c,l,s,a,w]}let _g=class extends ye{constructor(e){super(),ve(this,e,hg,pg,ce,{level:1,asChild:2,id:6,el:0})}};const gg=t=>({builder:t&4}),Wa=t=>({builder:t[2]}),bg=t=>({builder:t&4}),Ka=t=>({builder:t[2]});function vg(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],Wa);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=P("button"),l&&l.c(),ue(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[$e(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,gg):ge(u[7]),Wa),ue(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,qe(i)}}}function yg(t){let e;const n=t[8].default,o=pe(n,t,t[7],Ka);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,bg):ge(i[7]),Ka)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function wg(t){let e,n,o,i;const r=[yg,vg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function kg(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Mo();fe(t,c,y=>n(6,l=y));const m=Kn(),h=d("close");function _(y){Me[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=Z(Z({},e),Re(y)),n(5,r=se(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,m,r,l,s,a,_]}class Cg extends ye{constructor(e){super(),ve(this,e,kg,wg,ce,{asChild:1,el:0})}}const Ag=t=>({builder:t&4}),Ua=t=>({builder:t[2]}),Sg=t=>({builder:t&4}),Ya=t=>({builder:t[2]});function Tg(t){let e,n,o,i;const r=t[7].default,l=pe(r,t,t[6],Ua);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=$e(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&_e(l,r,u,u[6],n?he(r,u[6],f,Ag):ge(u[6]),Ua),ue(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function Ig(t){let e;const n=t[7].default,o=pe(n,t,t[6],Ya);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&_e(o,n,i,i[6],e?he(n,i[6],r,Sg):ge(i[6]),Ya)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Mg(t){let e,n,o,i;const r=[Ig,Tg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Pg(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Mo();fe(t,c,_=>n(5,l=_));const m=d("portal");function h(_){Me[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Z(Z({},e),Re(_)),n(4,r=se(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,h]}let Og=class extends ye{constructor(e){super(),ve(this,e,Pg,Mg,ce,{asChild:1,el:0})}};const Ng=t=>({builder:t[0]&256}),Xa=t=>({builder:t[8]}),Eg=t=>({builder:t[0]&256}),Ja=t=>({builder:t[8]}),Rg=t=>({builder:t[0]&256}),Za=t=>({builder:t[8]}),Dg=t=>({builder:t[0]&256}),Qa=t=>({builder:t[8]}),Lg=t=>({builder:t[0]&256}),xa=t=>({builder:t[8]}),Fg=t=>({builder:t[0]&256}),za=t=>({builder:t[8]});function qg(t){let e,n,o,i;const r=t[16].default,l=pe(r,t,t[15],Xa);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[$e(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&_e(l,r,u,u[15],n?he(r,u[15],f,Ng):ge(u[15]),Xa),ue(e,s=we(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,qe(i)}}}function $g(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],Ja);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[$e(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,Eg):ge(t[15]),Ja),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Jt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,qe(r)}}}function jg(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],Za);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[$e(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,Rg):ge(t[15]),Za),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&(n||nt(()=>{n=Xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,qe(r)}}}function Bg(t){let e,n,o,i,r,l;const a=t[16].default,s=pe(a,t,t[15],Qa);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Z(f,u[c]);return{c(){e=P("div"),s&&s.c(),ue(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[$e(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&_e(s,a,t,t[15],i?he(a,t[15],d,Dg):ge(t[15]),Qa),ue(e,f=we(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(C(s,c),c&&nt(()=>{i&&(o&&o.end(1),n=Xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Jt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,qe(l)}}}function Vg(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],xa);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[$e(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,Lg):ge(t[15]),xa),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&nt(()=>{o&&(n||(n=Ut(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Ut(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,qe(r)}}}function Gg(t){let e;const n=t[16].default,o=pe(n,t,t[15],za);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&_e(o,n,i,i[15],e?he(n,i[15],r,Fg):ge(i[15]),za)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Hg(t){let e,n,o,i;const r=[Gg,Vg,Bg,jg,$g,qg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function Wg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:y=!1}=e,{id:w=void 0}=e,{el:k=void 0}=e;const{elements:{content:A},states:{open:D},ids:L,getAttrs:E}=Mo();fe(t,A,$=>n(14,l=$)),fe(t,D,$=>n(9,a=$));const B=E("content");function q($){oe.call(this,t,$)}function R($){oe.call(this,t,$)}function U($){oe.call(this,t,$)}function v($){oe.call(this,t,$)}function g($){oe.call(this,t,$)}function M($){oe.call(this,t,$)}function O($){oe.call(this,t,$)}function W($){oe.call(this,t,$)}function F($){oe.call(this,t,$)}function Q($){oe.call(this,t,$)}function te($){oe.call(this,t,$)}function x($){oe.call(this,t,$)}function K($){oe.call(this,t,$)}function z($){oe.call(this,t,$)}function ne($){oe.call(this,t,$)}function p($){oe.call(this,t,$)}function H($){oe.call(this,t,$)}function j($){oe.call(this,t,$)}function ie($){oe.call(this,t,$)}function re($){oe.call(this,t,$)}function ke($){oe.call(this,t,$)}function We($){oe.call(this,t,$)}function Se($){oe.call(this,t,$)}function tt($){oe.call(this,t,$)}function me($){oe.call(this,t,$)}function Ne($){oe.call(this,t,$)}function Ge($){oe.call(this,t,$)}function He($){oe.call(this,t,$)}function Be($){oe.call(this,t,$)}function Ce($){oe.call(this,t,$)}function Ie($){oe.call(this,t,$)}function bt($){oe.call(this,t,$)}function It($){oe.call(this,t,$)}function dt($){oe.call(this,t,$)}function $t($){oe.call(this,t,$)}function Nt($){Me[$?"unshift":"push"](()=>{k=$,n(0,k)})}function ft($){Me[$?"unshift":"push"](()=>{k=$,n(0,k)})}function ze($){Me[$?"unshift":"push"](()=>{k=$,n(0,k)})}function be($){Me[$?"unshift":"push"](()=>{k=$,n(0,k)})}function Ke($){Me[$?"unshift":"push"](()=>{k=$,n(0,k)})}return t.$$set=$=>{e=Z(Z({},e),Re($)),n(12,r=se(e,i)),"transition"in $&&n(1,f=$.transition),"transitionConfig"in $&&n(2,c=$.transitionConfig),"inTransition"in $&&n(3,d=$.inTransition),"inTransitionConfig"in $&&n(4,m=$.inTransitionConfig),"outTransition"in $&&n(5,h=$.outTransition),"outTransitionConfig"in $&&n(6,_=$.outTransitionConfig),"asChild"in $&&n(7,y=$.asChild),"id"in $&&n(13,w=$.id),"el"in $&&n(0,k=$.el),"$$scope"in $&&n(15,u=$.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&w&&L.content.set(w),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,B)},[k,f,c,d,m,h,_,y,o,a,A,D,r,w,l,u,s,q,R,U,v,g,M,O,W,F,Q,te,x,K,z,ne,p,H,j,ie,re,ke,We,Se,tt,me,Ne,Ge,He,Be,Ce,Ie,bt,It,dt,$t,Nt,ft,ze,be,Ke]}let Kg=class extends ye{constructor(e){super(),ve(this,e,Wg,Hg,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const Ug=t=>({builder:t&256}),eu=t=>({builder:t[8]});function Yg(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Z(r,i[l]);return{c(){e=P("div"),ue(e,r)},m(l,a){I(l,e,a),t[25](e),n||(o=[$e(t[8].action(e)),ee(e,"mouseup",t[20])],n=!0)},p(l,a){ue(e,r=we(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ae,o:Ae,d(l){l&&T(e),t[25](null),n=!1,qe(o)}}}function Xg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Z(a,l[s]);return{c(){e=P("div"),ue(e,a)},m(s,u){I(s,e,u),t[24](e),o=!0,i||(r=[$e(t[8].action(e)),ee(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,ue(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Jt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[24](null),s&&n&&n.end(),i=!1,qe(r)}}}function Jg(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Z(l,r[a]);return{c(){e=P("div"),ue(e,l)},m(a,s){I(a,e,s),t[23](e),o||(i=[$e(t[8].action(e)),ee(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,ue(e,l=we(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||nt(()=>{n=Xt(e,t[3],t[4]),n.start()}))},o:Ae,d(a){a&&T(e),t[23](null),o=!1,qe(i)}}}function Zg(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=P("div"),ue(e,s)},m(u,f){I(u,e,f),t[22](e),i=!0,r||(l=[$e(t[8].action(e)),ee(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,ue(e,s=we(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&nt(()=>{i&&(o&&o.end(1),n=Xt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Jt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[22](null),u&&o&&o.end(),r=!1,qe(l)}}}function Qg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Z(a,l[s]);return{c(){e=P("div"),ue(e,a)},m(s,u){I(s,e,u),t[21](e),o=!0,i||(r=[ee(e,"mouseup",t[16]),$e(t[8].action(e))],i=!0)},p(s,u){t=s,ue(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&nt(()=>{o&&(n||(n=Ut(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Ut(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[21](null),s&&n&&n.end(),i=!1,qe(r)}}}function xg(t){let e;const n=t[15].default,o=pe(n,t,t[14],eu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&_e(o,n,i,i[14],e?he(n,i[14],r,Ug):ge(i[14]),eu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function zg(t){let e,n,o,i;const r=[xg,Qg,Zg,Jg,Xg,Yg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function e1(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:y=!1}=e,{el:w=void 0}=e;const{elements:{overlay:k},states:{open:A},getAttrs:D}=Mo();fe(t,k,F=>n(13,l=F)),fe(t,A,F=>n(9,a=F));const L=D("overlay");function E(F){oe.call(this,t,F)}function B(F){oe.call(this,t,F)}function q(F){oe.call(this,t,F)}function R(F){oe.call(this,t,F)}function U(F){oe.call(this,t,F)}function v(F){Me[F?"unshift":"push"](()=>{w=F,n(0,w)})}function g(F){Me[F?"unshift":"push"](()=>{w=F,n(0,w)})}function M(F){Me[F?"unshift":"push"](()=>{w=F,n(0,w)})}function O(F){Me[F?"unshift":"push"](()=>{w=F,n(0,w)})}function W(F){Me[F?"unshift":"push"](()=>{w=F,n(0,w)})}return t.$$set=F=>{e=Z(Z({},e),Re(F)),n(12,r=se(e,i)),"transition"in F&&n(1,f=F.transition),"transitionConfig"in F&&n(2,c=F.transitionConfig),"inTransition"in F&&n(3,d=F.inTransition),"inTransitionConfig"in F&&n(4,m=F.inTransitionConfig),"outTransition"in F&&n(5,h=F.outTransition),"outTransitionConfig"in F&&n(6,_=F.outTransitionConfig),"asChild"in F&&n(7,y=F.asChild),"el"in F&&n(0,w=F.el),"$$scope"in F&&n(14,u=F.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,L)},[w,f,c,d,m,h,_,y,o,a,k,A,r,l,u,s,E,B,q,R,U,v,g,M,O,W]}let t1=class extends ye{constructor(e){super(),ve(this,e,e1,zg,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const n1=t=>({builder:t&4}),tu=t=>({builder:t[2]}),o1=t=>({builder:t&4}),nu=t=>({builder:t[2]});function i1(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],tu);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=$e(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,n1):ge(u[7]),tu),ue(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function r1(t){let e;const n=t[8].default,o=pe(n,t,t[7],nu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,o1):ge(i[7]),nu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function l1(t){let e,n,o,i;const r=[r1,i1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function s1(t,e,n){let o;const i=["asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:h}=Mo();fe(t,d,w=>n(6,l=w));const _=h("description");function y(w){Me[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=Z(Z({},e),Re(w)),n(4,r=se(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(5,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,y]}let a1=class extends ye{constructor(e){super(),ve(this,e,s1,l1,ce,{asChild:1,id:5,el:0})}};function u1(){const t="label",n=Wn(t,["root"]);return{NAME:t,getAttrs:n}}const f1=t=>({builder:t&4}),ou=t=>({builder:t[2]}),c1=t=>({builder:t&4}),iu=t=>({builder:t[2]});function d1(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],ou);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=P("label"),l&&l.c(),ue(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[$e(t[2].action(e)),ee(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,f1):ge(u[7]),ou),ue(e,s=we(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,qe(i)}}}function m1(t){let e;const n=t[8].default,o=pe(n,t,t[7],iu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,c1):ge(i[7]),iu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function p1(t){let e,n,o,i;const r=[m1,d1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function h1(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=b_();fe(t,c,y=>n(6,l=y));const d=Kn(),{getAttrs:m}=u1(),h=m("root");function _(y){Me[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=Z(Z({},e),Re(y)),n(5,r=se(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,d,r,l,s,a,_]}let _1=class extends ye{constructor(e){super(),ve(this,e,h1,p1,ce,{asChild:1,el:0})}};function g1(){return{NAME:"progress",PARTS:["root"]}}function b1(t){const{NAME:e,PARTS:n}=g1(),o=Wn(e,n),i={...C_(Io(t)),getAttrs:o};return{...i,updateOption:Vn(i.options)}}const v1=t=>({builder:t&4}),ru=t=>({builder:t[2]}),y1=t=>({builder:t&4}),lu=t=>({builder:t[2]});function w1(t){let e,n,o,i;const r=t[10].default,l=pe(r,t,t[9],ru);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=$e(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&_e(l,r,u,u[9],n?he(r,u[9],f,v1):ge(u[9]),ru),ue(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[11](null),o=!1,i()}}}function k1(t){let e;const n=t[10].default,o=pe(n,t,t[9],lu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&_e(o,n,i,i[9],e?he(n,i[9],r,y1):ge(i[9]),lu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function C1(t){let e,n,o,i;const r=[k1,w1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function A1(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:m=void 0}=e;const{elements:{root:h},states:{value:_},updateOption:y,getAttrs:w}=b1({max:u,defaultValue:f,onValueChange:({next:D})=>(c==null||c(D),n(5,f=D),D)});fe(t,h,D=>n(8,l=D));const k=w("root");function A(D){Me[D?"unshift":"push"](()=>{m=D,n(0,m)})}return t.$$set=D=>{e=Z(Z({},e),Re(D)),n(4,r=se(e,i)),"max"in D&&n(6,u=D.max),"value"in D&&n(5,f=D.value),"onValueChange"in D&&n(7,c=D.onValueChange),"asChild"in D&&n(1,d=D.asChild),"el"in D&&n(0,m=D.el),"$$scope"in D&&n(9,s=D.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&_.set(f),t.$$.dirty&64&&y("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,k)},[m,d,o,h,r,f,u,c,l,s,a,A]}let S1=class extends ye{constructor(e){super(),ve(this,e,A1,C1,ce,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function dd(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function T1(t){const{NAME:e,PARTS:n}=dd(),o=Wn(e,n),i={...I_(Io(t)),getAttrs:o};return Ar(e,i),{...i,updateOption:Vn(i.options)}}function md(){const{NAME:t}=dd();return Sr(t)}const I1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),su=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),M1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),au=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function P1(t){let e,n,o,i;const r=t[18].default,l=pe(r,t,t[17],su);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=P("span"),l&&l.c(),ue(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=$e(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&_e(l,r,u,u[17],n?he(r,u[17],f,I1):ge(u[17]),su),ue(e,s=we(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[19](null),o=!1,i()}}}function O1(t){let e;const n=t[18].default,o=pe(n,t,t[17],au);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&_e(o,n,i,i[17],e?he(n,i[17],r,M1):ge(i[17]),au)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function N1(t){let e,n,o,i;const r=[O1,P1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function E1(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=se(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:m=void 0}=e,{step:h=void 0}=e,{orientation:_=void 0}=e,{value:y=void 0}=e,{onValueChange:w=void 0}=e,{asChild:k=!1}=e,{el:A=void 0}=e;const{elements:{root:D,ticks:L,thumbs:E},states:{value:B},updateOption:q,getAttrs:R}=T1({disabled:c,min:d,max:m,step:h,orientation:_,defaultValue:y,onValueChange:({next:g})=>(y!==g&&(w==null||w(g),n(9,y=g)),g)});fe(t,D,g=>n(16,l=g)),fe(t,L,g=>n(3,a=g)),fe(t,E,g=>n(4,s=g));const U=R("root");function v(g){Me[g?"unshift":"push"](()=>{A=g,n(0,A)})}return t.$$set=g=>{e=Z(Z({},e),Re(g)),n(8,r=se(e,i)),"disabled"in g&&n(10,c=g.disabled),"min"in g&&n(11,d=g.min),"max"in g&&n(12,m=g.max),"step"in g&&n(13,h=g.step),"orientation"in g&&n(14,_=g.orientation),"value"in g&&n(9,y=g.value),"onValueChange"in g&&n(15,w=g.onValueChange),"asChild"in g&&n(1,k=g.asChild),"el"in g&&n(0,A=g.el),"$$scope"in g&&n(17,f=g.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&y!==void 0&&B.set(y),t.$$.dirty&1024&&q("disabled",c),t.$$.dirty&2048&&q("min",d),t.$$.dirty&4096&&q("max",m),t.$$.dirty&8192&&q("step",h),t.$$.dirty&16384&&q("orientation",_),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,U)},[A,k,o,a,s,D,L,E,r,y,c,d,m,h,_,w,l,f,u,v]}let R1=class extends ye{constructor(e){super(),ve(this,e,E1,N1,ce,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const D1=t=>({builder:t&4}),uu=t=>({builder:t[2]});function L1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Z(r,i[l]);return{c(){e=P("span"),ue(e,r)},m(l,a){I(l,e,a),t[8](e),n||(o=$e(t[2].action(e)),n=!0)},p(l,a){ue(e,r=we(i,[a&4&&l[2],a&16&&l[4]]))},i:Ae,o:Ae,d(l){l&&T(e),t[8](null),n=!1,o()}}}function F1(t){let e;const n=t[7].default,o=pe(n,t,t[6],uu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&_e(o,n,i,i[6],e?he(n,i[6],r,D1):ge(i[6]),uu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function q1(t){let e,n,o,i;const r=[F1,L1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function $1(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=md();fe(t,c,_=>n(5,l=_));const m=d("range");function h(_){Me[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Z(Z({},e),Re(_)),n(4,r=se(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,h]}class j1 extends ye{constructor(e){super(),ve(this,e,$1,q1,ce,{asChild:1,el:0})}}const B1=t=>({builder:t&4}),fu=t=>({builder:t[2]});function V1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Z(r,i[l]);return{c(){e=P("span"),ue(e,r)},m(l,a){I(l,e,a),t[8](e),n||(o=[$e(t[2].action(e)),ee(e,"m-keydown",t[3])],n=!0)},p(l,a){ue(e,r=we(i,[a&4&&l[2],a&16&&l[4]]))},i:Ae,o:Ae,d(l){l&&T(e),t[8](null),n=!1,qe(o)}}}function G1(t){let e;const n=t[7].default,o=pe(n,t,t[6],fu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&_e(o,n,i,i[6],e?he(n,i[6],r,B1):ge(i[6]),fu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function H1(t){let e,n,o,i;const r=[G1,V1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function W1(t,e,n){let o;const i=["asChild","el","thumb"];let r=se(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=md(),d=Kn(),m=c("thumb");function h(_){Me[_?"unshift":"push"](()=>{u=_,n(0,u)})}return t.$$set=_=>{e=Z(Z({},e),Re(_)),n(4,r=se(e,i)),"asChild"in _&&n(1,s=_.asChild),"el"in _&&n(0,u=_.el),"thumb"in _&&n(5,f=_.thumb),"$$scope"in _&&n(6,a=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,m)},[u,s,o,d,r,f,a,l,h]}class K1 extends ye{constructor(e){super(),ve(this,e,W1,H1,ce,{asChild:1,el:0,thumb:5})}}function pd(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function U1(t){const{NAME:e,PARTS:n}=pd(),o=Wn(e,n),i={...O_({positioning:{placement:"top",gutter:0},openDelay:700,...Io(t),forceVisible:!0}),getAttrs:o};return Ar(e,i),{...i,updateOption:Vn(i.options)}}function rs(){const{NAME:t}=pd();return Sr(t)}function Y1(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=rs();X0(o)({...n})}const X1=t=>({ids:t&1}),cu=t=>({ids:t[0]});function J1(t){let e;const n=t[12].default,o=pe(n,t,t[11],cu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&_e(o,n,i,i[11],e?he(n,i[11],r,X1):ge(i[11]),cu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Z1(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:m=void 0}=e,{group:h=void 0}=e;const{states:{open:_},updateOption:y,ids:w}=U1({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:m,group:h,onOpenChange:({next:A})=>(c!==A&&(d==null||d(A),n(2,c=A)),A),positioning:{gutter:0,offset:{mainAxis:1}}}),k=ln([w.content,w.trigger],([A,D])=>({content:A,trigger:D}));return fe(t,k,A=>n(0,o=A)),t.$$set=A=>{"closeOnEscape"in A&&n(3,l=A.closeOnEscape),"portal"in A&&n(4,a=A.portal),"closeOnPointerDown"in A&&n(5,s=A.closeOnPointerDown),"openDelay"in A&&n(6,u=A.openDelay),"closeDelay"in A&&n(7,f=A.closeDelay),"open"in A&&n(2,c=A.open),"onOpenChange"in A&&n(8,d=A.onOpenChange),"disableHoverableContent"in A&&n(9,m=A.disableHoverableContent),"group"in A&&n(10,h=A.group),"$$scope"in A&&n(11,r=A.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&_.set(c),t.$$.dirty&8&&y("closeOnEscape",l),t.$$.dirty&16&&y("portal",a),t.$$.dirty&32&&y("closeOnPointerDown",s),t.$$.dirty&64&&y("openDelay",u),t.$$.dirty&128&&y("closeDelay",f),t.$$.dirty&1024&&y("group",h),t.$$.dirty&512&&y("disableHoverableContent",m)},[o,k,c,l,a,s,u,f,d,m,h,r,i]}class Q1 extends ye{constructor(e){super(),ve(this,e,Z1,J1,ce,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const x1=t=>({builder:t[0]&256}),du=t=>({builder:t[8]}),z1=t=>({builder:t[0]&256}),mu=t=>({builder:t[8]}),eb=t=>({builder:t[0]&256}),pu=t=>({builder:t[8]}),tb=t=>({builder:t[0]&256}),hu=t=>({builder:t[8]}),nb=t=>({builder:t[0]&256}),_u=t=>({builder:t[8]}),ob=t=>({builder:t[0]&256}),gu=t=>({builder:t[8]});function ib(t){let e,n,o,i;const r=t[28].default,l=pe(r,t,t[27],du);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[$e(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&_e(l,r,u,u[27],n?he(r,u[27],f,x1):ge(u[27]),du),ue(e,s=we(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[33](null),o=!1,qe(i)}}}function rb(t){let e,n,o,i,r;const l=t[28].default,a=pe(l,t,t[27],mu);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[$e(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&_e(a,l,t,t[27],o?he(l,t[27],c,z1):ge(t[27]),mu),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Jt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,qe(r)}}}function lb(t){let e,n,o,i,r;const l=t[28].default,a=pe(l,t,t[27],pu);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[$e(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&_e(a,l,t,t[27],o?he(l,t[27],c,eb):ge(t[27]),pu),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),f&&(n||nt(()=>{n=Xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[31](null),i=!1,qe(r)}}}function sb(t){let e,n,o,i,r,l;const a=t[28].default,s=pe(a,t,t[27],hu);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=Z(f,u[c]);return{c(){e=P("div"),s&&s.c(),ue(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[$e(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&_e(s,a,t,t[27],i?he(a,t[27],d,tb):ge(t[27]),hu),ue(e,f=we(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(C(s,c),c&&nt(()=>{i&&(o&&o.end(1),n=Xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Jt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,qe(l)}}}function ab(t){let e,n,o,i,r;const l=t[28].default,a=pe(l,t,t[27],_u);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[$e(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&_e(a,l,t,t[27],o?he(l,t[27],c,nb):ge(t[27]),_u),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),f&&nt(()=>{o&&(n||(n=Ut(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Ut(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,qe(r)}}}function ub(t){let e;const n=t[28].default,o=pe(n,t,t[27],gu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&_e(o,n,i,i[27],e?he(n,i[27],r,ob):ge(i[27]),gu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function fb(t){let e,n,o,i;const r=[ub,ab,sb,lb,rb,ib],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function cb(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:y=!1}=e,{id:w=void 0}=e,{side:k="top"}=e,{align:A="center"}=e,{sideOffset:D=0}=e,{alignOffset:L=0}=e,{collisionPadding:E=8}=e,{avoidCollisions:B=!0}=e,{collisionBoundary:q=void 0}=e,{sameWidth:R=!1}=e,{fitViewport:U=!1}=e,{strategy:v="absolute"}=e,{overlap:g=!1}=e,{el:M=void 0}=e;const{elements:{content:O},states:{open:W},ids:F,getAttrs:Q}=rs();fe(t,O,j=>n(26,a=j)),fe(t,W,j=>n(9,l=j));const te=Kn(),x=Q("content");function K(j){Me[j?"unshift":"push"](()=>{M=j,n(0,M)})}function z(j){Me[j?"unshift":"push"](()=>{M=j,n(0,M)})}function ne(j){Me[j?"unshift":"push"](()=>{M=j,n(0,M)})}function p(j){Me[j?"unshift":"push"](()=>{M=j,n(0,M)})}function H(j){Me[j?"unshift":"push"](()=>{M=j,n(0,M)})}return t.$$set=j=>{e=Z(Z({},e),Re(j)),n(13,r=se(e,i)),"transition"in j&&n(1,f=j.transition),"transitionConfig"in j&&n(2,c=j.transitionConfig),"inTransition"in j&&n(3,d=j.inTransition),"inTransitionConfig"in j&&n(4,m=j.inTransitionConfig),"outTransition"in j&&n(5,h=j.outTransition),"outTransitionConfig"in j&&n(6,_=j.outTransitionConfig),"asChild"in j&&n(7,y=j.asChild),"id"in j&&n(14,w=j.id),"side"in j&&n(15,k=j.side),"align"in j&&n(16,A=j.align),"sideOffset"in j&&n(17,D=j.sideOffset),"alignOffset"in j&&n(18,L=j.alignOffset),"collisionPadding"in j&&n(19,E=j.collisionPadding),"avoidCollisions"in j&&n(20,B=j.avoidCollisions),"collisionBoundary"in j&&n(21,q=j.collisionBoundary),"sameWidth"in j&&n(22,R=j.sameWidth),"fitViewport"in j&&n(23,U=j.fitViewport),"strategy"in j&&n(24,v=j.strategy),"overlap"in j&&n(25,g=j.overlap),"el"in j&&n(0,M=j.el),"$$scope"in j&&n(27,u=j.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&w&&F.content.set(w),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,x),t.$$.dirty[0]&67076608&&l&&Y1({side:k,align:A,sideOffset:D,alignOffset:L,collisionPadding:E,avoidCollisions:B,collisionBoundary:q,sameWidth:R,fitViewport:U,strategy:v,overlap:g})},[M,f,c,d,m,h,_,y,o,l,O,W,te,r,w,k,A,D,L,E,B,q,R,U,v,g,a,u,s,K,z,ne,p,H]}let db=class extends ye{constructor(e){super(),ve(this,e,cb,fb,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const mb=t=>({builder:t&4}),bu=t=>({builder:t[2]}),pb=t=>({builder:t&4}),vu=t=>({builder:t[2]});function hb(t){let e,n,o,i;const r=t[9].default,l=pe(r,t,t[8],bu);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=P("button"),l&&l.c(),ue(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[$e(t[2].action(e)),ee(e,"m-blur",t[4]),ee(e,"m-focus",t[4]),ee(e,"m-keydown",t[4]),ee(e,"m-pointerdown",t[4]),ee(e,"m-pointerenter",t[4]),ee(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&_e(l,r,u,u[8],n?he(r,u[8],f,mb):ge(u[8]),bu),ue(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,qe(i)}}}function _b(t){let e;const n=t[9].default,o=pe(n,t,t[8],vu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&_e(o,n,i,i[8],e?he(n,i[8],r,pb):ge(i[8]),vu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function gb(t){let e,n,o,i;const r=[_b,hb],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function bb(t,e,n){let o;const i=["asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:m,getAttrs:h}=rs();fe(t,d,k=>n(7,l=k));const _=Kn(),y=h("trigger");function w(k){Me[k?"unshift":"push"](()=>{c=k,n(0,c)})}return t.$$set=k=>{e=Z(Z({},e),Re(k)),n(5,r=se(e,i)),"asChild"in k&&n(1,u=k.asChild),"id"in k&&n(6,f=k.id),"el"in k&&n(0,c=k.el),"$$scope"in k&&n(8,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&m.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,y)},[c,u,o,d,_,r,f,l,s,a,w]}class vb extends ye{constructor(e){super(),ve(this,e,bb,gb,ce,{asChild:1,id:6,el:0})}}function yb(t){let e;const n=t[5].default,o=pe(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&_e(o,n,i,i[8],e?he(n,i[8],r,null):ge(i[8]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function wb(t){let e,n;const o=[{builders:t[3]},{class:Fe(yo({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let i={$$slots:{default:[yb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new Y0({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&31?we(o,[l&8&&{builders:r[3]},l&7&&{class:Fe(yo({variant:r[1],size:r[2],className:r[0]}))},o[2],l&16&&it(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function kb(t,e,n){const o=["class","variant","size","builders"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(m){oe.call(this,t,m)}function d(m){oe.call(this,t,m)}return t.$$set=m=>{e=Z(Z({},e),Re(m)),n(4,i=se(e,o)),"class"in m&&n(0,a=m.class),"variant"in m&&n(1,s=m.variant),"size"in m&&n(2,u=m.size),"builders"in m&&n(3,f=m.builders),"$$scope"in m&&n(8,l=m.$$scope)},[a,s,u,f,i,r,c,d,l]}class Lt extends ye{constructor(e){super(),ve(this,e,kb,wb,ce,{class:0,variant:1,size:2,builders:3})}}var yu=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ct=t=>!t||typeof t!="object"||Object.keys(t).length===0,Cb=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function hd(t,e){t.forEach(function(n){Array.isArray(n)?hd(n,e):e.push(n)})}function _d(t){let e=[];return hd(t,e),e}var gd=(...t)=>_d(t).filter(Boolean),bd=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=bd(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=gd(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},wu=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),Ab={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},vd=t=>t||void 0,xo=(...t)=>vd(_d(t).filter(Boolean).join(" ")),ll=null,en={},Il=!1,$o=(...t)=>e=>e.twMerge?((!ll||Il)&&(Il=!1,ll=Ct(en)?jc:_p({...en,extend:{theme:en.theme,classGroups:en.classGroups,conflictingClassGroupModifiers:en.conflictingClassGroupModifiers,conflictingClassGroups:en.conflictingClassGroups,...en.extend}})),vd(ll(xo(t)))):xo(t),ku=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=xo(t[n],e[n]):t[n]=e[n];return t},Sb=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...Ab,...e},u=n!=null&&n.base?xo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!Ct(n.variants)?bd(i,n.variants):i,c=n!=null&&n.defaultVariants&&!Ct(n.defaultVariants)?{...n.defaultVariants,...a}:a;!Ct(s.twMergeConfig)&&!Cb(s.twMergeConfig,en)&&(Il=!0,en=s.twMergeConfig);let d=Ct(n==null?void 0:n.slots),m=Ct(o)?{}:{base:xo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},h=d?m:ku({...n==null?void 0:n.slots},Ct(m)?{base:t==null?void 0:t.base}:m),_=w=>{if(Ct(f)&&Ct(o)&&d)return $o(u,w==null?void 0:w.class,w==null?void 0:w.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let k=(g,M,O=[],W)=>{let F=O;if(typeof M=="string")F=F.concat(wu(M).split(" ").map(Q=>`${g}:${Q}`));else if(Array.isArray(M))F=F.concat(M.reduce((Q,te)=>Q.concat(`${g}:${te}`),[]));else if(typeof M=="object"&&typeof W=="string"){for(let Q in M)if(M.hasOwnProperty(Q)&&Q===W){let te=M[Q];if(te&&typeof te=="string"){let x=wu(te);F[W]?F[W]=F[W].concat(x.split(" ").map(K=>`${g}:${K}`)):F[W]=x.split(" ").map(K=>`${g}:${K}`)}else Array.isArray(te)&&te.length>0&&(F[W]=te.reduce((x,K)=>x.concat(`${g}:${K}`),[]))}}return F},A=(g,M=f,O=null,W=null)=>{var F;let Q=M[g];if(!Q||Ct(Q))return null;let te=(F=W==null?void 0:W[g])!=null?F:w==null?void 0:w[g];if(te===null)return null;let x=yu(te),K=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,z=c==null?void 0:c[g],ne=[];if(typeof x=="object"&&K)for(let[j,ie]of Object.entries(x)){let re=Q[ie];if(j==="initial"){z=ie;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(j)||(ne=k(j,re,ne,O))}let p=x!=null&&typeof x!="object"?x:yu(z),H=Q[p]||Q.false;return typeof ne=="object"&&typeof O=="string"&&ne[O]?ku(ne,H):ne.length>0?(ne.push(H),ne):H},D=()=>f?Object.keys(f).map(g=>A(g,f)):null,L=(g,M)=>{if(!f||typeof f!="object")return null;let O=new Array;for(let W in f){let F=A(W,f,g,M),Q=g==="base"&&typeof F=="string"?F:F&&F[g];Q&&(O[O.length]=Q)}return O},E={};for(let g in w)w[g]!==void 0&&(E[g]=w[g]);let B=(g,M)=>{var O;let W=typeof(w==null?void 0:w[g])=="object"?{[g]:(O=w[g])==null?void 0:O.initial}:{};return{...c,...E,...W,...M}},q=(g=[],M)=>{let O=[];for(let{class:W,className:F,...Q}of g){let te=!0;for(let[x,K]of Object.entries(Q)){let z=B(x,M);if(Array.isArray(K)){if(!K.includes(z[x])){te=!1;break}}else if(z[x]!==K){te=!1;break}}te&&(W&&O.push(W),F&&O.push(F))}return O},R=g=>{let M=q(r,g),O=q(n==null?void 0:n.compoundVariants,g);return gd(O,M)},U=g=>{let M=R(g);if(!Array.isArray(M))return M;let O={};for(let W of M)if(typeof W=="string"&&(O.base=$o(O.base,W)(s)),typeof W=="object")for(let[F,Q]of Object.entries(W))O[F]=$o(O[F],Q)(s);return O},v=g=>{if(l.length<1)return null;let M={};for(let{slots:O=[],class:W,className:F,...Q}of l){if(!Ct(Q)){let te=!0;for(let x of Object.keys(Q)){let K=B(x,g)[x];if(K===void 0||(Array.isArray(Q[x])?!Q[x].includes(K):Q[x]!==K)){te=!1;break}}if(!te)continue}for(let te of O)M[te]=M[te]||[],M[te].push([W,F])}return M};if(!Ct(o)||!d){let g={};if(typeof h=="object"&&!Ct(h))for(let M of Object.keys(h))g[M]=O=>{var W,F;return $o(h[M],L(M,O),((W=U(O))!=null?W:[])[M],((F=v(O))!=null?F:[])[M],O==null?void 0:O.class,O==null?void 0:O.className)(s)};return g}return $o(u,D(),R(),w==null?void 0:w.class,w==null?void 0:w.className)(s)},y=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return _.variantKeys=y(),_.extend=n,_.base=u,_.slots=h,_.variants=f,_.defaultVariants=c,_.compoundSlots=l,_.compoundVariants=r,_};const yo=Sb({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function Tb(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&_e(o,n,i,i[3],e?he(n,i[3],r,null):ge(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Ib(t){let e,n;const o=[{class:Fe("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[Tb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new _g({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Mb(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Yn extends ye{constructor(e){super(),ve(this,e,Mb,Ib,ce,{class:0})}}function Pb(t){let e;const n=t[1].default,o=pe(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&_e(o,n,i,i[2],e?he(n,i[2],r,null):ge(i[2]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Ob(t){let e,n;const o=[t[0]];let i={$$slots:{default:[Pb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new Og({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&1?we(o,[it(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Nb(t,e,n){const o=[];let i=se(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Z(Z({},e),Re(a)),n(0,i=se(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class Eb extends ye{constructor(e){super(),ve(this,e,Nb,Ob,ce,{})}}function Rb(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Z(a,l[s]);return{c(){e=P("div"),r&&r.c(),ue(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&_e(r,i,s,s[2],o?he(i,s[2],u,null):ge(s[2]),null),ue(e,a=we(l,[(!o||u&1&&n!==(n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function Db(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Po extends ye{constructor(e){super(),ve(this,e,Db,Rb,ce,{class:0})}}function Lb(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Z(a,l[s]);return{c(){e=P("div"),r&&r.c(),ue(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&_e(r,i,s,s[2],o?he(i,s[2],u,null):ge(s[2]),null),ue(e,a=we(l,[(!o||u&1&&n!==(n=Fe("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function Fb(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Xn extends ye{constructor(e){super(),ve(this,e,Fb,Lb,ce,{class:0})}}function yd(t,{delay:e=0,duration:n=400,easing:o=wr}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function qb(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new t1({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?we(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&it(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function $b(t,e,n){const o=["class","transition","transitionConfig"];let i=se(e,o),{class:r=void 0}=e,{transition:l=yd}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(3,i=se(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class jb extends ye{constructor(e){super(),ve(this,e,$b,qb,ce,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Au(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function sl(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=Z(o,n[i]);return{c(){e=kr(t[11]),Ui(e,o)},m(i,r){I(i,e,r)},p(i,r){Ui(e,o=we(n,[r&32&&i[12]]))},d(i){i&&T(e)}}}function Su(t){let e=t[11],n,o=t[11]&&sl(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),I(i,n,r)},p(i,r){i[11]?e?ce(e,i[11])?(o.d(1),o=sl(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=sl(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&T(n),o&&o.d(i)}}}function Bb(t){let e,n,o,i,r,l=Ye(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=Su(Au(t,l,d));const s=t[10].default,u=pe(s,t,t[9],null);let f=[Cu,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=Z(c,f[d]);return{c(){e=kr("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=De(),u&&u.c(),Ui(e,c)},m(d,m){I(d,e,m);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(e,null);b(e,n),u&&u.m(e,null),r=!0},p(d,[m]){if(m&32){l=Ye(d[5]);let h;for(h=0;h<l.length;h+=1){const _=Au(d,l,h);a[h]?a[h].p(_,m):(a[h]=Su(_),a[h].c(),a[h].m(e,n))}for(;h<a.length;h+=1)a[h].d(1);a.length=l.length}u&&u.p&&(!r||m&512)&&_e(u,s,d,d[9],r?he(s,d[9],m,null):ge(d[9]),null),Ui(e,c=we(f,[Cu,m&128&&d[7],(!r||m&4)&&{width:d[2]},(!r||m&4)&&{height:d[2]},(!r||m&2)&&{stroke:d[1]},(!r||m&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||m&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(C(u,d),r=!0)},o(d){S(u,d),r=!1},d(d){d&&T(e),gt(a,d),u&&u.d(d)}}}function Vb(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const m=(...h)=>h.filter((_,y,w)=>!!_&&w.indexOf(_)===y).join(" ");return t.$$set=h=>{n(8,e=Z(Z({},e),Re(h))),n(7,i=se(e,o)),"name"in h&&n(0,a=h.name),"color"in h&&n(1,s=h.color),"size"in h&&n(2,u=h.size),"strokeWidth"in h&&n(3,f=h.strokeWidth),"absoluteStrokeWidth"in h&&n(4,c=h.absoluteStrokeWidth),"iconNode"in h&&n(5,d=h.iconNode),"$$scope"in h&&n(9,l=h.$$scope)},e=Re(e),[a,s,u,f,c,d,m,i,e,l,r]}class Gb extends ye{constructor(e){super(),ve(this,e,Vb,Bb,ce,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function Hb(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&_e(o,n,i,i[3],e?he(n,i[3],r,null):ge(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Wb(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[Hb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new Gb({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[o[0],l&2&&it(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Kb(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=Z(Z({},e),Re(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=Re(e),[r,e,o,i]}class Ub extends ye{constructor(e){super(),ve(this,e,Kb,Wb,ce,{})}}function Yb(t){let e,n,o,i;return e=new Ub({props:{class:"h-4 w-4"}}),{c(){J(e.$$.fragment),n=G(),o=P("span"),o.textContent="Close",N(o,"class","sr-only")},m(r,l){Y(e,r,l),I(r,n,l),I(r,o,l),i=!0},p:Ae,i(r){i||(C(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),X(e,r)}}}function Xb(t){let e,n,o;const i=t[4].default,r=pe(i,t,t[5],null);return n=new Cg({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[Yb]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=G(),J(n.$$.fragment)},m(l,a){r&&r.m(l,a),I(l,e,a),Y(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&_e(r,i,l,l[5],o?he(i,l[5],a,null):ge(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(C(r,l),C(n.$$.fragment,l),o=!0)},o(l){S(r,l),S(n.$$.fragment,l),o=!1},d(l){l&&T(e),r&&r.d(l),X(n,l)}}}function Jb(t){let e,n,o,i;e=new jb({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let l={$$slots:{default:[Xb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Z(l,r[a]);return o=new Kg({props:l}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(a,s){Y(e,a,s),I(a,n,s),Y(o,a,s),i=!0},p(a,s){const u=s&15?we(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&it(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(C(e.$$.fragment,a),C(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),X(e,a),X(o,a)}}}function Zb(t){let e,n;return e=new Eb({props:{$$slots:{default:[Jb]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Qb(t,e,n){const o=["class","transition","transitionConfig"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=Tr}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=Z(Z({},e),Re(f)),n(3,i=se(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Jn extends ye{constructor(e){super(),ve(this,e,Qb,Zb,ce,{class:0,transition:1,transitionConfig:2})}}function xb(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&_e(o,n,i,i[3],e?he(n,i[3],r,null):ge(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function zb(t){let e,n;const o=[{class:Fe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[xb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new a1({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe("text-sm text-muted-foreground",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function ev(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Zn extends ye{constructor(e){super(),ve(this,e,ev,zb,ce,{class:0})}}const Qn=ug;function tv(t){let e,n,o,i,r=[{class:n=Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=Z(l,r[a]);return{c(){e=P("input"),ue(e,l)},m(a,s){I(a,e,s),e.autofocus&&e.focus(),zt(e,t[0]),o||(i=[ee(e,"input",t[17]),ee(e,"blur",t[3]),ee(e,"change",t[4]),ee(e,"click",t[5]),ee(e,"focus",t[6]),ee(e,"focusin",t[7]),ee(e,"focusout",t[8]),ee(e,"keydown",t[9]),ee(e,"keypress",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseover",t[12]),ee(e,"mouseenter",t[13]),ee(e,"mouseleave",t[14]),ee(e,"paste",t[15]),ee(e,"input",t[16])],o=!0)},p(a,[s]){ue(e,l=we(r,[s&2&&n!==(n=Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&zt(e,a[0])},i:Ae,o:Ae,d(a){a&&T(e),o=!1,qe(i)}}}function nv(t,e,n){const o=["class","value"];let i=se(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a(E){oe.call(this,t,E)}function s(E){oe.call(this,t,E)}function u(E){oe.call(this,t,E)}function f(E){oe.call(this,t,E)}function c(E){oe.call(this,t,E)}function d(E){oe.call(this,t,E)}function m(E){oe.call(this,t,E)}function h(E){oe.call(this,t,E)}function _(E){oe.call(this,t,E)}function y(E){oe.call(this,t,E)}function w(E){oe.call(this,t,E)}function k(E){oe.call(this,t,E)}function A(E){oe.call(this,t,E)}function D(E){oe.call(this,t,E)}function L(){l=this.value,n(0,l)}return t.$$set=E=>{e=Z(Z({},e),Re(E)),n(2,i=se(e,o)),"class"in E&&n(1,r=E.class),"value"in E&&n(0,l=E.value)},[l,r,i,a,s,u,f,c,d,m,h,_,y,w,k,A,D,L]}class ls extends ye{constructor(e){super(),ve(this,e,nv,tv,ce,{class:1,value:0})}}function ov(t){let e;const n=t[2].default,o=pe(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&_e(o,n,i,i[4],e?he(n,i[4],r,null):ge(i[4]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function iv(t){let e,n;const o=[{class:Fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[ov]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new _1({props:i}),e.$on("mousedown",t[3]),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&it(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function rv(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){oe.call(this,t,u)}return t.$$set=u=>{e=Z(Z({},e),Re(u)),n(1,i=se(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class fo extends ye{constructor(e){super(),ve(this,e,rv,iv,ce,{class:0})}}function lv(t){let e,n;const o=[{class:Fe("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new ig({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?we(o,[l&3&&{class:Fe("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&it(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function sv(t,e,n){const o=["class","orientation","decorative"];let i=se(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(3,i=se(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class _t extends ye{constructor(e){super(),ve(this,e,sv,lv,ce,{class:0,orientation:1,decorative:2})}}function av(t){let e;const n=t[3].default,o=pe(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&_e(o,n,i,i[4],e?he(n,i[4],r,null):ge(i[4]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function uv(t){let e,n;const o=[{class:Fe("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[av]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new G_({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&7?we(o,[l&1&&{class:Fe("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&it(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function fv(t,e,n){const o=["class","level"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=Z(Z({},e),Re(u)),n(2,i=se(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class ss extends ye{constructor(e){super(),ve(this,e,fv,uv,ce,{class:0,level:1})}}const cv=t=>({builder:t&64}),Tu=t=>({builder:t[6]});function dv(t){let e;const n=t[2].default,o=pe(n,t,t[5],Tu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&_e(o,n,i,i[5],e?he(n,i[5],r,cv):ge(i[5]),Tu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function mv(t){let e,n;const o=[{class:Fe(yo(),t[0])},t[1]];let i={$$slots:{default:[dv,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new J_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe(yo(),r[0])},l&2&&it(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function pv(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=Z(Z({},e),Re(f)),n(1,i=se(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class hv extends ye{constructor(e){super(),ve(this,e,pv,mv,ce,{class:0})}}const _v=t=>({builder:t&64}),Iu=t=>({builder:t[6]});function gv(t){let e;const n=t[2].default,o=pe(n,t,t[5],Iu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&_e(o,n,i,i[5],e?he(n,i[5],r,_v):ge(i[5]),Iu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function bv(t){let e,n;const o=[{class:Fe(yo({variant:"outline"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[gv,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new n0({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe(yo({variant:"outline"}),"mt-2 sm:mt-0",r[0])},l&2&&it(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function vv(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=Z(Z({},e),Re(f)),n(1,i=se(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class wd extends ye{constructor(e){super(),ve(this,e,vv,bv,ce,{class:0})}}function yv(t){let e;const n=t[1].default,o=pe(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&_e(o,n,i,i[2],e?he(n,i[2],r,null):ge(i[2]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function wv(t){let e,n;const o=[t[0]];let i={$$slots:{default:[yv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new u0({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&1?we(o,[it(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function kv(t,e,n){const o=[];let i=se(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Z(Z({},e),Re(a)),n(0,i=se(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class Cv extends ye{constructor(e){super(),ve(this,e,kv,wv,ce,{})}}function Av(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Z(a,l[s]);return{c(){e=P("div"),r&&r.c(),ue(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&_e(r,i,s,s[2],o?he(i,s[2],u,null):ge(s[2]),null),ue(e,a=we(l,[(!o||u&1&&n!==(n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function Sv(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class as extends ye{constructor(e){super(),ve(this,e,Sv,Av,ce,{class:0})}}function Tv(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Z(a,l[s]);return{c(){e=P("div"),r&&r.c(),ue(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&_e(r,i,s,s[2],o?he(i,s[2],u,null):ge(s[2]),null),ue(e,a=we(l,[(!o||u&1&&n!==(n=Fe("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function Iv(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class us extends ye{constructor(e){super(),ve(this,e,Iv,Tv,ce,{class:0})}}function Mv(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new D0({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?we(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&it(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Pv(t,e,n){const o=["class","transition","transitionConfig"];let i=se(e,o),{class:r=void 0}=e,{transition:l=yd}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(3,i=se(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class Ov extends ye{constructor(e){super(),ve(this,e,Pv,Mv,ce,{class:0,transition:1,transitionConfig:2})}}function Nv(t){let e;const n=t[4].default,o=pe(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&_e(o,n,i,i[5],e?he(n,i[5],r,null):ge(i[5]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Ev(t){let e,n,o,i;e=new Ov({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[Nv]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Z(l,r[a]);return o=new A0({props:l}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(a,s){Y(e,a,s),I(a,n,s),Y(o,a,s),i=!0},p(a,s){const u=s&15?we(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[2])},s&8&&it(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(C(e.$$.fragment,a),C(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),X(e,a),X(o,a)}}}function Rv(t){let e,n;return e=new Cv({props:{$$slots:{default:[Ev]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Dv(t,e,n){const o=["transition","transitionConfig","class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=Tr}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=Z(Z({},e),Re(f)),n(3,i=se(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class fs extends ye{constructor(e){super(),ve(this,e,Dv,Rv,ce,{transition:0,transitionConfig:1,class:2})}}function Lv(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&_e(o,n,i,i[3],e?he(n,i[3],r,null):ge(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Fv(t){let e,n;const o=[{class:Fe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Lv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new V0({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe("text-sm text-muted-foreground",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function qv(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class cs extends ye{constructor(e){super(),ve(this,e,qv,Fv,ce,{class:0})}}const ds=L_;function Mu(t,e,n){const o=t.slice();return o[25]=e[n],o}function Pu(t,e,n){const o=t.slice();return o[28]=e[n],o}function $v(t){let e;return{c(){e=V("Pause Menu")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function jv(t){let e;return{c(){e=V("Unpause any time by pressing 'P'")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Bv(t){let e,n,o,i;return e=new Yn({props:{$$slots:{default:[$v]},$$scope:{ctx:t}}}),o=new Zn({props:{$$slots:{default:[jv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),I(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Ou(t){let e,n,o,i,r,l=JSON.stringify(t[5].requirements[t[2].difficulty].population_count)+"",a,s,u=JSON.stringify(t[2].townInfo.population_count)+"",f,c,d,m,h=JSON.stringify(t[5].requirements[t[2].difficulty].happiness)+"",_,y,w=JSON.stringify(t[2].townInfo.happiness)+"",k,A,D,L,E=JSON.stringify(t[5].requirements[t[2].difficulty].employment*100)+"",B,q,R=JSON.stringify((t[2].townInfo.employees/t[2].townInfo.population_count||0)*100)+"",U,v,g,M,O,W=JSON.stringify(t[5].requirements[t[2].difficulty].health)+"",F,Q,te=JSON.stringify(t[2].townInfo.health)+"",x,K,z,ne,p=JSON.stringify(t[5].requirements[t[2].difficulty].knowledge)+"",H,j,ie=JSON.stringify(t[2].townInfo.knowledge_points)+"",re,ke,We;function Se(be,Ke){return be[2].townInfo.population_count>=be[5].requirements[be[2].difficulty].population_count?Gv:Vv}let tt=Se(t),me=tt(t);function Ne(be,Ke){return be[2].townInfo.happiness>=be[5].requirements[be[2].difficulty].happiness?Wv:Hv}let Ge=Ne(t),He=Ge(t);function Be(be,Ke){return be[2].townInfo.employees/be[2].townInfo.population_count>=be[5].requirements[be[2].difficulty].employment?Uv:Kv}let Ce=Be(t),Ie=Ce(t);function bt(be,Ke){return be[2].townInfo.health>=be[5].requirements[be[2].difficulty].health?Xv:Yv}let It=bt(t),dt=It(t);function $t(be,Ke){return be[2].townInfo.knowledge_points>=be[5].requirements[be[2].difficulty].knowledge?Zv:Jv}let Nt=$t(t),ft=Nt(t),ze=t[5].requirements[t[2].difficulty].required_plots!=null&&t[5].requirements[t[2].difficulty].required_plots.length>0&&Nu(t);return{c(){e=P("div"),e.textContent=`With your difficulty (${t[6]}), you must also have:`,n=G(),o=P("ul"),i=P("li"),me.c(),r=V(`
                  Population: `),a=V(l),s=V(" - Currently at "),f=V(u),c=G(),d=P("li"),He.c(),m=V(`
                  Happiness: `),_=V(h),y=V(" - Currently at "),k=V(w),A=G(),D=P("li"),Ie.c(),L=V(`
                  Employment: `),B=V(E),q=V("% - Currently at "),U=V(R),v=V("%"),g=G(),M=P("li"),dt.c(),O=V(`
                  Health: `),F=V(W),Q=V(" - Currently at "),x=V(te),K=G(),z=P("li"),ft.c(),ne=V(`
                  Knowledge: `),H=V(p),j=V(" - Currently at "),re=V(ie),ke=G(),ze&&ze.c(),We=De(),N(e,"class","leading-relaxed text-sm"),N(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(be,Ke){I(be,e,Ke),I(be,n,Ke),I(be,o,Ke),b(o,i),me.m(i,null),b(i,r),b(i,a),b(i,s),b(i,f),b(o,c),b(o,d),He.m(d,null),b(d,m),b(d,_),b(d,y),b(d,k),b(o,A),b(o,D),Ie.m(D,null),b(D,L),b(D,B),b(D,q),b(D,U),b(D,v),b(o,g),b(o,M),dt.m(M,null),b(M,O),b(M,F),b(M,Q),b(M,x),b(o,K),b(o,z),ft.m(z,null),b(z,ne),b(z,H),b(z,j),b(z,re),I(be,ke,Ke),ze&&ze.m(be,Ke),I(be,We,Ke)},p(be,Ke){tt!==(tt=Se(be))&&(me.d(1),me=tt(be),me&&(me.c(),me.m(i,r))),Ke[0]&4&&l!==(l=JSON.stringify(be[5].requirements[be[2].difficulty].population_count)+"")&&ae(a,l),Ke[0]&4&&u!==(u=JSON.stringify(be[2].townInfo.population_count)+"")&&ae(f,u),Ge!==(Ge=Ne(be))&&(He.d(1),He=Ge(be),He&&(He.c(),He.m(d,m))),Ke[0]&4&&h!==(h=JSON.stringify(be[5].requirements[be[2].difficulty].happiness)+"")&&ae(_,h),Ke[0]&4&&w!==(w=JSON.stringify(be[2].townInfo.happiness)+"")&&ae(k,w),Ce!==(Ce=Be(be))&&(Ie.d(1),Ie=Ce(be),Ie&&(Ie.c(),Ie.m(D,L))),Ke[0]&4&&E!==(E=JSON.stringify(be[5].requirements[be[2].difficulty].employment*100)+"")&&ae(B,E),Ke[0]&4&&R!==(R=JSON.stringify((be[2].townInfo.employees/be[2].townInfo.population_count||0)*100)+"")&&ae(U,R),It!==(It=bt(be))&&(dt.d(1),dt=It(be),dt&&(dt.c(),dt.m(M,O))),Ke[0]&4&&W!==(W=JSON.stringify(be[5].requirements[be[2].difficulty].health)+"")&&ae(F,W),Ke[0]&4&&te!==(te=JSON.stringify(be[2].townInfo.health)+"")&&ae(x,te),Nt!==(Nt=$t(be))&&(ft.d(1),ft=Nt(be),ft&&(ft.c(),ft.m(z,ne))),Ke[0]&4&&p!==(p=JSON.stringify(be[5].requirements[be[2].difficulty].knowledge)+"")&&ae(H,p),Ke[0]&4&&ie!==(ie=JSON.stringify(be[2].townInfo.knowledge_points)+"")&&ae(re,ie),be[5].requirements[be[2].difficulty].required_plots!=null&&be[5].requirements[be[2].difficulty].required_plots.length>0?ze?ze.p(be,Ke):(ze=Nu(be),ze.c(),ze.m(We.parentNode,We)):ze&&(ze.d(1),ze=null)},d(be){be&&(T(e),T(n),T(o),T(ke),T(We)),me.d(),He.d(),Ie.d(),dt.d(),ft.d(),ze&&ze.d(be)}}}function Vv(t){let e;return{c(){e=V("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Gv(t){let e;return{c(){e=V("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Hv(t){let e;return{c(){e=V("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Wv(t){let e;return{c(){e=V("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Kv(t){let e;return{c(){e=V("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Uv(t){let e;return{c(){e=V("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Yv(t){let e;return{c(){e=V("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Xv(t){let e;return{c(){e=V("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Jv(t){let e;return{c(){e=V("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Zv(t){let e;return{c(){e=V("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Nu(t){let e,n,o,i=Ye(t[5].requirements[t[2].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=Eu(Pu(t,i,l));return{c(){e=P("br"),n=V(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=De()},m(l,a){I(l,e,a),I(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);I(l,o,a)},p(l,a){if(a[0]&36){i=Ye(l[5].requirements[l[2].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=Pu(l,i,s);r[s]?r[s].p(u,a):(r[s]=Eu(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(T(e),T(n),T(o)),gt(r,l)}}}function Qv(t){let e;return{c(){e=V("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function xv(t){let e;return{c(){e=V("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Eu(t){let e,n,o,i,r=t[28]+"",l,a;function s(c,d){return d[0]&4&&(o=null),o==null&&(o=Qe(c[28],c[2]).length>0),o?xv:Qv}let u=s(t,[-1,-1]),f=u(t);return{c(){e=P("div"),n=P("li"),f.c(),i=G(),l=V(r),a=G(),N(e,"class","text-sm")},m(c,d){I(c,e,d),b(e,n),f.m(n,null),b(n,i),b(n,l),b(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d[0]&4&&r!==(r=c[28]+"")&&ae(l,r)},d(c){c&&T(e),f.d()}}}function zv(t){let e;return{c(){e=V("Save game")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function ey(t){let e;return{c(){e=V("Save")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function ty(t){let e;return{c(){e=V("Upload game")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ru(t){let e,n;function o(){return t[19](t[25])}return e=new Lt({props:{class:"bg-blue-600 hover:bg-blue-700 mt-4",id:"collectPrize-"+t[25].id,$$slots:{default:[ny]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){J(e.$$.fragment)},m(i,r){Y(e,i,r),n=!0},p(i,r){t=i;const l={};r[0]&2&&(l.id="collectPrize-"+t[25].id),r[0]&2|r[1]&1&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function ny(t){let e,n=Lu(t[25].prize)+"",o,i;return{c(){e=V("Collect Prize: $"),o=V(n),i=V(" gold")},m(r,l){I(r,e,l),I(r,o,l),I(r,i,l)},p(r,l){l[0]&2&&n!==(n=Lu(r[25].prize)+"")&&ae(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function Du(t){let e,n,o,i,r,l,a=t[25].title+"",s,u,f,c=t[25].requirements+"",d,m,h,_=t[25].icon+"",y,w,k,A=t[25].description+"",D,L,E,B,q=t[8](t[25].id)+"",R,U,v,g=t[13](t[25].id)&&!t[9](t[25].id),M,O,W,F=g&&Ru(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("span"),r=P("div"),l=P("span"),s=V(a),u=G(),f=P("div"),d=V(c),m=G(),h=P("div"),y=V(_),w=G(),k=P("div"),D=V(A),L=G(),E=P("div"),B=V("✅ Completed on Day "),R=V(q),v=G(),F&&F.c(),M=G(),N(l,"class","font-semibold text-lg"),N(f,"class","font-thin text-white opacity-75 text-xs"),N(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),N(h,"class","text-sm flex-grow pr-1 break-inside-avoid "),N(i,"class","flex flex-row justify-between w-[100%]"),N(o,"class","min-w-32 flex"),N(k,"class","text-white opacity-75 text-sm font-light"),N(E,"class",U=(t[13](t[25].id)?"":"hidden")+" text-xs text-green-400"),N(n,"class","flex-col flex px-3 py-2 gap-0"),N(e,"class",O="flex flex-col gap-3 cursor-default rounded-md "+(t[13](t[25].id)?"bg-green-700":"bg-gray-500 opacity-35"))},m(Q,te){I(Q,e,te),b(e,n),b(n,o),b(o,i),b(i,r),b(r,l),b(l,s),b(r,u),b(r,f),b(f,d),b(i,m),b(i,h),b(h,y),b(n,w),b(n,k),b(k,D),b(n,L),b(n,E),b(E,B),b(E,R),b(n,v),F&&F.m(n,null),b(e,M),W=!0},p(Q,te){(!W||te[0]&2)&&a!==(a=Q[25].title+"")&&ae(s,a),(!W||te[0]&2)&&c!==(c=Q[25].requirements+"")&&ae(d,c),(!W||te[0]&2)&&_!==(_=Q[25].icon+"")&&ae(y,_),(!W||te[0]&2)&&A!==(A=Q[25].description+"")&&ae(D,A),(!W||te[0]&2)&&q!==(q=Q[8](Q[25].id)+"")&&ae(R,q),(!W||te[0]&2&&U!==(U=(Q[13](Q[25].id)?"":"hidden")+" text-xs text-green-400"))&&N(E,"class",U),te[0]&2&&(g=Q[13](Q[25].id)&&!Q[9](Q[25].id)),g?F?(F.p(Q,te),te[0]&2&&C(F,1)):(F=Ru(Q),F.c(),C(F,1),F.m(n,null)):F&&(Pe(),S(F,1,1,()=>{F=null}),Oe()),(!W||te[0]&2&&O!==(O="flex flex-col gap-3 cursor-default rounded-md "+(Q[13](Q[25].id)?"bg-green-700":"bg-gray-500 opacity-35")))&&N(e,"class",O)},i(Q){W||(C(F),W=!0)},o(Q){S(F),W=!1},d(Q){Q&&T(e),F&&F.d()}}}function oy(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,_,y,w,k,A,D,L,E,B,q,R,U,v,g,M,O,W,F,Q,te,x,K,z,ne,p,H,j,ie,re;e=new Xn({props:{$$slots:{default:[Bv]},$$scope:{ctx:t}}});let ke=t[2].endGoal=="land"&&Ou(t);_=new fo({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[zv]},$$scope:{ctx:t}}}),w=new Lt({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[ey]},$$scope:{ctx:t}}}),w.$on("click",t[16]),A=new fo({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[ty]},$$scope:{ctx:t}}}),L=new ls({props:{class:"hidden",type:"file",id:"upload"}}),L.$on("change",t[12]),B=new _t({props:{orientation:"vertical"}});let We=Ye(t[1]),Se=[];for(let me=0;me<We.length;me+=1)Se[me]=Du(Mu(t,We,me));const tt=me=>S(Se[me],1,1,()=>{Se[me]=null});return{c(){J(e.$$.fragment),n=G(),o=P("div"),i=P("div"),r=P("div"),l=P("h4"),l.textContent="This game",a=G(),s=P("span"),s.textContent=`${t[5].description_title}`,u=G(),f=P("div"),ke&&ke.c(),c=G(),d=P("div"),m=P("div"),h=P("div"),J(_.$$.fragment),y=G(),J(w.$$.fragment),k=G(),J(A.$$.fragment),D=G(),J(L.$$.fragment),E=G(),J(B.$$.fragment),q=G(),R=P("div"),U=P("h4"),U.textContent=`Your achievement (${t[7].length}
          / ${et.length})`,v=G(),g=P("span"),g.textContent="Track your progress through games & complete challenges!",M=G(),O=P("br"),W=G(),F=P("div"),Q=P("input"),te=G(),x=P("label"),x.textContent="Show completed",K=G(),z=P("div"),ne=P("div");for(let me=0;me<Se.length;me+=1)Se[me].c();p=G(),H=P("span"),H.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,N(l,"class","underline underline-offset-4"),N(s,"class","text-sm text-gray-400"),N(f,"class","mt-6 gap-0 py-0 text-gray-400 text-sm"),N(r,"class","flex-col h-max"),N(h,"class","flex gap-10 justify-start min-w-[100%] w-[100%] items"),N(m,"class","flex flex-col gap-3 h-max"),N(i,"class","flex flex-col gap-6 justify-between"),N(U,"class","underline underline-offset-4"),N(g,"class","text-sm text-gray-400"),N(Q,"type","checkbox"),N(Q,"id","toggle-show-completed"),N(Q,"class","rounded"),N(Q,"tabindex","-1"),Q.checked=localStorage.getItem("showCompletedAchievements")==="true",N(x,"for","toggle-show-completed"),N(x,"class","text-xs text-gray-400 select-none ml-2 no-select cursor-pointer "),N(F,"class","flex items-center"),N(ne,"class","flex flex-col gap-4 overflow-scroll pb-20 scroll-smooth"),N(z,"class","overflow-scroll mt-2 h-[55vh]"),N(H,"class","text-sm text-yellow-400 italic"),N(o,"class","flex flex-row w-full gap-10")},m(me,Ne){Y(e,me,Ne),I(me,n,Ne),I(me,o,Ne),b(o,i),b(i,r),b(r,l),b(r,a),b(r,s),b(r,u),b(r,f),ke&&ke.m(f,null),b(i,c),b(i,d),b(d,m),b(m,h),Y(_,h,null),b(h,y),Y(w,h,null),b(h,k),Y(A,h,null),b(h,D),Y(L,h,null),b(o,E),Y(B,o,null),b(o,q),b(o,R),b(R,U),b(R,v),b(R,g),b(R,M),b(R,O),b(R,W),b(R,F),b(F,Q),b(F,te),b(F,x),b(R,K),b(R,z),b(z,ne);for(let Ge=0;Ge<Se.length;Ge+=1)Se[Ge]&&Se[Ge].m(ne,null);b(R,p),b(R,H),j=!0,ie||(re=[ee(Q,"change",t[17]),ee(Q,"keydown",t[18])],ie=!0)},p(me,Ne){const Ge={};Ne[1]&1&&(Ge.$$scope={dirty:Ne,ctx:me}),e.$set(Ge),me[2].endGoal=="land"?ke?ke.p(me,Ne):(ke=Ou(me),ke.c(),ke.m(f,null)):ke&&(ke.d(1),ke=null);const He={};Ne[1]&1&&(He.$$scope={dirty:Ne,ctx:me}),_.$set(He);const Be={};Ne[1]&1&&(Be.$$scope={dirty:Ne,ctx:me}),w.$set(Be);const Ce={};if(Ne[1]&1&&(Ce.$$scope={dirty:Ne,ctx:me}),A.$set(Ce),Ne[0]&9986){We=Ye(me[1]);let Ie;for(Ie=0;Ie<We.length;Ie+=1){const bt=Mu(me,We,Ie);Se[Ie]?(Se[Ie].p(bt,Ne),C(Se[Ie],1)):(Se[Ie]=Du(bt),Se[Ie].c(),C(Se[Ie],1),Se[Ie].m(ne,null))}for(Pe(),Ie=We.length;Ie<Se.length;Ie+=1)tt(Ie);Oe()}},i(me){if(!j){C(e.$$.fragment,me),C(_.$$.fragment,me),C(w.$$.fragment,me),C(A.$$.fragment,me),C(L.$$.fragment,me),C(B.$$.fragment,me);for(let Ne=0;Ne<We.length;Ne+=1)C(Se[Ne]);j=!0}},o(me){S(e.$$.fragment,me),S(_.$$.fragment,me),S(w.$$.fragment,me),S(A.$$.fragment,me),S(L.$$.fragment,me),S(B.$$.fragment,me),Se=Se.filter(Boolean);for(let Ne=0;Ne<Se.length;Ne+=1)S(Se[Ne]);j=!1},d(me){me&&(T(n),T(o)),X(e,me),ke&&ke.d(),X(_),X(w),X(A),X(L),X(B),gt(Se,me),ie=!1,qe(re)}}}function iy(t){let e,n;return e=new Jn({props:{class:" max-w-[90vw] max-h-[90vh] bg-foregroundDark text-foregroundText",$$slots:{default:[oy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function ry(t){var o;let e=((o=t[14]())==null?void 0:o.title)+"",n;return{c(){n=V(e)},m(i,r){I(i,n,r)},p:Ae,d(i){i&&T(n)}}}function ly(t){let e,n,o,i;return{c(){var r,l;e=P("div"),n=P("div"),n.textContent=`${(r=t[14]())==null?void 0:r.icon}`,o=G(),i=P("div"),i.textContent=`${(l=t[14]())==null?void 0:l.description}`,N(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),N(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),N(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(r,l){I(r,e,l),b(e,n),b(e,o),b(e,i)},p:Ae,d(r){r&&T(e)}}}function sy(t){let e,n,o,i;return e=new ss({props:{class:"text-center text-xl font-bold",$$slots:{default:[ry]},$$scope:{ctx:t}}}),o=new cs({props:{$$slots:{default:[ly]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),I(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function ay(t){let e;return{c(){e=V("Close to collect prize")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function uy(t){let e,n;return e=new wd({props:{$$slots:{default:[ay]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function fy(t){let e,n,o,i;return e=new us({props:{$$slots:{default:[sy]},$$scope:{ctx:t}}}),o=new as({props:{$$slots:{default:[uy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),I(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&16|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function cy(t){let e,n;return e=new fs({props:{$$slots:{default:[fy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i[0]&16|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function dy(t){let e,n,o,i,r;function l(s){t[20](s)}let a={$$slots:{default:[iy]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),e=new Qn({props:a}),Me.push(()=>Mn(e,"open",l)),i=new ds({props:{open:t[4],$$slots:{default:[cy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),o=G(),J(i.$$.fragment)},m(s,u){Y(e,s,u),I(s,o,u),Y(i,s,u),r=!0},p(s,u){const f={};u[0]&6|u[1]&1&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&8&&(n=!0,f.open=s[3],In(()=>n=!1)),e.$set(f);const c={};u[0]&16&&(c.open=s[4]),u[0]&16|u[1]&1&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(C(e.$$.fragment,s),C(i.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(i.$$.fragment,s),r=!1},d(s){s&&T(o),X(e,s),X(i,s)}}}function Lu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function my(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function py(t,e,n){let o,i,r,l,a;fe(t,nn,v=>n(23,o=v)),fe(t,Le,v=>n(2,i=v)),fe(t,nr,v=>n(15,r=v)),fe(t,Pt,v=>n(3,l=v)),fe(t,er,v=>n(4,a=v));const u=pt[i.endGoal],f=Xl[i.difficulty]||0;et.sort((v,g)=>k(v.id)&&!k(g.id)?-1:!k(v.id)&&k(g.id)?1:0);const c=et.filter(v=>k(v.id));function d(v){const g=o.achievements.find(M=>M[0]==v);return g==null?0:`${g[1]} in ${g[2]}.`}function m(v){const g=o.achievements.find(M=>M[0]==v);return g==null?!1:g[3]}function h(v){const g=o.achievements.find(O=>O[0]==v);if(g==null)return;const M=et.find(O=>O.id==v);M!=null&&(Ee(Le,i.townInfo.gold+=M.prize,i),g[3]=!0,Ee(nn,o.achievements=o.achievements.map(O=>O[0]==v?g:O),o))}let _=et;function y(){const v=JSON.stringify(i),g=new Blob([v],{type:"text/plain"}),M=URL.createObjectURL(g),O=document.createElement("a");O.href=M,O.download=`${new Date().toISOString()}.json`,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(M)}function w(){const g=document.getElementById("upload").files;if(g==null)return;const M=g[0],O=new FileReader;O.onload=function(W){if(W.target==null)return;const F=W.target.result;if(typeof F=="string"){if(!my(F)){alert("Invalid game file");return}Jl(JSON.parse(F))}else alert("Invalid game file: is not String.")},O.readAsText(M)}function k(v){return o.achievements==null?!1:o.achievements.find(g=>g[0]==v)!=null}function A(){nr.update(v=>!v),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Ec.set("game"));function D(){const v=o.achievements[o.achievements.length-1];if(v!=null)return et.find(g=>g.id==v[0])}const L=()=>y(),E=()=>{A()},B=v=>{v.key==="p"&&Pt.set(!1)},q=v=>{h(v.id);const g=document.getElementById(`collectPrize-${v.id}`);g&&(g.style.display="none")};function R(v){l=v,Pt.set(l)}const U=()=>{Ee(er,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&32774&&i)if(r)n(1,_=et);else{n(1,_=[]);for(let v=0;v<et.length;v++)(!k(et[v].id)||!m(et[v].id))&&_.push(et[v])}},[A,_,i,l,a,u,f,c,d,m,h,y,w,k,D,r,L,E,B,q,R,U]}class hy extends ye{constructor(e){super(),ve(this,e,py,dy,ce,{toggleShowCompleted:0},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[0]}}function _y(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function gy(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=V(e)},m(o,i){I(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&ae(n,e)},d(o){o&&T(n)}}}function by(t){let e;return{c(){e=V("Keep playin'")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function vy(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new Lt({props:{class:"bg-accent",$$slots:{default:[by]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=P("span"),o=V(n),i=G(),r=P("br"),l=G(),a=P("br"),s=G(),J(u.$$.fragment),N(e,"class","text-gray-500 text-sm")},m(c,d){I(c,e,d),b(e,o),I(c,i,d),I(c,r,d),I(c,l,d),I(c,a,d),I(c,s,d),Y(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&ae(o,n);const m={};d&16&&(m.$$scope={dirty:d,ctx:c}),u.$set(m)},i(c){f||(C(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(i),T(r),T(l),T(a),T(s)),X(u,c)}}}function yy(t){let e,n,o,i;return e=new Yn({props:{$$slots:{default:[gy]},$$scope:{ctx:t}}}),o=new Zn({props:{$$slots:{default:[vy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),I(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function wy(t){let e;return{c(){e=P("span"),e.textContent="Reset the game by pressing SHIFT+ESC",N(e,"class","text-gray-500 text-sm")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function ky(t){let e,n,o,i;return e=new Xn({props:{$$slots:{default:[yy]},$$scope:{ctx:t}}}),o=new Po({props:{$$slots:{default:[wy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),I(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Cy(t){let e,n;return e=new Jn({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[ky]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Ay(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Cy]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new Qn({props:r}),Me.push(()=>Mn(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){Y(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],In(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function Sy(t,e,n){let o;fe(t,Le,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,Le.set(a),n(1,i=!1),Pt.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class Ty extends ye{constructor(e){super(),ve(this,e,Sy,Ay,ce,{})}}function Iy(t){let e;return{c(){e=V("Welcome to Plots!")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function My(t){let e;return{c(){e=V("Select a map size (difficulty)")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Py(t){let e;return{c(){e=V("Select a game mode")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Oy(t){let e;return{c(){e=P("p"),e.textContent=`${pt.free_play.description_title}`,N(e,"class","text-gray-500 text-sm")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ny(t){let e;return{c(){e=P("p"),e.textContent=`${pt.land.description_title}`,N(e,"class","text-gray-500 text-sm")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ey(t){let e;return{c(){e=V("Town Name")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ry(t){let e;return{c(){e=V("Cheats")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Dy(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,_,y,w,k,A,D,L,E,B,q,R,U,v,g,M,O,W,F,Q;r=new fo({props:{for:"difficulty",class:"mt-2",$$slots:{default:[My]},$$scope:{ctx:t}}}),m=new fo({props:{for:"endGoal",class:"mt-2",$$slots:{default:[Py]},$$scope:{ctx:t}}});function te(z,ne){return z[0]==="land"?Ny:Oy}let x=te(t),K=x(t);return L=new fo({props:{for:"townName",class:"mt-2",$$slots:{default:[Ey]},$$scope:{ctx:t}}}),B=new ls({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),U=new fo({props:{for:"cheats",class:"mt-2",$$slots:{default:[Ry]},$$scope:{ctx:t}}}),{c(){e=P("a"),e.textContent="GitHub / Learn how to play",n=G(),o=P("div"),i=P("div"),J(r.$$.fragment),l=G(),a=P("select"),s=P("option"),s.textContent="Easy (quick game)",u=P("option"),u.textContent="Normal",f=P("option"),f.textContent="Hard (longest game)",c=G(),d=P("div"),J(m.$$.fragment),h=G(),K.c(),_=G(),y=P("select"),w=P("option"),w.textContent=`${pt.land.short_title}`,k=P("option"),k.textContent=`${pt.free_play.short_title}`,A=G(),D=P("div"),J(L.$$.fragment),E=G(),J(B.$$.fragment),q=G(),R=P("div"),J(U.$$.fragment),v=G(),g=P("select"),M=P("option"),M.textContent="No cheats",O=P("option"),O.textContent="Dev mode",N(e,"href","https://github.com/josephrcox/plots#how-to-play"),N(e,"class","text-blue-500 text-sm mb-4 hover:underline"),N(e,"target","_blank"),s.__value="0",zt(s,s.__value),u.__value="1",zt(u,u.__value),u.selected=!0,f.__value="2",zt(f,f.__value),N(a,"id","difficulty"),N(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"),w.__value="land",zt(w,w.__value),k.__value="free_play",zt(k,k.__value),N(y,"id","endGoal"),N(y,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),M.__value="false",zt(M,M.__value),M.selected=!0,O.__value="true",zt(O,O.__value),N(g,"id","cheats"),N(g,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),N(o,"class","flex flex-col justify-center gap-5 mt-4")},m(z,ne){I(z,e,ne),I(z,n,ne),I(z,o,ne),b(o,i),Y(r,i,null),b(i,l),b(i,a),b(a,s),b(a,u),b(a,f),b(o,c),b(o,d),Y(m,d,null),b(d,h),K.m(d,null),b(d,_),b(d,y),b(y,w),b(y,k),Ys(y,t[0]),b(o,A),b(o,D),Y(L,D,null),b(D,E),Y(B,D,null),b(o,q),b(o,R),Y(U,R,null),b(R,v),b(R,g),b(g,M),b(g,O),W=!0,F||(Q=ee(y,"change",t[4]),F=!0)},p(z,ne){const p={};ne&128&&(p.$$scope={dirty:ne,ctx:z}),r.$set(p);const H={};ne&128&&(H.$$scope={dirty:ne,ctx:z}),m.$set(H),x!==(x=te(z))&&(K.d(1),K=x(z),K&&(K.c(),K.m(d,_))),(!W||ne&1)&&Ys(y,z[0]);const j={};ne&128&&(j.$$scope={dirty:ne,ctx:z}),L.$set(j);const ie={};ne&128&&(ie.$$scope={dirty:ne,ctx:z}),U.$set(ie)},i(z){W||(C(r.$$.fragment,z),C(m.$$.fragment,z),C(L.$$.fragment,z),C(B.$$.fragment,z),C(U.$$.fragment,z),W=!0)},o(z){S(r.$$.fragment,z),S(m.$$.fragment,z),S(L.$$.fragment,z),S(B.$$.fragment,z),S(U.$$.fragment,z),W=!1},d(z){z&&(T(e),T(n),T(o)),X(r),X(m),K.d(),X(L),X(B),X(U),F=!1,Q()}}}function Ly(t){let e,n,o,i;return e=new Yn({props:{$$slots:{default:[Iy]},$$scope:{ctx:t}}}),o=new Zn({props:{$$slots:{default:[Dy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),I(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&129&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Fy(t){let e;return{c(){e=V("Reset user")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function qy(t){let e,n,o=t[1].username+"",i,r,l,a,s,u,f,c,d;return a=new Lt({props:{$$slots:{default:[Fy]},$$scope:{ctx:t}}}),a.$on("click",Vy),{c(){e=P("div"),n=P("span"),i=V(o),r=G(),l=P("div"),J(a.$$.fragment),s=G(),u=P("button"),u.textContent="Start game",N(n,"class","italic opacity-30 text-xs py-2 text-start rounded h-full flex flex-col justify-center mr-10"),N(u,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"),N(e,"class","flex flex-row justify-between w-full px-1")},m(m,h){I(m,e,h),b(e,n),b(n,i),b(e,r),b(e,l),Y(a,l,null),b(l,s),b(l,u),f=!0,c||(d=[ee(n,"click",t[5]),ee(u,"click",t[3])],c=!0)},p(m,h){(!f||h&2)&&o!==(o=m[1].username+"")&&ae(i,o);const _={};h&128&&(_.$$scope={dirty:h,ctx:m}),a.$set(_)},i(m){f||(C(a.$$.fragment,m),f=!0)},o(m){S(a.$$.fragment,m),f=!1},d(m){m&&T(e),X(a),c=!1,qe(d)}}}function $y(t){let e,n,o,i;return e=new Xn({props:{$$slots:{default:[Ly]},$$scope:{ctx:t}}}),o=new Po({props:{$$slots:{default:[qy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),I(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&129&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&130&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function jy(t){let e,n;return e=new Jn({props:{transition:Tr,class:"bg-foregroundDark text-foregroundText",$$slots:{default:[$y]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&131&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function By(t){let e,n,o;function i(l){t[6](l)}let r={$$slots:{default:[jy]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new Qn({props:r}),Me.push(()=>Mn(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){Y(e,l,a),o=!0},p(l,[a]){const s={};a&131&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,In(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function Vy(){alert("Deleted :)"),localStorage.clear(),window.location.href=""}function Gy(t,e,n){let o,i;fe(t,nn,f=>n(1,o=f)),fe(t,Uo,f=>n(2,i=f)),Pt.set(!1);function r(){const f=document.getElementById("difficulty").value,c=document.getElementById("endGoal").value,d=document.getElementById("townName").value,m=document.getElementById("cheats").value=="true";Em(f,c,d,m)}let l="free_play";const a=f=>{n(0,l=f.target.value)};function s(){const f=prompt("Enter new username");let c=o;c.username=f,Fm(c)}function u(f){t.$$.not_equal(i.visible,f)&&(i.visible=f,Uo.set(i))}return[l,o,i,r,a,s,u]}class Hy extends ye{constructor(e){super(),ve(this,e,Gy,By,ce,{})}}function Wy(t){let e;return{c(){e=V("Scoreboard")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ky(t){let e=t[1].description_title+"",n;return{c(){n=V(e)},m(o,i){I(o,n,i)},p:Ae,d(o){o&&T(n)}}}function Uy(t){let e,n,o,i;return e=new Yn({props:{$$slots:{default:[Wy]},$$scope:{ctx:t}}}),o=new Zn({props:{$$slots:{default:[Ky]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),I(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Yy(t){let e;return{c(){e=V("footer")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Xy(t){let e,n,o,i;return e=new Xn({props:{$$slots:{default:[Uy]},$$scope:{ctx:t}}}),o=new Po({props:{$$slots:{default:[Yy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V(`
		hi
		`),J(o.$$.fragment)},m(r,l){Y(e,r,l),I(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Jy(t){let e,n;return e=new Jn({props:{$$slots:{default:[Xy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Zy(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Jy]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new Qn({props:r}),Me.push(()=>Mn(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){Y(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],In(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function Qy(t,e,n){let o,i;fe(t,Le,s=>n(2,o=s)),fe(t,Qs,s=>n(0,i=s));const l=pt[o.endGoal];Xl[o.difficulty];function a(s){i=s,Qs.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class xy extends ye{constructor(e){super(),ve(this,e,Qy,Zy,ce,{})}}function Gi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zy(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kd(t){let e,n,o;t.length!==2?(e=Gi,n=(a,s)=>Gi(t(a),s),o=(a,s)=>t(a)-s):(e=t===Gi||t===zy?t:ew,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function ew(){return 0}function tw(t){return t===null?NaN:+t}const nw=kd(Gi),ow=nw.right;kd(tw).center;const iw=Math.sqrt(50),rw=Math.sqrt(10),lw=Math.sqrt(2);function fr(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=iw?10:r>=rw?5:r>=lw?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?fr(t,e,n*2):[a,s,u]}function sw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?fr(e,t,n):fr(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function Ml(t,e,n){return e=+e,t=+t,n=+n,fr(t,e,n)[2]}function aw(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?Ml(e,t,n):Ml(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function uw(t){return t}var al=1,ul=2,Pl=3,Vo=4,Fu=1e-6;function fw(t){return"translate("+t+",0)"}function cw(t){return"translate(0,"+t+")"}function dw(t){return e=>+t(e)}function mw(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function pw(){return!this.__axis}function Cd(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===al||t===Vo?-1:1,f=t===Vo||t===ul?"x":"y",c=t===al||t===Pl?fw:cw;function d(m){var h=o??(e.ticks?e.ticks.apply(e,n):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,n):uw),y=Math.max(r,0)+a,w=e.range(),k=+w[0]+s,A=+w[w.length-1]+s,D=(e.bandwidth?mw:dw)(e.copy(),s),L=m.selection?m.selection():m,E=L.selectAll(".domain").data([null]),B=L.selectAll(".tick").data(h,e).order(),q=B.exit(),R=B.enter().append("g").attr("class","tick"),U=B.select("line"),v=B.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),B=B.merge(R),U=U.merge(R.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),v=v.merge(R.append("text").attr("fill","currentColor").attr(f,u*y).attr("dy",t===al?"0em":t===Pl?"0.71em":"0.32em")),m!==L&&(E=E.transition(m),B=B.transition(m),U=U.transition(m),v=v.transition(m),q=q.transition(m).attr("opacity",Fu).attr("transform",function(g){return isFinite(g=D(g))?c(g+s):this.getAttribute("transform")}),R.attr("opacity",Fu).attr("transform",function(g){var M=this.parentNode.__axis;return c((M&&isFinite(M=M(g))?M:D(g))+s)})),q.remove(),E.attr("d",t===Vo||t===ul?l?"M"+u*l+","+k+"H"+s+"V"+A+"H"+u*l:"M"+s+","+k+"V"+A:l?"M"+k+","+u*l+"V"+s+"H"+A+"V"+u*l:"M"+k+","+s+"H"+A),B.attr("opacity",1).attr("transform",function(g){return c(D(g)+s)}),U.attr(f+"2",u*r),v.attr(f,u*y).text(_),L.filter(pw).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ul?"start":t===Vo?"end":"middle"),L.each(function(){this.__axis=D})}return d.scale=function(m){return arguments.length?(e=m,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),d):n.slice()},d.tickValues=function(m){return arguments.length?(o=m==null?null:Array.from(m),d):o&&o.slice()},d.tickFormat=function(m){return arguments.length?(i=m,d):i},d.tickSize=function(m){return arguments.length?(r=l=+m,d):r},d.tickSizeInner=function(m){return arguments.length?(r=+m,d):r},d.tickSizeOuter=function(m){return arguments.length?(l=+m,d):l},d.tickPadding=function(m){return arguments.length?(a=+m,d):a},d.offset=function(m){return arguments.length?(s=+m,d):s},d}function hw(t){return Cd(Pl,t)}function _w(t){return Cd(Vo,t)}var gw={value:()=>{}};function Ad(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Hi(n)}function Hi(t){this._=t}function bw(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Hi.prototype=Ad.prototype={constructor:Hi,on:function(t,e){var n=this._,o=bw(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=vw(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=qu(n[i],t.name,e);else if(e==null)for(i in n)n[i]=qu(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Hi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function vw(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function qu(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=gw,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ol="http://www.w3.org/1999/xhtml";const $u={svg:"http://www.w3.org/2000/svg",xhtml:Ol,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),$u.hasOwnProperty(e)?{space:$u[e],local:t}:t}function yw(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ol&&e.documentElement.namespaceURI===Ol?e.createElement(t):e.createElementNS(n,t)}}function ww(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Sd(t){var e=Rr(t);return(e.local?ww:yw)(e)}function kw(){}function ms(t){return t==null?kw:function(){return this.querySelector(t)}}function Cw(t){typeof t!="function"&&(t=ms(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new Tt(o,this._parents)}function Aw(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Sw(){return[]}function Td(t){return t==null?Sw:function(){return this.querySelectorAll(t)}}function Tw(t){return function(){return Aw(t.apply(this,arguments))}}function Iw(t){typeof t=="function"?t=Tw(t):t=Td(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new Tt(o,i)}function Id(t){return function(){return this.matches(t)}}function Md(t){return function(e){return e.matches(t)}}var Mw=Array.prototype.find;function Pw(t){return function(){return Mw.call(this.children,t)}}function Ow(){return this.firstElementChild}function Nw(t){return this.select(t==null?Ow:Pw(typeof t=="function"?t:Md(t)))}var Ew=Array.prototype.filter;function Rw(){return Array.from(this.children)}function Dw(t){return function(){return Ew.call(this.children,t)}}function Lw(t){return this.selectAll(t==null?Rw:Dw(typeof t=="function"?t:Md(t)))}function Fw(t){typeof t!="function"&&(t=Id(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Tt(o,this._parents)}function Pd(t){return new Array(t.length)}function qw(){return new Tt(this._enter||this._groups.map(Pd),this._parents)}function cr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}cr.prototype={constructor:cr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function $w(t){return function(){return t}}function jw(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new cr(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function Bw(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),m;for(a=0;a<f;++a)(s=e[a])&&(d[a]=m=l.call(s,s.__data__,a,e)+"",u.has(m)?i[a]=s:u.set(m,s));for(a=0;a<c;++a)m=l.call(t,r[a],a,r)+"",(s=u.get(m))?(o[a]=s,s.__data__=r[a],u.delete(m)):n[a]=new cr(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function Vw(t){return t.__data__}function Gw(t,e){if(!arguments.length)return Array.from(this,Vw);var n=e?Bw:jw,o=this._parents,i=this._groups;typeof t!="function"&&(t=$w(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,m=Hw(t.call(f,f&&f.__data__,u,o)),h=m.length,_=a[u]=new Array(h),y=l[u]=new Array(h),w=s[u]=new Array(d);n(f,c,_,y,w,m,e);for(var k=0,A=0,D,L;k<h;++k)if(D=_[k]){for(k>=A&&(A=k+1);!(L=y[A])&&++A<h;);D._next=L||null}}return l=new Tt(l,o),l._enter=a,l._exit=s,l}function Hw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ww(){return new Tt(this._exit||this._groups.map(Pd),this._parents)}function Kw(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function Uw(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),m,h=0;h<c;++h)(m=u[h]||f[h])&&(d[h]=m);for(;s<i;++s)a[s]=n[s];return new Tt(a,this._parents)}function Yw(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function Xw(t){t||(t=Jw);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new Tt(i,this._parents).order()}function Jw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Zw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Qw(){return Array.from(this)}function xw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function zw(){let t=0;for(const e of this)++t;return t}function e2(){return!this.node()}function t2(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function n2(t){return function(){this.removeAttribute(t)}}function o2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function i2(t,e){return function(){this.setAttribute(t,e)}}function r2(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function l2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function s2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function a2(t,e){var n=Rr(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?o2:n2:typeof e=="function"?n.local?s2:l2:n.local?r2:i2)(n,e))}function Od(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function u2(t){return function(){this.style.removeProperty(t)}}function f2(t,e,n){return function(){this.style.setProperty(t,e,n)}}function c2(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function d2(t,e,n){return arguments.length>1?this.each((e==null?u2:typeof e=="function"?c2:f2)(t,e,n??"")):wo(this.node(),t)}function wo(t,e){return t.style.getPropertyValue(e)||Od(t).getComputedStyle(t,null).getPropertyValue(e)}function m2(t){return function(){delete this[t]}}function p2(t,e){return function(){this[t]=e}}function h2(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function _2(t,e){return arguments.length>1?this.each((e==null?m2:typeof e=="function"?h2:p2)(t,e)):this.node()[t]}function Nd(t){return t.trim().split(/^|\s+/)}function ps(t){return t.classList||new Ed(t)}function Ed(t){this._node=t,this._names=Nd(t.getAttribute("class")||"")}Ed.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Rd(t,e){for(var n=ps(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function Dd(t,e){for(var n=ps(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function g2(t){return function(){Rd(this,t)}}function b2(t){return function(){Dd(this,t)}}function v2(t,e){return function(){(e.apply(this,arguments)?Rd:Dd)(this,t)}}function y2(t,e){var n=Nd(t+"");if(arguments.length<2){for(var o=ps(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?v2:e?g2:b2)(n,e))}function w2(){this.textContent=""}function k2(t){return function(){this.textContent=t}}function C2(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function A2(t){return arguments.length?this.each(t==null?w2:(typeof t=="function"?C2:k2)(t)):this.node().textContent}function S2(){this.innerHTML=""}function T2(t){return function(){this.innerHTML=t}}function I2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function M2(t){return arguments.length?this.each(t==null?S2:(typeof t=="function"?I2:T2)(t)):this.node().innerHTML}function P2(){this.nextSibling&&this.parentNode.appendChild(this)}function O2(){return this.each(P2)}function N2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function E2(){return this.each(N2)}function R2(t){var e=typeof t=="function"?t:Sd(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function D2(){return null}function L2(t,e){var n=typeof t=="function"?t:Sd(t),o=e==null?D2:typeof e=="function"?e:ms(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function F2(){var t=this.parentNode;t&&t.removeChild(this)}function q2(){return this.each(F2)}function $2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function j2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function B2(t){return this.select(t?j2:$2)}function V2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function G2(t){return function(e){t.call(this,e,this.__data__)}}function H2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function W2(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function K2(t,e,n){return function(){var o=this.__on,i,r=G2(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function U2(t,e,n){var o=H2(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?K2:W2,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function Ld(t,e,n){var o=Od(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Y2(t,e){return function(){return Ld(this,t,e)}}function X2(t,e){return function(){return Ld(this,t,e.apply(this,arguments))}}function J2(t,e){return this.each((typeof e=="function"?X2:Y2)(t,e))}function*Z2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var Fd=[null];function Tt(t,e){this._groups=t,this._parents=e}function ri(){return new Tt([[document.documentElement]],Fd)}function Q2(){return this}Tt.prototype=ri.prototype={constructor:Tt,select:Cw,selectAll:Iw,selectChild:Nw,selectChildren:Lw,filter:Fw,data:Gw,enter:qw,exit:Ww,join:Kw,merge:Uw,selection:Q2,order:Yw,sort:Xw,call:Zw,nodes:Qw,node:xw,size:zw,empty:e2,each:t2,attr:a2,style:d2,property:_2,classed:y2,text:A2,html:M2,raise:O2,lower:E2,append:R2,insert:L2,remove:q2,clone:B2,datum:V2,on:U2,dispatch:J2,[Symbol.iterator]:Z2};function x2(t){return typeof t=="string"?new Tt([[document.querySelector(t)]],[document.documentElement]):new Tt([[t]],Fd)}function hs(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function qd(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function li(){}var zo=.7,dr=1/zo,_o="\\s*([+-]?\\d+)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",z2=/^#([0-9a-f]{3,8})$/,ek=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),tk=new RegExp(`^rgb\\(${Kt},${Kt},${Kt}\\)$`),nk=new RegExp(`^rgba\\(${_o},${_o},${_o},${ei}\\)$`),ok=new RegExp(`^rgba\\(${Kt},${Kt},${Kt},${ei}\\)$`),ik=new RegExp(`^hsl\\(${ei},${Kt},${Kt}\\)$`),rk=new RegExp(`^hsla\\(${ei},${Kt},${Kt},${ei}\\)$`),ju={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hs(li,Gn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Bu,formatHex:Bu,formatHex8:lk,formatHsl:sk,formatRgb:Vu,toString:Vu});function Bu(){return this.rgb().formatHex()}function lk(){return this.rgb().formatHex8()}function sk(){return $d(this).formatHsl()}function Vu(){return this.rgb().formatRgb()}function Gn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=z2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Gu(e):n===3?new wt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Di(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Di(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ek.exec(t))?new wt(e[1],e[2],e[3],1):(e=tk.exec(t))?new wt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=nk.exec(t))?Di(e[1],e[2],e[3],e[4]):(e=ok.exec(t))?Di(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ik.exec(t))?Ku(e[1],e[2]/100,e[3]/100,1):(e=rk.exec(t))?Ku(e[1],e[2]/100,e[3]/100,e[4]):ju.hasOwnProperty(t)?Gu(ju[t]):t==="transparent"?new wt(NaN,NaN,NaN,0):null}function Gu(t){return new wt(t>>16&255,t>>8&255,t&255,1)}function Di(t,e,n,o){return o<=0&&(t=e=n=NaN),new wt(t,e,n,o)}function ak(t){return t instanceof li||(t=Gn(t)),t?(t=t.rgb(),new wt(t.r,t.g,t.b,t.opacity)):new wt}function Nl(t,e,n,o){return arguments.length===1?ak(t):new wt(t,e,n,o??1)}function wt(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}hs(wt,Nl,qd(li,{brighter(t){return t=t==null?dr:Math.pow(dr,t),new wt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zo:Math.pow(zo,t),new wt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new wt(Fn(this.r),Fn(this.g),Fn(this.b),mr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Hu,formatHex:Hu,formatHex8:uk,formatRgb:Wu,toString:Wu}));function Hu(){return`#${Rn(this.r)}${Rn(this.g)}${Rn(this.b)}`}function uk(){return`#${Rn(this.r)}${Rn(this.g)}${Rn(this.b)}${Rn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Wu(){const t=mr(this.opacity);return`${t===1?"rgb(":"rgba("}${Fn(this.r)}, ${Fn(this.g)}, ${Fn(this.b)}${t===1?")":`, ${t})`}`}function mr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Rn(t){return t=Fn(t),(t<16?"0":"")+t.toString(16)}function Ku(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Rt(t,e,n,o)}function $d(t){if(t instanceof Rt)return new Rt(t.h,t.s,t.l,t.opacity);if(t instanceof li||(t=Gn(t)),!t)return new Rt;if(t instanceof Rt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new Rt(l,a,s,t.opacity)}function fk(t,e,n,o){return arguments.length===1?$d(t):new Rt(t,e,n,o??1)}function Rt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}hs(Rt,fk,qd(li,{brighter(t){return t=t==null?dr:Math.pow(dr,t),new Rt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zo:Math.pow(zo,t),new Rt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new wt(fl(t>=240?t-240:t+120,i,o),fl(t,i,o),fl(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new Rt(Uu(this.h),Li(this.s),Li(this.l),mr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=mr(this.opacity);return`${t===1?"hsl(":"hsla("}${Uu(this.h)}, ${Li(this.s)*100}%, ${Li(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Uu(t){return t=(t||0)%360,t<0?t+360:t}function Li(t){return Math.max(0,Math.min(1,t||0))}function fl(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const _s=t=>()=>t;function ck(t,e){return function(n){return t+n*e}}function dk(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function mk(t){return(t=+t)==1?jd:function(e,n){return n-e?dk(e,n,t):_s(isNaN(e)?n:e)}}function jd(t,e){var n=e-t;return n?ck(t,n):_s(isNaN(t)?e:t)}const pr=function t(e){var n=mk(e);function o(i,r){var l=n((i=Nl(i)).r,(r=Nl(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=jd(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function pk(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function hk(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _k(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=gs(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function gk(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function Et(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function bk(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=gs(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var El=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cl=new RegExp(El.source,"g");function vk(t){return function(){return t}}function yk(t){return function(e){return t(e)+""}}function Bd(t,e){var n=El.lastIndex=cl.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=El.exec(t))&&(i=cl.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Et(o,i)})),n=cl.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?yk(s[0].x):vk(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function gs(t,e){var n=typeof e,o;return e==null||n==="boolean"?_s(e):(n==="number"?Et:n==="string"?(o=Gn(e))?(e=o,pr):Bd:e instanceof Gn?pr:e instanceof Date?gk:hk(e)?pk:Array.isArray(e)?_k:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?bk:Et)(t,e)}function wk(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Yu=180/Math.PI,Rl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Vd(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*Yu,skewX:Math.atan(s)*Yu,scaleX:l,scaleY:a}}var Fi;function kk(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Rl:Vd(e.a,e.b,e.c,e.d,e.e,e.f)}function Ck(t){return t==null||(Fi||(Fi=document.createElementNS("http://www.w3.org/2000/svg","g")),Fi.setAttribute("transform",t),!(t=Fi.transform.baseVal.consolidate()))?Rl:(t=t.matrix,Vd(t.a,t.b,t.c,t.d,t.e,t.f))}function Gd(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,m,h){if(u!==c||f!==d){var _=m.push("translate(",null,e,null,n);h.push({i:_-4,x:Et(u,c)},{i:_-2,x:Et(f,d)})}else(c||d)&&m.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:Et(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:Et(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,m,h){if(u!==c||f!==d){var _=m.push(i(m)+"scale(",null,",",null,")");h.push({i:_-4,x:Et(u,c)},{i:_-2,x:Et(f,d)})}else(c!==1||d!==1)&&m.push(i(m)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(m){for(var h=-1,_=d.length,y;++h<_;)c[(y=d[h]).i]=y.x(m);return c.join("")}}}var Ak=Gd(kk,"px, ","px)","deg)"),Sk=Gd(Ck,", ",")",")"),ko=0,Go=0,jo=0,Hd=1e3,hr,Ho,_r=0,Hn=0,Dr=0,ti=typeof performance=="object"&&performance.now?performance:Date,Wd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function bs(){return Hn||(Wd(Tk),Hn=ti.now()+Dr)}function Tk(){Hn=0}function gr(){this._call=this._time=this._next=null}gr.prototype=Kd.prototype={constructor:gr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?bs():+n)+(e==null?0:+e),!this._next&&Ho!==this&&(Ho?Ho._next=this:hr=this,Ho=this),this._call=t,this._time=n,Dl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dl())}};function Kd(t,e,n){var o=new gr;return o.restart(t,e,n),o}function Ik(){bs(),++ko;for(var t=hr,e;t;)(e=Hn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ko}function Xu(){Hn=(_r=ti.now())+Dr,ko=Go=0;try{Ik()}finally{ko=0,Pk(),Hn=0}}function Mk(){var t=ti.now(),e=t-_r;e>Hd&&(Dr-=e,_r=t)}function Pk(){for(var t,e=hr,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:hr=n);Ho=t,Dl(o)}function Dl(t){if(!ko){Go&&(Go=clearTimeout(Go));var e=t-Hn;e>24?(t<1/0&&(Go=setTimeout(Xu,t-ti.now()-Dr)),jo&&(jo=clearInterval(jo))):(jo||(_r=ti.now(),jo=setInterval(Mk,Hd)),ko=1,Wd(Xu))}}function Ju(t,e,n){var o=new gr;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var Ok=Ad("start","end","cancel","interrupt"),Nk=[],Ud=0,Zu=1,Ll=2,Wi=3,Qu=4,Fl=5,Ki=6;function Lr(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;Ek(t,n,{name:e,index:o,group:i,on:Ok,tween:Nk,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Ud})}function vs(t,e){var n=qt(t,e);if(n.state>Ud)throw new Error("too late; already scheduled");return n}function Zt(t,e){var n=qt(t,e);if(n.state>Wi)throw new Error("too late; already running");return n}function qt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ek(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=Kd(r,0,n.time);function r(u){n.state=Zu,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,m;if(n.state!==Zu)return s();for(f in o)if(m=o[f],m.name===n.name){if(m.state===Wi)return Ju(l);m.state===Qu?(m.state=Ki,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete o[f]):+f<e&&(m.state=Ki,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete o[f])}if(Ju(function(){n.state===Wi&&(n.state=Qu,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Ll,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ll){for(n.state=Wi,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(m=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=m);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Fl,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===Fl&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=Ki,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function Rk(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>Ll&&o.state<Fl,o.state=Ki,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function Dk(t){return this.each(function(){Rk(this,t)})}function Lk(t,e){var n,o;return function(){var i=Zt(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function Fk(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=Zt(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function qk(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=qt(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?Lk:Fk)(n,t,e))}function ys(t,e,n){var o=t._id;return t.each(function(){var i=Zt(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return qt(i,o).value[e]}}function Yd(t,e){var n;return(typeof e=="number"?Et:e instanceof Gn?pr:(n=Gn(e))?(e=n,pr):Bd)(t,e)}function $k(t){return function(){this.removeAttribute(t)}}function jk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Bk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function Vk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function Gk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function Hk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function Wk(t,e){var n=Rr(t),o=n==="transform"?Sk:Yd;return this.attrTween(t,typeof e=="function"?(n.local?Hk:Gk)(n,o,ys(this,"attr."+t,e)):e==null?(n.local?jk:$k)(n):(n.local?Vk:Bk)(n,o,e))}function Kk(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Uk(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Yk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&Uk(t,r)),n}return i._value=e,i}function Xk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&Kk(t,r)),n}return i._value=e,i}function Jk(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=Rr(t);return this.tween(n,(o.local?Yk:Xk)(o,e))}function Zk(t,e){return function(){vs(this,t).delay=+e.apply(this,arguments)}}function Qk(t,e){return e=+e,function(){vs(this,t).delay=e}}function xk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Zk:Qk)(e,t)):qt(this.node(),e).delay}function zk(t,e){return function(){Zt(this,t).duration=+e.apply(this,arguments)}}function e5(t,e){return e=+e,function(){Zt(this,t).duration=e}}function t5(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?zk:e5)(e,t)):qt(this.node(),e).duration}function n5(t,e){if(typeof e!="function")throw new Error;return function(){Zt(this,t).ease=e}}function o5(t){var e=this._id;return arguments.length?this.each(n5(e,t)):qt(this.node(),e).ease}function i5(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Zt(this,t).ease=n}}function r5(t){if(typeof t!="function")throw new Error;return this.each(i5(this._id,t))}function l5(t){typeof t!="function"&&(t=Id(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new rn(o,this._parents,this._name,this._id)}function s5(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,m=0;m<f;++m)(d=s[m]||u[m])&&(c[m]=d);for(;a<o;++a)l[a]=e[a];return new rn(l,this._parents,this._name,this._id)}function a5(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function u5(t,e,n){var o,i,r=a5(e)?vs:Zt;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function f5(t,e){var n=this._id;return arguments.length<2?qt(this.node(),n).on.on(t):this.each(u5(n,t,e))}function c5(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function d5(){return this.on("end.remove",c5(this._id))}function m5(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ms(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Lr(u[d],e,n,d,u,qt(f,n)));return new rn(r,this._parents,e,n)}function p5(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Td(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),m,h=qt(f,n),_=0,y=d.length;_<y;++_)(m=d[_])&&Lr(m,e,n,_,d,h);r.push(d),l.push(f)}return new rn(r,l,e,n)}var h5=ri.prototype.constructor;function _5(){return new h5(this._groups,this._parents)}function g5(t,e){var n,o,i;return function(){var r=wo(this,t),l=(this.style.removeProperty(t),wo(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function Xd(t){return function(){this.style.removeProperty(t)}}function b5(t,e,n){var o,i=n+"",r;return function(){var l=wo(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function v5(t,e,n){var o,i,r;return function(){var l=wo(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),wo(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function y5(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=Zt(this,t),u=s.on,f=s.value[r]==null?a||(a=Xd(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function w5(t,e,n){var o=(t+="")=="transform"?Ak:Yd;return e==null?this.styleTween(t,g5(t,o)).on("end.style."+t,Xd(t)):typeof e=="function"?this.styleTween(t,v5(t,o,ys(this,"style."+t,e))).each(y5(this._id,t)):this.styleTween(t,b5(t,o,e),n).on("end.style."+t,null)}function k5(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function C5(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&k5(t,l,n)),o}return r._value=e,r}function A5(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,C5(t,e,n??""))}function S5(t){return function(){this.textContent=t}}function T5(t){return function(){var e=t(this);this.textContent=e??""}}function I5(t){return this.tween("text",typeof t=="function"?T5(ys(this,"text",t)):S5(t==null?"":t+""))}function M5(t){return function(e){this.textContent=t.call(this,e)}}function P5(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&M5(i)),e}return o._value=t,o}function O5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,P5(t))}function N5(){for(var t=this._name,e=this._id,n=Jd(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=qt(s,e);Lr(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new rn(o,this._parents,t,n)}function E5(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=Zt(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var R5=0;function rn(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function Jd(){return++R5}var xt=ri.prototype;rn.prototype={constructor:rn,select:m5,selectAll:p5,selectChild:xt.selectChild,selectChildren:xt.selectChildren,filter:l5,merge:s5,selection:_5,transition:N5,call:xt.call,nodes:xt.nodes,node:xt.node,size:xt.size,empty:xt.empty,each:xt.each,on:f5,attr:Wk,attrTween:Jk,style:w5,styleTween:A5,text:I5,textTween:O5,remove:d5,tween:qk,delay:xk,duration:t5,ease:o5,easeVarying:r5,end:E5,[Symbol.iterator]:xt[Symbol.iterator]};function D5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var L5={time:null,delay:0,duration:250,ease:D5};function F5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function q5(t){var e,n;t instanceof rn?(e=t._id,t=t._name):(e=Jd(),(n=L5).time=bs(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&Lr(s,t,e,u,l,n||F5(s,e));return new rn(o,this._parents,t,e)}ri.prototype.interrupt=Dk;ri.prototype.transition=q5;const ql=Math.PI,$l=2*ql,On=1e-6,$5=$l-On;function Zd(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function j5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Zd;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class B5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Zd:j5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>On)if(!(Math.abs(c*s-u*f)>On)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let m=o-l,h=i-a,_=s*s+u*u,y=m*m+h*h,w=Math.sqrt(_),k=Math.sqrt(d),A=r*Math.tan((ql-Math.acos((_+d-y)/(2*w*k)))/2),D=A/k,L=A/w;Math.abs(D-1)>On&&this._append`L${e+D*f},${n+D*c}`,this._append`A${r},${r},0,0,${+(c*m>f*h)},${this._x1=e+L*s},${this._y1=n+L*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>On||Math.abs(this._y1-f)>On)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%$l+$l),d>$5?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>On&&this._append`A${o},${o},0,${+(d>=ql)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function V5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function br(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function Co(t){return t=br(Math.abs(t)),t?t[1]:NaN}function G5(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function H5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var W5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vr(t){if(!(e=W5.exec(t)))throw new Error("invalid format: "+t);var e;return new ws({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}vr.prototype=ws.prototype;function ws(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ws.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function K5(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var Qd;function U5(t,e){var n=br(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(Qd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+br(t,Math.max(0,e+r-1))[0]}function xu(t,e){var n=br(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const zu={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:V5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>xu(t*100,e),r:xu,s:U5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ef(t){return t}var tf=Array.prototype.map,nf=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Y5(t){var e=t.grouping===void 0||t.thousands===void 0?ef:G5(tf.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?ef:H5(tf.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=vr(c);var d=c.fill,m=c.align,h=c.sign,_=c.symbol,y=c.zero,w=c.width,k=c.comma,A=c.precision,D=c.trim,L=c.type;L==="n"?(k=!0,L="g"):zu[L]||(A===void 0&&(A=12),D=!0,L="g"),(y||d==="0"&&m==="=")&&(y=!0,d="0",m="=");var E=_==="$"?n:_==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",B=_==="$"?o:/[%p]/.test(L)?l:"",q=zu[L],R=/[defgprs%]/.test(L);A=A===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function U(v){var g=E,M=B,O,W,F;if(L==="c")M=q(v)+M,v="";else{v=+v;var Q=v<0||1/v<0;if(v=isNaN(v)?s:q(Math.abs(v),A),D&&(v=K5(v)),Q&&+v==0&&h!=="+"&&(Q=!1),g=(Q?h==="("?h:a:h==="-"||h==="("?"":h)+g,M=(L==="s"?nf[8+Qd/3]:"")+M+(Q&&h==="("?")":""),R){for(O=-1,W=v.length;++O<W;)if(F=v.charCodeAt(O),48>F||F>57){M=(F===46?i+v.slice(O+1):v.slice(O))+M,v=v.slice(0,O);break}}}k&&!y&&(v=e(v,1/0));var te=g.length+v.length+M.length,x=te<w?new Array(w-te+1).join(d):"";switch(k&&y&&(v=e(x+v,x.length?w-M.length:1/0),x=""),m){case"<":v=g+v+M+x;break;case"=":v=g+x+v+M;break;case"^":v=x.slice(0,te=x.length>>1)+g+v+M+x.slice(te);break;default:v=x+g+v+M;break}return r(v)}return U.toString=function(){return c+""},U}function f(c,d){var m=u((c=vr(c),c.type="f",c)),h=Math.max(-8,Math.min(8,Math.floor(Co(d)/3)))*3,_=Math.pow(10,-h),y=nf[8+h/3];return function(w){return m(_*w)+y}}return{format:u,formatPrefix:f}}var qi,xd,zd;X5({thousands:",",grouping:[3],currency:["$",""]});function X5(t){return qi=Y5(t),xd=qi.format,zd=qi.formatPrefix,qi}function J5(t){return Math.max(0,-Co(Math.abs(t)))}function Z5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Co(e)/3)))*3-Co(Math.abs(t)))}function Q5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Co(e)-Co(t))+1}function x5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function z5(t){return function(){return t}}function e3(t){return+t}var of=[0,1];function co(t){return t}function jl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:z5(isNaN(e)?NaN:.5)}function t3(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function n3(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=jl(i,o),r=n(l,r)):(o=jl(o,i),r=n(r,l)),function(a){return r(o(a))}}function o3(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=jl(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=ow(t,a,1,o)-1;return r[s](i[s](a))}}function i3(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function r3(){var t=of,e=of,n=gs,o,i,r,l=co,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==co&&(l=t3(t[0],t[d-1])),a=d>2?o3:n3,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),Et)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,e3),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=wk,f()},c.clamp=function(d){return arguments.length?(l=d?!0:co,f()):l!==co},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,m){return o=d,i=m,f()}}function l3(){return r3()(co,co)}function s3(t,e,n,o){var i=aw(t,e,n),r;switch(o=vr(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=Z5(i,l))&&(o.precision=r),zd(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=Q5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=J5(i))&&(o.precision=r-(o.type==="%")*2);break}}return xd(o)}function a3(t){var e=t.domain;return t.ticks=function(n){var o=e();return sw(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return s3(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=Ml(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function Bl(){var t=l3();return t.copy=function(){return i3(t,Bl())},x5.apply(t,arguments),a3(t)}function ao(t){return function(){return t}}function u3(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new B5(e)}function f3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function em(t){this._context=t}em.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function c3(t){return new em(t)}function d3(t){return t[0]}function m3(t){return t[1]}function dl(t,e){var n=ao(!0),o=null,i=c3,r=null,l=u3(a);t=typeof t=="function"?t:t===void 0?d3:ao(t),e=typeof e=="function"?e:e===void 0?m3:ao(e);function a(s){var u,f=(s=f3(s)).length,c,d=!1,m;for(o==null&&(r=i(m=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(m)return r=null,m+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:ao(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:ao(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:ao(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function Wo(t,e,n){this.k=t,this.x=e,this.y=n}Wo.prototype={constructor:Wo,scale:function(t){return t===1?this:new Wo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Wo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Wo.prototype;function p3(t){let e;return{c(){e=kr("svg"),N(e,"id","line-chart")},m(n,o){I(n,e,o)},p:Ae,i:Ae,o:Ae,d(n){n&&T(e)}}}const rf=52;function h3(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;dl().x((h,_)=>r(_)).y(h=>l(h)),Cr(()=>{n(1,i=x2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=Bl().range([0,s]),l=Bl().range([u,0]),o.length&&f()});function f(){const h=o.length>rf?o.slice(-rf):o;c(h),d(h),m()}function c(h){i.selectAll(".line").remove();const _=dl().defined(w=>w>-5).x((w,k)=>r(k)).y(w=>l(w)),y=dl().defined(w=>w<0).x((w,k)=>r(k)).y(w=>l(w));i.append("path").datum(h).attr("class","line positive").attr("d",_).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(h).attr("class","line negative").attr("d",y).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(h){const _=Math.max(0,...h),y=Math.min(0,...h);r.domain([0,h.length-1]),l.domain([y,_]).nice()}function m(h){const _=hw(r).ticks(0),y=_w(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(_),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(y)}return t.$$set=h=>{"data"in h&&n(0,o=h.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class _3 extends ye{constructor(e){super(),ve(this,e,h3,p3,ce,{data:0})}}function g3(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=V("Manage your Knowledge ("),o=V(n),i=V(" pts)")},m(r,l){I(r,e,l),I(r,o,l),I(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&ae(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function b3(t){let e,n,o,i;return e=new Yn({props:{$$slots:{default:[g3]},$$scope:{ctx:t}}}),o=new Zn({}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),I(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&258&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function lf(t){let e,n,o=ff(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=P("br"),n=V(`
					(total value: $`),i=V(o),r=V(")")},m(l,a){I(l,e,a),I(l,n,a),I(l,i,a),I(l,r,a)},p(l,a){a&10&&o!==(o=ff(l[1].townInfo.knowledge_points*l[3])+"")&&ae(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function sf(t){let e;return{c(){e=P("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
					convert.`},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function af(t){let e,n,o;return n=new Lt({props:{variant:"default",$$slots:{default:[v3]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=P("div"),J(n.$$.fragment)},m(i,r){I(i,e,r),Y(n,e,null),o=!0},p(i,r){const l={};r&256&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(C(n.$$.fragment,i),o=!0)},o(i){S(n.$$.fragment,i),o=!1},d(i){i&&T(e),X(n)}}}function v3(t){let e;return{c(){e=V("Convert Knowledge to Gold")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function uf(t){let e;return{c(){e=P("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function y3(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,m,h,_,y,w,k,A,D,L;e=new Xn({props:{$$slots:{default:[b3]},$$scope:{ctx:t}}});let E=t[3]>0&&lf(t);_=new _3({props:{data:t[2]}});let B=t[3]<0&&sf(),q=t[1].hasBank&&t[3]>0&&af(t),R=t[1].hasBank===!1&&uf();return D=new Po({}),{c(){J(e.$$.fragment),n=G(),o=P("span"),o.textContent="Knowledge is power, unlock it!",i=G(),r=P("div"),l=P("div"),a=V("Market Rate: "),s=P("span"),f=V(u),c=V(" gold"),m=V(`
				per Knowledge Point
				`),E&&E.c(),h=G(),J(_.$$.fragment),y=G(),B&&B.c(),w=G(),q&&q.c(),k=G(),R&&R.c(),A=G(),J(D.$$.fragment),N(o,"class","italic"),N(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),N(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(U,v){Y(e,U,v),I(U,n,v),I(U,o,v),I(U,i,v),I(U,r,v),b(r,l),b(l,a),b(l,s),b(s,f),b(s,c),b(l,m),E&&E.m(l,null),b(r,h),Y(_,r,null),b(r,y),B&&B.m(r,null),b(r,w),q&&q.m(r,null),b(r,k),R&&R.m(r,null),I(U,A,v),Y(D,U,v),L=!0},p(U,v){const g={};v&258&&(g.$$scope={dirty:v,ctx:U}),e.$set(g),(!L||v&8)&&u!==(u=(U[3]??0)+"")&&ae(f,u),(!L||v&8&&d!==(d=U[3]<0?"text-red-500":"text-green-500"))&&N(s,"class",d),U[3]>0?E?E.p(U,v):(E=lf(U),E.c(),E.m(l,null)):E&&(E.d(1),E=null);const M={};v&4&&(M.data=U[2]),_.$set(M),U[3]<0?B||(B=sf(),B.c(),B.m(r,w)):B&&(B.d(1),B=null),U[1].hasBank&&U[3]>0?q?(q.p(U,v),v&10&&C(q,1)):(q=af(U),q.c(),C(q,1),q.m(r,k)):q&&(Pe(),S(q,1,1,()=>{q=null}),Oe()),U[1].hasBank===!1?R||(R=uf(),R.c(),R.m(r,null)):R&&(R.d(1),R=null)},i(U){L||(C(e.$$.fragment,U),C(_.$$.fragment,U),C(q),C(D.$$.fragment,U),L=!0)},o(U){S(e.$$.fragment,U),S(_.$$.fragment,U),S(q),S(D.$$.fragment,U),L=!1},d(U){U&&(T(n),T(o),T(i),T(r),T(A)),X(e,U),E&&E.d(),X(_),B&&B.d(),q&&q.d(),R&&R.d(),X(D,U)}}}function w3(t){let e,n;return e=new Jn({props:{transitionConfig:{duration:0},class:"bg-foreground text-foregroundText",$$slots:{default:[y3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&270&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function k3(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[w3]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new Qn({props:r}),Me.push(()=>Mn(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){Y(e,l,a),o=!0},p(l,[a]){const s={};a&270&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],In(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function ff(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function C3(t,e,n){let o,i;fe(t,Le,u=>n(1,o=u)),fe(t,zi,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,Le.set(u),localStorage.setItem(Ft,JSON.stringify(u))):alert("You need a bank to convert knowledge to gold.")}function s(u){i=u,zi.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class A3 extends ye{constructor(e){super(),ve(this,e,C3,k3,ce,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const S3=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:5e3,duration:180,effect:!0},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
        
         We don't really know what that means, but it seems to make people healthier. 
        `,cost:8e3,duration:200,effect:!0},{id:"goodbye_carrots",title:"Goodbye Carrots",description:`Scientist Jarrod M. collaborated with local carrot farms to enhance the recipe, aiming to increase consumers' height by 10%.

        Unfortunately, the experiment failed, and all the local carrot farms have gone out of business. 
        `,cost:8e3,duration:80,effect:!0},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.

        The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
        `,cost:3e3,duration:60,effect:!1},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab. 

        She hopes nobody will miss it. Your town now has some more money. 
        `,cost:15e3,duration:180,effect:!0},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes. 

        We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:!0},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach. 

        We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:!1},{id:"coffee_boost_tourism",title:"Speedy Brews",description:`Scientist Claudia A. has found that a specific blend of coffee can significantly increase productivity among town employees. 

        The catch? It only works on Mondays. But hey, starting the week with a turbo-charged workforce might just be the boost we needed. The town gets a bit of extra cash from the productivity, and a bit of tourism revenue from coffee tourism.
        `,cost:8e3,duration:100,effect:!0},{id:"bee_bonanza",title:"Buzzing with Possibilities",description:`Scientist Will B. thought that introducing genetically modified super bees to the local ecosystem could help with pollination.
        
        Unfortunately, these bees prefer coffee plants over all others, leading to all coffee bean farms forced to close.`,cost:5e3,duration:120,effect:!0},{id:"wheat_whirlwind",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather control experiment aimed at improving crop yields accidentally resulted in a series of mini-tornadoes sweeping through the town's wheat farms. The wheat is gone, but the townsfolk have never been more entertained.

        Local bakers mourn the loss of wheat while selling tickets to the wheat whirlwind tours. All wheat farms are now torn down, but happiness is up.`,cost:7e3,duration:150,effect:!0},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.

        Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:!0},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools. 

        This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:!0},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took the funding and applied the town for a grant to improve education.

        The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:4e4,duration:45,effect:!0},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress. 
		
		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:!0}];function cf(t,e,n){const o=t.slice();return o[17]=e[n],o}function T3(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=V("🎉 Experiment Completed: "),o=V(n)},m(i,r){I(i,e,r),I(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&ae(o,n)},d(i){i&&(T(e),T(o))}}}function I3(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=P("div"),o=V(n),N(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){I(i,e,r),b(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&ae(o,n)},d(i){i&&T(e)}}}function M3(t){let e,n,o,i;return e=new ss({props:{class:"text-center",$$slots:{default:[T3]},$$scope:{ctx:t}}}),o=new cs({props:{$$slots:{default:[I3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),I(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function P3(t){let e;return{c(){e=V("Thank the scientists")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function O3(t){let e,n;return e=new hv({props:{$$slots:{default:[P3]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function N3(t){let e,n,o,i;return e=new us({props:{$$slots:{default:[M3]},$$scope:{ctx:t}}}),o=new as({props:{$$slots:{default:[O3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),I(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048576&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function E3(t){let e,n;return e=new fs({props:{$$slots:{default:[N3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&1048578&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function R3(t){let e;return{c(){e=P("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function D3(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=P("span"),n=V("You have earned "),o=P("span"),r=V(i),l=V(" XP"),s=V(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),N(o,"class",a="italic "+(t[1].lab.xp<0?"text-textDanger1":"text-primaryText"))},m(u,f){I(u,e,f),b(e,n),b(e,o),b(o,r),b(o,l),b(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&ae(r,i),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-textDanger1":"text-primaryText"))&&N(o,"class",a)},d(u){u&&T(e)}}}function L3(t){let e,n,o,i;return e=new Yn({props:{$$slots:{default:[R3]},$$scope:{ctx:t}}}),o=new Zn({props:{$$slots:{default:[D3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),I(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&1048576&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function F3(t){let e;return{c(){e=V("No more experiments available")},m(n,o){I(n,e,o)},p:Ae,i:Ae,o:Ae,d(n){n&&T(e)}}}function q3(t){let e,n,o,i,r=Ye(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=mf(cf(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=P("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=G(),o=P("div");for(let s=0;s<l.length;s+=1)l[s].c();N(e,"class","select-none text-sm "),N(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){I(s,e,u),I(s,n,u),I(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=Ye(s[0]);let f;for(f=0;f<r.length;f+=1){const c=cf(s,r,f);l[f]?(l[f].p(c,u),C(l[f],1)):(l[f]=mf(c),l[f].c(),C(l[f],1),l[f].m(o,null))}for(Pe(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)C(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),gt(l,s)}}}function $3(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&pf(t);return{c(){e=V("Currently running an experiment... check back in "),o=V(n),i=V(` days.
      `),a&&a.c(),r=De()},m(s,u){I(s,e,u),I(s,o,u),I(s,i,u),a&&a.m(s,u),I(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&ae(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&C(a,1)):(a=pf(s),a.c(),C(a,1),a.m(r.parentNode,r)):a&&(Pe(),S(a,1,1,()=>{a=null}),Oe())},i(s){l||(C(a),l=!0)},o(s){S(a),l=!1},d(s){s&&(T(e),T(o),T(i),T(r)),a&&a.d(s)}}}function df(t){let e,n,o=t[17].id+"",i;return{c(){e=P("span"),n=V("// dev-"),i=V(o),N(e,"class","text-xs text-gray-400")},m(r,l){I(r,e,l),b(e,n),b(e,i)},p(r,l){l&1&&o!==(o=r[17].id+"")&&ae(i,o)},d(r){r&&T(e)}}}function j3(t){let e,n=hf(t[17].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&df(t);return{c(){e=V("$"),o=V(n),i=V(` gold

            `),l&&l.c(),r=G()},m(a,s){I(a,e,s),I(a,o,s),I(a,i,s),l&&l.m(a,s),I(a,r,s)},p(a,s){s&1&&n!==(n=hf(a[17].cost).split(".")[0]+"")&&ae(o,n),a[1].devMode===!0?l?l.p(a,s):(l=df(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(T(e),T(o),T(i),T(r)),l&&l.d(a)}}}function mf(t){let e,n;function o(){return t[11](t[17])}return e=new Lt({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[j3]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){J(e.$$.fragment)},m(i,r){Y(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&1048579&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function pf(t){let e,n;return e=new Lt({props:{variant:"outline",$$slots:{default:[B3]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function B3(t){let e;return{c(){e=V("Complete experiment (and face the impact)")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function V3(t){let e;return{c(){e=P("span"),e.textContent="Keep in mind that not all experiments yield positive results.",N(e,"class","italic text-left text-textDanger1")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function G3(t){let e,n,o,i,r,l,a,s,u,f,c;e=new Xn({props:{$$slots:{default:[L3]},$$scope:{ctx:t}}}),o=new _t({});const d=[$3,q3,F3],m=[];function h(_,y){return _[1].lab.active_experiment!==null?0:_[0].length>0?1:_[0].length===0?2:-1}return~(r=h(t))&&(l=m[r]=d[r](t)),s=new _t({props:{class:"mt-4"}}),f=new Po({props:{$$slots:{default:[V3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment),i=G(),l&&l.c(),a=G(),J(s.$$.fragment),u=G(),J(f.$$.fragment)},m(_,y){Y(e,_,y),I(_,n,y),Y(o,_,y),I(_,i,y),~r&&m[r].m(_,y),I(_,a,y),Y(s,_,y),I(_,u,y),Y(f,_,y),c=!0},p(_,y){const w={};y&1048578&&(w.$$scope={dirty:y,ctx:_}),e.$set(w);let k=r;r=h(_),r===k?~r&&m[r].p(_,y):(l&&(Pe(),S(m[k],1,1,()=>{m[k]=null}),Oe()),~r?(l=m[r],l?l.p(_,y):(l=m[r]=d[r](_),l.c()),C(l,1),l.m(a.parentNode,a)):l=null);const A={};y&1048576&&(A.$$scope={dirty:y,ctx:_}),f.$set(A)},i(_){c||(C(e.$$.fragment,_),C(o.$$.fragment,_),C(l),C(s.$$.fragment,_),C(f.$$.fragment,_),c=!0)},o(_){S(e.$$.fragment,_),S(o.$$.fragment,_),S(l),S(s.$$.fragment,_),S(f.$$.fragment,_),c=!1},d(_){_&&(T(n),T(i),T(a),T(u)),X(e,_),X(o,_),~r&&m[r].d(_),X(s,_),X(f,_)}}}function H3(t){let e,n;return e=new Jn({props:{class:"bg-foreground text-foregroundText",$$slots:{default:[G3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&1048579&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function W3(t){let e,n,o,i,r;e=new ds({props:{open:t[2],$$slots:{default:[E3]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[H3]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new Qn({props:a}),Me.push(()=>Mn(o,"open",l)),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(s,u){Y(e,s,u),I(s,n,u),Y(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&1048578&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&1048579&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],In(()=>i=!1)),o.$set(c)},i(s){r||(C(e.$$.fragment,s),C(o.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(o.$$.fragment,s),r=!1},d(s){s&&T(n),X(e,s),X(o,s)}}}function hf(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function K3(t,e,n){let o,i;fe(t,Le,A=>n(1,o=A)),fe(t,Bi,A=>n(3,i=A));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let A=[],D=S3.filter(L=>!o.lab.past_experiments.some(E=>E.id===L.id));for(let L=0;L<3;L++){let E=D[Math.floor(Math.random()*D.length)];E.cost=Math.floor(Math.random()*(E.cost*.35)+E.cost*.8),A.push(E)}return A=A.filter((L,E)=>A.indexOf(L)===E),A=A.filter(L=>L),n(8,u=!0),A}function c(A){if(o.townInfo.gold<A.cost){alert("You do not have enough gold to purchase this experiment.");return}Ee(Le,o.townInfo.gold-=A.cost,o),Ee(Le,o.lab.active_experiment=A,o),o.lab.past_experiments.push(A)}function d(){var A;switch(Ee(Bi,i=!1,i),n(2,s=!0),(A=o.lab.active_experiment)===null||A===void 0?void 0:A.id){case"sunshine":Ee(Le,o.modifiers.happiness=50,o);break;case"antibiotics":Ee(Le,o.modifiers.health=50,o);break;case"goodbye_carrots":h("carrot_farm");break;case"missing_treasure":Ee(Le,o.townInfo.gold+=Math.floor(Math.random()*o.lab.active_experiment.cost*2),o);break;case"tax_relief":Ee(Le,o.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*o.economyAndLaws.max_tax_rate,o);break;case"bee_bonanza":h("coffee_bean_farm");break;case"wheat_whirlwind":h("wheat_farm"),Ee(Le,o.townInfo.happiness*=1.5,o),Ee(Le,o.modifiers.happiness+=3,o);break;case"educational_eclipse":h("small_school"),h("large_school"),Ee(Le,o.townInfo.knowledge_points*=.8,o);break;case"education_grant":Ee(Le,o.townInfo.knowledge_points*=1.5,o),Ee(Le,o.townInfo.gold+=15e4,o);break;case"mindfulness_meditation_classes":o.modifiers.happiness*1.5;break}Ee(Le,o.lab.active_experiment.duration=-1,o)}function m(){let A=o;A.lab.xp+=Math.round(A.lab.active_experiment.cost*(Math.random()*2+.5)),A.lab.active_experiment=null,n(2,s=!1),Ee(Le,o=A,o)}function h(A){let D=Qe(A,o);for(let L=0;L<D.length;L++)xi(D[L].x,D[L].y,o)}const _=()=>{m()},y=()=>{d()},w=A=>{A.cost<o.townInfo.gold&&c(A)};function k(A){i=A,Bi.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,m,r,u,_,y,w,k]}class U3 extends ye{constructor(e){super(),ve(this,e,K3,W3,ce,{})}}function _f(t,e,n){const o=t.slice();return o[19]=e[n],o}function gf(t){let e,n=Ye({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=bf(_f(t,n,i));return{c(){e=P("div");for(let i=0;i<o.length;i+=1)o[i].c();N(e,"class","confetti-holder svelte-15ksp55"),hn(e,"rounded",t[9]),hn(e,"cone",t[10]),hn(e,"no-gravity",t[11]),hn(e,"reduced-motion",t[13])},m(i,r){I(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=Ye({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=_f(i,n,l);o[l]?o[l].p(a,r):(o[l]=bf(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&hn(e,"rounded",i[9]),r&1024&&hn(e,"cone",i[10]),r&2048&&hn(e,"no-gravity",i[11]),r&8192&&hn(e,"reduced-motion",i[13])},d(i){i&&T(e),gt(o,i)}}}function bf(t){let e;return{c(){e=P("div"),N(e,"class","confetti svelte-15ksp55"),Je(e,"--fall-distance",t[8]),Je(e,"--size",t[0]+"px"),Je(e,"--color",t[15]()),Je(e,"--skew",vt(-45,45)+"deg,"+vt(-45,45)+"deg"),Je(e,"--rotation-xyz",vt(-10,10)+", "+vt(-10,10)+", "+vt(-10,10)),Je(e,"--rotation-deg",vt(0,360)+"deg"),Je(e,"--translate-y-multiplier",vt(t[2][0],t[2][1])),Je(e,"--translate-x-multiplier",vt(t[1][0],t[1][1])),Je(e,"--scale",.1*vt(2,10)),Je(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),Je(e,"--transition-delay",vt(t[5][0],t[5][1])+"ms"),Je(e,"--transition-iteration-count",t[4]?"infinite":t[7]),Je(e,"--x-spread",1-t[12])},m(n,o){I(n,e,o)},p(n,o){o&256&&Je(e,"--fall-distance",n[8]),o&1&&Je(e,"--size",n[0]+"px"),o&4&&Je(e,"--translate-y-multiplier",vt(n[2][0],n[2][1])),o&2&&Je(e,"--translate-x-multiplier",vt(n[1][0],n[1][1])),o&24&&Je(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&Je(e,"--transition-delay",vt(n[5][0],n[5][1])+"ms"),o&144&&Je(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&Je(e,"--x-spread",1-n[12])},d(n){n&&T(e)}}}function Y3(t){let e,n=!t[14]&&gf(t);return{c(){n&&n.c(),e=De()},m(o,i){n&&n.m(o,i),I(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=gf(o),n.c(),n.m(e.parentNode,e))},i:Ae,o:Ae,d(o){o&&T(e),n&&n.d(o)}}}function vt(t,e){return Math.random()*(e-t)+t}function X3(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:h=!1}=e,{cone:_=!1}=e,{noGravity:y=!1}=e,{xSpread:w=.15}=e,{destroyOnComplete:k=!0}=e,{disableForReducedMotion:A=!1}=e,D=!1;Cr(()=>{!k||a||d=="infinite"||setTimeout(()=>n(14,D=!0),(l+s[1])*d)});function L(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(vt(u[0],u[1]))}, 75%, 50%)`}return t.$$set=E=>{"size"in E&&n(0,o=E.size),"x"in E&&n(1,i=E.x),"y"in E&&n(2,r=E.y),"duration"in E&&n(3,l=E.duration),"infinite"in E&&n(4,a=E.infinite),"delay"in E&&n(5,s=E.delay),"colorRange"in E&&n(16,u=E.colorRange),"colorArray"in E&&n(17,f=E.colorArray),"amount"in E&&n(6,c=E.amount),"iterationCount"in E&&n(7,d=E.iterationCount),"fallDistance"in E&&n(8,m=E.fallDistance),"rounded"in E&&n(9,h=E.rounded),"cone"in E&&n(10,_=E.cone),"noGravity"in E&&n(11,y=E.noGravity),"xSpread"in E&&n(12,w=E.xSpread),"destroyOnComplete"in E&&n(18,k=E.destroyOnComplete),"disableForReducedMotion"in E&&n(13,A=E.disableForReducedMotion)},[o,i,r,l,a,s,c,d,m,h,_,y,w,A,D,L,u,f,k]}class J3 extends ye{constructor(e){super(),ve(this,e,X3,Y3,ce,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function Z3(t){let e,n,o;return{c(){e=P("div"),N(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all"),N(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`)},m(i,r){I(i,e,r)},p(i,r){r&8&&n!==(n="h-full w-full flex-1 "+i[3]+" transition-all")&&N(e,"class",n),r&6&&o!==(o=`transform: translateX(-${100-100*(i[2]??0)/(i[1]??1)}%)`)&&N(e,"style",o)},d(i){i&&T(e)}}}function Q3(t){let e,n;const o=[{class:Fe("relative h-4 w-full overflow-hidden rounded-full bg-white",t[0])},t[4]];let i={$$slots:{default:[Z3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new S1({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&17?we(o,[l&1&&{class:Fe("relative h-4 w-full overflow-hidden rounded-full bg-white",r[0])},l&16&&it(r[4])]):{};l&46&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function x3(t,e,n){const o=["class","max","value","color"];let i=se(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-secondary"}=e;return t.$$set=u=>{e=Z(Z({},e),Re(u)),n(4,i=se(e,o)),"class"in u&&n(0,r=u.class),"max"in u&&n(1,l=u.max),"value"in u&&n(2,a=u.value),"color"in u&&n(3,s=u.color)},[r,l,a,s,i]}class ml extends ye{constructor(e){super(),ve(this,e,x3,Q3,ce,{class:0,max:1,value:2,color:3})}}function z3(t){let e;const n=t[5].default,o=pe(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&_e(o,n,i,i[6],e?he(n,i[6],r,null):ge(i[6]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function e4(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:Fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",t[0])},t[4]];let i={$$slots:{default:[z3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new db({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&31?we(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:Fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",r[0])},l&16&&it(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function t4(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=4}=e,{transition:u=Tr}=e,{transitionConfig:f={y:8,duration:150}}=e;return t.$$set=c=>{e=Z(Z({},e),Re(c)),n(4,i=se(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class si extends ye{constructor(e){super(),ve(this,e,t4,e4,ce,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const ai=Q1,ui=vb;function n4(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=P("span"),n=V("+$"),i=V(o),N(e,"class","text-textPrimary")},m(r,l){I(r,e,l),b(e,n),b(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&ae(i,o)},d(r){r&&T(e)}}}function o4(t){let e,n=t[0].economyAndLaws.weeklyProfit+"",o;return{c(){e=P("span"),o=V(n),N(e,"class","text-textDanger2")},m(i,r){I(i,e,r),b(e,o)},p(i,r){r&1&&n!==(n=i[0].economyAndLaws.weeklyProfit+"")&&ae(o,n)},d(i){i&&T(e)}}}function i4(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=P("span"),n=V("+$"),i=V(o),N(e,"class","text-textHappy")},m(r,l){I(r,e,l),b(e,n),b(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&ae(i,o)},d(r){r&&T(e)}}}function r4(t){let e=st(t[0].townInfo.employees/t[0].townInfo.population_count*100,0)+"",n,o,i=t[0].townInfo.employees+"",r,l,a=t[0].townInfo.population_count+"",s,u,f=t[0].townInfo.population_count-t[0].townInfo.employees+"",c,d;return{c(){n=V(e),o=V("% employment ("),r=V(i),l=V("/"),s=V(a),u=V(" - "),c=V(f),d=V(" unemployed)")},m(m,h){I(m,n,h),I(m,o,h),I(m,r,h),I(m,l,h),I(m,s,h),I(m,u,h),I(m,c,h),I(m,d,h)},p(m,h){h&1&&e!==(e=st(m[0].townInfo.employees/m[0].townInfo.population_count*100,0)+"")&&ae(n,e),h&1&&i!==(i=m[0].townInfo.employees+"")&&ae(r,i),h&1&&a!==(a=m[0].townInfo.population_count+"")&&ae(s,a),h&1&&f!==(f=m[0].townInfo.population_count-m[0].townInfo.employees+"")&&ae(c,f)},d(m){m&&(T(n),T(o),T(r),T(l),T(s),T(u),T(c),T(d))}}}function l4(t){let e;function n(r,l){return r[0].townInfo.population_count===0?a4:s4}let o=n(t),i=o(t);return{c(){i.c(),e=De()},m(r,l){i.m(r,l),I(r,e,l)},p(r,l){o!==(o=n(r))&&(i.d(1),i=o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i.d(r)}}}function s4(t){let e;return{c(){e=V("All citizens employed")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function a4(t){let e;return{c(){e=V("Nobody lives here , build some homes")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function u4(t){let e;return{c(){e=P("div"),e.textContent="Manage Knowledge"},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function f4(t){let e;return{c(){e=P("div"),e.textContent="City Management"},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function vf(t){let e;function n(r,l){if(r[0].lab.active_experiment.duration>0)return d4;if(r[0].lab.active_experiment.duration===0)return c4}let o=n(t),i=o&&o(t);return{c(){i&&i.c(),e=De()},m(r,l){i&&i.m(r,l),I(r,e,l)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i&&i.d(1),i=o&&o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i&&i.d(r)}}}function c4(t){let e;return{c(){e=P("span"),e.textContent="✅ DONE!",N(e,"class","animate-pulse ")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function d4(t){let e,n=t[0].lab.active_experiment.duration+"",o,i;return{c(){e=P("span"),o=V(n),i=V("d")},m(r,l){I(r,e,l),b(e,o),b(e,i)},p(r,l){l&1&&n!==(n=r[0].lab.active_experiment.duration+"")&&ae(o,n)},d(r){r&&T(e)}}}function m4(t){let e,n,o=t[0].lab.active_experiment!==null&&vf(t);return{c(){e=P("div"),n=V(`Manage Lab
            `),o&&o.c()},m(i,r){I(i,e,r),b(e,n),o&&o.m(e,null)},p(i,r){i[0].lab.active_experiment!==null?o?o.p(i,r):(o=vf(i),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(i){i&&T(e),o&&o.d()}}}function yf(t){let e,n,o,i;return o=new ai({props:{openDelay:400,closeDelay:0,$$slots:{default:[_4]},$$scope:{ctx:t}}}),{c(){e=P("div"),n=P("div"),J(o.$$.fragment),N(n,"class","flex flex-row justify-center text-xs bg-white rounded-t-2xl text-black py-2 whitespace-nowrap px-2 opacity-50"),N(e,"class","flex flex-col justify-center items-center ")},m(r,l){I(r,e,l),b(e,n),Y(o,n,null),i=!0},p(r,l){const a={};l&32769&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(C(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(e),X(o)}}}function p4(t){let e,n,o,i,r=Dt[t[0].currentTutorialStep-1].goldReward+"",l;return{c(){e=P("span"),n=V(`Last reward
                  `),o=P("div"),i=V("💰"),l=V(r),N(e,"class","w-full no-select opacity-70 whitespace-nowrap text-center")},m(a,s){I(a,e,s),b(e,n),b(e,o),b(o,i),b(o,l)},p(a,s){s&1&&r!==(r=Dt[a[0].currentTutorialStep-1].goldReward+"")&&ae(l,r)},d(a){a&&T(e)}}}function h4(t){let e,n=Dt[t[0].currentTutorialStep-1].message+"",o;return{c(){e=V("Last completed task: "),o=V(n)},m(i,r){I(i,e,r),I(i,o,r)},p(i,r){r&1&&n!==(n=Dt[i[0].currentTutorialStep-1].message+"")&&ae(o,n)},d(i){i&&(T(e),T(o))}}}function _4(t){let e,n,o,i;return e=new ui({props:{$$slots:{default:[p4]},$$scope:{ctx:t}}}),o=new si({props:{class:"bg-black text-white rounded-2xl",$$slots:{default:[h4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),I(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&32769&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&32769&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function wf(t){let e,n;return e=new J3({props:{y:[-.5,.5],x:[-.5,.5],duration:2e3}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function g4(t){let e=Dt[t[0].currentTutorialStep].message+"",n,o,i,r,l=Dt[t[0].currentTutorialStep].goldReward+"",a,s;return{c(){n=V(e),o=G(),i=P("span"),r=V("(💰"),a=V(l),s=V(")"),N(i,"class","opacity-40")},m(u,f){I(u,n,f),I(u,o,f),I(u,i,f),b(i,r),b(i,a),b(i,s)},p(u,f){f&1&&e!==(e=Dt[u[0].currentTutorialStep].message+"")&&ae(n,e),f&1&&l!==(l=Dt[u[0].currentTutorialStep].goldReward+"")&&ae(a,l)},d(u){u&&(T(n),T(o),T(i))}}}function b4(t){let e;return{c(){e=V("No more goals!")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function v4(t){let e,n,o,i,r,l,a,s,u,f,c=st(t[0].modifiers.happiness,2)+"",d,m,h,_,y,w,k,A,D=st(t[0].modifiers.health,2)+"",L,E,B,q,R,U,v,g,M=st(t[0].modifiers.community,2)+"",O,W,F,Q,te,x,K,z,ne,p,H=t[0].townInfo.name+"",j,ie,re,ke,We,Se=t[0].townInfo.population_count+"",tt,me,Ne=t[0].townInfo.population_max+"",Ge,He,Be,Ce,Ie,bt=wn(t[0].townInfo.gold,!1)+"",It,dt,$t,Nt,ft,ze,be,Ke,$,ks,Oo,Cs,Fr,As,an,un,Ss,fn,Ts,cn,Is,No,jt,qr,$r,xn,fi,Ms,Eo,ci,Ps,di,mi,dn,jr,Os,zn,eo,pi,Ns,hi,_i=t[0].environment.day%365+1+"",Br,Es,to,gi,Rs,bi,vi=Math.floor(t[0].environment.day/365)+1+"",Vr,Ds,mn,no,Ls,yi,Fs,oo,qs,wi,$s,io,js,ki,Ci,ot,Gr,Bs;a=new _t({props:{class:"bg-white"}}),_=new ml({props:{value:t[0].townInfo.happiness,max:300,class:"w-full h-2",color:parseInt(t[0].townInfo.happiness)>200?"bg-green-500":parseInt(t[0].townInfo.happiness)>100?"bg-yellow-500":"bg-red-500"}}),q=new ml({props:{value:t[0].townInfo.health,max:300,class:"w-full h-2",color:parseInt(t[0].townInfo.health)>200?"bg-green-500":parseInt(t[0].townInfo.health)>100?"bg-yellow-500":"bg-red-500"}}),Q=new ml({props:{value:t[0].townInfo.community,max:300,class:"w-full h-2",color:parseInt(t[0].townInfo.community)>200?"bg-green-500":parseInt(t[0].townInfo.community)>100?"bg-yellow-500":"bg-red-500"}});function Vs(de,Ve){return de[0].economyAndLaws.weeklyProfit>0?i4:de[0].economyAndLaws.weeklyProfit<0?o4:n4}let Ai=Vs(t),Bt=Ai(t);function Gs(de,Ve){return de[0].townInfo.employees==de[0].townInfo.population_count?l4:r4}let Si=Gs(t),Vt=Si(t);un=new Lt({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[u4]},$$scope:{ctx:t}}}),un.$on("click",t[10]),fn=new Lt({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[f4]},$$scope:{ctx:t}}}),fn.$on("click",t[11]),cn=new Lt({props:{class:"text-xs flex flex-col h-min p-1.5 "+(t[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35"),$$slots:{default:[m4]},$$scope:{ctx:t}}}),cn.$on("click",t[9]);let rt=t[0].currentTutorialStep!=0&&yf(t),at=t[6]&&wf();function Hs(de,Ve){return de[0].currentTutorialStep>=Dt.length?b4:g4}let Ti=Hs(t),Gt=Ti(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("span"),r=P("h2"),r.textContent="Stats",l=G(),J(a.$$.fragment),s=G(),u=P("span"),f=V("Happiness (x"),d=V(c),m=V(")"),h=G(),J(_.$$.fragment),y=G(),w=P("span"),k=P("span"),A=V("Health (x"),L=V(D),E=V(")"),B=G(),J(q.$$.fragment),R=G(),U=P("span"),v=P("span"),g=V("Community (x"),O=V(M),W=V(")"),F=G(),J(Q.$$.fragment),te=G(),x=P("div"),K=P("div"),z=P("div"),ne=P("div"),p=P("h1"),j=V(H),ie=G(),re=P("div"),ke=P("span"),We=V("👥 "),tt=V(Se),me=V(" / "),Ge=V(Ne),He=G(),Be=P("span"),Ce=P("span"),Ie=V("💰 "),It=V(bt),dt=G(),$t=P("span"),Nt=G(),Bt.c(),ft=G(),ze=P("span"),ze.textContent="(weekly)",be=G(),Ke=P("div"),Vt.c(),ks=G(),Oo=P("span"),Cs=V("Game time: "),Fr=V(t[1]),As=G(),an=P("div"),J(un.$$.fragment),Ss=G(),J(fn.$$.fragment),Ts=G(),J(cn.$$.fragment),Is=G(),No=P("div"),jt=P("div"),rt&&rt.c(),qr=G(),at&&at.c(),$r=G(),xn=P("div"),fi=P("div"),fi.textContent="👨‍🦰",Ms=G(),Eo=P("div"),Gt.c(),Ps=G(),di=P("div"),mi=P("div"),dn=P("div"),jr=P("div"),jr.innerHTML='<span class="text-xs text-secondary cursor-pointer">Press P to Pause</span>',Os=G(),zn=P("div"),eo=P("span"),pi=P("span"),pi.textContent="Day",Ns=G(),hi=P("span"),Br=V(_i),Es=G(),to=P("span"),gi=P("span"),gi.textContent="Year",Rs=G(),bi=P("span"),Vr=V(vi),Ds=G(),mn=P("div"),no=P("span"),Ls=V("Slow"),Fs=G(),oo=P("span"),qs=V("Normal"),$s=G(),io=P("span"),js=V("Fast"),N(r,"class","text-lg text-white"),N(u,"class","text-xs"),N(k,"class","text-xs"),N(v,"class","text-xs"),N(o,"class","flex flex-col w-36 h-full justify-center text-foregroundText bg-accent p-2 rounded-xl"),N(p,"class","font-bold cursor-pointer w-full pb-2 text-start select-none"),N(ne,"class","cursor-pointer transition-all duration=150 min-h-8"),N(ke,"class","text-sm"),N(Ce,"class","text-sm"),N($t,"class","pl-2"),N(ze,"class","text-gray-400"),N(Be,"class","text-xs"),N(re,"class","flex flex-row gap-4 flex-wrap items-center"),N(Ke,"class",$="text-xs pt-1 "+(t[0].townInfo.employees==t[0].townInfo.population_count?"text-textPrimary":t[0].townInfo.employees>t[0].townInfo.population_count*.95?"text-textDanger3":t[0].townInfo.employees>t[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")),N(Oo,"class","text-xs text-secondary cursor-pointer"),N(z,"class","flex flex-col justify-between"),N(K,"class","rounded-xl"),N(an,"class","flex flex-row gap-2 align-middle justify-center items-center "),N(x,"class","flex justify-between flex-col"),N(n,"class","flex flex-row gap-6 my-2 h-max"),N(fi,"class","text-lg h-max"),N(Eo,"class","text-xs ml-2 overflow-auto opacity-80"),N(xn,"class","gap flex-row items-center flex bg-white text-slate-800 py-1 px-2 rounded-xl w-full"),N(jt,"class","flex flex-col justify-center w-full align-middle items-center"),N(No,"class",ci="flex flex-row flex-wrap align-middle justify-center items-center w-64 "+(t[6]?"opacity-25 ":"")+" transition-all duration-700"),N(pi,"class","text-xs"),N(hi,"class","font-semibold text-xs"),N(eo,"class","flex flex-col gap-2 text-center"),N(gi,"class","text-xs"),N(bi,"class","font-semibold text-xs"),N(to,"class","flex flex-col gap-2 text-center"),N(zn,"class","rounded-xl bg-accent flex-row justify-between text-accentText w-36 h-14 flex px-6 items-center mb-2"),N(no,"class",yi=(t[2].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(oo,"class",wi=(t[2].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(io,"class",ki=(t[2].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(mn,"class","flex flex-row gap-2 align-middle justify-center items-center"),N(dn,"class","flex flex-col items-center h-max"),N(mi,"class","flex flex-col"),N(di,"class","flex justify-center align-middle flex-col"),N(e,"class",Ci="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(t[3].visible?"opacity-70":""))},m(de,Ve){I(de,e,Ve),b(e,n),b(n,o),b(o,i),b(i,r),b(i,l),Y(a,i,null),b(i,s),b(i,u),b(u,f),b(u,d),b(u,m),b(i,h),Y(_,i,null),b(o,y),b(o,w),b(w,k),b(k,A),b(k,L),b(k,E),b(w,B),Y(q,w,null),b(o,R),b(o,U),b(U,v),b(v,g),b(v,O),b(v,W),b(U,F),Y(Q,U,null),b(n,te),b(n,x),b(x,K),b(K,z),b(z,ne),b(ne,p),b(p,j),b(z,ie),b(z,re),b(re,ke),b(ke,We),b(ke,tt),b(ke,me),b(ke,Ge),b(re,He),b(re,Be),b(Be,Ce),b(Ce,Ie),b(Ce,It),b(Be,dt),b(Be,$t),b(Be,Nt),Bt.m(Be,null),b(Be,ft),b(Be,ze),b(z,be),b(z,Ke),Vt.m(Ke,null),b(z,ks),b(z,Oo),b(Oo,Cs),b(Oo,Fr),b(x,As),b(x,an),Y(un,an,null),b(an,Ss),Y(fn,an,null),b(an,Ts),Y(cn,an,null),b(e,Is),b(e,No),b(No,jt),rt&&rt.m(jt,null),b(jt,qr),at&&at.m(jt,null),b(jt,$r),b(jt,xn),b(xn,fi),b(xn,Ms),b(xn,Eo),Gt.m(Eo,null),b(e,Ps),b(e,di),b(di,mi),b(mi,dn),b(dn,jr),b(dn,Os),b(dn,zn),b(zn,eo),b(eo,pi),b(eo,Ns),b(eo,hi),b(hi,Br),b(zn,Es),b(zn,to),b(to,gi),b(to,Rs),b(to,bi),b(bi,Vr),b(dn,Ds),b(dn,mn),b(mn,no),b(no,Ls),b(mn,Fs),b(mn,oo),b(oo,qs),b(mn,$s),b(mn,io),b(io,js),ot=!0,Gr||(Bs=[ee(ne,"click",t[7]),ee(no,"click",t[12]),ee(oo,"click",t[13]),ee(io,"click",t[14])],Gr=!0)},p(de,[Ve]){(!ot||Ve&1)&&c!==(c=st(de[0].modifiers.happiness,2)+"")&&ae(d,c);const Hr={};Ve&1&&(Hr.value=de[0].townInfo.happiness),Ve&1&&(Hr.color=parseInt(de[0].townInfo.happiness)>200?"bg-green-500":parseInt(de[0].townInfo.happiness)>100?"bg-yellow-500":"bg-red-500"),_.$set(Hr),(!ot||Ve&1)&&D!==(D=st(de[0].modifiers.health,2)+"")&&ae(L,D);const Wr={};Ve&1&&(Wr.value=de[0].townInfo.health),Ve&1&&(Wr.color=parseInt(de[0].townInfo.health)>200?"bg-green-500":parseInt(de[0].townInfo.health)>100?"bg-yellow-500":"bg-red-500"),q.$set(Wr),(!ot||Ve&1)&&M!==(M=st(de[0].modifiers.community,2)+"")&&ae(O,M);const Kr={};Ve&1&&(Kr.value=de[0].townInfo.community),Ve&1&&(Kr.color=parseInt(de[0].townInfo.community)>200?"bg-green-500":parseInt(de[0].townInfo.community)>100?"bg-yellow-500":"bg-red-500"),Q.$set(Kr),(!ot||Ve&1)&&H!==(H=de[0].townInfo.name+"")&&ae(j,H),(!ot||Ve&1)&&Se!==(Se=de[0].townInfo.population_count+"")&&ae(tt,Se),(!ot||Ve&1)&&Ne!==(Ne=de[0].townInfo.population_max+"")&&ae(Ge,Ne),(!ot||Ve&1)&&bt!==(bt=wn(de[0].townInfo.gold,!1)+"")&&ae(It,bt),Ai===(Ai=Vs(de))&&Bt?Bt.p(de,Ve):(Bt.d(1),Bt=Ai(de),Bt&&(Bt.c(),Bt.m(Be,ft))),Si===(Si=Gs(de))&&Vt?Vt.p(de,Ve):(Vt.d(1),Vt=Si(de),Vt&&(Vt.c(),Vt.m(Ke,null))),(!ot||Ve&1&&$!==($="text-xs pt-1 "+(de[0].townInfo.employees==de[0].townInfo.population_count?"text-textPrimary":de[0].townInfo.employees>de[0].townInfo.population_count*.95?"text-textDanger3":de[0].townInfo.employees>de[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")))&&N(Ke,"class",$),(!ot||Ve&2)&&ae(Fr,de[1]);const Ws={};Ve&32768&&(Ws.$$scope={dirty:Ve,ctx:de}),un.$set(Ws);const Ks={};Ve&32768&&(Ks.$$scope={dirty:Ve,ctx:de}),fn.$set(Ks);const Ur={};Ve&1&&(Ur.class="text-xs flex flex-col h-min p-1.5 "+(de[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35")),Ve&32769&&(Ur.$$scope={dirty:Ve,ctx:de}),cn.$set(Ur),de[0].currentTutorialStep!=0?rt?(rt.p(de,Ve),Ve&1&&C(rt,1)):(rt=yf(de),rt.c(),C(rt,1),rt.m(jt,qr)):rt&&(Pe(),S(rt,1,1,()=>{rt=null}),Oe()),de[6]?at?Ve&64&&C(at,1):(at=wf(),at.c(),C(at,1),at.m(jt,$r)):at&&(Pe(),S(at,1,1,()=>{at=null}),Oe()),Ti===(Ti=Hs(de))&&Gt?Gt.p(de,Ve):(Gt.d(1),Gt=Ti(de),Gt&&(Gt.c(),Gt.m(Eo,null))),(!ot||Ve&64&&ci!==(ci="flex flex-row flex-wrap align-middle justify-center items-center w-64 "+(de[6]?"opacity-25 ":"")+" transition-all duration-700"))&&N(No,"class",ci),(!ot||Ve&1)&&_i!==(_i=de[0].environment.day%365+1+"")&&ae(Br,_i),(!ot||Ve&1)&&vi!==(vi=Math.floor(de[0].environment.day/365)+1+"")&&ae(Vr,vi),(!ot||Ve&4&&yi!==(yi=(de[2].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(no,"class",yi),(!ot||Ve&4&&wi!==(wi=(de[2].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(oo,"class",wi),(!ot||Ve&4&&ki!==(ki=(de[2].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(io,"class",ki),(!ot||Ve&8&&Ci!==(Ci="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(de[3].visible?"opacity-70":"")))&&N(e,"class",Ci)},i(de){ot||(C(a.$$.fragment,de),C(_.$$.fragment,de),C(q.$$.fragment,de),C(Q.$$.fragment,de),C(un.$$.fragment,de),C(fn.$$.fragment,de),C(cn.$$.fragment,de),C(rt),C(at),ot=!0)},o(de){S(a.$$.fragment,de),S(_.$$.fragment,de),S(q.$$.fragment,de),S(Q.$$.fragment,de),S(un.$$.fragment,de),S(fn.$$.fragment,de),S(cn.$$.fragment,de),S(rt),S(at),ot=!1},d(de){de&&T(e),X(a),X(_),X(q),X(Q),Bt.d(),Vt.d(),X(un),X(fn),X(cn),rt&&rt.d(),at&&at.d(),Gt.d(),Gr=!1,qe(Bs)}}}function y4(t,e,n){let o,i,r,l,a,s;fe(t,Le,k=>n(0,o=k)),fe(t,gl,k=>n(2,i=k)),fe(t,xe,k=>n(3,r=k)),fe(t,zi,k=>n(4,l=k)),fe(t,tr,k=>n(5,a=k)),fe(t,ji,k=>n(6,s=k)),Cr(()=>{const k=setInterval(()=>{Ee(Le,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(k)}});function u(){let k=prompt("Enter a new name for your town (under 200 chars)");if(k&&k.length<200&&k.length>=1){let A=o;A.townInfo.name=k,Le.set(A),localStorage.setItem(Ft,JSON.stringify(A))}}function f(k){return Ee(gl,i=k,i),document.querySelectorAll(".speedButton").forEach(D=>{D.classList.remove("active")}),i}function c(){o.hasLab&&Bi.set(!0)}let d="00:00:00";const m=function(){Ee(zi,l=!l,l)},h=function(){Ee(tr,a=!a,a)},_=()=>f(2e3),y=()=>f(750),w=()=>f(200);return t.$$.update=()=>{t.$$.dirty&1&&(o.timeSpent>0?n(1,d=bp(o.timeSpent)):n(1,d="00:00:00"))},[o,d,i,r,l,a,s,u,f,c,m,h,_,y,w]}class w4 extends ye{constructor(e){super(),ve(this,e,y4,v4,ce,{})}}function kf(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Cf(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Af(t){let e,n,o,i=le[Te(t[0].id)].title+"",r,l,a,s=le[Te(t[0].id)].description+"",u,f,c,d,m,h,_,y,w,k=t[3]("💰",le[Te(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",A,D,L=t[3]("🥕",le[Te(t[0].id)].requirements.resources.food,t[2].resources.food)+"",E,B,q=t[3]("🧠",le[Te(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",R,U,v=t[3]("🪵",le[Te(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",g,M,O=t[3]("🪨",le[Te(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",W,F,Q=t[3]("🧲",le[Te(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",te,x,K=t[3]("🔋",le[Te(t[0].id)].active_costs.power,t[2].resources.power)+"",z,ne,p=t[3]("🧑‍⚖️",le[Te(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",H,j=le[Te(t[0].id)].requirements.employees!=0,ie,re=le[Te(t[0].id)].revenue_per_week!=0,ke,We=Object.values(le[Te(t[0].id)].active_costs).some(Lf),Se,tt=Object.values(le[Te(t[0].id)].generated_resources).some(Df)||le[Te(t[0].id)].knowledge_points_per_month>0,me;d=new _t({props:{class:"bg-secondary opacity-25 mt-1 mb-1"}});let Ne=j&&Sf(t),Ge=re&&Tf(t),He=We&&If(t),Be=tt&&Of(t);return{c(){e=P("div"),n=P("div"),o=P("span"),r=V(i),l=G(),a=P("span"),u=V(s),f=G(),c=P("div"),J(d.$$.fragment),m=G(),h=P("span"),h.textContent="Requirements",_=G(),y=P("div"),w=new _n(!1),A=G(),D=new _n(!1),E=G(),B=new _n(!1),R=G(),U=new _n(!1),g=G(),M=new _n(!1),W=G(),F=new _n(!1),te=G(),x=new _n(!1),z=G(),ne=new _n(!1),H=G(),Ne&&Ne.c(),ie=G(),Ge&&Ge.c(),ke=G(),He&&He.c(),Se=G(),Be&&Be.c(),N(o,"class","text-md"),N(a,"class","text-xs"),N(n,"class","flex flex-col gap-2"),N(h,"class","font-semibold"),w.a=A,D.a=E,B.a=R,U.a=g,M.a=W,F.a=te,x.a=z,ne.a=H,N(y,"class","flex flex-col gap-1"),N(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),N(e,"class","p-2")},m(Ce,Ie){I(Ce,e,Ie),b(e,n),b(n,o),b(o,r),b(n,l),b(n,a),b(a,u),b(e,f),b(e,c),Y(d,c,null),b(c,m),b(c,h),b(c,_),b(c,y),w.m(k,y),b(y,A),D.m(L,y),b(y,E),B.m(q,y),b(y,R),U.m(v,y),b(y,g),M.m(O,y),b(y,W),F.m(Q,y),b(y,te),x.m(K,y),b(y,z),ne.m(p,y),b(y,H),Ne&&Ne.m(y,null),b(e,ie),Ge&&Ge.m(e,null),b(e,ke),He&&He.m(e,null),b(e,Se),Be&&Be.m(e,null),me=!0},p(Ce,Ie){(!me||Ie&1)&&i!==(i=le[Te(Ce[0].id)].title+"")&&ae(r,i),(!me||Ie&1)&&s!==(s=le[Te(Ce[0].id)].description+"")&&ae(u,s),(!me||Ie&5)&&k!==(k=Ce[3]("💰",le[Te(Ce[0].id)].requirements.gold,Ce[2].townInfo.gold)+"")&&w.p(k),(!me||Ie&5)&&L!==(L=Ce[3]("🥕",le[Te(Ce[0].id)].requirements.resources.food,Ce[2].resources.food)+"")&&D.p(L),(!me||Ie&5)&&q!==(q=Ce[3]("🧠",le[Te(Ce[0].id)].requirements.knowledge,Ce[2].townInfo.knowledge_points)+"")&&B.p(q),(!me||Ie&5)&&v!==(v=Ce[3]("🪵",le[Te(Ce[0].id)].requirements.resources.wood,Ce[2].resources.wood)+"")&&U.p(v),(!me||Ie&5)&&O!==(O=Ce[3]("🪨",le[Te(Ce[0].id)].requirements.resources.stone,Ce[2].resources.stone)+"")&&M.p(O),(!me||Ie&5)&&Q!==(Q=Ce[3]("🧲",le[Te(Ce[0].id)].requirements.resources.metal,Ce[2].resources.metal)+"")&&F.p(Q),(!me||Ie&5)&&K!==(K=Ce[3]("🔋",le[Te(Ce[0].id)].active_costs.power,Ce[2].resources.power)+"")&&x.p(K),(!me||Ie&5)&&p!==(p=Ce[3]("🧑‍⚖️",le[Te(Ce[0].id)].requirements.resources.bureaucracy,Ce[2].resources.bureaucracy)+"")&&ne.p(p),Ie&1&&(j=le[Te(Ce[0].id)].requirements.employees!=0),j?Ne?Ne.p(Ce,Ie):(Ne=Sf(Ce),Ne.c(),Ne.m(y,null)):Ne&&(Ne.d(1),Ne=null),Ie&1&&(re=le[Te(Ce[0].id)].revenue_per_week!=0),re?Ge?(Ge.p(Ce,Ie),Ie&1&&C(Ge,1)):(Ge=Tf(Ce),Ge.c(),C(Ge,1),Ge.m(e,ke)):Ge&&(Pe(),S(Ge,1,1,()=>{Ge=null}),Oe()),Ie&1&&(We=Object.values(le[Te(Ce[0].id)].active_costs).some(Lf)),We?He?(He.p(Ce,Ie),Ie&1&&C(He,1)):(He=If(Ce),He.c(),C(He,1),He.m(e,Se)):He&&(Pe(),S(He,1,1,()=>{He=null}),Oe()),Ie&1&&(tt=Object.values(le[Te(Ce[0].id)].generated_resources).some(Df)||le[Te(Ce[0].id)].knowledge_points_per_month>0),tt?Be?(Be.p(Ce,Ie),Ie&1&&C(Be,1)):(Be=Of(Ce),Be.c(),C(Be,1),Be.m(e,null)):Be&&(Pe(),S(Be,1,1,()=>{Be=null}),Oe())},i(Ce){me||(C(d.$$.fragment,Ce),C(Ge),C(He),C(Be),me=!0)},o(Ce){S(d.$$.fragment,Ce),S(Ge),S(He),S(Be),me=!1},d(Ce){Ce&&T(e),X(d),Ne&&Ne.d(),Ge&&Ge.d(),He&&He.d(),Be&&Be.d()}}}function Sf(t){let e,n,o=le[Te(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=P("span"),n=V("👥 "),i=V(o),r=V(" employees"),N(e,"class",l=le[Te(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")},m(a,s){I(a,e,s),b(e,n),b(e,i),b(e,r)},p(a,s){s&1&&o!==(o=le[Te(a[0].id)].requirements.employees+"")&&ae(i,o),s&7&&l!==(l=le[Te(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")&&N(e,"class",l)},d(a){a&&T(e)}}}function Tf(t){let e,n,o,i,r,l,a,s=le[Te(t[0].id)].revenue_per_week+"",u,f;return n=new _t({props:{class:"bg-secondary opacity-25 mt-0"}}),{c(){e=P("div"),J(n.$$.fragment),o=G(),i=P("span"),i.textContent="Weekly revenue",r=G(),l=P("span"),a=V("💰 "),u=V(s),N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(c,d){I(c,e,d),Y(n,e,null),b(e,o),b(e,i),b(e,r),b(e,l),b(l,a),b(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=le[Te(c[0].id)].revenue_per_week+"")&&ae(u,s)},i(c){f||(C(n.$$.fragment,c),f=!0)},o(c){S(n.$$.fragment,c),f=!1},d(c){c&&T(e),X(n)}}}function If(t){let e,n,o,i,r,l;n=new _t({props:{class:"bg-secondary opacity-25 mt-2"}});let a=Ye(Object.keys(le[Te(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Pf(Cf(t,a,u));return{c(){e=P("div"),J(n.$$.fragment),o=G(),i=P("span"),i.textContent="Weekly Costs",r=G();for(let u=0;u<s.length;u+=1)s[u].c();N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(u,f){I(u,e,f),Y(n,e,null),b(e,o),b(e,i),b(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ye(Object.keys(le[Te(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=Cf(u,a,c);s[c]?s[c].p(d,f):(s[c]=Pf(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(C(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&T(e),X(n),gt(s,u)}}}function Mf(t){let e,n=bo(t[4])+"",o,i,r=yr(t[4])+"",l,a,s=-1*Object.values(le[Te(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=P("span"),o=V(n),i=G(),l=V(r),a=G(),u=V(s),f=G(),N(e,"class",c=Object.values(le[Te(t[0].id)].active_costs)[t[6]]>0?"text-textDanger1":"text-textHappyDark")},m(d,m){I(d,e,m),b(e,o),b(e,i),b(e,l),b(e,a),b(e,u),b(e,f)},p(d,m){m&1&&n!==(n=bo(d[4])+"")&&ae(o,n),m&1&&r!==(r=yr(d[4])+"")&&ae(l,r),m&1&&s!==(s=-1*Object.values(le[Te(d[0].id)].active_costs)[d[6]]+"")&&ae(u,s),m&1&&c!==(c=Object.values(le[Te(d[0].id)].active_costs)[d[6]]>0?"text-textDanger1":"text-textHappyDark")&&N(e,"class",c)},d(d){d&&T(e)}}}function Pf(t){let e=Object.values(le[Te(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&Mf(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),I(i,n,r)},p(i,r){r&1&&(e=Object.values(le[Te(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=Mf(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function Of(t){let e,n,o,i,r,l=le[Te(t[0].id)].knowledge_points_per_month>0,a,s;n=new _t({props:{class:"bg-secondary opacity-25 mt-2"}});let u=l&&Nf(t),f=Ye(Object.keys(le[Te(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=Rf(kf(t,f,d));return{c(){e=P("div"),J(n.$$.fragment),o=G(),i=P("span"),i.textContent="Generated Resources",r=G(),u&&u.c(),a=G();for(let d=0;d<c.length;d+=1)c[d].c();N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(d,m){I(d,e,m),Y(n,e,null),b(e,o),b(e,i),b(e,r),u&&u.m(e,null),b(e,a);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(e,null);s=!0},p(d,m){if(m&1&&(l=le[Te(d[0].id)].knowledge_points_per_month>0),l?u?u.p(d,m):(u=Nf(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),m&1){f=Ye(Object.keys(le[Te(d[0].id)].generated_resources));let h;for(h=0;h<f.length;h+=1){const _=kf(d,f,h);c[h]?c[h].p(_,m):(c[h]=Rf(_),c[h].c(),c[h].m(e,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=f.length}},i(d){s||(C(n.$$.fragment,d),s=!0)},o(d){S(n.$$.fragment,d),s=!1},d(d){d&&T(e),X(n),u&&u.d(),gt(c,d)}}}function Nf(t){let e,n,o=Math.round(le[Te(t[0].id)].knowledge_points_per_month)+"",i,r;return{c(){e=P("span"),n=V("🧠 "),i=V(o),r=V(" (monthly)")},m(l,a){I(l,e,a),b(e,n),b(e,i),b(e,r)},p(l,a){a&1&&o!==(o=Math.round(le[Te(l[0].id)].knowledge_points_per_month)+"")&&ae(i,o)},d(l){l&&T(e)}}}function Ef(t){let e,n=yr(t[4])+"",o,i,r=bo(t[4])+"",l,a,s=ta(Object.values(le[Te(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=P("span"),o=V(n),i=G(),l=V(r),a=G(),u=V(s),f=G(),N(e,"class",c=Object.values(le[Te(t[0].id)].generated_resources)[t[6]]>0?"text-textHappyDark":"text-textDanger1")},m(d,m){I(d,e,m),b(e,o),b(e,i),b(e,l),b(e,a),b(e,u),b(e,f)},p(d,m){m&1&&n!==(n=yr(d[4])+"")&&ae(o,n),m&1&&r!==(r=bo(d[4])+"")&&ae(l,r),m&1&&s!==(s=ta(Object.values(le[Te(d[0].id)].generated_resources)[d[6]],!1)+"")&&ae(u,s),m&1&&c!==(c=Object.values(le[Te(d[0].id)].generated_resources)[d[6]]>0?"text-textHappyDark":"text-textDanger1")&&N(e,"class",c)},d(d){d&&T(e)}}}function Rf(t){let e=Object.values(le[Te(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&Ef(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),I(i,n,r)},p(i,r){r&1&&(e=Object.values(le[Te(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=Ef(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function k4(t){let e,n,o=t[0]!=null&&Af(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&C(o,1)):(o=Af(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Pe(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function yr(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const Df=t=>t!=0,Lf=t=>t!=0;function C4(t,e,n){let o;fe(t,Le,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger1 border-2 border-red-400"),f=`<span class='${c}'>${a} ${s}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class tm extends ye{constructor(e){super(),ve(this,e,C4,k4,ce,{option:0,checkRequirements:1})}}function Ff(t,e,n){const o=t.slice();return o[25]=e[n],o}function qf(t,e,n){const o=t.slice();return o[28]=e[n],o}function $f(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,_=t[5].plots[t[0]][t[1]].type!==-1&&t[12](t[0],t[1]),y,w,k,A,D,L,E={type:"text",autofocus:!0,id:"search-bar",placeholder:"Search Plot Options...",value:t[3],class:"border rounded w-auto bg-white placeholder-black text-black text-xs"};a=new ls({props:E}),t[16](a),a.$on("input",t[10]);let B=_&&jf(t),q=Ye(t[6].isMineralSource||t[3].length>0?[1]:[1,2,3,4]),R=[];for(let v=0;v<q.length;v+=1)R[v]=Yf(Ff(t,q,v));const U=v=>S(R[v],1,1,()=>{R[v]=null});return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("div"),r=P("div"),l=P("div"),J(a.$$.fragment),s=G(),u=P("div"),f=P("input"),c=G(),d=P("label"),d.textContent="Buildable",m=G(),h=P("div"),B&&B.c(),y=G(),w=P("div");for(let v=0;v<R.length;v+=1)R[v].c();N(l,"class","flex items-end "),N(f,"type","checkbox"),N(f,"id","toggle-affordable"),N(f,"class","rounded"),f.checked=t[7],N(d,"for","toggle-affordable"),N(d,"class","ml-2 no-select cursor-pointer "),N(u,"class","flex items-center ml-4"),N(h,"class","flex justify-end ml-6"),N(r,"class","flex flex-row w-full "),N(i,"class","text-sm"),N(w,"class",k="flex flex-col "+(t[6].isMineralSource||t[3].length>0?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"),N(o,"class","flex flex-col gap-2 px-2 no-scrollbar justify-end"),N(n,"class","text-xl items-center justify-center w-[90%] align-bottom bg-foreground border-4 border-gray-400 shadow-2xl rounded-t-xl py-2 "),N(e,"class","w-[100vw] fixed bottom-0 h-["+t[9]+"] p-1 z-50 flex flex-col justify-center text-center items-center")},m(v,g){I(v,e,g),b(e,n),b(n,o),b(o,i),b(i,r),b(r,l),Y(a,l,null),b(r,s),b(r,u),b(u,f),b(u,c),b(u,d),b(r,m),b(r,h),B&&B.m(h,null),b(o,y),b(o,w);for(let M=0;M<R.length;M+=1)R[M]&&R[M].m(w,null);A=!0,D||(L=[ee(f,"change",t[17]),ee(o,"click",t[11])],D=!0)},p(v,g){const M={};if(g[0]&8&&(M.value=v[3]),a.$set(M),(!A||g[0]&128)&&(f.checked=v[7]),g[0]&35&&(_=v[5].plots[v[0]][v[1]].type!==-1&&v[12](v[0],v[1])),_?B?B.p(v,g):(B=jf(v),B.c(),B.m(h,null)):B&&(B.d(1),B=null),g[0]&120){q=Ye(v[6].isMineralSource||v[3].length>0?[1]:[1,2,3,4]);let O;for(O=0;O<q.length;O+=1){const W=Ff(v,q,O);R[O]?(R[O].p(W,g),C(R[O],1)):(R[O]=Yf(W),R[O].c(),C(R[O],1),R[O].m(w,null))}for(Pe(),O=q.length;O<R.length;O+=1)U(O);Oe()}(!A||g[0]&72&&k!==(k="flex flex-col "+(v[6].isMineralSource||v[3].length>0?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"))&&N(w,"class",k)},i(v){if(!A){C(a.$$.fragment,v);for(let g=0;g<q.length;g+=1)C(R[g]);A=!0}},o(v){S(a.$$.fragment,v),R=R.filter(Boolean);for(let g=0;g<R.length;g+=1)S(R[g]);A=!1},d(v){v&&T(e),t[16](null),X(a),B&&B.d(),gt(R,v),D=!1,qe(L)}}}function jf(t){let e,n,o;return{c(){e=P("button"),e.textContent="❌ Bulldoze",N(e,"id","bulldoze"),N(e,"class","px-2 py-2 bg-red-500 rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(i,r){I(i,e,r),n||(o=ee(e,"click",t[13]),n=!0)},p:Ae,d(i){i&&T(e),n=!1,o()}}}function Bf(t){let e,n,o=t[25]+"",i;return{c(){e=P("div"),n=V("Level "),i=V(o),N(e,"class","text-sm font-extralight pb-3")},m(r,l){I(r,e,l),b(e,n),b(e,i)},p(r,l){l[0]&72&&o!==(o=r[25]+"")&&ae(i,o)},d(r){r&&T(e)}}}function Vf(t){let e,n,o=t[28].active_costs.power+"",i;return{c(){e=P("span"),n=V("🔋"),i=V(o),N(e,"class","bg-yellow-300 text-xs text-black tex px-1 py-0.5 rounded-2xl absolute top-[-5px] right-[-2px]")},m(r,l){I(r,e,l),b(e,n),b(e,i)},p(r,l){l[0]&88&&o!==(o=r[28].active_costs.power+"")&&ae(i,o)},d(r){r&&T(e)}}}function Gf(t){let e,n,o=Qe(t[28].id,t[5]).length+"",i;return{c(){e=P("span"),n=V("x"),i=V(o),N(e,"class","bg-black text-xs text-white tex px-1 py-0.5 rounded-2xl absolute top-[-5px] left-[-2px]")},m(r,l){I(r,e,l),b(e,n),b(e,i)},p(r,l){l[0]&120&&o!==(o=Qe(r[28].id,r[5]).length+"")&&ae(i,o)},d(r){r&&T(e)}}}function Hf(t){let e,n,o=wn(t[28].revenue_per_week,!1)+"",i,r;return{c(){e=P("br"),n=V(`
                            Makes 💰 `),i=V(o),r=V("/week")},m(l,a){I(l,e,a),I(l,n,a),I(l,i,a),I(l,r,a)},p(l,a){a[0]&88&&o!==(o=wn(l[28].revenue_per_week,!1)+"")&&ae(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function Wf(t){let e,n,o=wn(t[28].requirements.employees,!1)+"",i;return{c(){e=P("br"),n=V(`
                            Employs `),i=V(o)},m(r,l){I(r,e,l),I(r,n,l),I(r,i,l)},p(r,l){l[0]&88&&o!==(o=wn(r[28].requirements.employees,!1)+"")&&ae(i,o)},d(r){r&&(T(e),T(n),T(i))}}}function A4(t){let e,n,o,i=(t[28].selected?"✅":ea(t[28].title))+"",r,l,a,s=t[28].title.substring(2)+"",u,f,c,d=Qe(t[28].id,t[5]).length>0,m,h,_,y=wn(t[28].requirements.gold,!1)+"",w,k,A,D,L,E,B=t[28].active_costs.power>0&&Vf(t),q=d&&Gf(t),R=t[28].revenue_per_week>0&&Hf(t),U=t[28].requirements.employees>0&&Wf(t);return{c(){e=P("div"),n=P("div"),o=P("span"),r=V(i),l=G(),a=P("span"),u=V(s),f=G(),B&&B.c(),c=G(),q&&q.c(),m=G(),h=P("span"),_=V("Costs 💰 "),w=V(y),k=G(),R&&R.c(),A=G(),U&&U.c(),N(o,"class","text-md text-center"),N(a,"class","text-xs text-center font-bold mx-1"),N(n,"class","pt-2"),N(h,"style",D=t[28].styling),N(h,"class","text-xs text-center pt-4"),N(e,"class",L="plotOption cursor-pointer min-w-40 "+(t[6].isMineralSource||t[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(t[28].affordable||t[28].selected?"cursor-pointer":"opacity-25 cursor-not-allowed ")+" "+(t[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":"")),N(e,"data-plotoptionid",E=t[28].id),Je(e,"background-color",Qi(Te(t[28].id),!0))},m(v,g){I(v,e,g),b(e,n),b(n,o),b(o,r),b(n,l),b(n,a),b(a,u),b(e,f),B&&B.m(e,null),b(e,c),q&&q.m(e,null),b(e,m),b(e,h),b(h,_),b(h,w),b(h,k),R&&R.m(h,null),b(h,A),U&&U.m(h,null)},p(v,g){g[0]&88&&i!==(i=(v[28].selected?"✅":ea(v[28].title))+"")&&ae(r,i),g[0]&88&&s!==(s=v[28].title.substring(2)+"")&&ae(u,s),v[28].active_costs.power>0?B?B.p(v,g):(B=Vf(v),B.c(),B.m(e,c)):B&&(B.d(1),B=null),g[0]&120&&(d=Qe(v[28].id,v[5]).length>0),d?q?q.p(v,g):(q=Gf(v),q.c(),q.m(e,m)):q&&(q.d(1),q=null),g[0]&88&&y!==(y=wn(v[28].requirements.gold,!1)+"")&&ae(w,y),v[28].revenue_per_week>0?R?R.p(v,g):(R=Hf(v),R.c(),R.m(h,A)):R&&(R.d(1),R=null),v[28].requirements.employees>0?U?U.p(v,g):(U=Wf(v),U.c(),U.m(h,null)):U&&(U.d(1),U=null),g[0]&88&&D!==(D=v[28].styling)&&N(h,"style",D),g[0]&88&&L!==(L="plotOption cursor-pointer min-w-40 "+(v[6].isMineralSource||v[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(v[28].affordable||v[28].selected?"cursor-pointer":"opacity-25 cursor-not-allowed ")+" "+(v[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":""))&&N(e,"class",L),g[0]&88&&E!==(E=v[28].id)&&N(e,"data-plotoptionid",E),g[0]&88&&Je(e,"background-color",Qi(Te(v[28].id),!0))},d(v){v&&T(e),B&&B.d(),q&&q.d(),R&&R.d(),U&&U.d()}}}function S4(t){let e,n;return e=new tm({props:{option:t[28]}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i[0]&88&&(r.option=o[28]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function T4(t){let e,n,o,i;return e=new ui({props:{$$slots:{default:[A4]},$$scope:{ctx:t}}}),o=new si({props:{$$slots:{default:[S4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),I(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l[0]&120|l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&88|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Kf(t,e){let n,o,i;return o=new ai({props:{openDelay:400,closeDelay:0,$$slots:{default:[T4]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=De(),J(o.$$.fragment),this.first=n},m(r,l){I(r,n,l),Y(o,r,l),i=!0},p(r,l){e=r;const a={};l[0]&120|l[1]&1&&(a.$$scope={dirty:l,ctx:e}),o.$set(a)},i(r){i||(C(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(o,r)}}}function Uf(t){let e;return{c(){e=P("span"),e.textContent="No plots available!",N(e,"class","text-sm pt-2")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Yf(t){let e,n,o,i=[],r=new Map,l,a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource,s,u,f;function c(...w){return t[15](t[25],...w)}let d=t[3].length==0&&!t[6].isMineralSource&&Bf(t);function m(...w){return t[18](t[25],...w)}let h=Ye(t[3].length==0&&!t[6].isMineralSource?t[4].filter(m):t[4]);const _=w=>w[28].id;for(let w=0;w<h.length;w+=1){let k=qf(t,h,w),A=_(k);r.set(A,i[w]=Kf(A,k))}let y=a&&Uf();return{c(){e=P("div"),d&&d.c(),n=G(),o=P("div");for(let w=0;w<i.length;w+=1)i[w].c();l=G(),y&&y.c(),u=G(),N(o,"class",s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle")},m(w,k){I(w,e,k),d&&d.m(e,null),b(e,n),b(e,o);for(let A=0;A<i.length;A+=1)i[A]&&i[A].m(o,null);b(o,l),y&&y.m(o,null),b(e,u),f=!0},p(w,k){t=w,t[3].length==0&&!t[6].isMineralSource?d?d.p(t,k):(d=Bf(t),d.c(),d.m(e,n)):d&&(d.d(1),d=null),k[0]&120&&(h=Ye(t[3].length==0&&!t[6].isMineralSource?t[4].filter(m):t[4]),Pe(),i=Am(i,k,_,1,t,h,r,o,Cm,Kf,l,qf),Oe()),k[0]&88&&(a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource),a?y||(y=Uf(),y.c(),y.m(o,null)):y&&(y.d(1),y=null),(!f||k[0]&72&&s!==(s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle"))&&N(o,"class",s)},i(w){if(!f){for(let k=0;k<h.length;k+=1)C(i[k]);f=!0}},o(w){for(let k=0;k<i.length;k+=1)S(i[k]);f=!1},d(w){w&&T(e),d&&d.d();for(let k=0;k<i.length;k+=1)i[k].d();y&&y.d()}}}function I4(t){let e,n,o=t[2]&&$f(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,r){i[2]?o?(o.p(i,r),r[0]&4&&C(o,1)):(o=$f(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Pe(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function M4(t,e,n){let o,i,r;fe(t,Le,v=>n(5,o=v)),fe(t,xe,v=>n(6,i=v)),fe(t,Nc,v=>n(7,r=v));let{x:l=0}=e,{y:a=0}=e,{open:s=!1}=e,{tooltip:u=""}=e,f="",c=le,d;const m=Math.round(window.innerHeight*.2)+"px";let h=c.map(v=>Object.assign(Object.assign({},v),{affordable:w(v,o),selected:y(v)}));function _(v){n(3,f=v.target.value||"")}function y(v){return o.plots[l][a].type>-1?c[o.plots[l][a].type].id===v.id:!1}function w(v,g){let M=!0;v.requirements.gold>g.townInfo.gold&&(M=!1);let O=g.townInfo.population_count-g.townInfo.employees;return v.requirements.employees!==void 0&&v.requirements.employees>0&&v.requirements.employees>O&&(M=!1),v.requirements.knowledge!==void 0&&v.requirements.knowledge>g.townInfo.knowledge_points&&(M=!1),v.requirements.resources!==void 0&&Object.keys(v.requirements.resources).forEach(W=>{o.resources[W]<v.requirements.resources[W]&&(M=!1)}),M}function k(v){const g=v.target.closest(".plotOption");if(g){const M=g.dataset.plotoptionid;A(M)}}function A(v){document.querySelectorAll(".plotOption").forEach(O=>{O.classList.remove("active")});const M=document.querySelector(`[data-plotoptionid="${v}"]`);M&&(M.classList.add("active"),L(l,a,v))}function D(v,g){if(i.isMineralSource)return!1;let M=0;return v>0&&o.plots[v-1][g].type!==-1&&M++,v<o.plots.length-1&&o.plots[v+1][g].type!==-1&&M++,g>0&&o.plots[v][g-1].type!==-1&&M++,g<o.plots[0].length-1&&o.plots[v][g+1].type!==-1&&M++,M<=4}function L(v,g,M){let O=o;const W=le.findIndex(x=>x.id===M);let F=le[W];if(w(F,o)==!1)return alert(`${JSON.stringify(F.requirements)}`);if(F.requirements.adjacent_plots!==void 0){let x=F.requirements.adjacent_plots;if(vp(v,g,O,F.requirements.adjacent_plots)===!1)return alert(`This plot requires adjacent plots of type: ${x.join(", ")}`)}let Q=!0;if((F.requirements.gold>O.townInfo.gold||F.requirements.employees>O.townInfo.population_count-O.townInfo.employees)&&(Q=!1),F.requirements.size!=null&&F.requirements.size!=1&&Q){let ne=function(p,H){let j={x:p,y:H};return j.x===0&&j.y===0?!0:[{x:j.x-1,y:j.y},{x:j.x+1,y:j.y},{x:j.x,y:j.y-1},{x:j.x,y:j.y+1}].some(re=>re.x<0||re.x>o.plots.length-1||re.y<0||re.y>o.plots.length-1?!1:o.plots[re.x][re.y].active)};var te=ne;let x=F.requirements.size,K=[],z=c[W].title.toLowerCase().indexOf("school")!=-1;for(let p=0;p<4;p++){let H=[[v,g]];p===0?(H.push([v-(x-1),g-(x-1)]),H.push([v-(x-1),g]),H.push([v,g-(x-1)])):p===1?(H.push([v,g-(x-1)]),H.push([v+(x-1),g-(x-1)]),H.push([v+(x-1),g])):p===2?(H.push([v-(x-1),g]),H.push([v-(x-1),g+(x-1)]),H.push([v,g+(x-1)])):p===3&&(H.push([v,g+(x-1)]),H.push([v+(x-1),g+(x-1)]),H.push([v+(x-1),g])),K.push(H)}K=K.filter(p=>p.every(H=>H[0]>=0&&H[0]<=O.plots.length-1&&H[1]>=0&&H[1]<=O.plots.length-1&&!O.plots[H[0]][H[1]].active&&ne(H[0],H[1])==!0)),K.length===0?Q=!1:K.length>0&&K[0].forEach(H=>{O.plots[H[0]][H[1]].active=!0,O.plots[H[0]][H[1]].type=z?-3:-2,O.plots[H[0]][H[1]].referencePlot=[v,g]})}if(Q===!0){if(O.plots[v][g].type!==-1&&xi(v,g,O),n(14,u=""),O.plots[v][g].type=W,O.plots[v][g].active=!0,O.plots[v][g].referencePlot=[],O.plots[v][g].typeId=F.id,O.townInfo.gold-=F.requirements.gold,O.townInfo.gold=st(O.townInfo.gold,2),O.townInfo.population_count+=F.immediate_variable_changes.population,O.townInfo.population_max+=F.immediate_variable_changes.population,O.townInfo.happiness+=F.immediate_variable_changes.happiness,O.townInfo.health+=F.immediate_variable_changes.health,O.modifiers.happiness=st(O.modifiers.happiness*F.effect_modifiers.happiness,2),O.modifiers.health=st(O.modifiers.health*F.effect_modifiers.health,2),O.townInfo.employees+=F.requirements.employees,(O.plotCounts[W]===void 0||O.plotCounts[W]===null)&&(O.plotCounts[W]=0),O.plotCounts[W]++,O.lastChangeDay=O.environment.day,F.requirements.resources!==void 0){const K=F.requirements.resources;O.resources.food-=K.food,O.resources.wood-=K.wood,O.resources.stone-=K.stone,O.resources.metal-=K.metal}switch(F.id){case"city_hall":O.hasCityHall=!0;break;case"bank":O.hasBank=!0;break}Le.set(O),localStorage.setItem(Ft,JSON.stringify(O));let x=!1;for(let K=v;K<O.plots.length;K++){for(let z=g;z<O.plots[K].length;z++)if(O.plots[K][z].active===!1&&O.plots[K][z].mineralSource==!1&&O.plots[K][z].water==!1){v=K,g=z,x=!0;break}if(x)break}Ee(xe,i.x=v,i),Ee(xe,i.y=g,i)}else n(14,u="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(K=>{K.classList.remove("active")})}function E(){document.querySelectorAll(".plotOption").forEach(g=>{g.classList.remove("active")}),xi(l,a,o)}const B=(v,g)=>g.level===v;function q(v){Me[v?"unshift":"push"](()=>{d=v,n(8,d)})}const R=()=>{Lm()},U=(v,g)=>g.level===v;return t.$$set=v=>{"x"in v&&n(0,l=v.x),"y"in v&&n(1,a=v.y),"open"in v&&n(2,s=v.open),"tooltip"in v&&n(14,u=v.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&240&&o&&(n(4,h=c.map(v=>Object.assign(Object.assign({},v),{affordable:w(v,o),selected:y(v)}))),i.isMineralSource&&n(4,h=h.filter(v=>v.id==="mine")),r&&n(4,h=h.filter(v=>v.affordable)),Object.keys(Js).forEach(v=>{let g=Js[v];if(g>0){let M=Qe(v,o).length;n(4,h=h.filter(O=>O.id!==v||M<g))}}),h.sort((v,g)=>v.selected&&!g.selected?-1:0)),t.$$.dirty[0]&24&&n(4,h=h.filter(v=>v.title.toLowerCase().includes(f.toLowerCase())))},[l,a,s,f,h,o,i,r,d,m,_,k,D,E,u,B,q,R,U]}class nm extends ye{constructor(e){super(),ve(this,e,M4,I4,ce,{x:0,y:1,open:2,tooltip:14},null,[-1,-1])}}function P4(t){return{c:Ae,m:Ae,p:Ae,d:Ae}}function O4(t){let e,n,o,i=le[t[0].type].title.substring(0,2)+"",r,l,a,s,u,f=le[t[0].type].title.substring(2)+"",c,d,m,h;return{c(){e=P("div"),n=P("span"),o=P("span"),r=V(i),l=G(),a=P("br"),s=G(),u=P("span"),c=V(f),N(o,"class","text-lg align-text-top select-none"),N(u,"class","text-xs align-text-top font-normal text-black from-stone-600 select-none"),N(n,"data-size",d=le[t[0].type].requirements.size),N(n,"data-x",m=t[0].x),N(n,"data-y",h=t[0].y),N(e,"class","svelte-9dbw4v")},m(_,y){I(_,e,y),b(e,n),b(n,o),b(o,r),b(n,l),b(n,a),b(n,s),b(n,u),b(u,c)},p(_,y){y&1&&i!==(i=le[_[0].type].title.substring(0,2)+"")&&ae(r,i),y&1&&f!==(f=le[_[0].type].title.substring(2)+"")&&ae(c,f),y&1&&d!==(d=le[_[0].type].requirements.size)&&N(n,"data-size",d),y&1&&m!==(m=_[0].x)&&N(n,"data-x",m),y&1&&h!==(h=_[0].y)&&N(n,"data-y",h)},d(_){_&&T(e)}}}function Xf(t){let e;return{c(){e=P("span"),e.textContent="🧲",N(e,"class","text-lg")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function N4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,_,y,w,k,A;function D(q,R){if(q[0].type>-1)return O4;if(q[0].type==-1&&q[0].x==0&&q[0].y==0)return P4}let L=D(t),E=L&&L(t),B=t[0].mineralSource&&t[0].type==-1&&Xf();return{c(){e=P("button"),E&&E.c(),n=G(),B&&B.c(),N(e,"class",o="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v"),Je(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":Qi(t[0].type,t[2])),N(e,"data-active",i=t[0].active),N(e,"data-hidehoveranimation",r=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),N(e,"data-id",l=t[0].id),N(e,"data-x",a=t[0].x),N(e,"data-y",s=t[0].y),N(e,"data-optionindex",u=t[0].optionIndex),N(e,"data-canbeupgraded",t[2]),N(e,"data-type",f=t[0].type),N(e,"data-type-id",c=t[0].typeId),N(e,"data-refplotx",d=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),N(e,"data-refploty",m=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),N(e,"data-size",h=t[0].type>-1?le[t[0].type].requirements.size:null),N(e,"data-mineralsource",_=t[0].mineralSource),N(e,"data-water",y=t[0].water),N(e,"data-nearwater",w=qn(t[0].x,t[0].y,t[5]))},m(q,R){I(q,e,R),E&&E.m(e,null),b(e,n),B&&B.m(e,null),k||(A=ee(e,"click",t[6]),k=!0)},p(q,R){L===(L=D(q))&&E?E.p(q,R):(E&&E.d(1),E=L&&L(q),E&&(E.c(),E.m(e,n))),q[0].mineralSource&&q[0].type==-1?B||(B=Xf(),B.c(),B.m(e,null)):B&&(B.d(1),B=null),R&7&&o!==(o="plot_container "+q[1]+" overflow-visible "+(q[0].type==-1&&q[2]==!1,"")+" "+(q[0].mineralSource?"hidden":"")+" "+(q[2]?"cursor-pointer":"cursor-not-allowed")+" "+(q[0].disabled?"animate-spin":"")+" svelte-9dbw4v")&&N(e,"class",o),R&21&&Je(e,"background-color",q[0].water?"bg-blue-900 opacity-100":q[4].x==q[0].x&&q[4].y==q[0].y&&q[4].visible?"white":q[0].mineralSource?"black":Qi(q[0].type,q[2])),R&1&&i!==(i=q[0].active)&&N(e,"data-active",i),R&17&&r!==(r=q[4].visible||q[0].type==-1&&q[0].x==0&&q[0].y==0)&&N(e,"data-hidehoveranimation",r),R&1&&l!==(l=q[0].id)&&N(e,"data-id",l),R&1&&a!==(a=q[0].x)&&N(e,"data-x",a),R&1&&s!==(s=q[0].y)&&N(e,"data-y",s),R&1&&u!==(u=q[0].optionIndex)&&N(e,"data-optionindex",u),R&4&&N(e,"data-canbeupgraded",q[2]),R&1&&f!==(f=q[0].type)&&N(e,"data-type",f),R&1&&c!==(c=q[0].typeId)&&N(e,"data-type-id",c),R&1&&d!==(d=q[0].referencePlot!==void 0?q[0].referencePlot[1]:null)&&N(e,"data-refplotx",d),R&1&&m!==(m=q[0].referencePlot!==void 0?q[0].referencePlot[0]:null)&&N(e,"data-refploty",m),R&1&&h!==(h=q[0].type>-1?le[q[0].type].requirements.size:null)&&N(e,"data-size",h),R&1&&_!==(_=q[0].mineralSource)&&N(e,"data-mineralsource",_),R&1&&y!==(y=q[0].water)&&N(e,"data-water",y),R&33&&w!==(w=qn(q[0].x,q[0].y,q[5]))&&N(e,"data-nearwater",w)},d(q){q&&T(e),E&&E.d(),B&&B.d(),k=!1,A()}}}function Jf(t){let e;return{c(){e=V("Water - Place farms nearby for more food & revenue!")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Zf(t){let e;return{c(){e=P("span"),e.textContent="Near water - Generating more food & revenue!",N(e,"class","text-xs bg-blue-500 text-white p-1")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Qf(t){let e,n;return e=new tm({props:{option:t[3],checkRequirements:!1}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&8&&(r.option=o[3]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function E4(t){let e,n,o=qn(t[0].x,t[0].y,t[5]),i,r,l=t[0].water&&Jf(),a=o&&Zf(),s=t[0].active&&Qf(t);return{c(){e=P("div"),l&&l.c(),n=G(),a&&a.c(),i=G(),s&&s.c(),N(e,"class","flex flex-col gap-2")},m(u,f){I(u,e,f),l&&l.m(e,null),b(e,n),a&&a.m(e,null),b(e,i),s&&s.m(e,null),r=!0},p(u,f){u[0].water?l||(l=Jf(),l.c(),l.m(e,n)):l&&(l.d(1),l=null),f&33&&(o=qn(u[0].x,u[0].y,u[5])),o?a||(a=Zf(),a.c(),a.m(e,i)):a&&(a.d(1),a=null),u[0].active?s?(s.p(u,f),f&1&&C(s,1)):(s=Qf(u),s.c(),C(s,1),s.m(e,null)):s&&(Pe(),S(s,1,1,()=>{s=null}),Oe())},i(u){r||(C(s),r=!0)},o(u){S(s),r=!1},d(u){u&&T(e),l&&l.d(),a&&a.d(),s&&s.d()}}}function R4(t){let e,n,o,i;return e=new ui({props:{$$slots:{default:[N4]},$$scope:{ctx:t}}}),o=new si({props:{class:t[0].type<0&&!t[0].water?"hidden":"",$$slots:{default:[E4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),I(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&1079&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class=r[0].type<0&&!r[0].water?"hidden":""),l&1065&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function D4(t){let e,n;return e=new ai({props:{openDelay:400,closeDelay:0,$$slots:{default:[R4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,[i]){const r={};i&1087&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function L4(t,e,n){let o,i,r,l;fe(t,xe,m=>n(4,o=m)),fe(t,Le,m=>n(5,i=m)),fe(t,Pt,m=>n(8,r=m)),fe(t,go,m=>n(9,l=m));let{data:a={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,s,{classText:u=""}=e,{canBeUpgraded:f=!1}=e;function c(m,h,_){let y=document.querySelectorAll(".plot_container");if(r==!1){if(a.referencePlot!=null&&a.referencePlot[0]!==null&&h==null&&_==null&&a.referencePlot[1]!==void 0)return c(m,a.referencePlot[0],a.referencePlot[1]);!a.active&&!f?(Ee(go,l={},l),Ee(xe,o.visible=!1,o),y.forEach(w=>{w.classList.remove("selected")})):(h!=null&&_!=null?(Ee(xe,o.x=h,o),Ee(xe,o.y=_,o)):(Ee(xe,o.x=a.x,o),Ee(xe,o.y=a.y,o)),Ee(xe,o.isMineralSource=a.mineralSource,o),Ee(xe,o.visible=!0,o),y.forEach(w=>{w.classList.remove("selected")}),h!=null&&_!=null?document.querySelector(`.plot_container[data-x="${h}"][data-y="${_}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${a.id}"]`).classList.add("selected"))}}function d(m){r==!1&&(Ee(Le,i.plots[a.x][a.y].type=m,i),Ee(xe,o.visible=!1,o))}return t.$$set=m=>{"data"in m&&n(0,a=m.data),"classText"in m&&n(1,u=m.classText),"canBeUpgraded"in m&&n(2,f=m.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1&&a.type>-1&&n(3,s=le[a.type])},[a,u,f,s,o,i,c,d]}class F4 extends ye{constructor(e){super(),ve(this,e,L4,D4,ce,{data:0,classText:1,canBeUpgraded:2,changePlotType:7})}get changePlotType(){return this.$$.ctx[7]}}function xf(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function zf(t,e,n){const o=t.slice();return o[9]=e[n],o}function ec(t){let e,n,o,i=t[3],r,l,a=Ye(t[2].plots),s=[];for(let c=0;c<a.length;c+=1)s[c]=nc(xf(t,a,c));const u=c=>S(s[c],1,1,()=>{s[c]=null});let f=ic(t);return{c(){e=P("div"),n=P("div");for(let c=0;c<s.length;c+=1)s[c].c();o=G(),f.c(),r=De(),N(n,"class","grid overflow-x-scroll overflow-y-scroll plot_controller svelte-12aovn0"),N(e,"id","plotContainerMain"),N(e,"class","absolute left-[170px] top-[170px] overflow-scroll pl-32 pt-32 pb-80 pr-80")},m(c,d){I(c,e,d),b(e,n);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(n,null);I(c,o,d),f.m(c,d),I(c,r,d),l=!0},p(c,d){if(d&7){a=Ye(c[2].plots);let m;for(m=0;m<a.length;m+=1){const h=xf(c,a,m);s[m]?(s[m].p(h,d),C(s[m],1)):(s[m]=nc(h),s[m].c(),C(s[m],1),s[m].m(n,null))}for(Pe(),m=a.length;m<s.length;m+=1)u(m);Oe()}d&8&&ce(i,i=c[3])?(Pe(),S(f,1,1,Ae),Oe(),f=ic(c),f.c(),C(f,1),f.m(r.parentNode,r)):f.p(c,d)},i(c){if(!l){for(let d=0;d<a.length;d+=1)C(s[d]);C(f),l=!0}},o(c){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)S(s[d]);S(f),l=!1},d(c){c&&(T(e),T(o),T(r)),gt(s,c),f.d(c)}}}function tc(t){let e,n;return e=new F4({props:{classText:"hexagon",data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&4&&(r.data=o[9]),i&4&&(r.canBeUpgraded=o[0](o[9].x,o[9].y)),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function nc(t){let e,n,o,i,r,l=Ye(t[6]),a=[];for(let u=0;u<l.length;u+=1)a[u]=tc(zf(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=P("div");for(let u=0;u<a.length;u+=1)a[u].c();n=G(),N(e,"class","row "+(t[8]%2!==0?"odd-row":"")+" svelte-12aovn0")},m(u,f){I(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);b(e,n),o=!0,i||(r=ee(e,"click",t[1]),i=!0)},p(u,f){if(f&5){l=Ye(u[6]);let c;for(c=0;c<l.length;c+=1){const d=zf(u,l,c);a[c]?(a[c].p(d,f),C(a[c],1)):(a[c]=tc(d),a[c].c(),C(a[c],1),a[c].m(e,n))}for(Pe(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)C(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);o=!1},d(u){u&&T(e),gt(a,u),i=!1,r()}}}function oc(t){let e,n;return e=new nm({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.x=o[4].x),i&16&&(r.y=o[4].y),i&16&&(r.open=o[4].visible),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function ic(t){let e,n,o=t[4].visible&&oc(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,r){i[4].visible?o?(o.p(i,r),r&16&&C(o,1)):(o=oc(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Pe(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function q4(t){let e,n,o=t[2]!=null&&ec(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,[r]){i[2]!=null?o?(o.p(i,r),r&4&&C(o,1)):(o=ec(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Pe(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function $4(t,e,n){let o,i,r;fe(t,go,u=>n(3,o=u)),fe(t,Le,u=>n(2,i=u)),fe(t,xe,u=>n(4,r=u)),document.addEventListener("click",function(u){const f=u.target;(f.dataset.x==null&&f.dataset.type!="-1"&&f.dataset.size!=null||f.id=="plotContainerMain"||f.classList.contains("row")||f.classList.contains("grid"))&&Ee(xe,r.visible=!1,r)});function l(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(m=>m.x<0||m.x>=i.plots.length||m.y<0||m.y>=i.plots[m.x].length?!1:i.plots[m.x][m.y].active)}function a(){let u=[];for(let f=0;f<i.plots.length;f++)for(let c=0;c<i.plots.length;c++)l(f,c)&&i.plots[f][c].active==!1&&u.push(i.plots[f][c])}function s(){Ee(go,o={},o)}return t.$$.update=()=>{t.$$.dirty&4&&i&&a()},[l,s,i,o,r]}class j4 extends ye{constructor(e){super(),ve(this,e,$4,q4,ce,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}function rc(t,e,n){const o=t.slice();return o[2]=e[n],o}function lc(t){let e;return{c(){e=P("span"),e.textContent="No alerts in the last 30d",N(e,"class","text-sm italic text-center opacity-70")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function sc(t){let e,n=t[2]+"",o,i,r;return{c(){e=P("p"),o=V(n),i=G(),r=P("br"),N(e,"class","text-xs")},m(l,a){I(l,e,a),b(e,o),I(l,i,a),I(l,r,a)},p(l,a){a&2&&n!==(n=l[2]+"")&&ae(o,n)},d(l){l&&(T(e),T(i),T(r))}}}function B4(t){let e,n,o,i,r,l,a,s,u=t[1].townLog==""&&lc(),f=Ye(t[1].townLog.split(`
`)),c=[];for(let d=0;d<f.length;d+=1)c[d]=sc(rc(t,f,d));return{c(){e=P("div"),n=P("div"),o=P("h1"),o.textContent="Alerts",i=G(),u&&u.c(),r=G();for(let d=0;d<c.length;d+=1)c[d].c();l=G(),a=P("ul"),a.innerHTML="",N(o,"class","text-xl w-full pb-2 text-center "),N(a,"class","list-disc pl-5 gap-2 flex flex-col text-xs "),N(n,"class",s="bg-foreground w-[160px] border-foregroundDark border-4 "+(t[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 p-3 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300"),N(e,"class","flex flex-row text-foregroundText")},m(d,m){I(d,e,m),b(e,n),b(n,o),b(n,i),u&&u.m(n,null),b(n,r);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(n,null);b(n,l),b(n,a)},p(d,[m]){if(d[1].townLog==""?u||(u=lc(),u.c(),u.m(n,r)):u&&(u.d(1),u=null),m&2){f=Ye(d[1].townLog.split(`
`));let h;for(h=0;h<f.length;h+=1){const _=rc(d,f,h);c[h]?c[h].p(_,m):(c[h]=sc(_),c[h].c(),c[h].m(n,l))}for(;h<c.length;h+=1)c[h].d(1);c.length=f.length}m&1&&s!==(s="bg-foreground w-[160px] border-foregroundDark border-4 "+(d[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 p-3 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300")&&N(n,"class",s)},i:Ae,o:Ae,d(d){d&&T(e),u&&u.d(),gt(c,d)}}}function V4(t,e,n){let o,i;return fe(t,xe,r=>n(0,o=r)),fe(t,Le,r=>n(1,i=r)),[o,i]}class G4 extends ye{constructor(e){super(),ve(this,e,V4,B4,ce,{})}}function ac(t,e,n){const o=t.slice();return o[5]=e[n],o}function uc(t){let e,n;return e=new K1({props:{thumb:t[5],class:"block h-5 w-5 rounded-full border-2 border-primary bg-accent ring-accent transition-colors focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function H4(t){let e,n,o,i,r;n=new j1({props:{class:"absolute h-full bg-primary"}});let l=Ye(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=uc(ac(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=P("span"),J(n.$$.fragment),o=G();for(let u=0;u<a.length;u+=1)a[u].c();i=De(),N(e,"class","relative h-2 w-full grow overflow-hidden rounded-full bg-textPrimary")},m(u,f){I(u,e,f),Y(n,e,null),I(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);I(u,i,f),r=!0},p(u,f){if(f&16){l=Ye(u[4]);let c;for(c=0;c<l.length;c+=1){const d=ac(u,l,c);a[c]?(a[c].p(d,f),C(a[c],1)):(a[c]=uc(d),a[c].c(),C(a[c],1),a[c].m(i.parentNode,i))}for(Pe(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!r){C(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)C(a[f]);r=!0}},o(u){S(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);r=!1},d(u){u&&(T(e),T(o),T(i)),X(n),gt(a,u)}}}function W4(t){let e,n,o;const i=[{class:Fe("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[H4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=Z(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new R1({props:l}),Me.push(()=>Mn(e,"value",r)),{c(){J(e.$$.fragment)},m(a,s){Y(e,a,s),o=!0},p(a,[s]){const u=s&6?we(i,[s&2&&{class:Fe("relative flex w-full touch-none select-none items-center",a[1])},s&4&&it(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],In(()=>n=!1)),e.$set(u)},i(a){o||(C(e.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),o=!1},d(a){X(e,a)}}}function K4(t,e,n){const o=["class","value"];let i=se(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(2,i=se(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class fc extends ye{constructor(e){super(),ve(this,e,K4,W4,ce,{class:1,value:0})}}function cc(t,e,n){const o=t.slice();return o[7]=e[n].icon,o[8]=e[n].name,o[9]=e[n].value,o[10]=e[n].rate,o}function dc(t,e,n){const o=t.slice();return o[13]=e[n],o}function U4(t){let e;return{c(){e=P("div"),e.innerHTML=`Resources are generated from plots. Generation rate can be increased
            by raising the productivity of the town, at the cost of some
            happiness.
            <br/> <br/>
            There is also a slight bit of randomness as townspeople aren&#39;t robots.`,N(e,"class","text-sm")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function Y4(t){let e,n,o,i;return o=new si({props:{class:"text-sm w-[200px]",$$slots:{default:[U4]},$$scope:{ctx:t}}}),{c(){e=P("div"),e.innerHTML='<h1 class="text-xl w-full text-center">Resources</h1> <button class="text-textPrimary text-sm">ℹ️</button>',n=G(),J(o.$$.fragment),N(e,"class","flex flex-row items-center pb-2 gap-2")},m(r,l){I(r,e,l),I(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&65536&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(C(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&(T(e),T(n)),X(o,r)}}}function X4(t){let e,n;return e=new ui({props:{$$slots:{default:[Y4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&65536&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function J4(t){let e,n,o=t[10]+"",i;return{c(){e=P("span"),n=V("+"),i=V(o),N(e,"class","text-textPrimary")},m(r,l){I(r,e,l),b(e,n),b(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&ae(i,o)},d(r){r&&T(e)}}}function Z4(t){let e;return{c(){e=P("span")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function Q4(t){let e,n=t[10]+"",o;return{c(){e=P("span"),o=V(n),N(e,"class","text-textDanger2")},m(i,r){I(i,e,r),b(e,o)},p(i,r){r&2&&n!==(n=i[10]+"")&&ae(o,n)},d(i){i&&T(e)}}}function x4(t){let e,n,o=t[10]+"",i;return{c(){e=P("span"),n=V("+"),i=V(o),N(e,"class","text-textHappy")},m(r,l){I(r,e,l),b(e,n),b(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&ae(i,o)},d(r){r&&T(e)}}}function z4(t){let e;return{c(){e=P("span"),N(e,"class","display-none")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function eC(t){let e,n,o=t[10]+"",i,r;return{c(){e=P("span"),n=V("+"),i=V(o),r=V(" (weekly)"),N(e,"class","")},m(l,a){I(l,e,a),b(e,n),b(e,i),b(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&ae(i,o)},d(l){l&&T(e)}}}function tC(t){let e,n=t[10]+"",o,i;return{c(){e=P("span"),o=V(n),i=V(" (weekly)"),N(e,"class","text-textDanger2")},m(r,l){I(r,e,l),b(e,o),b(e,i)},p(r,l){l&2&&n!==(n=r[10]+"")&&ae(o,n)},d(r){r&&T(e)}}}function nC(t){let e,n,o=t[10]+"",i,r;return{c(){e=P("span"),n=V("+"),i=V(o),r=V(" (weekly)"),N(e,"class","text-textHappy")},m(l,a){I(l,e,a),b(e,n),b(e,i),b(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&ae(i,o)},d(l){l&&T(e)}}}function mc(t){let e,n,o,i;return e=new _t({}),{c(){J(e.$$.fragment),n=G(),o=P("span"),o.textContent="Required for",N(o,"class","text-sm font-semibold")},m(r,l){Y(e,r,l),I(r,n,l),I(r,o,l),i=!0},i(r){i||(C(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),X(e,r)}}}function pc(t){let e,n=t[13]+"",o;return{c(){e=P("span"),o=V(n),N(e,"class","text-xs mr-4")},m(i,r){I(i,e,r),b(e,o)},p(i,r){r&2&&n!==(n=i[13]+"")&&ae(o,n)},d(i){i&&T(e)}}}function oC(t){let e,n,o=t[7]+"",i,r,l=bo(t[8])+"",a,s,u,f=t[5](t[8]).length>0,c,d,m;function h(D,L){return D[10]>0?nC:D[10]<0?tC:D[10]!=null?eC:z4}let _=h(t),y=_(t),w=f&&mc(),k=Ye(t[5](t[8])),A=[];for(let D=0;D<k.length;D+=1)A[D]=pc(dc(t,k,D));return{c(){e=P("div"),n=P("span"),i=V(o),r=G(),a=V(l),s=G(),y.c(),u=G(),w&&w.c(),c=G(),d=P("div");for(let D=0;D<A.length;D+=1)A[D].c();N(n,"class","text-md font-bold"),N(d,"class","flex flex-col flex-wrap min-w-full"),N(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit")},m(D,L){I(D,e,L),b(e,n),b(n,i),b(n,r),b(n,a),b(e,s),y.m(e,null),b(e,u),w&&w.m(e,null),b(e,c),b(e,d);for(let E=0;E<A.length;E+=1)A[E]&&A[E].m(d,null);m=!0},p(D,L){if((!m||L&2)&&o!==(o=D[7]+"")&&ae(i,o),(!m||L&2)&&l!==(l=bo(D[8])+"")&&ae(a,l),_===(_=h(D))&&y?y.p(D,L):(y.d(1),y=_(D),y&&(y.c(),y.m(e,u))),L&2&&(f=D[5](D[8]).length>0),f?w?L&2&&C(w,1):(w=mc(),w.c(),C(w,1),w.m(e,c)):w&&(Pe(),S(w,1,1,()=>{w=null}),Oe()),L&34){k=Ye(D[5](D[8]));let E;for(E=0;E<k.length;E+=1){const B=dc(D,k,E);A[E]?A[E].p(B,L):(A[E]=pc(B),A[E].c(),A[E].m(d,null))}for(;E<A.length;E+=1)A[E].d(1);A.length=k.length}},i(D){m||(C(w),m=!0)},o(D){S(w),m=!1},d(D){D&&T(e),y.d(),w&&w.d(),gt(A,D)}}}function iC(t){let e,n=t[7]+"",o,i,r=t[9]+"",l,a,s,u,f,c;function d(_,y){return _[10]>0?x4:_[10]<0?Q4:_[10]==null?Z4:J4}let m=d(t),h=m(t);return f=new si({props:{$$slots:{default:[oC]},$$scope:{ctx:t}}}),{c(){e=P("span"),o=V(n),i=G(),l=V(r),a=G(),h.c(),u=G(),J(f.$$.fragment),N(e,"class",s="flex flex-row justify-between "+(t[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary"))},m(_,y){I(_,e,y),b(e,o),b(e,i),b(e,l),b(e,a),h.m(e,null),I(_,u,y),Y(f,_,y),c=!0},p(_,y){(!c||y&2)&&n!==(n=_[7]+"")&&ae(o,n),(!c||y&2)&&r!==(r=_[9]+"")&&ae(l,r),m===(m=d(_))&&h?h.p(_,y):(h.d(1),h=m(_),h&&(h.c(),h.m(e,null))),(!c||y&2&&s!==(s="flex flex-row justify-between "+(_[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary")))&&N(e,"class",s);const w={};y&65538&&(w.$$scope={dirty:y,ctx:_}),f.$set(w)},i(_){c||(C(f.$$.fragment,_),c=!0)},o(_){S(f.$$.fragment,_),c=!1},d(_){_&&(T(e),T(u)),h.d(),X(f,_)}}}function rC(t){let e,n,o;return e=new ui({props:{$$slots:{default:[iC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G()},m(i,r){Y(e,i,r),I(i,n,r),o=!0},p(i,r){const l={};r&65538&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(C(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){i&&T(n),X(e,i)}}}function hc(t){let e,n;return e=new ai({props:{openDelay:400,closeDelay:0,$$slots:{default:[rC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&65538&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function lC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,_=st(t[0].townInfo.productivity,0)+"",y,w,k,A,D,L,E,B,q,R,U,v=st(t[0].economyAndLaws.tax_rate*100,0)+"",g,M,O,W,F,Q,te;o=new ai({props:{openDelay:400,closeDelay:0,$$slots:{default:[X4]},$$scope:{ctx:t}}});let x=Ye(t[1]),K=[];for(let ne=0;ne<x.length;ne+=1)K[ne]=hc(cc(t,x,ne));const z=ne=>S(K[ne],1,1,()=>{K[ne]=null});return A=new fc({props:{value:[t[0].townInfo.productivity],onValueChange:t[4],min:0,max:200,step:5,class:"cursor-pointer w-full"}}),W=new fc({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[3],min:0,max:1,step:.05,class:"cursor-pointer w-full"}}),{c(){e=P("div"),n=P("div"),J(o.$$.fragment),i=G(),r=P("div"),l=P("div");for(let ne=0;ne<K.length;ne+=1)K[ne].c();a=G(),s=P("div"),u=P("div"),f=P("div"),c=P("span"),c.textContent="Productivity",d=G(),m=P("span"),h=V("("),y=V(_),w=V("%)"),k=G(),J(A.$$.fragment),D=G(),L=P("div"),E=P("div"),B=P("span"),B.textContent="Tax Rate",q=G(),R=P("span"),U=V("("),g=V(v),M=V("%)"),O=G(),J(W.$$.fragment),N(n,"class","flex flex-row justify-center"),N(l,"class","flex flex-col text-sm text-nowrap gap-2"),N(c,"class","text-xs"),N(m,"class","text-xs"),N(u,"class","flex flex-col justify-center w-full text-center items-center gap-2"),N(B,"class","text-xs"),N(R,"class","text-xs"),N(L,"class",F="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(t[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")),N(s,"class","flex flex-col gap-6 rounded-xl text-center justify-center"),N(r,"class","flex flex-col justify-between gap-4 text-foregroundText h-full pb-12"),N(e,"class",Q="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(t[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300")},m(ne,p){I(ne,e,p),b(e,n),Y(o,n,null),b(e,i),b(e,r),b(r,l);for(let H=0;H<K.length;H+=1)K[H]&&K[H].m(l,null);b(r,a),b(r,s),b(s,u),b(u,f),b(f,c),b(f,d),b(f,m),b(m,h),b(m,y),b(m,w),b(u,k),Y(A,u,null),b(s,D),b(s,L),b(L,E),b(E,B),b(E,q),b(E,R),b(R,U),b(R,g),b(R,M),b(L,O),Y(W,L,null),te=!0},p(ne,[p]){const H={};if(p&65536&&(H.$$scope={dirty:p,ctx:ne}),o.$set(H),p&34){x=Ye(ne[1]);let re;for(re=0;re<x.length;re+=1){const ke=cc(ne,x,re);K[re]?(K[re].p(ke,p),C(K[re],1)):(K[re]=hc(ke),K[re].c(),C(K[re],1),K[re].m(l,null))}for(Pe(),re=x.length;re<K.length;re+=1)z(re);Oe()}(!te||p&1)&&_!==(_=st(ne[0].townInfo.productivity,0)+"")&&ae(y,_);const j={};p&1&&(j.value=[ne[0].townInfo.productivity]),A.$set(j),(!te||p&1)&&v!==(v=st(ne[0].economyAndLaws.tax_rate*100,0)+"")&&ae(g,v);const ie={};p&1&&(ie.value=[ne[0].economyAndLaws.tax_rate]),W.$set(ie),(!te||p&1&&F!==(F="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(ne[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")))&&N(L,"class",F),(!te||p&4&&Q!==(Q="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(ne[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300"))&&N(e,"class",Q)},i(ne){if(!te){C(o.$$.fragment,ne);for(let p=0;p<x.length;p+=1)C(K[p]);C(A.$$.fragment,ne),C(W.$$.fragment,ne),te=!0}},o(ne){S(o.$$.fragment,ne),K=K.filter(Boolean);for(let p=0;p<K.length;p+=1)S(K[p]);S(A.$$.fragment,ne),S(W.$$.fragment,ne),te=!1},d(ne){ne&&T(e),X(o),gt(K,ne),X(A),X(W)}}}function sC(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function aC(t,e,n){let o,i;fe(t,Le,f=>n(0,o=f)),fe(t,xe,f=>n(2,i=f));function r(f){let c=o;c.economyAndLaws.tax_rate=st(f[0],2),Le.set(c),localStorage.setItem(Ft,JSON.stringify(c))}function l(f){let c=o;c.townInfo.productivity=st(f[0],2),Le.set(c),localStorage.setItem(Ft,JSON.stringify(c))}let a=[];function s(f){let c=[];for(let d=0;d<le.length;d++)(f!="knowledge"&&le[d].requirements.resources[f]>0||f=="power"&&le[d].active_costs.power>0||f=="knowledge"&&le[d].requirements.knowledge>0)&&c.push(le[d].title);return c}function u(f){return sC(f)?s(f):[]}return t.$$.update=()=>{t.$$.dirty&1&&n(1,a=[{icon:"🥕",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"🪵",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"🪨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"🧠",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"🧲",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"🔋",name:"power",value:o.resources.power+" (surplus)",rate:null},{icon:"🧑‍⚖️",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy}])},[o,a,i,r,l,u]}class uC extends ye{constructor(e){super(),ve(this,e,aC,lC,ce,{})}}function fC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m;return o=new w4({}),l=new G4({}),s=new j4({}),f=new uC({}),d=new nm({}),{c(){e=P("div"),n=P("div"),J(o.$$.fragment),i=G(),r=P("div"),J(l.$$.fragment),a=G(),J(s.$$.fragment),u=G(),J(f.$$.fragment),c=G(),J(d.$$.fragment),N(r,"class","flex flex-row text-foregroundText"),N(e,"class","flex flex-col max-h-[100%] justify-between")},m(h,_){I(h,e,_),b(e,n),Y(o,n,null),b(e,i),b(e,r),Y(l,r,null),b(r,a),Y(s,r,null),b(r,u),Y(f,r,null),b(r,c),Y(d,r,null),m=!0},p:Ae,i(h){m||(C(o.$$.fragment,h),C(l.$$.fragment,h),C(s.$$.fragment,h),C(f.$$.fragment,h),C(d.$$.fragment,h),m=!0)},o(h){S(o.$$.fragment,h),S(l.$$.fragment,h),S(s.$$.fragment,h),S(f.$$.fragment,h),S(d.$$.fragment,h),m=!1},d(h){h&&T(e),X(o),X(l),X(s),X(f),X(d)}}}function cC(t,e,n){return fe(t,Le,o=>n(0,o)),[]}class dC extends ye{constructor(e){super(),ve(this,e,cC,fC,ce,{})}}function mC(t){let e;return{c(){e=V("Welcome to Plots!")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function pC(t){let e,n,o,i,r=t[0].townInfo.name+"",l,a,s,u,f,c,d,m,h,_,y,w,k,A,D,L,E,B,q,R,U,v,g,M,O,W,F,Q,te,x;return m=new _t({props:{class:"bg-white mt-2 mb-1"}}),w=new _t({props:{class:"bg-white mt-2 mb-1"}}),L=new _t({props:{class:"bg-white mt-2 mb-1"}}),R=new _t({props:{class:"bg-white mt-2 mb-1"}}),{c(){e=P("div"),n=P("p"),o=V(`You come across a large amount of land, and you decide to start a
            town called `),i=P("span"),l=V(r),a=V("."),s=G(),u=P("div"),f=P("p"),f.textContent="To run a successful town, you will need to have:",c=G(),d=P("ul"),J(m.$$.fragment),h=G(),_=P("li"),_.textContent=`👥 People - build homes and they will stay as long as they are
                happy.`,y=G(),J(w.$$.fragment),k=G(),A=P("li"),A.textContent=`🪵 Resources - generated by some plots and used to build others.
                some plots require sustained weekly resources (such as needing
                wood to heat homes)`,D=G(),J(L.$$.fragment),E=G(),B=P("li"),B.textContent=`💰 Gold - generated by plots through tax revenue. most plots
                make the town some amount of money but some cost a lot to
                operate.`,q=G(),J(R.$$.fragment),U=G(),v=P("p"),v.innerHTML=`The town&#39;s key metrics are <span class="font-bold text-textHappyDark">Happiness</span>
            and <span class="font-bold text-textHappyDark">Health</span>, shown
            in the top-left corner.`,g=G(),M=P("p"),M.textContent=`These metrics are affected by the plots you build. Some plots may
            not always increase happiness, and some could even be harmful enough
            to tear down an otherwise great town.`,O=G(),W=P("p"),W.textContent="Be cautious and make sure to hover over plots before you buy them.",F=G(),Q=P("img"),N(i,"class","font-bold text-accent"),N(d,"class","list-desc"),am(Q.src,te="welcome_example_plot.png")||N(Q,"src",te),N(Q,"class","max-w-[60%] object-fit"),N(e,"class","flex flex-col gap-3 max-h-[50vh] overflow-y-scroll")},m(K,z){I(K,e,z),b(e,n),b(n,o),b(n,i),b(i,l),b(i,a),b(e,s),b(e,u),b(u,f),b(u,c),b(u,d),Y(m,d,null),b(d,h),b(d,_),b(d,y),Y(w,d,null),b(d,k),b(d,A),b(d,D),Y(L,d,null),b(d,E),b(d,B),b(d,q),Y(R,d,null),b(e,U),b(e,v),b(e,g),b(e,M),b(e,O),b(e,W),b(e,F),b(e,Q),x=!0},p(K,z){(!x||z&1)&&r!==(r=K[0].townInfo.name+"")&&ae(l,r)},i(K){x||(C(m.$$.fragment,K),C(w.$$.fragment,K),C(L.$$.fragment,K),C(R.$$.fragment,K),x=!0)},o(K){S(m.$$.fragment,K),S(w.$$.fragment,K),S(L.$$.fragment,K),S(R.$$.fragment,K),x=!1},d(K){K&&T(e),X(m),X(w),X(L),X(R)}}}function hC(t){let e,n,o,i;return e=new ss({props:{class:"",$$slots:{default:[mC]},$$scope:{ctx:t}}}),o=new cs({props:{$$slots:{default:[pC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),I(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&524288&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524289&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function _C(t){let e;return{c(){e=V("Get started")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function gC(t){let e,n;return e=new wd({props:{class:"bg-button rounded-2xl text-foregroundText px-4 py-2 hover:rounded-lg transition-all duration-300",$$slots:{default:[_C]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&524288&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function bC(t){let e,n,o,i;return e=new us({props:{$$slots:{default:[hC]},$$scope:{ctx:t}}}),o=new as({props:{$$slots:{default:[gC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),I(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&524289&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524288&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function vC(t){let e,n;return e=new fs({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[bC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function yC(t){let e,n;return e=new ds({props:{open:t[1],$$slots:{default:[vC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,[i]){const r={};i&2&&(r.open=o[1]),i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function wC(t,e,n){let o,i,r,l;fe(t,nn,m=>n(7,o=m)),fe(t,Le,m=>n(0,i=m)),fe(t,nr,m=>n(4,r=m)),fe(t,_l,m=>n(1,l=m)),pt[i.endGoal],Xl[i.difficulty],et.sort((m,h)=>f(m.id)&&!f(h.id)?-1:!f(m.id)&&f(h.id)?1:0),et.filter(m=>f(m.id));function s(m){const h=o.achievements.find(_=>_[0]==m);return h==null?!1:h[3]}let u=et;function f(m){return o.achievements==null?!1:o.achievements.find(h=>h[0]==m)!=null}function c(){nr.update(m=>!m),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Ec.set("game"));const d=()=>{_l.set(!1)};return t.$$.update=()=>{if(t.$$.dirty&25&&i)if(r)n(3,u=et);else{n(3,u=[]);for(let m=0;m<et.length;m++)(!f(et[m].id)||!s(et[m].id))&&u.push(et[m])}},[i,l,c,u,r,d]}class kC extends ye{constructor(e){super(),ve(this,e,wC,yC,ce,{toggleShowCompleted:2})}get toggleShowCompleted(){return this.$$.ctx[2]}}function _c(t,e,n){const o=t.slice();return o[5]=e[n],o}function CC(t){let e,n,o=t[0].townInfo.name+"",i,r,l,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=P("div"),n=P("span"),i=V(o),r=G(),l=P("span"),a=V("🧑‍⚖️ "),u=V(s),N(e,"class","flex justify-between mr-10")},m(f,c){I(f,e,c),b(e,n),b(n,i),b(e,r),b(e,l),b(l,a),b(l,u)},p(f,c){c&1&&o!==(o=f[0].townInfo.name+"")&&ae(i,o),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&ae(u,s)},d(f){f&&T(e)}}}function AC(t){let e;return{c(){e=V("Build a City Hall to manage your city.")},m(n,o){I(n,e,o)},p:Ae,i:Ae,o:Ae,d(n){n&&T(e)}}}function SC(t){let e,n,o=Ye(wl),i=[];for(let l=0;l<o.length;l+=1)i[l]=gc(_c(t,o,l));const r=l=>S(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=De()},m(l,a){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(l,a);I(l,e,a),n=!0},p(l,a){if(a&1){o=Ye(wl);let s;for(s=0;s<o.length;s+=1){const u=_c(l,o,s);i[s]?(i[s].p(u,a),C(i[s],1)):(i[s]=gc(u),i[s].c(),C(i[s],1),i[s].m(e.parentNode,e))}for(Pe(),s=o.length;s<i.length;s+=1)r(s);Oe()}},i(l){if(!n){for(let a=0;a<o.length;a+=1)C(i[a]);n=!0}},o(l){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)S(i[a]);n=!1},d(l){l&&T(e),gt(i,l)}}}function TC(t){let e,n=t[5].cost+"",o;return{c(){e=V("Enact for 🧑‍⚖️ "),o=V(n)},m(i,r){I(i,e,r),I(i,o,r)},d(i){i&&(T(e),T(o))}}}function IC(t){let e;return{c(){e=V("Repeal ❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function MC(t){let e,n;function o(l,a){return a&1&&(e=null),e==null&&(e=!!l[0].economyAndLaws.enacted.includes(l[5].id)),e?IC:TC}let i=o(t,-1),r=i(t);return{c(){r.c(),n=De()},m(l,a){r.m(l,a),I(l,n,a)},p(l,a){i!==(i=o(l,a))&&(r.d(1),r=i(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&T(n),r.d(l)}}}function gc(t){let e,n,o,i,r,l,a;function s(){return t[2](t[5])}return i=new Lt({props:{class:"bg-button rounded-2xl",$$slots:{default:[MC]},$$scope:{ctx:t}}}),i.$on("click",s),l=new _t({props:{class:"bg-white opacity-30"}}),{c(){e=P("div"),n=P("span"),n.textContent=`${t[5].description}`,o=G(),J(i.$$.fragment),r=G(),J(l.$$.fragment),N(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){I(u,e,f),b(e,n),b(e,o),Y(i,e,null),I(u,r,f),Y(l,u,f),a=!0},p(u,f){t=u;const c={};f&257&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(C(i.$$.fragment,u),C(l.$$.fragment,u),a=!0)},o(u){S(i.$$.fragment,u),S(l.$$.fragment,u),a=!1},d(u){u&&(T(e),T(r)),X(i),X(l,u)}}}function PC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m;e=new Yn({props:{class:"text-xl",$$slots:{default:[CC]},$$scope:{ctx:t}}}),o=new Zn({props:{class:"w-3/4"}}),r=new _t({props:{class:"mb-4"}});const h=[SC,AC],_=[];function y(w,k){return k&1&&(f=null),f==null&&(f=Qe("city_hall",w[0]).length>0),f?0:1}return c=y(t,-1),d=_[c]=h[c](t),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment),i=G(),J(r.$$.fragment),l=G(),a=P("div"),s=P("span"),s.textContent="Laws 🧑‍⚖️",u=G(),d.c(),N(s,"class","text-lg font-bold"),N(a,"class","w-full")},m(w,k){Y(e,w,k),I(w,n,k),Y(o,w,k),I(w,i,k),Y(r,w,k),I(w,l,k),I(w,a,k),b(a,s),b(a,u),_[c].m(a,null),m=!0},p(w,k){const A={};k&257&&(A.$$scope={dirty:k,ctx:w}),e.$set(A);let D=c;c=y(w,k),c===D?_[c].p(w,k):(Pe(),S(_[D],1,1,()=>{_[D]=null}),Oe(),d=_[c],d?d.p(w,k):(d=_[c]=h[c](w),d.c()),C(d,1),d.m(a,null))},i(w){m||(C(e.$$.fragment,w),C(o.$$.fragment,w),C(r.$$.fragment,w),C(d),m=!0)},o(w){S(e.$$.fragment,w),S(o.$$.fragment,w),S(r.$$.fragment,w),S(d),m=!1},d(w){w&&(T(n),T(i),T(l),T(a)),X(e,w),X(o,w),X(r,w),_[c].d()}}}function OC(t){let e,n,o,i;return e=new Xn({props:{$$slots:{default:[PC]},$$scope:{ctx:t}}}),o=new Po({}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),I(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&257&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function NC(t){let e,n;return e=new Jn({props:{class:"bg-foreground text-foregroundText",$$slots:{default:[OC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&257&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function EC(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[NC]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new Qn({props:r}),Me.push(()=>Mn(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){Y(e,l,a),o=!0},p(l,[a]){const s={};a&257&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],In(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function RC(t,e,n){let o,i;fe(t,Le,a=>n(0,o=a)),fe(t,tr,a=>n(1,i=a));const r=a=>{o.economyAndLaws.enacted.includes(a.id)?o.economyAndLaws.enacted.splice(o.economyAndLaws.enacted.indexOf(a.id),1):a.cost<=o.resources.bureaucracy?(Ee(Le,o.resources.bureaucracy-=a.cost,o),o.economyAndLaws.enacted.push(a.id)):alert("Not enough bureaucracy!")};function l(a){i=a,tr.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[o,i,r,l]}class DC extends ye{constructor(e){super(),ve(this,e,RC,EC,ce,{})}}function bc(t){let e,n,o,i;const r=[FC,LC],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function LC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,_,y,w,k,A=t[2]==!0&&vc();n=new dC({}),i=new Mp({}),l=new Ty({}),s=new xy({}),f=new A3({}),d=new U3({}),h=new DC({});let D=t[0].environment.day==0&&t[3]&&yc();return{c(){A&&A.c(),e=G(),J(n.$$.fragment),o=G(),J(i.$$.fragment),r=G(),J(l.$$.fragment),a=G(),J(s.$$.fragment),u=G(),J(f.$$.fragment),c=G(),J(d.$$.fragment),m=G(),J(h.$$.fragment),_=G(),D&&D.c(),y=G(),w=P("style"),w.textContent=`body {
        margin-bottom: 0;
      }
      /* no visible scrollbars */
      #plot_grid::-webkit-scrollbar {
        display: none;
      }

      ::-webkit-scrollbar {
        width: 0px;
        background: transparent; /* make scrollbar transparent */
      }

      /* no scrollbars on firefox either */
      #plot_grid {
        scrollbar-width: none;
      }

      /* no scrollbars for IE/Edge */
      #plot_grid {
        -ms-overflow-style: none;
      }`},m(L,E){A&&A.m(L,E),I(L,e,E),Y(n,L,E),I(L,o,E),Y(i,L,E),I(L,r,E),Y(l,L,E),I(L,a,E),Y(s,L,E),I(L,u,E),Y(f,L,E),I(L,c,E),Y(d,L,E),I(L,m,E),Y(h,L,E),I(L,_,E),D&&D.m(L,E),I(L,y,E),I(L,w,E),k=!0},p(L,E){L[2]==!0?A?E&4&&C(A,1):(A=vc(),A.c(),C(A,1),A.m(e.parentNode,e)):A&&(Pe(),S(A,1,1,()=>{A=null}),Oe()),L[0].environment.day==0&&L[3]?D?E&9&&C(D,1):(D=yc(),D.c(),C(D,1),D.m(y.parentNode,y)):D&&(Pe(),S(D,1,1,()=>{D=null}),Oe())},i(L){k||(C(A),C(n.$$.fragment,L),C(i.$$.fragment,L),C(l.$$.fragment,L),C(s.$$.fragment,L),C(f.$$.fragment,L),C(d.$$.fragment,L),C(h.$$.fragment,L),C(D),k=!0)},o(L){S(A),S(n.$$.fragment,L),S(i.$$.fragment,L),S(l.$$.fragment,L),S(s.$$.fragment,L),S(f.$$.fragment,L),S(d.$$.fragment,L),S(h.$$.fragment,L),S(D),k=!1},d(L){L&&(T(e),T(o),T(r),T(a),T(u),T(c),T(m),T(_),T(y),T(w)),A&&A.d(L),X(n,L),X(i,L),X(l,L),X(s,L),X(f,L),X(d,L),X(h,L),D&&D.d(L)}}}function FC(t){let e,n;return e=new Hy({}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p:Ae,i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function vc(t){let e,n;return e=new hy({}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function yc(t){let e,n;return e=new kC({}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function qC(t){let e,n,o=(t[1]||t[0]==null)&&bc(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&C(o,1)):(o=bc(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Pe(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function $C(t,e,n){let o,i,r,l,a,s;fe(t,go,d=>n(6,o=d)),fe(t,xe,d=>n(7,i=d)),fe(t,Pt,d=>n(2,r=d)),fe(t,Le,d=>n(0,l=d)),fe(t,Uo,d=>n(8,a=d)),fe(t,_l,d=>n(3,s=d));let u=!1;_y();let f=!1;document.addEventListener("keydown",d=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&d.key!=="Escape")return;switch(d.key.toLowerCase()){case"p":r==!0?Pt.set(!1):(Pt.set(!0),Ee(xe,i.visible=!1,i));break;case"escape":d.shiftKey?(Ee(Pt,r=!0,r),localStorage.setItem("reset","true"),location.reload(),Jl()):i.visible==!0&&Ee(xe,i.visible=!1,i);break}});function c(d,m,h){if(f==!0)switch(h){case"up":m-=2;break;case"down":m+=1;break;case"left":d-=2;break;case"right":d+=1;break}d<0?d=0:d>l.plots.length&&(d=l.plots.length),m<0?m=0:m>l.plots.length&&(m=l.plots.length);let _=document.querySelectorAll(".plot_container"),y;if(_.forEach(w=>{w.dataset.x=="$x"&&w.dataset.y=="$y"&&(y=w)}),r==!1){if(y.dataset.canBeUpgraded==="true"?Ee(xe,i.visible=!0,i):Ee(xe,i.visible=!1,i),y.dataset.refPlotX!==void 0&&y.dataset.refPlotY!=""?(f=!0,_.forEach(w=>{w.dataset.x==y.dataset.refPlotX&&w.dataset.y==y.dataset.refPlotY&&(y=w,d=parseInt(y.dataset.x),m=parseInt(y.dataset.y))})):f=!1,y.dataset.size!=="1"&&y.dataset.size!==void 0&&(f=!0),Ee(xe,i.x=d,i),Ee(xe,i.y=m,i),_.forEach(w=>{w.classList.remove("selected"),w.style.fontWeight=""}),y.classList.add("selected"),f){let w="4px solid #00800045";y.classList.remove("selected"),y.style.borderTop=w,y.style.borderLeft=w,y.style.fontWeight="600",_.forEach(k=>{const A=parseInt(`${k.dataset.x}`),D=parseInt(`${k.dataset.y}`);A==d+1&&D==m&&(k.style.borderLeft=w,k.style.borderBottom=w),A==d&&D==m+1&&(k.style.borderTop=w,k.style.borderRight=w),A==d+1&&D==m+1&&(k.style.borderBottom=w,k.style.borderRight=w)})}y.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Ee(go,o={},o)}}return t.$$.update=()=>{t.$$.dirty&1&&(l?(Ee(Uo,a.visible=!1,a),n(1,u=!0)):(Ee(Uo,a.visible=!0,a),n(1,u=!1)))},[l,u,r,s,c]}class jC extends ye{constructor(e){super(),ve(this,e,$C,qC,ce,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new jC({target:document.getElementById("app")});
