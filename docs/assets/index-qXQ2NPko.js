var za=Object.defineProperty;var eu=(t,e,n)=>e in t?za(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Nt=(t,e,n)=>(eu(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function tu(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function nu(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);const o=pako.ungzip(i,{to:"string"});return JSON.parse(o)}async function iu(){let t=localStorage.getItem("plots_active_game_db");const e=await tu(t);console.log("http://localhost:5173/plots/?shareId="+e)}const Xi=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,i]=e.split("=");return t[n]=i,t},{});if(Xi.shareId!=null||Xi.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(nu(Xi.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),iu();function _e(){}const Hi=t=>t;function G(t,e){for(const n in e)t[n]=e[n];return t}function Ps(t){return t()}function lr(){return Object.create(null)}function Ee(t){t.forEach(Ps)}function At(t){return typeof t=="function"}function le(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ou(t){return Object.keys(t).length===0}function Do(t,...e){if(t==null){for(const i of e)i(void 0);return _e}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Os(t){let e;return Do(t,n=>e=n)(),e}function se(t,e,n){t.$$.on_destroy.push(Do(e,n))}function ae(t,e,n,i){if(t){const o=Ls(t,e,n,i);return t[0](o)}}function Ls(t,e,n,i){return t[1]&&i?G(n.ctx.slice(),t[1](i(e))):n.ctx}function ue(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const r=[],l=Math.max(e.dirty.length,o.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|o[a];return r}return e.dirty|o}return e.dirty}function fe(t,e,n,i,o,r){if(o){const l=Ls(e,n,i,r);t.p(l,o)}}function ce(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Ae(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function ne(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function ye(t,e,n){return t.set(n),e}function Le(t){return t&&At(t.destroy)?t.destroy:_e}const Fs=typeof window<"u";let $o=Fs?()=>window.performance.now():()=>Date.now(),Bo=Fs?t=>requestAnimationFrame(t):_e;const fn=new Set;function Rs(t){fn.forEach(e=>{e.c(t)||(fn.delete(e),e.f())}),fn.size!==0&&Bo(Rs)}function Go(t){let e;return fn.size===0&&Bo(Rs),{promise:new Promise(n=>{fn.add(e={c:t,f:n})}),abort(){fn.delete(e)}}}function M(t,e){t.appendChild(e)}function qs(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function ru(t){const e=O("style");return e.textContent="/* empty */",lu(qs(t),e),e.sheet}function lu(t,e){return M(t.head||t,e),e.sheet}function k(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode&&t.parentNode.removeChild(t)}function Tt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function O(t){return document.createElement(t)}function Wi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function $(t){return document.createTextNode(t)}function U(){return $(" ")}function Te(){return $("")}function H(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function q(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const su=["width","height"];function oe(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&su.indexOf(i)===-1?t[i]=e[i]:q(t,i,e[i])}function mi(t,e){for(const n in e)q(t,n,e[n])}function au(t,e){Object.keys(e).forEach(n=>{uu(t,n,e[n])})}function uu(t,e,n){const i=e.toLowerCase();i in t?t[i]=typeof t[i]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:q(t,e,n)}function Ot(t){return/-/.test(t)?au:oe}function fu(t){return Array.from(t.childNodes)}function me(t,e){e=""+e,t.data!==e&&(t.data=e)}function yt(t,e){t.value=e??""}function hn(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function sr(t,e,n){for(let i=0;i<t.options.length;i+=1){const o=t.options[i];if(o.__value===e){o.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Ds(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}class cu{constructor(e=!1){Nt(this,"is_svg",!1);Nt(this,"e");Nt(this,"n");Nt(this,"t");Nt(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=Wi(n.nodeName):this.e=O(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)k(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(w)}}const _i=new Map;let gi=0;function du(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function pu(t,e){const n={stylesheet:ru(e),rules:{}};return _i.set(t,n),n}function bi(t,e,n,i,o,r,l,a=0){const s=16.666/i;let u=`{
`;for(let b=0;b<=1;b+=s){const y=e+(n-e)*r(b);u+=b*100+`%{${l(y,1-y)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${du(f)}_${a}`,d=qs(t),{stylesheet:h,rules:m}=_i.get(d)||pu(d,t);m[c]||(m[c]=!0,h.insertRule(`@keyframes ${c} ${f}`,h.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${i}ms linear ${o}ms 1 both`,gi+=1,c}function vi(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),o=n.length-i.length;o&&(t.style.animation=i.join(", "),gi-=o,gi||hu())}function hu(){Bo(()=>{gi||(_i.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&w(e)}),_i.clear())})}let jn;function $n(t){jn=t}function Yn(){if(!jn)throw new Error("Function called outside component initialization");return jn}function jo(t){Yn().$$.on_mount.push(t)}function mu(t){Yn().$$.on_destroy.push(t)}function _u(){const t=Yn();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=Ds(e,n,{cancelable:i});return o.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function $s(t,e){return Yn().$$.context.set(t,e),e}function Bs(t){return Yn().$$.context.get(t)}function J(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const sn=[],Se=[];let cn=[];const co=[],Gs=Promise.resolve();let po=!1;function js(){po||(po=!0,Gs.then(Hs))}function Ho(){return js(),Gs}function Ue(t){cn.push(t)}function Xt(t){co.push(t)}const Zi=new Set;let nn=0;function Hs(){if(nn!==0)return;const t=jn;do{try{for(;nn<sn.length;){const e=sn[nn];nn++,$n(e),gu(e.$$)}}catch(e){throw sn.length=0,nn=0,e}for($n(null),sn.length=0,nn=0;Se.length;)Se.pop()();for(let e=0;e<cn.length;e+=1){const n=cn[e];Zi.has(n)||(Zi.add(n),n())}cn.length=0}while(sn.length);for(;co.length;)co.pop()();po=!1,Zi.clear(),$n(t)}function gu(t){if(t.fragment!==null){t.update(),Ee(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ue)}}function bu(t){const e=[],n=[];cn.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),cn=e}let An;function Wo(){return An||(An=Promise.resolve(),An.then(()=>{An=null})),An}function Wt(t,e,n){t.dispatchEvent(Ds(`${e?"intro":"outro"}${n}`))}const si=new Set;let dt;function Pe(){dt={r:0,c:[],p:dt}}function Oe(){dt.r||Ee(dt.c),dt=dt.p}function C(t,e){t&&t.i&&(si.delete(t),t.i(e))}function S(t,e,n,i){if(t&&t.o){if(si.has(t))return;si.add(t),dt.c.push(()=>{si.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const Vo={duration:0};function Rt(t,e,n){const i={direction:"in"};let o=e(t,n,i),r=!1,l,a,s=0;function u(){l&&vi(t,l)}function f(){const{delay:d=0,duration:h=300,easing:m=Hi,tick:_=_e,css:b}=o||Vo;b&&(l=bi(t,0,1,h,d,m,b,s++)),_(0,1);const y=$o()+d,N=y+h;a&&a.abort(),r=!0,Ue(()=>Wt(t,!0,"start")),a=Go(I=>{if(r){if(I>=N)return _(1,0),Wt(t,!0,"end"),u(),r=!1;if(I>=y){const V=m((I-y)/h);_(V,1-V)}}return r})}let c=!1;return{start(){c||(c=!0,vi(t),At(o)?(o=o(i),Wo().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function qt(t,e,n){const i={direction:"out"};let o=e(t,n,i),r=!0,l;const a=dt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=Hi,tick:h=_e,css:m}=o||Vo;m&&(l=bi(t,1,0,c,f,d,m));const _=$o()+f,b=_+c;Ue(()=>Wt(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),Go(y=>{if(r){if(y>=b)return h(0,1),Wt(t,!1,"end"),--a.r||Ee(a.c),!1;if(y>=_){const N=d((y-_)/c);h(1-N,N)}}return r})}return At(o)?Wo().then(()=>{o=o(i),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&o.tick&&o.tick(1,0),r&&(l&&vi(t,l),r=!1)}}}function Lt(t,e,n,i){let r=e(t,n,{direction:"both"}),l=i?0:1,a=null,s=null,u=null,f;function c(){u&&vi(t,u)}function d(m,_){const b=m.b-l;return _*=Math.abs(b),{a:l,b:m.b,d:b,duration:_,start:m.start,end:m.start+_,group:m.group}}function h(m){const{delay:_=0,duration:b=300,easing:y=Hi,tick:N=_e,css:I}=r||Vo,V={start:$o()+_,b:m};m||(V.group=dt,dt.r+=1),"inert"in t&&(m?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=V:(I&&(c(),u=bi(t,l,m,b,_,y,I)),m&&N(0,1),a=d(V,b),Ue(()=>Wt(t,m,"start")),Go(L=>{if(s&&L>s.start&&(a=d(s,b),s=null,Wt(t,a.b,"start"),I&&(c(),u=bi(t,l,a.b,a.duration,0,y,r.css))),a){if(L>=a.end)N(l=a.b,1-l),Wt(t,a.b,"end"),s||(a.b?c():--a.group.r||Ee(a.group.c)),a=null;else if(L>=a.start){const F=L-a.start;l=a.a+a.d*y(F/a.duration),N(l,1-l)}}return!!(a||s)}))}return{run(m){At(r)?Wo().then(()=>{r=r({direction:m?"in":"out"}),h(m)}):h(m)},end(){c(),a=s=null}}}function We(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function vu(t,e){t.d(1),e.delete(t.key)}function yu(t,e,n,i,o,r,l,a,s,u,f,c){let d=t.length,h=r.length,m=d;const _={};for(;m--;)_[t[m].key]=m;const b=[],y=new Map,N=new Map,I=[];for(m=h;m--;){const R=c(o,r,m),B=n(R);let p=l.get(B);p?i&&I.push(()=>p.p(R,e)):(p=u(B,R),p.c()),y.set(B,b[m]=p),B in _&&N.set(B,Math.abs(m-_[B]))}const V=new Set,L=new Set;function F(R){C(R,1),R.m(a,f),l.set(R.key,R),f=R.first,h--}for(;d&&h;){const R=b[h-1],B=t[d-1],p=R.key,Y=B.key;R===B?(f=R.first,d--,h--):y.has(Y)?!l.has(p)||V.has(p)?F(R):L.has(Y)?d--:N.get(p)>N.get(Y)?(L.add(p),F(R)):(V.add(Y),d--):(s(B,l),d--)}for(;d--;){const R=t[d];y.has(R.key)||s(R,l)}for(;h;)F(b[h-1]);return Ee(I),b}function de(t,e){const n={},i={},o={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(i[s]=1);for(const s in a)o[s]||(n[s]=a[s],o[s]=1);t[r]=a}else for(const s in l)o[s]=1}for(const l in i)l in n||(n[l]=void 0);return n}function et(t){return typeof t=="object"&&t!==null?t:{}}function Zt(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function Q(t){t&&t.c()}function X(t,e,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),Ue(()=>{const r=t.$$.on_mount.map(Ps).filter(At);t.$$.on_destroy?t.$$.on_destroy.push(...r):Ee(r),t.$$.on_mount=[]}),o.forEach(Ue)}function Z(t,e){const n=t.$$;n.fragment!==null&&(bu(n.after_update),Ee(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function wu(t,e){t.$$.dirty[0]===-1&&(sn.push(t),js(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function pe(t,e,n,i,o,r,l=null,a=[-1]){const s=jn;$n(t);const u=t.$$={fragment:null,ctx:[],props:r,update:_e,not_equal:o,bound:lr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:lr(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...h)=>{const m=h.length?h[0]:d;return u.ctx&&o(u.ctx[c],u.ctx[c]=m)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](m),f&&wu(t,c)),d}):[],u.update(),f=!0,Ee(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const c=fu(e.target);u.fragment&&u.fragment.l(c),c.forEach(w)}else u.fragment&&u.fragment.c();e.intro&&C(t.$$.fragment),X(t,e.target,e.anchor),Hs()}$n(s)}class he{constructor(){Nt(this,"$$");Nt(this,"$$set")}$destroy(){Z(this,1),this.$destroy=_e}$on(e,n){if(!At(n))return _e;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!ou(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ku="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ku);const on=[];function Vi(t,e){return{subscribe:Ye(t,e).subscribe}}function Ye(t,e=_e){let n;const i=new Set;function o(a){if(le(t,a)&&(t=a,n)){const s=!on.length;for(const u of i)u[1](),on.push(u,t);if(s){for(let u=0;u<on.length;u+=2)on[u][0](on[u+1]);on.length=0}}}function r(a){o(a(t))}function l(a,s=_e){const u=[a,s];return i.add(u),i.size===1&&(n=e(o,r)||_e),a(t),()=>{i.delete(u),i.size===0&&n&&(n(),n=null)}}return{set:o,update:r,subscribe:l}}function Jn(t,e,n){const i=!Array.isArray(t),o=i?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Vi(n,(l,a)=>{let s=!1;const u=[];let f=0,c=_e;const d=()=>{if(f)return;c();const m=e(i?u[0]:u,l,a);r?l(m):c=At(m)?m:_e},h=o.map((m,_)=>Do(m,b=>{u[_]=b,f&=~(1<<_),s&&d()},()=>{f|=1<<_}));return s=!0,d(),function(){Ee(h),c(),s=!1}})}function ar(t){return{subscribe:t.subscribe.bind(t)}}const Cu={plots:[],timeSpent:0,devMode:!1,lastChangeDay:0,townLog:"",townInfo:{name:"Your town",gold:1e3,gold_from_tourism:0,population_count:0,population_max:0,employees:0,happiness:150,health:150,knowledge_points:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1},economyAndLaws:{tax_rate:0,max_tax_rate:1,last_month_profit:0,knowledge_gold_market_rates:[]},plotCounts:[],environment:{day:0,year:1,climate:-1},maximums:{health:300,happiness:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0}},Ws={0:"Easy",1:"Normal",2:"Hard"},Su={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},Au={0:.35,1:.25,2:.25},Ne=[{id:"res_small",title:"üè† Residential (small)",type:"residential",description:"A few basic homes (+16 people)",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:16},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!0,knowledge_points_per_month:0},{id:"res_medium",title:"üèòÔ∏è Residential (medium)",type:"residential",description:"Some apartments (+64 people)",revenue_per_week:0,requirements:{gold:500,plots:[],employees:0,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:64},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!0,knowledge_points_per_month:0},{id:"res_large",title:"üè¢ Residential (big)",type:"residential",description:"Many apartments (+256 people)",revenue_per_week:0,requirements:{gold:1500,plots:[],employees:0,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:256},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!0,knowledge_points_per_month:0},{id:"carrot_farm",title:"ü•ï Carrot farm",type:"farm",description:"Farm for making carrots, makes money by selling them.",revenue_per_week:6,requirements:{gold:50,plots:[],employees:2,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,enables_tourism:!0,knowledge_points_per_month:0},{id:"tree_farm",title:"üå≤ Tree Farm",type:"farm",description:"Grow trees and sell the resources. Required for most plots.",revenue_per_week:12,requirements:{gold:400,plots:[],employees:10,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,enables_tourism:!0,knowledge_points_per_month:0},{id:"apple_orchard",title:"üçé Apple orchard",type:"farm",description:"A bunch of apple trees. Sells apple products.",revenue_per_week:8,requirements:{gold:75,plots:[],employees:4,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"potato_farm",title:"ü•î Potato farm",type:"farm",description:"Easy to farm, sells to local grocery stores and restaurants.",revenue_per_week:9,requirements:{gold:75,plots:[],employees:2,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1.1,health:1.1},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"wheat_farm",title:"üåæ Wheat farm",type:"farm",description:"Easy to farm crop",revenue_per_week:6,requirements:{gold:140,plots:[],employees:4,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"dairy_farm",title:"üêÆ Dairy farm",type:"farm",description:"A few cows that produce milk, cheese, and butter.",revenue_per_week:16,requirements:{gold:300,plots:[],employees:4,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"coffee_bean_farm",title:"ü´ò Coffee bean farm",type:"farm",description:"A few coffee plants. Makes money by selling coffee.",revenue_per_week:3,requirements:{gold:300,plots:[],employees:1,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"cafe",title:"‚òïÔ∏è Small caf√©",type:"food",description:"Great for eating & relaxing, not great for long-term health.",revenue_per_week:48,requirements:{gold:300,plots:["coffee_bean_farm","bakery","dairy_farm","tree_farm"],employees:16,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1.05,health:.95},immediate_variable_changes:{happiness:5,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"bakery",title:"ü•ñ Bakery",type:"farm",description:"Makes money by selling bread.",revenue_per_week:14,requirements:{gold:300,plots:["wheat_farm"],employees:3,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1.11,health:.92},immediate_variable_changes:{happiness:25,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"grocery",title:"üè™ Grocery store",type:"food",description:"People get hungry. This is where they go to get food.",revenue_per_week:80,requirements:{gold:820,plots:["fishery","tree_farm","carrot_farm","dairy_farm","bakery","wheat_farm","coffee_bean_farm"],employees:24,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1.05,health:1},immediate_variable_changes:{happiness:15,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"fishery",title:"üê† Fishery",type:"food",description:"Carve out some land, pour some water, and fish for fun & food.",revenue_per_week:40,requirements:{gold:600,plots:["tree_farm"],employees:9,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1.05,health:1},immediate_variable_changes:{happiness:15,health:8,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"library",title:"üìï Library",type:"recreation",description:"Reading makes people very happy, but doesn't make money.",revenue_per_week:0,knowledge_points_per_month:1,requirements:{gold:500,plots:["tree_farm"],employees:6,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:10,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"pub",title:"üçª Pub",type:"recreation",description:"Makes money, and somehow generates communal knowledge.",revenue_per_week:50,knowledge_points_per_month:1,requirements:{gold:500,plots:["church","tree_farm"],employees:6,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1.2,health:.7},immediate_variable_changes:{happiness:10,health:-25,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!0,styling:"",affordable:null,selected:null},{id:"church",title:"‚õ™Ô∏è Church",type:"recreation",description:"This can make some people happy, but doesn't make money.",revenue_per_week:0,requirements:{gold:500,plots:["tree_farm"],employees:0,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1.1,health:1},immediate_variable_changes:{happiness:5,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"stables",title:"üê¥ Stables",type:"recreation",description:"People love horses. This makes them happy, and can generate some money through lessons.",revenue_per_week:25,requirements:{gold:220,plots:["tree_farm"],employees:2,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1.05,health:1.02},immediate_variable_changes:{happiness:5,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"blacksmith",title:"‚öîÔ∏è Blacksmith",type:"shop",description:"Enables exporting of weapons and armor, and makes money by selling them.",revenue_per_week:150,requirements:{gold:2300,plots:["large_school","tree_farm"],employees:15,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"vineyard",title:"üçá Vineyard",type:"farm",description:"Grapes are grown and made into wine. Makes money by selling wine.",revenue_per_week:50,requirements:{gold:800,plots:[],employees:6,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1.5,health:1},immediate_variable_changes:{happiness:0,health:-10,population:0},tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"inn",title:"üõå Village Inn",type:"tourism",description:"Generates tourism gold that can be used if you have a bank.",revenue_per_week:0,enables_tourism:!0,tourism_revenue_per_week:1,requirements:{gold:15e3,plots:["tree_farm","cafe","stables"],employees:14,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:.9,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"park_small",title:"üå≤ Small park",type:"recreation",description:"A few benches and a small grassy area.",revenue_per_week:0,requirements:{gold:80,plots:[],employees:1,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1.01,health:1.07},immediate_variable_changes:{happiness:5,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"park_medium",title:"üõù Medium park",type:"recreation",description:"Benches, grass, and a couple of swing-sets.",revenue_per_week:0,requirements:{gold:450,plots:["tree_farm"],employees:2,climate:null,knowledge:0,size:1},effect_modifiers:{happiness:1.02,health:1.35},immediate_variable_changes:{happiness:5,health:10,population:0},tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"park_large",title:"üé™ Large park (2x2)",type:"recreation",description:"Same as the medium park, with a nice fountain in the middle and occasional events run by the employees.",revenue_per_week:0,requirements:{gold:900,plots:["tree_farm"],employees:4,climate:null,size:2,knowledge:0},effect_modifiers:{happiness:1.1,health:1.7},immediate_variable_changes:{happiness:15,health:15,population:0},tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"community_center",title:"ü´∂ Community Center",type:"recreation",description:"A place for meeting people, growing community, and hosting events. Required for City Hall.",revenue_per_week:0,requirements:{gold:15e3,plots:["park_medium","inn","tree_farm"],employees:12,climate:null,size:1,knowledge:0},effect_modifiers:{happiness:1.09,health:1},immediate_variable_changes:{happiness:50,health:15,population:0},tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"small_school",title:"üìö Small school",type:"education",description:"A place where children can learn and grow, and where adults can learn new skills. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:8,requirements:{gold:1500,plots:["tree_farm"],employees:20,climate:null,size:1,knowledge:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:15,health:3,population:0},tourism_revenue_per_week:0,enables_tourism:!0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"large_school",title:"üöå Large school (2x2)",type:"education",description:"A larger school. Produces knowledge",revenue_per_week:0,knowledge_points_per_month:26,requirements:{gold:15e3,plots:["tree_farm"],employees:40,climate:null,size:2,knowledge:50},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:3,population:0},tourism_revenue_per_week:0,enables_tourism:!0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"university",title:"üè´ Large University (2x2)",type:"education",description:"The supreme learning institution. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:300,requirements:{gold:8e4,plots:["tree_farm"],employees:101,climate:null,size:2,knowledge:100},effect_modifiers:{happiness:1.25,health:.9},immediate_variable_changes:{happiness:25,health:25,population:0},tourism_revenue_per_week:0,enables_tourism:!0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"small_hospital",title:"üò∑ Small hospital",type:"medical",description:"A great place to get fixed up from minor injuries.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e4,plots:["tree_farm"],employees:18,climate:null,size:1,knowledge:100},effect_modifiers:{happiness:1.25,health:1.5},immediate_variable_changes:{happiness:5,health:75,population:0},tourism_revenue_per_week:0,enables_tourism:!0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"large_hospital",title:"üè• Large hospital (2x2)",type:"medical",description:"Heals people and teaches medical students. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:80,requirements:{gold:45e3,plots:["tree_farm"],employees:90,climate:null,size:2,knowledge:250},effect_modifiers:{happiness:1.25,health:2.5},immediate_variable_changes:{happiness:5,health:150,population:0},tourism_revenue_per_week:0,enables_tourism:!0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"bank",title:"üè¶ Bank",type:"bank",description:`Rich get richer.
			<ul>
				<li>Enables converting tourism gold to gold</li>
				<li>Enables converting knowledge to gold (TODO)</li>
			</ul>`,revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:75e3,plots:["blacksmith","vineyard","tree_farm"],employees:64,climate:null,size:1,knowledge:1e3},effect_modifiers:{happiness:.8,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"city_hall",title:"üó≥Ô∏è City Hall",type:"federal",description:"Enables the control of citizens through laws, taxes, and wealthy men.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:15e4,plots:["community_center","small_school","tree_farm"],employees:48,climate:null,size:1,knowledge:500},effect_modifiers:{happiness:.8,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"lab",title:"üßë‚Äçüî¨ Laboratory",type:"science",description:"Design things that can help your city grow. Experiments can cause unexpected situations. Required to build advanced plot types.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e5,plots:["community_center","university"],employees:24,climate:null,size:1,knowledge:1500},effect_modifiers:{happiness:.95,health:.95},immediate_variable_changes:{happiness:0,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!0,styling:"",affordable:null,selected:null,check_for_variety:!1}],Tn={empty_unusable:"rgb(21 28 41);",empty_buildable:"rgb(126, 158, 255)",residential:"#e15f00",farm:"#519c1f",food:"#8a2be2",recreation:"#4070ff",shop:"#ff00ff",tourism:"#ff00ff",education:"rgba(42, 62, 230, 1.0)",medical:"rgba(42, 62, 230, 1.0)",bank:"#7b68ee",federal:"#7b68ee",science:"rgba(42, 62, 230, 1.0)"};function yi(t,e=!1){if(t<0)return t==-1?e?Tn.empty_buildable:Tn.empty:t==-2?Tn.recreation:Tn.empty;const n=Ne[t];return Tn[n.type]}const ur={lab:1,city_hall:1,bank:1},lt="plots_active_game_db";function Tu(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function i(s){return s[Math.floor(Math.random()*s.length)]}let o=i(n),r=i(t),l=i(e),a="";return Math.random()>.5?a=o+" "+r+l:a=r+l,a}let we=Ye(JSON.parse(localStorage.getItem(lt)||"null"));function Nu(t,e,n,i){let o={...Cu};o.economyAndLaws.max_tax_rate=Su[t],o.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),o.townInfo.name=n!=""?n:Tu(),o.difficulty=parseInt(t),i&&(o.devMode=!0,o.townInfo.gold=1e8,o.townInfo.happiness=1e7,o.townInfo.health=1e6,o.townInfo.knowledge_points=1e5,o.modifiers.happiness=1e4,o.modifiers.health=1e4);const l=t=="0"?8:t=="1"?12:t=="2"?16:1;for(let a=0;a<l;a++){r.push([]);for(let s=0;s<l;s++)r[a][s]={id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:""}}o.plots=r,localStorage.reset=!1,localStorage.setItem(lt,JSON.stringify(o)),we.set(o),location.reload()}function fr(t,e){e===void 0&&(e=0);var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var i=Math.round(t)/n;return+i.toFixed(e)}function wi(t,e,n){let i=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,i>-1&&(n.townInfo.population_count-=Ne[i].immediate_variable_changes.population,n.townInfo.population_max-=Ne[i].immediate_variable_changes.population,n.townInfo.happiness-=Ne[i].immediate_variable_changes.happiness,n.townInfo.health-=Ne[i].immediate_variable_changes.health,n.modifiers.happiness=fr(n.modifiers.happiness/Ne[i].effect_modifiers.happiness,2),n.modifiers.health=fr(n.modifiers.health/Ne[i].effect_modifiers.health,2),n.townInfo.employees-=Ne[i].requirements.employees,(n.plotCounts[i]===void 0||n.plotCounts[i]===null)&&(n.plotCounts[i]=0),n.plotCounts[i]--,(Ne[i].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&wi(r,l,n);n.lastChangeDay=n.environment.day,we.set(n),localStorage.setItem(lt,JSON.stringify(n))}function mn(t,e){let n=[];for(let i=0;i<e.plots.length;i++)for(let o=0;o<e.plots[i].length;o++)e.plots[i][o].active==!1||e.plots[i][o]==null||e.plots[i][o].type===null||e.plots[i][o].type<0||(Ne[e.plots[i][o].type].id===t||Ne[e.plots[i][o].type].type===t)&&n.push(e.plots[i][o]);return n}function Ko(t=null){localStorage.removeItem(lt),we.set(null),t&&(localStorage.setItem(lt,JSON.stringify(t)),we.set(t)),location.reload()}function Iu(){Vs.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}let Ke=Ye({visible:!1,x:0,y:0}),Bn=Ye({visible:!1}),_n=Ye({}),Ct=Ye(!1),cr=Ye(!1),ki=Ye(!1),ai=Ye(!1),Vs=localStorage.getItem("showOnlyAffordable")==="true"?Ye(!0):Ye(!1),ho=Ye(250),ui=Ye(500);function Eu(t){return t[t.length-1]}function mo(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}mo({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function dr(t){function e(n){return n(t),()=>{}}return{subscribe:e}}const xn=t=>new Proxy(t,{get(e,n,i){return Reflect.get(e,n,i)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),pr=t=>typeof t=="function";function wt(t,e){const{stores:n,action:i,returned:o}=e??{},r=(()=>{if(n&&o)return Jn(n,a=>{const s=o(a);if(pr(s)){const u=(...f)=>xn({...s(...f),[`data-melt-${t}`]:"",action:i??je});return u.action=i??je,u}return xn({...s,[`data-melt-${t}`]:"",action:i??je})});{const a=o,s=a==null?void 0:a();if(pr(s)){const u=(...f)=>xn({...s(...f),[`data-melt-${t}`]:"",action:i??je});return u.action=i??je,dr(u)}return dr(xn({...s,[`data-melt-${t}`]:"",action:i??je}))}})(),l=i??(()=>{});return l.subscribe=r.subscribe,l}function Mu(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,i=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:i,getEl:r=>document.querySelector(i(r))}}const Pu=typeof document<"u",Ks=t=>typeof t=="function";function Us(t){return t instanceof Element}function Ft(t){return t instanceof HTMLElement}function Ou(t){return t!==null&&typeof t=="object"}function Lu(t){return Ou(t)&&"subscribe"in t}function dn(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function je(){}function Pt(t,e,n,i){const o=Array.isArray(e)?e:[e];return o.forEach(r=>t.addEventListener(r,n,i)),()=>{o.forEach(r=>t.removeEventListener(r,n,i))}}function On(t,e,n,i){const o=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=Ru(l=>n(l));return o.forEach(l=>t.addEventListener(l,r,i)),()=>{o.forEach(l=>t.removeEventListener(l,r,i))}}return()=>void 0}function Fu(t){const e=t.currentTarget;if(!Ft(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function Ru(t){return e=>{const n=Fu(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function qu(t,...e){const n={};for(const i of Object.keys(t))e.includes(i)||(n[i]=t[i]);return n}function Xn(t){return{...t,get:()=>Os(t)}}Xn.writable=function(t){const e=Ye(t);let n=t;return{subscribe:e.subscribe,set(i){e.set(i),n=i},update(i){const o=i(n);e.set(o),n=o},get(){return n}}};Xn.derived=function(t,e){const n=new Map,i=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:i,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(i())}))}),r(i()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const Du=(t,e)=>{const n=Xn(t),i=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:i,set:r=>{i(()=>r)}}};function Ys(t){return new Promise(e=>setTimeout(e,t))}let $u="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Bu=(t=21)=>{let e="",n=t;for(;n--;)e+=$u[Math.random()*64|0];return e};function Gu(){return Bu(10)}function ju(t){return t.reduce((e,n)=>(e[n]=Gu(),e),{})}const Ln={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Js=()=>typeof window<"u";function Hu(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Xs=t=>Js()&&t.test(Hu().toLowerCase()),Wu=()=>Js()&&!!navigator.maxTouchPoints,Vu=()=>Xs(/^mac/)&&!Wu(),Ku=()=>Xs(/mac|iphone|ipad|ipod/i),Uu=()=>Ku()&&!Vu(),Qi="data-melt-scroll-lock";function hr(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Yu(t,e,n){if(!t)return;const i=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{i?t.style.setProperty(e,i):t.style.removeProperty(e)}}function Ju(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Xu(t){const e=t??document,n=e.defaultView??window,{documentElement:i,body:o}=e;if(o.hasAttribute(Qi))return je;o.setAttribute(Qi,"");const l=n.innerWidth-i.clientWidth,a=()=>Yu(i,"--scrollbar-width",`${l}px`),s=Ju(i),u=n.getComputedStyle(o)[s],f=()=>hr(o,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:h,scrollY:m,visualViewport:_}=n,b=(_==null?void 0:_.offsetLeft)??0,y=(_==null?void 0:_.offsetTop)??0,N=hr(o,{position:"fixed",overflow:"hidden",top:`${-(m-Math.floor(y))}px`,left:`${-(h-Math.floor(b))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{N==null||N(),n.scrollTo(h,m)}},d=[a(),Uu()?c():f()];return()=>{d.forEach(h=>h==null?void 0:h()),o.removeAttribute(Qi)}}const Zu=t=>{try{mu(t)}catch{return t}};function $t(t,e){let n;const i=Jn(t,r=>{n==null||n(),n=e(r)}).subscribe(je),o=()=>{i(),n==null||n()};return Zu(o),o}function _o(t){const e={};return Object.keys(t).forEach(n=>{const i=n,o=t[i];e[i]=Xn(Ye(o))}),e}function Qu(t){let e=t.parentElement;for(;Ft(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function xu(t,e){const n=Qu(t);return e!==void 0?e:n==="body"?document.body:null}async function mr(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([Ys(1),Ho]),e===void 0){n==null||n.focus();return}const i=Ks(e)?e(n):e;if(typeof i=="string"){const o=document.querySelector(i);if(!Ft(o))return;o.focus()}else Ft(i)&&i.focus()}Vi(void 0,t=>{function e(i){t(i),t(void 0)}return Pt(document,"pointerup",e,{passive:!1,capture:!0})});const zu=Vi(void 0,t=>{function e(i){i&&i.key===Ln.ESCAPE&&t(i),t(void 0)}return Pt(document,"keydown",e,{passive:!1})}),_r=(t,e={})=>{let n=je;function i(o={}){n();const r={enabled:!0,...o},l=Lu(r.enabled)?r.enabled:Vi(r.enabled);n=dn(zu.subscribe(a=>{var u;if(!a||!Os(l))return;const s=a.target;if(!(!Ft(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(Ks(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),$t(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return i(e),{update:i,destroy(){t.removeAttribute("data-escapee"),n()}}};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Zs=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ci=Zs.join(","),Qs=typeof Element>"u",Ut=Qs?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Si=!Qs&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Ai=function t(e,n){var i;n===void 0&&(n=!0);var o=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"inert"),r=o===""||o==="true",l=r||n&&e&&t(e.parentNode);return l},ef=function(e){var n,i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return i===""||i==="true"},xs=function(e,n,i){if(Ai(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(Ci));return n&&Ut.call(e,Ci)&&o.unshift(e),o=o.filter(i),o},zs=function t(e,n,i){for(var o=[],r=Array.from(e);r.length;){var l=r.shift();if(!Ai(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,i);i.flatten?o.push.apply(o,u):o.push({scopeParent:l,candidates:u})}else{var f=Ut.call(l,Ci);f&&i.filter(l)&&(n||!e.includes(l))&&o.push(l);var c=l.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(l),d=!Ai(c,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(l));if(c&&d){var h=t(c===!0?l.children:c.children,!0,i);i.flatten?o.push.apply(o,h):o.push({scopeParent:l,candidates:h})}else r.unshift.apply(r,l.children)}}return o},ea=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Gt=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||ef(e))&&!ea(e)?0:e.tabIndex},tf=function(e,n){var i=Gt(e);return i<0&&n&&!ea(e)?0:i},nf=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},ta=function(e){return e.tagName==="INPUT"},of=function(e){return ta(e)&&e.type==="hidden"},rf=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(i){return i.tagName==="SUMMARY"});return n},lf=function(e,n){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===n)return e[i]},sf=function(e){if(!e.name)return!0;var n=e.form||Si(e),i=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=i(window.CSS.escape(e.name));else try{o=i(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=lf(o,e.form);return!r||r===e},af=function(e){return ta(e)&&e.type==="radio"},uf=function(e){return af(e)&&!sf(e)},ff=function(e){var n,i=e&&Si(e),o=(n=i)===null||n===void 0?void 0:n.host,r=!1;if(i&&i!==e){var l,a,s;for(r=!!((l=o)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(o)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&o;){var u,f,c;i=Si(o),o=(u=i)===null||u===void 0?void 0:u.host,r=!!((f=o)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(o))}}return r},gr=function(e){var n=e.getBoundingClientRect(),i=n.width,o=n.height;return i===0&&o===0},cf=function(e,n){var i=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Ut.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Ut.call(l,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof o=="function"){for(var a=e;e;){var s=e.parentElement,u=Si(e);if(s&&!s.shadowRoot&&o(s)===!0)return gr(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(ff(e))return!e.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return gr(e);return!1},df=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var i=0;i<n.children.length;i++){var o=n.children.item(i);if(o.tagName==="LEGEND")return Ut.call(n,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}n=n.parentElement}return!1},Ti=function(e,n){return!(n.disabled||Ai(n)||of(n)||cf(n,e)||rf(n)||df(n))},go=function(e,n){return!(uf(n)||Gt(n)<0||!Ti(e,n))},pf=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},hf=function t(e){var n=[],i=[];return e.forEach(function(o,r){var l=!!o.scopeParent,a=l?o.scopeParent:o,s=tf(a,l),u=l?t(o.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):i.push({documentOrder:r,tabIndex:s,item:o,isScope:l,content:u})}),i.sort(nf).reduce(function(o,r){return r.isScope?o.push.apply(o,r.content):o.push(r.content),o},[]).concat(n)},mf=function(e,n){n=n||{};var i;return n.getShadowRoot?i=zs([e],n.includeContainer,{filter:go.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:pf}):i=xs(e,n.includeContainer,go.bind(null,n)),hf(i)},_f=function(e,n){n=n||{};var i;return n.getShadowRoot?i=zs([e],n.includeContainer,{filter:Ti.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):i=xs(e,n.includeContainer,Ti.bind(null,n)),i},rn=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Ut.call(e,Ci)===!1?!1:go(n,e)},gf=Zs.concat("iframe").join(","),xi=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Ut.call(e,gf)===!1?!1:Ti(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function br(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?br(Object(n),!0).forEach(function(i){bf(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):br(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function bf(t,e,n){return e=yf(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vf(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yf(t){var e=vf(t,"string");return typeof e=="symbol"?e:String(e)}var yr={activateTrap:function(e,n){if(e.length>0){var i=e[e.length-1];i!==n&&i.pause()}var o=e.indexOf(n);o===-1||e.splice(o,1),e.push(n)},deactivateTrap:function(e,n){var i=e.indexOf(n);i!==-1&&e.splice(i,1),e.length>0&&e[e.length-1].unpause()}},wf=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},kf=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Gn=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Cf=function(e){return Gn(e)&&!e.shiftKey},Sf=function(e){return Gn(e)&&e.shiftKey},wr=function(e){return setTimeout(e,0)},kr=function(e,n){var i=-1;return e.every(function(o,r){return n(o)?(i=r,!1):!0}),i},Nn=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,i):e},zn=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Af=[],Tf=function(e,n){var i=(n==null?void 0:n.document)||document,o=(n==null?void 0:n.trapStack)||Af,r=vr({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Cf,isKeyBackward:Sf},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(v,g,P){return v&&v[g]!==void 0?v[g]:r[P||g]},u=function(v,g){var P=typeof(g==null?void 0:g.composedPath)=="function"?g.composedPath():void 0;return l.containerGroups.findIndex(function(D){var E=D.container,W=D.tabbableNodes;return E.contains(v)||(P==null?void 0:P.includes(E))||W.find(function(K){return K===v})})},f=function(v){var g=r[v];if(typeof g=="function"){for(var P=arguments.length,D=new Array(P>1?P-1:0),E=1;E<P;E++)D[E-1]=arguments[E];g=g.apply(void 0,D)}if(g===!0&&(g=void 0),!g){if(g===void 0||g===!1)return g;throw new Error("`".concat(v,"` was specified but was not a node, or did not return a node"))}var W=g;if(typeof g=="string"&&(W=i.querySelector(g),!W))throw new Error("`".concat(v,"` as selector refers to no known node"));return W},c=function(){var v=f("initialFocus");if(v===!1)return!1;if(v===void 0||!xi(v,r.tabbableOptions))if(u(i.activeElement)>=0)v=i.activeElement;else{var g=l.tabbableGroups[0],P=g&&g.firstTabbableNode;v=P||f("fallbackFocus")}if(!v)throw new Error("Your focus-trap needs to have at least one focusable element");return v},d=function(){if(l.containerGroups=l.containers.map(function(v){var g=mf(v,r.tabbableOptions),P=_f(v,r.tabbableOptions),D=g.length>0?g[0]:void 0,E=g.length>0?g[g.length-1]:void 0,W=P.find(function(z){return rn(z)}),K=P.slice().reverse().find(function(z){return rn(z)}),ee=!!g.find(function(z){return Gt(z)>0});return{container:v,tabbableNodes:g,focusableNodes:P,posTabIndexesFound:ee,firstTabbableNode:D,lastTabbableNode:E,firstDomTabbableNode:W,lastDomTabbableNode:K,nextTabbableNode:function(x){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ge=g.indexOf(x);return ge<0?ie?P.slice(P.indexOf(x)+1).find(function(j){return rn(j)}):P.slice(0,P.indexOf(x)).reverse().find(function(j){return rn(j)}):g[ge+(ie?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(v){return v.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(v){return v.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function T(v){var g=v.activeElement;if(g)return g.shadowRoot&&g.shadowRoot.activeElement!==null?T(g.shadowRoot):g},m=function T(v){if(v!==!1&&v!==h(document)){if(!v||!v.focus){T(c());return}v.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=v,wf(v)&&v.select()}},_=function(v){var g=f("setReturnFocus",v);return g||(g===!1?!1:v)},b=function(v){var g=v.target,P=v.event,D=v.isBackward,E=D===void 0?!1:D;g=g||zn(P),d();var W=null;if(l.tabbableGroups.length>0){var K=u(g,P),ee=K>=0?l.containerGroups[K]:void 0;if(K<0)E?W=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:W=l.tabbableGroups[0].firstTabbableNode;else if(E){var z=kr(l.tabbableGroups,function(be){var ke=be.firstTabbableNode;return g===ke});if(z<0&&(ee.container===g||xi(g,r.tabbableOptions)&&!rn(g,r.tabbableOptions)&&!ee.nextTabbableNode(g,!1))&&(z=K),z>=0){var x=z===0?l.tabbableGroups.length-1:z-1,ie=l.tabbableGroups[x];W=Gt(g)>=0?ie.lastTabbableNode:ie.lastDomTabbableNode}else Gn(P)||(W=ee.nextTabbableNode(g,!1))}else{var ge=kr(l.tabbableGroups,function(be){var ke=be.lastTabbableNode;return g===ke});if(ge<0&&(ee.container===g||xi(g,r.tabbableOptions)&&!rn(g,r.tabbableOptions)&&!ee.nextTabbableNode(g))&&(ge=K),ge>=0){var j=ge===l.tabbableGroups.length-1?0:ge+1,re=l.tabbableGroups[j];W=Gt(g)>=0?re.firstTabbableNode:re.firstDomTabbableNode}else Gn(P)||(W=ee.nextTabbableNode(g))}}else W=f("fallbackFocus");return W},y=function(v){var g=zn(v);if(!(u(g,v)>=0)){if(Nn(r.clickOutsideDeactivates,v)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Nn(r.allowOutsideClick,v)||v.preventDefault()}},N=function(v){var g=zn(v),P=u(g,v)>=0;if(P||g instanceof Document)P&&(l.mostRecentlyFocusedNode=g);else{v.stopImmediatePropagation();var D,E=!0;if(l.mostRecentlyFocusedNode)if(Gt(l.mostRecentlyFocusedNode)>0){var W=u(l.mostRecentlyFocusedNode),K=l.containerGroups[W].tabbableNodes;if(K.length>0){var ee=K.findIndex(function(z){return z===l.mostRecentlyFocusedNode});ee>=0&&(r.isKeyForward(l.recentNavEvent)?ee+1<K.length&&(D=K[ee+1],E=!1):ee-1>=0&&(D=K[ee-1],E=!1))}}else l.containerGroups.some(function(z){return z.tabbableNodes.some(function(x){return Gt(x)>0})})||(E=!1);else E=!1;E&&(D=b({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),m(D||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},I=function(v){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=v;var P=b({event:v,isBackward:g});P&&(Gn(v)&&v.preventDefault(),m(P))},V=function(v){if(kf(v)&&Nn(r.escapeDeactivates,v)!==!1){v.preventDefault(),a.deactivate();return}(r.isKeyForward(v)||r.isKeyBackward(v))&&I(v,r.isKeyBackward(v))},L=function(v){var g=zn(v);u(g,v)>=0||Nn(r.clickOutsideDeactivates,v)||Nn(r.allowOutsideClick,v)||(v.preventDefault(),v.stopImmediatePropagation())},F=function(){if(l.active)return yr.activateTrap(o,a),l.delayInitialFocusTimer=r.delayInitialFocus?wr(function(){m(c())}):m(c()),i.addEventListener("focusin",N,!0),i.addEventListener("mousedown",y,{capture:!0,passive:!1}),i.addEventListener("touchstart",y,{capture:!0,passive:!1}),i.addEventListener("click",L,{capture:!0,passive:!1}),i.addEventListener("keydown",V,{capture:!0,passive:!1}),a},R=function(){if(l.active)return i.removeEventListener("focusin",N,!0),i.removeEventListener("mousedown",y,!0),i.removeEventListener("touchstart",y,!0),i.removeEventListener("click",L,!0),i.removeEventListener("keydown",V,!0),a},B=function(v){var g=v.some(function(P){var D=Array.from(P.removedNodes);return D.some(function(E){return E===l.mostRecentlyFocusedNode})});g&&m(c())},p=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(B):void 0,Y=function(){p&&(p.disconnect(),l.active&&!l.paused&&l.containers.map(function(v){p.observe(v,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(v){if(l.active)return this;var g=s(v,"onActivate"),P=s(v,"onPostActivate"),D=s(v,"checkCanFocusTrap");D||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=i.activeElement,g==null||g();var E=function(){D&&d(),F(),Y(),P==null||P()};return D?(D(l.containers.concat()).then(E,E),this):(E(),this)},deactivate:function(v){if(!l.active)return this;var g=vr({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},v);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,R(),l.active=!1,l.paused=!1,Y(),yr.deactivateTrap(o,a);var P=s(g,"onDeactivate"),D=s(g,"onPostDeactivate"),E=s(g,"checkCanReturnFocus"),W=s(g,"returnFocus","returnFocusOnDeactivate");P==null||P();var K=function(){wr(function(){W&&m(_(l.nodeFocusedBeforeActivation)),D==null||D()})};return W&&E?(E(_(l.nodeFocusedBeforeActivation)).then(K,K),this):(K(),this)},pause:function(v){if(l.paused||!l.active)return this;var g=s(v,"onPause"),P=s(v,"onPostPause");return l.paused=!0,g==null||g(),R(),Y(),P==null||P(),this},unpause:function(v){if(!l.paused||!l.active)return this;var g=s(v,"onUnpause"),P=s(v,"onPostUnpause");return l.paused=!1,g==null||g(),d(),F(),Y(),P==null||P(),this},updateContainerElements:function(v){var g=[].concat(v).filter(Boolean);return l.containers=g.map(function(P){return typeof P=="string"?i.querySelector(P):P}),l.active&&d(),Y(),this}},a.updateContainerElements(e),a};function Nf(t={}){let e;const{immediate:n,...i}=t,o=Ye(!1),r=Ye(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=Tf(c,{...i,onActivate(){var d;o.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;o.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:ar(o),isPaused:ar(r),activate:l,deactivate:a,pause:s,unpause:u}}const If=(t,e="body")=>{let n;if(!Ft(e)&&typeof e!="string")return{destroy:je};async function i(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Ho(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function o(){t.remove()}return i(e),{update:i,destroy:o}};function Ef(t,e){let n=je;function i(o){n();const{onInteractOutside:r,onInteractOutsideStart:l,enabled:a}=o;if(!a)return;let s=!1,u=!1;function f(h){r&&ei(h,t)&&(l==null||l(h)),s=!0}function c(h){r==null||r(h)}const d=Mf(t);if(typeof PointerEvent<"u"){const h=m=>{s&&ei(m,t)&&c(m),s=!1};n=dn(Pt(d,"pointerdown",f,!0),Pt(d,"pointerup",h,!0))}else{const h=_=>{u?u=!1:s&&ei(_,t)&&c(_),s=!1},m=_=>{u=!0,s&&ei(_,t)&&c(_),s=!1};n=dn(Pt(d,"mousedown",f,!0),Pt(d,"mouseup",h,!0),Pt(d,"touchstart",f,!0),Pt(d,"touchend",m,!0))}}return i(e),{update:i,destroy:n}}function ei(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!Us(n))return!1;const i=n.ownerDocument;return!i||!i.documentElement.contains(n)?!1:e&&!e.contains(n)}function Mf(t){return(t==null?void 0:t.ownerDocument)??document}function Pf(){return{elements:{root:wt("label",{action:e=>({destroy:On(e,"mousedown",i=>{!i.defaultPrevented&&i.detail>1&&i.preventDefault()})})})}}}const ti=[];function Of(t,e){let n=je;function i(){const r=ti.indexOf(t);r>=0&&ti.splice(r,1)}function o(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;Ys(100).then(()=>{l?ti.push(t):i()});function f(){return Eu(ti)===t}function c(){f()&&a&&a()}function d(m){const _=m.target;Us(_)&&_&&f()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation())}function h(m){s!=null&&s(m)&&f()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation(),c())}n=Ef(t,{onInteractOutsideStart:d,onInteractOutside:u?h:void 0,enabled:l}).destroy}return o(e),{update:o,destroy(){i(),n()}}}const{name:Dt}=Mu("dialog"),Lf={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:"body",forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},Ff=["content","title","description"];function na(t){const e={...Lf,...t},n=_o(qu(e,"ids")),{preventScroll:i,closeOnEscape:o,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=Xn.writable(null),h=_o({...ju(Ff),...e.ids}),m=e.open??Ye(e.defaultOpen),_=Du(m,e==null?void 0:e.onOpenChange),b=Jn([_,s],([T,v])=>T||v);let y=je;function N(T){const v=T.currentTarget,g=T.currentTarget;!Ft(v)||!Ft(g)||(_.set(!0),d.set(g))}function I(){_.set(!1),mr({prop:f.get(),defaultEl:d.get()})}const V=wt(Dt("trigger"),{stores:[_],returned:([T])=>({"aria-haspopup":"dialog","aria-expanded":T,type:"button"}),action:T=>({destroy:dn(On(T,"click",g=>{N(g)}),On(T,"keydown",g=>{g.key!==Ln.ENTER&&g.key!==Ln.SPACE||(g.preventDefault(),N(g))}))})}),L=wt(Dt("overlay"),{stores:[b],returned:([T])=>({hidden:T?void 0:!0,tabindex:-1,style:mo({display:T?void 0:"none"}),"aria-hidden":!0,"data-state":T?"open":"closed"}),action:T=>{let v=je;if(o.get()){const g=_r(T,{handler:()=>{I()}});g&&g.destroy&&(v=g.destroy)}return{destroy(){v()}}}}),F=wt(Dt("content"),{stores:[b,h.content,h.description,h.title],returned:([T,v,g,P])=>({id:v,role:l.get(),"aria-describedby":g,"aria-labelledby":P,"aria-modal":T?"true":void 0,"data-state":T?"open":"closed",tabindex:-1,hidden:T?void 0:!0,style:mo({display:T?void 0:"none"})}),action:T=>{let v=je,g=je;const P=dn($t([_],([D])=>{if(!D)return;const E=Nf({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:T});v=E.activate,g=E.deactivate;const W=E.useFocusTrap(T);return W&&W.destroy?W.destroy:E.deactivate}),$t([r,_],([D,E])=>Of(T,{open:E,closeOnInteractOutside:D,onClose(){I()},shouldCloseOnInteractOutside(W){var K;return(K=c.get())==null||K(W),!W.defaultPrevented}}).destroy),$t([o],([D])=>{if(!D)return je;const E=_r(T,{handler:()=>{I()}});return E&&E.destroy?E.destroy:je}),$t([b],([D])=>{Ho().then(()=>{D?v():g()})}));return{destroy:()=>{y(),P()}}}}),R=wt(Dt("portalled"),{stores:a,returned:T=>({"data-portal":T?"":void 0}),action:T=>{const v=$t([a],([g])=>{if(!g)return je;const P=xu(T,g);if(P===null)return je;const D=If(T,P);return D&&D.destroy?D.destroy:je});return{destroy(){v()}}}}),B=wt(Dt("title"),{stores:[h.title],returned:([T])=>({id:T})}),p=wt(Dt("description"),{stores:[h.description],returned:([T])=>({id:T})}),Y=wt(Dt("close"),{returned:()=>({type:"button"}),action:T=>({destroy:dn(On(T,"click",()=>{I()}),On(T,"keydown",g=>{g.key!==Ln.SPACE&&g.key!==Ln.ENTER||(g.preventDefault(),I())}))})});return $t([_,i],([T,v])=>{if(Pu){if(v&&T&&(y=Xu()),T){const g=document.getElementById(h.content.get());mr({prop:u.get(),defaultEl:g})}return()=>{s.get()||y()}}}),{ids:h,elements:{content:F,trigger:V,title:B,description:p,overlay:L,close:Y,portalled:R},states:{open:_},options:n}}const Rf={orientation:"horizontal",decorative:!1},qf=t=>{const e={...Rf,...t},n=_o(e),{orientation:i,decorative:o}=n;return{elements:{root:wt("separator",{stores:[i,o],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}};function Ki(t,e){const n={};return e.forEach(i=>{n[i]={[`data-${t}-${i}`]:""}}),i=>n[i]}function Uo(){const t=_u();return e=>{const{originalEvent:n}=e.detail,{cancelable:i}=e,o=n.type;t(o,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:i})||e.preventDefault()}}function Yo(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=i)}return e}function Ni(t){return function(e,n){if(n===void 0)return;const i=t[e];i&&i.set(n)}}function ia(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function Df(t){const{NAME:e,PARTS:n}=ia(),i=Ki(e,n),o=na({...Yo(t),role:"alertdialog",forceVisible:!0}),r={...o,getAttrs:i,updateOption:Ni(o.options)};return $s(e,r),{...r,updateOption:Ni(r.options),getAttrs:i}}function yn(){const{NAME:t}=ia();return Bs(t)}const $f=t=>({ids:t&1}),Cr=t=>({ids:t[0]});function Bf(t){let e;const n=t[12].default,i=ae(n,t,t[11],Cr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,[r]){i&&i.p&&(!e||r&2049)&&fe(i,n,o,o[11],e?ue(n,o[11],r,$f):ce(o[11]),Cr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function Gf(t,e,n){let i,{$$slots:o={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:h=void 0}=e,{onOutsideClick:m=void 0}=e;const{states:{open:_},updateOption:b,ids:y}=Df({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:h,onOutsideClick:m,onOpenChange:({next:I})=>(f!==I&&(c==null||c(I),n(2,f=I)),I)}),N=Jn([y.content,y.description,y.title],([I,V,L])=>({content:I,description:V,title:L}));return se(t,N,I=>n(0,i=I)),t.$$set=I=>{"preventScroll"in I&&n(3,l=I.preventScroll),"closeOnEscape"in I&&n(4,a=I.closeOnEscape),"closeOnOutsideClick"in I&&n(5,s=I.closeOnOutsideClick),"portal"in I&&n(6,u=I.portal),"open"in I&&n(2,f=I.open),"onOpenChange"in I&&n(7,c=I.onOpenChange),"openFocus"in I&&n(8,d=I.openFocus),"closeFocus"in I&&n(9,h=I.closeFocus),"onOutsideClick"in I&&n(10,m=I.onOutsideClick),"$$scope"in I&&n(11,r=I.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&b("preventScroll",l),t.$$.dirty&16&&b("closeOnEscape",a),t.$$.dirty&32&&b("closeOnOutsideClick",s),t.$$.dirty&64&&b("portal",u),t.$$.dirty&256&&b("openFocus",d),t.$$.dirty&512&&b("closeFocus",h),t.$$.dirty&1024&&b("onOutsideClick",m)},[i,N,f,l,a,s,u,c,d,h,m,r,o]}class jf extends he{constructor(e){super(),pe(this,e,Gf,Bf,le,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const Hf=t=>({builder:t&8}),Sr=t=>({builder:t[3]}),Wf=t=>({builder:t&8}),Ar=t=>({builder:t[3]});function Vf(t){let e=t[1],n,i,o=t[1]&&zi(t);return{c(){o&&o.c(),n=Te()},m(r,l){o&&o.m(r,l),k(r,n,l),i=!0},p(r,l){r[1]?e?le(e,r[1])?(o.d(1),o=zi(r),e=r[1],o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=zi(r),e=r[1],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=r[1])},i(r){i||(C(o,r),i=!0)},o(r){S(o,r),i=!1},d(r){r&&w(n),o&&o.d(r)}}}function Kf(t){let e;const n=t[9].default,i=ae(n,t,t[8],Ar);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&264)&&fe(i,n,o,o[8],e?ue(n,o[8],r,Wf):ce(o[8]),Ar)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function zi(t){let e,n,i,o;const r=t[9].default,l=ae(r,t,t[8],Sr);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O(t[1]),l&&l.c(),Ot(t[1])(e,s)},m(u,f){k(u,e,f),l&&l.m(e,null),t[10](e),n=!0,i||(o=Le(t[3].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&264)&&fe(l,r,u,u[8],n?ue(r,u[8],f,Hf):ce(u[8]),Sr),Ot(u[1])(e,s=de(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&w(e),l&&l.d(u),t[10](null),i=!1,o()}}}function Uf(t){let e,n,i,o;const r=[Kf,Vf],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Te()},m(s,u){l[e].m(s,u),k(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&w(i),l[e].d(s)}}}function Yf(t,e,n){let i;const o=["level","asChild","id","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:h},ids:m,getAttrs:_}=yn();se(t,h,N=>n(7,l=N));const b=_("title");function y(N){Se[N?"unshift":"push"](()=>{d=N,n(0,d)})}return t.$$set=N=>{e=G(G({},e),Ae(N)),n(5,r=ne(e,o)),"level"in N&&n(1,u=N.level),"asChild"in N&&n(2,f=N.asChild),"id"in N&&n(6,c=N.id),"el"in N&&n(0,d=N.el),"$$scope"in N&&n(8,s=N.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&m.title.set(c),t.$$.dirty&128&&n(3,i=l),t.$$.dirty&8&&Object.assign(i,b)},[d,u,f,i,h,r,c,l,s,a,y]}let Jf=class extends he{constructor(e){super(),pe(this,e,Yf,Uf,le,{level:1,asChild:2,id:6,el:0})}};const Xf=t=>({builder:t&4}),Tr=t=>({builder:t[2]}),Zf=t=>({builder:t&4}),Nr=t=>({builder:t[2]});function Qf(t){let e,n,i,o;const r=t[8].default,l=ae(r,t,t[7],Tr);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("button"),l&&l.c(),oe(e,s)},m(u,f){k(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,i||(o=[Le(t[2].action(e)),H(e,"m-click",t[4]),H(e,"m-keydown",t[4])],i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&fe(l,r,u,u[7],n?ue(r,u[7],f,Xf):ce(u[7]),Tr),oe(e,s=de(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&w(e),l&&l.d(u),t[9](null),i=!1,Ee(o)}}}function xf(t){let e;const n=t[8].default,i=ae(n,t,t[7],Nr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&fe(i,n,o,o[7],e?ue(n,o[7],r,Zf):ce(o[7]),Nr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function zf(t){let e,n,i,o;const r=[xf,Qf],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Te()},m(s,u){l[e].m(s,u),k(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&w(i),l[e].d(s)}}}function ec(t,e,n){let i;const o=["asChild","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=yn();se(t,c,b=>n(6,l=b));const h=Uo(),m=d("action");function _(b){Se[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=G(G({},e),Ae(b)),n(5,r=ne(e,o)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,m)},[f,u,i,c,h,r,l,s,a,_]}let tc=class extends he{constructor(e){super(),pe(this,e,ec,zf,le,{asChild:1,el:0})}};const nc=t=>({builder:t&4}),Ir=t=>({builder:t[2]}),ic=t=>({builder:t&4}),Er=t=>({builder:t[2]});function oc(t){let e,n,i,o;const r=t[7].default,l=ae(r,t,t[6],Ir);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("div"),l&&l.c(),oe(e,s)},m(u,f){k(u,e,f),l&&l.m(e,null),t[8](e),n=!0,i||(o=Le(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&68)&&fe(l,r,u,u[6],n?ue(r,u[6],f,nc):ce(u[6]),Ir),oe(e,s=de(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&w(e),l&&l.d(u),t[8](null),i=!1,o()}}}function rc(t){let e;const n=t[7].default,i=ae(n,t,t[6],Er);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&68)&&fe(i,n,o,o[6],e?ue(n,o[6],r,ic):ce(o[6]),Er)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function lc(t){let e,n,i,o;const r=[rc,oc],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Te()},m(s,u){l[e].m(s,u),k(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&w(i),l[e].d(s)}}}function sc(t,e,n){let i;const o=["asChild","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=yn();se(t,c,_=>n(5,l=_));const h=d("portal");function m(_){Se[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=G(G({},e),Ae(_)),n(4,r=ne(e,o)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,h)},[f,u,i,c,r,l,s,a,m]}let ac=class extends he{constructor(e){super(),pe(this,e,sc,lc,le,{asChild:1,el:0})}};const uc=t=>({builder:t[0]&256}),Mr=t=>({builder:t[8]}),fc=t=>({builder:t[0]&256}),Pr=t=>({builder:t[8]}),cc=t=>({builder:t[0]&256}),Or=t=>({builder:t[8]}),dc=t=>({builder:t[0]&256}),Lr=t=>({builder:t[8]}),pc=t=>({builder:t[0]&256}),Fr=t=>({builder:t[8]}),hc=t=>({builder:t[0]&256}),Rr=t=>({builder:t[8]});function mc(t){let e,n,i,o;const r=t[16].default,l=ae(r,t,t[15],Mr);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("div"),l&&l.c(),oe(e,s)},m(u,f){k(u,e,f),l&&l.m(e,null),t[56](e),n=!0,i||(o=[Le(t[8].action(e)),H(e,"pointerdown",t[45]),H(e,"pointermove",t[46]),H(e,"pointerup",t[47]),H(e,"touchend",t[48]),H(e,"touchstart",t[49]),H(e,"touchcancel",t[50]),H(e,"touchmove",t[51])],i=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&fe(l,r,u,u[15],n?ue(r,u[15],f,uc):ce(u[15]),Mr),oe(e,s=de(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&w(e),l&&l.d(u),t[56](null),i=!1,Ee(o)}}}function _c(t){let e,n,i,o,r;const l=t[16].default,a=ae(l,t,t[15],Pr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=G(u,s[f]);return{c(){e=O("div"),a&&a.c(),oe(e,u)},m(f,c){k(f,e,c),a&&a.m(e,null),t[55](e),i=!0,o||(r=[Le(t[8].action(e)),H(e,"pointerdown",t[38]),H(e,"pointermove",t[39]),H(e,"pointerup",t[40]),H(e,"touchend",t[41]),H(e,"touchstart",t[42]),H(e,"touchcancel",t[43]),H(e,"touchmove",t[44])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&fe(a,l,t,t[15],i?ue(l,t[15],c,fc):ce(t[15]),Pr),oe(e,u=de(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(C(a,f),n&&n.end(1),i=!0)},o(f){S(a,f),f&&(n=qt(e,t[5],t[6])),i=!1},d(f){f&&w(e),a&&a.d(f),t[55](null),f&&n&&n.end(),o=!1,Ee(r)}}}function gc(t){let e,n,i,o,r;const l=t[16].default,a=ae(l,t,t[15],Or);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=G(u,s[f]);return{c(){e=O("div"),a&&a.c(),oe(e,u)},m(f,c){k(f,e,c),a&&a.m(e,null),t[54](e),i=!0,o||(r=[Le(t[8].action(e)),H(e,"pointerdown",t[31]),H(e,"pointermove",t[32]),H(e,"pointerup",t[33]),H(e,"touchend",t[34]),H(e,"touchstart",t[35]),H(e,"touchcancel",t[36]),H(e,"touchmove",t[37])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&fe(a,l,t,t[15],i?ue(l,t[15],c,cc):ce(t[15]),Or),oe(e,u=de(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(C(a,f),f&&(n||Ue(()=>{n=Rt(e,t[3],t[4]),n.start()})),i=!0)},o(f){S(a,f),i=!1},d(f){f&&w(e),a&&a.d(f),t[54](null),o=!1,Ee(r)}}}function bc(t){let e,n,i,o,r,l;const a=t[16].default,s=ae(a,t,t[15],Lr);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=G(f,u[c]);return{c(){e=O("div"),s&&s.c(),oe(e,f)},m(c,d){k(c,e,d),s&&s.m(e,null),t[53](e),o=!0,r||(l=[Le(t[8].action(e)),H(e,"pointerdown",t[24]),H(e,"pointermove",t[25]),H(e,"pointerup",t[26]),H(e,"touchend",t[27]),H(e,"touchstart",t[28]),H(e,"touchcancel",t[29]),H(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!o||d[0]&33024)&&fe(s,a,t,t[15],o?ue(a,t[15],d,dc):ce(t[15]),Lr),oe(e,f=de(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){o||(C(s,c),c&&Ue(()=>{o&&(i&&i.end(1),n=Rt(e,t[3],t[4]),n.start())}),o=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(i=qt(e,t[5],t[6])),o=!1},d(c){c&&w(e),s&&s.d(c),t[53](null),c&&i&&i.end(),r=!1,Ee(l)}}}function vc(t){let e,n,i,o,r;const l=t[16].default,a=ae(l,t,t[15],Fr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=G(u,s[f]);return{c(){e=O("div"),a&&a.c(),oe(e,u)},m(f,c){k(f,e,c),a&&a.m(e,null),t[52](e),i=!0,o||(r=[Le(t[8].action(e)),H(e,"pointerdown",t[17]),H(e,"pointermove",t[18]),H(e,"pointerup",t[19]),H(e,"touchend",t[20]),H(e,"touchstart",t[21]),H(e,"touchcancel",t[22]),H(e,"touchmove",t[23])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&fe(a,l,t,t[15],i?ue(l,t[15],c,pc):ce(t[15]),Fr),oe(e,u=de(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(C(a,f),f&&Ue(()=>{i&&(n||(n=Lt(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(f){S(a,f),f&&(n||(n=Lt(e,t[1],t[2],!1)),n.run(0)),i=!1},d(f){f&&w(e),a&&a.d(f),t[52](null),f&&n&&n.end(),o=!1,Ee(r)}}}function yc(t){let e;const n=t[16].default,i=ae(n,t,t[15],Rr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[0]&33024)&&fe(i,n,o,o[15],e?ue(n,o[15],r,hc):ce(o[15]),Rr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function wc(t){let e,n,i,o;const r=[yc,vc,bc,gc,_c,mc],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Te()},m(s,u){~e&&l[e].m(s,u),k(s,i,u),o=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&w(i),~e&&l[e].d(s)}}}function kc(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=ne(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{id:b=void 0}=e,{asChild:y=!1}=e,{el:N=void 0}=e;const{elements:{content:I},states:{open:V},ids:L,getAttrs:F}=yn();se(t,I,A=>n(14,l=A)),se(t,V,A=>n(9,a=A));const R=F("content");function B(A){J.call(this,t,A)}function p(A){J.call(this,t,A)}function Y(A){J.call(this,t,A)}function T(A){J.call(this,t,A)}function v(A){J.call(this,t,A)}function g(A){J.call(this,t,A)}function P(A){J.call(this,t,A)}function D(A){J.call(this,t,A)}function E(A){J.call(this,t,A)}function W(A){J.call(this,t,A)}function K(A){J.call(this,t,A)}function ee(A){J.call(this,t,A)}function z(A){J.call(this,t,A)}function x(A){J.call(this,t,A)}function ie(A){J.call(this,t,A)}function ge(A){J.call(this,t,A)}function j(A){J.call(this,t,A)}function re(A){J.call(this,t,A)}function be(A){J.call(this,t,A)}function ke(A){J.call(this,t,A)}function De(A){J.call(this,t,A)}function qe(A){J.call(this,t,A)}function Fe(A){J.call(this,t,A)}function Re(A){J.call(this,t,A)}function Ve(A){J.call(this,t,A)}function mt(A){J.call(this,t,A)}function xe(A){J.call(this,t,A)}function ze(A){J.call(this,t,A)}function it(A){J.call(this,t,A)}function He(A){J.call(this,t,A)}function Qe(A){J.call(this,t,A)}function _t(A){J.call(this,t,A)}function st(A){J.call(this,t,A)}function Je(A){J.call(this,t,A)}function Xe(A){J.call(this,t,A)}function Be(A){Se[A?"unshift":"push"](()=>{N=A,n(0,N)})}function Me(A){Se[A?"unshift":"push"](()=>{N=A,n(0,N)})}function ve(A){Se[A?"unshift":"push"](()=>{N=A,n(0,N)})}function te(A){Se[A?"unshift":"push"](()=>{N=A,n(0,N)})}function $e(A){Se[A?"unshift":"push"](()=>{N=A,n(0,N)})}return t.$$set=A=>{e=G(G({},e),Ae(A)),n(12,r=ne(e,o)),"transition"in A&&n(1,f=A.transition),"transitionConfig"in A&&n(2,c=A.transitionConfig),"inTransition"in A&&n(3,d=A.inTransition),"inTransitionConfig"in A&&n(4,h=A.inTransitionConfig),"outTransition"in A&&n(5,m=A.outTransition),"outTransitionConfig"in A&&n(6,_=A.outTransitionConfig),"id"in A&&n(13,b=A.id),"asChild"in A&&n(7,y=A.asChild),"el"in A&&n(0,N=A.el),"$$scope"in A&&n(15,u=A.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&b&&L.content.set(b),t.$$.dirty[0]&16384&&n(8,i=l),t.$$.dirty[0]&256&&Object.assign(i,R)},[N,f,c,d,h,m,_,y,i,a,I,V,r,b,l,u,s,B,p,Y,T,v,g,P,D,E,W,K,ee,z,x,ie,ge,j,re,be,ke,De,qe,Fe,Re,Ve,mt,xe,ze,it,He,Qe,_t,st,Je,Xe,Be,Me,ve,te,$e]}let Cc=class extends he{constructor(e){super(),pe(this,e,kc,wc,le,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const Sc=t=>({builder:t&256}),qr=t=>({builder:t[8]});function Ac(t){let e,n,i,o=[t[8],t[12]],r={};for(let l=0;l<o.length;l+=1)r=G(r,o[l]);return{c(){e=O("div"),oe(e,r)},m(l,a){k(l,e,a),t[20](e),n||(i=Le(t[8].action(e)),n=!0)},p(l,a){oe(e,r=de(o,[a&256&&l[8],a&4096&&l[12]]))},i:_e,o:_e,d(l){l&&w(e),t[20](null),n=!1,i()}}}function Tc(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=G(a,l[s]);return{c(){e=O("div"),oe(e,a)},m(s,u){k(s,e,u),t[19](e),i=!0,o||(r=Le(t[8].action(e)),o=!0)},p(s,u){t=s,oe(e,a=de(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(n&&n.end(1),i=!0)},o(s){s&&(n=qt(e,t[5],t[6])),i=!1},d(s){s&&w(e),t[19](null),s&&n&&n.end(),o=!1,r()}}}function Nc(t){let e,n,i,o,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=G(l,r[a]);return{c(){e=O("div"),oe(e,l)},m(a,s){k(a,e,s),t[18](e),i||(o=Le(t[8].action(e)),i=!0)},p(a,s){t=a,oe(e,l=de(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||Ue(()=>{n=Rt(e,t[3],t[4]),n.start()}))},o:_e,d(a){a&&w(e),t[18](null),i=!1,o()}}}function Ic(t){let e,n,i,o,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("div"),oe(e,s)},m(u,f){k(u,e,f),t[17](e),o=!0,r||(l=Le(t[8].action(e)),r=!0)},p(u,f){t=u,oe(e,s=de(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){o||(u&&Ue(()=>{o&&(i&&i.end(1),n=Rt(e,t[3],t[4]),n.start())}),o=!0)},o(u){n&&n.invalidate(),u&&(i=qt(e,t[5],t[6])),o=!1},d(u){u&&w(e),t[17](null),u&&i&&i.end(),r=!1,l()}}}function Ec(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=G(a,l[s]);return{c(){e=O("div"),oe(e,a)},m(s,u){k(s,e,u),t[16](e),i=!0,o||(r=Le(t[8].action(e)),o=!0)},p(s,u){t=s,oe(e,a=de(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(s&&Ue(()=>{i&&(n||(n=Lt(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(s){s&&(n||(n=Lt(e,t[1],t[2],!1)),n.run(0)),i=!1},d(s){s&&w(e),t[16](null),s&&n&&n.end(),o=!1,r()}}}function Mc(t){let e;const n=t[15].default,i=ae(n,t,t[14],qr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16640)&&fe(i,n,o,o[14],e?ue(n,o[14],r,Sc):ce(o[14]),qr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function Pc(t){let e,n,i,o;const r=[Mc,Ec,Ic,Nc,Tc,Ac],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Te()},m(s,u){~e&&l[e].m(s,u),k(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&w(i),~e&&l[e].d(s)}}}function Oc(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ne(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:b=!1}=e,{el:y=void 0}=e;const{elements:{overlay:N},states:{open:I},getAttrs:V}=yn();se(t,N,T=>n(13,l=T)),se(t,I,T=>n(9,a=T));const L=V("overlay");function F(T){Se[T?"unshift":"push"](()=>{y=T,n(0,y)})}function R(T){Se[T?"unshift":"push"](()=>{y=T,n(0,y)})}function B(T){Se[T?"unshift":"push"](()=>{y=T,n(0,y)})}function p(T){Se[T?"unshift":"push"](()=>{y=T,n(0,y)})}function Y(T){Se[T?"unshift":"push"](()=>{y=T,n(0,y)})}return t.$$set=T=>{e=G(G({},e),Ae(T)),n(12,r=ne(e,o)),"transition"in T&&n(1,f=T.transition),"transitionConfig"in T&&n(2,c=T.transitionConfig),"inTransition"in T&&n(3,d=T.inTransition),"inTransitionConfig"in T&&n(4,h=T.inTransitionConfig),"outTransition"in T&&n(5,m=T.outTransition),"outTransitionConfig"in T&&n(6,_=T.outTransitionConfig),"asChild"in T&&n(7,b=T.asChild),"el"in T&&n(0,y=T.el),"$$scope"in T&&n(14,u=T.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,i=l),t.$$.dirty&256&&Object.assign(i,L)},[y,f,c,d,h,m,_,b,i,a,N,I,r,l,u,s,F,R,B,p,Y]}let Lc=class extends he{constructor(e){super(),pe(this,e,Oc,Pc,le,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Fc=t=>({builder:t&4}),Dr=t=>({builder:t[2]}),Rc=t=>({builder:t&4}),$r=t=>({builder:t[2]});function qc(t){let e,n,i,o;const r=t[8].default,l=ae(r,t,t[7],Dr);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("div"),l&&l.c(),oe(e,s)},m(u,f){k(u,e,f),l&&l.m(e,null),t[9](e),n=!0,i||(o=Le(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&fe(l,r,u,u[7],n?ue(r,u[7],f,Fc):ce(u[7]),Dr),oe(e,s=de(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&w(e),l&&l.d(u),t[9](null),i=!1,o()}}}function Dc(t){let e;const n=t[8].default,i=ae(n,t,t[7],$r);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&fe(i,n,o,o[7],e?ue(n,o[7],r,Rc):ce(o[7]),$r)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function $c(t){let e,n,i,o;const r=[Dc,qc],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Te()},m(s,u){l[e].m(s,u),k(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&w(i),l[e].d(s)}}}function Bc(t,e,n){let i;const o=["asChild","id","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:h,getAttrs:m}=yn();se(t,d,y=>n(6,l=y));const _=m("description");function b(y){Se[y?"unshift":"push"](()=>{c=y,n(0,c)})}return t.$$set=y=>{e=G(G({},e),Ae(y)),n(4,r=ne(e,o)),"asChild"in y&&n(1,u=y.asChild),"id"in y&&n(5,f=y.id),"el"in y&&n(0,c=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&h.description.set(f),t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,_)},[c,u,i,d,r,f,l,s,a,b]}let Gc=class extends he{constructor(e){super(),pe(this,e,Bc,$c,le,{asChild:1,id:5,el:0})}};function jc(t,e){const n=[];return e.builders.forEach(i=>{const o=i.action(t);o&&n.push(o)}),{destroy:()=>{n.forEach(i=>{i.destroy&&i.destroy()})}}}function Br(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(i=>{i!=="action"&&(e[i]=n[i])})}),e}function Hc(t){let e=t[1]?"a":"button",n,i,o=(t[1]?"a":"button")&&eo(t);return{c(){o&&o.c(),n=Te()},m(r,l){o&&o.m(r,l),k(r,n,l),i=!0},p(r,l){r[1],e?le(e,r[1]?"a":"button")?(o.d(1),o=eo(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=eo(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n))},i(r){i||(C(o,r),i=!0)},o(r){S(o,r),i=!1},d(r){r&&w(n),o&&o.d(r)}}}function Wc(t){let e=t[1]?"a":"button",n,i,o=(t[1]?"a":"button")&&to(t);return{c(){o&&o.c(),n=Te()},m(r,l){o&&o.m(r,l),k(r,n,l),i=!0},p(r,l){r[1],e?le(e,r[1]?"a":"button")?(o.d(1),o=to(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=to(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n))},i(r){i||(C(o,r),i=!0)},o(r){S(o,r),i=!1},d(r){r&&w(n),o&&o.d(r)}}}function eo(t){let e,n,i,o,r;const l=t[7].default,a=ae(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=G(u,s[f]);return{c(){e=O(t[1]?"a":"button"),a&&a.c(),Ot(t[1]?"a":"button")(e,u)},m(f,c){k(f,e,c),a&&a.m(e,null),i=!0,o||(r=[H(e,"click",t[14]),H(e,"change",t[15]),H(e,"keydown",t[16]),H(e,"keyup",t[17]),H(e,"mouseenter",t[18]),H(e,"mouseleave",t[19])],o=!0)},p(f,c){a&&a.p&&(!i||c&64)&&fe(a,l,f,f[6],i?ue(l,f[6],c,null):ce(f[6]),null),Ot(f[1]?"a":"button")(e,u=de(s,[(!i||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!i||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){i||(C(a,f),i=!0)},o(f){S(a,f),i=!1},d(f){f&&w(e),a&&a.d(f),o=!1,Ee(r)}}}function to(t){let e,n,i,o,r,l;const a=t[7].default,s=ae(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},Br(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=G(f,u[c]);return{c(){e=O(t[1]?"a":"button"),s&&s.c(),Ot(t[1]?"a":"button")(e,f)},m(c,d){k(c,e,d),s&&s.m(e,null),t[20](e),o=!0,r||(l=[H(e,"click",t[8]),H(e,"change",t[9]),H(e,"keydown",t[10]),H(e,"keyup",t[11]),H(e,"mouseenter",t[12]),H(e,"mouseleave",t[13]),Le(i=jc.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!o||d&64)&&fe(s,a,c,c[6],o?ue(a,c[6],d,null):ce(c[6]),null),Ot(c[1]?"a":"button")(e,f=de(u,[(!o||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!o||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&Br(c[3]),d&32&&c[5],c[4]])),i&&At(i.update)&&d&8&&i.update.call(null,{builders:c[3]})},i(c){o||(C(s,c),o=!0)},o(c){S(s,c),o=!1},d(c){c&&w(e),s&&s.d(c),t[20](null),r=!1,Ee(l)}}}function Vc(t){let e,n,i,o;const r=[Wc,Hc],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Te()},m(s,u){l[e].m(s,u),k(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&w(i),l[e].d(s)}}}function Kc(t,e,n){const i=["href","type","builders","el"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(p){J.call(this,t,p)}function h(p){J.call(this,t,p)}function m(p){J.call(this,t,p)}function _(p){J.call(this,t,p)}function b(p){J.call(this,t,p)}function y(p){J.call(this,t,p)}function N(p){J.call(this,t,p)}function I(p){J.call(this,t,p)}function V(p){J.call(this,t,p)}function L(p){J.call(this,t,p)}function F(p){J.call(this,t,p)}function R(p){J.call(this,t,p)}function B(p){Se[p?"unshift":"push"](()=>{f=p,n(0,f)})}return t.$$set=p=>{e=G(G({},e),Ae(p)),n(5,o=ne(e,i)),"href"in p&&n(1,a=p.href),"type"in p&&n(2,s=p.type),"builders"in p&&n(3,u=p.builders),"el"in p&&n(0,f=p.el),"$$scope"in p&&n(6,l=p.$$scope)},[f,a,s,u,c,o,l,r,d,h,m,_,b,y,N,I,V,L,F,R,B]}let Uc=class extends he{constructor(e){super(),pe(this,e,Kc,Vc,le,{href:1,type:2,builders:3,el:0})}};function Yc(){return{NAME:"separator",PARTS:["root"]}}function Jc(t){const{NAME:e,PARTS:n}=Yc(),i=Ki(e,n),o={...qf(Yo(t)),getAttrs:i};return{...o,updateOption:Ni(o.options)}}const Xc=t=>({builder:t&4}),Gr=t=>({builder:t[2]});function Zc(t){let e,n,i,o=[t[2],t[4]],r={};for(let l=0;l<o.length;l+=1)r=G(r,o[l]);return{c(){e=O("div"),oe(e,r)},m(l,a){k(l,e,a),t[10](e),n||(i=Le(t[2].action(e)),n=!0)},p(l,a){oe(e,r=de(o,[a&4&&l[2],a&16&&l[4]]))},i:_e,o:_e,d(l){l&&w(e),t[10](null),n=!1,i()}}}function Qc(t){let e;const n=t[9].default,i=ae(n,t,t[8],Gr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&260)&&fe(i,n,o,o[8],e?ue(n,o[8],r,Xc):ce(o[8]),Gr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function xc(t){let e,n,i,o;const r=[Qc,Zc],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Te()},m(s,u){l[e].m(s,u),k(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&w(i),l[e].d(s)}}}function zc(t,e,n){let i;const o=["orientation","decorative","asChild","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:h},updateOption:m,getAttrs:_}=Jc({orientation:u,decorative:f});se(t,h,N=>n(7,l=N));const b=_("root");function y(N){Se[N?"unshift":"push"](()=>{d=N,n(0,d)})}return t.$$set=N=>{e=G(G({},e),Ae(N)),n(4,r=ne(e,o)),"orientation"in N&&n(5,u=N.orientation),"decorative"in N&&n(6,f=N.decorative),"asChild"in N&&n(1,c=N.asChild),"el"in N&&n(0,d=N.el),"$$scope"in N&&n(8,s=N.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&m("orientation",u),t.$$.dirty&64&&m("decorative",f),t.$$.dirty&128&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,b)},[d,c,i,h,r,u,f,l,s,a,y]}let ed=class extends he{constructor(e){super(),pe(this,e,zc,xc,le,{orientation:5,decorative:6,asChild:1,el:0})}};function oa(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function td(t){const{NAME:e,PARTS:n}=oa(),i=Ki(e,n),o={...na({...Yo(t),role:"dialog",forceVisible:!0}),getAttrs:i};return $s(e,o),{...o,updateOption:Ni(o.options)}}function wn(){const{NAME:t}=oa();return Bs(t)}const nd=t=>({ids:t&1}),jr=t=>({ids:t[0]});function id(t){let e;const n=t[12].default,i=ae(n,t,t[11],jr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,[r]){i&&i.p&&(!e||r&2049)&&fe(i,n,o,o[11],e?ue(n,o[11],r,nd):ce(o[11]),jr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function od(t,e,n){let i,{$$slots:o={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:h=void 0}=e,{onOutsideClick:m=void 0}=e;const{states:{open:_},updateOption:b,ids:y}=td({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:h,onOutsideClick:m,onOpenChange:({next:I})=>(f!==I&&(c==null||c(I),n(2,f=I)),I)}),N=Jn([y.content,y.description,y.title],([I,V,L])=>({content:I,description:V,title:L}));return se(t,N,I=>n(0,i=I)),t.$$set=I=>{"preventScroll"in I&&n(3,l=I.preventScroll),"closeOnEscape"in I&&n(4,a=I.closeOnEscape),"closeOnOutsideClick"in I&&n(5,s=I.closeOnOutsideClick),"portal"in I&&n(6,u=I.portal),"open"in I&&n(2,f=I.open),"onOpenChange"in I&&n(7,c=I.onOpenChange),"openFocus"in I&&n(8,d=I.openFocus),"closeFocus"in I&&n(9,h=I.closeFocus),"onOutsideClick"in I&&n(10,m=I.onOutsideClick),"$$scope"in I&&n(11,r=I.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&b("preventScroll",l),t.$$.dirty&16&&b("closeOnEscape",a),t.$$.dirty&32&&b("closeOnOutsideClick",s),t.$$.dirty&64&&b("portal",u),t.$$.dirty&256&&b("openFocus",d),t.$$.dirty&512&&b("closeFocus",h),t.$$.dirty&1024&&b("onOutsideClick",m)},[i,N,f,l,a,s,u,c,d,h,m,r,o]}class rd extends he{constructor(e){super(),pe(this,e,od,id,le,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const ld=t=>({builder:t&8}),Hr=t=>({builder:t[3]}),sd=t=>({builder:t&8}),Wr=t=>({builder:t[3]});function ad(t){let e=t[1],n,i,o=t[1]&&no(t);return{c(){o&&o.c(),n=Te()},m(r,l){o&&o.m(r,l),k(r,n,l),i=!0},p(r,l){r[1]?e?le(e,r[1])?(o.d(1),o=no(r),e=r[1],o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=no(r),e=r[1],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=r[1])},i(r){i||(C(o,r),i=!0)},o(r){S(o,r),i=!1},d(r){r&&w(n),o&&o.d(r)}}}function ud(t){let e;const n=t[9].default,i=ae(n,t,t[8],Wr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&264)&&fe(i,n,o,o[8],e?ue(n,o[8],r,sd):ce(o[8]),Wr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function no(t){let e,n,i,o;const r=t[9].default,l=ae(r,t,t[8],Hr);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O(t[1]),l&&l.c(),Ot(t[1])(e,s)},m(u,f){k(u,e,f),l&&l.m(e,null),t[10](e),n=!0,i||(o=Le(t[3].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&264)&&fe(l,r,u,u[8],n?ue(r,u[8],f,ld):ce(u[8]),Hr),Ot(u[1])(e,s=de(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&w(e),l&&l.d(u),t[10](null),i=!1,o()}}}function fd(t){let e,n,i,o;const r=[ud,ad],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Te()},m(s,u){l[e].m(s,u),k(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&w(i),l[e].d(s)}}}function cd(t,e,n){let i;const o=["level","asChild","id","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:h},ids:m,getAttrs:_}=wn();se(t,h,N=>n(7,l=N));const b=_("title");function y(N){Se[N?"unshift":"push"](()=>{d=N,n(0,d)})}return t.$$set=N=>{e=G(G({},e),Ae(N)),n(5,r=ne(e,o)),"level"in N&&n(1,u=N.level),"asChild"in N&&n(2,f=N.asChild),"id"in N&&n(6,c=N.id),"el"in N&&n(0,d=N.el),"$$scope"in N&&n(8,s=N.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&m.title.set(c),t.$$.dirty&128&&n(3,i=l),t.$$.dirty&8&&Object.assign(i,b)},[d,u,f,i,h,r,c,l,s,a,y]}let dd=class extends he{constructor(e){super(),pe(this,e,cd,fd,le,{level:1,asChild:2,id:6,el:0})}};const pd=t=>({builder:t&4}),Vr=t=>({builder:t[2]}),hd=t=>({builder:t&4}),Kr=t=>({builder:t[2]});function md(t){let e,n,i,o;const r=t[8].default,l=ae(r,t,t[7],Vr);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("button"),l&&l.c(),oe(e,s)},m(u,f){k(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,i||(o=[Le(t[2].action(e)),H(e,"m-click",t[4]),H(e,"m-keydown",t[4])],i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&fe(l,r,u,u[7],n?ue(r,u[7],f,pd):ce(u[7]),Vr),oe(e,s=de(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&w(e),l&&l.d(u),t[9](null),i=!1,Ee(o)}}}function _d(t){let e;const n=t[8].default,i=ae(n,t,t[7],Kr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&fe(i,n,o,o[7],e?ue(n,o[7],r,hd):ce(o[7]),Kr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function gd(t){let e,n,i,o;const r=[_d,md],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Te()},m(s,u){l[e].m(s,u),k(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&w(i),l[e].d(s)}}}function bd(t,e,n){let i;const o=["asChild","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=wn();se(t,c,b=>n(6,l=b));const h=Uo(),m=d("close");function _(b){Se[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=G(G({},e),Ae(b)),n(5,r=ne(e,o)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,m)},[f,u,i,c,h,r,l,s,a,_]}class vd extends he{constructor(e){super(),pe(this,e,bd,gd,le,{asChild:1,el:0})}}const yd=t=>({builder:t&4}),Ur=t=>({builder:t[2]}),wd=t=>({builder:t&4}),Yr=t=>({builder:t[2]});function kd(t){let e,n,i,o;const r=t[7].default,l=ae(r,t,t[6],Ur);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("div"),l&&l.c(),oe(e,s)},m(u,f){k(u,e,f),l&&l.m(e,null),t[8](e),n=!0,i||(o=Le(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&68)&&fe(l,r,u,u[6],n?ue(r,u[6],f,yd):ce(u[6]),Ur),oe(e,s=de(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&w(e),l&&l.d(u),t[8](null),i=!1,o()}}}function Cd(t){let e;const n=t[7].default,i=ae(n,t,t[6],Yr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&68)&&fe(i,n,o,o[6],e?ue(n,o[6],r,wd):ce(o[6]),Yr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function Sd(t){let e,n,i,o;const r=[Cd,kd],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Te()},m(s,u){l[e].m(s,u),k(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&w(i),l[e].d(s)}}}function Ad(t,e,n){let i;const o=["asChild","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=wn();se(t,c,_=>n(5,l=_));const h=d("portal");function m(_){Se[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=G(G({},e),Ae(_)),n(4,r=ne(e,o)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,h)},[f,u,i,c,r,l,s,a,m]}let Td=class extends he{constructor(e){super(),pe(this,e,Ad,Sd,le,{asChild:1,el:0})}};const Nd=t=>({builder:t[0]&256}),Jr=t=>({builder:t[8]}),Id=t=>({builder:t[0]&256}),Xr=t=>({builder:t[8]}),Ed=t=>({builder:t[0]&256}),Zr=t=>({builder:t[8]}),Md=t=>({builder:t[0]&256}),Qr=t=>({builder:t[8]}),Pd=t=>({builder:t[0]&256}),xr=t=>({builder:t[8]}),Od=t=>({builder:t[0]&256}),zr=t=>({builder:t[8]});function Ld(t){let e,n,i,o;const r=t[16].default,l=ae(r,t,t[15],Jr);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("div"),l&&l.c(),oe(e,s)},m(u,f){k(u,e,f),l&&l.m(e,null),t[56](e),n=!0,i||(o=[Le(t[8].action(e)),H(e,"pointerdown",t[45]),H(e,"pointermove",t[46]),H(e,"pointerup",t[47]),H(e,"touchend",t[48]),H(e,"touchstart",t[49]),H(e,"touchcancel",t[50]),H(e,"touchmove",t[51])],i=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&fe(l,r,u,u[15],n?ue(r,u[15],f,Nd):ce(u[15]),Jr),oe(e,s=de(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&w(e),l&&l.d(u),t[56](null),i=!1,Ee(o)}}}function Fd(t){let e,n,i,o,r;const l=t[16].default,a=ae(l,t,t[15],Xr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=G(u,s[f]);return{c(){e=O("div"),a&&a.c(),oe(e,u)},m(f,c){k(f,e,c),a&&a.m(e,null),t[55](e),i=!0,o||(r=[Le(t[8].action(e)),H(e,"pointerdown",t[38]),H(e,"pointermove",t[39]),H(e,"pointerup",t[40]),H(e,"touchend",t[41]),H(e,"touchstart",t[42]),H(e,"touchcancel",t[43]),H(e,"touchmove",t[44])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&fe(a,l,t,t[15],i?ue(l,t[15],c,Id):ce(t[15]),Xr),oe(e,u=de(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(C(a,f),n&&n.end(1),i=!0)},o(f){S(a,f),f&&(n=qt(e,t[5],t[6])),i=!1},d(f){f&&w(e),a&&a.d(f),t[55](null),f&&n&&n.end(),o=!1,Ee(r)}}}function Rd(t){let e,n,i,o,r;const l=t[16].default,a=ae(l,t,t[15],Zr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=G(u,s[f]);return{c(){e=O("div"),a&&a.c(),oe(e,u)},m(f,c){k(f,e,c),a&&a.m(e,null),t[54](e),i=!0,o||(r=[Le(t[8].action(e)),H(e,"pointerdown",t[31]),H(e,"pointermove",t[32]),H(e,"pointerup",t[33]),H(e,"touchend",t[34]),H(e,"touchstart",t[35]),H(e,"touchcancel",t[36]),H(e,"touchmove",t[37])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&fe(a,l,t,t[15],i?ue(l,t[15],c,Ed):ce(t[15]),Zr),oe(e,u=de(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(C(a,f),f&&(n||Ue(()=>{n=Rt(e,t[3],t[4]),n.start()})),i=!0)},o(f){S(a,f),i=!1},d(f){f&&w(e),a&&a.d(f),t[54](null),o=!1,Ee(r)}}}function qd(t){let e,n,i,o,r,l;const a=t[16].default,s=ae(a,t,t[15],Qr);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=G(f,u[c]);return{c(){e=O("div"),s&&s.c(),oe(e,f)},m(c,d){k(c,e,d),s&&s.m(e,null),t[53](e),o=!0,r||(l=[Le(t[8].action(e)),H(e,"pointerdown",t[24]),H(e,"pointermove",t[25]),H(e,"pointerup",t[26]),H(e,"touchend",t[27]),H(e,"touchstart",t[28]),H(e,"touchcancel",t[29]),H(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!o||d[0]&33024)&&fe(s,a,t,t[15],o?ue(a,t[15],d,Md):ce(t[15]),Qr),oe(e,f=de(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){o||(C(s,c),c&&Ue(()=>{o&&(i&&i.end(1),n=Rt(e,t[3],t[4]),n.start())}),o=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(i=qt(e,t[5],t[6])),o=!1},d(c){c&&w(e),s&&s.d(c),t[53](null),c&&i&&i.end(),r=!1,Ee(l)}}}function Dd(t){let e,n,i,o,r;const l=t[16].default,a=ae(l,t,t[15],xr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=G(u,s[f]);return{c(){e=O("div"),a&&a.c(),oe(e,u)},m(f,c){k(f,e,c),a&&a.m(e,null),t[52](e),i=!0,o||(r=[Le(t[8].action(e)),H(e,"pointerdown",t[17]),H(e,"pointermove",t[18]),H(e,"pointerup",t[19]),H(e,"touchend",t[20]),H(e,"touchstart",t[21]),H(e,"touchcancel",t[22]),H(e,"touchmove",t[23])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&fe(a,l,t,t[15],i?ue(l,t[15],c,Pd):ce(t[15]),xr),oe(e,u=de(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(C(a,f),f&&Ue(()=>{i&&(n||(n=Lt(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(f){S(a,f),f&&(n||(n=Lt(e,t[1],t[2],!1)),n.run(0)),i=!1},d(f){f&&w(e),a&&a.d(f),t[52](null),f&&n&&n.end(),o=!1,Ee(r)}}}function $d(t){let e;const n=t[16].default,i=ae(n,t,t[15],zr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[0]&33024)&&fe(i,n,o,o[15],e?ue(n,o[15],r,Od):ce(o[15]),zr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function Bd(t){let e,n,i,o;const r=[$d,Dd,qd,Rd,Fd,Ld],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Te()},m(s,u){~e&&l[e].m(s,u),k(s,i,u),o=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&w(i),~e&&l[e].d(s)}}}function Gd(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=ne(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:b=!1}=e,{id:y=void 0}=e,{el:N=void 0}=e;const{elements:{content:I},states:{open:V},ids:L,getAttrs:F}=wn();se(t,I,A=>n(14,l=A)),se(t,V,A=>n(9,a=A));const R=F("content");function B(A){J.call(this,t,A)}function p(A){J.call(this,t,A)}function Y(A){J.call(this,t,A)}function T(A){J.call(this,t,A)}function v(A){J.call(this,t,A)}function g(A){J.call(this,t,A)}function P(A){J.call(this,t,A)}function D(A){J.call(this,t,A)}function E(A){J.call(this,t,A)}function W(A){J.call(this,t,A)}function K(A){J.call(this,t,A)}function ee(A){J.call(this,t,A)}function z(A){J.call(this,t,A)}function x(A){J.call(this,t,A)}function ie(A){J.call(this,t,A)}function ge(A){J.call(this,t,A)}function j(A){J.call(this,t,A)}function re(A){J.call(this,t,A)}function be(A){J.call(this,t,A)}function ke(A){J.call(this,t,A)}function De(A){J.call(this,t,A)}function qe(A){J.call(this,t,A)}function Fe(A){J.call(this,t,A)}function Re(A){J.call(this,t,A)}function Ve(A){J.call(this,t,A)}function mt(A){J.call(this,t,A)}function xe(A){J.call(this,t,A)}function ze(A){J.call(this,t,A)}function it(A){J.call(this,t,A)}function He(A){J.call(this,t,A)}function Qe(A){J.call(this,t,A)}function _t(A){J.call(this,t,A)}function st(A){J.call(this,t,A)}function Je(A){J.call(this,t,A)}function Xe(A){J.call(this,t,A)}function Be(A){Se[A?"unshift":"push"](()=>{N=A,n(0,N)})}function Me(A){Se[A?"unshift":"push"](()=>{N=A,n(0,N)})}function ve(A){Se[A?"unshift":"push"](()=>{N=A,n(0,N)})}function te(A){Se[A?"unshift":"push"](()=>{N=A,n(0,N)})}function $e(A){Se[A?"unshift":"push"](()=>{N=A,n(0,N)})}return t.$$set=A=>{e=G(G({},e),Ae(A)),n(12,r=ne(e,o)),"transition"in A&&n(1,f=A.transition),"transitionConfig"in A&&n(2,c=A.transitionConfig),"inTransition"in A&&n(3,d=A.inTransition),"inTransitionConfig"in A&&n(4,h=A.inTransitionConfig),"outTransition"in A&&n(5,m=A.outTransition),"outTransitionConfig"in A&&n(6,_=A.outTransitionConfig),"asChild"in A&&n(7,b=A.asChild),"id"in A&&n(13,y=A.id),"el"in A&&n(0,N=A.el),"$$scope"in A&&n(15,u=A.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&y&&L.content.set(y),t.$$.dirty[0]&16384&&n(8,i=l),t.$$.dirty[0]&256&&Object.assign(i,R)},[N,f,c,d,h,m,_,b,i,a,I,V,r,y,l,u,s,B,p,Y,T,v,g,P,D,E,W,K,ee,z,x,ie,ge,j,re,be,ke,De,qe,Fe,Re,Ve,mt,xe,ze,it,He,Qe,_t,st,Je,Xe,Be,Me,ve,te,$e]}let jd=class extends he{constructor(e){super(),pe(this,e,Gd,Bd,le,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const Hd=t=>({builder:t&256}),el=t=>({builder:t[8]});function Wd(t){let e,n,i,o=[t[8],t[12]],r={};for(let l=0;l<o.length;l+=1)r=G(r,o[l]);return{c(){e=O("div"),oe(e,r)},m(l,a){k(l,e,a),t[25](e),n||(i=[Le(t[8].action(e)),H(e,"mouseup",t[20])],n=!0)},p(l,a){oe(e,r=de(o,[a&256&&l[8],a&4096&&l[12]]))},i:_e,o:_e,d(l){l&&w(e),t[25](null),n=!1,Ee(i)}}}function Vd(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=G(a,l[s]);return{c(){e=O("div"),oe(e,a)},m(s,u){k(s,e,u),t[24](e),i=!0,o||(r=[Le(t[8].action(e)),H(e,"mouseup",t[19])],o=!0)},p(s,u){t=s,oe(e,a=de(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(n&&n.end(1),i=!0)},o(s){s&&(n=qt(e,t[5],t[6])),i=!1},d(s){s&&w(e),t[24](null),s&&n&&n.end(),o=!1,Ee(r)}}}function Kd(t){let e,n,i,o,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=G(l,r[a]);return{c(){e=O("div"),oe(e,l)},m(a,s){k(a,e,s),t[23](e),i||(o=[Le(t[8].action(e)),H(e,"mouseup",t[18])],i=!0)},p(a,s){t=a,oe(e,l=de(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||Ue(()=>{n=Rt(e,t[3],t[4]),n.start()}))},o:_e,d(a){a&&w(e),t[23](null),i=!1,Ee(o)}}}function Ud(t){let e,n,i,o,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("div"),oe(e,s)},m(u,f){k(u,e,f),t[22](e),o=!0,r||(l=[Le(t[8].action(e)),H(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,oe(e,s=de(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){o||(u&&Ue(()=>{o&&(i&&i.end(1),n=Rt(e,t[3],t[4]),n.start())}),o=!0)},o(u){n&&n.invalidate(),u&&(i=qt(e,t[5],t[6])),o=!1},d(u){u&&w(e),t[22](null),u&&i&&i.end(),r=!1,Ee(l)}}}function Yd(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=G(a,l[s]);return{c(){e=O("div"),oe(e,a)},m(s,u){k(s,e,u),t[21](e),i=!0,o||(r=[H(e,"mouseup",t[16]),Le(t[8].action(e))],o=!0)},p(s,u){t=s,oe(e,a=de(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(s&&Ue(()=>{i&&(n||(n=Lt(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(s){s&&(n||(n=Lt(e,t[1],t[2],!1)),n.run(0)),i=!1},d(s){s&&w(e),t[21](null),s&&n&&n.end(),o=!1,Ee(r)}}}function Jd(t){let e;const n=t[15].default,i=ae(n,t,t[14],el);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16640)&&fe(i,n,o,o[14],e?ue(n,o[14],r,Hd):ce(o[14]),el)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function Xd(t){let e,n,i,o;const r=[Jd,Yd,Ud,Kd,Vd,Wd],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Te()},m(s,u){~e&&l[e].m(s,u),k(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&w(i),~e&&l[e].d(s)}}}function Zd(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ne(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:b=!1}=e,{el:y=void 0}=e;const{elements:{overlay:N},states:{open:I},getAttrs:V}=wn();se(t,N,E=>n(13,l=E)),se(t,I,E=>n(9,a=E));const L=V("overlay");function F(E){J.call(this,t,E)}function R(E){J.call(this,t,E)}function B(E){J.call(this,t,E)}function p(E){J.call(this,t,E)}function Y(E){J.call(this,t,E)}function T(E){Se[E?"unshift":"push"](()=>{y=E,n(0,y)})}function v(E){Se[E?"unshift":"push"](()=>{y=E,n(0,y)})}function g(E){Se[E?"unshift":"push"](()=>{y=E,n(0,y)})}function P(E){Se[E?"unshift":"push"](()=>{y=E,n(0,y)})}function D(E){Se[E?"unshift":"push"](()=>{y=E,n(0,y)})}return t.$$set=E=>{e=G(G({},e),Ae(E)),n(12,r=ne(e,o)),"transition"in E&&n(1,f=E.transition),"transitionConfig"in E&&n(2,c=E.transitionConfig),"inTransition"in E&&n(3,d=E.inTransition),"inTransitionConfig"in E&&n(4,h=E.inTransitionConfig),"outTransition"in E&&n(5,m=E.outTransition),"outTransitionConfig"in E&&n(6,_=E.outTransitionConfig),"asChild"in E&&n(7,b=E.asChild),"el"in E&&n(0,y=E.el),"$$scope"in E&&n(14,u=E.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,i=l),t.$$.dirty&256&&Object.assign(i,L)},[y,f,c,d,h,m,_,b,i,a,N,I,r,l,u,s,F,R,B,p,Y,T,v,g,P,D]}let Qd=class extends he{constructor(e){super(),pe(this,e,Zd,Xd,le,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const xd=t=>({builder:t&4}),tl=t=>({builder:t[2]}),zd=t=>({builder:t&4}),nl=t=>({builder:t[2]});function ep(t){let e,n,i,o;const r=t[8].default,l=ae(r,t,t[7],tl);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("div"),l&&l.c(),oe(e,s)},m(u,f){k(u,e,f),l&&l.m(e,null),t[9](e),n=!0,i||(o=Le(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&fe(l,r,u,u[7],n?ue(r,u[7],f,xd):ce(u[7]),tl),oe(e,s=de(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&w(e),l&&l.d(u),t[9](null),i=!1,o()}}}function tp(t){let e;const n=t[8].default,i=ae(n,t,t[7],nl);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&fe(i,n,o,o[7],e?ue(n,o[7],r,zd):ce(o[7]),nl)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function np(t){let e,n,i,o;const r=[tp,ep],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Te()},m(s,u){l[e].m(s,u),k(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&w(i),l[e].d(s)}}}function ip(t,e,n){let i;const o=["asChild","id","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:h,getAttrs:m}=wn();se(t,d,y=>n(6,l=y));const _=m("description");function b(y){Se[y?"unshift":"push"](()=>{c=y,n(0,c)})}return t.$$set=y=>{e=G(G({},e),Ae(y)),n(4,r=ne(e,o)),"asChild"in y&&n(1,u=y.asChild),"id"in y&&n(5,f=y.id),"el"in y&&n(0,c=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&h.description.set(f),t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,_)},[c,u,i,d,r,f,l,s,a,b]}let op=class extends he{constructor(e){super(),pe(this,e,ip,np,le,{asChild:1,id:5,el:0})}};function rp(){const t="label",n=Ki(t,["root"]);return{NAME:t,getAttrs:n}}const lp=t=>({builder:t&4}),il=t=>({builder:t[2]}),sp=t=>({builder:t&4}),ol=t=>({builder:t[2]});function ap(t){let e,n,i,o;const r=t[8].default,l=ae(r,t,t[7],il);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("label"),l&&l.c(),oe(e,s)},m(u,f){k(u,e,f),l&&l.m(e,null),t[9](e),n=!0,i||(o=[Le(t[2].action(e)),H(e,"m-mousedown",t[4])],i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&fe(l,r,u,u[7],n?ue(r,u[7],f,lp):ce(u[7]),il),oe(e,s=de(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&w(e),l&&l.d(u),t[9](null),i=!1,Ee(o)}}}function up(t){let e;const n=t[8].default,i=ae(n,t,t[7],ol);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&fe(i,n,o,o[7],e?ue(n,o[7],r,sp):ce(o[7]),ol)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function fp(t){let e,n,i,o;const r=[up,ap],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Te()},m(s,u){l[e].m(s,u),k(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&w(i),l[e].d(s)}}}function cp(t,e,n){let i;const o=["asChild","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=Pf();se(t,c,b=>n(6,l=b));const d=Uo(),{getAttrs:h}=rp(),m=h("root");function _(b){Se[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=G(G({},e),Ae(b)),n(5,r=ne(e,o)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,m)},[f,u,i,c,d,r,l,s,a,_]}let dp=class extends he{constructor(e){super(),pe(this,e,cp,fp,le,{asChild:1,el:0})}};function ra(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=ra(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function pp(){for(var t,e,n=0,i="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=ra(t))&&(i&&(i+=" "),i+=e);return i}const Jo="-";function hp(t){const e=_p(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;function o(l){const a=l.split(Jo);return a[0]===""&&a.length!==1&&a.shift(),la(a,e)||mp(l)}function r(l,a){const s=n[l]||[];return a&&i[l]?[...s,...i[l]]:s}return{getClassGroupId:o,getConflictingClassGroupIds:r}}function la(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),o=i?la(t.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const r=t.join(Jo);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const rl=/^\[(.+)\]$/;function mp(t){if(rl.test(t)){const e=rl.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function _p(t){const{theme:e,prefix:n}=t,i={nextPart:new Map,validators:[]};return bp(Object.entries(t.classGroups),n).forEach(([r,l])=>{bo(l,i,r,e)}),i}function bo(t,e,n,i){t.forEach(o=>{if(typeof o=="string"){const r=o===""?e:ll(e,o);r.classGroupId=n;return}if(typeof o=="function"){if(gp(o)){bo(o(i),e,n,i);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([r,l])=>{bo(l,ll(e,r),n,i)})})}function ll(t,e){let n=t;return e.split(Jo).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n}function gp(t){return t.isThemeGetter}function bp(t,e){return e?t.map(([n,i])=>{const o=i.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,o]}):t}function vp(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;function o(r,l){n.set(r,l),e++,e>t&&(e=0,i=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=i.get(r))!==void 0)return o(r,l),l},set(r,l){n.has(r)?n.set(r,l):o(r,l)}}}const sa="!";function yp(t){const e=t.separator,n=e.length===1,i=e[0],o=e.length;return function(l){const a=[];let s=0,u=0,f;for(let _=0;_<l.length;_++){let b=l[_];if(s===0){if(b===i&&(n||l.slice(_,_+o)===e)){a.push(l.slice(u,_)),u=_+o;continue}if(b==="/"){f=_;continue}}b==="["?s++:b==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(sa),h=d?c.substring(1):c,m=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:m}}}function wp(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(i=>{i[0]==="["?(e.push(...n.sort(),i),n=[]):n.push(i)}),e.push(...n.sort()),e}function kp(t){return{cache:vp(t.cacheSize),splitModifiers:yp(t),...hp(t)}}const Cp=/\s+/;function Sp(t,e){const{splitModifiers:n,getClassGroupId:i,getConflictingClassGroupIds:o}=e,r=new Set;return t.trim().split(Cp).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=i(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=i(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const h=wp(a).join(":");return{isTailwindClass:!0,modifierId:s?h+sa:h,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),o(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Ap(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=aa(e))&&(i&&(i+=" "),i+=n);return i}function aa(t){if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=aa(t[i]))&&(n&&(n+=" "),n+=e);return n}function vo(t,...e){let n,i,o,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=kp(u),i=n.cache.get,o=n.cache.set,r=a,a(s)}function a(s){const u=i(s);if(u)return u;const f=Sp(s,n);return o(s,f),f}return function(){return r(Ap.apply(null,arguments))}}function Ge(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const ua=/^\[(?:([a-z-]+):)?(.+)\]$/i,Tp=/^\d+\/\d+$/,Np=new Set(["px","full","screen"]),Ip=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ep=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Mp=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Pp=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Op=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function gt(t){return jt(t)||Np.has(t)||Tp.test(t)}function It(t){return kn(t,"length",Gp)}function jt(t){return!!t&&!Number.isNaN(Number(t))}function ni(t){return kn(t,"number",jt)}function In(t){return!!t&&Number.isInteger(Number(t))}function Lp(t){return t.endsWith("%")&&jt(t.slice(0,-1))}function Ce(t){return ua.test(t)}function Et(t){return Ip.test(t)}const Fp=new Set(["length","size","percentage"]);function Rp(t){return kn(t,Fp,fa)}function qp(t){return kn(t,"position",fa)}const Dp=new Set(["image","url"]);function $p(t){return kn(t,Dp,Hp)}function Bp(t){return kn(t,"",jp)}function En(){return!0}function kn(t,e,n){const i=ua.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):n(i[2]):!1}function Gp(t){return Ep.test(t)&&!Mp.test(t)}function fa(){return!1}function jp(t){return Pp.test(t)}function Hp(t){return Op.test(t)}function yo(){const t=Ge("colors"),e=Ge("spacing"),n=Ge("blur"),i=Ge("brightness"),o=Ge("borderColor"),r=Ge("borderRadius"),l=Ge("borderSpacing"),a=Ge("borderWidth"),s=Ge("contrast"),u=Ge("grayscale"),f=Ge("hueRotate"),c=Ge("invert"),d=Ge("gap"),h=Ge("gradientColorStops"),m=Ge("gradientColorStopPositions"),_=Ge("inset"),b=Ge("margin"),y=Ge("opacity"),N=Ge("padding"),I=Ge("saturate"),V=Ge("scale"),L=Ge("sepia"),F=Ge("skew"),R=Ge("space"),B=Ge("translate"),p=()=>["auto","contain","none"],Y=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",Ce,e],v=()=>[Ce,e],g=()=>["",gt,It],P=()=>["auto",jt,Ce],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],E=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],K=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",Ce],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>[jt,ni],ie=()=>[jt,Ce];return{cacheSize:500,separator:":",theme:{colors:[En],spacing:[gt,It],blur:["none","",Et,Ce],brightness:x(),borderColor:[t],borderRadius:["none","","full",Et,Ce],borderSpacing:v(),borderWidth:g(),contrast:x(),grayscale:ee(),hueRotate:ie(),invert:ee(),gap:v(),gradientColorStops:[t],gradientColorStopPositions:[Lp,It],inset:T(),margin:T(),opacity:x(),padding:v(),saturate:x(),scale:x(),sepia:ee(),skew:ie(),space:v(),translate:v()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[Et]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),Ce]}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:p()}],"overscroll-x":[{"overscroll-x":p()}],"overscroll-y":[{"overscroll-y":p()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",In,Ce]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",In,Ce]}],"grid-cols":[{"grid-cols":[En]}],"col-start-end":[{col:["auto",{span:["full",In,Ce]},Ce]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[En]}],"row-start-end":[{row:["auto",{span:[In,Ce]},Ce]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,e]}],"min-w":[{"min-w":[Ce,e,"min","max","fit"]}],"max-w":[{"max-w":[Ce,e,"none","full","min","max","fit","prose",{screen:[Et]},Et]}],h:[{h:[Ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Et,It]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ni]}],"font-family":[{font:[En]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",jt,ni]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gt,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...E(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gt,It]}],"underline-offset":[{"underline-offset":["auto",gt,Ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),qp]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Rp]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$p]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...E(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:E()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...E()]}],"outline-offset":[{"outline-offset":[gt,Ce]}],"outline-w":[{outline:[gt,It]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:g()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[gt,It]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Et,Bp]}],"shadow-color":[{shadow:[En]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":W()}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",Et,Ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[I]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[V]}],"scale-x":[{"scale-x":[V]}],"scale-y":[{"scale-y":[V]}],rotate:[{rotate:[In,Ce]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[gt,It,ni]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function Wp(t,{cacheSize:e,prefix:n,separator:i,extend:o={},override:r={}}){fi(t,"cacheSize",e),fi(t,"prefix",n),fi(t,"separator",i);for(const l in r)Vp(t[l],r[l]);for(const l in o)Kp(t[l],o[l]);return t}function fi(t,e,n){n!==void 0&&(t[e]=n)}function Vp(t,e){if(e)for(const n in e)fi(t,n,e[n])}function Kp(t,e){if(e)for(const n in e){const i=e[n];i!==void 0&&(t[n]=(t[n]||[]).concat(i))}}function Up(t,...e){return typeof t=="function"?vo(yo,t,...e):vo(()=>Wp(yo(),t),...e)}const ca=vo(yo);function Yp(t){const e=t-1;return e*e*e+1}function Ie(...t){return ca(pp(t))}const Xo=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),i=n.transform==="none"?"":n.transform,o=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=o(l,[0,1],[e.y??5,0]),s=o(l,[0,1],[e.x??0,0]),u=o(l,[0,1],[e.start??.95,1]);return r({transform:`${i} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:Yp}};function at(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Jp(t){let e;const n=t[2].default,i=ae(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&fe(i,n,o,o[3],e?ue(n,o[3],r,null):ce(o[3]),null)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function Xp(t){let e,n;const i=[{class:Ie("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let o={$$slots:{default:[Jp]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new dd({props:o}),{c(){Q(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&3?de(i,[l&1&&{class:Ie("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&et(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Zp(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),Ae(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,o,r,l]}class Qt extends he{constructor(e){super(),pe(this,e,Zp,Xp,le,{class:0})}}function Qp(t){let e;const n=t[1].default,i=ae(n,t,t[2],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&4)&&fe(i,n,o,o[2],e?ue(n,o[2],r,null):ce(o[2]),null)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function xp(t){let e,n;const i=[t[0]];let o={$$slots:{default:[Qp]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new Td({props:o}),{c(){Q(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&1?de(i,[et(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function zp(t,e,n){const i=[];let o=ne(e,i),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=G(G({},e),Ae(a)),n(0,o=ne(e,i)),"$$scope"in a&&n(2,l=a.$$scope)},[o,r,l]}class eh extends he{constructor(e){super(),pe(this,e,zp,xp,le,{})}}function th(t){let e,n,i;const o=t[3].default,r=ae(o,t,t[2],null);let l=[{class:n=Ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=G(a,l[s]);return{c(){e=O("div"),r&&r.c(),oe(e,a)},m(s,u){k(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&fe(r,o,s,s[2],i?ue(o,s[2],u,null):ce(s[2]),null),oe(e,a=de(l,[(!i||u&1&&n!==(n=Ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(C(r,s),i=!0)},o(s){S(r,s),i=!1},d(s){s&&w(e),r&&r.d(s)}}}function nh(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),Ae(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class Cn extends he{constructor(e){super(),pe(this,e,nh,th,le,{class:0})}}function ih(t){let e,n,i;const o=t[3].default,r=ae(o,t,t[2],null);let l=[{class:n=Ie("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=G(a,l[s]);return{c(){e=O("div"),r&&r.c(),oe(e,a)},m(s,u){k(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&fe(r,o,s,s[2],i?ue(o,s[2],u,null):ce(s[2]),null),oe(e,a=de(l,[(!i||u&1&&n!==(n=Ie("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(C(r,s),i=!0)},o(s){S(r,s),i=!1},d(s){s&&w(e),r&&r.d(s)}}}function oh(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),Ae(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class xt extends he{constructor(e){super(),pe(this,e,oh,ih,le,{class:0})}}function da(t,{delay:e=0,duration:n=400,easing:i=Hi}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:r=>`opacity: ${r*o}`}}function rh(t){let e,n;const i=[{transition:t[1]},{transitionConfig:t[2]},{class:Ie("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let o={};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new Qd({props:o}),{c(){Q(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&15?de(i,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Ie("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&et(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function lh(t,e,n){const i=["class","transition","transitionConfig"];let o=ne(e,i),{class:r=void 0}=e,{transition:l=da}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=G(G({},e),Ae(s)),n(3,o=ne(e,i)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,o]}class sh extends he{constructor(e){super(),pe(this,e,lh,rh,le,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},sl=ah;function al(t,e,n){const i=t.slice();return i[10]=e[n][0],i[11]=e[n][1],i}function io(t){let e,n=[t[11]],i={};for(let o=0;o<n.length;o+=1)i=G(i,n[o]);return{c(){e=Wi(t[10]),mi(e,i)},m(o,r){k(o,e,r)},p(o,r){mi(e,i=de(n,[r&32&&o[11]]))},d(o){o&&w(e)}}}function ul(t){let e=t[10],n,i=t[10]&&io(t);return{c(){i&&i.c(),n=Te()},m(o,r){i&&i.m(o,r),k(o,n,r)},p(o,r){o[10]?e?le(e,o[10])?(i.d(1),i=io(o),e=o[10],i.c(),i.m(n.parentNode,n)):i.p(o,r):(i=io(o),e=o[10],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=o[10])},d(o){o&&w(n),i&&i.d(o)}}}function uh(t){let e,n,i,o,r,l=We(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=ul(al(t,l,d));const s=t[9].default,u=ae(s,t,t[8],null);let f=[sl,t[6],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":i=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:o=`lucide-icon lucide lucide-${t[0]} ${t[7].class??""}`}],c={};for(let d=0;d<f.length;d+=1)c=G(c,f[d]);return{c(){e=Wi("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=Te(),u&&u.c(),mi(e,c)},m(d,h){k(d,e,h);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(e,null);M(e,n),u&&u.m(e,null),r=!0},p(d,[h]){if(h&32){l=We(d[5]);let m;for(m=0;m<l.length;m+=1){const _=al(d,l,m);a[m]?a[m].p(_,h):(a[m]=ul(_),a[m].c(),a[m].m(e,n))}for(;m<a.length;m+=1)a[m].d(1);a.length=l.length}u&&u.p&&(!r||h&256)&&fe(u,s,d,d[8],r?ue(s,d[8],h,null):ce(d[8]),null),mi(e,c=de(f,[sl,h&64&&d[6],(!r||h&4)&&{width:d[2]},(!r||h&4)&&{height:d[2]},(!r||h&2)&&{stroke:d[1]},(!r||h&28&&i!==(i=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":i},(!r||h&129&&o!==(o=`lucide-icon lucide lucide-${d[0]} ${d[7].class??""}`))&&{class:o}]))},i(d){r||(C(u,d),r=!0)},o(d){S(u,d),r=!1},d(d){d&&w(e),Tt(a,d),u&&u.d(d)}}}function fh(t,e,n){const i=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{name:a}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;return t.$$set=h=>{n(7,e=G(G({},e),Ae(h))),n(6,o=ne(e,i)),"name"in h&&n(0,a=h.name),"color"in h&&n(1,s=h.color),"size"in h&&n(2,u=h.size),"strokeWidth"in h&&n(3,f=h.strokeWidth),"absoluteStrokeWidth"in h&&n(4,c=h.absoluteStrokeWidth),"iconNode"in h&&n(5,d=h.iconNode),"$$scope"in h&&n(8,l=h.$$scope)},e=Ae(e),[a,s,u,f,c,d,o,e,l,r]}class ch extends he{constructor(e){super(),pe(this,e,fh,uh,le,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function dh(t){let e;const n=t[2].default,i=ae(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&fe(i,n,o,o[3],e?ue(n,o[3],r,null):ce(o[3]),null)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function ph(t){let e,n;const i=[{name:"x"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[dh]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new ch({props:o}),{c(){Q(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&3?de(i,[i[0],l&2&&et(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function hh(t,e,n){let{$$slots:i={},$$scope:o}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=G(G({},e),Ae(l))),"$$scope"in l&&n(3,o=l.$$scope)},e=Ae(e),[r,e,i,o]}class mh extends he{constructor(e){super(),pe(this,e,hh,ph,le,{})}}function _h(t){let e,n,i,o;return e=new mh({props:{class:"h-4 w-4"}}),{c(){Q(e.$$.fragment),n=U(),i=O("span"),i.textContent="Close",q(i,"class","sr-only")},m(r,l){X(e,r,l),k(r,n,l),k(r,i,l),o=!0},p:_e,i(r){o||(C(e.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),o=!1},d(r){r&&(w(n),w(i)),Z(e,r)}}}function gh(t){let e,n,i;const o=t[4].default,r=ae(o,t,t[5],null);return n=new vd({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[_h]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=U(),Q(n.$$.fragment)},m(l,a){r&&r.m(l,a),k(l,e,a),X(n,l,a),i=!0},p(l,a){r&&r.p&&(!i||a&32)&&fe(r,o,l,l[5],i?ue(o,l[5],a,null):ce(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){i||(C(r,l),C(n.$$.fragment,l),i=!0)},o(l){S(r,l),S(n.$$.fragment,l),i=!1},d(l){l&&w(e),r&&r.d(l),Z(n,l)}}}function bh(t){let e,n,i,o;e=new sh({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let l={$$slots:{default:[gh]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=G(l,r[a]);return i=new jd({props:l}),{c(){Q(e.$$.fragment),n=U(),Q(i.$$.fragment)},m(a,s){X(e,a,s),k(a,n,s),X(i,a,s),o=!0},p(a,s){const u=s&15?de(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&et(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),i.$set(u)},i(a){o||(C(e.$$.fragment,a),C(i.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),S(i.$$.fragment,a),o=!1},d(a){a&&w(n),Z(e,a),Z(i,a)}}}function vh(t){let e,n;return e=new eh({props:{$$slots:{default:[bh]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){X(e,i,o),n=!0},p(i,[o]){const r={};o&47&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function yh(t,e,n){const i=["class","transition","transitionConfig"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=Xo}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=G(G({},e),Ae(f)),n(3,o=ne(e,i)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,o,r,l]}class zt extends he{constructor(e){super(),pe(this,e,yh,vh,le,{class:0,transition:1,transitionConfig:2})}}function wh(t){let e;const n=t[2].default,i=ae(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&fe(i,n,o,o[3],e?ue(n,o[3],r,null):ce(o[3]),null)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function kh(t){let e,n;const i=[{class:Ie("text-sm text-muted-foreground",t[0])},t[1]];let o={$$slots:{default:[wh]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new op({props:o}),{c(){Q(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&3?de(i,[l&1&&{class:Ie("text-sm text-muted-foreground",r[0])},l&2&&et(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Ch(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),Ae(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,o,r,l]}class en extends he{constructor(e){super(),pe(this,e,Ch,kh,le,{class:0})}}const tn=rd;function Sh(t){let e,n;const i=[{class:Ie("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let o={};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new ed({props:o}),{c(){Q(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&15?de(i,[l&3&&{class:Ie("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&et(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Ah(t,e,n){const i=["class","orientation","decorative"];let o=ne(e,i),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),Ae(s)),n(3,o=ne(e,i)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,o]}class Ii extends he{constructor(e){super(),pe(this,e,Ah,Sh,le,{class:0,orientation:1,decorative:2})}}function Th(t){let e,n,i,o,r=[{class:n=Ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=G(l,r[a]);return{c(){e=O("input"),oe(e,l)},m(a,s){k(a,e,s),e.autofocus&&e.focus(),yt(e,t[0]),i||(o=[H(e,"input",t[17]),H(e,"blur",t[3]),H(e,"change",t[4]),H(e,"click",t[5]),H(e,"focus",t[6]),H(e,"focusin",t[7]),H(e,"focusout",t[8]),H(e,"keydown",t[9]),H(e,"keypress",t[10]),H(e,"keyup",t[11]),H(e,"mouseover",t[12]),H(e,"mouseenter",t[13]),H(e,"mouseleave",t[14]),H(e,"paste",t[15]),H(e,"input",t[16])],i=!0)},p(a,[s]){oe(e,l=de(r,[s&2&&n!==(n=Ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&yt(e,a[0])},i:_e,o:_e,d(a){a&&w(e),i=!1,Ee(o)}}}function Nh(t,e,n){const i=["class","value"];let o=ne(e,i),{class:r=void 0}=e,{value:l=void 0}=e;function a(F){J.call(this,t,F)}function s(F){J.call(this,t,F)}function u(F){J.call(this,t,F)}function f(F){J.call(this,t,F)}function c(F){J.call(this,t,F)}function d(F){J.call(this,t,F)}function h(F){J.call(this,t,F)}function m(F){J.call(this,t,F)}function _(F){J.call(this,t,F)}function b(F){J.call(this,t,F)}function y(F){J.call(this,t,F)}function N(F){J.call(this,t,F)}function I(F){J.call(this,t,F)}function V(F){J.call(this,t,F)}function L(){l=this.value,n(0,l)}return t.$$set=F=>{e=G(G({},e),Ae(F)),n(2,o=ne(e,i)),"class"in F&&n(1,r=F.class),"value"in F&&n(0,l=F.value)},[l,r,o,a,s,u,f,c,d,h,m,_,b,y,N,I,V,L]}class Zo extends he{constructor(e){super(),pe(this,e,Nh,Th,le,{class:1,value:0})}}function fl(t,e,n){const i=t.slice();return i[7]=e[n],i}function cl(t){let e,n=t[7].subtitle+"",i;return{c(){e=new cu(!1),i=Te(),e.a=i},m(o,r){e.m(n,o,r),k(o,i,r)},p(o,r){r&1&&n!==(n=o[7].subtitle+"")&&e.p(n)},d(o){o&&(w(i),e.d())}}}function dl(t){let e,n,i=t[7].label+"",o,r,l,a=t[7].value+"",s,u,f,c,d,h,m=t[7].subtitle!=null&&cl(t);return{c(){e=O("div"),n=O("span"),o=$(i),r=U(),l=O("span"),s=$(a),u=U(),m&&m.c(),f=U(),q(n,"class","text-xs pl-4 pr-4 rounded-lg"),q(l,"class","text-xs text-slate-500"),q(e,"class",c="flex flex-col items-center text-center flex-1 "+(t[2]=="true"?"cursor-pointer":""))},m(_,b){k(_,e,b),M(e,n),M(n,o),M(e,r),M(e,l),M(l,s),M(l,u),m&&m.m(l,null),M(e,f),d||(h=H(e,"click",function(){At(t[2]=="true"?t[7].tap:null)&&(t[2]=="true"?t[7].tap:null).apply(this,arguments)}),d=!0)},p(_,b){t=_,b&1&&i!==(i=t[7].label+"")&&me(o,i),b&1&&a!==(a=t[7].value+"")&&me(s,a),t[7].subtitle!=null?m?m.p(t,b):(m=cl(t),m.c(),m.m(l,null)):m&&(m.d(1),m=null),b&4&&c!==(c="flex flex-col items-center text-center flex-1 "+(t[2]=="true"?"cursor-pointer":""))&&q(e,"class",c)},d(_){_&&w(e),m&&m.d(),d=!1,h()}}}function Ih(t){let e,n,i=We(t[0]),o=[];for(let r=0;r<i.length;r+=1)o[r]=dl(fl(t,i,r));return{c(){e=O("div");for(let r=0;r<o.length;r+=1)o[r].c();q(e,"class",n="flex flex-row justify-between pr-5 pl-5 "+t[1])},m(r,l){k(r,e,l);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null)},p(r,[l]){if(l&5){i=We(r[0]);let a;for(a=0;a<i.length;a+=1){const s=fl(r,i,a);o[a]?o[a].p(s,l):(o[a]=dl(s),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}l&2&&n!==(n="flex flex-row justify-between pr-5 pl-5 "+r[1])&&q(e,"class",n)},i:_e,o:_e,d(r){r&&w(e),Tt(o,r)}}}function vt(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function Eh(t,e,n){let i,o;se(t,we,u=>n(5,i=u)),se(t,ki,u=>n(6,o=u));let{stats:r=[]}=e,{classText:l=""}=e,{clickEvents:a="true"}=e;function s(){let u=i;u.hasBank===!0?(u.townInfo.gold+=u.townInfo.gold_from_tourism,u.townInfo.gold_from_tourism=0,we.set(u),localStorage.setItem(lt,JSON.stringify(u))):alert("You need a bank to transfer funds from tourism activities.")}return t.$$set=u=>{"stats"in u&&n(0,r=u.stats),"classText"in u&&n(1,l=u.classText),"clickEvents"in u&&n(2,a=u.clickEvents)},t.$$.update=()=>{t.$$.dirty&100&&n(0,r=[{label:"Population",value:`${at(i.townInfo.population_count)}/${at(i.townInfo.population_max)}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${i.townInfo.population_count<i.townInfo.population_max?"text-red-500":"text-green-500"}
					'>
					${at(i.townInfo.population_max-i.townInfo.population_count)}
				</span>`,tap:()=>{}},{label:"Employees",value:`${at(i.townInfo.employees)}/${at(i.townInfo.population_count)}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${i.townInfo.employees<i.townInfo.population_count?"text-red-500":"text-green-500"}
					'>
					${at(i.townInfo.population_count-i.townInfo.employees)}
				</span>`,tap:()=>{}},{label:"Knowledge",value:at(i.townInfo.knowledge_points)+`${a=="true"?" (click me)":""}`,tap:()=>{ye(ki,o=!o,o)}},{label:"Gold",value:"$"+at(vt(i.townInfo.gold,0)),subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${i.economyAndLaws.last_month_profit<0?"text-red-500":"text-green-500"}
					'>
					${at(vt(i.economyAndLaws.last_month_profit,0))}
				</span>`,tap:()=>{}},{label:"Tourism üí∞",value:"$"+at(vt(i.townInfo.gold_from_tourism,0)),tap:()=>{s()}},{label:"Happiness",value:`${vt(i.townInfo.happiness,0)}/${i.maximums.happiness}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs text-slate-600
						${i.townInfo.happiness<50?"text-red-500":"text-green-500"}
					'>
					${i.modifiers.happiness<1?"üî¥":"üü¢"} (${vt(i.modifiers.happiness,2)}x)
				</span>`,tap:()=>{}},{label:"Health",value:`${vt(i.townInfo.health,0)}/${i.maximums.health}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs text-slate-600
						${i.townInfo.health<50?"text-red-500":"text-green-500"}
					'>
					${i.modifiers.health<1?"üî¥":"üü¢"} (${vt(i.modifiers.health,2)}x)
				</span>`,tap:()=>{}}])},[r,l,a,vt,s,i,o]}class pa extends he{constructor(e){super(),pe(this,e,Eh,Ih,le,{stats:0,classText:1,clickEvents:2,roundTo:3,transferFundsFromBank:4})}get roundTo(){return vt}get transferFundsFromBank(){return this.$$.ctx[4]}}function pl(t,e,n){const i=t.slice();return i[27]=e[n],i}function hl(t,e,n){const i=t.slice();return i[30]=e[n],i}function ml(t,e,n){const i=t.slice();return i[27]=e[n],i}function Mh(t){let e,n;return{c(){e=O("span"),n=$("Set this Plot"),q(e,"class","text-2xl font-bold")},m(i,o){k(i,e,o),k(i,n,o)},p:_e,d(i){i&&(w(e),w(n))}}}function _l(t){let e,n;return e=new en({props:{class:"text-sm",$$slots:{default:[Ph]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){X(e,i,o),n=!0},p(i,o){const r={};o[0]&2|o[1]&16&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Ph(t){let e;return{c(){e=$(t[1])},m(n,i){k(n,e,i)},p(n,i){i[0]&2&&me(e,n[1])},d(n){n&&w(e)}}}function Oh(t){let e,n,i,o,r,l,a,s,u;e=new Qt({props:{class:"text-2xl font-bold",$$slots:{default:[Mh]},$$scope:{ctx:t}}});let f=t[1]!==""&&_l(t);return l=new pa({props:{classText:"w-full",clickEvents:"false"}}),{c(){Q(e.$$.fragment),n=U(),f&&f.c(),i=U(),o=O("div"),r=U(),Q(l.$$.fragment),a=U(),s=O("div"),q(o,"class","mt-4"),q(s,"class","mb-4")},m(c,d){X(e,c,d),k(c,n,d),f&&f.m(c,d),k(c,i,d),k(c,o,d),k(c,r,d),X(l,c,d),k(c,a,d),k(c,s,d),u=!0},p(c,d){const h={};d[1]&16&&(h.$$scope={dirty:d,ctx:c}),e.$set(h),c[1]!==""?f?(f.p(c,d),d[0]&2&&C(f,1)):(f=_l(c),f.c(),C(f,1),f.m(i.parentNode,i)):f&&(Pe(),S(f,1,1,()=>{f=null}),Oe())},i(c){u||(C(e.$$.fragment,c),C(f),C(l.$$.fragment,c),u=!0)},o(c){S(e.$$.fragment,c),S(f),S(l.$$.fragment,c),u=!1},d(c){c&&(w(n),w(i),w(o),w(r),w(a),w(s)),Z(e,c),f&&f.d(c),Z(l,c)}}}function gl(t){let e,n,i;return{c(){e=O("button"),e.textContent="üî• Bulldoze",q(e,"id","bulldoze"),q(e,"class","px-2 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(o,r){k(o,e,r),n||(i=H(e,"click",t[13]),n=!0)},p:_e,d(o){o&&w(e),n=!1,i()}}}function Lh(t){let e;return{c(){e=$("No options")},m(n,i){k(n,e,i)},p:_e,d(n){n&&w(e)}}}function Fh(t){let e,n=We(t[7]),i=[];for(let o=0;o<n.length;o+=1)i[o]=vl(ml(t,n,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Te()},m(o,r){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(o,r);k(o,e,r)},p(o,r){if(r[0]&128){n=We(o[7]);let l;for(l=0;l<n.length;l+=1){const a=ml(o,n,l);i[l]?i[l].p(a,r):(i[l]=vl(a),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},d(o){o&&w(e),Tt(i,o)}}}function bl(t){let e,n=Il(t[27].title)+"",i,o,r;function l(){return t[19](t[27])}return{c(){e=O("span"),i=$(n),q(e,"class","text-xl cursor-pointer hover:bg-slate-300 rounded-lg p-1")},m(a,s){k(a,e,s),M(e,i),o||(r=H(e,"click",l),o=!0)},p(a,s){t=a,s[0]&128&&n!==(n=Il(t[27].title)+"")&&me(i,n)},d(a){a&&w(e),o=!1,r()}}}function vl(t){let e,n=t[27].affordable&&bl(t);return{c(){n&&n.c(),e=Te()},m(i,o){n&&n.m(i,o),k(i,e,o)},p(i,o){i[27].affordable?n?n.p(i,o):(n=bl(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){i&&w(e),n&&n.d(i)}}}function yl(t){let e,n,i,o=Vt(t[8].economyAndLaws.tax_rate*t[27].revenue_per_week,2)+"",r;return{c(){e=O("div"),n=O("span"),i=$("$"),r=$(o)},m(l,a){k(l,e,a),M(e,n),M(n,i),M(n,r)},p(l,a){a[0]&384&&o!==(o=Vt(l[8].economyAndLaws.tax_rate*l[27].revenue_per_week,2)+"")&&me(r,o)},d(l){l&&w(e)}}}function wl(t){let e,n,i=t[27].requirements.knowledge+"",o,r;return{c(){e=O("br"),n=U(),o=$(i),r=$(" KPts")},m(l,a){k(l,e,a),k(l,n,a),k(l,o,a),k(l,r,a)},p(l,a){a[0]&128&&i!==(i=l[27].requirements.knowledge+"")&&me(o,i)},d(l){l&&(w(e),w(n),w(o),w(r))}}}function Rh(t){let e,n=t[30]+"",i;return{c(){e=O("span"),i=$(n),q(e,"class","text-red-100 bg-red-900 p-1 rounded-sm w-min overflow-ellipsis px-2")},m(o,r){k(o,e,r),M(e,i)},p(o,r){r[0]&128&&n!==(n=o[30]+"")&&me(i,n)},d(o){o&&w(e)}}}function qh(t){let e,n=t[30]+"",i;return{c(){e=O("span"),i=$(n),q(e,"class","text-white bg-opacity-100 bg-green-900 p-1 rounded-sm w-min overflow-ellipsis")},m(o,r){k(o,e,r),M(e,i)},p(o,r){r[0]&128&&n!==(n=o[30]+"")&&me(i,n)},d(o){o&&w(e)}}}function kl(t){let e,n;function i(l,a){return a[0]&384&&(e=null),e==null&&(e=mn(l[30],l[8]).length>0),e?qh:Rh}let o=i(t,[-1,-1]),r=o(t);return{c(){r.c(),n=Te()},m(l,a){r.m(l,a),k(l,n,a)},p(l,a){o===(o=i(l,a))&&r?r.p(l,a):(r.d(1),r=o(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&w(n),r.d(l)}}}function Cl(t){let e,n=Ei(t[27].effect_modifiers.happiness)+"",i;return{c(){e=$("üòÄ "),i=$(n)},m(o,r){k(o,e,r),k(o,i,r)},p(o,r){r[0]&128&&n!==(n=Ei(o[27].effect_modifiers.happiness)+"")&&me(i,n)},d(o){o&&(w(e),w(i))}}}function Sl(t){let e,n=Ei(t[27].effect_modifiers.health)+"",i;return{c(){e=$("üò∑ "),i=$(n)},m(o,r){k(o,e,r),k(o,i,r)},p(o,r){r[0]&128&&n!==(n=Ei(o[27].effect_modifiers.health)+"")&&me(i,n)},d(o){o&&(w(e),w(i))}}}function Al(t){let e,n=Mi(t[27].immediate_variable_changes.happiness)+"",i;return{c(){e=$("üòÄ "),i=$(n)},m(o,r){k(o,e,r),k(o,i,r)},p(o,r){r[0]&128&&n!==(n=Mi(o[27].immediate_variable_changes.happiness)+"")&&me(i,n)},d(o){o&&(w(e),w(i))}}}function Tl(t){let e,n,i=Mi(t[27].immediate_variable_changes.health)+"",o;return{c(){e=O("br"),n=$(`
									üò∑ `),o=$(i)},m(r,l){k(r,e,l),k(r,n,l),k(r,o,l)},p(r,l){l[0]&128&&i!==(i=Mi(r[27].immediate_variable_changes.health)+"")&&me(o,i)},d(r){r&&(w(e),w(n),w(o))}}}function Nl(t,e){let n,i,o=e[27].selected?`‚úÖ SELECTED ${e[27].title.substring(2)}`:`${e[27].title}`,r,l,a,s=e[27].description+"",u,f,c,d,h=(e[27].requirements.employees||"")+"",m,_,b,y,N,I=El(e[27].requirements.gold)+"",V,L,F,R,B,p,Y,T,v,g,P,D,E,W,K,ee,z,x=e[27].revenue_per_week>0&&yl(e),ie=e[27].requirements.knowledge>0&&wl(e),ge=We(e[27].requirements.plots),j=[];for(let qe=0;qe<ge.length;qe+=1)j[qe]=kl(hl(e,ge,qe));let re=e[27].effect_modifiers.happiness!=1&&Cl(e),be=e[27].effect_modifiers.health!=1&&Sl(e),ke=e[27].immediate_variable_changes.happiness!=0&&Al(e),De=e[27].immediate_variable_changes.health!=0&&Tl(e);return{key:t,first:null,c(){n=O("tr"),i=O("td"),r=$(o),l=U(),a=O("td"),u=U(),f=O("td"),x&&x.c(),c=U(),d=O("td"),m=$(h),b=U(),y=O("td"),N=$("$"),V=$(I),L=U(),ie&&ie.c(),R=U(),B=O("td"),p=O("div");for(let qe=0;qe<j.length;qe+=1)j[qe].c();Y=U(),T=O("td"),v=O("div"),re&&re.c(),g=U(),P=O("div"),be&&be.c(),D=U(),E=O("td"),ke&&ke.c(),W=U(),De&&De.c(),K=U(),q(i,"class","px-2 py-2 w-12"),q(a,"class","px-2 py-2 w-24"),q(f,"class","px-2 py-2 w-12 font-bold"),q(d,"class",_="px-2 py-2 w-8 "+(e[27].requirements.employees>e[8].townInfo.population_count-e[8].townInfo.employees?"underline bg-red-800 text-white":"")),q(y,"class",F="px-2 py-2 w-8 "+(e[27].requirements.gold>e[8].townInfo.gold?"underline bg-red-800 text-white border-none":"")),q(p,"class","flex flex-col align-middle justify-center h-max w-max gap-1"),q(B,"class","px-2 py-2 w-12"),q(v,"class","text-xs"),q(P,"class","mt-2"),q(T,"class","px-2 py-2 w-12 text-xs"),q(E,"class","px-2 py-2 w-12"),q(n,"class",ee="plotOption border-b border-black "+(e[27].affordable?"cursor-pointer":"unaffordable cursor-not-allowed bg-gray-200")+" "+(e[27].selected?"italic font-light opacity-50 ":"")+" svelte-bq7iir"),q(n,"data-plotoptionid",z=e[27].id),hn(n,"background-color",e[27].selected?"gray":yi(e[11](e[27].id),e[4](e[2],e[3]))),this.first=n},m(qe,Fe){k(qe,n,Fe),M(n,i),M(i,r),M(n,l),M(n,a),a.innerHTML=s,M(n,u),M(n,f),x&&x.m(f,null),M(n,c),M(n,d),M(d,m),M(n,b),M(n,y),M(y,N),M(y,V),M(y,L),ie&&ie.m(y,null),M(n,R),M(n,B),M(B,p);for(let Re=0;Re<j.length;Re+=1)j[Re]&&j[Re].m(p,null);M(n,Y),M(n,T),M(T,v),re&&re.m(v,null),M(T,g),M(T,P),be&&be.m(P,null),M(n,D),M(n,E),ke&&ke.m(E,null),M(E,W),De&&De.m(E,null),M(n,K)},p(qe,Fe){if(e=qe,Fe[0]&128&&o!==(o=e[27].selected?`‚úÖ SELECTED ${e[27].title.substring(2)}`:`${e[27].title}`)&&me(r,o),Fe[0]&128&&s!==(s=e[27].description+"")&&(a.innerHTML=s),e[27].revenue_per_week>0?x?x.p(e,Fe):(x=yl(e),x.c(),x.m(f,null)):x&&(x.d(1),x=null),Fe[0]&128&&h!==(h=(e[27].requirements.employees||"")+"")&&me(m,h),Fe[0]&384&&_!==(_="px-2 py-2 w-8 "+(e[27].requirements.employees>e[8].townInfo.population_count-e[8].townInfo.employees?"underline bg-red-800 text-white":""))&&q(d,"class",_),Fe[0]&128&&I!==(I=El(e[27].requirements.gold)+"")&&me(V,I),e[27].requirements.knowledge>0?ie?ie.p(e,Fe):(ie=wl(e),ie.c(),ie.m(y,null)):ie&&(ie.d(1),ie=null),Fe[0]&384&&F!==(F="px-2 py-2 w-8 "+(e[27].requirements.gold>e[8].townInfo.gold?"underline bg-red-800 text-white border-none":""))&&q(y,"class",F),Fe[0]&384){ge=We(e[27].requirements.plots);let Re;for(Re=0;Re<ge.length;Re+=1){const Ve=hl(e,ge,Re);j[Re]?j[Re].p(Ve,Fe):(j[Re]=kl(Ve),j[Re].c(),j[Re].m(p,null))}for(;Re<j.length;Re+=1)j[Re].d(1);j.length=ge.length}e[27].effect_modifiers.happiness!=1?re?re.p(e,Fe):(re=Cl(e),re.c(),re.m(v,null)):re&&(re.d(1),re=null),e[27].effect_modifiers.health!=1?be?be.p(e,Fe):(be=Sl(e),be.c(),be.m(P,null)):be&&(be.d(1),be=null),e[27].immediate_variable_changes.happiness!=0?ke?ke.p(e,Fe):(ke=Al(e),ke.c(),ke.m(E,W)):ke&&(ke.d(1),ke=null),e[27].immediate_variable_changes.health!=0?De?De.p(e,Fe):(De=Tl(e),De.c(),De.m(E,null)):De&&(De.d(1),De=null),Fe[0]&128&&ee!==(ee="plotOption border-b border-black "+(e[27].affordable?"cursor-pointer":"unaffordable cursor-not-allowed bg-gray-200")+" "+(e[27].selected?"italic font-light opacity-50 ":"")+" svelte-bq7iir")&&q(n,"class",ee),Fe[0]&128&&z!==(z=e[27].id)&&q(n,"data-plotoptionid",z),Fe[0]&140&&hn(n,"background-color",e[27].selected?"gray":yi(e[11](e[27].id),e[4](e[2],e[3])))},d(qe){qe&&w(n),x&&x.d(),ie&&ie.d(),Tt(j,qe),re&&re.d(),be&&be.d(),ke&&ke.d(),De&&De.d()}}}function Dh(t){let e,n,i,o,r,l,a,s,u,f,c,d,h,m=t[8].plots[t[2]][t[3]].type!==-1&&t[5](t[2],t[3]),_,b,y,N,I,V,L,F,R,B,p,Y,T,v=[],g=new Map,P,D,E;e=new xt({props:{$$slots:{default:[Oh]},$$scope:{ctx:t}}});let W={type:"text",id:"search-bar",placeholder:"Search Plot Options...",value:t[6],class:"border rounded w-auto"};r=new Zo({props:W}),t[17](r),r.$on("input",t[12]);let K=m&&gl(t);function ee(j,re){return j[7].length>0?Fh:Lh}let z=ee(t),x=z(t);L=new Ii({props:{class:""}});let ie=We(t[7]);const ge=j=>j[27].id;for(let j=0;j<ie.length;j+=1){let re=pl(t,ie,j),be=ge(re);g.set(be,v[j]=Nl(be,re))}return{c(){Q(e.$$.fragment),n=U(),i=O("div"),o=O("div"),Q(r.$$.fragment),l=U(),a=O("div"),s=O("input"),f=U(),c=O("label"),c.textContent="Show only affordable",d=U(),h=O("div"),K&&K.c(),_=U(),b=O("label"),y=O("span"),y.textContent="Quick scroll",N=U(),I=O("div"),x.c(),V=U(),Q(L.$$.fragment),F=U(),R=O("div"),B=O("table"),p=O("thead"),p.innerHTML='<tr class="text-xs text-left"><th class="px-2 py-2">Title</th> <th class="px-2 pr-2 py-2 w-48">Desc</th> <th class="px-2 py-2">Profit</th> <th class="px-2 py-2">Employees</th> <th class="px-2 py-2">Cost</th> <th class="px-2 py-2">Requires</th> <th class="px-2 py-2">Modifiers</th> <th class="px-2 py-2">Instant effect</th></tr>',Y=U(),T=O("tbody");for(let j=0;j<v.length;j+=1)v[j].c();q(o,"class","flex items-center "),q(s,"type","checkbox"),q(s,"id","toggle-affordable"),q(s,"class","rounded"),s.checked=u=t[10]===t[7].length,q(c,"for","toggle-affordable"),q(c,"class","ml-2 no-select cursor-pointer "),q(a,"class","flex items-center ml-6"),q(h,"class","flex justify-end ml-6"),q(y,"class","mb-10"),q(b,"for","plotType"),q(b,"class","text-xs ml-4 gap-2"),q(i,"class","flex flex-row w-full px-4 py-2 text-white "),q(p,"class","sticky top-0 z-10 bg-slate-900 position-sticky text-white text-left w-full px-5 "),q(T,"class","overflow-hidden text-xs mx-2"),q(B,"class","text-left table-auto text-xs w-full border-collapse rounded-lgshadow-lg"),q(R,"class","overflow-y-scroll scroll-smooth no-scrollbar max-h-[60vh] ")},m(j,re){X(e,j,re),k(j,n,re),k(j,i,re),M(i,o),X(r,o,null),M(i,l),M(i,a),M(a,s),M(a,f),M(a,c),M(i,d),M(i,h),K&&K.m(h,null),M(i,_),M(i,b),M(b,y),M(b,N),M(b,I),x.m(I,null),k(j,V,re),X(L,j,re),k(j,F,re),k(j,R,re),M(R,B),M(B,p),M(B,Y),M(B,T);for(let be=0;be<v.length;be+=1)v[be]&&v[be].m(T,null);P=!0,D||(E=[H(s,"change",t[18]),H(B,"click",t[14])],D=!0)},p(j,re){const be={};re[0]&2|re[1]&16&&(be.$$scope={dirty:re,ctx:j}),e.$set(be);const ke={};re[0]&64&&(ke.value=j[6]),r.$set(ke),(!P||re[0]&1152&&u!==(u=j[10]===j[7].length))&&(s.checked=u),re[0]&268&&(m=j[8].plots[j[2]][j[3]].type!==-1&&j[5](j[2],j[3])),m?K?K.p(j,re):(K=gl(j),K.c(),K.m(h,null)):K&&(K.d(1),K=null),z===(z=ee(j))&&x?x.p(j,re):(x.d(1),x=z(j),x&&(x.c(),x.m(I,null))),re[0]&2460&&(ie=We(j[7]),v=yu(v,re,ge,1,j,ie,g,T,vu,Nl,null,pl))},i(j){P||(C(e.$$.fragment,j),C(r.$$.fragment,j),C(L.$$.fragment,j),P=!0)},o(j){S(e.$$.fragment,j),S(r.$$.fragment,j),S(L.$$.fragment,j),P=!1},d(j){j&&(w(n),w(i),w(V),w(F),w(R)),Z(e,j),t[17](null),Z(r),K&&K.d(),x.d(),Z(L,j);for(let re=0;re<v.length;re+=1)v[re].d();D=!1,Ee(E)}}}function $h(t){let e,n;return e=new zt({props:{class:`border-gray-500 border-r-2 overflow-clip max-w-[90vw] max-h-[90vh]
		`,$$slots:{default:[Dh]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){X(e,i,o),n=!0},p(i,o){const r={};o[0]&1998|o[1]&16&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Bh(t){let e,n,i;function o(l){t[20](l)}let r={$$slots:{default:[$h]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new tn({props:r}),Se.push(()=>Zt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){X(e,l,a),i=!0},p(l,a){const s={};a[0]&1998|a[1]&16&&(s.$$scope={dirty:a,ctx:l}),!n&&a[0]&1&&(n=!0,s.open=l[0],Xt(()=>n=!1)),e.$set(s)},i(l){i||(C(e.$$.fragment,l),i=!0)},o(l){S(e.$$.fragment,l),i=!1},d(l){Z(e,l)}}}function Ei(t){let e=t<1,n=Vt(t%1*100,0);return e?`-${100-n}%`:`+${n}%`}function Mi(t){return t=Vt(t/3,0),t<0?`-${t}`:`+${t}`}function Il(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function Vt(t,e){e===void 0&&(e=0);var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var i=Math.round(t)/n;return+i.toFixed(e)}function El(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Gh(t,e,n){let i,o,r;se(t,Ke,g=>n(21,i=g)),se(t,we,g=>n(8,o=g)),se(t,Vs,g=>n(16,r=g));let{x:l=0}=e,{y:a=0}=e,{open:s=!1}=e,u="",f=Ne,{tooltip:c=""}=e,d,h,m=f.map(g=>Object.assign(Object.assign({},g),{affordable:R(g,o),selected:y(g)}));function _(g){return Ne.findIndex(P=>P.id===g)}function b(g){n(6,u=g.target.value||"")}function y(g){return o.plots[l][a].type>-1?f[o.plots[l][a].type].id===g.id:!1}function N(g,P){let D={x:g,y:P};return D.x===0&&D.y===0?!0:[{x:D.x-1,y:D.y},{x:D.x+1,y:D.y},{x:D.x,y:D.y-1},{x:D.x,y:D.y+1}].some(W=>W.x<0||W.x>o.plots.length-1||W.y<0||W.y>o.plots.length-1?!1:o.plots[W.x][W.y].active)}function I(){document.querySelectorAll(".plotOption").forEach(P=>{P.classList.remove("active")}),wi(l,a,o)}function V(g){document.querySelectorAll(".plotOption").forEach(E=>{E.classList.remove("active")});const D=document.querySelector(`[data-plotoptionid="${g}"]`);D&&(D.classList.add("active"),F(l,a,g))}function L(g,P){let D=0;return g>0&&o.plots[g-1][P].type!==-1&&D++,g<o.plots.length-1&&o.plots[g+1][P].type!==-1&&D++,P>0&&o.plots[g][P-1].type!==-1&&D++,P<o.plots[0].length-1&&o.plots[g][P+1].type!==-1&&D++,D<=4}function F(g,P,D){let E=o;const W=Ne.findIndex(z=>z.id===D);let K=Ne[W];if(R(K,o)==!1)return console.log(K.requirements),alert(`${JSON.stringify(K.requirements)}`);let ee=!0;if((K.requirements.gold>E.townInfo.gold||K.requirements.employees>E.townInfo.population_count-E.townInfo.employees)&&(ee=!1),K.requirements.size!=null&&ee){let z=K.requirements.size,x=[],ie=f[W].title.toLowerCase().indexOf("school")!=-1;for(let ge=0;ge<4;ge++){let j=[[g,P]];ge===0?(j.push([g-(z-1),P-(z-1)]),j.push([g-(z-1),P]),j.push([g,P-(z-1)])):ge===1?(j.push([g,P-(z-1)]),j.push([g+(z-1),P-(z-1)]),j.push([g+(z-1),P])):ge===2?(j.push([g-(z-1),P]),j.push([g-(z-1),P+(z-1)]),j.push([g,P+(z-1)])):ge===3&&(j.push([g,P+(z-1)]),j.push([g+(z-1),P+(z-1)]),j.push([g+(z-1),P])),x.push(j)}x=x.filter(ge=>ge.every(j=>j[0]>=0&&j[0]<=E.plots.length-1&&j[1]>=0&&j[1]<=E.plots.length-1&&!E.plots[j[0]][j[1]].active&&N(j[0],j[1])==!0)),x.length===0?ee=!1:x.length>0&&x[0].forEach(j=>{E.plots[j[0]][j[1]].active=!0,E.plots[j[0]][j[1]].type=ie?-3:-2,E.plots[j[0]][j[1]].referencePlot=[g,P]})}if(ee===!0){switch(E.plots[g][P].type!==-1&&wi(g,P,E),n(1,c=""),E.plots[g][P].type=W,E.plots[g][P].active=!0,E.plots[g][P].referencePlot=[],E.plots[g][P].typeId=K.id,E.townInfo.gold-=K.requirements.gold,E.townInfo.gold=Vt(E.townInfo.gold,2),E.townInfo.population_count+=K.immediate_variable_changes.population,E.townInfo.population_max+=K.immediate_variable_changes.population,E.townInfo.happiness+=K.immediate_variable_changes.happiness,E.townInfo.health+=K.immediate_variable_changes.health,E.modifiers.happiness=Vt(E.modifiers.happiness*K.effect_modifiers.happiness,2),E.modifiers.health=Vt(E.modifiers.health*K.effect_modifiers.health,2),E.townInfo.employees+=K.requirements.employees,(E.plotCounts[W]===void 0||E.plotCounts[W]===null)&&(E.plotCounts[W]=0),E.plotCounts[W]++,E.lastChangeDay=E.environment.day,K.id){case"city_hall":E.hasCityHall=!0;break;case"bank":E.hasBank=!0;break}we.set(E),localStorage.setItem(lt,JSON.stringify(E)),ye(Ke,i.visible=!1,i)}else n(1,c="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(x=>{x.classList.remove("active")})}function R(g,P){let D=!0;g.requirements.gold>P.townInfo.gold&&(D=!1);let E=P.townInfo.population_count-P.townInfo.employees;return g.requirements.employees!==void 0&&g.requirements.employees>0&&g.requirements.employees>E&&(D=!1),g.requirements.knowledge!==void 0&&g.requirements.knowledge>P.townInfo.knowledge_points&&(D=!1),g.requirements.plots!==void 0&&g.requirements.plots.length>0&&g.requirements.plots.forEach(W=>{mn(W,P).length===0&&(D=!1)}),D}function B(g){const P=g.target.closest(".plotOption");if(P){const D=P.dataset.plotoptionid;V(D)}}function p(g){Se[g?"unshift":"push"](()=>{d=g,n(9,d)})}const Y=()=>{Iu()},T=g=>{const P=document.querySelector(`[data-plotoptionid="${g.id}"]`);P&&P.scrollIntoView({behavior:"smooth",block:"center"})};function v(g){s=g,n(0,s)}return t.$$set=g=>{"x"in g&&n(2,l=g.x),"y"in g&&n(3,a=g.y),"open"in g&&n(0,s=g.open),"tooltip"in g&&n(1,c=g.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&65920&&o&&(n(7,m=f.map(g=>Object.assign(Object.assign({},g),{affordable:R(g,o),selected:y(g)}))),r&&n(7,m=m.filter(g=>g.affordable)),Object.keys(ur).forEach(g=>{let P=ur[g];if(P>0){let D=mn(g,o).length;n(7,m=m.filter(E=>E.id!==g||D<P))}})),t.$$.dirty[0]&192&&n(7,m=m.filter(g=>g.title.toLowerCase().includes(u.toLowerCase()))),t.$$.dirty[0]&128&&n(10,h=m.filter(g=>g.affordable).length)},[s,c,l,a,N,L,u,m,o,d,h,_,b,I,B,F,r,p,Y,T,v]}class jh extends he{constructor(e){super(),pe(this,e,Gh,Bh,le,{x:2,y:3,open:0,tooltip:1,checkIfPlotCanBeUpgraded:4,canBulldoze:5,purchasePlot:15},null,[-1,-1])}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[4]}get canBulldoze(){return this.$$.ctx[5]}get purchasePlot(){return this.$$.ctx[15]}}function Hh(t){let e,n,i,o,r;return{c(){e=O("div"),n=O("span"),i=$("üëã "),o=$(t[0]),q(n,"class",r="text-xs rounded-lg p-2 whitespace-normal text-center flex justify-center w-fit m-2 shadow shadow-black hover:rotate-6 overflow-visible hover:scale-110 z-10 transition-all duration-25 "+t[1]+" "+(t[2]?"bg-green-300 text-green-900":"bg-red-900 text-red-200")),q(e,"class","overflow-visible animate-pulse")},m(l,a){k(l,e,a),M(e,n),M(n,i),M(n,o)},p(l,[a]){a&1&&me(o,l[0]),a&6&&r!==(r="text-xs rounded-lg p-2 whitespace-normal text-center flex justify-center w-fit m-2 shadow shadow-black hover:rotate-6 overflow-visible hover:scale-110 z-10 transition-all duration-25 "+l[1]+" "+(l[2]?"bg-green-300 text-green-900":"bg-red-900 text-red-200"))&&q(n,"class",r)},i:_e,o:_e,d(l){l&&w(e)}}}function Wh(t,e,n){let{text:i=""}=e,{classText:o=""}=e,{happy:r=!1}=e;return t.$$set=l=>{"text"in l&&n(0,i=l.text),"classText"in l&&n(1,o=l.classText),"happy"in l&&n(2,r=l.happy)},[i,o,r]}class ha extends he{constructor(e){super(),pe(this,e,Wh,Hh,le,{text:0,classText:1,happy:2})}}function Vh(t){let e,n;return e=new ha({props:{text:"Build your first home",happy:"true"}}),{c(){Q(e.$$.fragment)},m(i,o){X(e,i,o),n=!0},p:_e,i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Kh(t){let e,n,i,o=Ne[t[0].type].title.substring(0,2)+"",r,l,a=Ne[t[0].type].title.substring(2)+"",s,u,f=Ne[t[0].type].requirements.size>1?`(${Ne[t[0].type].requirements.size}x${Ne[t[0].type].requirements.size})`:"",c,d;return{c(){e=O("div"),n=O("span"),i=O("span"),r=$(o),l=O("br"),s=$(a),u=U(),c=$(f),q(i,"class","text-lg"),q(n,"data-size",d=Ne[t[0].type].requirements.size),q(e,"class","svelte-i7je74")},m(h,m){k(h,e,m),M(e,n),M(n,i),M(i,r),M(n,l),M(n,s),M(n,u),M(n,c)},p(h,m){m&1&&o!==(o=Ne[h[0].type].title.substring(0,2)+"")&&me(r,o),m&1&&a!==(a=Ne[h[0].type].title.substring(2)+"")&&me(s,a),m&1&&f!==(f=Ne[h[0].type].requirements.size>1?`(${Ne[h[0].type].requirements.size}x${Ne[h[0].type].requirements.size})`:"")&&me(c,f),m&1&&d!==(d=Ne[h[0].type].requirements.size)&&q(n,"data-size",d)},i:_e,o:_e,d(h){h&&w(e)}}}function Uh(t){let e,n,i,o,r,l,a,s,u,f,c,d,h,m,_,b,y;const N=[Kh,Vh],I=[];function V(L,F){return L[0].type>-1?0:L[0].type==-1&&L[0].x==0&&L[0].y==0?1:-1}return~(n=V(t))&&(i=I[n]=N[n](t)),{c(){e=O("div"),i&&i.c(),q(e,"class",o="plot_container overflow-visible "+(t[0].type==-1&&t[1]==!1?"border-slate-500 border-dashed border":"")+" svelte-i7je74"),hn(e,"background-color",yi(t[0].type,t[1])),q(e,"data-active",r=t[0].active),q(e,"data-id",l=t[0].id),q(e,"data-x",a=t[0].x),q(e,"data-y",s=t[0].y),q(e,"data-optionindex",u=t[0].optionIndex),q(e,"data-canbeupgraded",t[1]),q(e,"data-type",f=t[0].type),q(e,"data-type-id",c=t[0].typeId),q(e,"data-refplotx",d=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),q(e,"data-refploty",h=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),q(e,"data-size",m=t[0].type>-1?Ne[t[0].type].requirements.size:null)},m(L,F){k(L,e,F),~n&&I[n].m(e,null),_=!0,b||(y=H(e,"click",t[2]),b=!0)},p(L,[F]){let R=n;n=V(L),n===R?~n&&I[n].p(L,F):(i&&(Pe(),S(I[R],1,1,()=>{I[R]=null}),Oe()),~n?(i=I[n],i?i.p(L,F):(i=I[n]=N[n](L),i.c()),C(i,1),i.m(e,null)):i=null),(!_||F&3&&o!==(o="plot_container overflow-visible "+(L[0].type==-1&&L[1]==!1?"border-slate-500 border-dashed border":"")+" svelte-i7je74"))&&q(e,"class",o),(!_||F&3)&&hn(e,"background-color",yi(L[0].type,L[1])),(!_||F&1&&r!==(r=L[0].active))&&q(e,"data-active",r),(!_||F&1&&l!==(l=L[0].id))&&q(e,"data-id",l),(!_||F&1&&a!==(a=L[0].x))&&q(e,"data-x",a),(!_||F&1&&s!==(s=L[0].y))&&q(e,"data-y",s),(!_||F&1&&u!==(u=L[0].optionIndex))&&q(e,"data-optionindex",u),(!_||F&2)&&q(e,"data-canbeupgraded",L[1]),(!_||F&1&&f!==(f=L[0].type))&&q(e,"data-type",f),(!_||F&1&&c!==(c=L[0].typeId))&&q(e,"data-type-id",c),(!_||F&1&&d!==(d=L[0].referencePlot!==void 0?L[0].referencePlot[1]:null))&&q(e,"data-refplotx",d),(!_||F&1&&h!==(h=L[0].referencePlot!==void 0?L[0].referencePlot[0]:null))&&q(e,"data-refploty",h),(!_||F&1&&m!==(m=L[0].type>-1?Ne[L[0].type].requirements.size:null))&&q(e,"data-size",m)},i(L){_||(C(i),_=!0)},o(L){S(i),_=!1},d(L){L&&w(e),~n&&I[n].d(),b=!1,y()}}}function Yh(t,e,n){let i,o,r,l;se(t,Ke,c=>n(4,i=c)),se(t,we,c=>n(5,o=c)),se(t,Ct,c=>n(6,r=c)),se(t,_n,c=>n(7,l=c));let{data:a={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[]}}=e,{canBeUpgraded:s=!1}=e;function u(c,d,h){let m=document.querySelectorAll(".plot_container");if(r==!1){if(a.referencePlot!=null&&a.referencePlot[0]!==null&&d==null&&h==null&&a.referencePlot[1]!==void 0)return u(c,a.referencePlot[0],a.referencePlot[1]);!a.active&&!s?(ye(_n,l={},l),ye(Ke,i.visible=!1,i),m.forEach(_=>{_.classList.remove("selected")})):(d!=null&&h!=null?(ye(Ke,i.x=d,i),ye(Ke,i.y=h,i)):(ye(Ke,i.x=a.x,i),ye(Ke,i.y=a.y,i)),ye(Ke,i.visible=!0,i),m.forEach(_=>{_.classList.remove("selected")}),d!=null&&h!=null?document.querySelector(`.plot_container[data-x="${d}"][data-y="${h}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${a.id}"]`).classList.add("selected"))}}function f(c){r==!1&&(ye(we,o.plots[a.x][a.y].type=c,o),ye(Ke,i.visible=!1,i))}return t.$$set=c=>{"data"in c&&n(0,a=c.data),"canBeUpgraded"in c&&n(1,s=c.canBeUpgraded)},[a,s,u,f]}class Jh extends he{constructor(e){super(),pe(this,e,Yh,Uh,le,{data:0,canBeUpgraded:1,changePlotType:3})}get changePlotType(){return this.$$.ctx[3]}}function Ml(t,e,n){const i=t.slice();return i[6]=e[n],i}function Pl(t,e,n){const i=t.slice();return i[9]=e[n],i}function Ol(t){let e,n,i=t[3],o,r,l=We(t[2].plots),a=[];for(let f=0;f<l.length;f+=1)a[f]=Fl(Ml(t,l,f));const s=f=>S(a[f],1,1,()=>{a[f]=null});let u=ql(t);return{c(){e=O("div");for(let f=0;f<a.length;f+=1)a[f].c();n=U(),u.c(),o=Te(),q(e,"class","grid overflow-x-scroll overflow-visible svelte-3cpxwu")},m(f,c){k(f,e,c);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(e,null);k(f,n,c),u.m(f,c),k(f,o,c),r=!0},p(f,c){if(c&7){l=We(f[2].plots);let d;for(d=0;d<l.length;d+=1){const h=Ml(f,l,d);a[d]?(a[d].p(h,c),C(a[d],1)):(a[d]=Fl(h),a[d].c(),C(a[d],1),a[d].m(e,null))}for(Pe(),d=l.length;d<a.length;d+=1)s(d);Oe()}c&8&&le(i,i=f[3])?(Pe(),S(u,1,1,_e),Oe(),u=ql(f),u.c(),C(u,1),u.m(o.parentNode,o)):u.p(f,c)},i(f){if(!r){for(let c=0;c<l.length;c+=1)C(a[c]);C(u),r=!0}},o(f){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)S(a[c]);S(u),r=!1},d(f){f&&(w(e),w(n),w(o)),Tt(a,f),u.d(f)}}}function Ll(t){let e,n;return e=new Jh({props:{data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){Q(e.$$.fragment)},m(i,o){X(e,i,o),n=!0},p(i,o){const r={};o&4&&(r.data=i[9]),o&4&&(r.canBeUpgraded=i[0](i[9].x,i[9].y)),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Fl(t){let e,n,i,o,r,l=We(t[6]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Ll(Pl(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=O("div");for(let u=0;u<a.length;u+=1)a[u].c();n=U(),q(e,"class","row overflow-visible svelte-3cpxwu")},m(u,f){k(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);M(e,n),i=!0,o||(r=H(e,"click",t[1]),o=!0)},p(u,f){if(f&5){l=We(u[6]);let c;for(c=0;c<l.length;c+=1){const d=Pl(u,l,c);a[c]?(a[c].p(d,f),C(a[c],1)):(a[c]=Ll(d),a[c].c(),C(a[c],1),a[c].m(e,n))}for(Pe(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!i){for(let f=0;f<l.length;f+=1)C(a[f]);i=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);i=!1},d(u){u&&w(e),Tt(a,u),o=!1,r()}}}function Rl(t){let e,n;return e=new jh({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){Q(e.$$.fragment)},m(i,o){X(e,i,o),n=!0},p(i,o){const r={};o&16&&(r.x=i[4].x),o&16&&(r.y=i[4].y),o&16&&(r.open=i[4].visible),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function ql(t){let e,n,i=t[4].visible&&Rl(t);return{c(){i&&i.c(),e=Te()},m(o,r){i&&i.m(o,r),k(o,e,r),n=!0},p(o,r){o[4].visible?i?(i.p(o,r),r&16&&C(i,1)):(i=Rl(o),i.c(),C(i,1),i.m(e.parentNode,e)):i&&(Pe(),S(i,1,1,()=>{i=null}),Oe())},i(o){n||(C(i),n=!0)},o(o){S(i),n=!1},d(o){o&&w(e),i&&i.d(o)}}}function Xh(t){let e,n,i=t[2]!=null&&Ol(t);return{c(){i&&i.c(),e=Te()},m(o,r){i&&i.m(o,r),k(o,e,r),n=!0},p(o,[r]){o[2]!=null?i?(i.p(o,r),r&4&&C(i,1)):(i=Ol(o),i.c(),C(i,1),i.m(e.parentNode,e)):i&&(Pe(),S(i,1,1,()=>{i=null}),Oe())},i(o){n||(C(i),n=!0)},o(o){S(i),n=!1},d(o){o&&w(e),i&&i.d(o)}}}function Zh(t,e,n){let i,o,r;se(t,_n,u=>n(3,i=u)),se(t,we,u=>n(2,o=u)),se(t,Ke,u=>n(4,r=u));function l(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(h=>h.x<0||h.x>=o.plots.length||h.y<0||h.y>=o.plots[h.x].length?!1:o.plots[h.x][h.y].active)}function a(){let u=[];for(let f=0;f<o.plots.length;f++)for(let c=0;c<o.plots.length;c++)l(f,c)&&o.plots[f][c].active==!1&&u.push(o.plots[f][c])}function s(){ye(_n,i={},i)}return t.$$.update=()=>{t.$$.dirty&4&&o&&a()},[l,s,o,i,r]}class Qh extends he{constructor(e){super(),pe(this,e,Zh,Xh,le,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}const Ze={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},tt={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Free Play",description_title:"Play for as long as you can and build the best city you can."}},Dl=30;function xh(t){let e=!0;for(let n=0;n<t.plots.length;n++)for(let i=0;i<t.plots[n].length;i++)if(t.plots[n][i].active==!1){e=!1;break}return e}function zh(t){return t.endGameDetails!=null||(t.townInfo.happiness<70&&t.last_warning_happiness+365<t.environment.day&&(alert("Your citizens are very unhappy. You should do something about it."),t.last_warning_happiness=t.environment.day),t.townInfo.health<70&&t.last_warning_health+365<t.environment.day&&(alert("Your citizens are very unhealthy. You should do something about it."),t.last_warning_health=t.environment.day)),t}function em(t){return t.hasBank,t}function tm(t){return t.hasCityHall,t}function nm(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,i=8,o=3;let r=Math.random(),l=Math.random()*o;if(r<.4){let a=Math.random()*i;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function wo(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function ko(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}return t}function im(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t}function om(t,e){let n=e.townInfo.happiness/100;n>2.25?n=2.25:n<.75&&(n=.75);let i=t*e.economyAndLaws.tax_rate*(e.townInfo.population_count/e.townInfo.population_max)*n;return Mt(i,2)}function Mt(t,e){e===void 0&&(e=0);var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var i=Math.round(t)/n;return+i.toFixed(e)}function rm(t,e,n){let i,o,r;se(t,ui,p=>n(5,i=p)),se(t,we,p=>n(6,o=p)),se(t,Ct,p=>n(7,r=p));function l(p){return p=m(p),p=I(p),p=F(p),p=im(p),p=b(p),p=L(p),p=c(p),p=nm(p),p=zh(p),p}function a(p){return p=R(p),p=em(p),p=tm(p),p}function s(p){return p=y(p),p=ko(p),p=_(p),p=N(p),p}function u(p){return p=V(p),p=wo(p),p.overtime==!1&&(p=h(p),p=d(p)),p}function f(){we.update(p=>{if(p==null||(p.tick++,p.tick%Dl!==0)||r||!p||p.endGameDetails.msg!==""&&p.overtime==!1||p.townInfo.population_count<=0)return p;try{return p.environment.day+=1,p.environment.day%7===0&&(p=l(p)),p.environment.day%30===0&&(p=a(p)),p.environment.day%90===0&&(p=s(p)),window.location.search.includes("debug=true")&&console.log(p),p=u(p),p}catch(Y){return console.error("Error in game loop:",Y),p}})}we.subscribe(p=>{p&&localStorage.setItem(lt,JSON.stringify(p))});function c(p){let Y=!1,T=!1,v=!1,g=!1;for(let P=0;P<p.plots.length;P++)for(let D=0;D<p.plots[P].length;D++)if(p.plots[P][D].active==!0&&p.plots[P][D].type>-1){let E=Ne[p.plots[P][D].type].id;E=="bank"&&(Y=!0),E=="city_hall"&&(v=!0),(E=="small_hospital"||E=="large_hospital")&&(T=!0),E=="lab"&&(g=!0)}return p.hasBank=Y,p.hasHospital=T,p.hasCityHall=v,p.hasLab=g,p}function d(p){if(p.endGoal=="land"&&p.townInfo.population_max==p.townInfo.population_count&&p.townInfo.happiness>=tt.land.requirements[p.difficulty].happiness&&p.townInfo.health>=tt.land.requirements[p.difficulty].health&&p.townInfo.employees/p.townInfo.population_count>=tt.land.requirements[p.difficulty].employment&&p.townInfo.population_count>tt.land.requirements[p.difficulty].population_count&&p.townInfo.knowledge_points>=tt.land.requirements[p.difficulty].knowledge){let T=!0;for(let g=0;g<tt.land.requirements[p.difficulty].required_plots.length;g++){let P=tt.land.requirements[p.difficulty].required_plots[g];if(mn(P,p)==!1){T=!1;break}}xh(p)&&T&&(p.endGameDetails={msg:tt.land.win,win:!0,still_playing:!1})}return p}function h(p){return p.townInfo.happiness<=3&&(p.townInfo.happiness=0,p.endGameDetails={msg:Ze.happiness_zero,win:!1,still_playing:!1}),p.townInfo.health<=3&&(p.townInfo.health=3,p.endGameDetails={msg:Ze.health_zero,win:!1,still_playing:!1}),p.townInfo.population_count<=0&&p.townInfo.population_max>0&&(p.townInfo.population_count=0,p.endGameDetails={msg:Ze.population_zero,win:!1,still_playing:!1}),p}function m(p){let Y=p.townInfo.population_count-p.townInfo.employees;return Y>0&&(p.modifiers.happiness-=Y*4e-4,p=B(Y+Ze.unemployment_num,p)),p}function _(p){let Y=p.plotCounts.reduce((v,g)=>v+g,0),T=!1;for(let v=0;v<p.plotCounts.length;v++)p.plotCounts[v]==null||Ne[v].check_for_variety!=!0||p.plotCounts[v]/Y>=Au[p.difficulty]&&(Ne[v].title,T=!0);return T&&(p=B(Ze.notEnoughVariety,p),p.modifiers.happiness*.95),p}function b(p){let Y=p.townInfo.health,T=0;return Y>50||Y<Math.random()*50&&(Y<25?(p=B(Ze.sickAndDying,p),p.townInfo.happiness-=10,T=Math.round(p.townInfo.population_count*.1)):(p=B(Ze.sickAndLeaving,p),p.townInfo.happiness-=5,T=Math.round(p.townInfo.population_count*.05)),p.townInfo.population_count-=T,p.townInfo.employees-=T),p}function y(p){return p.lastChangeDay+(Math.random()*500+180)<p.environment.day&&p.townInfo.population_count>0&&(p.townInfo.population_count>0&&(p.townInfo.population_count-=1,p.townInfo.employees-=1,p.modifiers.happiness-=.01),p=B(Ze.bored,p)),p}function N(p){if(p.townInfo.population_count<p.townInfo.population_max&&p.townInfo.happiness>50){let Y=p.townInfo.population_max-p.townInfo.population_count,T=Math.round(p.townInfo.happiness/100*Y);p.townInfo.population_count+=T,p.townInfo.population_count>p.townInfo.population_max&&(p.townInfo.population_count=p.townInfo.population_max),p.townInfo.employees+=T,p.townInfo.employees>p.townInfo.population_count&&(p.townInfo.employees=p.townInfo.population_count),p=B(T+Ze.new_people_num,p)}if(p.townInfo.happiness<50&&p.townInfo.population_count>0){let Y=Math.round((100-p.townInfo.happiness)/5);p.townInfo.population_count-=Y,p.townInfo.employees>0&&(p.townInfo.employees-=Y),p=B(Y+Ze.leave_town_num,p)}else p.townInfo.population_count==p.townInfo.population_max;return p}function I(p){const Y=Math.random();if(p.economyAndLaws.tax_rate>p.economyAndLaws.max_tax_rate&&p.townInfo.population_count>0){const T=p.difficulty==0?.7:p.difficulty==1?.4:.2;Y<T&&p.economyAndLaws.tax_rate>p.economyAndLaws.max_tax_rate*2?(p.modifiers.happiness-=.03,p=B(Ze.very_high_tax_rate+"  ("+p.economyAndLaws.tax_rate+"%)",p)):(p.modifiers.happiness-=.01,p=B(Ze.high_tax_rate+"  ("+p.economyAndLaws.tax_rate*100+"%)",p))}return p}function V(p){return p.townInfo.happiness<0&&(p.townInfo.happiness=0),p.townInfo.health<0&&(p.townInfo.health=0),p.townInfo.gold<0&&(p.townInfo.gold=0),p.townInfo.employees<0&&(p.townInfo.employees=0),p.townInfo.knowledge_points<0&&(p.townInfo.knowledge_points=0),p.townInfo.population_count<0&&(p.townInfo.population_count=0),p.townInfo.population_max==0&&p.townLog.indexOf(Ze.nobody_home)==-1&&(p=B(Ze.nobody_home,p)),p.economyAndLaws.last_month_profit=Mt(p.economyAndLaws.last_month_profit,2),p.townInfo.employees>p.townInfo.population_count&&(p.townInfo.employees=p.townInfo.population_count),p.townInfo.gold=Mt(p.townInfo.gold,2),p.townInfo.population_count=Mt(p.townInfo.population_count,0),p.townInfo.employees=Mt(p.townInfo.employees,0),p.townInfo.population_max=Mt(p.townInfo.population_max,0),p.townInfo.happiness=Mt(p.townInfo.happiness,2),p.townInfo.health=Mt(p.townInfo.health,2),p.townInfo.happiness>p.maximums.happiness&&(p.townInfo.happiness=p.maximums.happiness),p.townInfo.health>p.maximums.health&&(p.townInfo.health=p.maximums.health),p.modifiers.happiness<.5&&(p.modifiers.happiness=.5),p.modifiers.health<.5&&(p.modifiers.health=.5),p}function L(p){if(p.modifiers.happiness>1){let Y=p.modifiers.happiness-1;p.modifiers.happiness-=Y*.08,p.modifiers.happiness<1.05&&(p.modifiers.happiness=1)}if(p.modifiers.health>1){if(p.hasHospital&&p.townLog.indexOf(Ze.hospital_advantage)==-1)return p=B(Ze.hospital_advantage,p);let Y=p.modifiers.health-1;p.modifiers.health-=Y*.08,p.modifiers.health<1.05&&(p.modifiers.health=1)}return p}function F(p){p.economyAndLaws.last_month_profit=0;for(let Y=0;Y<p.plots.length;Y++)for(let T=0;T<p.plots[Y].length;T++)if(p.plots[Y][T].active==!0&&p.plots[Y][T].type>-1){let v=Ne[p.plots[Y][T].type],g=om(v.revenue_per_week,p);p.townInfo.gold+=g,p.economyAndLaws.last_month_profit+=g,v.enables_tourism==!0&&(p.townInfo.gold_from_tourism+=v.tourism_revenue_per_week*p.economyAndLaws.tax_rate*p.townInfo.population_count)}return p}function R(p){for(let Y=0;Y<p.plots.length;Y++)for(let T=0;T<p.plots[Y].length;T++)if(p.plots[Y][T].active==!0&&p.plots[Y][T].type>-1){let v=Ne[p.plots[Y][T].type];v.knowledge_points_per_month!=null&&(p.townInfo.knowledge_points+=v.knowledge_points_per_month)}return p}function B(p,Y){return Y.townLog="Day "+o.environment.day+" - "+p+`
`+Y.townLog,Y}return jo(async()=>{for(;;)localStorage.reset=="true"&&(Ko(),localStorage.setItem("reset","false")),f(),await new Promise(p=>setTimeout(p,i/Dl))}),[f,wo,V,L,ko]}class lm extends he{constructor(e){super(),pe(this,e,rm,null,le,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4})}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return wo}get _fixVariables(){return this.$$.ctx[2]}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return ko}}var $l=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ot=t=>!t||typeof t!="object"||Object.keys(t).length===0,sm=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function ma(t,e){t.forEach(function(n){Array.isArray(n)?ma(n,e):e.push(n)})}function _a(t){let e=[];return ma(t,e),e}var ga=(...t)=>_a(t).filter(Boolean),ba=(t,e)=>{let n={},i=Object.keys(t),o=Object.keys(e);for(let r of i)if(o.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=ba(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=ga(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of o)i.includes(r)||(n[r]=e[r]);return n},Bl=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),am={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},va=t=>t||void 0,Hn=(...t)=>va(_a(t).filter(Boolean).join(" ")),oo=null,kt={},Co=!1,Mn=(...t)=>e=>e.twMerge?((!oo||Co)&&(Co=!1,oo=ot(kt)?ca:Up({...kt,extend:{theme:kt.theme,classGroups:kt.classGroups,conflictingClassGroupModifiers:kt.conflictingClassGroupModifiers,conflictingClassGroups:kt.conflictingClassGroups,...kt.extend}})),va(oo(Hn(t)))):Hn(t),Gl=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Hn(t[n],e[n]):t[n]=e[n];return t},um=(t,e)=>{let{extend:n=null,slots:i={},variants:o={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...am,...e},u=n!=null&&n.base?Hn(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!ot(n.variants)?ba(o,n.variants):o,c=n!=null&&n.defaultVariants&&!ot(n.defaultVariants)?{...n.defaultVariants,...a}:a;!ot(s.twMergeConfig)&&!sm(s.twMergeConfig,kt)&&(Co=!0,kt=s.twMergeConfig);let d=ot(n==null?void 0:n.slots),h=ot(i)?{}:{base:Hn(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...i},m=d?h:Gl({...n==null?void 0:n.slots},ot(h)?{base:t==null?void 0:t.base}:h),_=y=>{if(ot(f)&&ot(i)&&d)return Mn(u,y==null?void 0:y.class,y==null?void 0:y.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let N=(v,g,P=[],D)=>{let E=P;if(typeof g=="string")E=E.concat(Bl(g).split(" ").map(W=>`${v}:${W}`));else if(Array.isArray(g))E=E.concat(g.reduce((W,K)=>W.concat(`${v}:${K}`),[]));else if(typeof g=="object"&&typeof D=="string"){for(let W in g)if(g.hasOwnProperty(W)&&W===D){let K=g[W];if(K&&typeof K=="string"){let ee=Bl(K);E[D]?E[D]=E[D].concat(ee.split(" ").map(z=>`${v}:${z}`)):E[D]=ee.split(" ").map(z=>`${v}:${z}`)}else Array.isArray(K)&&K.length>0&&(E[D]=K.reduce((ee,z)=>ee.concat(`${v}:${z}`),[]))}}return E},I=(v,g=f,P=null,D=null)=>{var E;let W=g[v];if(!W||ot(W))return null;let K=(E=D==null?void 0:D[v])!=null?E:y==null?void 0:y[v];if(K===null)return null;let ee=$l(K),z=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,x=c==null?void 0:c[v],ie=[];if(typeof ee=="object"&&z)for(let[re,be]of Object.entries(ee)){let ke=W[be];if(re==="initial"){x=be;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(re)||(ie=N(re,ke,ie,P))}let ge=ee!=null&&typeof ee!="object"?ee:$l(x),j=W[ge]||W.false;return typeof ie=="object"&&typeof P=="string"&&ie[P]?Gl(ie,j):ie.length>0?(ie.push(j),ie):j},V=()=>f?Object.keys(f).map(v=>I(v,f)):null,L=(v,g)=>{if(!f||typeof f!="object")return null;let P=new Array;for(let D in f){let E=I(D,f,v,g),W=v==="base"&&typeof E=="string"?E:E&&E[v];W&&(P[P.length]=W)}return P},F={};for(let v in y)y[v]!==void 0&&(F[v]=y[v]);let R=(v,g)=>{var P;let D=typeof(y==null?void 0:y[v])=="object"?{[v]:(P=y[v])==null?void 0:P.initial}:{};return{...c,...F,...D,...g}},B=(v=[],g)=>{let P=[];for(let{class:D,className:E,...W}of v){let K=!0;for(let[ee,z]of Object.entries(W)){let x=R(ee,g);if(Array.isArray(z)){if(!z.includes(x[ee])){K=!1;break}}else if(x[ee]!==z){K=!1;break}}K&&(D&&P.push(D),E&&P.push(E))}return P},p=v=>{let g=B(r,v),P=B(n==null?void 0:n.compoundVariants,v);return ga(P,g)},Y=v=>{let g=p(v);if(!Array.isArray(g))return g;let P={};for(let D of g)if(typeof D=="string"&&(P.base=Mn(P.base,D)(s)),typeof D=="object")for(let[E,W]of Object.entries(D))P[E]=Mn(P[E],W)(s);return P},T=v=>{if(l.length<1)return null;let g={};for(let{slots:P=[],class:D,className:E,...W}of l){if(!ot(W)){let K=!0;for(let ee of Object.keys(W)){let z=R(ee,v)[ee];if(z===void 0||(Array.isArray(W[ee])?!W[ee].includes(z):W[ee]!==z)){K=!1;break}}if(!K)continue}for(let K of P)g[K]=g[K]||[],g[K].push([D,E])}return g};if(!ot(i)||!d){let v={};if(typeof m=="object"&&!ot(m))for(let g of Object.keys(m))v[g]=P=>{var D,E;return Mn(m[g],L(g,P),((D=Y(P))!=null?D:[])[g],((E=T(P))!=null?E:[])[g],P==null?void 0:P.class,P==null?void 0:P.className)(s)};return v}return Mn(u,V(),p(),y==null?void 0:y.class,y==null?void 0:y.className)(s)},b=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return _.variantKeys=b(),_.extend=n,_.base=u,_.slots=m,_.variants=f,_.defaultVariants=c,_.compoundSlots=l,_.compoundVariants=r,_};const Pi=um({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function fm(t){let e;const n=t[5].default,i=ae(n,t,t[8],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&256)&&fe(i,n,o,o[8],e?ue(n,o[8],r,null):ce(o[8]),null)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function cm(t){let e,n;const i=[{builders:t[3]},{class:Ie(Pi({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let o={$$slots:{default:[fm]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new Uc({props:o}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){Q(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&31?de(i,[l&8&&{builders:r[3]},l&7&&{class:Ie(Pi({variant:r[1],size:r[2],className:r[0]}))},i[2],l&16&&et(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function dm(t,e,n){const i=["class","variant","size","builders"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(h){J.call(this,t,h)}function d(h){J.call(this,t,h)}return t.$$set=h=>{e=G(G({},e),Ae(h)),n(4,o=ne(e,i)),"class"in h&&n(0,a=h.class),"variant"in h&&n(1,s=h.variant),"size"in h&&n(2,u=h.size),"builders"in h&&n(3,f=h.builders),"$$scope"in h&&n(8,l=h.$$scope)},[a,s,u,f,o,r,c,d,l]}class Sn extends he{constructor(e){super(),pe(this,e,dm,cm,le,{class:0,variant:1,size:2,builders:3})}}function jl(t,e,n){const i=t.slice();return i[14]=e[n],i}function pm(t){let e;return{c(){e=O("span"),e.textContent="No Alerts",q(e,"class","townLog text-xs text-slate-500 text-center")},m(n,i){k(n,e,i)},p:_e,d(n){n&&w(e)}}}function hm(t){let e,n=t[1].townLog.split(`
`)[0]+"",i,o,r,l=We(t[1].townLog.split(`
`).slice(1,300)),a=[];for(let s=0;s<l.length;s+=1)a[s]=Hl(jl(t,l,s));return{c(){e=O("div"),i=$(n),o=U();for(let s=0;s<a.length;s+=1)a[s].c();r=Te(),q(e,"class","townLog text-xs text-center")},m(s,u){k(s,e,u),M(e,i),k(s,o,u);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(s,u);k(s,r,u)},p(s,u){if(u&2&&n!==(n=s[1].townLog.split(`
`)[0]+"")&&me(i,n),u&2){l=We(s[1].townLog.split(`
`).slice(1,300));let f;for(f=0;f<l.length;f+=1){const c=jl(s,l,f);a[f]?a[f].p(c,u):(a[f]=Hl(c),a[f].c(),a[f].m(r.parentNode,r))}for(;f<a.length;f+=1)a[f].d(1);a.length=l.length}},d(s){s&&(w(e),w(o),w(r)),Tt(a,s)}}}function Hl(t){let e,n=t[14]+"",i,o;return{c(){e=O("span"),i=$(n),o=U(),q(e,"class","townLog text-xs text-center cursor-pointer")},m(r,l){k(r,e,l),M(e,i),M(e,o)},p(r,l){l&2&&n!==(n=r[14]+"")&&me(i,n)},d(r){r&&w(e)}}}function Wl(t){let e,n;return e=new ha({props:{text:"Set this!!!"}}),{c(){Q(e.$$.fragment)},m(i,o){X(e,i,o),n=!0},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Vl(t){let e,n;return e=new Sn({props:{class:"text-xs flex flex-col h-min mt-2",$$slots:{default:[gm]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){Q(e.$$.fragment)},m(i,o){X(e,i,o),n=!0},p(i,o){const r={};o&131074&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Kl(t){let e;function n(r,l){if(r[1].lab.active_experiment.duration>0)return _m;if(r[1].lab.active_experiment.duration===0)return mm}let i=n(t),o=i&&i(t);return{c(){o&&o.c(),e=Te()},m(r,l){o&&o.m(r,l),k(r,e,l)},p(r,l){i===(i=n(r))&&o?o.p(r,l):(o&&o.d(1),o=i&&i(r),o&&(o.c(),o.m(e.parentNode,e)))},d(r){r&&w(e),o&&o.d(r)}}}function mm(t){let e;return{c(){e=O("span"),e.textContent="‚úÖ DONE!",q(e,"class","animate-pulse ")},m(n,i){k(n,e,i)},p:_e,d(n){n&&w(e)}}}function _m(t){let e,n=t[1].lab.active_experiment.duration+"",i,o;return{c(){e=O("span"),i=$(n),o=$("d")},m(r,l){k(r,e,l),M(e,i),M(e,o)},p(r,l){l&2&&n!==(n=r[1].lab.active_experiment.duration+"")&&me(i,n)},d(r){r&&w(e)}}}function gm(t){let e,n,i,o=t[1].lab.active_experiment!==null&&Kl(t);return{c(){e=O("div"),e.textContent="Manage Lab",n=U(),o&&o.c(),i=Te()},m(r,l){k(r,e,l),k(r,n,l),o&&o.m(r,l),k(r,i,l)},p(r,l){r[1].lab.active_experiment!==null?o?o.p(r,l):(o=Kl(r),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(r){r&&(w(e),w(n),w(i)),o&&o.d(r)}}}function bm(t){let e,n,i,o,r,l=t[1].townInfo.name+"",a,s,u,f,c,d,h,m,_,b,y,N,I,V,L,F,R,B,p,Y,T,v,g,P,D,E,W,K,ee,z,x,ie,ge=Wn(t[1].economyAndLaws.tax_rate*100,0)+"",j,re,be,ke,De,qe,Fe,Re,Ve,mt,xe,ze,it,He,Qe,_t;function st(ve,te){return ve[1].townLog.length>0?hm:pm}let Je=st(t),Xe=Je(t),Be=t[1].economyAndLaws.tax_rate==0&&Wl(),Me=t[1].hasLab&&Vl(t);return xe=new Ii({props:{class:`mb-3 mt-0 bg-slate-700
	`}}),it=new pa({}),{c(){e=O("div"),n=O("div"),i=O("div"),o=O("div"),r=O("div"),a=$(l),s=U(),u=O("span"),f=O("div"),c=O("span"),d=$(t[4]),h=$(" speed"),m=U(),_=O("span"),b=$("Day "),y=$(t[3]),N=$(" Year "),I=$(t[2]),V=U(),L=O("span"),L.textContent="Press P to Pause or learn how to play",F=U(),R=O("span"),B=$("("),p=$(t[5]),Y=$(")"),T=U(),v=O("div"),g=O("div"),g.textContent="üö® Alerts",P=U(),Xe.c(),D=U(),E=O("div"),W=O("div"),K=O("div"),ee=O("span"),ee.textContent="Tax Rate",z=U(),x=O("span"),ie=$("("),j=$(ge),re=$("%)"),be=U(),ke=O("input"),qe=U(),Fe=O("br"),Re=U(),Be&&Be.c(),Ve=U(),Me&&Me.c(),mt=U(),Q(xe.$$.fragment),ze=U(),Q(it.$$.fragment),q(r,"class","text-2xl font-bold cursor-pointer text-emerald-700"),q(r,"id","townName"),q(f,"class","flex flex-row gap-3"),q(u,"class","text-xs gap-2 cursor-pointer hover:text-blue-600"),q(L,"class","text-xs text-col"),q(R,"class","text-xs text-gray-400"),q(o,"class","flex flex-col gap-1"),q(g,"class","text-md cursor-pointer"),q(v,"class","flex flex-col gap-2 drop-shadow-md text-center pb-6 rounded-lg max-h-24 h-24 hover:max-h-48 hover:h-48 transition-all ml-2 mr-2 overflow-y-scroll scroll-smooth no-scrollbar cursor-pointer text-slate-500 hover:text-blue-600 w-1/4 "),q(ee,"class","text-slate-500"),q(x,"class","text-sm text-gray-700"),q(K,"class","text-sm"),q(ke,"type","range"),q(ke,"min","0"),q(ke,"max","1.0"),q(ke,"step","0.05"),ke.value=De=t[1].economyAndLaws.tax_rate,q(ke,"class","cursor-pointer w-100 svelte-j064ft"),q(W,"class","pb-2 rounded-lg text-center"),q(E,"class",""),q(i,"class","select-none flex justify-evenly"),q(n,"class","select-none flex flex-col justify-start align-left text-left bg-slate-300 border-b-2 border-black text-black p-3 border-r-20 rounded-lg w-10/12"),q(n,"id","headerObject"),q(e,"class","<!-- center horizontally --> flex justify-center text-center p-3 fixed top-0 left-0 right-0 z-20 ")},m(ve,te){k(ve,e,te),M(e,n),M(n,i),M(i,o),M(o,r),M(r,a),M(o,s),M(o,u),M(u,f),M(f,c),M(c,d),M(c,h),M(f,m),M(f,_),M(_,b),M(_,y),M(_,N),M(_,I),M(o,V),M(o,L),M(o,F),M(o,R),M(R,B),M(R,p),M(R,Y),M(i,T),M(i,v),M(v,g),M(v,P),Xe.m(v,null),M(i,D),M(i,E),M(E,W),M(W,K),M(K,ee),M(K,z),M(K,x),M(x,ie),M(x,j),M(x,re),M(W,be),M(W,ke),M(W,qe),M(W,Fe),M(W,Re),Be&&Be.m(W,null),M(W,Ve),Me&&Me.m(W,null),M(n,mt),X(xe,n,null),M(n,ze),X(it,n,null),He=!0,Qe||(_t=[H(r,"click",t[6]),H(u,"click",t[7]),H(v,"click",t[11]),H(ke,"input",t[8])],Qe=!0)},p(ve,[te]){(!He||te&2)&&l!==(l=ve[1].townInfo.name+"")&&me(a,l),(!He||te&16)&&me(d,ve[4]),(!He||te&8)&&me(y,ve[3]),(!He||te&4)&&me(I,ve[2]),(!He||te&32)&&me(p,ve[5]),Je===(Je=st(ve))&&Xe?Xe.p(ve,te):(Xe.d(1),Xe=Je(ve),Xe&&(Xe.c(),Xe.m(v,null))),(!He||te&2)&&ge!==(ge=Wn(ve[1].economyAndLaws.tax_rate*100,0)+"")&&me(j,ge),(!He||te&2&&De!==(De=ve[1].economyAndLaws.tax_rate))&&(ke.value=De),ve[1].economyAndLaws.tax_rate==0?Be?te&2&&C(Be,1):(Be=Wl(),Be.c(),C(Be,1),Be.m(W,Ve)):Be&&(Pe(),S(Be,1,1,()=>{Be=null}),Oe()),ve[1].hasLab?Me?(Me.p(ve,te),te&2&&C(Me,1)):(Me=Vl(ve),Me.c(),C(Me,1),Me.m(W,null)):Me&&(Pe(),S(Me,1,1,()=>{Me=null}),Oe())},i(ve){He||(C(Be),C(Me),C(xe.$$.fragment,ve),C(it.$$.fragment,ve),He=!0)},o(ve){S(Be),S(Me),S(xe.$$.fragment,ve),S(it.$$.fragment,ve),He=!1},d(ve){ve&&w(e),Xe.d(),Be&&Be.d(),Me&&Me.d(),Z(xe),Z(it),Qe=!1,Ee(_t)}}}function Wn(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function vm(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let i=Math.floor(n/60);return n=n%60,`${ro(i)}:${ro(n)}:${ro(e)}`}function ro(t){return t<10?"0"+t:t}function ym(t,e,n){let i,o,r;se(t,we,b=>n(1,i=b)),se(t,ui,b=>n(12,o=b)),se(t,ho,b=>n(13,r=b));let l,a;jo(()=>{const b=setInterval(()=>{ye(we,i.timeSpent+=1e3,i)},1e3);return()=>{clearInterval(b)}});function s(){let b=prompt("Enter a new name for your town (under 200 chars)");if(b&&b.length<200){let y=i;y.townInfo.name=b,we.set(y),localStorage.setItem(lt,JSON.stringify(y))}}let u="Normal";function f(){o==500?(ye(ui,o=250,o),n(4,u="Fast")):(ye(ui,o=500,o),n(4,u="Normal"))}function c(b){let y=i;y.economyAndLaws.tax_rate=Wn(b.target.value,2),we.set(y),localStorage.setItem(lt,JSON.stringify(y))}function d(){let b=i;b.hasBank===!0?(b.townInfo.gold+=b.townInfo.gold_from_tourism,b.townInfo.gold_from_tourism=0,we.set(b),localStorage.setItem(lt,JSON.stringify(b))):alert("You need a bank to transfer funds from tourism activities.")}document.addEventListener("keydown",b=>{switch(b.key.toLowerCase()){case"1":b.preventDefault(),f();break;case"2":b.preventDefault(),f();break}});function h(){ai.set(!0)}let m="00:00:00";const _=()=>{ye(we,i.townLog="",i)};return t.$$.update=()=>{if(t.$$.dirty&2){const b=document.getElementById("headerObject");b&&ye(ho,r=b.offsetHeight+32,r),n(2,l=Math.floor(i.environment.day/365)+1),n(3,a=at(i.environment.day))}t.$$.dirty&2&&(i.timeSpent>0?n(5,m=vm(i.timeSpent)):n(5,m="00:00:00"))},[Wn,i,l,a,u,m,s,f,c,h,d,_]}class wm extends he{constructor(e){super(),pe(this,e,ym,bm,le,{roundTo:0,transferFundsFromBank:10})}get roundTo(){return Wn}get transferFundsFromBank(){return this.$$.ctx[10]}}function km(t){let e;const n=t[2].default,i=ae(n,t,t[4],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16)&&fe(i,n,o,o[4],e?ue(n,o[4],r,null):ce(o[4]),null)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function Cm(t){let e,n;const i=[{class:Ie("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let o={$$slots:{default:[km]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new dp({props:o}),e.$on("mousedown",t[3]),{c(){Q(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&3?de(i,[l&1&&{class:Ie("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&et(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Sm(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){J.call(this,t,u)}return t.$$set=u=>{e=G(G({},e),Ae(u)),n(1,o=ne(e,i)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,o,r,s,l]}class an extends he{constructor(e){super(),pe(this,e,Sm,Cm,le,{class:0})}}function Ul(t,e,n){const i=t.slice();return i[10]=e[n],i}function Am(t){let e;return{c(){e=$("Pause Menu")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function Tm(t){let e;return{c(){e=$("Unpause any time by pressing 'P'")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function Nm(t){let e,n,i,o;return e=new Qt({props:{$$slots:{default:[Am]},$$scope:{ctx:t}}}),i=new en({props:{$$slots:{default:[Tm]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=U(),Q(i.$$.fragment)},m(r,l){X(e,r,l),k(r,n,l),X(i,r,l),o=!0},p(r,l){const a={};l&8192&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&8192&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&w(n),Z(e,r),Z(i,r)}}}function Yl(t){let e,n,i,o,r,l=JSON.stringify(t[2].requirements[t[0].difficulty].population_count)+"",a,s,u=JSON.stringify(t[0].townInfo.population_count)+"",f,c,d,h,m=JSON.stringify(t[2].requirements[t[0].difficulty].happiness)+"",_,b,y=JSON.stringify(t[0].townInfo.happiness)+"",N,I,V,L,F=JSON.stringify(t[2].requirements[t[0].difficulty].employment*100)+"",R,B,p=JSON.stringify((t[0].townInfo.employees/t[0].townInfo.population_count||0)*100)+"",Y,T,v,g,P,D=JSON.stringify(t[2].requirements[t[0].difficulty].health)+"",E,W,K=JSON.stringify(t[0].townInfo.health)+"",ee,z,x,ie,ge=JSON.stringify(t[2].requirements[t[0].difficulty].knowledge)+"",j,re,be=JSON.stringify(t[0].townInfo.knowledge_points)+"",ke,De,qe;function Fe(te,$e){return te[0].townInfo.population_count>=te[2].requirements[te[0].difficulty].population_count?Em:Im}let Re=Fe(t),Ve=Re(t);function mt(te,$e){return te[0].townInfo.happiness>=te[2].requirements[te[0].difficulty].happiness?Pm:Mm}let xe=mt(t),ze=xe(t);function it(te,$e){return te[0].townInfo.employees/te[0].townInfo.population_count>=te[2].requirements[te[0].difficulty].employment?Lm:Om}let He=it(t),Qe=He(t);function _t(te,$e){return te[0].townInfo.health>=te[2].requirements[te[0].difficulty].health?Rm:Fm}let st=_t(t),Je=st(t);function Xe(te,$e){return te[0].townInfo.knowledge_points>=te[2].requirements[te[0].difficulty].knowledge?Dm:qm}let Be=Xe(t),Me=Be(t),ve=t[2].requirements[t[0].difficulty].required_plots!=null&&t[2].requirements[t[0].difficulty].required_plots.length>0&&Jl(t);return{c(){e=O("div"),e.textContent=`With your difficulty (${t[3]}), you must also have:`,n=U(),i=O("ul"),o=O("li"),Ve.c(),r=$(`
						Population: `),a=$(l),s=$(" - Currently at "),f=$(u),c=U(),d=O("li"),ze.c(),h=$(`
						Happiness: `),_=$(m),b=$(" - Currently at "),N=$(y),I=U(),V=O("li"),Qe.c(),L=$(`
						Employment: `),R=$(F),B=$("% - Currently at "),Y=$(p),T=$("%"),v=U(),g=O("li"),Je.c(),P=$(`
						Health: `),E=$(D),W=$(" - Currently at "),ee=$(K),z=U(),x=O("li"),Me.c(),ie=$(`
						Knowledge: `),j=$(ge),re=$(" - Currently at "),ke=$(be),De=U(),ve&&ve.c(),qe=Te(),q(e,"class","text-base leading-relaxed"),q(i,"class","list-inside list-disc text-base leading-relaxedmt-0")},m(te,$e){k(te,e,$e),k(te,n,$e),k(te,i,$e),M(i,o),Ve.m(o,null),M(o,r),M(o,a),M(o,s),M(o,f),M(i,c),M(i,d),ze.m(d,null),M(d,h),M(d,_),M(d,b),M(d,N),M(i,I),M(i,V),Qe.m(V,null),M(V,L),M(V,R),M(V,B),M(V,Y),M(V,T),M(i,v),M(i,g),Je.m(g,null),M(g,P),M(g,E),M(g,W),M(g,ee),M(i,z),M(i,x),Me.m(x,null),M(x,ie),M(x,j),M(x,re),M(x,ke),k(te,De,$e),ve&&ve.m(te,$e),k(te,qe,$e)},p(te,$e){Re!==(Re=Fe(te))&&(Ve.d(1),Ve=Re(te),Ve&&(Ve.c(),Ve.m(o,r))),$e&1&&l!==(l=JSON.stringify(te[2].requirements[te[0].difficulty].population_count)+"")&&me(a,l),$e&1&&u!==(u=JSON.stringify(te[0].townInfo.population_count)+"")&&me(f,u),xe!==(xe=mt(te))&&(ze.d(1),ze=xe(te),ze&&(ze.c(),ze.m(d,h))),$e&1&&m!==(m=JSON.stringify(te[2].requirements[te[0].difficulty].happiness)+"")&&me(_,m),$e&1&&y!==(y=JSON.stringify(te[0].townInfo.happiness)+"")&&me(N,y),He!==(He=it(te))&&(Qe.d(1),Qe=He(te),Qe&&(Qe.c(),Qe.m(V,L))),$e&1&&F!==(F=JSON.stringify(te[2].requirements[te[0].difficulty].employment*100)+"")&&me(R,F),$e&1&&p!==(p=JSON.stringify((te[0].townInfo.employees/te[0].townInfo.population_count||0)*100)+"")&&me(Y,p),st!==(st=_t(te))&&(Je.d(1),Je=st(te),Je&&(Je.c(),Je.m(g,P))),$e&1&&D!==(D=JSON.stringify(te[2].requirements[te[0].difficulty].health)+"")&&me(E,D),$e&1&&K!==(K=JSON.stringify(te[0].townInfo.health)+"")&&me(ee,K),Be!==(Be=Xe(te))&&(Me.d(1),Me=Be(te),Me&&(Me.c(),Me.m(x,ie))),$e&1&&ge!==(ge=JSON.stringify(te[2].requirements[te[0].difficulty].knowledge)+"")&&me(j,ge),$e&1&&be!==(be=JSON.stringify(te[0].townInfo.knowledge_points)+"")&&me(ke,be),te[2].requirements[te[0].difficulty].required_plots!=null&&te[2].requirements[te[0].difficulty].required_plots.length>0?ve?ve.p(te,$e):(ve=Jl(te),ve.c(),ve.m(qe.parentNode,qe)):ve&&(ve.d(1),ve=null)},d(te){te&&(w(e),w(n),w(i),w(De),w(qe)),Ve.d(),ze.d(),Qe.d(),Je.d(),Me.d(),ve&&ve.d(te)}}}function Im(t){let e;return{c(){e=$("‚ùå")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function Em(t){let e;return{c(){e=$("‚úÖ")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function Mm(t){let e;return{c(){e=$("‚ùå")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function Pm(t){let e;return{c(){e=$("‚úÖ")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function Om(t){let e;return{c(){e=$("‚ùå")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function Lm(t){let e;return{c(){e=$("‚úÖ")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function Fm(t){let e;return{c(){e=$("‚ùå")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function Rm(t){let e;return{c(){e=$("‚úÖ")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function qm(t){let e;return{c(){e=$("‚ùå")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function Dm(t){let e;return{c(){e=$("‚úÖ")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function Jl(t){let e,n,i,o=We(t[2].requirements[t[0].difficulty].required_plots),r=[];for(let l=0;l<o.length;l+=1)r[l]=Xl(Ul(t,o,l));return{c(){e=O("br"),n=$(`
					You also need to have these plots:
					`);for(let l=0;l<r.length;l+=1)r[l].c();i=Te()},m(l,a){k(l,e,a),k(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);k(l,i,a)},p(l,a){if(a&5){o=We(l[2].requirements[l[0].difficulty].required_plots);let s;for(s=0;s<o.length;s+=1){const u=Ul(l,o,s);r[s]?r[s].p(u,a):(r[s]=Xl(u),r[s].c(),r[s].m(i.parentNode,i))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(l){l&&(w(e),w(n),w(i)),Tt(r,l)}}}function $m(t){let e;return{c(){e=$("‚ùå")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function Bm(t){let e;return{c(){e=$("‚úÖ")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function Xl(t){let e,n,i,o,r=t[10]+"",l,a;function s(c,d){return d&1&&(i=null),i==null&&(i=mn(c[10],c[0]).length>0),i?Bm:$m}let u=s(t,-1),f=u(t);return{c(){e=O("div"),n=O("li"),f.c(),o=U(),l=$(r),a=U(),q(e,"class","text-base leading-relaxed")},m(c,d){k(c,e,d),M(e,n),f.m(n,null),M(n,o),M(n,l),M(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,o))),d&1&&r!==(r=c[10]+"")&&me(l,r)},d(c){c&&w(e),f.d()}}}function Gm(t){let e;return{c(){e=$("Save game")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function jm(t){let e;return{c(){e=$("Save")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function Hm(t){let e;return{c(){e=$("Upload game")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function Wm(t){let e,n,i,o,r,l,a,s,u,f;return i=new an({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Gm]},$$scope:{ctx:t}}}),r=new Sn({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[jm]},$$scope:{ctx:t}}}),r.$on("click",t[6]),a=new an({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Hm]},$$scope:{ctx:t}}}),u=new Zo({props:{class:"hidden",type:"file",id:"upload"}}),u.$on("change",t[5]),{c(){e=O("div"),n=O("div"),Q(i.$$.fragment),o=U(),Q(r.$$.fragment),l=U(),Q(a.$$.fragment),s=U(),Q(u.$$.fragment),q(n,"class","flex gap-10"),q(e,"class","flex flex-col gap-3")},m(c,d){k(c,e,d),M(e,n),X(i,n,null),M(n,o),X(r,n,null),M(n,l),X(a,n,null),M(n,s),X(u,n,null),f=!0},p(c,d){const h={};d&8192&&(h.$$scope={dirty:d,ctx:c}),i.$set(h);const m={};d&8192&&(m.$$scope={dirty:d,ctx:c}),r.$set(m);const _={};d&8192&&(_.$$scope={dirty:d,ctx:c}),a.$set(_)},i(c){f||(C(i.$$.fragment,c),C(r.$$.fragment,c),C(a.$$.fragment,c),C(u.$$.fragment,c),f=!0)},o(c){S(i.$$.fragment,c),S(r.$$.fragment,c),S(a.$$.fragment,c),S(u.$$.fragment,c),f=!1},d(c){c&&w(e),Z(i),Z(r),Z(a),Z(u)}}}function Vm(t){let e,n,i,o,r,l,a,s;e=new xt({props:{$$slots:{default:[Nm]},$$scope:{ctx:t}}});let u=t[0].endGoal=="land"&&Yl(t);return a=new Cn({props:{$$slots:{default:[Wm]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=U(),i=O("span"),i.textContent=`${t[2].description_title}`,o=U(),r=O("div"),u&&u.c(),l=U(),Q(a.$$.fragment),q(i,"class","italic"),q(r,"class","gap-0 py-0 text-gray-400")},m(f,c){X(e,f,c),k(f,n,c),k(f,i,c),k(f,o,c),k(f,r,c),u&&u.m(r,null),k(f,l,c),X(a,f,c),s=!0},p(f,c){const d={};c&8192&&(d.$$scope={dirty:c,ctx:f}),e.$set(d),f[0].endGoal=="land"?u?u.p(f,c):(u=Yl(f),u.c(),u.m(r,null)):u&&(u.d(1),u=null);const h={};c&8192&&(h.$$scope={dirty:c,ctx:f}),a.$set(h)},i(f){s||(C(e.$$.fragment,f),C(a.$$.fragment,f),s=!0)},o(f){S(e.$$.fragment,f),S(a.$$.fragment,f),s=!1},d(f){f&&(w(n),w(i),w(o),w(r),w(l)),Z(e,f),u&&u.d(),Z(a,f)}}}function Km(t){let e,n;return e=new zt({props:{$$slots:{default:[Vm]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){X(e,i,o),n=!0},p(i,o){const r={};o&8193&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Um(t){let e,n,i;function o(l){t[7](l)}let r={$$slots:{default:[Km]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new tn({props:r}),Se.push(()=>Zt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){X(e,l,a),i=!0},p(l,[a]){const s={};a&8193&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Xt(()=>n=!1)),e.$set(s)},i(l){i||(C(e.$$.fragment,l),i=!0)},o(l){S(e.$$.fragment,l),i=!1},d(l){Z(e,l)}}}function Ym(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function Jm(t,e,n){let i,o;se(t,we,d=>n(0,i=d)),se(t,Ct,d=>n(1,o=d));const l=tt[i.endGoal],a=Ws[i.difficulty]||0;function s(){const d=JSON.stringify(i),h=new Blob([d],{type:"text/plain"}),m=URL.createObjectURL(h),_=document.createElement("a");_.href=m,_.download=`${new Date().toISOString()}.json`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(m)}function u(){const h=document.getElementById("upload").files;if(h==null)return;const m=h[0],_=new FileReader;_.onload=function(b){if(b.target==null)return;const y=b.target.result;if(typeof y=="string"){if(!Ym(y)){alert("Invalid game file");return}Ko(JSON.parse(y))}else alert("Invalid game file: is not String.")},_.readAsText(m)}const f=()=>s();function c(d){o=d,Ct.set(o)}return t.$$.update=()=>{t.$$.dirty&1},[i,o,l,a,s,u,f,c]}class Xm extends he{constructor(e){super(),pe(this,e,Jm,Um,le,{})}}function Zm(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS üòç","color: #26bfa5;"),t}function Qm(t){let e=t[0].endGameDetails.win==!0?"You won! üéâ":"You lost! üò≠",n;return{c(){n=$(e)},m(i,o){k(i,n,o)},p(i,o){o&1&&e!==(e=i[0].endGameDetails.win==!0?"You won! üéâ":"You lost! üò≠")&&me(n,e)},d(i){i&&w(n)}}}function xm(t){let e;return{c(){e=$("Keep playin'")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function zm(t){let e,n=t[0].endGameDetails.msg+"",i,o,r,l,a,s,u,f;return u=new Sn({props:{$$slots:{default:[xm]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=O("span"),i=$(n),o=U(),r=O("br"),l=U(),a=O("br"),s=U(),Q(u.$$.fragment),q(e,"class","text-gray-500 text-sm")},m(c,d){k(c,e,d),M(e,i),k(c,o,d),k(c,r,d),k(c,l,d),k(c,a,d),k(c,s,d),X(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&me(i,n);const h={};d&16&&(h.$$scope={dirty:d,ctx:c}),u.$set(h)},i(c){f||(C(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(w(e),w(o),w(r),w(l),w(a),w(s)),Z(u,c)}}}function e_(t){let e,n,i,o;return e=new Qt({props:{$$slots:{default:[Qm]},$$scope:{ctx:t}}}),i=new en({props:{$$slots:{default:[zm]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=U(),Q(i.$$.fragment)},m(r,l){X(e,r,l),k(r,n,l),X(i,r,l),o=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&w(n),Z(e,r),Z(i,r)}}}function t_(t){let e;return{c(){e=O("span"),e.textContent="Reset the game by pressing SHIFT+ESC",q(e,"class","text-gray-500 text-sm")},m(n,i){k(n,e,i)},p:_e,d(n){n&&w(e)}}}function n_(t){let e,n,i,o;return e=new xt({props:{$$slots:{default:[e_]},$$scope:{ctx:t}}}),i=new Cn({props:{$$slots:{default:[t_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=U(),Q(i.$$.fragment)},m(r,l){X(e,r,l),k(r,n,l),X(i,r,l),o=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&w(n),Z(e,r),Z(i,r)}}}function i_(t){let e,n;return e=new zt({props:{$$slots:{default:[n_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){X(e,i,o),n=!0},p(i,o){const r={};o&17&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function o_(t){let e,n,i;function o(l){t[3](l)}let r={$$slots:{default:[i_]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new tn({props:r}),Se.push(()=>Zt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){X(e,l,a),i=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Xt(()=>n=!1)),e.$set(s)},i(l){i||(C(e.$$.fragment,l),i=!0)},o(l){S(e.$$.fragment,l),i=!1},d(l){Z(e,l)}}}function r_(t,e,n){let i;se(t,we,a=>n(0,i=a));let o=!1;function r(){let a=i;a.overtime=!0,we.set(a),n(1,o=!1),Ct.set(!1)}function l(a){o=a,n(1,o),n(0,i)}return t.$$.update=()=>{t.$$.dirty&1&&(i.endGameDetails.msg!=""&&i.overtime==!1?n(1,o=!0):n(1,o=!1))},[i,o,r,l]}class l_ extends he{constructor(e){super(),pe(this,e,r_,o_,le,{})}}function s_(t){let e;return{c(){e=$("Welcome to Plots!")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function a_(t){let e;return{c(){e=$("Select a map size (difficulty)")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function u_(t){let e;return{c(){e=$("Select a game mode")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function f_(t){let e;return{c(){e=O("p"),e.textContent=`${tt.free_play.description_title}`,q(e,"class","text-gray-500 text-sm")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function c_(t){let e;return{c(){e=O("p"),e.textContent=`${tt.land.description_title}`,q(e,"class","text-gray-500 text-sm")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function d_(t){let e;return{c(){e=$("Town Name")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function p_(t){let e;return{c(){e=$("Cheats")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function h_(t){let e,n,i,o,r,l,a,s,u,f,c,d,h,m,_,b,y,N,I,V,L,F,R,B,p,Y,T,v,g,P,D,E,W;r=new an({props:{for:"difficulty",class:"mt-2",$$slots:{default:[a_]},$$scope:{ctx:t}}}),h=new an({props:{for:"endGoal",class:"mt-2",$$slots:{default:[u_]},$$scope:{ctx:t}}});function K(x,ie){return x[0]==="land"?c_:f_}let ee=K(t),z=ee(t);return L=new an({props:{for:"townName",class:"mt-2",$$slots:{default:[d_]},$$scope:{ctx:t}}}),R=new Zo({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),Y=new an({props:{for:"cheats",class:"mt-2",$$slots:{default:[p_]},$$scope:{ctx:t}}}),{c(){e=O("a"),e.textContent="GitHub / Learn how to play",n=U(),i=O("div"),o=O("div"),Q(r.$$.fragment),l=U(),a=O("select"),s=O("option"),s.textContent="Easy (quick game)",u=O("option"),u.textContent="Normal",f=O("option"),f.textContent="Hard (longest game)",c=U(),d=O("div"),Q(h.$$.fragment),m=U(),z.c(),_=U(),b=O("select"),y=O("option"),y.textContent=`${tt.land.short_title}`,N=O("option"),N.textContent=`${tt.free_play.short_title}`,I=U(),V=O("div"),Q(L.$$.fragment),F=U(),Q(R.$$.fragment),B=U(),p=O("div"),Q(Y.$$.fragment),T=U(),v=O("select"),g=O("option"),g.textContent="No cheats",P=O("option"),P.textContent="Dev mode",q(e,"href","https://github.com/josephrcox/plots#how-to-play"),q(e,"class","text-blue-500 text-sm mb-4 hover:underline"),q(e,"target","_blank"),s.__value="0",yt(s,s.__value),u.__value="1",yt(u,u.__value),u.selected=!0,f.__value="2",yt(f,f.__value),q(a,"id","difficulty"),q(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),y.__value="land",yt(y,y.__value),N.__value="free_play",yt(N,N.__value),q(b,"id","endGoal"),q(b,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),g.__value="false",yt(g,g.__value),g.selected=!0,P.__value="true",yt(P,P.__value),q(v,"id","cheats"),q(v,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),q(i,"class","flex flex-col justify-center gap-5 mt-4")},m(x,ie){k(x,e,ie),k(x,n,ie),k(x,i,ie),M(i,o),X(r,o,null),M(o,l),M(o,a),M(a,s),M(a,u),M(a,f),M(i,c),M(i,d),X(h,d,null),M(d,m),z.m(d,null),M(d,_),M(d,b),M(b,y),M(b,N),sr(b,t[0]),M(i,I),M(i,V),X(L,V,null),M(V,F),X(R,V,null),M(i,B),M(i,p),X(Y,p,null),M(p,T),M(p,v),M(v,g),M(v,P),D=!0,E||(W=H(b,"change",t[3]),E=!0)},p(x,ie){const ge={};ie&32&&(ge.$$scope={dirty:ie,ctx:x}),r.$set(ge);const j={};ie&32&&(j.$$scope={dirty:ie,ctx:x}),h.$set(j),ee!==(ee=K(x))&&(z.d(1),z=ee(x),z&&(z.c(),z.m(d,_))),(!D||ie&1)&&sr(b,x[0]);const re={};ie&32&&(re.$$scope={dirty:ie,ctx:x}),L.$set(re);const be={};ie&32&&(be.$$scope={dirty:ie,ctx:x}),Y.$set(be)},i(x){D||(C(r.$$.fragment,x),C(h.$$.fragment,x),C(L.$$.fragment,x),C(R.$$.fragment,x),C(Y.$$.fragment,x),D=!0)},o(x){S(r.$$.fragment,x),S(h.$$.fragment,x),S(L.$$.fragment,x),S(R.$$.fragment,x),S(Y.$$.fragment,x),D=!1},d(x){x&&(w(e),w(n),w(i)),Z(r),Z(h),z.d(),Z(L),Z(R),Z(Y),E=!1,W()}}}function m_(t){let e,n,i,o;return e=new Qt({props:{$$slots:{default:[s_]},$$scope:{ctx:t}}}),i=new en({props:{$$slots:{default:[h_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=U(),Q(i.$$.fragment)},m(r,l){X(e,r,l),k(r,n,l),X(i,r,l),o=!0},p(r,l){const a={};l&32&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&33&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&w(n),Z(e,r),Z(i,r)}}}function __(t){let e,n,i;return{c(){e=O("button"),e.textContent="Start game",q(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md")},m(o,r){k(o,e,r),n||(i=H(e,"click",t[2]),n=!0)},p:_e,d(o){o&&w(e),n=!1,i()}}}function g_(t){let e,n,i,o;return e=new xt({props:{$$slots:{default:[m_]},$$scope:{ctx:t}}}),i=new Cn({props:{$$slots:{default:[__]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=U(),Q(i.$$.fragment)},m(r,l){X(e,r,l),k(r,n,l),X(i,r,l),o=!0},p(r,l){const a={};l&33&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&32&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&w(n),Z(e,r),Z(i,r)}}}function b_(t){let e,n;return e=new zt({props:{transition:Xo,$$slots:{default:[g_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){X(e,i,o),n=!0},p(i,o){const r={};o&33&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function v_(t){let e,n,i;function o(l){t[4](l)}let r={$$slots:{default:[b_]},$$scope:{ctx:t}};return t[1].visible!==void 0&&(r.open=t[1].visible),e=new tn({props:r}),Se.push(()=>Zt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){X(e,l,a),i=!0},p(l,[a]){const s={};a&33&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1].visible,Xt(()=>n=!1)),e.$set(s)},i(l){i||(C(e.$$.fragment,l),i=!0)},o(l){S(e.$$.fragment,l),i=!1},d(l){Z(e,l)}}}function y_(t,e,n){let i;se(t,Bn,s=>n(1,i=s));function o(){const s=document.getElementById("difficulty").value,u=document.getElementById("endGoal").value,f=document.getElementById("townName").value,c=document.getElementById("cheats").value=="true";Nu(s,u,f,c)}let r="land";const l=s=>{n(0,r=s.target.value)};function a(s){t.$$.not_equal(i.visible,s)&&(i.visible=s,Bn.set(i))}return[r,i,o,l,a]}class w_ extends he{constructor(e){super(),pe(this,e,y_,v_,le,{})}}function k_(t){let e;return{c(){e=$("Scoreboard")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function C_(t){let e=t[1].description_title+"",n;return{c(){n=$(e)},m(i,o){k(i,n,o)},p:_e,d(i){i&&w(n)}}}function S_(t){let e,n,i,o;return e=new Qt({props:{$$slots:{default:[k_]},$$scope:{ctx:t}}}),i=new en({props:{$$slots:{default:[C_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=U(),Q(i.$$.fragment)},m(r,l){X(e,r,l),k(r,n,l),X(i,r,l),o=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&w(n),Z(e,r),Z(i,r)}}}function A_(t){let e;return{c(){e=$("footer")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function T_(t){let e,n,i,o;return e=new xt({props:{$$slots:{default:[S_]},$$scope:{ctx:t}}}),i=new Cn({props:{$$slots:{default:[A_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=$(`
		hi
		`),Q(i.$$.fragment)},m(r,l){X(e,r,l),k(r,n,l),X(i,r,l),o=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&w(n),Z(e,r),Z(i,r)}}}function N_(t){let e,n;return e=new zt({props:{$$slots:{default:[T_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){X(e,i,o),n=!0},p(i,o){const r={};o&128&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function I_(t){let e,n,i;function o(l){t[3](l)}let r={$$slots:{default:[N_]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new tn({props:r}),Se.push(()=>Zt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){X(e,l,a),i=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Xt(()=>n=!1)),e.$set(s)},i(l){i||(C(e.$$.fragment,l),i=!0)},o(l){S(e.$$.fragment,l),i=!1},d(l){Z(e,l)}}}function E_(t,e,n){let i,o;se(t,we,s=>n(2,i=s)),se(t,cr,s=>n(0,o=s));const l=tt[i.endGoal];Ws[i.difficulty];function a(s){o=s,cr.set(o)}return t.$$.update=()=>{t.$$.dirty&4},[o,l,i,a]}class M_ extends he{constructor(e){super(),pe(this,e,E_,I_,le,{})}}function ci(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function P_(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ya(t){let e,n,i;t.length!==2?(e=ci,n=(a,s)=>ci(t(a),s),i=(a,s)=>t(a)-s):(e=t===ci||t===P_?t:O_,n=t,i=t);function o(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=o(a,s,u,f-1);return c>u&&i(a[c-1],s)>-i(a[c],s)?c-1:c}return{left:o,center:l,right:r}}function O_(){return 0}function L_(t){return t===null?NaN:+t}const F_=ya(ci),R_=F_.right;ya(L_).center;const q_=Math.sqrt(50),D_=Math.sqrt(10),$_=Math.sqrt(2);function Oi(t,e,n){const i=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(i)),r=i/Math.pow(10,o),l=r>=q_?10:r>=D_?5:r>=$_?2:1;let a,s,u;return o<0?(u=Math.pow(10,-o)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,o)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?Oi(t,e,n*2):[a,s,u]}function B_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[o,r,l]=i?Oi(e,t,n):Oi(t,e,n);if(!(r>=o))return[];const a=r-o+1,s=new Array(a);if(i)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(o+u)/-l;else for(let u=0;u<a;++u)s[u]=(o+u)*l;return s}function So(t,e,n){return e=+e,t=+t,n=+n,Oi(t,e,n)[2]}function G_(t,e,n){e=+e,t=+t,n=+n;const i=e<t,o=i?So(e,t,n):So(t,e,n);return(i?-1:1)*(o<0?1/-o:o)}function j_(t){return t}var lo=1,so=2,Ao=3,Fn=4,Zl=1e-6;function H_(t){return"translate("+t+",0)"}function W_(t){return"translate(0,"+t+")"}function V_(t){return e=>+t(e)}function K_(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function U_(){return!this.__axis}function wa(t,e){var n=[],i=null,o=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===lo||t===Fn?-1:1,f=t===Fn||t===so?"x":"y",c=t===lo||t===Ao?H_:W_;function d(h){var m=i??(e.ticks?e.ticks.apply(e,n):e.domain()),_=o??(e.tickFormat?e.tickFormat.apply(e,n):j_),b=Math.max(r,0)+a,y=e.range(),N=+y[0]+s,I=+y[y.length-1]+s,V=(e.bandwidth?K_:V_)(e.copy(),s),L=h.selection?h.selection():h,F=L.selectAll(".domain").data([null]),R=L.selectAll(".tick").data(m,e).order(),B=R.exit(),p=R.enter().append("g").attr("class","tick"),Y=R.select("line"),T=R.select("text");F=F.merge(F.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),R=R.merge(p),Y=Y.merge(p.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),T=T.merge(p.append("text").attr("fill","currentColor").attr(f,u*b).attr("dy",t===lo?"0em":t===Ao?"0.71em":"0.32em")),h!==L&&(F=F.transition(h),R=R.transition(h),Y=Y.transition(h),T=T.transition(h),B=B.transition(h).attr("opacity",Zl).attr("transform",function(v){return isFinite(v=V(v))?c(v+s):this.getAttribute("transform")}),p.attr("opacity",Zl).attr("transform",function(v){var g=this.parentNode.__axis;return c((g&&isFinite(g=g(v))?g:V(v))+s)})),B.remove(),F.attr("d",t===Fn||t===so?l?"M"+u*l+","+N+"H"+s+"V"+I+"H"+u*l:"M"+s+","+N+"V"+I:l?"M"+N+","+u*l+"V"+s+"H"+I+"V"+u*l:"M"+N+","+s+"H"+I),R.attr("opacity",1).attr("transform",function(v){return c(V(v)+s)}),Y.attr(f+"2",u*r),T.attr(f,u*b).text(_),L.filter(U_).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===so?"start":t===Fn?"end":"middle"),L.each(function(){this.__axis=V})}return d.scale=function(h){return arguments.length?(e=h,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(i=h==null?null:Array.from(h),d):i&&i.slice()},d.tickFormat=function(h){return arguments.length?(o=h,d):o},d.tickSize=function(h){return arguments.length?(r=l=+h,d):r},d.tickSizeInner=function(h){return arguments.length?(r=+h,d):r},d.tickSizeOuter=function(h){return arguments.length?(l=+h,d):l},d.tickPadding=function(h){return arguments.length?(a=+h,d):a},d.offset=function(h){return arguments.length?(s=+h,d):s},d}function Y_(t){return wa(Ao,t)}function J_(t){return wa(Fn,t)}var X_={value:()=>{}};function ka(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new di(n)}function di(t){this._=t}function Z_(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}di.prototype=ka.prototype={constructor:di,on:function(t,e){var n=this._,i=Z_(t+"",n),o,r=-1,l=i.length;if(arguments.length<2){for(;++r<l;)if((o=(t=i[r]).type)&&(o=Q_(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(o=(t=i[r]).type)n[o]=Ql(n[o],t.name,e);else if(e==null)for(o in n)n[o]=Ql(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new di(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};function Q_(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function Ql(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=X_,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var To="http://www.w3.org/1999/xhtml";const xl={svg:"http://www.w3.org/2000/svg",xhtml:To,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ui(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),xl.hasOwnProperty(e)?{space:xl[e],local:t}:t}function x_(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===To&&e.documentElement.namespaceURI===To?e.createElement(t):e.createElementNS(n,t)}}function z_(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ca(t){var e=Ui(t);return(e.local?z_:x_)(e)}function eg(){}function Qo(t){return t==null?eg:function(){return this.querySelector(t)}}function tg(t){typeof t!="function"&&(t=Qo(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,a=i[o]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new rt(i,this._parents)}function ng(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ig(){return[]}function Sa(t){return t==null?ig:function(){return this.querySelectorAll(t)}}function og(t){return function(){return ng(t.apply(this,arguments))}}function rg(t){typeof t=="function"?t=og(t):t=Sa(t);for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(i.push(t.call(s,s.__data__,u,l)),o.push(s));return new rt(i,o)}function Aa(t){return function(){return this.matches(t)}}function Ta(t){return function(e){return e.matches(t)}}var lg=Array.prototype.find;function sg(t){return function(){return lg.call(this.children,t)}}function ag(){return this.firstElementChild}function ug(t){return this.select(t==null?ag:sg(typeof t=="function"?t:Ta(t)))}var fg=Array.prototype.filter;function cg(){return Array.from(this.children)}function dg(t){return function(){return fg.call(this.children,t)}}function pg(t){return this.selectAll(t==null?cg:dg(typeof t=="function"?t:Ta(t)))}function hg(t){typeof t!="function"&&(t=Aa(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,a=i[o]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new rt(i,this._parents)}function Na(t){return new Array(t.length)}function mg(){return new rt(this._enter||this._groups.map(Na),this._parents)}function Li(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Li.prototype={constructor:Li,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function _g(t){return function(){return t}}function gg(t,e,n,i,o,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],i[l]=a):n[l]=new Li(t,r[l]);for(;l<s;++l)(a=e[l])&&(o[l]=a)}function bg(t,e,n,i,o,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),h;for(a=0;a<f;++a)(s=e[a])&&(d[a]=h=l.call(s,s.__data__,a,e)+"",u.has(h)?o[a]=s:u.set(h,s));for(a=0;a<c;++a)h=l.call(t,r[a],a,r)+"",(s=u.get(h))?(i[a]=s,s.__data__=r[a],u.delete(h)):n[a]=new Li(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(o[a]=s)}function vg(t){return t.__data__}function yg(t,e){if(!arguments.length)return Array.from(this,vg);var n=e?bg:gg,i=this._parents,o=this._groups;typeof t!="function"&&(t=_g(t));for(var r=o.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=i[u],c=o[u],d=c.length,h=wg(t.call(f,f&&f.__data__,u,i)),m=h.length,_=a[u]=new Array(m),b=l[u]=new Array(m),y=s[u]=new Array(d);n(f,c,_,b,y,h,e);for(var N=0,I=0,V,L;N<m;++N)if(V=_[N]){for(N>=I&&(I=N+1);!(L=b[I])&&++I<m;);V._next=L||null}}return l=new rt(l,i),l._enter=a,l._exit=s,l}function wg(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function kg(){return new rt(this._exit||this._groups.map(Na),this._parents)}function Cg(t,e,n){var i=this.enter(),o=this,r=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function Sg(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,r=i.length,l=Math.min(o,r),a=new Array(o),s=0;s<l;++s)for(var u=n[s],f=i[s],c=u.length,d=a[s]=new Array(c),h,m=0;m<c;++m)(h=u[m]||f[m])&&(d[m]=h);for(;s<o;++s)a[s]=n[s];return new rt(a,this._parents)}function Ag(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,r=i[o],l;--o>=0;)(l=i[o])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function Tg(t){t||(t=Ng);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var l=n[r],a=l.length,s=o[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new rt(o,this._parents).order()}function Ng(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ig(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Eg(){return Array.from(this)}function Mg(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var l=i[o];if(l)return l}return null}function Pg(){let t=0;for(const e of this)++t;return t}function Og(){return!this.node()}function Lg(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],r=0,l=o.length,a;r<l;++r)(a=o[r])&&t.call(a,a.__data__,r,o);return this}function Fg(t){return function(){this.removeAttribute(t)}}function Rg(t){return function(){this.removeAttributeNS(t.space,t.local)}}function qg(t,e){return function(){this.setAttribute(t,e)}}function Dg(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function $g(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Bg(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Gg(t,e){var n=Ui(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Rg:Fg:typeof e=="function"?n.local?Bg:$g:n.local?Dg:qg)(n,e))}function Ia(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function jg(t){return function(){this.style.removeProperty(t)}}function Hg(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Wg(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Vg(t,e,n){return arguments.length>1?this.each((e==null?jg:typeof e=="function"?Wg:Hg)(t,e,n??"")):gn(this.node(),t)}function gn(t,e){return t.style.getPropertyValue(e)||Ia(t).getComputedStyle(t,null).getPropertyValue(e)}function Kg(t){return function(){delete this[t]}}function Ug(t,e){return function(){this[t]=e}}function Yg(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Jg(t,e){return arguments.length>1?this.each((e==null?Kg:typeof e=="function"?Yg:Ug)(t,e)):this.node()[t]}function Ea(t){return t.trim().split(/^|\s+/)}function xo(t){return t.classList||new Ma(t)}function Ma(t){this._node=t,this._names=Ea(t.getAttribute("class")||"")}Ma.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Pa(t,e){for(var n=xo(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function Oa(t,e){for(var n=xo(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function Xg(t){return function(){Pa(this,t)}}function Zg(t){return function(){Oa(this,t)}}function Qg(t,e){return function(){(e.apply(this,arguments)?Pa:Oa)(this,t)}}function xg(t,e){var n=Ea(t+"");if(arguments.length<2){for(var i=xo(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?Qg:e?Xg:Zg)(n,e))}function zg(){this.textContent=""}function e0(t){return function(){this.textContent=t}}function t0(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function n0(t){return arguments.length?this.each(t==null?zg:(typeof t=="function"?t0:e0)(t)):this.node().textContent}function i0(){this.innerHTML=""}function o0(t){return function(){this.innerHTML=t}}function r0(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function l0(t){return arguments.length?this.each(t==null?i0:(typeof t=="function"?r0:o0)(t)):this.node().innerHTML}function s0(){this.nextSibling&&this.parentNode.appendChild(this)}function a0(){return this.each(s0)}function u0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function f0(){return this.each(u0)}function c0(t){var e=typeof t=="function"?t:Ca(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function d0(){return null}function p0(t,e){var n=typeof t=="function"?t:Ca(t),i=e==null?d0:typeof e=="function"?e:Qo(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function h0(){var t=this.parentNode;t&&t.removeChild(this)}function m0(){return this.each(h0)}function _0(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function g0(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function b0(t){return this.select(t?g0:_0)}function v0(t){return arguments.length?this.property("__data__",t):this.node().__data__}function y0(t){return function(e){t.call(this,e,this.__data__)}}function w0(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function k0(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,r;n<o;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++i]=r;++i?e.length=i:delete this.__on}}}function C0(t,e,n){return function(){var i=this.__on,o,r=y0(e);if(i){for(var l=0,a=i.length;l<a;++l)if((o=i[l]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=e;return}}this.addEventListener(t.type,r,n),o={type:t.type,name:t.name,value:e,listener:r,options:n},i?i.push(o):this.__on=[o]}}function S0(t,e,n){var i=w0(t+""),o,r=i.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(o=0,f=a[s];o<r;++o)if((l=i[o]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?C0:k0,o=0;o<r;++o)this.each(a(i[o],e,n));return this}function La(t,e,n){var i=Ia(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function A0(t,e){return function(){return La(this,t,e)}}function T0(t,e){return function(){return La(this,t,e.apply(this,arguments))}}function N0(t,e){return this.each((typeof e=="function"?T0:A0)(t,e))}function*I0(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length,l;o<r;++o)(l=i[o])&&(yield l)}var Fa=[null];function rt(t,e){this._groups=t,this._parents=e}function Zn(){return new rt([[document.documentElement]],Fa)}function E0(){return this}rt.prototype=Zn.prototype={constructor:rt,select:tg,selectAll:rg,selectChild:ug,selectChildren:pg,filter:hg,data:yg,enter:mg,exit:kg,join:Cg,merge:Sg,selection:E0,order:Ag,sort:Tg,call:Ig,nodes:Eg,node:Mg,size:Pg,empty:Og,each:Lg,attr:Gg,style:Vg,property:Jg,classed:xg,text:n0,html:l0,raise:a0,lower:f0,append:c0,insert:p0,remove:m0,clone:b0,datum:v0,on:S0,dispatch:N0,[Symbol.iterator]:I0};function M0(t){return typeof t=="string"?new rt([[document.querySelector(t)]],[document.documentElement]):new rt([[t]],Fa)}function zo(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ra(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Qn(){}var Vn=.7,Fi=1/Vn,pn="\\s*([+-]?\\d+)\\s*",Kn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",P0=/^#([0-9a-f]{3,8})$/,O0=new RegExp(`^rgb\\(${pn},${pn},${pn}\\)$`),L0=new RegExp(`^rgb\\(${pt},${pt},${pt}\\)$`),F0=new RegExp(`^rgba\\(${pn},${pn},${pn},${Kn}\\)$`),R0=new RegExp(`^rgba\\(${pt},${pt},${pt},${Kn}\\)$`),q0=new RegExp(`^hsl\\(${Kn},${pt},${pt}\\)$`),D0=new RegExp(`^hsla\\(${Kn},${pt},${pt},${Kn}\\)$`),zl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zo(Qn,Yt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:es,formatHex:es,formatHex8:$0,formatHsl:B0,formatRgb:ts,toString:ts});function es(){return this.rgb().formatHex()}function $0(){return this.rgb().formatHex8()}function B0(){return qa(this).formatHsl()}function ts(){return this.rgb().formatRgb()}function Yt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=P0.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ns(e):n===3?new nt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ii(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ii(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=O0.exec(t))?new nt(e[1],e[2],e[3],1):(e=L0.exec(t))?new nt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=F0.exec(t))?ii(e[1],e[2],e[3],e[4]):(e=R0.exec(t))?ii(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=q0.exec(t))?rs(e[1],e[2]/100,e[3]/100,1):(e=D0.exec(t))?rs(e[1],e[2]/100,e[3]/100,e[4]):zl.hasOwnProperty(t)?ns(zl[t]):t==="transparent"?new nt(NaN,NaN,NaN,0):null}function ns(t){return new nt(t>>16&255,t>>8&255,t&255,1)}function ii(t,e,n,i){return i<=0&&(t=e=n=NaN),new nt(t,e,n,i)}function G0(t){return t instanceof Qn||(t=Yt(t)),t?(t=t.rgb(),new nt(t.r,t.g,t.b,t.opacity)):new nt}function No(t,e,n,i){return arguments.length===1?G0(t):new nt(t,e,n,i??1)}function nt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}zo(nt,No,Ra(Qn,{brighter(t){return t=t==null?Fi:Math.pow(Fi,t),new nt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Vn:Math.pow(Vn,t),new nt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new nt(Kt(this.r),Kt(this.g),Kt(this.b),Ri(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:is,formatHex:is,formatHex8:j0,formatRgb:os,toString:os}));function is(){return`#${Ht(this.r)}${Ht(this.g)}${Ht(this.b)}`}function j0(){return`#${Ht(this.r)}${Ht(this.g)}${Ht(this.b)}${Ht((isNaN(this.opacity)?1:this.opacity)*255)}`}function os(){const t=Ri(this.opacity);return`${t===1?"rgb(":"rgba("}${Kt(this.r)}, ${Kt(this.g)}, ${Kt(this.b)}${t===1?")":`, ${t})`}`}function Ri(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Kt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ht(t){return t=Kt(t),(t<16?"0":"")+t.toString(16)}function rs(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ft(t,e,n,i)}function qa(t){if(t instanceof ft)return new ft(t.h,t.s,t.l,t.opacity);if(t instanceof Qn||(t=Yt(t)),!t)return new ft;if(t instanceof ft)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),r=Math.max(e,n,i),l=NaN,a=r-o,s=(r+o)/2;return a?(e===r?l=(n-i)/a+(n<i)*6:n===r?l=(i-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+o:2-r-o,l*=60):a=s>0&&s<1?0:l,new ft(l,a,s,t.opacity)}function H0(t,e,n,i){return arguments.length===1?qa(t):new ft(t,e,n,i??1)}function ft(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}zo(ft,H0,Ra(Qn,{brighter(t){return t=t==null?Fi:Math.pow(Fi,t),new ft(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Vn:Math.pow(Vn,t),new ft(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new nt(ao(t>=240?t-240:t+120,o,i),ao(t,o,i),ao(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new ft(ls(this.h),oi(this.s),oi(this.l),Ri(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ri(this.opacity);return`${t===1?"hsl(":"hsla("}${ls(this.h)}, ${oi(this.s)*100}%, ${oi(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ls(t){return t=(t||0)%360,t<0?t+360:t}function oi(t){return Math.max(0,Math.min(1,t||0))}function ao(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const er=t=>()=>t;function W0(t,e){return function(n){return t+n*e}}function V0(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function K0(t){return(t=+t)==1?Da:function(e,n){return n-e?V0(e,n,t):er(isNaN(e)?n:e)}}function Da(t,e){var n=e-t;return n?W0(t,n):er(isNaN(t)?e:t)}const qi=function t(e){var n=K0(e);function i(o,r){var l=n((o=No(o)).r,(r=No(r)).r),a=n(o.g,r.g),s=n(o.b,r.b),u=Da(o.opacity,r.opacity);return function(f){return o.r=l(f),o.g=a(f),o.b=s(f),o.opacity=u(f),o+""}}return i.gamma=t,i}(1);function U0(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),o;return function(r){for(o=0;o<n;++o)i[o]=t[o]*(1-r)+e[o]*r;return i}}function Y0(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function J0(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,o=new Array(i),r=new Array(n),l;for(l=0;l<i;++l)o[l]=tr(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<i;++l)r[l]=o[l](a);return r}}function X0(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function ut(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Z0(t,e){var n={},i={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=tr(t[o],e[o]):i[o]=e[o];return function(r){for(o in n)i[o]=n[o](r);return i}}var Io=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uo=new RegExp(Io.source,"g");function Q0(t){return function(){return t}}function x0(t){return function(e){return t(e)+""}}function $a(t,e){var n=Io.lastIndex=uo.lastIndex=0,i,o,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(i=Io.exec(t))&&(o=uo.exec(e));)(r=o.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(i=i[0])===(o=o[0])?a[l]?a[l]+=o:a[++l]=o:(a[++l]=null,s.push({i:l,x:ut(i,o)})),n=uo.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?x0(s[0].x):Q0(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function tr(t,e){var n=typeof e,i;return e==null||n==="boolean"?er(e):(n==="number"?ut:n==="string"?(i=Yt(e))?(e=i,qi):$a:e instanceof Yt?qi:e instanceof Date?X0:Y0(e)?U0:Array.isArray(e)?J0:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Z0:ut)(t,e)}function z0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var ss=180/Math.PI,Eo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ba(t,e,n,i,o,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*i)&&(n-=t*s,i-=e*s),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,s/=a),t*i<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*ss,skewX:Math.atan(s)*ss,scaleX:l,scaleY:a}}var ri;function eb(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Eo:Ba(e.a,e.b,e.c,e.d,e.e,e.f)}function tb(t){return t==null||(ri||(ri=document.createElementNS("http://www.w3.org/2000/svg","g")),ri.setAttribute("transform",t),!(t=ri.transform.baseVal.consolidate()))?Eo:(t=t.matrix,Ba(t.a,t.b,t.c,t.d,t.e,t.f))}function Ga(t,e,n,i){function o(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,h,m){if(u!==c||f!==d){var _=h.push("translate(",null,e,null,n);m.push({i:_-4,x:ut(u,c)},{i:_-2,x:ut(f,d)})}else(c||d)&&h.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(o(c)+"rotate(",null,i)-2,x:ut(u,f)})):f&&c.push(o(c)+"rotate("+f+i)}function a(u,f,c,d){u!==f?d.push({i:c.push(o(c)+"skewX(",null,i)-2,x:ut(u,f)}):f&&c.push(o(c)+"skewX("+f+i)}function s(u,f,c,d,h,m){if(u!==c||f!==d){var _=h.push(o(h)+"scale(",null,",",null,")");m.push({i:_-4,x:ut(u,c)},{i:_-2,x:ut(f,d)})}else(c!==1||d!==1)&&h.push(o(h)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(h){for(var m=-1,_=d.length,b;++m<_;)c[(b=d[m]).i]=b.x(h);return c.join("")}}}var nb=Ga(eb,"px, ","px)","deg)"),ib=Ga(tb,", ",")",")"),bn=0,Rn=0,Pn=0,ja=1e3,Di,qn,$i=0,Jt=0,Yi=0,Un=typeof performance=="object"&&performance.now?performance:Date,Ha=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function nr(){return Jt||(Ha(ob),Jt=Un.now()+Yi)}function ob(){Jt=0}function Bi(){this._call=this._time=this._next=null}Bi.prototype=Wa.prototype={constructor:Bi,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?nr():+n)+(e==null?0:+e),!this._next&&qn!==this&&(qn?qn._next=this:Di=this,qn=this),this._call=t,this._time=n,Mo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mo())}};function Wa(t,e,n){var i=new Bi;return i.restart(t,e,n),i}function rb(){nr(),++bn;for(var t=Di,e;t;)(e=Jt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--bn}function as(){Jt=($i=Un.now())+Yi,bn=Rn=0;try{rb()}finally{bn=0,sb(),Jt=0}}function lb(){var t=Un.now(),e=t-$i;e>ja&&(Yi-=e,$i=t)}function sb(){for(var t,e=Di,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Di=n);qn=t,Mo(i)}function Mo(t){if(!bn){Rn&&(Rn=clearTimeout(Rn));var e=t-Jt;e>24?(t<1/0&&(Rn=setTimeout(as,t-Un.now()-Yi)),Pn&&(Pn=clearInterval(Pn))):(Pn||($i=Un.now(),Pn=setInterval(lb,ja)),bn=1,Ha(as))}}function us(t,e,n){var i=new Bi;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var ab=ka("start","end","cancel","interrupt"),ub=[],Va=0,fs=1,Po=2,pi=3,cs=4,Oo=5,hi=6;function Ji(t,e,n,i,o,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;fb(t,n,{name:e,index:i,group:o,on:ab,tween:ub,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Va})}function ir(t,e){var n=ct(t,e);if(n.state>Va)throw new Error("too late; already scheduled");return n}function ht(t,e){var n=ct(t,e);if(n.state>pi)throw new Error("too late; already running");return n}function ct(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function fb(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=Wa(r,0,n.time);function r(u){n.state=fs,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,h;if(n.state!==fs)return s();for(f in i)if(h=i[f],h.name===n.name){if(h.state===pi)return us(l);h.state===cs?(h.state=hi,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<e&&(h.state=hi,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(us(function(){n.state===pi&&(n.state=cs,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Po,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Po){for(n.state=pi,o=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(h=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++c]=h);o.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Oo,1),c=-1,d=o.length;++c<d;)o[c].call(t,f);n.state===Oo&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=hi,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function cb(t,e){var n=t.__transition,i,o,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((i=n[l]).name!==e){r=!1;continue}o=i.state>Po&&i.state<Oo,i.state=hi,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[l]}r&&delete t.__transition}}function db(t){return this.each(function(){cb(this,t)})}function pb(t,e){var n,i;return function(){var o=ht(this,t),r=o.tween;if(r!==n){i=n=r;for(var l=0,a=i.length;l<a;++l)if(i[l].name===e){i=i.slice(),i.splice(l,1);break}}o.tween=i}}function hb(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=ht(this,t),l=r.tween;if(l!==i){o=(i=l).slice();for(var a={name:e,value:n},s=0,u=o.length;s<u;++s)if(o[s].name===e){o[s]=a;break}s===u&&o.push(a)}r.tween=o}}function mb(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=ct(this.node(),n).tween,o=0,r=i.length,l;o<r;++o)if((l=i[o]).name===t)return l.value;return null}return this.each((e==null?pb:hb)(n,t,e))}function or(t,e,n){var i=t._id;return t.each(function(){var o=ht(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return ct(o,i).value[e]}}function Ka(t,e){var n;return(typeof e=="number"?ut:e instanceof Yt?qi:(n=Yt(e))?(e=n,qi):$a)(t,e)}function _b(t){return function(){this.removeAttribute(t)}}function gb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function bb(t,e,n){var i,o=n+"",r;return function(){var l=this.getAttribute(t);return l===o?null:l===i?r:r=e(i=l,n)}}function vb(t,e,n){var i,o=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===o?null:l===i?r:r=e(i=l,n)}}function yb(t,e,n){var i,o,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===i&&s===o?r:(o=s,r=e(i=l,a)))}}function wb(t,e,n){var i,o,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===i&&s===o?r:(o=s,r=e(i=l,a)))}}function kb(t,e){var n=Ui(t),i=n==="transform"?ib:Ka;return this.attrTween(t,typeof e=="function"?(n.local?wb:yb)(n,i,or(this,"attr."+t,e)):e==null?(n.local?gb:_b)(n):(n.local?vb:bb)(n,i,e))}function Cb(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Sb(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ab(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Sb(t,r)),n}return o._value=e,o}function Tb(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Cb(t,r)),n}return o._value=e,o}function Nb(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Ui(t);return this.tween(n,(i.local?Ab:Tb)(i,e))}function Ib(t,e){return function(){ir(this,t).delay=+e.apply(this,arguments)}}function Eb(t,e){return e=+e,function(){ir(this,t).delay=e}}function Mb(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ib:Eb)(e,t)):ct(this.node(),e).delay}function Pb(t,e){return function(){ht(this,t).duration=+e.apply(this,arguments)}}function Ob(t,e){return e=+e,function(){ht(this,t).duration=e}}function Lb(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Pb:Ob)(e,t)):ct(this.node(),e).duration}function Fb(t,e){if(typeof e!="function")throw new Error;return function(){ht(this,t).ease=e}}function Rb(t){var e=this._id;return arguments.length?this.each(Fb(e,t)):ct(this.node(),e).ease}function qb(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ht(this,t).ease=n}}function Db(t){if(typeof t!="function")throw new Error;return this.each(qb(this._id,t))}function $b(t){typeof t!="function"&&(t=Aa(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,a=i[o]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new St(i,this._parents,this._name,this._id)}function Bb(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),l=new Array(i),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,h=0;h<f;++h)(d=s[h]||u[h])&&(c[h]=d);for(;a<i;++a)l[a]=e[a];return new St(l,this._parents,this._name,this._id)}function Gb(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function jb(t,e,n){var i,o,r=Gb(e)?ir:ht;return function(){var l=r(this,t),a=l.on;a!==i&&(o=(i=a).copy()).on(e,n),l.on=o}}function Hb(t,e){var n=this._id;return arguments.length<2?ct(this.node(),n).on.on(t):this.each(jb(n,t,e))}function Wb(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Vb(){return this.on("end.remove",Wb(this._id))}function Kb(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Qo(t));for(var i=this._groups,o=i.length,r=new Array(o),l=0;l<o;++l)for(var a=i[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Ji(u[d],e,n,d,u,ct(f,n)));return new St(r,this._parents,e,n)}function Ub(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Sa(t));for(var i=this._groups,o=i.length,r=[],l=[],a=0;a<o;++a)for(var s=i[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),h,m=ct(f,n),_=0,b=d.length;_<b;++_)(h=d[_])&&Ji(h,e,n,_,d,m);r.push(d),l.push(f)}return new St(r,l,e,n)}var Yb=Zn.prototype.constructor;function Jb(){return new Yb(this._groups,this._parents)}function Xb(t,e){var n,i,o;return function(){var r=gn(this,t),l=(this.style.removeProperty(t),gn(this,t));return r===l?null:r===n&&l===i?o:o=e(n=r,i=l)}}function Ua(t){return function(){this.style.removeProperty(t)}}function Zb(t,e,n){var i,o=n+"",r;return function(){var l=gn(this,t);return l===o?null:l===i?r:r=e(i=l,n)}}function Qb(t,e,n){var i,o,r;return function(){var l=gn(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),gn(this,t))),l===s?null:l===i&&s===o?r:(o=s,r=e(i=l,a))}}function xb(t,e){var n,i,o,r="style."+e,l="end."+r,a;return function(){var s=ht(this,t),u=s.on,f=s.value[r]==null?a||(a=Ua(e)):void 0;(u!==n||o!==f)&&(i=(n=u).copy()).on(l,o=f),s.on=i}}function zb(t,e,n){var i=(t+="")=="transform"?nb:Ka;return e==null?this.styleTween(t,Xb(t,i)).on("end.style."+t,Ua(t)):typeof e=="function"?this.styleTween(t,Qb(t,i,or(this,"style."+t,e))).each(xb(this._id,t)):this.styleTween(t,Zb(t,i,e),n).on("end.style."+t,null)}function e1(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function t1(t,e,n){var i,o;function r(){var l=e.apply(this,arguments);return l!==o&&(i=(o=l)&&e1(t,l,n)),i}return r._value=e,r}function n1(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,t1(t,e,n??""))}function i1(t){return function(){this.textContent=t}}function o1(t){return function(){var e=t(this);this.textContent=e??""}}function r1(t){return this.tween("text",typeof t=="function"?o1(or(this,"text",t)):i1(t==null?"":t+""))}function l1(t){return function(e){this.textContent=t.call(this,e)}}function s1(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&l1(o)),e}return i._value=t,i}function a1(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,s1(t))}function u1(){for(var t=this._name,e=this._id,n=Ya(),i=this._groups,o=i.length,r=0;r<o;++r)for(var l=i[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=ct(s,e);Ji(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new St(i,this._parents,t,n)}function f1(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--o===0&&r()}};n.each(function(){var u=ht(this,i),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),o===0&&r()})}var c1=0;function St(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Ya(){return++c1}var bt=Zn.prototype;St.prototype={constructor:St,select:Kb,selectAll:Ub,selectChild:bt.selectChild,selectChildren:bt.selectChildren,filter:$b,merge:Bb,selection:Jb,transition:u1,call:bt.call,nodes:bt.nodes,node:bt.node,size:bt.size,empty:bt.empty,each:bt.each,on:Hb,attr:kb,attrTween:Nb,style:zb,styleTween:n1,text:r1,textTween:a1,remove:Vb,tween:mb,delay:Mb,duration:Lb,ease:Rb,easeVarying:Db,end:f1,[Symbol.iterator]:bt[Symbol.iterator]};function d1(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var p1={time:null,delay:0,duration:250,ease:d1};function h1(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function m1(t){var e,n;t instanceof St?(e=t._id,t=t._name):(e=Ya(),(n=p1).time=nr(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var l=i[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&Ji(s,t,e,u,l,n||h1(s,e));return new St(i,this._parents,t,e)}Zn.prototype.interrupt=db;Zn.prototype.transition=m1;const Lo=Math.PI,Fo=2*Lo,Bt=1e-6,_1=Fo-Bt;function Ja(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function g1(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Ja;const n=10**e;return function(i){this._+=i[0];for(let o=1,r=i.length;o<r;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}class b1{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Ja:g1(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,o){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(e,n,i,o,r,l){this._append`C${+e},${+n},${+i},${+o},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,i,o,r){if(e=+e,n=+n,i=+i,o=+o,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=i-e,u=o-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Bt)if(!(Math.abs(c*s-u*f)>Bt)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let h=i-l,m=o-a,_=s*s+u*u,b=h*h+m*m,y=Math.sqrt(_),N=Math.sqrt(d),I=r*Math.tan((Lo-Math.acos((_+d-b)/(2*y*N)))/2),V=I/N,L=I/y;Math.abs(V-1)>Bt&&this._append`L${e+V*f},${n+V*c}`,this._append`A${r},${r},0,0,${+(c*h>f*m)},${this._x1=e+L*s},${this._y1=n+L*u}`}}arc(e,n,i,o,r,l){if(e=+e,n=+n,i=+i,l=!!l,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(o),s=i*Math.sin(o),u=e+a,f=n+s,c=1^l,d=l?o-r:r-o;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Bt||Math.abs(this._y1-f)>Bt)&&this._append`L${u},${f}`,i&&(d<0&&(d=d%Fo+Fo),d>_1?this._append`A${i},${i},0,1,${c},${e-a},${n-s}A${i},${i},0,1,${c},${this._x1=u},${this._y1=f}`:d>Bt&&this._append`A${i},${i},0,${+(d>=Lo)},${c},${this._x1=e+i*Math.cos(r)},${this._y1=n+i*Math.sin(r)}`)}rect(e,n,i,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function v1(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Gi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function vn(t){return t=Gi(Math.abs(t)),t?t[1]:NaN}function y1(t,e){return function(n,i){for(var o=n.length,r=[],l=0,a=t[0],s=0;o>0&&a>0&&(s+a+1>i&&(a=Math.max(1,i-s)),r.push(n.substring(o-=a,o+a)),!((s+=a+1)>i));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function w1(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var k1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ji(t){if(!(e=k1.exec(t)))throw new Error("invalid format: "+t);var e;return new rr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ji.prototype=rr.prototype;function rr(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}rr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function C1(t){e:for(var e=t.length,n=1,i=-1,o;n<e;++n)switch(t[n]){case".":i=o=n;break;case"0":i===0&&(i=n),o=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var Xa;function S1(t,e){var n=Gi(t,e);if(!n)return t+"";var i=n[0],o=n[1],r=o-(Xa=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,l=i.length;return r===l?i:r>l?i+new Array(r-l+1).join("0"):r>0?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+Gi(t,Math.max(0,e+r-1))[0]}function ds(t,e){var n=Gi(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const ps={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:v1,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ds(t*100,e),r:ds,s:S1,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function hs(t){return t}var ms=Array.prototype.map,_s=["y","z","a","f","p","n","¬µ","m","","k","M","G","T","P","E","Z","Y"];function A1(t){var e=t.grouping===void 0||t.thousands===void 0?hs:y1(ms.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?hs:w1(ms.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"‚àí":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=ji(c);var d=c.fill,h=c.align,m=c.sign,_=c.symbol,b=c.zero,y=c.width,N=c.comma,I=c.precision,V=c.trim,L=c.type;L==="n"?(N=!0,L="g"):ps[L]||(I===void 0&&(I=12),V=!0,L="g"),(b||d==="0"&&h==="=")&&(b=!0,d="0",h="=");var F=_==="$"?n:_==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",R=_==="$"?i:/[%p]/.test(L)?l:"",B=ps[L],p=/[defgprs%]/.test(L);I=I===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function Y(T){var v=F,g=R,P,D,E;if(L==="c")g=B(T)+g,T="";else{T=+T;var W=T<0||1/T<0;if(T=isNaN(T)?s:B(Math.abs(T),I),V&&(T=C1(T)),W&&+T==0&&m!=="+"&&(W=!1),v=(W?m==="("?m:a:m==="-"||m==="("?"":m)+v,g=(L==="s"?_s[8+Xa/3]:"")+g+(W&&m==="("?")":""),p){for(P=-1,D=T.length;++P<D;)if(E=T.charCodeAt(P),48>E||E>57){g=(E===46?o+T.slice(P+1):T.slice(P))+g,T=T.slice(0,P);break}}}N&&!b&&(T=e(T,1/0));var K=v.length+T.length+g.length,ee=K<y?new Array(y-K+1).join(d):"";switch(N&&b&&(T=e(ee+T,ee.length?y-g.length:1/0),ee=""),h){case"<":T=v+T+g+ee;break;case"=":T=v+ee+T+g;break;case"^":T=ee.slice(0,K=ee.length>>1)+v+T+g+ee.slice(K);break;default:T=ee+v+T+g;break}return r(T)}return Y.toString=function(){return c+""},Y}function f(c,d){var h=u((c=ji(c),c.type="f",c)),m=Math.max(-8,Math.min(8,Math.floor(vn(d)/3)))*3,_=Math.pow(10,-m),b=_s[8+m/3];return function(y){return h(_*y)+b}}return{format:u,formatPrefix:f}}var li,Za,Qa;T1({thousands:",",grouping:[3],currency:["$",""]});function T1(t){return li=A1(t),Za=li.format,Qa=li.formatPrefix,li}function N1(t){return Math.max(0,-vn(Math.abs(t)))}function I1(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vn(e)/3)))*3-vn(Math.abs(t)))}function E1(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vn(e)-vn(t))+1}function M1(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function P1(t){return function(){return t}}function O1(t){return+t}var gs=[0,1];function un(t){return t}function Ro(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:P1(isNaN(e)?NaN:.5)}function L1(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function F1(t,e,n){var i=t[0],o=t[1],r=e[0],l=e[1];return o<i?(i=Ro(o,i),r=n(l,r)):(i=Ro(i,o),r=n(r,l)),function(a){return r(i(a))}}function R1(t,e,n){var i=Math.min(t.length,e.length)-1,o=new Array(i),r=new Array(i),l=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<i;)o[l]=Ro(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=R_(t,a,1,i)-1;return r[s](o[s](a))}}function q1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function D1(){var t=gs,e=gs,n=tr,i,o,r,l=un,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==un&&(l=L1(t[0],t[d-1])),a=d>2?R1:F1,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(i),e,n)))(i(l(d)))}return c.invert=function(d){return l(o((u||(u=a(e,t.map(i),ut)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,O1),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=z0,f()},c.clamp=function(d){return arguments.length?(l=d?!0:un,f()):l!==un},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,h){return i=d,o=h,f()}}function $1(){return D1()(un,un)}function B1(t,e,n,i){var o=G_(t,e,n),r;switch(i=ji(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(r=I1(o,l))&&(i.precision=r),Qa(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(r=E1(o,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=r-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(r=N1(o))&&(i.precision=r-(i.type==="%")*2);break}}return Za(i)}function G1(t){var e=t.domain;return t.ticks=function(n){var i=e();return B_(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var o=e();return B1(o[0],o[o.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),o=0,r=i.length-1,l=i[o],a=i[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=o,o=r,r=u);f-- >0;){if(u=So(l,a,n),u===s)return i[o]=l,i[r]=a,e(i);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function qo(){var t=$1();return t.copy=function(){return q1(t,qo())},M1.apply(t,arguments),G1(t)}function ln(t){return function(){return t}}function j1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new b1(e)}function H1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function xa(t){this._context=t}xa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function W1(t){return new xa(t)}function V1(t){return t[0]}function K1(t){return t[1]}function fo(t,e){var n=ln(!0),i=null,o=W1,r=null,l=j1(a);t=typeof t=="function"?t:t===void 0?V1:ln(t),e=typeof e=="function"?e:e===void 0?K1:ln(e);function a(s){var u,f=(s=H1(s)).length,c,d=!1,h;for(i==null&&(r=o(h=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(h)return r=null,h+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:ln(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:ln(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:ln(!!s),a):n},a.curve=function(s){return arguments.length?(o=s,i!=null&&(r=o(i)),a):o},a.context=function(s){return arguments.length?(s==null?i=r=null:r=o(i=s),a):i},a}function Dn(t,e,n){this.k=t,this.x=e,this.y=n}Dn.prototype={constructor:Dn,scale:function(t){return t===1?this:new Dn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Dn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Dn.prototype;function U1(t){let e;return{c(){e=Wi("svg"),q(e,"id","line-chart")},m(n,i){k(n,e,i)},p:_e,i:_e,o:_e,d(n){n&&w(e)}}}const bs=52;function Y1(t,e,n){let{data:i=[]}=e,o,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;fo().x((m,_)=>r(_)).y(m=>l(m)),jo(()=>{n(1,o=M0("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=qo().range([0,s]),l=qo().range([u,0]),i.length&&f()});function f(){const m=i.length>bs?i.slice(-bs):i;c(m),d(m),h()}function c(m){o.selectAll(".line").remove();const _=fo().defined(y=>y>-5).x((y,N)=>r(N)).y(y=>l(y)),b=fo().defined(y=>y<0).x((y,N)=>r(N)).y(y=>l(y));o.append("path").datum(m).attr("class","line positive").attr("d",_).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),o.append("path").datum(m).attr("class","line negative").attr("d",b).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(m){const _=Math.max(0,...m),b=Math.min(0,...m);r.domain([0,m.length-1]),l.domain([b,_]).nice()}function h(m){const _=Y_(r).ticks(0),b=J_(l).ticks(10);o.selectAll(".axis").remove(),o.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(_),o.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(b)}return t.$$set=m=>{"data"in m&&n(0,i=m.data)},t.$$.update=()=>{t.$$.dirty&3&&i&&o&&f()},[i,o]}class J1 extends he{constructor(e){super(),pe(this,e,Y1,U1,le,{data:0})}}function X1(t){let e,n=t[1].townInfo.knowledge_points+"",i,o;return{c(){e=$("Manage your Knowledge ("),i=$(n),o=$(" pts)")},m(r,l){k(r,e,l),k(r,i,l),k(r,o,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&me(i,n)},d(r){r&&(w(e),w(i),w(o))}}}function Z1(t){let e,n,i,o;return e=new Qt({props:{$$slots:{default:[X1]},$$scope:{ctx:t}}}),i=new en({}),{c(){Q(e.$$.fragment),n=U(),Q(i.$$.fragment)},m(r,l){X(e,r,l),k(r,n,l),X(i,r,l),o=!0},p(r,l){const a={};l&258&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&w(n),Z(e,r),Z(i,r)}}}function vs(t){let e,n,i=ks(t[1].townInfo.knowledge_points*t[3])+"",o,r;return{c(){e=O("br"),n=$(`
					(total value: $`),o=$(i),r=$(")")},m(l,a){k(l,e,a),k(l,n,a),k(l,o,a),k(l,r,a)},p(l,a){a&10&&i!==(i=ks(l[1].townInfo.knowledge_points*l[3])+"")&&me(o,i)},d(l){l&&(w(e),w(n),w(o),w(r))}}}function ys(t){let e;return{c(){e=O("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
					convert.`},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function ws(t){let e,n,i;return n=new Sn({props:{variant:"default",$$slots:{default:[Q1]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=O("div"),Q(n.$$.fragment)},m(o,r){k(o,e,r),X(n,e,null),i=!0},p(o,r){const l={};r&256&&(l.$$scope={dirty:r,ctx:o}),n.$set(l)},i(o){i||(C(n.$$.fragment,o),i=!0)},o(o){S(n.$$.fragment,o),i=!1},d(o){o&&w(e),Z(n)}}}function Q1(t){let e;return{c(){e=$("Convert Knowledge to Gold")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function x1(t){let e,n,i,o,r,l,a,s,u=(t[3]??0)+"",f,c,d,h,m,_,b,y,N,I,V;e=new xt({props:{$$slots:{default:[Z1]},$$scope:{ctx:t}}});let L=t[3]>0&&vs(t);_=new J1({props:{data:t[2]}});let F=t[3]<0&&ys(),R=t[1].hasBank&&t[3]>0&&ws(t);return I=new Cn({}),{c(){Q(e.$$.fragment),n=U(),i=O("span"),i.textContent="Knowledge is power, unlock it!",o=U(),r=O("div"),l=O("div"),a=$("Market Rate: "),s=O("span"),f=$(u),c=$(" gold"),h=$(`
				per Knowledge Point
				`),L&&L.c(),m=U(),Q(_.$$.fragment),b=U(),F&&F.c(),y=U(),R&&R.c(),N=U(),Q(I.$$.fragment),q(i,"class","italic"),q(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),q(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(B,p){X(e,B,p),k(B,n,p),k(B,i,p),k(B,o,p),k(B,r,p),M(r,l),M(l,a),M(l,s),M(s,f),M(s,c),M(l,h),L&&L.m(l,null),M(r,m),X(_,r,null),M(r,b),F&&F.m(r,null),M(r,y),R&&R.m(r,null),k(B,N,p),X(I,B,p),V=!0},p(B,p){const Y={};p&258&&(Y.$$scope={dirty:p,ctx:B}),e.$set(Y),(!V||p&8)&&u!==(u=(B[3]??0)+"")&&me(f,u),(!V||p&8&&d!==(d=B[3]<0?"text-red-500":"text-green-500"))&&q(s,"class",d),B[3]>0?L?L.p(B,p):(L=vs(B),L.c(),L.m(l,null)):L&&(L.d(1),L=null);const T={};p&4&&(T.data=B[2]),_.$set(T),B[3]<0?F||(F=ys(),F.c(),F.m(r,y)):F&&(F.d(1),F=null),B[1].hasBank&&B[3]>0?R?(R.p(B,p),p&10&&C(R,1)):(R=ws(B),R.c(),C(R,1),R.m(r,null)):R&&(Pe(),S(R,1,1,()=>{R=null}),Oe())},i(B){V||(C(e.$$.fragment,B),C(_.$$.fragment,B),C(R),C(I.$$.fragment,B),V=!0)},o(B){S(e.$$.fragment,B),S(_.$$.fragment,B),S(R),S(I.$$.fragment,B),V=!1},d(B){B&&(w(n),w(i),w(o),w(r),w(N)),Z(e,B),L&&L.d(),Z(_),F&&F.d(),R&&R.d(),Z(I,B)}}}function z1(t){let e,n;return e=new zt({props:{transitionConfig:{duration:0},$$slots:{default:[x1]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){X(e,i,o),n=!0},p(i,o){const r={};o&270&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function ev(t){let e,n,i;function o(l){t[5](l)}let r={$$slots:{default:[z1]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new tn({props:r}),Se.push(()=>Zt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){X(e,l,a),i=!0},p(l,[a]){const s={};a&270&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],Xt(()=>n=!1)),e.$set(s)},i(l){i||(C(e.$$.fragment,l),i=!0)},o(l){S(e.$$.fragment,l),i=!1},d(l){Z(e,l)}}}function ks(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function tv(t,e,n){let i,o;se(t,we,u=>n(1,i=u)),se(t,ki,u=>n(4,o=u));let r,l=0;function a(){let u=i;i.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,we.set(u),localStorage.setItem(lt,JSON.stringify(u))):alert("You need a bank to convert knowledge to gold.")}function s(u){o=u,ki.set(o)}return t.$$.update=()=>{t.$$.dirty&2&&i&&(n(2,r=i.economyAndLaws.knowledge_gold_market_rates),n(3,l=i.economyAndLaws.knowledge_gold_market_rates[i.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,i,r,l,o,s]}class nv extends he{constructor(e){super(),pe(this,e,tv,ev,le,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}function iv(t){let e;const n=t[3].default,i=ae(n,t,t[4],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16)&&fe(i,n,o,o[4],e?ue(n,o[4],r,null):ce(o[4]),null)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function ov(t){let e,n;const i=[{class:Ie("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let o={$$slots:{default:[iv]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new Jf({props:o}),{c(){Q(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&7?de(i,[l&1&&{class:Ie("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&et(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function rv(t,e,n){const i=["class","level"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=G(G({},e),Ae(u)),n(2,o=ne(e,i)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,o,r,l]}class lv extends he{constructor(e){super(),pe(this,e,rv,ov,le,{class:0,level:1})}}const sv=t=>({builder:t&64}),Cs=t=>({builder:t[6]});function av(t){let e;const n=t[2].default,i=ae(n,t,t[5],Cs);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&96)&&fe(i,n,o,o[5],e?ue(n,o[5],r,sv):ce(o[5]),Cs)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function uv(t){let e,n;const i=[{class:Ie(Pi(),t[0])},t[1]];let o={$$slots:{default:[av,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new tc({props:o}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){Q(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&3?de(i,[l&1&&{class:Ie(Pi(),r[0])},l&2&&et(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function fv(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){J.call(this,t,f)}function u(f){J.call(this,t,f)}return t.$$set=f=>{e=G(G({},e),Ae(f)),n(1,o=ne(e,i)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,o,r,s,u,l]}class cv extends he{constructor(e){super(),pe(this,e,fv,uv,le,{class:0})}}function dv(t){let e;const n=t[1].default,i=ae(n,t,t[2],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&4)&&fe(i,n,o,o[2],e?ue(n,o[2],r,null):ce(o[2]),null)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function pv(t){let e,n;const i=[t[0]];let o={$$slots:{default:[dv]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new ac({props:o}),{c(){Q(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&1?de(i,[et(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function hv(t,e,n){const i=[];let o=ne(e,i),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=G(G({},e),Ae(a)),n(0,o=ne(e,i)),"$$scope"in a&&n(2,l=a.$$scope)},[o,r,l]}class mv extends he{constructor(e){super(),pe(this,e,hv,pv,le,{})}}function _v(t){let e,n,i;const o=t[3].default,r=ae(o,t,t[2],null);let l=[{class:n=Ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=G(a,l[s]);return{c(){e=O("div"),r&&r.c(),oe(e,a)},m(s,u){k(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&fe(r,o,s,s[2],i?ue(o,s[2],u,null):ce(s[2]),null),oe(e,a=de(l,[(!i||u&1&&n!==(n=Ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(C(r,s),i=!0)},o(s){S(r,s),i=!1},d(s){s&&w(e),r&&r.d(s)}}}function gv(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),Ae(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class bv extends he{constructor(e){super(),pe(this,e,gv,_v,le,{class:0})}}function vv(t){let e,n,i;const o=t[3].default,r=ae(o,t,t[2],null);let l=[{class:n=Ie("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=G(a,l[s]);return{c(){e=O("div"),r&&r.c(),oe(e,a)},m(s,u){k(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&fe(r,o,s,s[2],i?ue(o,s[2],u,null):ce(s[2]),null),oe(e,a=de(l,[(!i||u&1&&n!==(n=Ie("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(C(r,s),i=!0)},o(s){S(r,s),i=!1},d(s){s&&w(e),r&&r.d(s)}}}function yv(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),Ae(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class wv extends he{constructor(e){super(),pe(this,e,yv,vv,le,{class:0})}}function kv(t){let e,n;const i=[{transition:t[1]},{transitionConfig:t[2]},{class:Ie("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let o={};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new Lc({props:o}),{c(){Q(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&15?de(i,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Ie("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&et(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Cv(t,e,n){const i=["class","transition","transitionConfig"];let o=ne(e,i),{class:r=void 0}=e,{transition:l=da}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=G(G({},e),Ae(s)),n(3,o=ne(e,i)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,o]}class Sv extends he{constructor(e){super(),pe(this,e,Cv,kv,le,{class:0,transition:1,transitionConfig:2})}}function Av(t){let e;const n=t[4].default,i=ae(n,t,t[5],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&32)&&fe(i,n,o,o[5],e?ue(n,o[5],r,null):ce(o[5]),null)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function Tv(t){let e,n,i,o;e=new Sv({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[Av]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=G(l,r[a]);return i=new Cc({props:l}),{c(){Q(e.$$.fragment),n=U(),Q(i.$$.fragment)},m(a,s){X(e,a,s),k(a,n,s),X(i,a,s),o=!0},p(a,s){const u=s&15?de(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[2])},s&8&&et(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),i.$set(u)},i(a){o||(C(e.$$.fragment,a),C(i.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),S(i.$$.fragment,a),o=!1},d(a){a&&w(n),Z(e,a),Z(i,a)}}}function Nv(t){let e,n;return e=new mv({props:{$$slots:{default:[Tv]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){X(e,i,o),n=!0},p(i,[o]){const r={};o&47&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Iv(t,e,n){const i=["transition","transitionConfig","class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{transition:a=Xo}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=G(G({},e),Ae(f)),n(3,o=ne(e,i)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,o,r,l]}class Ev extends he{constructor(e){super(),pe(this,e,Iv,Nv,le,{transition:0,transitionConfig:1,class:2})}}function Mv(t){let e;const n=t[2].default,i=ae(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&fe(i,n,o,o[3],e?ue(n,o[3],r,null):ce(o[3]),null)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function Pv(t){let e,n;const i=[{class:Ie("text-sm text-muted-foreground",t[0])},t[1]];let o={$$slots:{default:[Mv]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new Gc({props:o}),{c(){Q(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&3?de(i,[l&1&&{class:Ie("text-sm text-muted-foreground",r[0])},l&2&&et(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Ov(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),Ae(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,o,r,l]}class Lv extends he{constructor(e){super(),pe(this,e,Ov,Pv,le,{class:0})}}const Fv=jf,Rv=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:5e3,duration:180,effect:!0},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
        
         We don't really know what that means, but it seems to make people healthier. 
        `,cost:8e3,duration:200,effect:!0},{id:"goodbye_carrots",title:"Goodbye Carrots",description:`Scientist Jarrod M. collaborated with local carrot farms to enhance the recipe, aiming to increase consumers' height by 10%.

        Unfortunately, the experiment failed, and all the local carrot farms have gone out of business. 
        `,cost:8e3,duration:80,effect:!0},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.

        The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
        `,cost:3e3,duration:60,effect:!1},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab. 

        She hopes nobody will miss it. Your town now has some more money. 
        `,cost:15e3,duration:180,effect:!0},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes. 

        We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:!0},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach. 

        We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:!1},{id:"coffee_boost_tourism",title:"Speedy Brews",description:`Scientist Claudia A. has found that a specific blend of coffee can significantly increase productivity among town employees. 

        The catch? It only works on Mondays. But hey, starting the week with a turbo-charged workforce might just be the boost we needed. The town gets a bit of extra cash from the productivity, and a bit of tourism revenue from coffee tourism.
        `,cost:8e3,duration:100,effect:!0},{id:"bee_bonanza",title:"Buzzing with Possibilities",description:`Scientist Will B. thought that introducing genetically modified super bees to the local ecosystem could help with pollination.
        
        Unfortunately, these bees prefer coffee plants over all others, leading to all coffee bean farms forced to close.`,cost:5e3,duration:120,effect:!0},{id:"wheat_whirlwind",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather control experiment aimed at improving crop yields accidentally resulted in a series of mini-tornadoes sweeping through the town's wheat farms. The wheat is gone, but the townsfolk have never been more entertained.

        Local bakers mourn the loss of wheat while selling tickets to the wheat whirlwind tours. All wheat farms are now torn down, but happiness is up.`,cost:7e3,duration:150,effect:!0},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.

        Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:!0},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools. 

        This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:!0},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took the funding and applied the town for a grant to improve education.

        The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:4e4,duration:45,effect:!0}];function Ss(t,e,n){const i=t.slice();return i[17]=e[n],i}function qv(t){let e,n=t[1].lab.active_experiment.title+"",i;return{c(){e=$("üéâ Experiment Completed: "),i=$(n)},m(o,r){k(o,e,r),k(o,i,r)},p(o,r){r&2&&n!==(n=o[1].lab.active_experiment.title+"")&&me(i,n)},d(o){o&&(w(e),w(i))}}}function Dv(t){let e,n=t[1].lab.active_experiment.description+"",i;return{c(){e=O("div"),i=$(n),q(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(o,r){k(o,e,r),M(e,i)},p(o,r){r&2&&n!==(n=o[1].lab.active_experiment.description+"")&&me(i,n)},d(o){o&&w(e)}}}function $v(t){let e,n,i,o;return e=new lv({props:{class:"text-center",$$slots:{default:[qv]},$$scope:{ctx:t}}}),i=new Lv({props:{$$slots:{default:[Dv]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=U(),Q(i.$$.fragment)},m(r,l){X(e,r,l),k(r,n,l),X(i,r,l),o=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&w(n),Z(e,r),Z(i,r)}}}function Bv(t){let e;return{c(){e=$("Thank the scientists")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function Gv(t){let e,n;return e=new cv({props:{$$slots:{default:[Bv]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){Q(e.$$.fragment)},m(i,o){X(e,i,o),n=!0},p(i,o){const r={};o&1048576&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function jv(t){let e,n,i,o;return e=new wv({props:{$$slots:{default:[$v]},$$scope:{ctx:t}}}),i=new bv({props:{$$slots:{default:[Gv]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=U(),Q(i.$$.fragment)},m(r,l){X(e,r,l),k(r,n,l),X(i,r,l),o=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048576&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&w(n),Z(e,r),Z(i,r)}}}function Hv(t){let e,n;return e=new Ev({props:{$$slots:{default:[jv]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){X(e,i,o),n=!0},p(i,o){const r={};o&1048578&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Wv(t){let e;return{c(){e=O("span"),e.textContent="Manage your Laboratory üî¨ üß™"},m(n,i){k(n,e,i)},p:_e,d(n){n&&w(e)}}}function Vv(t){let e,n,i,o=t[1].lab.xp+"",r,l,a,s;return{c(){e=O("span"),n=$("You have earned "),i=O("span"),r=$(o),l=$(" XP"),s=$(` from experiments. XP can be used to buy advanced plots and develop your
					city.`),q(i,"class",a="italic "+(t[1].lab.xp<0?"text-red-500":"text-green-500"))},m(u,f){k(u,e,f),M(e,n),M(e,i),M(i,r),M(i,l),M(e,s)},p(u,f){f&2&&o!==(o=u[1].lab.xp+"")&&me(r,o),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-red-500":"text-green-500"))&&q(i,"class",a)},d(u){u&&w(e)}}}function Kv(t){let e,n,i,o;return e=new Qt({props:{$$slots:{default:[Wv]},$$scope:{ctx:t}}}),i=new en({props:{$$slots:{default:[Vv]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=U(),Q(i.$$.fragment)},m(r,l){X(e,r,l),k(r,n,l),X(i,r,l),o=!0},p(r,l){const a={};l&1048576&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&w(n),Z(e,r),Z(i,r)}}}function Uv(t){let e;return{c(){e=$("No more experiments available")},m(n,i){k(n,e,i)},p:_e,i:_e,o:_e,d(n){n&&w(e)}}}function Yv(t){let e,n,i,o,r=We(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=Ts(Ss(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=O("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
				it's funding requirement. Once the experiment is over, you will see the
				results.`,n=U(),i=O("div");for(let s=0;s<l.length;s+=1)l[s].c();q(e,"class","select-none text-sm "),q(i,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){k(s,e,u),k(s,n,u),k(s,i,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(i,null);o=!0},p(s,u){if(u&19){r=We(s[0]);let f;for(f=0;f<r.length;f+=1){const c=Ss(s,r,f);l[f]?(l[f].p(c,u),C(l[f],1)):(l[f]=Ts(c),l[f].c(),C(l[f],1),l[f].m(i,null))}for(Pe(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)C(l[u]);o=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);o=!1},d(s){s&&(w(e),w(n),w(i)),Tt(l,s)}}}function Jv(t){let e,n=t[1].lab.active_experiment.duration+"",i,o,r,l,a=t[1].lab.active_experiment.duration===0&&Ns(t);return{c(){e=$("Currently running an experiment... check back in "),i=$(n),o=$(` days.
			`),a&&a.c(),r=Te()},m(s,u){k(s,e,u),k(s,i,u),k(s,o,u),a&&a.m(s,u),k(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&me(i,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&C(a,1)):(a=Ns(s),a.c(),C(a,1),a.m(r.parentNode,r)):a&&(Pe(),S(a,1,1,()=>{a=null}),Oe())},i(s){l||(C(a),l=!0)},o(s){S(a),l=!1},d(s){s&&(w(e),w(i),w(o),w(r)),a&&a.d(s)}}}function As(t){let e,n,i=t[17].id+"",o;return{c(){e=O("span"),n=$("// dev-"),o=$(i),q(e,"class","text-xs text-gray-400")},m(r,l){k(r,e,l),M(e,n),M(e,o)},p(r,l){l&1&&i!==(i=r[17].id+"")&&me(o,i)},d(r){r&&w(e)}}}function Xv(t){let e,n=Is(t[17].cost).split(".")[0]+"",i,o,r,l=t[1].devMode===!0&&As(t);return{c(){e=$("$"),i=$(n),o=$(` gold

						`),l&&l.c(),r=U()},m(a,s){k(a,e,s),k(a,i,s),k(a,o,s),l&&l.m(a,s),k(a,r,s)},p(a,s){s&1&&n!==(n=Is(a[17].cost).split(".")[0]+"")&&me(i,n),a[1].devMode===!0?l?l.p(a,s):(l=As(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(w(e),w(i),w(o),w(r)),l&&l.d(a)}}}function Ts(t){let e,n;function i(){return t[11](t[17])}return e=new Sn({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[Xv]},$$scope:{ctx:t}}}),e.$on("click",i),{c(){Q(e.$$.fragment)},m(o,r){X(e,o,r),n=!0},p(o,r){t=o;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&1048579&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function Ns(t){let e,n;return e=new Sn({props:{variant:"outline",$$slots:{default:[Zv]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){Q(e.$$.fragment)},m(i,o){X(e,i,o),n=!0},p(i,o){const r={};o&1048576&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Zv(t){let e;return{c(){e=$("Complete experiment (and face the impact)")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function Qv(t){let e;return{c(){e=O("span"),e.textContent="Keep in mind that not all experiments yield positive results.",q(e,"class","italic text-left text-red-800")},m(n,i){k(n,e,i)},p:_e,d(n){n&&w(e)}}}function xv(t){let e,n,i,o,r,l,a,s,u,f,c;e=new xt({props:{$$slots:{default:[Kv]},$$scope:{ctx:t}}}),i=new Ii({});const d=[Jv,Yv,Uv],h=[];function m(_,b){return _[1].lab.active_experiment!==null?0:_[0].length>0?1:_[0].length===0?2:-1}return~(r=m(t))&&(l=h[r]=d[r](t)),s=new Ii({props:{class:"mt-4"}}),f=new Cn({props:{$$slots:{default:[Qv]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=U(),Q(i.$$.fragment),o=U(),l&&l.c(),a=U(),Q(s.$$.fragment),u=U(),Q(f.$$.fragment)},m(_,b){X(e,_,b),k(_,n,b),X(i,_,b),k(_,o,b),~r&&h[r].m(_,b),k(_,a,b),X(s,_,b),k(_,u,b),X(f,_,b),c=!0},p(_,b){const y={};b&1048578&&(y.$$scope={dirty:b,ctx:_}),e.$set(y);let N=r;r=m(_),r===N?~r&&h[r].p(_,b):(l&&(Pe(),S(h[N],1,1,()=>{h[N]=null}),Oe()),~r?(l=h[r],l?l.p(_,b):(l=h[r]=d[r](_),l.c()),C(l,1),l.m(a.parentNode,a)):l=null);const I={};b&1048576&&(I.$$scope={dirty:b,ctx:_}),f.$set(I)},i(_){c||(C(e.$$.fragment,_),C(i.$$.fragment,_),C(l),C(s.$$.fragment,_),C(f.$$.fragment,_),c=!0)},o(_){S(e.$$.fragment,_),S(i.$$.fragment,_),S(l),S(s.$$.fragment,_),S(f.$$.fragment,_),c=!1},d(_){_&&(w(n),w(o),w(a),w(u)),Z(e,_),Z(i,_),~r&&h[r].d(_),Z(s,_),Z(f,_)}}}function zv(t){let e,n;return e=new zt({props:{$$slots:{default:[xv]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){X(e,i,o),n=!0},p(i,o){const r={};o&1048579&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function ey(t){let e,n,i,o,r;e=new Fv({props:{open:t[2],$$slots:{default:[Hv]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[zv]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),i=new tn({props:a}),Se.push(()=>Zt(i,"open",l)),{c(){Q(e.$$.fragment),n=U(),Q(i.$$.fragment)},m(s,u){X(e,s,u),k(s,n,u),X(i,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&1048578&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&1048579&&(c.$$scope={dirty:u,ctx:s}),!o&&u&8&&(o=!0,c.open=s[3],Xt(()=>o=!1)),i.$set(c)},i(s){r||(C(e.$$.fragment,s),C(i.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(i.$$.fragment,s),r=!1},d(s){s&&w(n),Z(e,s),Z(i,s)}}}function Is(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function ty(t,e,n){let i,o;se(t,we,I=>n(1,i=I)),se(t,ai,I=>n(3,o=I));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let I=[],V=Rv.filter(L=>!i.lab.past_experiments.some(F=>F.id===L.id));for(let L=0;L<3;L++){let F=V[Math.floor(Math.random()*V.length)];F.cost=Math.floor(Math.random()*(F.cost*.35)+F.cost*.8),I.push(F)}return I=I.filter((L,F)=>I.indexOf(L)===F),I=I.filter(L=>L),n(8,u=!0),I}function c(I){if(i.townInfo.gold<I.cost){alert("You do not have enough gold to purchase this experiment.");return}ye(we,i.townInfo.gold-=I.cost,i),ye(we,i.lab.active_experiment=I,i),i.lab.past_experiments.push(I)}function d(){var I;switch(ye(ai,o=!1,o),n(2,s=!0),(I=i.lab.active_experiment)===null||I===void 0?void 0:I.id){case"sunshine":ye(we,i.modifiers.happiness=50,i);break;case"antibiotics":ye(we,i.modifiers.health=50,i);break;case"goodbye_carrots":m("carrot_farm");break;case"missing_treasure":ye(we,i.townInfo.gold+=Math.floor(Math.random()*i.lab.active_experiment.cost*2),i);break;case"tax_relief":ye(we,i.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*i.economyAndLaws.max_tax_rate,i);break;case"coffee_boost_tourism":ye(we,i.townInfo.gold+=5e3,i),ye(we,i.townInfo.gold_from_tourism+=1e4,i);break;case"bee_bonanza":m("coffee_bean_farm");break;case"wheat_whirlwind":m("wheat_farm"),ye(we,i.townInfo.happiness*=1.5,i),ye(we,i.modifiers.happiness+=3,i);break;case"aquatic_overachievers":m("fishery"),ye(we,i.townInfo.gold_from_tourism+=3e4,i);break;case"educational_eclipse":m("small_school"),m("large_school"),ye(we,i.townInfo.knowledge_points*=.8,i);break;case"education_grant":ye(we,i.townInfo.knowledge_points*=1.5,i),ye(we,i.townInfo.gold+=15e4,i);break}ye(we,i.lab.active_experiment.duration=-1,i)}function h(){let I=i;I.lab.xp+=Math.round(I.lab.active_experiment.cost*(Math.random()*2+.5)),I.lab.active_experiment=null,n(2,s=!1),ye(we,i=I,i)}function m(I){let V=mn(I,i);for(let L=0;L<V.length;L++)wi(V[L].x,V[L].y,i)}const _=()=>{h()},b=()=>{d()},y=I=>{I.cost<i.townInfo.gold&&c(I)};function N(I){o=I,ai.set(o)}return t.$$.update=()=>{t.$$.dirty&387&&(i?(a=!0,n(0,l=u==!1?f():l),(n(7,r=i.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,i,s,o,c,d,h,r,u,_,b,y,N]}class ny extends he{constructor(e){super(),pe(this,e,ty,ey,le,{})}}function Es(t){let e,n,i,o;const r=[oy,iy],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Te()},m(s,u){l[e].m(s,u),k(s,i,u),o=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&w(i),l[e].d(s)}}}function iy(t){let e,n,i,o,r,l,a,s,u,f,c,d,h,m,_,b,y,N,I,V,L,F=t[2]==!0&&Ms();return n=new wm({}),o=new lm({}),l=new l_({}),s=new M_({}),f=new nv({}),d=new ny({}),b=new Qh({}),{c(){F&&F.c(),e=U(),Q(n.$$.fragment),i=U(),Q(o.$$.fragment),r=U(),Q(l.$$.fragment),a=U(),Q(s.$$.fragment),u=U(),Q(f.$$.fragment),c=U(),Q(d.$$.fragment),h=U(),m=O("div"),_=O("div"),Q(b.$$.fragment),y=U(),N=O("br"),I=U(),V=O("style"),V.textContent=`#plot_grid {
				overflow-x: scroll;
				overflow-y: scroll;
				scroll-behavior: smooth;
			}
			/* no visible scrollbars */
			#plot_grid::-webkit-scrollbar {
				display: none;
			}

			html {
				overflow: scroll;
			}

			::-webkit-scrollbar {
				width: 0px;
				background: transparent; /* make scrollbar transparent */
			}`,q(_,"id","plot_grid"),hn(_,"margin-top",t[3]+"px"),q(_,"class","scroll-smooth no-scrollbar overflow-x "),q(m,"class","justify-center text-center align-middle <!-- center horiz --> flex ")},m(R,B){F&&F.m(R,B),k(R,e,B),X(n,R,B),k(R,i,B),X(o,R,B),k(R,r,B),X(l,R,B),k(R,a,B),X(s,R,B),k(R,u,B),X(f,R,B),k(R,c,B),X(d,R,B),k(R,h,B),k(R,m,B),M(m,_),X(b,_,null),M(_,y),M(_,N),k(R,I,B),k(R,V,B),L=!0},p(R,B){R[2]==!0?F?B&4&&C(F,1):(F=Ms(),F.c(),C(F,1),F.m(e.parentNode,e)):F&&(Pe(),S(F,1,1,()=>{F=null}),Oe()),(!L||B&8)&&hn(_,"margin-top",R[3]+"px")},i(R){L||(C(F),C(n.$$.fragment,R),C(o.$$.fragment,R),C(l.$$.fragment,R),C(s.$$.fragment,R),C(f.$$.fragment,R),C(d.$$.fragment,R),C(b.$$.fragment,R),L=!0)},o(R){S(F),S(n.$$.fragment,R),S(o.$$.fragment,R),S(l.$$.fragment,R),S(s.$$.fragment,R),S(f.$$.fragment,R),S(d.$$.fragment,R),S(b.$$.fragment,R),L=!1},d(R){R&&(w(e),w(i),w(r),w(a),w(u),w(c),w(h),w(m),w(I),w(V)),F&&F.d(R),Z(n,R),Z(o,R),Z(l,R),Z(s,R),Z(f,R),Z(d,R),Z(b)}}}function oy(t){let e,n;return e=new w_({}),{c(){Q(e.$$.fragment)},m(i,o){X(e,i,o),n=!0},p:_e,i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Ms(t){let e,n;return e=new Xm({}),{c(){Q(e.$$.fragment)},m(i,o){X(e,i,o),n=!0},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function ry(t){let e,n,i=(t[1]||t[0]==null)&&Es(t);return{c(){i&&i.c(),e=Te()},m(o,r){i&&i.m(o,r),k(o,e,r),n=!0},p(o,[r]){o[1]||o[0]==null?i?(i.p(o,r),r&3&&C(i,1)):(i=Es(o),i.c(),C(i,1),i.m(e.parentNode,e)):i&&(Pe(),S(i,1,1,()=>{i=null}),Oe())},i(o){n||(C(i),n=!0)},o(o){S(i),n=!1},d(o){o&&w(e),i&&i.d(o)}}}function ly(t,e,n){let i,o,r,l,a,s;se(t,_n,h=>n(6,i=h)),se(t,Ke,h=>n(7,o=h)),se(t,Ct,h=>n(2,r=h)),se(t,we,h=>n(0,l=h)),se(t,Bn,h=>n(8,a=h)),se(t,ho,h=>n(3,s=h));let u=!1;Zm();let f=!1;window.addEventListener("resize",()=>{window.innerWidth<800&&alert("Your screen is too small to play this game. Please use a larger screen.")}),document.addEventListener("keydown",h=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&h.key!=="Escape")return;switch(h.key.toLowerCase()){case"p":r==!0?Ct.set(!1):(Ct.set(!0),ye(Ke,o.visible=!1,o));break;case"escape":h.shiftKey?(ye(Ct,r=!0,r),localStorage.setItem("reset","true"),location.reload(),Ko()):o.visible==!0&&ye(Ke,o.visible=!1,o);break;case"arrowleft":case"a":h.preventDefault(),c(0,-1,"up");break;case"arrowright":case"d":h.preventDefault(),c(0,1,"down");break;case"arrowup":case"w":h.preventDefault(),c(-1,0,"left");break;case"arrowdown":case"s":h.preventDefault(),c(1,0,"right");break}});function c(h,m,_){if(o.visible===!1&&o.x===0&&o.y===0)d(0,0,_);else{let b=o.x,y=o.y;b+h<0?b=0:b+h>l.plots.length?b=l.plots.length:b+=h,y+m<0?y=0:y+m>l.plots.length?y=l.plots.length:y+=m,d(b,y,_)}}function d(h,m,_){if(f==!0)switch(_){case"up":m-=2;break;case"down":m+=1;break;case"left":h-=2;break;case"right":h+=1;break}h<0?h=0:h>l.plots.length&&(h=l.plots.length),m<0?m=0:m>l.plots.length&&(m=l.plots.length);let b=document.querySelectorAll(".plot_container"),y;if(b.forEach(N=>{N.dataset.x=="$x"&&N.dataset.y=="$y"&&(y=N)}),r==!1){if(y.dataset.canBeUpgraded==="true"?ye(Ke,o.visible=!0,o):ye(Ke,o.visible=!1,o),y.dataset.refPlotX!==void 0&&y.dataset.refPlotY!=""?(f=!0,b.forEach(N=>{N.dataset.x==y.dataset.refPlotX&&N.dataset.y==y.dataset.refPlotY&&(y=N,h=parseInt(y.dataset.x),m=parseInt(y.dataset.y))})):f=!1,y.dataset.size!=="1"&&y.dataset.size!==void 0&&(f=!0),ye(Ke,o.x=h,o),ye(Ke,o.y=m,o),b.forEach(N=>{N.classList.remove("selected"),N.style.fontWeight=""}),y.classList.add("selected"),f){let N="4px solid #00800045";y.classList.remove("selected"),y.style.borderTop=N,y.style.borderLeft=N,y.style.fontWeight="600",b.forEach(I=>{const V=parseInt(`${I.dataset.x}`),L=parseInt(`${I.dataset.y}`);V==h+1&&L==m&&(I.style.borderLeft=N,I.style.borderBottom=N),V==h&&L==m+1&&(I.style.borderTop=N,I.style.borderRight=N),V==h+1&&L==m+1&&(I.style.borderBottom=N,I.style.borderRight=N)})}y.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),ye(_n,i={},i)}}return t.$$.update=()=>{t.$$.dirty&1&&(l?(ye(Bn,a.visible=!1,a),n(1,u=!0)):(ye(Bn,a.visible=!0,a),n(1,u=!1)))},[l,u,r,s,d]}class sy extends he{constructor(e){super(),pe(this,e,ly,ry,le,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new sy({target:document.getElementById("app")});
