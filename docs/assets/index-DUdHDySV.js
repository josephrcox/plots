var Xd=Object.defineProperty;var Jd=(t,e,n)=>e in t?Xd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var dn=(t,e,n)=>(Jd(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function xd(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Zd(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function Qd(){let t=localStorage.getItem("plots_active_game_db");const e=await xd(t);console.log("http://localhost:5173/plots/?shareId="+e)}const Kr=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(Kr.shareId!=null||Kr.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(Zd(Kr.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),Qd();function Ae(){}const vr=t=>t;function Y(t,e){for(const n in e)t[n]=e[n];return t}function dc(t){return t()}function Vs(){return Object.create(null)}function je(t){t.forEach(dc)}function Cn(t){return typeof t=="function"}function fe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ti;function zd(t,e){return t===e?!0:(Ti||(Ti=document.createElement("a")),Ti.href=e,t===Ti.href)}function em(t){return Object.keys(t).length===0}function jl(t,...e){if(t==null){for(const o of e)o(void 0);return Ae}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function mc(t){let e;return jl(t,n=>e=n)(),e}function ae(t,e,n){t.$$.on_destroy.push(jl(e,n))}function me(t,e,n,o){if(t){const i=pc(t,e,n,o);return t[0](i)}}function pc(t,e,n,o){return t[1]&&o?Y(n.ctx.slice(),t[1](o(e))):n.ctx}function pe(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function _e(t,e,n,o,i,r){if(i){const l=pc(e,n,o,r);t.p(l,i)}}function he(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Ee(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function re(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Pe(t,e,n){return t.set(n),e}function Fe(t){return t&&Cn(t.destroy)?t.destroy:Ae}const _c=typeof window<"u";let Bl=_c?()=>window.performance.now():()=>Date.now(),Gl=_c?t=>requestAnimationFrame(t):Ae;const lo=new Set;function hc(t){lo.forEach(e=>{e.c(t)||(lo.delete(e),e.f())}),lo.size!==0&&Gl(hc)}function Vl(t){let e;return lo.size===0&&Gl(hc),{promise:new Promise(n=>{lo.add(e={c:t,f:n})}),abort(){lo.delete(e)}}}function v(t,e){t.appendChild(e)}function gc(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function tm(t){const e=O("style");return e.textContent="/* empty */",nm(gc(t),e),e.sheet}function nm(t,e){return v(t.head||t,e),e.sheet}function I(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function wt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function O(t){return document.createElement(t)}function yr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function G(t){return document.createTextNode(t)}function W(){return G(" ")}function De(){return G("")}function ee(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function M(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const om=["width","height"];function le(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&om.indexOf(o)===-1?t[o]=e[o]:M(t,o,e[o])}function Ki(t,e){for(const n in e)M(t,n,e[n])}function im(t,e){Object.keys(e).forEach(n=>{rm(t,n,e[n])})}function rm(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:M(t,e,n)}function bn(t){return/-/.test(t)?im:le}function lm(t){return Array.from(t.childNodes)}function se(t,e){e=""+e,t.data!==e&&(t.data=e)}function zt(t,e){t.value=e??""}function Je(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Hs(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function mn(t,e,n){t.classList.toggle(e,!!n)}function bc(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class pn{constructor(e=!1){dn(this,"is_svg",!1);dn(this,"e");dn(this,"n");dn(this,"t");dn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=yr(n.nodeName):this.e=O(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)I(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(T)}}const Ui=new Map;let Yi=0;function sm(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function am(t,e){const n={stylesheet:tm(e),rules:{}};return Ui.set(t,n),n}function Xi(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let y=0;y<=1;y+=s){const b=e+(n-e)*r(y);u+=y*100+`%{${l(b,1-b)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${sm(f)}_${a}`,d=gc(t),{stylesheet:p,rules:h}=Ui.get(d)||am(d,t);h[c]||(h[c]=!0,p.insertRule(`@keyframes ${c} ${f}`,p.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${o}ms linear ${i}ms 1 both`,Yi+=1,c}function Ji(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),Yi-=i,Yi||um())}function um(){Gl(()=>{Yi||(Ui.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&T(e)}),Ui.clear())})}let Uo;function Wo(t){Uo=t}function ei(){if(!Uo)throw new Error("Function called outside component initialization");return Uo}function wr(t){ei().$$.on_mount.push(t)}function fm(t){ei().$$.on_destroy.push(t)}function cm(){const t=ei();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=bc(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function kr(t,e){return ei().$$.context.set(t,e),e}function Cr(t){return ei().$$.context.get(t)}function ne(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const oo=[],Oe=[];let so=[];const dl=[],vc=Promise.resolve();let ml=!1;function yc(){ml||(ml=!0,vc.then(wc))}function Hl(){return yc(),vc}function tt(t){so.push(t)}function Gn(t){dl.push(t)}const Ur=new Set;let zn=0;function wc(){if(zn!==0)return;const t=Uo;do{try{for(;zn<oo.length;){const e=oo[zn];zn++,Wo(e),dm(e.$$)}}catch(e){throw oo.length=0,zn=0,e}for(Wo(null),oo.length=0,zn=0;Oe.length;)Oe.pop()();for(let e=0;e<so.length;e+=1){const n=so[e];Ur.has(n)||(Ur.add(n),n())}so.length=0}while(oo.length);for(;dl.length;)dl.pop()();ml=!1,Ur.clear(),Wo(t)}function dm(t){if(t.fragment!==null){t.update(),je(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(tt)}}function mm(t){const e=[],n=[];so.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),so=e}let No;function Wl(){return No||(No=Promise.resolve(),No.then(()=>{No=null})),No}function Pn(t,e,n){t.dispatchEvent(bc(`${e?"intro":"outro"}${n}`))}const qi=new Set;let Ht;function Te(){Ht={r:0,c:[],p:Ht}}function Ie(){Ht.r||je(Ht.c),Ht=Ht.p}function C(t,e){t&&t.i&&(qi.delete(t),t.i(e))}function S(t,e,n,o){if(t&&t.o){if(qi.has(t))return;qi.add(t),Ht.c.push(()=>{qi.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const $l={duration:0};function Xt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&Ji(t,l)}function f(){const{delay:d=0,duration:p=300,easing:h=vr,tick:_=Ae,css:y}=i||$l;y&&(l=Xi(t,0,1,p,d,h,y,s++)),_(0,1);const b=Bl()+d,A=b+p;a&&a.abort(),r=!0,tt(()=>Pn(t,!0,"start")),a=Vl(w=>{if(r){if(w>=A)return _(1,0),Pn(t,!0,"end"),u(),r=!1;if(w>=b){const E=h((w-b)/p);_(E,1-E)}}return r})}let c=!1;return{start(){c||(c=!0,Ji(t),Cn(i)?(i=i(o),Wl().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function Jt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=Ht;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=vr,tick:p=Ae,css:h}=i||$l;h&&(l=Xi(t,1,0,c,f,d,h));const _=Bl()+f,y=_+c;tt(()=>Pn(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),Vl(b=>{if(r){if(b>=y)return p(0,1),Pn(t,!1,"end"),--a.r||je(a.c),!1;if(b>=_){const A=d((b-_)/c);p(1-A,A)}}return r})}return Cn(i)?Wl().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&Ji(t,l),r=!1)}}}function Kt(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&Ji(t,u)}function d(h,_){const y=h.b-l;return _*=Math.abs(y),{a:l,b:h.b,d:y,duration:_,start:h.start,end:h.start+_,group:h.group}}function p(h){const{delay:_=0,duration:y=300,easing:b=vr,tick:A=Ae,css:w}=r||$l,E={start:Bl()+_,b:h};h||(E.group=Ht,Ht.r+=1),"inert"in t&&(h?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=E:(w&&(c(),u=Xi(t,l,h,y,_,b,w)),h&&A(0,1),a=d(E,y),tt(()=>Pn(t,h,"start")),Vl(V=>{if(s&&V>s.start&&(a=d(s,y),s=null,Pn(t,a.b,"start"),w&&(c(),u=Xi(t,l,a.b,a.duration,0,b,r.css))),a){if(V>=a.end)A(l=a.b,1-l),Pn(t,a.b,"end"),s||(a.b?c():--a.group.r||je(a.group.c)),a=null;else if(V>=a.start){const N=V-a.start;l=a.a+a.d*b(N/a.duration),A(l,1-l)}}return!!(a||s)}))}return{run(h){Cn(r)?Wl().then(()=>{r=r({direction:h?"in":"out"}),p(h)}):p(h)},end(){c(),a=s=null}}}function Ue(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function pm(t,e){S(t,1,1,()=>{e.delete(t.key)})}function _m(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,p=r.length,h=d;const _={};for(;h--;)_[t[h].key]=h;const y=[],b=new Map,A=new Map,w=[];for(h=p;h--;){const $=c(i,r,h),B=n($);let q=l.get(B);q?w.push(()=>q.p($,e)):(q=u(B,$),q.c()),b.set(B,y[h]=q),B in _&&A.set(B,Math.abs(h-_[B]))}const E=new Set,V=new Set;function N($){C($,1),$.m(a,f),l.set($.key,$),f=$.first,p--}for(;d&&p;){const $=y[p-1],B=t[d-1],q=$.key,X=B.key;$===B?(f=$.first,d--,p--):b.has(X)?!l.has(q)||E.has(q)?N($):V.has(X)?d--:A.get(q)>A.get(X)?(V.add(q),N($)):(E.add(X),d--):(s(B,l),d--)}for(;d--;){const $=t[d];b.has($.key)||s($,l)}for(;p;)N(y[p-1]);return je(w),y}function ve(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function rt(t){return typeof t=="object"&&t!==null?t:{}}function Vn(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function z(t){t&&t.c()}function Z(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),tt(()=>{const r=t.$$.on_mount.map(dc).filter(Cn);t.$$.on_destroy?t.$$.on_destroy.push(...r):je(r),t.$$.on_mount=[]}),i.forEach(tt)}function Q(t,e){const n=t.$$;n.fragment!==null&&(mm(n.after_update),je(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function hm(t,e){t.$$.dirty[0]===-1&&(oo.push(t),yc(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ye(t,e,n,o,i,r,l=null,a=[-1]){const s=Uo;Wo(t);const u=t.$$={fragment:null,ctx:[],props:r,update:Ae,not_equal:i,bound:Vs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Vs(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...p)=>{const h=p.length?p[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=h)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](h),f&&hm(t,c)),d}):[],u.update(),f=!0,je(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=lm(e.target);u.fragment&&u.fragment.l(c),c.forEach(T)}else u.fragment&&u.fragment.c();e.intro&&C(t.$$.fragment),Z(t,e.target,e.anchor),wc()}Wo(s)}class we{constructor(){dn(this,"$$");dn(this,"$$set")}$destroy(){Q(this,1),this.$destroy=Ae}$on(e,n){if(!Cn(n))return Ae;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!em(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const gm="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(gm);const eo=[];function Mn(t,e){return{subscribe:Ke(t,e).subscribe}}function Ke(t,e=Ae){let n;const o=new Set;function i(a){if(fe(t,a)&&(t=a,n)){const s=!eo.length;for(const u of o)u[1](),eo.push(u,t);if(s){for(let u=0;u<eo.length;u+=2)eo[u][0](eo[u+1]);eo.length=0}}}function r(a){i(a(t))}function l(a,s=Ae){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||Ae),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function ln(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Mn(n,(l,a)=>{let s=!1;const u=[];let f=0,c=Ae;const d=()=>{if(f)return;c();const h=e(o?u[0]:u,l,a);r?l(h):c=Cn(h)?h:Ae},p=i.map((h,_)=>jl(h,y=>{u[_]=y,f&=~(1<<_),s&&d()},()=>{f|=1<<_}));return s=!0,d(),function(){je(p),c(),s=!1}})}function Ws(t){return{subscribe:t.subscribe.bind(t)}}const bm={plots:[],timeSpent:0,devMode:!1,lastChangeDay:0,townLog:"",currentTutorialStep:0,townInfo:{name:"Your town",gold:150,gold_from_tourism:0,population_count:0,population_max:0,employees:0,happiness:150,health:150,community:150,knowledge_points:0,productivity:100},resources:{food:50,wood:300,stone:300,metal:0,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0}},vm={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]},Kl={0:"Easy",1:"Normal",2:"Hard"},ym={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},wm={0:.35,1:.25,2:.25},ie=[{id:"small_homes",title:"🏠 Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0}},{id:"farm",title:"🥕 Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:6,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0},check_for_variety:!1},{id:"tree_farm",title:"🌲 Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,enables_tourism:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:15,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"quarry",title:"⛏️ Quarry",type:"quarry",description:"Produces stone, small amounts of metal",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:25,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"livestock_farm",title:"🐄 Livestock",type:"farm",description:"Farm. Makes more money and food than a regular farm",revenue_per_week:42,requirements:{gold:300,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0},check_for_variety:!1},{id:"bakery",title:"🥖 Bakery",type:"business",description:"Sells baked goods, increases happiness at the cost of a little health.",revenue_per_week:40,requirements:{gold:500,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:30,stone:30,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"stables",title:"🐴 Stables",type:"business",description:"Makes money and people happy by providing horse rides.",revenue_per_week:24,requirements:{gold:400,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:120,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:1.02,community:1},immediate_variable_changes:{happiness:5,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"church",title:"⛪️ Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:500,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:350,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:1,community:1},immediate_variable_changes:{happiness:50,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"pub",title:"🍻 Pub",type:"recreation",description:"Increases knowledge, happiness, community. Isn't great for health.",revenue_per_week:40,knowledge_points_per_month:1,requirements:{gold:500,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.93,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"village_market",title:"🛒 Village Market",type:"business",description:"Sells goods and employs many. ",revenue_per_week:100,requirements:{gold:800,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:150,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"fishery",title:"🐠 Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:500,plots:[],employees:9,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:0,metal:50,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:50,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"neighborhood",title:"🏘️ Neighborhood",type:"residential",description:"+64 people",revenue_per_week:0,requirements:{gold:700,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1,community:1.1},immediate_variable_changes:{happiness:0,health:0,population:64,community:0,bureaucracy:0},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"vineyard",title:"🍇 Vineyard",type:"farm",description:"Makes a lot of money, lowers health. Generates knowledge too.",revenue_per_week:95,requirements:{gold:700,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"water_wheel",title:"💧 Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:200,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:50,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"park",title:"🎪 Park",type:"recreation",description:"Makes people extremely happy & healthy for a period.",revenue_per_week:0,requirements:{gold:800,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:20,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:2,community:1},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"village_inn",title:"🛌 Village Inn",type:"tourism",description:"Enables tourism revenue",revenue_per_week:23,requirements:{gold:1500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:1,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"schoolhouse",title:"🏫 Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:2e3,plots:[],employees:20,knowledge:0,size:1,xp:0,resources:{food:0,wood:500,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1.1,community:1},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:50,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"blacksmith",title:"⚒️ Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:500,requirements:{gold:3e3,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:10,bureaucracy:0}},{id:"library",title:"📕 Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:15,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:225,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"lumber_mill",title:"🏭 Lumber Mill",type:"industrial",description:"Increases wood production by 25%, has to be next to a tree farm",revenue_per_week:0,requirements:{gold:4e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:100,metal:0,power:5,bureaucracy:0},adjacent_plots:["tree_farm"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"general_store",title:"🛒 General Store",type:"business",description:"Makes the most money, requires power",revenue_per_week:600,requirements:{gold:5e3,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:200,metal:0,power:5,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:20,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!1,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"healing_house",title:"🏥 Healing House",type:"medical",description:"Raises health, requires wood, stone, metals",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e4,plots:[],employees:18,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:1e3,metal:2e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.25,health:1.5,community:1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"community_center",title:"🫶 Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:19e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:200,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.09,health:1,community:1},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"town_hall",title:"🗳️ Town Hall",type:"federal",description:"Governing, generates Bureaucracy, costs a lot of money to run",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:25e3,plots:[],employees:18,knowledge:500,size:1,xp:0,resources:{food:0,wood:450,stone:450,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.92,health:1,community:1.1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:4,active_costs:{gold:1e3,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"mine",title:"⛏️ Mine",type:"mine",description:"Produces metal and gold, requires power",revenue_per_week:0,requirements:{gold:3e4,plots:[],employees:64,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:1e3,metal:50,power:15,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:125,metal:10,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"academy",title:"🏫 Academy",type:"education",description:"Produces a lot of knowledge, requires high population",revenue_per_week:0,knowledge_points_per_month:90,requirements:{gold:3e4,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:500,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"bank",title:"🏦 Bank",type:"bank",description:"Rich get richer. Converts tourism gold to gold, knowledge to gold.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:75e3,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:75,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"lab",title:"🧪 Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:1e5,plots:[],employees:24,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:0,stone:1e3,metal:3e3,power:15,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:1250,power:75,wood:0,stone:0,metal:0,bureaucracy:0}}],Eo={empty_unusable:"rgba(21, 40, 20, 0.70)",empty_buildable:"#CBB827",residential:"#de7633",farm:"#6b8f49",lumber:"#8E805C",business:"#9273a5",recreation:"#5277b1",shop:"#d896d8",tourism:"#d896d8",education:"#BFBEEB",medical:"#4a5ba3",bank:"#8477be",federal:"#8477be",science:"#4a5ba3",mine:"#d9874a",quarry:"#868685",industrial:"#868615"};function xi(t,e=!1){if(t<0)return t==-1?e?Eo.empty_buildable:Eo.empty_unusable:t==-2?Eo.recreation:Eo.empty_unusable;const n=ie[t];return Eo[n.type]}const $s={lab:1,city_hall:1,bank:1,community_center:1,inn:1},Mt="plots_active_game_db",Yo="plots_user_db";function km(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let Re=Ke(JSON.parse(localStorage.getItem(Mt)||"null")),nn=Ke(JSON.parse(localStorage.getItem(Yo)||"null"));Sm();function Cm(t,e,n,o){let i={...bm};i.economyAndLaws.max_tax_rate=ym[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:km(),i.difficulty=parseInt(t),o&&(i.devMode=!0,i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const l=t=="0"?8:t=="1"?12:t=="2"?16:1,a=Math.floor(Math.random()*l/2)+1,s=Math.floor(Math.random()*l/2)+1;for(let u=0;u<l;u++){r.push([]);for(let f=0;f<l;f++){const c=Am(u,f,l);r[u][f]={id:Math.random().toString(36).substring(2,9),active:!1,x:u,y:f,type:c?-9:-1,typeId:"",mineralSource:c?!1:a===u&&s===f,water:a===u&&s===f?!1:c}}}i.plots=r,localStorage.reset=!1,localStorage.setItem(Mt,JSON.stringify(i)),Re.set(i),location.reload()}function Am(t,e,n){let o=.06;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=5),t==0&&e==0&&(o=0),Math.random()<o}function Sm(){if(localStorage.getItem(Yo)===null){let t=vm;t.username="my_username_click_to_change",localStorage.setItem(Yo,JSON.stringify(t)),nn.set(t)}}function Ks(t,e){var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var o=Math.round(t)/n;return+o.toFixed(e)}function Zi(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=ie[o].immediate_variable_changes.population,n.townInfo.population_max-=ie[o].immediate_variable_changes.population,n.townInfo.happiness-=ie[o].immediate_variable_changes.happiness,n.townInfo.health-=ie[o].immediate_variable_changes.health,n.modifiers.happiness=Ks(n.modifiers.happiness/ie[o].effect_modifiers.happiness,2),n.modifiers.health=Ks(n.modifiers.health/ie[o].effect_modifiers.health,2),n.townInfo.employees-=ie[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(ie[o].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&Zi(r,l,n);n.lastChangeDay=n.environment.day,Re.set(n),localStorage.setItem(Mt,JSON.stringify(n))}function ot(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(ie[e.plots[o][i].type].id===t||ie[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function Ul(t=null){localStorage.removeItem(Mt),Re.set(null),t&&(localStorage.setItem(Mt,JSON.stringify(t)),Re.set(t)),location.reload()}function Tm(){kc.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}let Ze=Ke({visible:!1,x:0,y:0,isMineralSource:!1}),$o=Ke({visible:!1});function Im(t){nn.set(t),localStorage.setItem(Yo,JSON.stringify(t))}let fo=Ke({}),ji=Ke(!1),Pt=Ke(!1),pl=Ke(!0),Us=Ke(!1),Qi=Ke(!1),zi=Ke(!1),Bi=Ke(!1),er=localStorage.getItem("showCompletedAchievements")==="true"?Ke(!0):Ke(!1),kc=localStorage.getItem("showOnlyAffordable")==="true"?Ke(!0):Ke(!1),Cc=localStorage.getItem("pauseMenuTab")==="game"?Ke("game"):Ke("achievements"),_l=Ke(750);const ut={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},pt={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}},et=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"😍",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"📌",check:t=>ot("small_school",t).length!==0||ot("large_school",t).length!==0||ot("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"﹩",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"💵",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"🐌",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"🏦",check:t=>ot("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"❤️",check:t=>ot("community_center",t).length!==0,prize:1e4},{id:"tourist_town",title:"Tourist Town",description:"Reach $50,000 in tourism gold without converting to gold.",requirements:"",icon:"🏝️",check:t=>t.townInfo.gold_from_tourism>=5e4,prize:5e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"💰",check:t=>t.townInfo.gold>=1e6,prize:15e4}],Lt=[{message:"My liege, we need places to live! Build the first homes.",isComplete:t=>t.townInfo.population_max>0,goldReward:250},{message:"My liege, the village is going to run out of food soon. Build some farms. ",isComplete:t=>t.townInfo.employees>0,goldReward:500},{message:"My liege, lumber is needed for most buildings. Build a tree farm. ",isComplete:t=>ot("tree_farm",t).length>0,goldReward:500},{message:"My liege, for the village to be successful, everyone needs a job. ",isComplete:t=>t.townInfo.employees>=t.townInfo.population_count,goldReward:500},{message:"My liege, the village will need stone and metals to expand. Build a quarry. ",isComplete:t=>ot("quarry",t).length>0,goldReward:1e3},{message:"My liege, things are picking up but we will need far more money. Get weekly revenue to >=75 gold. ",isComplete:t=>t.economyAndLaws.weeklyProfit>=75,goldReward:1e3},{message:"My liege, many of the townspeople have kids that need an education. Build a schoolhouse.",isComplete:t=>ot("schoolhouse",t).length>0,goldReward:850},{message:"My liege, the village is growing - woohoo! But we need to have more workers. Get the population to 100.",isComplete:t=>t.townInfo.population_count>=100,goldReward:1500},{message:"My liege, as the town grows, we need a lot more knowledge. Get to 250 knowledge.  ",isComplete:t=>t.townInfo.knowledge_points>=250,goldReward:1500},{message:"My liege, some advanced buildings require power. Start generating power with a waterwheel.",isComplete:t=>t.resources.power>0,goldReward:2e3},{message:"My liege, we need more metals. Find a good spot for a mine and build it. ",isComplete:t=>ot("mine",t).length>0,goldReward:2e3}];function Ac(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Ac(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Om(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Ac(t))&&(o&&(o+=" "),o+=e);return o}const Yl="-";function Pm(t){const e=Nm(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split(Yl);return a[0]===""&&a.length!==1&&a.shift(),Sc(a,e)||Mm(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function Sc(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?Sc(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(Yl);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const Ys=/^\[(.+)\]$/;function Mm(t){if(Ys.test(t)){const e=Ys.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function Nm(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return Rm(Object.entries(t.classGroups),n).forEach(([r,l])=>{hl(l,o,r,e)}),o}function hl(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Xs(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(Em(i)){hl(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{hl(l,Xs(e,r),n,o)})})}function Xs(t,e){let n=t;return e.split(Yl).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function Em(t){return t.isThemeGetter}function Rm(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function Dm(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const Tc="!";function Lm(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let _=0;_<l.length;_++){let y=l[_];if(s===0){if(y===o&&(n||l.slice(_,_+i)===e)){a.push(l.slice(u,_)),u=_+i;continue}if(y==="/"){f=_;continue}}y==="["?s++:y==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(Tc),p=d?c.substring(1):c,h=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:h}}}function Fm(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function qm(t){return{cache:Dm(t.cacheSize),splitModifiers:Lm(t),...Pm(t)}}const jm=/\s+/;function Bm(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(jm).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const p=Fm(a).join(":");return{isTailwindClass:!0,modifierId:s?p+Tc:p,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Gm(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Ic(e))&&(o&&(o+=" "),o+=n);return o}function Ic(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=Ic(t[o]))&&(n&&(n+=" "),n+=e);return n}function gl(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=qm(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=Bm(s,n);return i(s,f),f}return function(){return r(Gm.apply(null,arguments))}}function Xe(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const Oc=/^\[(?:([a-z-]+):)?(.+)\]$/i,Vm=/^\d+\/\d+$/,Hm=new Set(["px","full","screen"]),Wm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$m=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Km=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Um=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ym=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Zt(t){return In(t)||Hm.has(t)||Vm.test(t)}function _n(t){return bo(t,"length",tp)}function In(t){return!!t&&!Number.isNaN(Number(t))}function Ii(t){return bo(t,"number",In)}function Ro(t){return!!t&&Number.isInteger(Number(t))}function Xm(t){return t.endsWith("%")&&In(t.slice(0,-1))}function qe(t){return Oc.test(t)}function hn(t){return Wm.test(t)}const Jm=new Set(["length","size","percentage"]);function xm(t){return bo(t,Jm,Pc)}function Zm(t){return bo(t,"position",Pc)}const Qm=new Set(["image","url"]);function zm(t){return bo(t,Qm,op)}function ep(t){return bo(t,"",np)}function Do(){return!0}function bo(t,e,n){const o=Oc.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function tp(t){return $m.test(t)&&!Km.test(t)}function Pc(){return!1}function np(t){return Um.test(t)}function op(t){return Ym.test(t)}function bl(){const t=Xe("colors"),e=Xe("spacing"),n=Xe("blur"),o=Xe("brightness"),i=Xe("borderColor"),r=Xe("borderRadius"),l=Xe("borderSpacing"),a=Xe("borderWidth"),s=Xe("contrast"),u=Xe("grayscale"),f=Xe("hueRotate"),c=Xe("invert"),d=Xe("gap"),p=Xe("gradientColorStops"),h=Xe("gradientColorStopPositions"),_=Xe("inset"),y=Xe("margin"),b=Xe("opacity"),A=Xe("padding"),w=Xe("saturate"),E=Xe("scale"),V=Xe("sepia"),N=Xe("skew"),$=Xe("space"),B=Xe("translate"),q=()=>["auto","contain","none"],X=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",qe,e],g=()=>[qe,e],k=()=>["",Zt,_n],R=()=>["auto",In,qe],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],x=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",qe],m=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[In,Ii],H=()=>[In,qe];return{cacheSize:500,separator:":",theme:{colors:[Do],spacing:[Zt,_n],blur:["none","",hn,qe],brightness:D(),borderColor:[t],borderRadius:["none","","full",hn,qe],borderSpacing:g(),borderWidth:k(),contrast:D(),grayscale:J(),hueRotate:H(),invert:J(),gap:g(),gradientColorStops:[t],gradientColorStopPositions:[Xm,_n],inset:P(),margin:P(),opacity:D(),padding:g(),saturate:D(),scale:D(),sepia:J(),skew:H(),space:g(),translate:g()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[hn]}],"break-after":[{"break-after":m()}],"break-before":[{"break-before":m()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),qe]}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ro,qe]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",Ro,qe]}],"grid-cols":[{"grid-cols":[Do]}],"col-start-end":[{col:["auto",{span:["full",Ro,qe]},qe]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Do]}],"row-start-end":[{row:["auto",{span:[Ro,qe]},qe]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...x()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...x(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...x(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,e]}],"min-w":[{"min-w":[qe,e,"min","max","fit"]}],"max-w":[{"max-w":[qe,e,"none","full","min","max","fit","prose",{screen:[hn]},hn]}],h:[{h:[qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",hn,_n]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ii]}],"font-family":[{font:[Do]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",In,Ii]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zt,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zt,_n]}],"underline-offset":[{"underline-offset":["auto",Zt,qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:g()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),Zm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:L()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Zt,qe]}],"outline-w":[{outline:[Zt,_n]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Zt,_n]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",hn,ep]}],"shadow-color":[{shadow:[Do]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":K()}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",hn,qe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[w]}],sepia:[{sepia:[V]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Ro,qe]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":g()}],"scroll-mx":[{"scroll-mx":g()}],"scroll-my":[{"scroll-my":g()}],"scroll-ms":[{"scroll-ms":g()}],"scroll-me":[{"scroll-me":g()}],"scroll-mt":[{"scroll-mt":g()}],"scroll-mr":[{"scroll-mr":g()}],"scroll-mb":[{"scroll-mb":g()}],"scroll-ml":[{"scroll-ml":g()}],"scroll-p":[{"scroll-p":g()}],"scroll-px":[{"scroll-px":g()}],"scroll-py":[{"scroll-py":g()}],"scroll-ps":[{"scroll-ps":g()}],"scroll-pe":[{"scroll-pe":g()}],"scroll-pt":[{"scroll-pt":g()}],"scroll-pr":[{"scroll-pr":g()}],"scroll-pb":[{"scroll-pb":g()}],"scroll-pl":[{"scroll-pl":g()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Zt,_n,Ii]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function ip(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){Gi(t,"cacheSize",e),Gi(t,"prefix",n),Gi(t,"separator",o);for(const l in r)rp(t[l],r[l]);for(const l in i)lp(t[l],i[l]);return t}function Gi(t,e,n){n!==void 0&&(t[e]=n)}function rp(t,e){if(e)for(const n in e)Gi(t,n,e[n])}function lp(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function sp(t,...e){return typeof t=="function"?gl(bl,t,...e):gl(()=>ip(bl(),t),...e)}const Mc=gl(bl);function ap(t){const e=t-1;return e*e*e+1}function Le(...t){return Mc(Om(t))}const Ar=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:ap}};function it(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function Yr(t){return t<10?"0"+t:t}function up(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${Yr(o)}:${Yr(n)}:${Yr(e)}`}function Se(t){return ie.findIndex(e=>e.id===t)}function Js(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function En(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function co(t){return t.charAt(0).toUpperCase()+t.slice(1)}function xs(t,e=!0){return t=it(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function Rn(t,e,n){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let o=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let i=0;i<o.length;i++){let r=o[i][0],l=o[i][1];if(r>=0&&r<n.plots.length&&l>=0&&l<n.plots[0].length&&n.plots[r][l].water&&n.plots[t][e].active==!0&&n.plots[t][e].type>0&&ie[n.plots[t][e].type].type=="farm")return!0}return!1}function fp(t,e,n,o){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],r=!0;for(let l=0;l<o.length;l++){let a=!1;if(o[l]=="water"&&Rn(t,e,n)){a=!0;break}for(let s=0;s<i.length;s++){let u=i[s][0],f=i[s][1];if(u>=0&&u<n.plots.length&&f>=0&&f<n.plots[0].length&&n.plots[u][f].active==!0&&n.plots[u][f].type>0&&ie[n.plots[u][f].type].id==o[l]){a=!0;break}}if(!a){r=!1;break}}return r}function cp(t,e=0){let n=t*.85,o=t*1.15;return it(Math.random()*(o-n)+n,e)}const Zs=30;function dp(t){let e=!0;for(let n=0;n<t.plots.length;n++)for(let o=0;o<t.plots[n].length;o++)if(t.plots[n][o].active==!1){e=!1;break}return e}function mp(t){return t.endGameDetails!=null||(t.townInfo.happiness<70&&t.last_warning_happiness+365<t.environment.day&&(alert("Your citizens are very unhappy. You should do something about it."),t.last_warning_happiness=t.environment.day),t.townInfo.health<70&&t.last_warning_health+365<t.environment.day&&(alert("Your citizens are very unhealthy. You should do something about it."),t.last_warning_health=t.environment.day)),t}function pp(t,e,n){return t.resource_rate.food=mt(n.food-e.food,2),t.resource_rate.wood=mt(n.wood-e.wood,2),t.resource_rate.stone=mt(n.stone-e.stone,2),t.resource_rate.metal=mt(n.metal-e.metal,2),t.resource_rate.bureaucracy=mt(n.bureaucracy-e.bureaucracy,2),t}function _p(t){return t.hasBank,t}function hp(t){return t.hasCityHall,t}function gp(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function vl(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function yl(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function bp(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t.townInfo.community*=t.modifiers.community,t}function Qs(t,e){let n=e.townInfo.happiness/100;n>2.25?n=2.25:n<.75&&(n=.75);let o=t*e.economyAndLaws.tax_rate*(e.townInfo.population_count/e.townInfo.population_max)*n;return mt(o,2)}function mt(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function vp(t,e,n){let o,i,r,l,a,s;ae(t,_l,m=>n(6,o=m)),ae(t,Re,m=>n(7,i=m)),ae(t,ji,m=>n(8,r=m)),ae(t,zi,m=>n(9,l=m)),ae(t,Pt,m=>n(10,a=m)),ae(t,nn,m=>n(11,s=m));function u(m){m=q(m),m=R(m),m=bp(m),m=P(m),m=L(m),m=h(m),m=gp(m),m=mp(m);const D={food:m.resources.food,wood:m.resources.wood,stone:m.resources.stone,metal:m.resources.metal,bureaucracy:m.resources.bureaucracy};m=b(m),m=A(m),m=w(m),m=y(m);const H={food:m.resources.food,wood:m.resources.wood,stone:m.resources.stone,metal:m.resources.metal,bureaucracy:m.resources.bureaucracy};return m=pp(m,D,H),m}function f(m){return m=x(m),m=_p(m),m=hp(m),m=_(m),m}function c(m){return m=g(m),m=yl(m),m=k(m),m=X(m),m}function d(m){return m=K(m),m=F(m),m=vl(m),m.overtime==!1&&(m=B(m),m=E(m)),m=$(m),m=V(m),m}function p(){Re.update(m=>{if(m==null||(m.tick++,m.tick%Zs!==0)||a||!m||m.endGameDetails.msg!==""&&m.overtime==!1||m.townInfo.population_count<=0)return m;try{return m.environment.day+=1,m.environment.day%7===0&&(m=u(m)),m.environment.day%30===0&&(m.townLog="",m=f(m)),m.environment.day%90===0&&(m=c(m)),window.location.search.includes("debug=true")&&console.log(m),m=d(m),m}catch(D){return console.error("Error in game loop:",D),m}})}Re.subscribe(m=>{m&&localStorage.setItem(Mt,JSON.stringify(m))}),nn.subscribe(m=>{m&&localStorage.setItem(Yo,JSON.stringify(m))});function h(m){let D=!1,H=!1,te=!1,oe=!1;for(let U=0;U<m.plots.length;U++)for(let ke=0;ke<m.plots[U].length;ke++)if(m.plots[U][ke].active==!0&&m.plots[U][ke].type>-1){let ce=ie[m.plots[U][ke].type].id;ce=="bank"&&(D=!0),ce=="city_hall"&&(te=!0),(ce=="small_hospital"||ce=="large_hospital")&&(H=!0),ce=="lab"&&(oe=!0)}return m.hasBank=D,m.hasHospital=H,m.hasCityHall=te,m.hasLab=oe,m}function _(m){const D=m.townInfo.productivity;let H=1;if(D>50&&D<100)H=1.08;else{if(D==100)return m;D>100&&D<125?H=.98:D>125&&D<150?H=.95:D>150&&D<175?H=.9:D>175&&D<200&&(H=.8)}const te=m.townInfo.happiness;return m.townInfo.happiness*=H,m=J(`Happiness has gone down by ${100-Math.round(m.townInfo.happiness/te*100)}% due to productivity.`,m),m}function y(m){const D=m.townInfo.population_count;return m.resources.food<D?(m.modifiers.happiness*=.95,m.modifiers.health*=.95,m=J("not enough food",m),m.resources.food=0):m.resources.food-=D,m.resources.food=Math.round(m.resources.food,2),m}function b(m){const D=m.townInfo.productivity;let H=1;D<50?H=.5:D>50&&D<100?H=.75:D==100?H=1:D>100&&D<125?H=1.25:D>125&&D<150?H=1.75:D>150&&D<175?H=3:D>175&&D<200&&(H=5),H=cp(H,2);let te=ot("lumber_mill",m).length*1.25;te===0&&(te=1);for(let oe=0;oe<m.plots.length;oe++)for(let U=0;U<m.plots[oe].length;U++)if(m.plots[oe][U].active==!0&&m.plots[oe][U].type>-1){let ke=Rn(oe,U,m),ce=ie[m.plots[oe][U].type];ce.generated_resources!=null&&(m.resources.food+=Math.round(ce.generated_resources.food*H)*(ke?2:1),m.resources.wood+=Math.round(ce.generated_resources.wood*H*te),m.resources.stone+=Math.round(ce.generated_resources.stone*H),m.resources.metal+=mt(ce.generated_resources.metal*H,2),m.resources.bureaucracy+=Math.round(ce.generated_resources.bureaucracy*H))}return m.resources.food=Math.round(m.resources.food,2),m.resources.wood=Math.round(m.resources.wood,2),m.resources.stone=Math.round(m.resources.stone,2),m.resources.metal=mt(m.resources.metal,2),m.resources.bureaucracy=Math.round(m.resources.bureaucracy,2),m}function A(m){for(let D=0;D<m.plots.length;D++)for(let H=0;H<m.plots[D].length;H++)if(m.plots[D][H].active==!0&&m.plots[D][H].type>-1){let te=ie[m.plots[D][H].type],oe=!1;Object.keys(te.active_costs).forEach((U,ke)=>{const ce=Object.values(te.active_costs)[ke];U!="power"&&(m.townInfo.gold,U=="gold"?m.townInfo.gold<ce?oe=!0:m.townInfo.gold-=ce:m.resources[U]<ce?oe=!0:m.resources[U]-=ce)}),m.plots[D][H].disabled=oe,m.plots[D][H].disabled&&(m.townInfo.happiness-=1),oe&&ie[m.plots[D][H].type].type=="residential"&&(m.townInfo.population_count-=1,m.townInfo.employees-=1)}return m}function w(m){let D=0;for(let H=0;H<m.plots.length;H++)for(let te=0;te<m.plots[H].length;te++)if(m.plots[H][te].active==!0&&m.plots[H][te].type>-1){let oe=ie[m.plots[H][te].type];oe.active_costs.power!=0&&(D-=oe.active_costs.power),oe.generated_resources.power!=0&&(D+=oe.generated_resources.power)}return m.resource_rate.power=D,m.resources.power=D,m}function E(m){if(m.endGoal=="land"&&m.townInfo.population_max==m.townInfo.population_count&&m.townInfo.happiness>=pt.land.requirements[m.difficulty].happiness&&m.townInfo.health>=pt.land.requirements[m.difficulty].health&&m.townInfo.employees/m.townInfo.population_count>=pt.land.requirements[m.difficulty].employment&&m.townInfo.population_count>pt.land.requirements[m.difficulty].population_count&&m.townInfo.knowledge_points>=pt.land.requirements[m.difficulty].knowledge){let H=!0;for(let oe=0;oe<pt.land.requirements[m.difficulty].required_plots.length;oe++){let U=pt.land.requirements[m.difficulty].required_plots[oe];if(ot(U,m)==!1){H=!1;break}}dp(m)&&H&&(m.endGameDetails={msg:pt.land.win,win:!0,still_playing:!1})}return m}function V(m){if(m.devMode)return m;let D=s;for(let H=0;H<et.length;H++)D.achievements.find(te=>te[0]==et[H].id)==null&&et[H].check(m)&&(D.achievements.push([et[H].id,m.environment.day,m.townInfo.name]),Pe(Pt,a=!0,a),Pe(zi,l=!0,l));return nn.update(()=>D),m}let N=!1;function $(m){if(N)return m;for(let D=m.currentTutorialStep;D<m.currentTutorialStep+1;D++)if(Lt[D].isComplete(m)){Pe(ji,r=!0,r),N=!0,setTimeout(()=>{Pe(ji,r=!1,r),m.currentTutorialStep++,m.townInfo.gold+=Lt[D].goldReward,N=!1},1e3);break}return console.log(m.currentTutorialStep),m}function B(m){return m.townInfo.happiness<=3&&(m.townInfo.happiness=0,m.endGameDetails={msg:ut.happiness_zero,win:!1,still_playing:!1}),m.townInfo.health<=3&&(m.townInfo.health=3,m.endGameDetails={msg:ut.health_zero,win:!1,still_playing:!1}),m.townInfo.population_count<=0&&m.townInfo.population_max>0&&(m.townInfo.population_count=0,m.endGameDetails={msg:ut.population_zero,win:!1,still_playing:!1}),m}function q(m){let D=m.townInfo.population_count-m.townInfo.employees;return D>0&&(m.modifiers.happiness-=D*4e-4,m=J(D+ut.unemployment_num,m)),m}function X(m){let D=m.plotCounts.reduce((te,oe)=>te+oe,0),H=!1;for(let te=0;te<m.plotCounts.length;te++)m.plotCounts[te]==null||ie[te].check_for_variety!=!0||m.plotCounts[te]/D>=wm[m.difficulty]&&(ie[te].title,H=!0);return H&&(m=J(ut.notEnoughVariety,m),m.modifiers.happiness*.95),m}function P(m){let D=m.townInfo.health,H=0;return D>50||D<Math.random()*50&&(D<25?(m=J(ut.sickAndDying,m),m.townInfo.happiness-=10,H=Math.round(m.townInfo.population_count*.1)):(m=J(ut.sickAndLeaving,m),m.townInfo.happiness-=5,H=Math.round(m.townInfo.population_count*.05)),m.townInfo.population_count-=H,m.townInfo.employees-=H),m}function g(m){return m.lastChangeDay+(Math.random()*500+180)<m.environment.day&&m.townInfo.population_count>0&&(m.townInfo.population_count>0&&(m.townInfo.population_count-=1,m.townInfo.employees-=1,m.modifiers.happiness-=.01),m=J(ut.bored,m)),m}function k(m){if(m.townInfo.population_count<m.townInfo.population_max&&m.townInfo.happiness>50){let D=m.townInfo.population_max-m.townInfo.population_count,H=Math.round(m.townInfo.happiness/100*D);m.townInfo.population_count+=H,m.townInfo.population_count>m.townInfo.population_max&&(m.townInfo.population_count=m.townInfo.population_max),m.townInfo.employees+=H,m.townInfo.employees>m.townInfo.population_count&&(m.townInfo.employees=m.townInfo.population_count),m=J(H+ut.new_people_num,m)}if(m.townInfo.happiness<50&&m.townInfo.population_count>0){let D=Math.round((100-m.townInfo.happiness)/5);m.townInfo.population_count-=D,m.townInfo.employees>0&&(m.townInfo.employees-=D),m=J(D+ut.leave_town_num,m)}else m.townInfo.population_count==m.townInfo.population_max;return m}function R(m){const D=Math.random();if(m.economyAndLaws.tax_rate>m.economyAndLaws.max_tax_rate&&m.townInfo.population_count>0){const H=m.difficulty==0?.7:m.difficulty==1?.4:.2;D<H&&m.economyAndLaws.tax_rate>m.economyAndLaws.max_tax_rate*2?(m.modifiers.happiness-=.02,m=J(ut.very_high_tax_rate+"  ("+m.economyAndLaws.tax_rate+"%)",m)):(m.modifiers.happiness-=.01,m=J(ut.high_tax_rate+"  ("+m.economyAndLaws.tax_rate*100+"%)",m))}return m}function F(m){return m.townInfo.happiness<0&&(m.townInfo.happiness=0),m.townInfo.health<0&&(m.townInfo.health=0),m.townInfo.gold<0&&(m.townInfo.gold=0),m.townInfo.employees<0&&(m.townInfo.employees=0),m.townInfo.knowledge_points<0&&(m.townInfo.knowledge_points=0),m.townInfo.population_count<0&&(m.townInfo.population_count=0),m.townInfo.population_max==0&&m.townLog.indexOf(ut.nobody_home)==-1&&(m=J(ut.nobody_home,m)),m.economyAndLaws.weeklyProfit=mt(m.economyAndLaws.weeklyProfit,0),m.townInfo.employees>m.townInfo.population_count&&(m.townInfo.employees=m.townInfo.population_count),m.townInfo.gold=mt(m.townInfo.gold,0),m.townInfo.population_count=mt(m.townInfo.population_count,0),m.townInfo.employees=mt(m.townInfo.employees,0),m.townInfo.population_max=mt(m.townInfo.population_max,0),m.townInfo.happiness=mt(m.townInfo.happiness,2),m.townInfo.health=mt(m.townInfo.health,2),m.townInfo.happiness>m.maximums.happiness&&(m.townInfo.happiness=m.maximums.happiness),m.townInfo.health>m.maximums.health&&(m.townInfo.health=m.maximums.health),m.modifiers.happiness<.5&&(m.modifiers.happiness=.5),m.modifiers.health<.5&&(m.modifiers.health=.5),m.modifiers.community<.5&&(m.modifiers.community=.5),m}function L(m){if(m.modifiers.happiness>1){let D=m.modifiers.happiness-1;m.modifiers.happiness-=D*.08,m.modifiers.happiness<1.05&&(m.modifiers.happiness=1)}if(m.modifiers.community>1){let D=m.modifiers.community-1;m.modifiers.community-=D*.08,m.modifiers.community<1.05&&(m.modifiers.community=1)}if(m.modifiers.health>1)if(ot("small_hospital",m).length>0||ot("large_hospital",m).length>0){if(console.log(ot("small_hospital",m).length),console.log(ot("large_hospital",m).length),m.townLog.indexOf(ut.hospital_advantage)==-1)return m=J(ut.hospital_advantage,m);let D=m.modifiers.health-1;m.modifiers.health-=D*ot("large_hospital",m)?.04:.06,m.modifiers.health<1.03&&(m.modifiers.health=1)}else{let D=m.modifiers.health-1;m.modifiers.health-=D*.08,m.modifiers.health<1.05&&(m.modifiers.health=1)}return m}function K(m){m.economyAndLaws.weeklyProfit=0;for(let D=0;D<m.plots.length;D++)for(let H=0;H<m.plots[D].length;H++)if(m.plots[D][H].active==!0&&m.plots[D][H].type>-1)if(m.plots[D][H].disabled===!0){const te=ie[m.plots[D][H].type],oe=Qs(te.revenue_per_week,m)*(m.townInfo.productivity/100)/7;m.townInfo.gold-=oe,m=J(`🚨 ${te.title} at ${H}, ${D} is disabled and costing you $${oe} a week!`,m)}else{const te=ie[m.plots[D][H].type];let oe=Qs(te.revenue_per_week,m)*(m.townInfo.productivity/100)/7,U=Rn(D,H,m);oe*=U?2:1,m.townInfo.gold+=oe,m.economyAndLaws.weeklyProfit+=oe*7,te.enables_tourism==!0&&(m.townInfo.gold_from_tourism+=te.tourism_revenue_per_week*m.economyAndLaws.tax_rate*m.townInfo.population_count)}return m}function x(m){for(let D=0;D<m.plots.length;D++)for(let H=0;H<m.plots[D].length;H++)if(m.plots[D][H].active==!0&&m.plots[D][H].type>-1){let te=ie[m.plots[D][H].type];te.knowledge_points_per_month!=null&&(m.townInfo.knowledge_points+=te.knowledge_points_per_month)}return m}function J(m,D){return D.townLog="Day "+i.environment.day+" - "+m+`
`+D.townLog,D}return wr(async()=>{for(;;)localStorage.reset=="true"&&(Ul(),localStorage.setItem("reset","false")),p(),await new Promise(m=>setTimeout(m,o/Zs))}),[p,vl,F,L,yl]}class yp extends we{constructor(e){super(),ye(this,e,vp,null,fe,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return vl}get _fixVariables(){return this.$$.ctx[2]}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return yl}}function wp(t){return t[t.length-1]}function gn(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function Xr(t){return t?!0:void 0}gn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function Nc(t){if(t!==null)return t}function zs(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function Jr(t){if(!Xo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return yt(e)?e:null}const jo=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),ea=t=>typeof t=="function";ct("empty");function ct(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return ln(n,a=>{const s=i(a);if(ea(s)){const u=(...f)=>jo({...s(...f),[`data-melt-${t}`]:"",action:o??xe});return u.action=o??xe,u}return jo({...s,[`data-melt-${t}`]:"",action:o??xe})});{const a=i,s=a==null?void 0:a();if(ea(s)){const u=(...f)=>jo({...s(...f),[`data-melt-${t}`]:"",action:o??xe});return u.action=o??xe,zs(u)}return zs(jo({...s,[`data-melt-${t}`]:"",action:o??xe}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function ta(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=ln(n,a=>o(a).map(s=>jo({...s,[`data-melt-${t}`]:"",action:i??xe}))),l=i??(()=>{});return l.subscribe=r,l}function Sr(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const Xo=typeof document<"u",Ec=t=>typeof t=="function";function kp(t){return t instanceof Document}function Tr(t){return t instanceof Element}function yt(t){return t instanceof HTMLElement}function na(t){return t.pointerType==="touch"}function Cp(t){return t!==null&&typeof t=="object"}function Ap(t){return Cp(t)&&"subscribe"in t}function Wt(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function xe(){}function _t(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function bt(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=Tp(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function Sp(t){const e=t.currentTarget;if(!yt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function Tp(t){return e=>{const n=Sp(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function Ir(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function tn(t){return{...t,get:()=>mc(t)}}tn.writable=function(t){const e=Ke(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};tn.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const Or=(t,e)=>{const n=tn(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function Xl(t){return new Promise(e=>setTimeout(e,t))}let Ip="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Op=(t=21)=>{let e="",n=t;for(;n--;)e+=Ip[Math.random()*64|0];return e};function Pp(){return Op(10)}function Jl(t){return t.reduce((e,n)=>(e[n]=Pp(),e),{})}const st={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Rc=()=>typeof window<"u";function Mp(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Dc=t=>Rc()&&t.test(Mp().toLowerCase()),Np=()=>Rc()&&!!navigator.maxTouchPoints,Ep=()=>Dc(/^mac/)&&!Np(),Rp=()=>Dc(/mac|iphone|ipad|ipod/i),Dp=()=>Rp()&&!Ep();function Lp(t){const e=t.slice();return e.sort(qp),Fp(e)}function Fp(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function qp(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function jp(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function Bp(t){const e=t.flatMap(n=>jp(n));return Lp(e)}function Gp(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const xr="data-melt-scroll-lock";function oa(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Vp(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function Hp(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Wp(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(xr))return xe;i.setAttribute(xr,"");const l=n.innerWidth-o.clientWidth,a=()=>Vp(o,"--scrollbar-width",`${l}px`),s=Hp(o),u=n.getComputedStyle(i)[s],f=()=>oa(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:p,scrollY:h,visualViewport:_}=n,y=(_==null?void 0:_.offsetLeft)??0,b=(_==null?void 0:_.offsetTop)??0,A=oa(i,{position:"fixed",overflow:"hidden",top:`${-(h-Math.floor(b))}px`,left:`${-(p-Math.floor(y))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{A==null||A(),n.scrollTo(p,h)}},d=[a(),Dp()?c():f()];return()=>{d.forEach(p=>p==null?void 0:p()),i.removeAttribute(xr)}}const $p=t=>{try{fm(t)}catch{return t}};function Ot(t,e){let n;const o=ln(t,r=>{n==null||n(),n=e(r)}).subscribe(xe),i=()=>{o(),n==null||n()};return $p(i),i}function Dn(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=tn(Ke(i))}),e}function Kp(t){let e=t.parentElement;for(;yt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Lc(t,e){return e!==void 0?e:Kp(t)==="body"?document.body:null}async function ia(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([Xl(1),Hl]),e===void 0){n==null||n.focus();return}const o=Ec(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!yt(i))return;i.focus()}else yt(o)&&o.focus()}function Zr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}Mn(void 0,t=>{function e(o){t(o),t(void 0)}return _t(document,"pointerup",e,{passive:!1,capture:!0})});const Up=Mn(void 0,t=>{function e(o){o&&o.key===st.ESCAPE&&t(o),t(void 0)}return _t(document,"keydown",e,{passive:!1})}),ra=(t,e={})=>{let n=xe;function o(i={}){n();const r={enabled:!0,...i},l=Ap(r.enabled)?r.enabled:Mn(r.enabled);n=Wt(Up.subscribe(a=>{var u;if(!a||!mc(l))return;const s=a.target;if(!(!yt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(Ec(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Ot(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},vn=Math.min,Ct=Math.max,tr=Math.round,Oi=Math.floor,yn=t=>({x:t,y:t}),Yp={left:"right",right:"left",bottom:"top",top:"bottom"},Xp={start:"end",end:"start"};function wl(t,e,n){return Ct(t,vn(e,n))}function vo(t,e){return typeof t=="function"?t(e):t}function wn(t){return t.split("-")[0]}function yo(t){return t.split("-")[1]}function Fc(t){return t==="x"?"y":"x"}function xl(t){return t==="y"?"height":"width"}function ti(t){return["top","bottom"].includes(wn(t))?"y":"x"}function Zl(t){return Fc(ti(t))}function Jp(t,e,n){n===void 0&&(n=!1);const o=yo(t),i=Zl(t),r=xl(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=nr(l)),[l,nr(l)]}function xp(t){const e=nr(t);return[kl(t),e,kl(e)]}function kl(t){return t.replace(/start|end/g,e=>Xp[e])}function Zp(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function Qp(t,e,n,o){const i=yo(t);let r=Zp(wn(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(kl)))),r}function nr(t){return t.replace(/left|right|bottom|top/g,e=>Yp[e])}function zp(t){return{top:0,right:0,bottom:0,left:0,...t}}function qc(t){return typeof t!="number"?zp(t):{top:t,right:t,bottom:t,left:t}}function or(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function la(t,e,n){let{reference:o,floating:i}=t;const r=ti(e),l=Zl(e),a=xl(l),s=wn(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let p;switch(s){case"top":p={x:f,y:o.y-i.height};break;case"bottom":p={x:f,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:c};break;case"left":p={x:o.x-i.width,y:c};break;default:p={x:o.x,y:o.y}}switch(yo(e)){case"start":p[l]-=d*(n&&u?-1:1);break;case"end":p[l]+=d*(n&&u?-1:1);break}return p}const e_=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=la(u,o,s),d=o,p={},h=0;for(let _=0;_<a.length;_++){const{name:y,fn:b}=a[_],{x:A,y:w,data:E,reset:V}=await b({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:p,rects:u,platform:l,elements:{reference:t,floating:e}});f=A??f,c=w??c,p={...p,[y]:{...p[y],...E}},V&&h<=50&&(h++,typeof V=="object"&&(V.placement&&(d=V.placement),V.rects&&(u=V.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):V.rects),{x:f,y:c}=la(u,d,s)),_=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:p}};async function Ql(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:p=0}=vo(e,t),h=qc(p),y=a[d?c==="floating"?"reference":"floating":c],b=or(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(y)))==null||n?y:y.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),A=c==="floating"?{...l.floating,x:o,y:i}:l.reference,w=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),E=await(r.isElement==null?void 0:r.isElement(w))?await(r.getScale==null?void 0:r.getScale(w))||{x:1,y:1}:{x:1,y:1},V=or(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:w,strategy:s}):A);return{top:(b.top-V.top+h.top)/E.y,bottom:(V.bottom-b.bottom+h.bottom)/E.y,left:(b.left-V.left+h.left)/E.x,right:(V.right-b.right+h.right)/E.x}}const t_=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=vo(t,e)||{};if(u==null)return{};const c=qc(f),d={x:n,y:o},p=Zl(i),h=xl(p),_=await l.getDimensions(u),y=p==="y",b=y?"top":"left",A=y?"bottom":"right",w=y?"clientHeight":"clientWidth",E=r.reference[h]+r.reference[p]-d[p]-r.floating[h],V=d[p]-r.reference[p],N=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let $=N?N[w]:0;(!$||!await(l.isElement==null?void 0:l.isElement(N)))&&($=a.floating[w]||r.floating[h]);const B=E/2-V/2,q=$/2-_[h]/2-1,X=vn(c[b],q),P=vn(c[A],q),g=X,k=$-_[h]-P,R=$/2-_[h]/2+B,F=wl(g,R,k),L=!s.arrow&&yo(i)!=null&&R!==F&&r.reference[h]/2-(R<g?X:P)-_[h]/2<0,K=L?R<g?R-g:R-k:0;return{[p]:d[p]+K,data:{[p]:F,centerOffset:R-F-K,...L&&{alignmentOffset:K}},reset:L}}}),n_=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:_=!0,...y}=vo(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const b=wn(i),A=wn(a)===a,w=await(s.isRTL==null?void 0:s.isRTL(u.floating)),E=d||(A||!_?[nr(a)]:xp(a));!d&&h!=="none"&&E.push(...Qp(a,_,h,w));const V=[a,...E],N=await Ql(e,y),$=[];let B=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&$.push(N[b]),c){const g=Jp(i,l,w);$.push(N[g[0]],N[g[1]])}if(B=[...B,{placement:i,overflows:$}],!$.every(g=>g<=0)){var q,X;const g=(((q=r.flip)==null?void 0:q.index)||0)+1,k=V[g];if(k)return{data:{index:g,overflows:B},reset:{placement:k}};let R=(X=B.filter(F=>F.overflows[0]<=0).sort((F,L)=>F.overflows[1]-L.overflows[1])[0])==null?void 0:X.placement;if(!R)switch(p){case"bestFit":{var P;const F=(P=B.map(L=>[L.placement,L.overflows.filter(K=>K>0).reduce((K,x)=>K+x,0)]).sort((L,K)=>L[1]-K[1])[0])==null?void 0:P[0];F&&(R=F);break}case"initialPlacement":R=a;break}if(i!==R)return{reset:{placement:R}}}return{}}}};async function o_(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=wn(n),a=yo(n),s=ti(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=vo(e,t);let{mainAxis:d,crossAxis:p,alignmentAxis:h}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof h=="number"&&(p=a==="end"?h*-1:h),s?{x:p*f,y:d*u}:{x:d*u,y:p*f}}const i_=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await o_(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},r_=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:y=>{let{x:b,y:A}=y;return{x:b,y:A}}},...s}=vo(t,e),u={x:n,y:o},f=await Ql(e,s),c=ti(wn(i)),d=Fc(c);let p=u[d],h=u[c];if(r){const y=d==="y"?"top":"left",b=d==="y"?"bottom":"right",A=p+f[y],w=p-f[b];p=wl(A,p,w)}if(l){const y=c==="y"?"top":"left",b=c==="y"?"bottom":"right",A=h+f[y],w=h-f[b];h=wl(A,h,w)}const _=a.fn({...e,[d]:p,[c]:h});return{..._,data:{x:_.x-n,y:_.y-o}}}}},l_=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=vo(t,e),s=await Ql(e,a),u=wn(n),f=yo(n),c=ti(n)==="y",{width:d,height:p}=o.floating;let h,_;u==="top"||u==="bottom"?(h=u,_=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(_=u,h=f==="end"?"top":"bottom");const y=p-s[h],b=d-s[_],A=!e.middlewareData.shift;let w=y,E=b;if(c){const N=d-s.left-s.right;E=f||A?vn(b,N):N}else{const N=p-s.top-s.bottom;w=f||A?vn(y,N):N}if(A&&!f){const N=Ct(s.left,0),$=Ct(s.right,0),B=Ct(s.top,0),q=Ct(s.bottom,0);c?E=d-2*(N!==0||$!==0?N+$:Ct(s.left,s.right)):w=p-2*(B!==0||q!==0?B+q:Ct(s.top,s.bottom))}await l({...e,availableWidth:E,availableHeight:w});const V=await i.getDimensions(r.floating);return d!==V.width||p!==V.height?{reset:{rects:!0}}:{}}}};function kn(t){return jc(t)?(t.nodeName||"").toLowerCase():"#document"}function St(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function sn(t){var e;return(e=(jc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jc(t){return t instanceof Node||t instanceof St(t).Node}function on(t){return t instanceof Element||t instanceof St(t).Element}function Ut(t){return t instanceof HTMLElement||t instanceof St(t).HTMLElement}function sa(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof St(t).ShadowRoot}function ni(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Nt(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function s_(t){return["table","td","th"].includes(kn(t))}function zl(t){const e=es(),n=Nt(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function a_(t){let e=mo(t);for(;Ut(e)&&!Pr(e);){if(zl(e))return e;e=mo(e)}return null}function es(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pr(t){return["html","body","#document"].includes(kn(t))}function Nt(t){return St(t).getComputedStyle(t)}function Mr(t){return on(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function mo(t){if(kn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||sa(t)&&t.host||sn(t);return sa(e)?e.host:e}function Bc(t){const e=mo(t);return Pr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ut(e)&&ni(e)?e:Bc(e)}function Jo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Bc(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=St(i);return r?e.concat(l,l.visualViewport||[],ni(i)?i:[],l.frameElement&&n?Jo(l.frameElement):[]):e.concat(i,Jo(i,[],n))}function Gc(t){const e=Nt(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Ut(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=tr(n)!==r||tr(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function ts(t){return on(t)?t:t.contextElement}function ao(t){const e=ts(t);if(!Ut(e))return yn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=Gc(e);let l=(r?tr(n.width):n.width)/o,a=(r?tr(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const u_=yn(0);function Vc(t){const e=St(t);return!es()||!e.visualViewport?u_:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function f_(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==St(t)?!1:e}function Ln(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=ts(t);let l=yn(1);e&&(o?on(o)&&(l=ao(o)):l=ao(t));const a=f_(r,n,o)?Vc(r):yn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=St(r),p=o&&on(o)?St(o):o;let h=d,_=h.frameElement;for(;_&&o&&p!==h;){const y=ao(_),b=_.getBoundingClientRect(),A=Nt(_),w=b.left+(_.clientLeft+parseFloat(A.paddingLeft))*y.x,E=b.top+(_.clientTop+parseFloat(A.paddingTop))*y.y;s*=y.x,u*=y.y,f*=y.x,c*=y.y,s+=w,u+=E,h=St(_),_=h.frameElement}}return or({width:f,height:c,x:s,y:u})}const c_=[":popover-open",":modal"];function Hc(t){return c_.some(e=>{try{return t.matches(e)}catch{return!1}})}function d_(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=sn(o),a=e?Hc(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=yn(1);const f=yn(0),c=Ut(o);if((c||!c&&!r)&&((kn(o)!=="body"||ni(l))&&(s=Mr(o)),Ut(o))){const d=Ln(o);u=ao(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function m_(t){return Array.from(t.getClientRects())}function Wc(t){return Ln(sn(t)).left+Mr(t).scrollLeft}function p_(t){const e=sn(t),n=Mr(t),o=t.ownerDocument.body,i=Ct(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=Ct(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+Wc(t);const a=-n.scrollTop;return Nt(o).direction==="rtl"&&(l+=Ct(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function __(t,e){const n=St(t),o=sn(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=es();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function h_(t,e){const n=Ln(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=Ut(t)?ao(t):yn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function aa(t,e,n){let o;if(e==="viewport")o=__(t,n);else if(e==="document")o=p_(sn(t));else if(on(e))o=h_(e,n);else{const i=Vc(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return or(o)}function $c(t,e){const n=mo(t);return n===e||!on(n)||Pr(n)?!1:Nt(n).position==="fixed"||$c(n,e)}function g_(t,e){const n=e.get(t);if(n)return n;let o=Jo(t,[],!1).filter(a=>on(a)&&kn(a)!=="body"),i=null;const r=Nt(t).position==="fixed";let l=r?mo(t):t;for(;on(l)&&!Pr(l);){const a=Nt(l),s=zl(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ni(l)&&!s&&$c(t,l))?o=o.filter(f=>f!==l):i=a,l=mo(l)}return e.set(t,o),o}function b_(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?g_(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=aa(e,f,i);return u.top=Ct(c.top,u.top),u.right=vn(c.right,u.right),u.bottom=vn(c.bottom,u.bottom),u.left=Ct(c.left,u.left),u},aa(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function v_(t){const{width:e,height:n}=Gc(t);return{width:e,height:n}}function y_(t,e,n){const o=Ut(e),i=sn(e),r=n==="fixed",l=Ln(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=yn(0);if(o||!o&&!r)if((kn(e)!=="body"||ni(i))&&(a=Mr(e)),o){const c=Ln(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=Wc(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function ua(t,e){return!Ut(t)||Nt(t).position==="fixed"?null:e?e(t):t.offsetParent}function Kc(t,e){const n=St(t);if(!Ut(t)||Hc(t))return n;let o=ua(t,e);for(;o&&s_(o)&&Nt(o).position==="static";)o=ua(o,e);return o&&(kn(o)==="html"||kn(o)==="body"&&Nt(o).position==="static"&&!zl(o))?n:o||a_(t)||n}const w_=async function(t){const e=this.getOffsetParent||Kc,n=this.getDimensions;return{reference:y_(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function k_(t){return Nt(t).direction==="rtl"}const C_={convertOffsetParentRelativeRectToViewportRelativeRect:d_,getDocumentElement:sn,getClippingRect:b_,getOffsetParent:Kc,getElementRects:w_,getClientRects:m_,getDimensions:v_,getScale:ao,isElement:on,isRTL:k_};function A_(t,e){let n=null,o;const i=sn(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const p=Oi(f),h=Oi(i.clientWidth-(u+c)),_=Oi(i.clientHeight-(f+d)),y=Oi(u),A={rootMargin:-p+"px "+-h+"px "+-_+"px "+-y+"px",threshold:Ct(0,vn(1,s))||1};let w=!0;function E(V){const N=V[0].intersectionRatio;if(N!==s){if(!w)return l();N?l(!1,N):o=setTimeout(()=>{l(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(E,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,A)}n.observe(t)}return l(!0),r}function S_(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=ts(t),f=i||r?[...u?Jo(u):[],...Jo(e)]:[];f.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),r&&b.addEventListener("resize",n)});const c=u&&a?A_(u,n):null;let d=-1,p=null;l&&(p=new ResizeObserver(b=>{let[A]=b;A&&A.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),n()}),u&&!s&&p.observe(u),p.observe(e));let h,_=s?Ln(t):null;s&&y();function y(){const b=Ln(t);_&&(b.x!==_.x||b.y!==_.y||b.width!==_.width||b.height!==_.height)&&n(),_=b,h=requestAnimationFrame(y)}return n(),()=>{var b;f.forEach(A=>{i&&A.removeEventListener("scroll",n),r&&A.removeEventListener("resize",n)}),c==null||c(),(b=p)==null||b.disconnect(),p=null,s&&cancelAnimationFrame(h)}}const T_=r_,I_=n_,O_=l_,P_=t_,M_=(t,e,n)=>{const o=new Map,i={platform:C_,...n},r={...i.platform,_c:o};return e_(t,e,{...i,platform:r})},N_={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},E_={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function R_(t,e,n={}){if(!e||!t||n===null)return{destroy:xe};const o={...N_,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push(I_({boundary:o.boundary,padding:o.overflowPadding}));const l=yt(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(i_(s))}r.push(T_({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(P_({element:i,padding:8})),r.push(O_({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;M_(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),yt(i)&&f.middlewareData.arrow){const{x:p,y:h}=f.middlewareData.arrow,_=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:p!=null?`${p}px`:"",top:h!=null?`${h}px`:"",[_]:`calc(100% - ${l}px)`,transform:E_[_],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:S_(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Uc=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ir=Uc.join(","),Yc=typeof Element>"u",Fn=Yc?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,rr=!Yc&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},lr=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},D_=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},Xc=function(e,n,o){if(lr(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(ir));return n&&Fn.call(e,ir)&&i.unshift(e),i=i.filter(o),i},Jc=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!lr(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=Fn.call(l,ir);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!lr(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var p=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,p):i.push({scopeParent:l,candidates:p})}else r.unshift.apply(r,l.children)}}return i},xc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Tn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||D_(e))&&!xc(e)?0:e.tabIndex},L_=function(e,n){var o=Tn(e);return o<0&&n&&!xc(e)?0:o},F_=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Zc=function(e){return e.tagName==="INPUT"},q_=function(e){return Zc(e)&&e.type==="hidden"},j_=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},B_=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},G_=function(e){if(!e.name)return!0;var n=e.form||rr(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=B_(i,e.form);return!r||r===e},V_=function(e){return Zc(e)&&e.type==="radio"},H_=function(e){return V_(e)&&!G_(e)},W_=function(e){var n,o=e&&rr(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=rr(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},fa=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},$_=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Fn.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Fn.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=rr(e);if(s&&!s.shadowRoot&&i(s)===!0)return fa(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(W_(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return fa(e);return!1},K_=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return Fn.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},sr=function(e,n){return!(n.disabled||lr(n)||q_(n)||$_(n,e)||j_(n)||K_(n))},Cl=function(e,n){return!(H_(n)||Tn(n)<0||!sr(e,n))},U_=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Y_=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=L_(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(F_).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},X_=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Jc([e],n.includeContainer,{filter:Cl.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:U_}):o=Xc(e,n.includeContainer,Cl.bind(null,n)),Y_(o)},J_=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Jc([e],n.includeContainer,{filter:sr.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=Xc(e,n.includeContainer,sr.bind(null,n)),o},to=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Fn.call(e,ir)===!1?!1:Cl(n,e)},x_=Uc.concat("iframe").join(","),Qr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Fn.call(e,x_)===!1?!1:sr(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ca(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ca(Object(n),!0).forEach(function(o){Z_(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Z_(t,e,n){return e=z_(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q_(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z_(t){var e=Q_(t,"string");return typeof e=="symbol"?e:String(e)}var ma={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},eh=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},th=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Ko=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},nh=function(e){return Ko(e)&&!e.shiftKey},oh=function(e){return Ko(e)&&e.shiftKey},pa=function(e){return setTimeout(e,0)},_a=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},Lo=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},Pi=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},ih=[],rh=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||ih,r=da({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:nh,isKeyBackward:oh},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(g,k,R){return g&&g[k]!==void 0?g[k]:r[R||k]},u=function(g,k){var R=typeof(k==null?void 0:k.composedPath)=="function"?k.composedPath():void 0;return l.containerGroups.findIndex(function(F){var L=F.container,K=F.tabbableNodes;return L.contains(g)||(R==null?void 0:R.includes(L))||K.find(function(x){return x===g})})},f=function(g){var k=r[g];if(typeof k=="function"){for(var R=arguments.length,F=new Array(R>1?R-1:0),L=1;L<R;L++)F[L-1]=arguments[L];k=k.apply(void 0,F)}if(k===!0&&(k=void 0),!k){if(k===void 0||k===!1)return k;throw new Error("`".concat(g,"` was specified but was not a node, or did not return a node"))}var K=k;if(typeof k=="string"&&(K=o.querySelector(k),!K))throw new Error("`".concat(g,"` as selector refers to no known node"));return K},c=function(){var g=f("initialFocus");if(g===!1)return!1;if(g===void 0||!Qr(g,r.tabbableOptions))if(u(o.activeElement)>=0)g=o.activeElement;else{var k=l.tabbableGroups[0],R=k&&k.firstTabbableNode;g=R||f("fallbackFocus")}if(!g)throw new Error("Your focus-trap needs to have at least one focusable element");return g},d=function(){if(l.containerGroups=l.containers.map(function(g){var k=X_(g,r.tabbableOptions),R=J_(g,r.tabbableOptions),F=k.length>0?k[0]:void 0,L=k.length>0?k[k.length-1]:void 0,K=R.find(function(m){return to(m)}),x=R.slice().reverse().find(function(m){return to(m)}),J=!!k.find(function(m){return Tn(m)>0});return{container:g,tabbableNodes:k,focusableNodes:R,posTabIndexesFound:J,firstTabbableNode:F,lastTabbableNode:L,firstDomTabbableNode:K,lastDomTabbableNode:x,nextTabbableNode:function(D){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,te=k.indexOf(D);return te<0?H?R.slice(R.indexOf(D)+1).find(function(oe){return to(oe)}):R.slice(0,R.indexOf(D)).reverse().find(function(oe){return to(oe)}):k[te+(H?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(g){return g.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(g){return g.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function P(g){var k=g.activeElement;if(k)return k.shadowRoot&&k.shadowRoot.activeElement!==null?P(k.shadowRoot):k},h=function P(g){if(g!==!1&&g!==p(document)){if(!g||!g.focus){P(c());return}g.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=g,eh(g)&&g.select()}},_=function(g){var k=f("setReturnFocus",g);return k||(k===!1?!1:g)},y=function(g){var k=g.target,R=g.event,F=g.isBackward,L=F===void 0?!1:F;k=k||Pi(R),d();var K=null;if(l.tabbableGroups.length>0){var x=u(k,R),J=x>=0?l.containerGroups[x]:void 0;if(x<0)L?K=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:K=l.tabbableGroups[0].firstTabbableNode;else if(L){var m=_a(l.tabbableGroups,function(ke){var ce=ke.firstTabbableNode;return k===ce});if(m<0&&(J.container===k||Qr(k,r.tabbableOptions)&&!to(k,r.tabbableOptions)&&!J.nextTabbableNode(k,!1))&&(m=x),m>=0){var D=m===0?l.tabbableGroups.length-1:m-1,H=l.tabbableGroups[D];K=Tn(k)>=0?H.lastTabbableNode:H.lastDomTabbableNode}else Ko(R)||(K=J.nextTabbableNode(k,!1))}else{var te=_a(l.tabbableGroups,function(ke){var ce=ke.lastTabbableNode;return k===ce});if(te<0&&(J.container===k||Qr(k,r.tabbableOptions)&&!to(k,r.tabbableOptions)&&!J.nextTabbableNode(k))&&(te=x),te>=0){var oe=te===l.tabbableGroups.length-1?0:te+1,U=l.tabbableGroups[oe];K=Tn(k)>=0?U.firstTabbableNode:U.firstDomTabbableNode}else Ko(R)||(K=J.nextTabbableNode(k))}}else K=f("fallbackFocus");return K},b=function(g){var k=Pi(g);if(!(u(k,g)>=0)){if(Lo(r.clickOutsideDeactivates,g)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Lo(r.allowOutsideClick,g)||g.preventDefault()}},A=function(g){var k=Pi(g),R=u(k,g)>=0;if(R||k instanceof Document)R&&(l.mostRecentlyFocusedNode=k);else{g.stopImmediatePropagation();var F,L=!0;if(l.mostRecentlyFocusedNode)if(Tn(l.mostRecentlyFocusedNode)>0){var K=u(l.mostRecentlyFocusedNode),x=l.containerGroups[K].tabbableNodes;if(x.length>0){var J=x.findIndex(function(m){return m===l.mostRecentlyFocusedNode});J>=0&&(r.isKeyForward(l.recentNavEvent)?J+1<x.length&&(F=x[J+1],L=!1):J-1>=0&&(F=x[J-1],L=!1))}}else l.containerGroups.some(function(m){return m.tabbableNodes.some(function(D){return Tn(D)>0})})||(L=!1);else L=!1;L&&(F=y({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),h(F||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},w=function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=g;var R=y({event:g,isBackward:k});R&&(Ko(g)&&g.preventDefault(),h(R))},E=function(g){if(th(g)&&Lo(r.escapeDeactivates,g)!==!1){g.preventDefault(),a.deactivate();return}(r.isKeyForward(g)||r.isKeyBackward(g))&&w(g,r.isKeyBackward(g))},V=function(g){var k=Pi(g);u(k,g)>=0||Lo(r.clickOutsideDeactivates,g)||Lo(r.allowOutsideClick,g)||(g.preventDefault(),g.stopImmediatePropagation())},N=function(){if(l.active)return ma.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?pa(function(){h(c())}):h(c()),o.addEventListener("focusin",A,!0),o.addEventListener("mousedown",b,{capture:!0,passive:!1}),o.addEventListener("touchstart",b,{capture:!0,passive:!1}),o.addEventListener("click",V,{capture:!0,passive:!1}),o.addEventListener("keydown",E,{capture:!0,passive:!1}),a},$=function(){if(l.active)return o.removeEventListener("focusin",A,!0),o.removeEventListener("mousedown",b,!0),o.removeEventListener("touchstart",b,!0),o.removeEventListener("click",V,!0),o.removeEventListener("keydown",E,!0),a},B=function(g){var k=g.some(function(R){var F=Array.from(R.removedNodes);return F.some(function(L){return L===l.mostRecentlyFocusedNode})});k&&h(c())},q=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(B):void 0,X=function(){q&&(q.disconnect(),l.active&&!l.paused&&l.containers.map(function(g){q.observe(g,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(g){if(l.active)return this;var k=s(g,"onActivate"),R=s(g,"onPostActivate"),F=s(g,"checkCanFocusTrap");F||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,k==null||k();var L=function(){F&&d(),N(),X(),R==null||R()};return F?(F(l.containers.concat()).then(L,L),this):(L(),this)},deactivate:function(g){if(!l.active)return this;var k=da({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},g);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,$(),l.active=!1,l.paused=!1,X(),ma.deactivateTrap(i,a);var R=s(k,"onDeactivate"),F=s(k,"onPostDeactivate"),L=s(k,"checkCanReturnFocus"),K=s(k,"returnFocus","returnFocusOnDeactivate");R==null||R();var x=function(){pa(function(){K&&h(_(l.nodeFocusedBeforeActivation)),F==null||F()})};return K&&L?(L(_(l.nodeFocusedBeforeActivation)).then(x,x),this):(x(),this)},pause:function(g){if(l.paused||!l.active)return this;var k=s(g,"onPause"),R=s(g,"onPostPause");return l.paused=!0,k==null||k(),$(),X(),R==null||R(),this},unpause:function(g){if(!l.paused||!l.active)return this;var k=s(g,"onUnpause"),R=s(g,"onPostUnpause");return l.paused=!1,k==null||k(),d(),N(),X(),R==null||R(),this},updateContainerElements:function(g){var k=[].concat(g).filter(Boolean);return l.containers=k.map(function(R){return typeof R=="string"?o.querySelector(R):R}),l.active&&d(),X(),this}},a.updateContainerElements(e),a};function lh(t={}){let e;const{immediate:n,...o}=t,i=Ke(!1),r=Ke(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=rh(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:Ws(i),isPaused:Ws(r),activate:l,deactivate:a,pause:s,unpause:u}}const Mi=[];function sh(t,e){let n=xe;function o(){const r=Mi.indexOf(t);r>=0&&Mi.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;Xl(100).then(()=>{l?Mi.push(t):o()});function f(){return wp(Mi)===t}function c(){f()&&a&&(a(),o())}function d(h){const _=h.target;Tr(_)&&_&&f()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation())}function p(h){s!=null&&s(h)&&f()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation(),c())}n=ah(t,{onInteractOutsideStart:d,onInteractOutside:u?p:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const Qc=(t,e="body")=>{let n;if(!yt(e)&&typeof e!="string")return{destroy:xe};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Hl(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function ah(t,e){let n=xe,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function p(y){f&&ha(y,t)&&(c==null||c(y));const b=y.target;Tr(b)&&zc(t,b)&&(i=!0),o=!0}function h(y){f==null||f(y)}const _=uh(t);if(typeof PointerEvent<"u"){const y=b=>{a(b)&&h(b),s()};n=Wt(_t(_,"pointerdown",p,!0),_t(_,"pointerup",y,!0))}else{const y=A=>{r?r=!1:a(A)&&h(A),s()},b=A=>{r=!0,a(A)&&h(A),s()};n=Wt(_t(_,"mousedown",p,!0),_t(_,"mouseup",y,!0),_t(_,"touchstart",p,!0),_t(_,"touchend",b,!0))}}function a(u){return!!(o&&!i&&ha(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function ha(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!Tr(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!zc(e,n)}function zc(t,e){return t===e||t.contains(e)}function uh(t){return(t==null?void 0:t.ownerDocument)??document}Mn(!1),Mn(!1),Mn(void 0);function fh(){return{elements:{root:ct("label",{action:e=>({destroy:bt(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:An}=Sr("dialog"),ch={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},dh=["content","title","description"];function ed(t){const e={...ch,...t},n=Dn(Ir(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=tn.writable(null),p=Dn({...Jl(dh),...e.ids}),h=e.open??Ke(e.defaultOpen),_=Or(h,e==null?void 0:e.onOpenChange),y=ln([_,s],([P,g])=>P||g);let b=xe;function A(P){const g=P.currentTarget,k=P.currentTarget;!yt(g)||!yt(k)||(_.set(!0),d.set(k))}function w(){_.set(!1),ia({prop:f.get(),defaultEl:d.get()})}const E=ct(An("trigger"),{stores:[_],returned:([P])=>({"aria-haspopup":"dialog","aria-expanded":P,type:"button"}),action:P=>({destroy:Wt(bt(P,"click",k=>{A(k)}),bt(P,"keydown",k=>{k.key!==st.ENTER&&k.key!==st.SPACE||(k.preventDefault(),A(k))}))})}),V=ct(An("overlay"),{stores:[y,_],returned:([P,g])=>({hidden:P?void 0:!0,tabindex:-1,style:gn({display:P?void 0:"none"}),"aria-hidden":!0,"data-state":g?"open":"closed"}),action:P=>{let g=xe;if(i.get()){const k=ra(P,{handler:()=>{w()}});k&&k.destroy&&(g=k.destroy)}return{destroy(){g()}}}}),N=ct(An("content"),{stores:[y,p.content,p.description,p.title,_],returned:([P,g,k,R,F])=>({id:g,role:l.get(),"aria-describedby":k,"aria-labelledby":R,"aria-modal":P?"true":void 0,"data-state":F?"open":"closed",tabindex:-1,hidden:P?void 0:!0,style:gn({display:P?void 0:"none"})}),action:P=>{let g=xe,k=xe;const R=Wt(Ot([_],([F])=>{if(!F)return;const L=lh({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:P});g=L.activate,k=L.deactivate;const K=L.useFocusTrap(P);return K&&K.destroy?K.destroy:L.deactivate}),Ot([r,_],([F,L])=>sh(P,{open:L,closeOnInteractOutside:F,onClose(){w()},shouldCloseOnInteractOutside(K){var x;return(x=c.get())==null||x(K),!K.defaultPrevented}}).destroy),Ot([i],([F])=>{if(!F)return xe;const L=ra(P,{handler:()=>{w()}});return L&&L.destroy?L.destroy:xe}),Ot([y],([F])=>{Hl().then(()=>{F?g():k()})}));return{destroy:()=>{b(),R()}}}}),$=ct(An("portalled"),{stores:a,returned:P=>({"data-portal":Nc(P)}),action:P=>{const g=Ot([a],([k])=>{if(k===null)return xe;const R=Lc(P,k);if(R===null)return xe;const F=Qc(P,R);return F&&F.destroy?F.destroy:xe});return{destroy(){g()}}}}),B=ct(An("title"),{stores:[p.title],returned:([P])=>({id:P})}),q=ct(An("description"),{stores:[p.description],returned:([P])=>({id:P})}),X=ct(An("close"),{returned:()=>({type:"button"}),action:P=>({destroy:Wt(bt(P,"click",()=>{w()}),bt(P,"keydown",k=>{k.key!==st.SPACE&&k.key!==st.ENTER||(k.preventDefault(),w())}))})});return Ot([_,o],([P,g])=>{if(Xo){if(g&&P&&(b=Wp()),P){const k=document.getElementById(p.content.get());ia({prop:u.get(),defaultEl:k})}return()=>{s.get()||b()}}}),{ids:p,elements:{content:N,trigger:E,title:B,description:q,overlay:V,close:X,portalled:$},states:{open:_},options:n}}const mh={defaultValue:0,max:100},{name:ph}=Sr("progress"),_h=t=>{const e={...mh,...t},n=Dn(Ir(e,"value")),{max:o}=n,i=e.value??Ke(e.defaultValue),r=Or(i,e==null?void 0:e.onValueChange);return{elements:{root:ct(ph(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},hh={orientation:"horizontal",decorative:!1},gh=t=>{const e={...hh,...t},n=Dn(e),{orientation:o,decorative:i}=n;return{elements:{root:ct("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},bh={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:Ni}=Sr("slider"),vh=t=>{const e={...bh,...t},n=Dn(Ir(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??Ke(e.defaultValue),f=Or(u,e==null?void 0:e.onValueChange),c=tn(Ke(!1)),d=tn(Ke(0)),p=tn(Ke(null)),h=Jl(["root"]),_=($,B)=>{f.update(q=>{if(!q)return[$];if(q[B]===$)return q;const X=[...q],P=X[B]>$?-1:1;function g(){X[B]=X[B+P],X[B+P]=$;const L=y();L&&(L[B+P].focus(),p.set({thumb:L[B+P],index:B+P}))}if(P===-1&&$<X[B-1])return g(),X;if(P===1&&$>X[B+1])return g(),X;const k=o.get(),R=i.get(),F=r.get();return X[B]=Zr($,k,R,F),X})},y=()=>{const $=Jr(h.root);return $?Array.from($.querySelectorAll('[data-melt-part="thumb"]')).filter(B=>yt(B)):null},b=ln([o,i],([$,B])=>q=>(q-$)/(B-$)*100),A=tn.derived([l,a],([$,B])=>$==="horizontal"?B==="rtl"?"rl":"lr":B==="rtl"?"tb":"bt"),w=ct(Ni(),{stores:[s,l,a],returned:([$,B,q])=>({dir:q,disabled:Xr($),"data-disabled":Xr($),"data-orientation":B,style:$?void 0:`touch-action: ${B==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":h.root})}),E=ct(Ni("range"),{stores:[f,A,b],returned:([$,B,q])=>{const X=$.length>1?q(Math.min(...$)??0):0,P=100-q(Math.max(...$)??0),g={position:"absolute"};switch(B){case"lr":{g.left=`${X}%`,g.right=`${P}%`;break}case"rl":{g.right=`${X}%`,g.left=`${P}%`;break}case"bt":{g.bottom=`${X}%`,g.top=`${P}%`;break}case"tb":{g.top=`${X}%`,g.bottom=`${P}%`;break}}return{style:gn(g)}}}),V=ta(Ni("thumb"),{stores:[f,b,o,i,s,l,A],returned:([$,B,q,X,P,g,k])=>Array.from({length:$.length||1},(F,L)=>{d.get()<$.length&&d.update(D=>D+1);const x=$[L],J=`${B(x)}%`,m={position:"absolute"};switch(k){case"lr":{m.left=J,m.translate="-50% 0";break}case"rl":{m.right=J,m.translate="50% 0";break}case"bt":{m.bottom=J,m.translate="0 50%";break}case"tb":{m.top=J,m.translate="0 -50%";break}}return{role:"slider","aria-valuemin":q,"aria-valuemax":X,"aria-valuenow":x,"aria-disabled":Xr(P),"aria-orientation":g,"data-melt-part":"thumb","data-value":x,style:gn(m),tabindex:P?-1:0}}),action:$=>({destroy:bt($,"keydown",q=>{if(s.get())return;const X=q.currentTarget;if(!yt(X))return;const P=y();if(!(P!=null&&P.length))return;const g=P.indexOf(X);if(d.set(g),![st.ARROW_LEFT,st.ARROW_RIGHT,st.ARROW_UP,st.ARROW_DOWN,st.HOME,st.END].includes(q.key))return;q.preventDefault();const k=o.get(),R=i.get(),F=r.get(),L=f.get(),K=l.get(),x=A.get(),J=L[g];switch(q.key){case st.HOME:{_(k,g);break}case st.END:{_(R,g);break}case st.ARROW_LEFT:{if(K!=="horizontal")break;q.metaKey?_(x==="rl"?R:k,g):x==="rl"&&J<R?_(J+F,g):x==="lr"&&J>k&&_(J-F,g);break}case st.ARROW_RIGHT:{if(K!=="horizontal")break;q.metaKey?_(x==="rl"?k:R,g):x==="rl"&&J>k?_(J-F,g):x==="lr"&&J<R&&_(J+F,g);break}case st.ARROW_UP:{q.metaKey?_(x==="tb"?k:R,g):x==="tb"&&J>k?_(J-F,g):x!=="tb"&&J<R&&_(J+F,g);break}case st.ARROW_DOWN:{q.metaKey?_(x==="tb"?R:k,g):x==="tb"&&J<R?_(J+F,g):x!=="tb"&&J>k&&_(J-F,g);break}}})})}),N=ta(Ni("tick"),{stores:[f,o,i,r,A],returned:([$,B,q,X,P])=>{const g=q-B;let k=Math.ceil(g/X);return g%X==0&&k++,Array.from({length:k},(R,F)=>{const L=`${F*(X/(q-B))*100}%`,K=F===0,x=F===k-1,J=K?0:x?-100:-50,m={position:"absolute"};switch(P){case"lr":{m.left=L,m.translate=`${J}% 0`;break}case"rl":{m.right=L,m.translate=`${-J}% 0`;break}case"bt":{m.bottom=L,m.translate=`0 ${-J}%`;break}case"tb":{m.top=L,m.translate=`0 ${J}%`;break}}const D=B+F*X;return{"data-bounded":($.length===1?D<=$[0]:$[0]<=D&&D<=$[$.length-1])?!0:void 0,"data-value":D,style:gn(m)}})}});return Ot([w,o,i,s,l,A,r],([$,B,q,X,P,g,k])=>{if(!Xo||X)return;const R=(m,D,H,te)=>{const U=(m-H)/(te-H)*(q-B)+B;if(U<B)_(B,D);else if(U>q)_(q,D);else{const ke=k,ce=B,Ne=Math.floor((U-ce)/ke),Ye=ce+Ne*ke+ke/2,Be=ce+(Ne+1)*ke+ke/2,Qe=U>=Ye&&U<Be?(Ne+1)*ke+ce:Ne*ke+ce;Qe<=q&&_(Qe,D)}},F=m=>{const D=y();if(!D)return;D.forEach(U=>U.blur());const H=D.map(U=>{if(P==="horizontal"){const{left:ke,right:ce}=U.getBoundingClientRect();return Math.abs(m.clientX-(ke+ce)/2)}else{const{top:ke,bottom:ce}=U.getBoundingClientRect();return Math.abs(m.clientY-(ke+ce)/2)}}),te=D[H.indexOf(Math.min(...H))],oe=D.indexOf(te);return{thumb:te,index:oe}},L=m=>{if(!c.get())return;m.preventDefault(),m.stopPropagation();const D=Jr($["data-melt-id"]),H=p.get();if(!D||!H)return;H.thumb.focus();const{left:te,right:oe,top:U,bottom:ke}=D.getBoundingClientRect();switch(g){case"lr":{R(m.clientX,H.index,te,oe);break}case"rl":{R(m.clientX,H.index,oe,te);break}case"bt":{R(m.clientY,H.index,ke,U);break}case"tb":{R(m.clientY,H.index,U,ke);break}}},K=m=>{if(m.button!==0)return;const D=Jr($["data-melt-id"]),H=F(m);if(!H||!D)return;const te=m.target;!yt(te)||!D.contains(te)||(m.preventDefault(),p.set(H),H.thumb.focus(),c.set(!0),L(m))},x=()=>{c.set(!1)},J=Wt(_t(document,"pointerdown",K),_t(document,"pointerup",x),_t(document,"pointerleave",x),_t(document,"pointermove",L));return()=>{J()}}),Ot([r,o,i,f],function([B,q,X,P]){const g=R=>Zr(R,q,X,B)===R,k=R=>Zr(R,q,X,B);P.some(R=>!g(R))&&f.update(R=>R.map(k))}),{elements:{root:w,thumbs:V,range:E,ticks:N},states:{value:f},options:n}},yh={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:zr}=Sr("tooltip"),Ei=new Map,wh=["trigger","content"];function kh(t){const e={...yh,...t},n=Dn(Ir(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,p=e.open??Ke(e.defaultOpen),h=Or(p,e==null?void 0:e.onOpenChange),_=Ke(null),y=Dn({...Jl(wh),...e.ids});let b=!1;const A=g=>Xo?document.getElementById(y[g].get()):null;let w=null,E=null;function V(g){E&&(window.clearTimeout(E),E=null),w||(w=window.setTimeout(()=>{h.set(!0),_.update(k=>k??g),w=null},l.get()))}function N(g){if(w&&(window.clearTimeout(w),w=null),g&&P){_.set("pointer");return}E||(E=window.setTimeout(()=>{h.set(!1),_.set(null),g&&(b=!1),E=null},a.get()))}const $=ln([h,s],([g,k])=>g||k),B=ct(zr("trigger"),{stores:[y.content,y.trigger,h],returned:([g,k,R])=>({"aria-describedby":g,id:k,"data-state":R?"open":"closed"}),action:g=>{const k=F=>{f.get()&&F.key===st.ESCAPE&&(w&&(window.clearTimeout(w),w=null),h.set(!1))};return{destroy:Wt(bt(g,"pointerdown",()=>{r.get()&&(h.set(!1),b=!0,w&&(window.clearTimeout(w),w=null))}),bt(g,"pointerenter",F=>{na(F)||V("pointer")}),bt(g,"pointerleave",F=>{na(F)||w&&(window.clearTimeout(w),w=null)}),bt(g,"focus",()=>{b||V("focus")}),bt(g,"blur",async()=>{await Xl(0),N(!0)}),bt(g,"keydown",k),_t(document,"keydown",k))}}}),q=ct(zr("content"),{stores:[$,h,u,y.content],returned:([g,k,R,F])=>({role:"tooltip",hidden:g?void 0:!0,tabindex:-1,style:gn({display:g?void 0:"none"}),id:F,"data-portal":Nc(R),"data-state":k?"open":"closed"}),action:g=>{let k=xe,R=xe;const F=Ot([$,o,u],([x,J,m])=>{const D=A("trigger");if(!x||!D){R(),k();return}if(k=R_(D,g,J).destroy,m===null){R();return}const te=Lc(g,m);if(te){const oe=Qc(g,te);oe&&oe.destroy&&(R=oe.destroy)}});function L(x){if(!h.get())return;const J=x.target;if(!Tr(J)&&!kp(J))return;const m=A("trigger");m&&J.contains(m)&&N()}const K=Wt(bt(g,"pointerenter",()=>V("pointer")),bt(g,"pointerdown",()=>V("pointer")),_t(window,"scroll",L,{capture:!0}));return{destroy(){K(),R(),k(),F()}}}}),X=ct(zr("arrow"),{stores:i,returned:g=>({"data-arrow":!0,style:gn({position:"absolute",width:`var(--arrow-size, ${g}px)`,height:`var(--arrow-size, ${g}px)`})})});let P=!1;return Ot(h,g=>{const k=d.get();if(k===void 0||k===!1)return;if(!g){Ei.get(k)===h&&Ei.delete(k);return}const R=Ei.get(k);R==null||R.set(!1),Ei.set(k,h)}),Ot([h,_],([g,k])=>{if(!(!g||!Xo))return Wt(_t(document,"mousemove",R=>{const F=A("content"),L=A("trigger");if(!F||!L)return;const K=c.get()?[L]:[L,F],x=Bp(K);P=Gp({x:R.clientX,y:R.clientY},x),k==="pointer"&&(P||N())}))}),{ids:y,elements:{trigger:B,content:q,arrow:X},states:{open:h},options:n}}function Hn(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Wn(){const t=cm();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function wo(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function qn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function td(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function Ch(t){const{NAME:e,PARTS:n}=td(),o=Hn(e,n),i=ed({...wo(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:qn(i.options)};return kr(e,r),{...r,updateOption:qn(r.options),getAttrs:o}}function $n(){const{NAME:t}=td();return Cr(t)}const Ah=t=>({ids:t&1}),ga=t=>({ids:t[0]});function Sh(t){let e;const n=t[12].default,o=me(n,t,t[11],ga);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&_e(o,n,i,i[11],e?pe(n,i[11],r,Ah):he(i[11]),ga)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Th(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:p=void 0}=e,{onOutsideClick:h=void 0}=e;const{states:{open:_},updateOption:y,ids:b}=Ch({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:p,onOutsideClick:h,onOpenChange:({next:w})=>(f!==w&&(c==null||c(w),n(2,f=w)),w)}),A=ln([b.content,b.description,b.title],([w,E,V])=>({content:w,description:E,title:V}));return ae(t,A,w=>n(0,o=w)),t.$$set=w=>{"preventScroll"in w&&n(3,l=w.preventScroll),"closeOnEscape"in w&&n(4,a=w.closeOnEscape),"closeOnOutsideClick"in w&&n(5,s=w.closeOnOutsideClick),"portal"in w&&n(6,u=w.portal),"open"in w&&n(2,f=w.open),"onOpenChange"in w&&n(7,c=w.onOpenChange),"openFocus"in w&&n(8,d=w.openFocus),"closeFocus"in w&&n(9,p=w.closeFocus),"onOutsideClick"in w&&n(10,h=w.onOutsideClick),"$$scope"in w&&n(11,r=w.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&y("preventScroll",l),t.$$.dirty&16&&y("closeOnEscape",a),t.$$.dirty&32&&y("closeOnOutsideClick",s),t.$$.dirty&64&&y("portal",u),t.$$.dirty&256&&y("openFocus",d),t.$$.dirty&512&&y("closeFocus",p),t.$$.dirty&1024&&y("onOutsideClick",h)},[o,A,f,l,a,s,u,c,d,p,h,r,i]}class Ih extends we{constructor(e){super(),ye(this,e,Th,Sh,fe,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const Oh=t=>({builder:t&8}),ba=t=>({builder:t[3]}),Ph=t=>({builder:t&8}),va=t=>({builder:t[3]});function Mh(t){let e=t[1],n,o,i=t[1]&&el(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),I(r,n,l),o=!0},p(r,l){r[1]?e?fe(e,r[1])?(i.d(1),i=el(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=el(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function Nh(t){let e;const n=t[9].default,o=me(n,t,t[8],va);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&_e(o,n,i,i[8],e?pe(n,i[8],r,Ph):he(i[8]),va)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function el(t){let e,n,o,i;const r=t[9].default,l=me(r,t,t[8],ba);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O(t[1]),l&&l.c(),bn(t[1])(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=Fe(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&_e(l,r,u,u[8],n?pe(r,u[8],f,Oh):he(u[8]),ba),bn(u[1])(e,s=ve(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function Eh(t){let e,n,o,i;const r=[Nh,Mh],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Rh(t,e,n){let o;const i=["level","asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:p},ids:h,getAttrs:_}=$n();ae(t,p,A=>n(7,l=A));const y=_("title");function b(A){Oe[A?"unshift":"push"](()=>{d=A,n(0,d)})}return t.$$set=A=>{e=Y(Y({},e),Ee(A)),n(5,r=re(e,i)),"level"in A&&n(1,u=A.level),"asChild"in A&&n(2,f=A.asChild),"id"in A&&n(6,c=A.id),"el"in A&&n(0,d=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&h.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,y)},[d,u,f,o,p,r,c,l,s,a,b]}let Dh=class extends we{constructor(e){super(),ye(this,e,Rh,Eh,fe,{level:1,asChild:2,id:6,el:0})}};const Lh=t=>({builder:t&4}),ya=t=>({builder:t[2]}),Fh=t=>({builder:t&4}),wa=t=>({builder:t[2]});function qh(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],ya);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("button"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?pe(r,u[7],f,Lh):he(u[7]),ya),le(e,s=ve(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,je(i)}}}function jh(t){let e;const n=t[8].default,o=me(n,t,t[7],wa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?pe(n,i[7],r,Fh):he(i[7]),wa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Bh(t){let e,n,o,i;const r=[jh,qh],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Gh(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=$n();ae(t,c,y=>n(6,l=y));const p=Wn(),h=d("action");function _(y){Oe[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=Y(Y({},e),Ee(y)),n(5,r=re(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,p,r,l,s,a,_]}let Vh=class extends we{constructor(e){super(),ye(this,e,Gh,Bh,fe,{asChild:1,el:0})}};const Hh=t=>({builder:t&4}),ka=t=>({builder:t[2]}),Wh=t=>({builder:t&4}),Ca=t=>({builder:t[2]});function $h(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],ka);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("button"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?pe(r,u[7],f,Hh):he(u[7]),ka),le(e,s=ve(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,je(i)}}}function Kh(t){let e;const n=t[8].default,o=me(n,t,t[7],Ca);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?pe(n,i[7],r,Wh):he(i[7]),Ca)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Uh(t){let e,n,o,i;const r=[Kh,$h],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Yh(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=$n();ae(t,c,y=>n(6,l=y));const p=Wn(),h=d("cancel");function _(y){Oe[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=Y(Y({},e),Ee(y)),n(5,r=re(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,p,r,l,s,a,_]}let Xh=class extends we{constructor(e){super(),ye(this,e,Yh,Uh,fe,{asChild:1,el:0})}};const Jh=t=>({builder:t&4}),Aa=t=>({builder:t[2]}),xh=t=>({builder:t&4}),Sa=t=>({builder:t[2]});function Zh(t){let e,n,o,i;const r=t[7].default,l=me(r,t,t[6],Aa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&_e(l,r,u,u[6],n?pe(r,u[6],f,Jh):he(u[6]),Aa),le(e,s=ve(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function Qh(t){let e;const n=t[7].default,o=me(n,t,t[6],Sa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&_e(o,n,i,i[6],e?pe(n,i[6],r,xh):he(i[6]),Sa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function zh(t){let e,n,o,i;const r=[Qh,Zh],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function e0(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=$n();ae(t,c,_=>n(5,l=_));const p=d("portal");function h(_){Oe[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Y(Y({},e),Ee(_)),n(4,r=re(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,r,l,s,a,h]}let t0=class extends we{constructor(e){super(),ye(this,e,e0,zh,fe,{asChild:1,el:0})}};const n0=t=>({builder:t[0]&256}),Ta=t=>({builder:t[8]}),o0=t=>({builder:t[0]&256}),Ia=t=>({builder:t[8]}),i0=t=>({builder:t[0]&256}),Oa=t=>({builder:t[8]}),r0=t=>({builder:t[0]&256}),Pa=t=>({builder:t[8]}),l0=t=>({builder:t[0]&256}),Ma=t=>({builder:t[8]}),s0=t=>({builder:t[0]&256}),Na=t=>({builder:t[8]});function a0(t){let e,n,o,i;const r=t[16].default,l=me(r,t,t[15],Ta);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[Fe(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&_e(l,r,u,u[15],n?pe(r,u[15],f,n0):he(u[15]),Ta),le(e,s=ve(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,je(i)}}}function u0(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],Ia);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=O("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?pe(l,t[15],c,o0):he(t[15]),Ia),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Jt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,je(r)}}}function f0(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],Oa);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=O("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?pe(l,t[15],c,i0):he(t[15]),Oa),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&(n||tt(()=>{n=Xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,je(r)}}}function c0(t){let e,n,o,i,r,l;const a=t[16].default,s=me(a,t,t[15],Pa);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Y(f,u[c]);return{c(){e=O("div"),s&&s.c(),le(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Fe(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&_e(s,a,t,t[15],i?pe(a,t[15],d,r0):he(t[15]),Pa),le(e,f=ve(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(C(s,c),c&&tt(()=>{i&&(o&&o.end(1),n=Xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Jt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,je(l)}}}function d0(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],Ma);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=O("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?pe(l,t[15],c,l0):he(t[15]),Ma),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&tt(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,je(r)}}}function m0(t){let e;const n=t[16].default,o=me(n,t,t[15],Na);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&_e(o,n,i,i[15],e?pe(n,i[15],r,s0):he(i[15]),Na)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function p0(t){let e,n,o,i;const r=[m0,d0,c0,f0,u0,a0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function _0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{id:y=void 0}=e,{asChild:b=!1}=e,{el:A=void 0}=e;const{elements:{content:w},states:{open:E},ids:V,getAttrs:N}=$n();ae(t,w,j=>n(14,l=j)),ae(t,E,j=>n(9,a=j));const $=N("content");function B(j){ne.call(this,t,j)}function q(j){ne.call(this,t,j)}function X(j){ne.call(this,t,j)}function P(j){ne.call(this,t,j)}function g(j){ne.call(this,t,j)}function k(j){ne.call(this,t,j)}function R(j){ne.call(this,t,j)}function F(j){ne.call(this,t,j)}function L(j){ne.call(this,t,j)}function K(j){ne.call(this,t,j)}function x(j){ne.call(this,t,j)}function J(j){ne.call(this,t,j)}function m(j){ne.call(this,t,j)}function D(j){ne.call(this,t,j)}function H(j){ne.call(this,t,j)}function te(j){ne.call(this,t,j)}function oe(j){ne.call(this,t,j)}function U(j){ne.call(this,t,j)}function ke(j){ne.call(this,t,j)}function ce(j){ne.call(this,t,j)}function Ne(j){ne.call(this,t,j)}function Ye(j){ne.call(this,t,j)}function Be(j){ne.call(this,t,j)}function Qe(j){ne.call(this,t,j)}function de(j){ne.call(this,t,j)}function Me(j){ne.call(this,t,j)}function Ve(j){ne.call(this,t,j)}function We(j){ne.call(this,t,j)}function Ge(j){ne.call(this,t,j)}function ue(j){ne.call(this,t,j)}function Ce(j){ne.call(this,t,j)}function ht(j){ne.call(this,t,j)}function It(j){ne.call(this,t,j)}function dt(j){ne.call(this,t,j)}function qt(j){ne.call(this,t,j)}function Et(j){Oe[j?"unshift":"push"](()=>{A=j,n(0,A)})}function ft(j){Oe[j?"unshift":"push"](()=>{A=j,n(0,A)})}function ze(j){Oe[j?"unshift":"push"](()=>{A=j,n(0,A)})}function be(j){Oe[j?"unshift":"push"](()=>{A=j,n(0,A)})}function $e(j){Oe[j?"unshift":"push"](()=>{A=j,n(0,A)})}return t.$$set=j=>{e=Y(Y({},e),Ee(j)),n(12,r=re(e,i)),"transition"in j&&n(1,f=j.transition),"transitionConfig"in j&&n(2,c=j.transitionConfig),"inTransition"in j&&n(3,d=j.inTransition),"inTransitionConfig"in j&&n(4,p=j.inTransitionConfig),"outTransition"in j&&n(5,h=j.outTransition),"outTransitionConfig"in j&&n(6,_=j.outTransitionConfig),"id"in j&&n(13,y=j.id),"asChild"in j&&n(7,b=j.asChild),"el"in j&&n(0,A=j.el),"$$scope"in j&&n(15,u=j.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&y&&V.content.set(y),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,$)},[A,f,c,d,p,h,_,b,o,a,w,E,r,y,l,u,s,B,q,X,P,g,k,R,F,L,K,x,J,m,D,H,te,oe,U,ke,ce,Ne,Ye,Be,Qe,de,Me,Ve,We,Ge,ue,Ce,ht,It,dt,qt,Et,ft,ze,be,$e]}let h0=class extends we{constructor(e){super(),ye(this,e,_0,p0,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const g0=t=>({builder:t&256}),Ea=t=>({builder:t[8]});function b0(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Y(r,i[l]);return{c(){e=O("div"),le(e,r)},m(l,a){I(l,e,a),t[20](e),n||(o=Fe(t[8].action(e)),n=!0)},p(l,a){le(e,r=ve(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ae,o:Ae,d(l){l&&T(e),t[20](null),n=!1,o()}}}function v0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=O("div"),le(e,a)},m(s,u){I(s,e,u),t[19](e),o=!0,i||(r=Fe(t[8].action(e)),i=!0)},p(s,u){t=s,le(e,a=ve(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Jt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function y0(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Y(l,r[a]);return{c(){e=O("div"),le(e,l)},m(a,s){I(a,e,s),t[18](e),o||(i=Fe(t[8].action(e)),o=!0)},p(a,s){t=a,le(e,l=ve(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||tt(()=>{n=Xt(e,t[3],t[4]),n.start()}))},o:Ae,d(a){a&&T(e),t[18](null),o=!1,i()}}}function w0(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("div"),le(e,s)},m(u,f){I(u,e,f),t[17](e),i=!0,r||(l=Fe(t[8].action(e)),r=!0)},p(u,f){t=u,le(e,s=ve(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&tt(()=>{i&&(o&&o.end(1),n=Xt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Jt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function k0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=O("div"),le(e,a)},m(s,u){I(s,e,u),t[16](e),o=!0,i||(r=Fe(t[8].action(e)),i=!0)},p(s,u){t=s,le(e,a=ve(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&tt(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function C0(t){let e;const n=t[15].default,o=me(n,t,t[14],Ea);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&_e(o,n,i,i[14],e?pe(n,i[14],r,g0):he(i[14]),Ea)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function A0(t){let e,n,o,i;const r=[C0,k0,w0,y0,v0,b0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function S0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:y=!1}=e,{el:b=void 0}=e;const{elements:{overlay:A},states:{open:w},getAttrs:E}=$n();ae(t,A,P=>n(13,l=P)),ae(t,w,P=>n(9,a=P));const V=E("overlay");function N(P){Oe[P?"unshift":"push"](()=>{b=P,n(0,b)})}function $(P){Oe[P?"unshift":"push"](()=>{b=P,n(0,b)})}function B(P){Oe[P?"unshift":"push"](()=>{b=P,n(0,b)})}function q(P){Oe[P?"unshift":"push"](()=>{b=P,n(0,b)})}function X(P){Oe[P?"unshift":"push"](()=>{b=P,n(0,b)})}return t.$$set=P=>{e=Y(Y({},e),Ee(P)),n(12,r=re(e,i)),"transition"in P&&n(1,f=P.transition),"transitionConfig"in P&&n(2,c=P.transitionConfig),"inTransition"in P&&n(3,d=P.inTransition),"inTransitionConfig"in P&&n(4,p=P.inTransitionConfig),"outTransition"in P&&n(5,h=P.outTransition),"outTransitionConfig"in P&&n(6,_=P.outTransitionConfig),"asChild"in P&&n(7,y=P.asChild),"el"in P&&n(0,b=P.el),"$$scope"in P&&n(14,u=P.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,V)},[b,f,c,d,p,h,_,y,o,a,A,w,r,l,u,s,N,$,B,q,X]}let T0=class extends we{constructor(e){super(),ye(this,e,S0,A0,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const I0=t=>({builder:t&4}),Ra=t=>({builder:t[2]}),O0=t=>({builder:t&4}),Da=t=>({builder:t[2]});function P0(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],Ra);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?pe(r,u[7],f,I0):he(u[7]),Ra),le(e,s=ve(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function M0(t){let e;const n=t[8].default,o=me(n,t,t[7],Da);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?pe(n,i[7],r,O0):he(i[7]),Da)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function N0(t){let e,n,o,i;const r=[M0,P0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function E0(t,e,n){let o;const i=["asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:p,getAttrs:h}=$n();ae(t,d,b=>n(6,l=b));const _=h("description");function y(b){Oe[b?"unshift":"push"](()=>{c=b,n(0,c)})}return t.$$set=b=>{e=Y(Y({},e),Ee(b)),n(4,r=re(e,i)),"asChild"in b&&n(1,u=b.asChild),"id"in b&&n(5,f=b.id),"el"in b&&n(0,c=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&p.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,y]}let R0=class extends we{constructor(e){super(),ye(this,e,E0,N0,fe,{asChild:1,id:5,el:0})}};function D0(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function La(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function L0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&tl(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),I(r,n,l),o=!0},p(r,l){r[1],e?fe(e,r[1]?"a":"button")?(i.d(1),i=tl(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=tl(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function F0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&nl(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),I(r,n,l),o=!0},p(r,l){r[1],e?fe(e,r[1]?"a":"button")?(i.d(1),i=nl(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=nl(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function tl(t){let e,n,o,i,r;const l=t[7].default,a=me(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=O(t[1]?"a":"button"),a&&a.c(),bn(t[1]?"a":"button")(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),o=!0,i||(r=[ee(e,"click",t[14]),ee(e,"change",t[15]),ee(e,"keydown",t[16]),ee(e,"keyup",t[17]),ee(e,"mouseenter",t[18]),ee(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&_e(a,l,f,f[6],o?pe(l,f[6],c,null):he(f[6]),null),bn(f[1]?"a":"button")(e,u=ve(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(C(a,f),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),i=!1,je(r)}}}function nl(t){let e,n,o,i,r,l;const a=t[7].default,s=me(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},La(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=Y(f,u[c]);return{c(){e=O(t[1]?"a":"button"),s&&s.c(),bn(t[1]?"a":"button")(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[ee(e,"click",t[8]),ee(e,"change",t[9]),ee(e,"keydown",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseenter",t[12]),ee(e,"mouseleave",t[13]),Fe(o=D0.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&_e(s,a,c,c[6],i?pe(a,c[6],d,null):he(c[6]),null),bn(c[1]?"a":"button")(e,f=ve(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&La(c[3]),d&32&&c[5],c[4]])),o&&Cn(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(C(s,c),i=!0)},o(c){S(s,c),i=!1},d(c){c&&T(e),s&&s.d(c),t[20](null),r=!1,je(l)}}}function q0(t){let e,n,o,i;const r=[F0,L0],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function j0(t,e,n){const o=["href","type","builders","el"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(q){ne.call(this,t,q)}function p(q){ne.call(this,t,q)}function h(q){ne.call(this,t,q)}function _(q){ne.call(this,t,q)}function y(q){ne.call(this,t,q)}function b(q){ne.call(this,t,q)}function A(q){ne.call(this,t,q)}function w(q){ne.call(this,t,q)}function E(q){ne.call(this,t,q)}function V(q){ne.call(this,t,q)}function N(q){ne.call(this,t,q)}function $(q){ne.call(this,t,q)}function B(q){Oe[q?"unshift":"push"](()=>{f=q,n(0,f)})}return t.$$set=q=>{e=Y(Y({},e),Ee(q)),n(5,i=re(e,o)),"href"in q&&n(1,a=q.href),"type"in q&&n(2,s=q.type),"builders"in q&&n(3,u=q.builders),"el"in q&&n(0,f=q.el),"$$scope"in q&&n(6,l=q.$$scope)},[f,a,s,u,c,i,l,r,d,p,h,_,y,b,A,w,E,V,N,$,B]}let B0=class extends we{constructor(e){super(),ye(this,e,j0,q0,fe,{href:1,type:2,builders:3,el:0})}};function G0(t){return(e={})=>V0(t,e)}function V0(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:H0(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function H0(t,e){return e==="center"?t:`${t}-${e}`}function W0(){return{NAME:"separator",PARTS:["root"]}}function $0(t){const{NAME:e,PARTS:n}=W0(),o=Hn(e,n),i={...gh(wo(t)),getAttrs:o};return{...i,updateOption:qn(i.options)}}const K0=t=>({builder:t&4}),Fa=t=>({builder:t[2]});function U0(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Y(r,i[l]);return{c(){e=O("div"),le(e,r)},m(l,a){I(l,e,a),t[10](e),n||(o=Fe(t[2].action(e)),n=!0)},p(l,a){le(e,r=ve(i,[a&4&&l[2],a&16&&l[4]]))},i:Ae,o:Ae,d(l){l&&T(e),t[10](null),n=!1,o()}}}function Y0(t){let e;const n=t[9].default,o=me(n,t,t[8],Fa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&_e(o,n,i,i[8],e?pe(n,i[8],r,K0):he(i[8]),Fa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function X0(t){let e,n,o,i;const r=[Y0,U0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function J0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:p},updateOption:h,getAttrs:_}=$0({orientation:u,decorative:f});ae(t,p,A=>n(7,l=A));const y=_("root");function b(A){Oe[A?"unshift":"push"](()=>{d=A,n(0,d)})}return t.$$set=A=>{e=Y(Y({},e),Ee(A)),n(4,r=re(e,i)),"orientation"in A&&n(5,u=A.orientation),"decorative"in A&&n(6,f=A.decorative),"asChild"in A&&n(1,c=A.asChild),"el"in A&&n(0,d=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&h("orientation",u),t.$$.dirty&64&&h("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,y)},[d,c,o,p,r,u,f,l,s,a,b]}let x0=class extends we{constructor(e){super(),ye(this,e,J0,X0,fe,{orientation:5,decorative:6,asChild:1,el:0})}};function nd(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function Z0(t){const{NAME:e,PARTS:n}=nd(),o=Hn(e,n),i={...ed({...wo(t),role:"dialog",forceVisible:!0}),getAttrs:o};return kr(e,i),{...i,updateOption:qn(i.options)}}function ko(){const{NAME:t}=nd();return Cr(t)}const Q0=t=>({ids:t&1}),qa=t=>({ids:t[0]});function z0(t){let e;const n=t[12].default,o=me(n,t,t[11],qa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&_e(o,n,i,i[11],e?pe(n,i[11],r,Q0):he(i[11]),qa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function eg(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:p=void 0}=e,{onOutsideClick:h=void 0}=e;const{states:{open:_},updateOption:y,ids:b}=Z0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:p,onOutsideClick:h,onOpenChange:({next:w})=>(f!==w&&(c==null||c(w),n(2,f=w)),w)}),A=ln([b.content,b.description,b.title],([w,E,V])=>({content:w,description:E,title:V}));return ae(t,A,w=>n(0,o=w)),t.$$set=w=>{"preventScroll"in w&&n(3,l=w.preventScroll),"closeOnEscape"in w&&n(4,a=w.closeOnEscape),"closeOnOutsideClick"in w&&n(5,s=w.closeOnOutsideClick),"portal"in w&&n(6,u=w.portal),"open"in w&&n(2,f=w.open),"onOpenChange"in w&&n(7,c=w.onOpenChange),"openFocus"in w&&n(8,d=w.openFocus),"closeFocus"in w&&n(9,p=w.closeFocus),"onOutsideClick"in w&&n(10,h=w.onOutsideClick),"$$scope"in w&&n(11,r=w.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&y("preventScroll",l),t.$$.dirty&16&&y("closeOnEscape",a),t.$$.dirty&32&&y("closeOnOutsideClick",s),t.$$.dirty&64&&y("portal",u),t.$$.dirty&256&&y("openFocus",d),t.$$.dirty&512&&y("closeFocus",p),t.$$.dirty&1024&&y("onOutsideClick",h)},[o,A,f,l,a,s,u,c,d,p,h,r,i]}class tg extends we{constructor(e){super(),ye(this,e,eg,z0,fe,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const ng=t=>({builder:t&8}),ja=t=>({builder:t[3]}),og=t=>({builder:t&8}),Ba=t=>({builder:t[3]});function ig(t){let e=t[1],n,o,i=t[1]&&ol(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),I(r,n,l),o=!0},p(r,l){r[1]?e?fe(e,r[1])?(i.d(1),i=ol(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=ol(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function rg(t){let e;const n=t[9].default,o=me(n,t,t[8],Ba);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&_e(o,n,i,i[8],e?pe(n,i[8],r,og):he(i[8]),Ba)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function ol(t){let e,n,o,i;const r=t[9].default,l=me(r,t,t[8],ja);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O(t[1]),l&&l.c(),bn(t[1])(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=Fe(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&_e(l,r,u,u[8],n?pe(r,u[8],f,ng):he(u[8]),ja),bn(u[1])(e,s=ve(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function lg(t){let e,n,o,i;const r=[rg,ig],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function sg(t,e,n){let o;const i=["level","asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:p},ids:h,getAttrs:_}=ko();ae(t,p,A=>n(7,l=A));const y=_("title");function b(A){Oe[A?"unshift":"push"](()=>{d=A,n(0,d)})}return t.$$set=A=>{e=Y(Y({},e),Ee(A)),n(5,r=re(e,i)),"level"in A&&n(1,u=A.level),"asChild"in A&&n(2,f=A.asChild),"id"in A&&n(6,c=A.id),"el"in A&&n(0,d=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&h.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,y)},[d,u,f,o,p,r,c,l,s,a,b]}let ag=class extends we{constructor(e){super(),ye(this,e,sg,lg,fe,{level:1,asChild:2,id:6,el:0})}};const ug=t=>({builder:t&4}),Ga=t=>({builder:t[2]}),fg=t=>({builder:t&4}),Va=t=>({builder:t[2]});function cg(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],Ga);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("button"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?pe(r,u[7],f,ug):he(u[7]),Ga),le(e,s=ve(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,je(i)}}}function dg(t){let e;const n=t[8].default,o=me(n,t,t[7],Va);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?pe(n,i[7],r,fg):he(i[7]),Va)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function mg(t){let e,n,o,i;const r=[dg,cg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function pg(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=ko();ae(t,c,y=>n(6,l=y));const p=Wn(),h=d("close");function _(y){Oe[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=Y(Y({},e),Ee(y)),n(5,r=re(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,p,r,l,s,a,_]}class _g extends we{constructor(e){super(),ye(this,e,pg,mg,fe,{asChild:1,el:0})}}const hg=t=>({builder:t&4}),Ha=t=>({builder:t[2]}),gg=t=>({builder:t&4}),Wa=t=>({builder:t[2]});function bg(t){let e,n,o,i;const r=t[7].default,l=me(r,t,t[6],Ha);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&_e(l,r,u,u[6],n?pe(r,u[6],f,hg):he(u[6]),Ha),le(e,s=ve(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function vg(t){let e;const n=t[7].default,o=me(n,t,t[6],Wa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&_e(o,n,i,i[6],e?pe(n,i[6],r,gg):he(i[6]),Wa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function yg(t){let e,n,o,i;const r=[vg,bg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function wg(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=ko();ae(t,c,_=>n(5,l=_));const p=d("portal");function h(_){Oe[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Y(Y({},e),Ee(_)),n(4,r=re(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,r,l,s,a,h]}let kg=class extends we{constructor(e){super(),ye(this,e,wg,yg,fe,{asChild:1,el:0})}};const Cg=t=>({builder:t[0]&256}),$a=t=>({builder:t[8]}),Ag=t=>({builder:t[0]&256}),Ka=t=>({builder:t[8]}),Sg=t=>({builder:t[0]&256}),Ua=t=>({builder:t[8]}),Tg=t=>({builder:t[0]&256}),Ya=t=>({builder:t[8]}),Ig=t=>({builder:t[0]&256}),Xa=t=>({builder:t[8]}),Og=t=>({builder:t[0]&256}),Ja=t=>({builder:t[8]});function Pg(t){let e,n,o,i;const r=t[16].default,l=me(r,t,t[15],$a);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[Fe(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&_e(l,r,u,u[15],n?pe(r,u[15],f,Cg):he(u[15]),$a),le(e,s=ve(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,je(i)}}}function Mg(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],Ka);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=O("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?pe(l,t[15],c,Ag):he(t[15]),Ka),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Jt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,je(r)}}}function Ng(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],Ua);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=O("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?pe(l,t[15],c,Sg):he(t[15]),Ua),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&(n||tt(()=>{n=Xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,je(r)}}}function Eg(t){let e,n,o,i,r,l;const a=t[16].default,s=me(a,t,t[15],Ya);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Y(f,u[c]);return{c(){e=O("div"),s&&s.c(),le(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Fe(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&_e(s,a,t,t[15],i?pe(a,t[15],d,Tg):he(t[15]),Ya),le(e,f=ve(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(C(s,c),c&&tt(()=>{i&&(o&&o.end(1),n=Xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Jt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,je(l)}}}function Rg(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],Xa);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=O("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?pe(l,t[15],c,Ig):he(t[15]),Xa),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&tt(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,je(r)}}}function Dg(t){let e;const n=t[16].default,o=me(n,t,t[15],Ja);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&_e(o,n,i,i[15],e?pe(n,i[15],r,Og):he(i[15]),Ja)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Lg(t){let e,n,o,i;const r=[Dg,Rg,Eg,Ng,Mg,Pg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function Fg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:y=!1}=e,{id:b=void 0}=e,{el:A=void 0}=e;const{elements:{content:w},states:{open:E},ids:V,getAttrs:N}=ko();ae(t,w,j=>n(14,l=j)),ae(t,E,j=>n(9,a=j));const $=N("content");function B(j){ne.call(this,t,j)}function q(j){ne.call(this,t,j)}function X(j){ne.call(this,t,j)}function P(j){ne.call(this,t,j)}function g(j){ne.call(this,t,j)}function k(j){ne.call(this,t,j)}function R(j){ne.call(this,t,j)}function F(j){ne.call(this,t,j)}function L(j){ne.call(this,t,j)}function K(j){ne.call(this,t,j)}function x(j){ne.call(this,t,j)}function J(j){ne.call(this,t,j)}function m(j){ne.call(this,t,j)}function D(j){ne.call(this,t,j)}function H(j){ne.call(this,t,j)}function te(j){ne.call(this,t,j)}function oe(j){ne.call(this,t,j)}function U(j){ne.call(this,t,j)}function ke(j){ne.call(this,t,j)}function ce(j){ne.call(this,t,j)}function Ne(j){ne.call(this,t,j)}function Ye(j){ne.call(this,t,j)}function Be(j){ne.call(this,t,j)}function Qe(j){ne.call(this,t,j)}function de(j){ne.call(this,t,j)}function Me(j){ne.call(this,t,j)}function Ve(j){ne.call(this,t,j)}function We(j){ne.call(this,t,j)}function Ge(j){ne.call(this,t,j)}function ue(j){ne.call(this,t,j)}function Ce(j){ne.call(this,t,j)}function ht(j){ne.call(this,t,j)}function It(j){ne.call(this,t,j)}function dt(j){ne.call(this,t,j)}function qt(j){ne.call(this,t,j)}function Et(j){Oe[j?"unshift":"push"](()=>{A=j,n(0,A)})}function ft(j){Oe[j?"unshift":"push"](()=>{A=j,n(0,A)})}function ze(j){Oe[j?"unshift":"push"](()=>{A=j,n(0,A)})}function be(j){Oe[j?"unshift":"push"](()=>{A=j,n(0,A)})}function $e(j){Oe[j?"unshift":"push"](()=>{A=j,n(0,A)})}return t.$$set=j=>{e=Y(Y({},e),Ee(j)),n(12,r=re(e,i)),"transition"in j&&n(1,f=j.transition),"transitionConfig"in j&&n(2,c=j.transitionConfig),"inTransition"in j&&n(3,d=j.inTransition),"inTransitionConfig"in j&&n(4,p=j.inTransitionConfig),"outTransition"in j&&n(5,h=j.outTransition),"outTransitionConfig"in j&&n(6,_=j.outTransitionConfig),"asChild"in j&&n(7,y=j.asChild),"id"in j&&n(13,b=j.id),"el"in j&&n(0,A=j.el),"$$scope"in j&&n(15,u=j.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&b&&V.content.set(b),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,$)},[A,f,c,d,p,h,_,y,o,a,w,E,r,b,l,u,s,B,q,X,P,g,k,R,F,L,K,x,J,m,D,H,te,oe,U,ke,ce,Ne,Ye,Be,Qe,de,Me,Ve,We,Ge,ue,Ce,ht,It,dt,qt,Et,ft,ze,be,$e]}let qg=class extends we{constructor(e){super(),ye(this,e,Fg,Lg,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const jg=t=>({builder:t&256}),xa=t=>({builder:t[8]});function Bg(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Y(r,i[l]);return{c(){e=O("div"),le(e,r)},m(l,a){I(l,e,a),t[25](e),n||(o=[Fe(t[8].action(e)),ee(e,"mouseup",t[20])],n=!0)},p(l,a){le(e,r=ve(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ae,o:Ae,d(l){l&&T(e),t[25](null),n=!1,je(o)}}}function Gg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=O("div"),le(e,a)},m(s,u){I(s,e,u),t[24](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,le(e,a=ve(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Jt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[24](null),s&&n&&n.end(),i=!1,je(r)}}}function Vg(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Y(l,r[a]);return{c(){e=O("div"),le(e,l)},m(a,s){I(a,e,s),t[23](e),o||(i=[Fe(t[8].action(e)),ee(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,le(e,l=ve(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||tt(()=>{n=Xt(e,t[3],t[4]),n.start()}))},o:Ae,d(a){a&&T(e),t[23](null),o=!1,je(i)}}}function Hg(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("div"),le(e,s)},m(u,f){I(u,e,f),t[22](e),i=!0,r||(l=[Fe(t[8].action(e)),ee(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,le(e,s=ve(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&tt(()=>{i&&(o&&o.end(1),n=Xt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Jt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[22](null),u&&o&&o.end(),r=!1,je(l)}}}function Wg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=O("div"),le(e,a)},m(s,u){I(s,e,u),t[21](e),o=!0,i||(r=[ee(e,"mouseup",t[16]),Fe(t[8].action(e))],i=!0)},p(s,u){t=s,le(e,a=ve(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&tt(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[21](null),s&&n&&n.end(),i=!1,je(r)}}}function $g(t){let e;const n=t[15].default,o=me(n,t,t[14],xa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&_e(o,n,i,i[14],e?pe(n,i[14],r,jg):he(i[14]),xa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Kg(t){let e,n,o,i;const r=[$g,Wg,Hg,Vg,Gg,Bg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function Ug(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:y=!1}=e,{el:b=void 0}=e;const{elements:{overlay:A},states:{open:w},getAttrs:E}=ko();ae(t,A,L=>n(13,l=L)),ae(t,w,L=>n(9,a=L));const V=E("overlay");function N(L){ne.call(this,t,L)}function $(L){ne.call(this,t,L)}function B(L){ne.call(this,t,L)}function q(L){ne.call(this,t,L)}function X(L){ne.call(this,t,L)}function P(L){Oe[L?"unshift":"push"](()=>{b=L,n(0,b)})}function g(L){Oe[L?"unshift":"push"](()=>{b=L,n(0,b)})}function k(L){Oe[L?"unshift":"push"](()=>{b=L,n(0,b)})}function R(L){Oe[L?"unshift":"push"](()=>{b=L,n(0,b)})}function F(L){Oe[L?"unshift":"push"](()=>{b=L,n(0,b)})}return t.$$set=L=>{e=Y(Y({},e),Ee(L)),n(12,r=re(e,i)),"transition"in L&&n(1,f=L.transition),"transitionConfig"in L&&n(2,c=L.transitionConfig),"inTransition"in L&&n(3,d=L.inTransition),"inTransitionConfig"in L&&n(4,p=L.inTransitionConfig),"outTransition"in L&&n(5,h=L.outTransition),"outTransitionConfig"in L&&n(6,_=L.outTransitionConfig),"asChild"in L&&n(7,y=L.asChild),"el"in L&&n(0,b=L.el),"$$scope"in L&&n(14,u=L.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,V)},[b,f,c,d,p,h,_,y,o,a,A,w,r,l,u,s,N,$,B,q,X,P,g,k,R,F]}let Yg=class extends we{constructor(e){super(),ye(this,e,Ug,Kg,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Xg=t=>({builder:t&4}),Za=t=>({builder:t[2]}),Jg=t=>({builder:t&4}),Qa=t=>({builder:t[2]});function xg(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],Za);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?pe(r,u[7],f,Xg):he(u[7]),Za),le(e,s=ve(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function Zg(t){let e;const n=t[8].default,o=me(n,t,t[7],Qa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?pe(n,i[7],r,Jg):he(i[7]),Qa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Qg(t){let e,n,o,i;const r=[Zg,xg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function zg(t,e,n){let o;const i=["asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:p,getAttrs:h}=ko();ae(t,d,b=>n(6,l=b));const _=h("description");function y(b){Oe[b?"unshift":"push"](()=>{c=b,n(0,c)})}return t.$$set=b=>{e=Y(Y({},e),Ee(b)),n(4,r=re(e,i)),"asChild"in b&&n(1,u=b.asChild),"id"in b&&n(5,f=b.id),"el"in b&&n(0,c=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&p.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,y]}let e1=class extends we{constructor(e){super(),ye(this,e,zg,Qg,fe,{asChild:1,id:5,el:0})}};function t1(){const t="label",n=Hn(t,["root"]);return{NAME:t,getAttrs:n}}const n1=t=>({builder:t&4}),za=t=>({builder:t[2]}),o1=t=>({builder:t&4}),eu=t=>({builder:t[2]});function i1(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],za);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("label"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),ee(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?pe(r,u[7],f,n1):he(u[7]),za),le(e,s=ve(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,je(i)}}}function r1(t){let e;const n=t[8].default,o=me(n,t,t[7],eu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?pe(n,i[7],r,o1):he(i[7]),eu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function l1(t){let e,n,o,i;const r=[r1,i1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function s1(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=fh();ae(t,c,y=>n(6,l=y));const d=Wn(),{getAttrs:p}=t1(),h=p("root");function _(y){Oe[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=Y(Y({},e),Ee(y)),n(5,r=re(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,d,r,l,s,a,_]}let a1=class extends we{constructor(e){super(),ye(this,e,s1,l1,fe,{asChild:1,el:0})}};function u1(){return{NAME:"progress",PARTS:["root"]}}function f1(t){const{NAME:e,PARTS:n}=u1(),o=Hn(e,n),i={..._h(wo(t)),getAttrs:o};return{...i,updateOption:qn(i.options)}}const c1=t=>({builder:t&4}),tu=t=>({builder:t[2]}),d1=t=>({builder:t&4}),nu=t=>({builder:t[2]});function m1(t){let e,n,o,i;const r=t[10].default,l=me(r,t,t[9],tu);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&_e(l,r,u,u[9],n?pe(r,u[9],f,c1):he(u[9]),tu),le(e,s=ve(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[11](null),o=!1,i()}}}function p1(t){let e;const n=t[10].default,o=me(n,t,t[9],nu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&_e(o,n,i,i[9],e?pe(n,i[9],r,d1):he(i[9]),nu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function _1(t){let e,n,o,i;const r=[p1,m1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function h1(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:p=void 0}=e;const{elements:{root:h},states:{value:_},updateOption:y,getAttrs:b}=f1({max:u,defaultValue:f,onValueChange:({next:E})=>(c==null||c(E),n(5,f=E),E)});ae(t,h,E=>n(8,l=E));const A=b("root");function w(E){Oe[E?"unshift":"push"](()=>{p=E,n(0,p)})}return t.$$set=E=>{e=Y(Y({},e),Ee(E)),n(4,r=re(e,i)),"max"in E&&n(6,u=E.max),"value"in E&&n(5,f=E.value),"onValueChange"in E&&n(7,c=E.onValueChange),"asChild"in E&&n(1,d=E.asChild),"el"in E&&n(0,p=E.el),"$$scope"in E&&n(9,s=E.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&_.set(f),t.$$.dirty&64&&y("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,A)},[p,d,o,h,r,f,u,c,l,s,a,w]}let g1=class extends we{constructor(e){super(),ye(this,e,h1,_1,fe,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function od(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function b1(t){const{NAME:e,PARTS:n}=od(),o=Hn(e,n),i={...vh(wo(t)),getAttrs:o};return kr(e,i),{...i,updateOption:qn(i.options)}}function id(){const{NAME:t}=od();return Cr(t)}const v1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),ou=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),y1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),iu=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function w1(t){let e,n,o,i;const r=t[18].default,l=me(r,t,t[17],ou);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("span"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&_e(l,r,u,u[17],n?pe(r,u[17],f,v1):he(u[17]),ou),le(e,s=ve(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[19](null),o=!1,i()}}}function k1(t){let e;const n=t[18].default,o=me(n,t,t[17],iu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&_e(o,n,i,i[17],e?pe(n,i[17],r,y1):he(i[17]),iu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function C1(t){let e,n,o,i;const r=[k1,w1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function A1(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=re(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:p=void 0}=e,{step:h=void 0}=e,{orientation:_=void 0}=e,{value:y=void 0}=e,{onValueChange:b=void 0}=e,{asChild:A=!1}=e,{el:w=void 0}=e;const{elements:{root:E,ticks:V,thumbs:N},states:{value:$},updateOption:B,getAttrs:q}=b1({disabled:c,min:d,max:p,step:h,orientation:_,defaultValue:y,onValueChange:({next:g})=>(y!==g&&(b==null||b(g),n(9,y=g)),g)});ae(t,E,g=>n(16,l=g)),ae(t,V,g=>n(3,a=g)),ae(t,N,g=>n(4,s=g));const X=q("root");function P(g){Oe[g?"unshift":"push"](()=>{w=g,n(0,w)})}return t.$$set=g=>{e=Y(Y({},e),Ee(g)),n(8,r=re(e,i)),"disabled"in g&&n(10,c=g.disabled),"min"in g&&n(11,d=g.min),"max"in g&&n(12,p=g.max),"step"in g&&n(13,h=g.step),"orientation"in g&&n(14,_=g.orientation),"value"in g&&n(9,y=g.value),"onValueChange"in g&&n(15,b=g.onValueChange),"asChild"in g&&n(1,A=g.asChild),"el"in g&&n(0,w=g.el),"$$scope"in g&&n(17,f=g.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&y!==void 0&&$.set(y),t.$$.dirty&1024&&B("disabled",c),t.$$.dirty&2048&&B("min",d),t.$$.dirty&4096&&B("max",p),t.$$.dirty&8192&&B("step",h),t.$$.dirty&16384&&B("orientation",_),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,X)},[w,A,o,a,s,E,V,N,r,y,c,d,p,h,_,b,l,f,u,P]}let S1=class extends we{constructor(e){super(),ye(this,e,A1,C1,fe,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const T1=t=>({builder:t&4}),ru=t=>({builder:t[2]});function I1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Y(r,i[l]);return{c(){e=O("span"),le(e,r)},m(l,a){I(l,e,a),t[8](e),n||(o=Fe(t[2].action(e)),n=!0)},p(l,a){le(e,r=ve(i,[a&4&&l[2],a&16&&l[4]]))},i:Ae,o:Ae,d(l){l&&T(e),t[8](null),n=!1,o()}}}function O1(t){let e;const n=t[7].default,o=me(n,t,t[6],ru);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&_e(o,n,i,i[6],e?pe(n,i[6],r,T1):he(i[6]),ru)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function P1(t){let e,n,o,i;const r=[O1,I1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function M1(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=id();ae(t,c,_=>n(5,l=_));const p=d("range");function h(_){Oe[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Y(Y({},e),Ee(_)),n(4,r=re(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,r,l,s,a,h]}class N1 extends we{constructor(e){super(),ye(this,e,M1,P1,fe,{asChild:1,el:0})}}const E1=t=>({builder:t&4}),lu=t=>({builder:t[2]});function R1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Y(r,i[l]);return{c(){e=O("span"),le(e,r)},m(l,a){I(l,e,a),t[8](e),n||(o=[Fe(t[2].action(e)),ee(e,"m-keydown",t[3])],n=!0)},p(l,a){le(e,r=ve(i,[a&4&&l[2],a&16&&l[4]]))},i:Ae,o:Ae,d(l){l&&T(e),t[8](null),n=!1,je(o)}}}function D1(t){let e;const n=t[7].default,o=me(n,t,t[6],lu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&_e(o,n,i,i[6],e?pe(n,i[6],r,E1):he(i[6]),lu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function L1(t){let e,n,o,i;const r=[D1,R1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function F1(t,e,n){let o;const i=["asChild","el","thumb"];let r=re(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=id(),d=Wn(),p=c("thumb");function h(_){Oe[_?"unshift":"push"](()=>{u=_,n(0,u)})}return t.$$set=_=>{e=Y(Y({},e),Ee(_)),n(4,r=re(e,i)),"asChild"in _&&n(1,s=_.asChild),"el"in _&&n(0,u=_.el),"thumb"in _&&n(5,f=_.thumb),"$$scope"in _&&n(6,a=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,p)},[u,s,o,d,r,f,a,l,h]}class q1 extends we{constructor(e){super(),ye(this,e,F1,L1,fe,{asChild:1,el:0,thumb:5})}}function rd(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function j1(t){const{NAME:e,PARTS:n}=rd(),o=Hn(e,n),i={...kh({positioning:{placement:"top",gutter:0},openDelay:700,...wo(t),forceVisible:!0}),getAttrs:o};return kr(e,i),{...i,updateOption:qn(i.options)}}function ns(){const{NAME:t}=rd();return Cr(t)}function B1(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=ns();G0(o)({...n})}const G1=t=>({ids:t&1}),su=t=>({ids:t[0]});function V1(t){let e;const n=t[12].default,o=me(n,t,t[11],su);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&_e(o,n,i,i[11],e?pe(n,i[11],r,G1):he(i[11]),su)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function H1(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:p=void 0}=e,{group:h=void 0}=e;const{states:{open:_},updateOption:y,ids:b}=j1({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:p,group:h,onOpenChange:({next:w})=>(c!==w&&(d==null||d(w),n(2,c=w)),w),positioning:{gutter:0,offset:{mainAxis:1}}}),A=ln([b.content,b.trigger],([w,E])=>({content:w,trigger:E}));return ae(t,A,w=>n(0,o=w)),t.$$set=w=>{"closeOnEscape"in w&&n(3,l=w.closeOnEscape),"portal"in w&&n(4,a=w.portal),"closeOnPointerDown"in w&&n(5,s=w.closeOnPointerDown),"openDelay"in w&&n(6,u=w.openDelay),"closeDelay"in w&&n(7,f=w.closeDelay),"open"in w&&n(2,c=w.open),"onOpenChange"in w&&n(8,d=w.onOpenChange),"disableHoverableContent"in w&&n(9,p=w.disableHoverableContent),"group"in w&&n(10,h=w.group),"$$scope"in w&&n(11,r=w.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&_.set(c),t.$$.dirty&8&&y("closeOnEscape",l),t.$$.dirty&16&&y("portal",a),t.$$.dirty&32&&y("closeOnPointerDown",s),t.$$.dirty&64&&y("openDelay",u),t.$$.dirty&128&&y("closeDelay",f),t.$$.dirty&1024&&y("group",h),t.$$.dirty&512&&y("disableHoverableContent",p)},[o,A,c,l,a,s,u,f,d,p,h,r,i]}class W1 extends we{constructor(e){super(),ye(this,e,H1,V1,fe,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const $1=t=>({builder:t[0]&256}),au=t=>({builder:t[8]}),K1=t=>({builder:t[0]&256}),uu=t=>({builder:t[8]}),U1=t=>({builder:t[0]&256}),fu=t=>({builder:t[8]}),Y1=t=>({builder:t[0]&256}),cu=t=>({builder:t[8]}),X1=t=>({builder:t[0]&256}),du=t=>({builder:t[8]}),J1=t=>({builder:t[0]&256}),mu=t=>({builder:t[8]});function x1(t){let e,n,o,i;const r=t[28].default,l=me(r,t,t[27],au);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[Fe(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&_e(l,r,u,u[27],n?pe(r,u[27],f,$1):he(u[27]),au),le(e,s=ve(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[33](null),o=!1,je(i)}}}function Z1(t){let e,n,o,i,r;const l=t[28].default,a=me(l,t,t[27],uu);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=O("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&_e(a,l,t,t[27],o?pe(l,t[27],c,K1):he(t[27]),uu),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Jt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,je(r)}}}function Q1(t){let e,n,o,i,r;const l=t[28].default,a=me(l,t,t[27],fu);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=O("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&_e(a,l,t,t[27],o?pe(l,t[27],c,U1):he(t[27]),fu),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),f&&(n||tt(()=>{n=Xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[31](null),i=!1,je(r)}}}function z1(t){let e,n,o,i,r,l;const a=t[28].default,s=me(a,t,t[27],cu);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=Y(f,u[c]);return{c(){e=O("div"),s&&s.c(),le(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[Fe(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&_e(s,a,t,t[27],i?pe(a,t[27],d,Y1):he(t[27]),cu),le(e,f=ve(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(C(s,c),c&&tt(()=>{i&&(o&&o.end(1),n=Xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Jt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,je(l)}}}function eb(t){let e,n,o,i,r;const l=t[28].default,a=me(l,t,t[27],du);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=O("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&_e(a,l,t,t[27],o?pe(l,t[27],c,X1):he(t[27]),du),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),f&&tt(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,je(r)}}}function tb(t){let e;const n=t[28].default,o=me(n,t,t[27],mu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&_e(o,n,i,i[27],e?pe(n,i[27],r,J1):he(i[27]),mu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function nb(t){let e,n,o,i;const r=[tb,eb,z1,Q1,Z1,x1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function ob(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:y=!1}=e,{id:b=void 0}=e,{side:A="top"}=e,{align:w="center"}=e,{sideOffset:E=0}=e,{alignOffset:V=0}=e,{collisionPadding:N=8}=e,{avoidCollisions:$=!0}=e,{collisionBoundary:B=void 0}=e,{sameWidth:q=!1}=e,{fitViewport:X=!1}=e,{strategy:P="absolute"}=e,{overlap:g=!1}=e,{el:k=void 0}=e;const{elements:{content:R},states:{open:F},ids:L,getAttrs:K}=ns();ae(t,R,U=>n(26,a=U)),ae(t,F,U=>n(9,l=U));const x=Wn(),J=K("content");function m(U){Oe[U?"unshift":"push"](()=>{k=U,n(0,k)})}function D(U){Oe[U?"unshift":"push"](()=>{k=U,n(0,k)})}function H(U){Oe[U?"unshift":"push"](()=>{k=U,n(0,k)})}function te(U){Oe[U?"unshift":"push"](()=>{k=U,n(0,k)})}function oe(U){Oe[U?"unshift":"push"](()=>{k=U,n(0,k)})}return t.$$set=U=>{e=Y(Y({},e),Ee(U)),n(13,r=re(e,i)),"transition"in U&&n(1,f=U.transition),"transitionConfig"in U&&n(2,c=U.transitionConfig),"inTransition"in U&&n(3,d=U.inTransition),"inTransitionConfig"in U&&n(4,p=U.inTransitionConfig),"outTransition"in U&&n(5,h=U.outTransition),"outTransitionConfig"in U&&n(6,_=U.outTransitionConfig),"asChild"in U&&n(7,y=U.asChild),"id"in U&&n(14,b=U.id),"side"in U&&n(15,A=U.side),"align"in U&&n(16,w=U.align),"sideOffset"in U&&n(17,E=U.sideOffset),"alignOffset"in U&&n(18,V=U.alignOffset),"collisionPadding"in U&&n(19,N=U.collisionPadding),"avoidCollisions"in U&&n(20,$=U.avoidCollisions),"collisionBoundary"in U&&n(21,B=U.collisionBoundary),"sameWidth"in U&&n(22,q=U.sameWidth),"fitViewport"in U&&n(23,X=U.fitViewport),"strategy"in U&&n(24,P=U.strategy),"overlap"in U&&n(25,g=U.overlap),"el"in U&&n(0,k=U.el),"$$scope"in U&&n(27,u=U.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&b&&L.content.set(b),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,J),t.$$.dirty[0]&67076608&&l&&B1({side:A,align:w,sideOffset:E,alignOffset:V,collisionPadding:N,avoidCollisions:$,collisionBoundary:B,sameWidth:q,fitViewport:X,strategy:P,overlap:g})},[k,f,c,d,p,h,_,y,o,l,R,F,x,r,b,A,w,E,V,N,$,B,q,X,P,g,a,u,s,m,D,H,te,oe]}let ib=class extends we{constructor(e){super(),ye(this,e,ob,nb,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const rb=t=>({builder:t&4}),pu=t=>({builder:t[2]}),lb=t=>({builder:t&4}),_u=t=>({builder:t[2]});function sb(t){let e,n,o,i;const r=t[9].default,l=me(r,t,t[8],pu);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("button"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[Fe(t[2].action(e)),ee(e,"m-blur",t[4]),ee(e,"m-focus",t[4]),ee(e,"m-keydown",t[4]),ee(e,"m-pointerdown",t[4]),ee(e,"m-pointerenter",t[4]),ee(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&_e(l,r,u,u[8],n?pe(r,u[8],f,rb):he(u[8]),pu),le(e,s=ve(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,je(i)}}}function ab(t){let e;const n=t[9].default,o=me(n,t,t[8],_u);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&_e(o,n,i,i[8],e?pe(n,i[8],r,lb):he(i[8]),_u)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function ub(t){let e,n,o,i;const r=[ab,sb],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function fb(t,e,n){let o;const i=["asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:p,getAttrs:h}=ns();ae(t,d,A=>n(7,l=A));const _=Wn(),y=h("trigger");function b(A){Oe[A?"unshift":"push"](()=>{c=A,n(0,c)})}return t.$$set=A=>{e=Y(Y({},e),Ee(A)),n(5,r=re(e,i)),"asChild"in A&&n(1,u=A.asChild),"id"in A&&n(6,f=A.id),"el"in A&&n(0,c=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&p.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,y)},[c,u,o,d,_,r,f,l,s,a,b]}class cb extends we{constructor(e){super(),ye(this,e,fb,ub,fe,{asChild:1,id:6,el:0})}}function db(t){let e;const n=t[5].default,o=me(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&_e(o,n,i,i[8],e?pe(n,i[8],r,null):he(i[8]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function mb(t){let e,n;const o=[{builders:t[3]},{class:Le(po({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let i={$$slots:{default:[db]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new B0({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&31?ve(o,[l&8&&{builders:r[3]},l&7&&{class:Le(po({variant:r[1],size:r[2],className:r[0]}))},o[2],l&16&&rt(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function pb(t,e,n){const o=["class","variant","size","builders"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(p){ne.call(this,t,p)}function d(p){ne.call(this,t,p)}return t.$$set=p=>{e=Y(Y({},e),Ee(p)),n(4,i=re(e,o)),"class"in p&&n(0,a=p.class),"variant"in p&&n(1,s=p.variant),"size"in p&&n(2,u=p.size),"builders"in p&&n(3,f=p.builders),"$$scope"in p&&n(8,l=p.$$scope)},[a,s,u,f,i,r,c,d,l]}class Yt extends we{constructor(e){super(),ye(this,e,pb,mb,fe,{class:0,variant:1,size:2,builders:3})}}var hu=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,kt=t=>!t||typeof t!="object"||Object.keys(t).length===0,_b=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function ld(t,e){t.forEach(function(n){Array.isArray(n)?ld(n,e):e.push(n)})}function sd(t){let e=[];return ld(t,e),e}var ad=(...t)=>sd(t).filter(Boolean),ud=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=ud(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=ad(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},gu=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),hb={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},fd=t=>t||void 0,xo=(...t)=>fd(sd(t).filter(Boolean).join(" ")),il=null,en={},Al=!1,Fo=(...t)=>e=>e.twMerge?((!il||Al)&&(Al=!1,il=kt(en)?Mc:sp({...en,extend:{theme:en.theme,classGroups:en.classGroups,conflictingClassGroupModifiers:en.conflictingClassGroupModifiers,conflictingClassGroups:en.conflictingClassGroups,...en.extend}})),fd(il(xo(t)))):xo(t),bu=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=xo(t[n],e[n]):t[n]=e[n];return t},gb=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...hb,...e},u=n!=null&&n.base?xo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!kt(n.variants)?ud(i,n.variants):i,c=n!=null&&n.defaultVariants&&!kt(n.defaultVariants)?{...n.defaultVariants,...a}:a;!kt(s.twMergeConfig)&&!_b(s.twMergeConfig,en)&&(Al=!0,en=s.twMergeConfig);let d=kt(n==null?void 0:n.slots),p=kt(o)?{}:{base:xo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},h=d?p:bu({...n==null?void 0:n.slots},kt(p)?{base:t==null?void 0:t.base}:p),_=b=>{if(kt(f)&&kt(o)&&d)return Fo(u,b==null?void 0:b.class,b==null?void 0:b.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let A=(g,k,R=[],F)=>{let L=R;if(typeof k=="string")L=L.concat(gu(k).split(" ").map(K=>`${g}:${K}`));else if(Array.isArray(k))L=L.concat(k.reduce((K,x)=>K.concat(`${g}:${x}`),[]));else if(typeof k=="object"&&typeof F=="string"){for(let K in k)if(k.hasOwnProperty(K)&&K===F){let x=k[K];if(x&&typeof x=="string"){let J=gu(x);L[F]?L[F]=L[F].concat(J.split(" ").map(m=>`${g}:${m}`)):L[F]=J.split(" ").map(m=>`${g}:${m}`)}else Array.isArray(x)&&x.length>0&&(L[F]=x.reduce((J,m)=>J.concat(`${g}:${m}`),[]))}}return L},w=(g,k=f,R=null,F=null)=>{var L;let K=k[g];if(!K||kt(K))return null;let x=(L=F==null?void 0:F[g])!=null?L:b==null?void 0:b[g];if(x===null)return null;let J=hu(x),m=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,D=c==null?void 0:c[g],H=[];if(typeof J=="object"&&m)for(let[U,ke]of Object.entries(J)){let ce=K[ke];if(U==="initial"){D=ke;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(U)||(H=A(U,ce,H,R))}let te=J!=null&&typeof J!="object"?J:hu(D),oe=K[te]||K.false;return typeof H=="object"&&typeof R=="string"&&H[R]?bu(H,oe):H.length>0?(H.push(oe),H):oe},E=()=>f?Object.keys(f).map(g=>w(g,f)):null,V=(g,k)=>{if(!f||typeof f!="object")return null;let R=new Array;for(let F in f){let L=w(F,f,g,k),K=g==="base"&&typeof L=="string"?L:L&&L[g];K&&(R[R.length]=K)}return R},N={};for(let g in b)b[g]!==void 0&&(N[g]=b[g]);let $=(g,k)=>{var R;let F=typeof(b==null?void 0:b[g])=="object"?{[g]:(R=b[g])==null?void 0:R.initial}:{};return{...c,...N,...F,...k}},B=(g=[],k)=>{let R=[];for(let{class:F,className:L,...K}of g){let x=!0;for(let[J,m]of Object.entries(K)){let D=$(J,k);if(Array.isArray(m)){if(!m.includes(D[J])){x=!1;break}}else if(D[J]!==m){x=!1;break}}x&&(F&&R.push(F),L&&R.push(L))}return R},q=g=>{let k=B(r,g),R=B(n==null?void 0:n.compoundVariants,g);return ad(R,k)},X=g=>{let k=q(g);if(!Array.isArray(k))return k;let R={};for(let F of k)if(typeof F=="string"&&(R.base=Fo(R.base,F)(s)),typeof F=="object")for(let[L,K]of Object.entries(F))R[L]=Fo(R[L],K)(s);return R},P=g=>{if(l.length<1)return null;let k={};for(let{slots:R=[],class:F,className:L,...K}of l){if(!kt(K)){let x=!0;for(let J of Object.keys(K)){let m=$(J,g)[J];if(m===void 0||(Array.isArray(K[J])?!K[J].includes(m):K[J]!==m)){x=!1;break}}if(!x)continue}for(let x of R)k[x]=k[x]||[],k[x].push([F,L])}return k};if(!kt(o)||!d){let g={};if(typeof h=="object"&&!kt(h))for(let k of Object.keys(h))g[k]=R=>{var F,L;return Fo(h[k],V(k,R),((F=X(R))!=null?F:[])[k],((L=P(R))!=null?L:[])[k],R==null?void 0:R.class,R==null?void 0:R.className)(s)};return g}return Fo(u,E(),q(),b==null?void 0:b.class,b==null?void 0:b.className)(s)},y=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return _.variantKeys=y(),_.extend=n,_.base=u,_.slots=h,_.variants=f,_.defaultVariants=c,_.compoundSlots=l,_.compoundVariants=r,_};const po=gb({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function bb(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&_e(o,n,i,i[3],e?pe(n,i[3],r,null):he(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function vb(t){let e,n;const o=[{class:Le("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[bb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new ag({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:Le("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function yb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Co extends we{constructor(e){super(),ye(this,e,yb,vb,fe,{class:0})}}function wb(t){let e;const n=t[1].default,o=me(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&_e(o,n,i,i[2],e?pe(n,i[2],r,null):he(i[2]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function kb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[wb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new kg({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&1?ve(o,[rt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function Cb(t,e,n){const o=[];let i=re(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Y(Y({},e),Ee(a)),n(0,i=re(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class Ab extends we{constructor(e){super(),ye(this,e,Cb,kb,fe,{})}}function Sb(t){let e,n,o;const i=t[3].default,r=me(i,t,t[2],null);let l=[{class:n=Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=O("div"),r&&r.c(),le(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&_e(r,i,s,s[2],o?pe(i,s[2],u,null):he(s[2]),null),le(e,a=ve(l,[(!o||u&1&&n!==(n=Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function Tb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class oi extends we{constructor(e){super(),ye(this,e,Tb,Sb,fe,{class:0})}}function Ib(t){let e,n,o;const i=t[3].default,r=me(i,t,t[2],null);let l=[{class:n=Le("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=O("div"),r&&r.c(),le(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&_e(r,i,s,s[2],o?pe(i,s[2],u,null):he(s[2]),null),le(e,a=ve(l,[(!o||u&1&&n!==(n=Le("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function Ob(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Ao extends we{constructor(e){super(),ye(this,e,Ob,Ib,fe,{class:0})}}function cd(t,{delay:e=0,duration:n=400,easing:o=vr}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function Pb(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Le("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new Yg({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&15?ve(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Le("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function Mb(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{class:r=void 0}=e,{transition:l=cd}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(3,i=re(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class Nb extends we{constructor(e){super(),ye(this,e,Mb,Pb,fe,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function yu(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function rl(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=Y(o,n[i]);return{c(){e=yr(t[11]),Ki(e,o)},m(i,r){I(i,e,r)},p(i,r){Ki(e,o=ve(n,[r&32&&i[12]]))},d(i){i&&T(e)}}}function wu(t){let e=t[11],n,o=t[11]&&rl(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),I(i,n,r)},p(i,r){i[11]?e?fe(e,i[11])?(o.d(1),o=rl(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=rl(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&T(n),o&&o.d(i)}}}function Eb(t){let e,n,o,i,r,l=Ue(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=wu(yu(t,l,d));const s=t[10].default,u=me(s,t,t[9],null);let f=[vu,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=Y(c,f[d]);return{c(){e=yr("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=De(),u&&u.c(),Ki(e,c)},m(d,p){I(d,e,p);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(e,null);v(e,n),u&&u.m(e,null),r=!0},p(d,[p]){if(p&32){l=Ue(d[5]);let h;for(h=0;h<l.length;h+=1){const _=yu(d,l,h);a[h]?a[h].p(_,p):(a[h]=wu(_),a[h].c(),a[h].m(e,n))}for(;h<a.length;h+=1)a[h].d(1);a.length=l.length}u&&u.p&&(!r||p&512)&&_e(u,s,d,d[9],r?pe(s,d[9],p,null):he(d[9]),null),Ki(e,c=ve(f,[vu,p&128&&d[7],(!r||p&4)&&{width:d[2]},(!r||p&4)&&{height:d[2]},(!r||p&2)&&{stroke:d[1]},(!r||p&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||p&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(C(u,d),r=!0)},o(d){S(u,d),r=!1},d(d){d&&T(e),wt(a,d),u&&u.d(d)}}}function Rb(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const p=(...h)=>h.filter((_,y,b)=>!!_&&b.indexOf(_)===y).join(" ");return t.$$set=h=>{n(8,e=Y(Y({},e),Ee(h))),n(7,i=re(e,o)),"name"in h&&n(0,a=h.name),"color"in h&&n(1,s=h.color),"size"in h&&n(2,u=h.size),"strokeWidth"in h&&n(3,f=h.strokeWidth),"absoluteStrokeWidth"in h&&n(4,c=h.absoluteStrokeWidth),"iconNode"in h&&n(5,d=h.iconNode),"$$scope"in h&&n(9,l=h.$$scope)},e=Ee(e),[a,s,u,f,c,d,p,i,e,l,r]}class Db extends we{constructor(e){super(),ye(this,e,Rb,Eb,fe,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function Lb(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&_e(o,n,i,i[3],e?pe(n,i[3],r,null):he(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Fb(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[Lb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new Db({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[o[0],l&2&&rt(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function qb(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=Y(Y({},e),Ee(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=Ee(e),[r,e,o,i]}class jb extends we{constructor(e){super(),ye(this,e,qb,Fb,fe,{})}}function Bb(t){let e,n,o,i;return e=new jb({props:{class:"h-4 w-4"}}),{c(){z(e.$$.fragment),n=W(),o=O("span"),o.textContent="Close",M(o,"class","sr-only")},m(r,l){Z(e,r,l),I(r,n,l),I(r,o,l),i=!0},p:Ae,i(r){i||(C(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),Q(e,r)}}}function Gb(t){let e,n,o;const i=t[4].default,r=me(i,t,t[5],null);return n=new _g({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[Bb]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=W(),z(n.$$.fragment)},m(l,a){r&&r.m(l,a),I(l,e,a),Z(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&_e(r,i,l,l[5],o?pe(i,l[5],a,null):he(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(C(r,l),C(n.$$.fragment,l),o=!0)},o(l){S(r,l),S(n.$$.fragment,l),o=!1},d(l){l&&T(e),r&&r.d(l),Q(n,l)}}}function Vb(t){let e,n,o,i;e=new Nb({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let l={$$slots:{default:[Gb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Y(l,r[a]);return o=new qg({props:l}),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment)},m(a,s){Z(e,a,s),I(a,n,s),Z(o,a,s),i=!0},p(a,s){const u=s&15?ve(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&rt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(C(e.$$.fragment,a),C(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),Q(e,a),Q(o,a)}}}function Hb(t){let e,n;return e=new Ab({props:{$$slots:{default:[Vb]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Wb(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=Ar}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=Y(Y({},e),Ee(f)),n(3,i=re(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class So extends we{constructor(e){super(),ye(this,e,Wb,Hb,fe,{class:0,transition:1,transitionConfig:2})}}function $b(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&_e(o,n,i,i[3],e?pe(n,i[3],r,null):he(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Kb(t){let e,n;const o=[{class:Le("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[$b]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new e1({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:Le("text-sm text-muted-foreground",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function Ub(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class To extends we{constructor(e){super(),ye(this,e,Ub,Kb,fe,{class:0})}}const Io=tg;function Yb(t){let e,n,o,i,r=[{class:n=Le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=Y(l,r[a]);return{c(){e=O("input"),le(e,l)},m(a,s){I(a,e,s),e.autofocus&&e.focus(),zt(e,t[0]),o||(i=[ee(e,"input",t[17]),ee(e,"blur",t[3]),ee(e,"change",t[4]),ee(e,"click",t[5]),ee(e,"focus",t[6]),ee(e,"focusin",t[7]),ee(e,"focusout",t[8]),ee(e,"keydown",t[9]),ee(e,"keypress",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseover",t[12]),ee(e,"mouseenter",t[13]),ee(e,"mouseleave",t[14]),ee(e,"paste",t[15]),ee(e,"input",t[16])],o=!0)},p(a,[s]){le(e,l=ve(r,[s&2&&n!==(n=Le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&zt(e,a[0])},i:Ae,o:Ae,d(a){a&&T(e),o=!1,je(i)}}}function Xb(t,e,n){const o=["class","value"];let i=re(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a(N){ne.call(this,t,N)}function s(N){ne.call(this,t,N)}function u(N){ne.call(this,t,N)}function f(N){ne.call(this,t,N)}function c(N){ne.call(this,t,N)}function d(N){ne.call(this,t,N)}function p(N){ne.call(this,t,N)}function h(N){ne.call(this,t,N)}function _(N){ne.call(this,t,N)}function y(N){ne.call(this,t,N)}function b(N){ne.call(this,t,N)}function A(N){ne.call(this,t,N)}function w(N){ne.call(this,t,N)}function E(N){ne.call(this,t,N)}function V(){l=this.value,n(0,l)}return t.$$set=N=>{e=Y(Y({},e),Ee(N)),n(2,i=re(e,o)),"class"in N&&n(1,r=N.class),"value"in N&&n(0,l=N.value)},[l,r,i,a,s,u,f,c,d,p,h,_,y,b,A,w,E,V]}class os extends we{constructor(e){super(),ye(this,e,Xb,Yb,fe,{class:1,value:0})}}function Jb(t){let e;const n=t[2].default,o=me(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&_e(o,n,i,i[4],e?pe(n,i[4],r,null):he(i[4]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function xb(t){let e,n;const o=[{class:Le("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[Jb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new a1({props:i}),e.$on("mousedown",t[3]),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:Le("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&rt(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function Zb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){ne.call(this,t,u)}return t.$$set=u=>{e=Y(Y({},e),Ee(u)),n(1,i=re(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class io extends we{constructor(e){super(),ye(this,e,Zb,xb,fe,{class:0})}}function Qb(t){let e,n;const o=[{class:Le("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new x0({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&15?ve(o,[l&3&&{class:Le("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function zb(t,e,n){const o=["class","orientation","decorative"];let i=re(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(3,i=re(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class At extends we{constructor(e){super(),ye(this,e,zb,Qb,fe,{class:0,orientation:1,decorative:2})}}function ev(t){let e;const n=t[3].default,o=me(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&_e(o,n,i,i[4],e?pe(n,i[4],r,null):he(i[4]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function tv(t){let e,n;const o=[{class:Le("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[ev]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new Dh({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&7?ve(o,[l&1&&{class:Le("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&rt(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function nv(t,e,n){const o=["class","level"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=Y(Y({},e),Ee(u)),n(2,i=re(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class is extends we{constructor(e){super(),ye(this,e,nv,tv,fe,{class:0,level:1})}}const ov=t=>({builder:t&64}),ku=t=>({builder:t[6]});function iv(t){let e;const n=t[2].default,o=me(n,t,t[5],ku);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&_e(o,n,i,i[5],e?pe(n,i[5],r,ov):he(i[5]),ku)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function rv(t){let e,n;const o=[{class:Le(po(),t[0])},t[1]];let i={$$slots:{default:[iv,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new Vh({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:Le(po(),r[0])},l&2&&rt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function lv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){ne.call(this,t,f)}function u(f){ne.call(this,t,f)}return t.$$set=f=>{e=Y(Y({},e),Ee(f)),n(1,i=re(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class sv extends we{constructor(e){super(),ye(this,e,lv,rv,fe,{class:0})}}const av=t=>({builder:t&64}),Cu=t=>({builder:t[6]});function uv(t){let e;const n=t[2].default,o=me(n,t,t[5],Cu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&_e(o,n,i,i[5],e?pe(n,i[5],r,av):he(i[5]),Cu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function fv(t){let e,n;const o=[{class:Le(po({variant:"outline"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[uv,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new Xh({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:Le(po({variant:"outline"}),"mt-2 sm:mt-0",r[0])},l&2&&rt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function cv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){ne.call(this,t,f)}function u(f){ne.call(this,t,f)}return t.$$set=f=>{e=Y(Y({},e),Ee(f)),n(1,i=re(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class dd extends we{constructor(e){super(),ye(this,e,cv,fv,fe,{class:0})}}function dv(t){let e;const n=t[1].default,o=me(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&_e(o,n,i,i[2],e?pe(n,i[2],r,null):he(i[2]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function mv(t){let e,n;const o=[t[0]];let i={$$slots:{default:[dv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new t0({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&1?ve(o,[rt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function pv(t,e,n){const o=[];let i=re(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Y(Y({},e),Ee(a)),n(0,i=re(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class _v extends we{constructor(e){super(),ye(this,e,pv,mv,fe,{})}}function hv(t){let e,n,o;const i=t[3].default,r=me(i,t,t[2],null);let l=[{class:n=Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=O("div"),r&&r.c(),le(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&_e(r,i,s,s[2],o?pe(i,s[2],u,null):he(s[2]),null),le(e,a=ve(l,[(!o||u&1&&n!==(n=Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function gv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class rs extends we{constructor(e){super(),ye(this,e,gv,hv,fe,{class:0})}}function bv(t){let e,n,o;const i=t[3].default,r=me(i,t,t[2],null);let l=[{class:n=Le("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=O("div"),r&&r.c(),le(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&_e(r,i,s,s[2],o?pe(i,s[2],u,null):he(s[2]),null),le(e,a=ve(l,[(!o||u&1&&n!==(n=Le("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function vv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class ls extends we{constructor(e){super(),ye(this,e,vv,bv,fe,{class:0})}}function yv(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Le("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new T0({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&15?ve(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Le("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function wv(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{class:r=void 0}=e,{transition:l=cd}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(3,i=re(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class kv extends we{constructor(e){super(),ye(this,e,wv,yv,fe,{class:0,transition:1,transitionConfig:2})}}function Cv(t){let e;const n=t[4].default,o=me(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&_e(o,n,i,i[5],e?pe(n,i[5],r,null):he(i[5]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Av(t){let e,n,o,i;e=new kv({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[Cv]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Y(l,r[a]);return o=new h0({props:l}),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment)},m(a,s){Z(e,a,s),I(a,n,s),Z(o,a,s),i=!0},p(a,s){const u=s&15?ve(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[2])},s&8&&rt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(C(e.$$.fragment,a),C(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),Q(e,a),Q(o,a)}}}function Sv(t){let e,n;return e=new _v({props:{$$slots:{default:[Av]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Tv(t,e,n){const o=["transition","transitionConfig","class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=Ar}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=Y(Y({},e),Ee(f)),n(3,i=re(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class ss extends we{constructor(e){super(),ye(this,e,Tv,Sv,fe,{transition:0,transitionConfig:1,class:2})}}function Iv(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&_e(o,n,i,i[3],e?pe(n,i[3],r,null):he(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Ov(t){let e,n;const o=[{class:Le("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Iv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new R0({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:Le("text-sm text-muted-foreground",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function Pv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class as extends we{constructor(e){super(),ye(this,e,Pv,Ov,fe,{class:0})}}const us=Ih;function Au(t,e,n){const o=t.slice();return o[25]=e[n],o}function Su(t,e,n){const o=t.slice();return o[28]=e[n],o}function Mv(t){let e;return{c(){e=G("Pause Menu")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Nv(t){let e;return{c(){e=G("Unpause any time by pressing 'P'")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ev(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[Mv]},$$scope:{ctx:t}}}),o=new To({props:{$$slots:{default:[Nv]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function Tu(t){let e,n,o,i,r,l=JSON.stringify(t[5].requirements[t[2].difficulty].population_count)+"",a,s,u=JSON.stringify(t[2].townInfo.population_count)+"",f,c,d,p,h=JSON.stringify(t[5].requirements[t[2].difficulty].happiness)+"",_,y,b=JSON.stringify(t[2].townInfo.happiness)+"",A,w,E,V,N=JSON.stringify(t[5].requirements[t[2].difficulty].employment*100)+"",$,B,q=JSON.stringify((t[2].townInfo.employees/t[2].townInfo.population_count||0)*100)+"",X,P,g,k,R,F=JSON.stringify(t[5].requirements[t[2].difficulty].health)+"",L,K,x=JSON.stringify(t[2].townInfo.health)+"",J,m,D,H,te=JSON.stringify(t[5].requirements[t[2].difficulty].knowledge)+"",oe,U,ke=JSON.stringify(t[2].townInfo.knowledge_points)+"",ce,Ne,Ye;function Be(be,$e){return be[2].townInfo.population_count>=be[5].requirements[be[2].difficulty].population_count?Dv:Rv}let Qe=Be(t),de=Qe(t);function Me(be,$e){return be[2].townInfo.happiness>=be[5].requirements[be[2].difficulty].happiness?Fv:Lv}let Ve=Me(t),We=Ve(t);function Ge(be,$e){return be[2].townInfo.employees/be[2].townInfo.population_count>=be[5].requirements[be[2].difficulty].employment?jv:qv}let ue=Ge(t),Ce=ue(t);function ht(be,$e){return be[2].townInfo.health>=be[5].requirements[be[2].difficulty].health?Gv:Bv}let It=ht(t),dt=It(t);function qt(be,$e){return be[2].townInfo.knowledge_points>=be[5].requirements[be[2].difficulty].knowledge?Hv:Vv}let Et=qt(t),ft=Et(t),ze=t[5].requirements[t[2].difficulty].required_plots!=null&&t[5].requirements[t[2].difficulty].required_plots.length>0&&Iu(t);return{c(){e=O("div"),e.textContent=`With your difficulty (${t[6]}), you must also have:`,n=W(),o=O("ul"),i=O("li"),de.c(),r=G(`
                  Population: `),a=G(l),s=G(" - Currently at "),f=G(u),c=W(),d=O("li"),We.c(),p=G(`
                  Happiness: `),_=G(h),y=G(" - Currently at "),A=G(b),w=W(),E=O("li"),Ce.c(),V=G(`
                  Employment: `),$=G(N),B=G("% - Currently at "),X=G(q),P=G("%"),g=W(),k=O("li"),dt.c(),R=G(`
                  Health: `),L=G(F),K=G(" - Currently at "),J=G(x),m=W(),D=O("li"),ft.c(),H=G(`
                  Knowledge: `),oe=G(te),U=G(" - Currently at "),ce=G(ke),Ne=W(),ze&&ze.c(),Ye=De(),M(e,"class","leading-relaxed text-sm"),M(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(be,$e){I(be,e,$e),I(be,n,$e),I(be,o,$e),v(o,i),de.m(i,null),v(i,r),v(i,a),v(i,s),v(i,f),v(o,c),v(o,d),We.m(d,null),v(d,p),v(d,_),v(d,y),v(d,A),v(o,w),v(o,E),Ce.m(E,null),v(E,V),v(E,$),v(E,B),v(E,X),v(E,P),v(o,g),v(o,k),dt.m(k,null),v(k,R),v(k,L),v(k,K),v(k,J),v(o,m),v(o,D),ft.m(D,null),v(D,H),v(D,oe),v(D,U),v(D,ce),I(be,Ne,$e),ze&&ze.m(be,$e),I(be,Ye,$e)},p(be,$e){Qe!==(Qe=Be(be))&&(de.d(1),de=Qe(be),de&&(de.c(),de.m(i,r))),$e[0]&4&&l!==(l=JSON.stringify(be[5].requirements[be[2].difficulty].population_count)+"")&&se(a,l),$e[0]&4&&u!==(u=JSON.stringify(be[2].townInfo.population_count)+"")&&se(f,u),Ve!==(Ve=Me(be))&&(We.d(1),We=Ve(be),We&&(We.c(),We.m(d,p))),$e[0]&4&&h!==(h=JSON.stringify(be[5].requirements[be[2].difficulty].happiness)+"")&&se(_,h),$e[0]&4&&b!==(b=JSON.stringify(be[2].townInfo.happiness)+"")&&se(A,b),ue!==(ue=Ge(be))&&(Ce.d(1),Ce=ue(be),Ce&&(Ce.c(),Ce.m(E,V))),$e[0]&4&&N!==(N=JSON.stringify(be[5].requirements[be[2].difficulty].employment*100)+"")&&se($,N),$e[0]&4&&q!==(q=JSON.stringify((be[2].townInfo.employees/be[2].townInfo.population_count||0)*100)+"")&&se(X,q),It!==(It=ht(be))&&(dt.d(1),dt=It(be),dt&&(dt.c(),dt.m(k,R))),$e[0]&4&&F!==(F=JSON.stringify(be[5].requirements[be[2].difficulty].health)+"")&&se(L,F),$e[0]&4&&x!==(x=JSON.stringify(be[2].townInfo.health)+"")&&se(J,x),Et!==(Et=qt(be))&&(ft.d(1),ft=Et(be),ft&&(ft.c(),ft.m(D,H))),$e[0]&4&&te!==(te=JSON.stringify(be[5].requirements[be[2].difficulty].knowledge)+"")&&se(oe,te),$e[0]&4&&ke!==(ke=JSON.stringify(be[2].townInfo.knowledge_points)+"")&&se(ce,ke),be[5].requirements[be[2].difficulty].required_plots!=null&&be[5].requirements[be[2].difficulty].required_plots.length>0?ze?ze.p(be,$e):(ze=Iu(be),ze.c(),ze.m(Ye.parentNode,Ye)):ze&&(ze.d(1),ze=null)},d(be){be&&(T(e),T(n),T(o),T(Ne),T(Ye)),de.d(),We.d(),Ce.d(),dt.d(),ft.d(),ze&&ze.d(be)}}}function Rv(t){let e;return{c(){e=G("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Dv(t){let e;return{c(){e=G("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Lv(t){let e;return{c(){e=G("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Fv(t){let e;return{c(){e=G("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function qv(t){let e;return{c(){e=G("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function jv(t){let e;return{c(){e=G("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Bv(t){let e;return{c(){e=G("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Gv(t){let e;return{c(){e=G("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Vv(t){let e;return{c(){e=G("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Hv(t){let e;return{c(){e=G("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Iu(t){let e,n,o,i=Ue(t[5].requirements[t[2].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=Ou(Su(t,i,l));return{c(){e=O("br"),n=G(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=De()},m(l,a){I(l,e,a),I(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);I(l,o,a)},p(l,a){if(a[0]&36){i=Ue(l[5].requirements[l[2].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=Su(l,i,s);r[s]?r[s].p(u,a):(r[s]=Ou(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(T(e),T(n),T(o)),wt(r,l)}}}function Wv(t){let e;return{c(){e=G("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function $v(t){let e;return{c(){e=G("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ou(t){let e,n,o,i,r=t[28]+"",l,a;function s(c,d){return d[0]&4&&(o=null),o==null&&(o=ot(c[28],c[2]).length>0),o?$v:Wv}let u=s(t,[-1,-1]),f=u(t);return{c(){e=O("div"),n=O("li"),f.c(),i=W(),l=G(r),a=W(),M(e,"class","text-sm")},m(c,d){I(c,e,d),v(e,n),f.m(n,null),v(n,i),v(n,l),v(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d[0]&4&&r!==(r=c[28]+"")&&se(l,r)},d(c){c&&T(e),f.d()}}}function Kv(t){let e;return{c(){e=G("Save game")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Uv(t){let e;return{c(){e=G("Save")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Yv(t){let e;return{c(){e=G("Upload game")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Pu(t){let e,n;function o(){return t[19](t[25])}return e=new Yt({props:{class:"bg-blue-600 hover:bg-blue-700 mt-4",id:"collectPrize-"+t[25].id,$$slots:{default:[Xv]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){z(e.$$.fragment)},m(i,r){Z(e,i,r),n=!0},p(i,r){t=i;const l={};r[0]&2&&(l.id="collectPrize-"+t[25].id),r[0]&2|r[1]&1&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Q(e,i)}}}function Xv(t){let e,n=Nu(t[25].prize)+"",o,i;return{c(){e=G("Collect Prize: $"),o=G(n),i=G(" gold")},m(r,l){I(r,e,l),I(r,o,l),I(r,i,l)},p(r,l){l[0]&2&&n!==(n=Nu(r[25].prize)+"")&&se(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function Mu(t){let e,n,o,i,r,l,a=t[25].title+"",s,u,f,c=t[25].requirements+"",d,p,h,_=t[25].icon+"",y,b,A,w=t[25].description+"",E,V,N,$,B=t[8](t[25].id)+"",q,X,P,g=t[13](t[25].id)&&!t[9](t[25].id),k,R,F,L=g&&Pu(t);return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("span"),r=O("div"),l=O("span"),s=G(a),u=W(),f=O("div"),d=G(c),p=W(),h=O("div"),y=G(_),b=W(),A=O("div"),E=G(w),V=W(),N=O("div"),$=G("✅ Completed on Day "),q=G(B),P=W(),L&&L.c(),k=W(),M(l,"class","font-semibold text-lg"),M(f,"class","font-thin text-white opacity-75 text-xs"),M(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),M(h,"class","text-sm flex-grow pr-1 break-inside-avoid "),M(i,"class","flex flex-row justify-between w-[100%]"),M(o,"class","min-w-32 flex"),M(A,"class","text-white opacity-75 text-sm font-light"),M(N,"class",X=(t[13](t[25].id)?"":"hidden")+" text-xs text-green-400"),M(n,"class","flex-col flex px-3 py-2 gap-0"),M(e,"class",R="flex flex-col gap-3 cursor-default rounded-md "+(t[13](t[25].id)?"bg-green-700":"bg-gray-500 opacity-35"))},m(K,x){I(K,e,x),v(e,n),v(n,o),v(o,i),v(i,r),v(r,l),v(l,s),v(r,u),v(r,f),v(f,d),v(i,p),v(i,h),v(h,y),v(n,b),v(n,A),v(A,E),v(n,V),v(n,N),v(N,$),v(N,q),v(n,P),L&&L.m(n,null),v(e,k),F=!0},p(K,x){(!F||x[0]&2)&&a!==(a=K[25].title+"")&&se(s,a),(!F||x[0]&2)&&c!==(c=K[25].requirements+"")&&se(d,c),(!F||x[0]&2)&&_!==(_=K[25].icon+"")&&se(y,_),(!F||x[0]&2)&&w!==(w=K[25].description+"")&&se(E,w),(!F||x[0]&2)&&B!==(B=K[8](K[25].id)+"")&&se(q,B),(!F||x[0]&2&&X!==(X=(K[13](K[25].id)?"":"hidden")+" text-xs text-green-400"))&&M(N,"class",X),x[0]&2&&(g=K[13](K[25].id)&&!K[9](K[25].id)),g?L?(L.p(K,x),x[0]&2&&C(L,1)):(L=Pu(K),L.c(),C(L,1),L.m(n,null)):L&&(Te(),S(L,1,1,()=>{L=null}),Ie()),(!F||x[0]&2&&R!==(R="flex flex-col gap-3 cursor-default rounded-md "+(K[13](K[25].id)?"bg-green-700":"bg-gray-500 opacity-35")))&&M(e,"class",R)},i(K){F||(C(L),F=!0)},o(K){S(L),F=!1},d(K){K&&T(e),L&&L.d()}}}function Jv(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,h,_,y,b,A,w,E,V,N,$,B,q,X,P,g,k,R,F,L,K,x,J,m,D,H,te,oe,U,ke,ce;e=new Ao({props:{$$slots:{default:[Ev]},$$scope:{ctx:t}}});let Ne=t[2].endGoal=="land"&&Tu(t);_=new io({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Kv]},$$scope:{ctx:t}}}),b=new Yt({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[Uv]},$$scope:{ctx:t}}}),b.$on("click",t[16]),w=new io({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Yv]},$$scope:{ctx:t}}}),V=new os({props:{class:"hidden",type:"file",id:"upload"}}),V.$on("change",t[12]),$=new At({props:{orientation:"vertical"}});let Ye=Ue(t[1]),Be=[];for(let de=0;de<Ye.length;de+=1)Be[de]=Mu(Au(t,Ye,de));const Qe=de=>S(Be[de],1,1,()=>{Be[de]=null});return{c(){z(e.$$.fragment),n=W(),o=O("div"),i=O("div"),r=O("div"),l=O("h4"),l.textContent="This game",a=W(),s=O("span"),s.textContent=`${t[5].description_title}`,u=W(),f=O("div"),Ne&&Ne.c(),c=W(),d=O("div"),p=O("div"),h=O("div"),z(_.$$.fragment),y=W(),z(b.$$.fragment),A=W(),z(w.$$.fragment),E=W(),z(V.$$.fragment),N=W(),z($.$$.fragment),B=W(),q=O("div"),X=O("h4"),X.textContent=`Your achievement (${t[7].length}
          / ${et.length})`,P=W(),g=O("span"),g.textContent="Track your progress through games & complete challenges!",k=W(),R=O("br"),F=W(),L=O("div"),K=O("input"),x=W(),J=O("label"),J.textContent="Show completed",m=W(),D=O("div"),H=O("div");for(let de=0;de<Be.length;de+=1)Be[de].c();te=W(),oe=O("span"),oe.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,M(l,"class","underline underline-offset-4"),M(s,"class","text-sm text-gray-400"),M(f,"class","mt-6 gap-0 py-0 text-gray-400 text-sm"),M(r,"class","flex-col h-max"),M(h,"class","flex gap-10 justify-start min-w-[100%] w-[100%] items"),M(p,"class","flex flex-col gap-3 h-max"),M(i,"class","flex flex-col gap-6 justify-between"),M(X,"class","underline underline-offset-4"),M(g,"class","text-sm text-gray-400"),M(K,"type","checkbox"),M(K,"id","toggle-show-completed"),M(K,"class","rounded"),M(K,"tabindex","-1"),K.checked=localStorage.getItem("showCompletedAchievements")==="true",M(J,"for","toggle-show-completed"),M(J,"class","text-xs text-gray-400 select-none ml-2 no-select cursor-pointer "),M(L,"class","flex items-center"),M(H,"class","flex flex-col gap-4 overflow-scroll pb-20 scroll-smooth"),M(D,"class","overflow-scroll mt-2 h-[55vh]"),M(oe,"class","text-sm text-yellow-400 italic"),M(o,"class","flex flex-row w-full gap-10")},m(de,Me){Z(e,de,Me),I(de,n,Me),I(de,o,Me),v(o,i),v(i,r),v(r,l),v(r,a),v(r,s),v(r,u),v(r,f),Ne&&Ne.m(f,null),v(i,c),v(i,d),v(d,p),v(p,h),Z(_,h,null),v(h,y),Z(b,h,null),v(h,A),Z(w,h,null),v(h,E),Z(V,h,null),v(o,N),Z($,o,null),v(o,B),v(o,q),v(q,X),v(q,P),v(q,g),v(q,k),v(q,R),v(q,F),v(q,L),v(L,K),v(L,x),v(L,J),v(q,m),v(q,D),v(D,H);for(let Ve=0;Ve<Be.length;Ve+=1)Be[Ve]&&Be[Ve].m(H,null);v(q,te),v(q,oe),U=!0,ke||(ce=[ee(K,"change",t[17]),ee(K,"keydown",t[18])],ke=!0)},p(de,Me){const Ve={};Me[1]&1&&(Ve.$$scope={dirty:Me,ctx:de}),e.$set(Ve),de[2].endGoal=="land"?Ne?Ne.p(de,Me):(Ne=Tu(de),Ne.c(),Ne.m(f,null)):Ne&&(Ne.d(1),Ne=null);const We={};Me[1]&1&&(We.$$scope={dirty:Me,ctx:de}),_.$set(We);const Ge={};Me[1]&1&&(Ge.$$scope={dirty:Me,ctx:de}),b.$set(Ge);const ue={};if(Me[1]&1&&(ue.$$scope={dirty:Me,ctx:de}),w.$set(ue),Me[0]&9986){Ye=Ue(de[1]);let Ce;for(Ce=0;Ce<Ye.length;Ce+=1){const ht=Au(de,Ye,Ce);Be[Ce]?(Be[Ce].p(ht,Me),C(Be[Ce],1)):(Be[Ce]=Mu(ht),Be[Ce].c(),C(Be[Ce],1),Be[Ce].m(H,null))}for(Te(),Ce=Ye.length;Ce<Be.length;Ce+=1)Qe(Ce);Ie()}},i(de){if(!U){C(e.$$.fragment,de),C(_.$$.fragment,de),C(b.$$.fragment,de),C(w.$$.fragment,de),C(V.$$.fragment,de),C($.$$.fragment,de);for(let Me=0;Me<Ye.length;Me+=1)C(Be[Me]);U=!0}},o(de){S(e.$$.fragment,de),S(_.$$.fragment,de),S(b.$$.fragment,de),S(w.$$.fragment,de),S(V.$$.fragment,de),S($.$$.fragment,de),Be=Be.filter(Boolean);for(let Me=0;Me<Be.length;Me+=1)S(Be[Me]);U=!1},d(de){de&&(T(n),T(o)),Q(e,de),Ne&&Ne.d(),Q(_),Q(b),Q(w),Q(V),Q($),wt(Be,de),ke=!1,je(ce)}}}function xv(t){let e,n;return e=new So({props:{class:" max-w-[90vw] max-h-[90vh] bg-foregroundDark text-foregroundText",$$slots:{default:[Jv]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Zv(t){var o;let e=((o=t[14]())==null?void 0:o.title)+"",n;return{c(){n=G(e)},m(i,r){I(i,n,r)},p:Ae,d(i){i&&T(n)}}}function Qv(t){let e,n,o,i;return{c(){var r,l;e=O("div"),n=O("div"),n.textContent=`${(r=t[14]())==null?void 0:r.icon}`,o=W(),i=O("div"),i.textContent=`${(l=t[14]())==null?void 0:l.description}`,M(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),M(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),M(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(r,l){I(r,e,l),v(e,n),v(e,o),v(e,i)},p:Ae,d(r){r&&T(e)}}}function zv(t){let e,n,o,i;return e=new is({props:{class:"text-center text-xl font-bold",$$slots:{default:[Zv]},$$scope:{ctx:t}}}),o=new as({props:{$$slots:{default:[Qv]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function ey(t){let e;return{c(){e=G("Close to collect prize")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function ty(t){let e,n;return e=new dd({props:{$$slots:{default:[ey]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function ny(t){let e,n,o,i;return e=new ls({props:{$$slots:{default:[zv]},$$scope:{ctx:t}}}),o=new rs({props:{$$slots:{default:[ty]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&16|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function oy(t){let e,n;return e=new ss({props:{$$slots:{default:[ny]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i[0]&16|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function iy(t){let e,n,o,i,r;function l(s){t[20](s)}let a={$$slots:{default:[xv]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),e=new Io({props:a}),Oe.push(()=>Vn(e,"open",l)),i=new us({props:{open:t[4],$$slots:{default:[oy]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),o=W(),z(i.$$.fragment)},m(s,u){Z(e,s,u),I(s,o,u),Z(i,s,u),r=!0},p(s,u){const f={};u[0]&6|u[1]&1&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&8&&(n=!0,f.open=s[3],Gn(()=>n=!1)),e.$set(f);const c={};u[0]&16&&(c.open=s[4]),u[0]&16|u[1]&1&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(C(e.$$.fragment,s),C(i.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(i.$$.fragment,s),r=!1},d(s){s&&T(o),Q(e,s),Q(i,s)}}}function Nu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function ry(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function ly(t,e,n){let o,i,r,l,a;ae(t,nn,P=>n(23,o=P)),ae(t,Re,P=>n(2,i=P)),ae(t,er,P=>n(15,r=P)),ae(t,Pt,P=>n(3,l=P)),ae(t,zi,P=>n(4,a=P));const u=pt[i.endGoal],f=Kl[i.difficulty]||0;et.sort((P,g)=>A(P.id)&&!A(g.id)?-1:!A(P.id)&&A(g.id)?1:0);const c=et.filter(P=>A(P.id));function d(P){const g=o.achievements.find(k=>k[0]==P);return g==null?0:`${g[1]} in ${g[2]}.`}function p(P){const g=o.achievements.find(k=>k[0]==P);return g==null?!1:g[3]}function h(P){const g=o.achievements.find(R=>R[0]==P);if(g==null)return;const k=et.find(R=>R.id==P);k!=null&&(Pe(Re,i.townInfo.gold+=k.prize,i),g[3]=!0,Pe(nn,o.achievements=o.achievements.map(R=>R[0]==P?g:R),o))}let _=et;function y(){const P=JSON.stringify(i),g=new Blob([P],{type:"text/plain"}),k=URL.createObjectURL(g),R=document.createElement("a");R.href=k,R.download=`${new Date().toISOString()}.json`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(k)}function b(){const g=document.getElementById("upload").files;if(g==null)return;const k=g[0],R=new FileReader;R.onload=function(F){if(F.target==null)return;const L=F.target.result;if(typeof L=="string"){if(!ry(L)){alert("Invalid game file");return}Ul(JSON.parse(L))}else alert("Invalid game file: is not String.")},R.readAsText(k)}function A(P){return o.achievements==null?!1:o.achievements.find(g=>g[0]==P)!=null}function w(){er.update(P=>!P),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Cc.set("game"));function E(){const P=o.achievements[o.achievements.length-1];if(P!=null)return et.find(g=>g.id==P[0])}const V=()=>y(),N=()=>{w()},$=P=>{P.key==="p"&&Pt.set(!1)},B=P=>{h(P.id);const g=document.getElementById(`collectPrize-${P.id}`);g&&(g.style.display="none")};function q(P){l=P,Pt.set(l)}const X=()=>{Pe(zi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&32774&&i)if(r)n(1,_=et);else{n(1,_=[]);for(let P=0;P<et.length;P++)(!A(et[P].id)||!p(et[P].id))&&_.push(et[P])}},[w,_,i,l,a,u,f,c,d,p,h,y,b,A,E,r,V,N,$,B,q,X]}class sy extends we{constructor(e){super(),ye(this,e,ly,iy,fe,{toggleShowCompleted:0},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[0]}}function ay(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function uy(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=G(e)},m(o,i){I(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&se(n,e)},d(o){o&&T(n)}}}function fy(t){let e;return{c(){e=G("Keep playin'")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function cy(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new Yt({props:{class:"bg-accent",$$slots:{default:[fy]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=O("span"),o=G(n),i=W(),r=O("br"),l=W(),a=O("br"),s=W(),z(u.$$.fragment),M(e,"class","text-gray-500 text-sm")},m(c,d){I(c,e,d),v(e,o),I(c,i,d),I(c,r,d),I(c,l,d),I(c,a,d),I(c,s,d),Z(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&se(o,n);const p={};d&16&&(p.$$scope={dirty:d,ctx:c}),u.$set(p)},i(c){f||(C(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(i),T(r),T(l),T(a),T(s)),Q(u,c)}}}function dy(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[uy]},$$scope:{ctx:t}}}),o=new To({props:{$$slots:{default:[cy]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function my(t){let e;return{c(){e=O("span"),e.textContent="Reset the game by pressing SHIFT+ESC",M(e,"class","text-gray-500 text-sm")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function py(t){let e,n,o,i;return e=new Ao({props:{$$slots:{default:[dy]},$$scope:{ctx:t}}}),o=new oi({props:{$$slots:{default:[my]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function _y(t){let e,n;return e=new So({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[py]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function hy(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[_y]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new Io({props:r}),Oe.push(()=>Vn(e,"open",i)),{c(){z(e.$$.fragment)},m(l,a){Z(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Gn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){Q(e,l)}}}function gy(t,e,n){let o;ae(t,Re,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,Re.set(a),n(1,i=!1),Pt.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class by extends we{constructor(e){super(),ye(this,e,gy,hy,fe,{})}}function vy(t){let e;return{c(){e=G("Welcome to Plots!")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function yy(t){let e;return{c(){e=G("Select a map size (difficulty)")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function wy(t){let e;return{c(){e=G("Select a game mode")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function ky(t){let e;return{c(){e=O("p"),e.textContent=`${pt.free_play.description_title}`,M(e,"class","text-gray-500 text-sm")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Cy(t){let e;return{c(){e=O("p"),e.textContent=`${pt.land.description_title}`,M(e,"class","text-gray-500 text-sm")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ay(t){let e;return{c(){e=G("Town Name")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Sy(t){let e;return{c(){e=G("Cheats")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ty(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,h,_,y,b,A,w,E,V,N,$,B,q,X,P,g,k,R,F,L,K;r=new io({props:{for:"difficulty",class:"mt-2",$$slots:{default:[yy]},$$scope:{ctx:t}}}),p=new io({props:{for:"endGoal",class:"mt-2",$$slots:{default:[wy]},$$scope:{ctx:t}}});function x(D,H){return D[0]==="land"?Cy:ky}let J=x(t),m=J(t);return V=new io({props:{for:"townName",class:"mt-2",$$slots:{default:[Ay]},$$scope:{ctx:t}}}),$=new os({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),X=new io({props:{for:"cheats",class:"mt-2",$$slots:{default:[Sy]},$$scope:{ctx:t}}}),{c(){e=O("a"),e.textContent="GitHub / Learn how to play",n=W(),o=O("div"),i=O("div"),z(r.$$.fragment),l=W(),a=O("select"),s=O("option"),s.textContent="Easy (quick game)",u=O("option"),u.textContent="Normal",f=O("option"),f.textContent="Hard (longest game)",c=W(),d=O("div"),z(p.$$.fragment),h=W(),m.c(),_=W(),y=O("select"),b=O("option"),b.textContent=`${pt.land.short_title}`,A=O("option"),A.textContent=`${pt.free_play.short_title}`,w=W(),E=O("div"),z(V.$$.fragment),N=W(),z($.$$.fragment),B=W(),q=O("div"),z(X.$$.fragment),P=W(),g=O("select"),k=O("option"),k.textContent="No cheats",R=O("option"),R.textContent="Dev mode",M(e,"href","https://github.com/josephrcox/plots#how-to-play"),M(e,"class","text-blue-500 text-sm mb-4 hover:underline"),M(e,"target","_blank"),s.__value="0",zt(s,s.__value),u.__value="1",zt(u,u.__value),u.selected=!0,f.__value="2",zt(f,f.__value),M(a,"id","difficulty"),M(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"),b.__value="land",zt(b,b.__value),A.__value="free_play",zt(A,A.__value),M(y,"id","endGoal"),M(y,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),k.__value="false",zt(k,k.__value),k.selected=!0,R.__value="true",zt(R,R.__value),M(g,"id","cheats"),M(g,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),M(o,"class","flex flex-col justify-center gap-5 mt-4")},m(D,H){I(D,e,H),I(D,n,H),I(D,o,H),v(o,i),Z(r,i,null),v(i,l),v(i,a),v(a,s),v(a,u),v(a,f),v(o,c),v(o,d),Z(p,d,null),v(d,h),m.m(d,null),v(d,_),v(d,y),v(y,b),v(y,A),Hs(y,t[0]),v(o,w),v(o,E),Z(V,E,null),v(E,N),Z($,E,null),v(o,B),v(o,q),Z(X,q,null),v(q,P),v(q,g),v(g,k),v(g,R),F=!0,L||(K=ee(y,"change",t[4]),L=!0)},p(D,H){const te={};H&128&&(te.$$scope={dirty:H,ctx:D}),r.$set(te);const oe={};H&128&&(oe.$$scope={dirty:H,ctx:D}),p.$set(oe),J!==(J=x(D))&&(m.d(1),m=J(D),m&&(m.c(),m.m(d,_))),(!F||H&1)&&Hs(y,D[0]);const U={};H&128&&(U.$$scope={dirty:H,ctx:D}),V.$set(U);const ke={};H&128&&(ke.$$scope={dirty:H,ctx:D}),X.$set(ke)},i(D){F||(C(r.$$.fragment,D),C(p.$$.fragment,D),C(V.$$.fragment,D),C($.$$.fragment,D),C(X.$$.fragment,D),F=!0)},o(D){S(r.$$.fragment,D),S(p.$$.fragment,D),S(V.$$.fragment,D),S($.$$.fragment,D),S(X.$$.fragment,D),F=!1},d(D){D&&(T(e),T(n),T(o)),Q(r),Q(p),m.d(),Q(V),Q($),Q(X),L=!1,K()}}}function Iy(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[vy]},$$scope:{ctx:t}}}),o=new To({props:{$$slots:{default:[Ty]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&129&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function Oy(t){let e;return{c(){e=G("Reset user")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Py(t){let e,n,o=t[1].username+"",i,r,l,a,s,u,f,c,d;return a=new Yt({props:{$$slots:{default:[Oy]},$$scope:{ctx:t}}}),a.$on("click",Ry),{c(){e=O("div"),n=O("span"),i=G(o),r=W(),l=O("div"),z(a.$$.fragment),s=W(),u=O("button"),u.textContent="Start game",M(n,"class","italic opacity-30 text-xs py-2 text-start rounded h-full flex flex-col justify-center mr-10"),M(u,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"),M(e,"class","flex flex-row justify-between w-full px-1")},m(p,h){I(p,e,h),v(e,n),v(n,i),v(e,r),v(e,l),Z(a,l,null),v(l,s),v(l,u),f=!0,c||(d=[ee(n,"click",t[5]),ee(u,"click",t[3])],c=!0)},p(p,h){(!f||h&2)&&o!==(o=p[1].username+"")&&se(i,o);const _={};h&128&&(_.$$scope={dirty:h,ctx:p}),a.$set(_)},i(p){f||(C(a.$$.fragment,p),f=!0)},o(p){S(a.$$.fragment,p),f=!1},d(p){p&&T(e),Q(a),c=!1,je(d)}}}function My(t){let e,n,o,i;return e=new Ao({props:{$$slots:{default:[Iy]},$$scope:{ctx:t}}}),o=new oi({props:{$$slots:{default:[Py]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&129&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&130&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function Ny(t){let e,n;return e=new So({props:{transition:Ar,class:"bg-foregroundDark text-foregroundText",$$slots:{default:[My]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&131&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Ey(t){let e,n,o;function i(l){t[6](l)}let r={$$slots:{default:[Ny]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new Io({props:r}),Oe.push(()=>Vn(e,"open",i)),{c(){z(e.$$.fragment)},m(l,a){Z(e,l,a),o=!0},p(l,[a]){const s={};a&131&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,Gn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){Q(e,l)}}}function Ry(){alert("Deleted :)"),localStorage.clear(),window.location.href=""}function Dy(t,e,n){let o,i;ae(t,nn,f=>n(1,o=f)),ae(t,$o,f=>n(2,i=f)),Pt.set(!1);function r(){const f=document.getElementById("difficulty").value,c=document.getElementById("endGoal").value,d=document.getElementById("townName").value,p=document.getElementById("cheats").value=="true";Cm(f,c,d,p)}let l="free_play";const a=f=>{n(0,l=f.target.value)};function s(){const f=prompt("Enter new username");let c=o;c.username=f,Im(c)}function u(f){t.$$.not_equal(i.visible,f)&&(i.visible=f,$o.set(i))}return[l,o,i,r,a,s,u]}class Ly extends we{constructor(e){super(),ye(this,e,Dy,Ey,fe,{})}}function Fy(t){let e;return{c(){e=G("Scoreboard")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function qy(t){let e=t[1].description_title+"",n;return{c(){n=G(e)},m(o,i){I(o,n,i)},p:Ae,d(o){o&&T(n)}}}function jy(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[Fy]},$$scope:{ctx:t}}}),o=new To({props:{$$slots:{default:[qy]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function By(t){let e;return{c(){e=G("footer")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Gy(t){let e,n,o,i;return e=new Ao({props:{$$slots:{default:[jy]},$$scope:{ctx:t}}}),o=new oi({props:{$$slots:{default:[By]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=G(`
		hi
		`),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function Vy(t){let e,n;return e=new So({props:{$$slots:{default:[Gy]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Hy(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Vy]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new Io({props:r}),Oe.push(()=>Vn(e,"open",i)),{c(){z(e.$$.fragment)},m(l,a){Z(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Gn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){Q(e,l)}}}function Wy(t,e,n){let o,i;ae(t,Re,s=>n(2,o=s)),ae(t,Us,s=>n(0,i=s));const l=pt[o.endGoal];Kl[o.difficulty];function a(s){i=s,Us.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class $y extends we{constructor(e){super(),ye(this,e,Wy,Hy,fe,{})}}function Vi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ky(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function md(t){let e,n,o;t.length!==2?(e=Vi,n=(a,s)=>Vi(t(a),s),o=(a,s)=>t(a)-s):(e=t===Vi||t===Ky?t:Uy,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function Uy(){return 0}function Yy(t){return t===null?NaN:+t}const Xy=md(Vi),Jy=Xy.right;md(Yy).center;const xy=Math.sqrt(50),Zy=Math.sqrt(10),Qy=Math.sqrt(2);function ar(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=xy?10:r>=Zy?5:r>=Qy?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?ar(t,e,n*2):[a,s,u]}function zy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?ar(e,t,n):ar(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function Sl(t,e,n){return e=+e,t=+t,n=+n,ar(t,e,n)[2]}function ew(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?Sl(e,t,n):Sl(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function tw(t){return t}var ll=1,sl=2,Tl=3,Bo=4,Eu=1e-6;function nw(t){return"translate("+t+",0)"}function ow(t){return"translate(0,"+t+")"}function iw(t){return e=>+t(e)}function rw(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function lw(){return!this.__axis}function pd(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===ll||t===Bo?-1:1,f=t===Bo||t===sl?"x":"y",c=t===ll||t===Tl?nw:ow;function d(p){var h=o??(e.ticks?e.ticks.apply(e,n):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,n):tw),y=Math.max(r,0)+a,b=e.range(),A=+b[0]+s,w=+b[b.length-1]+s,E=(e.bandwidth?rw:iw)(e.copy(),s),V=p.selection?p.selection():p,N=V.selectAll(".domain").data([null]),$=V.selectAll(".tick").data(h,e).order(),B=$.exit(),q=$.enter().append("g").attr("class","tick"),X=$.select("line"),P=$.select("text");N=N.merge(N.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(q),X=X.merge(q.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),P=P.merge(q.append("text").attr("fill","currentColor").attr(f,u*y).attr("dy",t===ll?"0em":t===Tl?"0.71em":"0.32em")),p!==V&&(N=N.transition(p),$=$.transition(p),X=X.transition(p),P=P.transition(p),B=B.transition(p).attr("opacity",Eu).attr("transform",function(g){return isFinite(g=E(g))?c(g+s):this.getAttribute("transform")}),q.attr("opacity",Eu).attr("transform",function(g){var k=this.parentNode.__axis;return c((k&&isFinite(k=k(g))?k:E(g))+s)})),B.remove(),N.attr("d",t===Bo||t===sl?l?"M"+u*l+","+A+"H"+s+"V"+w+"H"+u*l:"M"+s+","+A+"V"+w:l?"M"+A+","+u*l+"V"+s+"H"+w+"V"+u*l:"M"+A+","+s+"H"+w),$.attr("opacity",1).attr("transform",function(g){return c(E(g)+s)}),X.attr(f+"2",u*r),P.attr(f,u*y).text(_),V.filter(lw).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===sl?"start":t===Bo?"end":"middle"),V.each(function(){this.__axis=E})}return d.scale=function(p){return arguments.length?(e=p,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),d):n.slice()},d.tickValues=function(p){return arguments.length?(o=p==null?null:Array.from(p),d):o&&o.slice()},d.tickFormat=function(p){return arguments.length?(i=p,d):i},d.tickSize=function(p){return arguments.length?(r=l=+p,d):r},d.tickSizeInner=function(p){return arguments.length?(r=+p,d):r},d.tickSizeOuter=function(p){return arguments.length?(l=+p,d):l},d.tickPadding=function(p){return arguments.length?(a=+p,d):a},d.offset=function(p){return arguments.length?(s=+p,d):s},d}function sw(t){return pd(Tl,t)}function aw(t){return pd(Bo,t)}var uw={value:()=>{}};function _d(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Hi(n)}function Hi(t){this._=t}function fw(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Hi.prototype=_d.prototype={constructor:Hi,on:function(t,e){var n=this._,o=fw(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=cw(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=Ru(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ru(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Hi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function cw(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function Ru(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=uw,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var Il="http://www.w3.org/1999/xhtml";const Du={svg:"http://www.w3.org/2000/svg",xhtml:Il,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Nr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Du.hasOwnProperty(e)?{space:Du[e],local:t}:t}function dw(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Il&&e.documentElement.namespaceURI===Il?e.createElement(t):e.createElementNS(n,t)}}function mw(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function hd(t){var e=Nr(t);return(e.local?mw:dw)(e)}function pw(){}function fs(t){return t==null?pw:function(){return this.querySelector(t)}}function _w(t){typeof t!="function"&&(t=fs(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new Tt(o,this._parents)}function hw(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function gw(){return[]}function gd(t){return t==null?gw:function(){return this.querySelectorAll(t)}}function bw(t){return function(){return hw(t.apply(this,arguments))}}function vw(t){typeof t=="function"?t=bw(t):t=gd(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new Tt(o,i)}function bd(t){return function(){return this.matches(t)}}function vd(t){return function(e){return e.matches(t)}}var yw=Array.prototype.find;function ww(t){return function(){return yw.call(this.children,t)}}function kw(){return this.firstElementChild}function Cw(t){return this.select(t==null?kw:ww(typeof t=="function"?t:vd(t)))}var Aw=Array.prototype.filter;function Sw(){return Array.from(this.children)}function Tw(t){return function(){return Aw.call(this.children,t)}}function Iw(t){return this.selectAll(t==null?Sw:Tw(typeof t=="function"?t:vd(t)))}function Ow(t){typeof t!="function"&&(t=bd(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Tt(o,this._parents)}function yd(t){return new Array(t.length)}function Pw(){return new Tt(this._enter||this._groups.map(yd),this._parents)}function ur(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ur.prototype={constructor:ur,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Mw(t){return function(){return t}}function Nw(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new ur(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function Ew(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),p;for(a=0;a<f;++a)(s=e[a])&&(d[a]=p=l.call(s,s.__data__,a,e)+"",u.has(p)?i[a]=s:u.set(p,s));for(a=0;a<c;++a)p=l.call(t,r[a],a,r)+"",(s=u.get(p))?(o[a]=s,s.__data__=r[a],u.delete(p)):n[a]=new ur(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function Rw(t){return t.__data__}function Dw(t,e){if(!arguments.length)return Array.from(this,Rw);var n=e?Ew:Nw,o=this._parents,i=this._groups;typeof t!="function"&&(t=Mw(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,p=Lw(t.call(f,f&&f.__data__,u,o)),h=p.length,_=a[u]=new Array(h),y=l[u]=new Array(h),b=s[u]=new Array(d);n(f,c,_,y,b,p,e);for(var A=0,w=0,E,V;A<h;++A)if(E=_[A]){for(A>=w&&(w=A+1);!(V=y[w])&&++w<h;);E._next=V||null}}return l=new Tt(l,o),l._enter=a,l._exit=s,l}function Lw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Fw(){return new Tt(this._exit||this._groups.map(yd),this._parents)}function qw(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function jw(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),p,h=0;h<c;++h)(p=u[h]||f[h])&&(d[h]=p);for(;s<i;++s)a[s]=n[s];return new Tt(a,this._parents)}function Bw(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function Gw(t){t||(t=Vw);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new Tt(i,this._parents).order()}function Vw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Hw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ww(){return Array.from(this)}function $w(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function Kw(){let t=0;for(const e of this)++t;return t}function Uw(){return!this.node()}function Yw(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function Xw(t){return function(){this.removeAttribute(t)}}function Jw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xw(t,e){return function(){this.setAttribute(t,e)}}function Zw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Qw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function zw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function e2(t,e){var n=Nr(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?Jw:Xw:typeof e=="function"?n.local?zw:Qw:n.local?Zw:xw)(n,e))}function wd(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function t2(t){return function(){this.style.removeProperty(t)}}function n2(t,e,n){return function(){this.style.setProperty(t,e,n)}}function o2(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function i2(t,e,n){return arguments.length>1?this.each((e==null?t2:typeof e=="function"?o2:n2)(t,e,n??"")):_o(this.node(),t)}function _o(t,e){return t.style.getPropertyValue(e)||wd(t).getComputedStyle(t,null).getPropertyValue(e)}function r2(t){return function(){delete this[t]}}function l2(t,e){return function(){this[t]=e}}function s2(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function a2(t,e){return arguments.length>1?this.each((e==null?r2:typeof e=="function"?s2:l2)(t,e)):this.node()[t]}function kd(t){return t.trim().split(/^|\s+/)}function cs(t){return t.classList||new Cd(t)}function Cd(t){this._node=t,this._names=kd(t.getAttribute("class")||"")}Cd.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ad(t,e){for(var n=cs(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function Sd(t,e){for(var n=cs(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function u2(t){return function(){Ad(this,t)}}function f2(t){return function(){Sd(this,t)}}function c2(t,e){return function(){(e.apply(this,arguments)?Ad:Sd)(this,t)}}function d2(t,e){var n=kd(t+"");if(arguments.length<2){for(var o=cs(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?c2:e?u2:f2)(n,e))}function m2(){this.textContent=""}function p2(t){return function(){this.textContent=t}}function _2(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function h2(t){return arguments.length?this.each(t==null?m2:(typeof t=="function"?_2:p2)(t)):this.node().textContent}function g2(){this.innerHTML=""}function b2(t){return function(){this.innerHTML=t}}function v2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function y2(t){return arguments.length?this.each(t==null?g2:(typeof t=="function"?v2:b2)(t)):this.node().innerHTML}function w2(){this.nextSibling&&this.parentNode.appendChild(this)}function k2(){return this.each(w2)}function C2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function A2(){return this.each(C2)}function S2(t){var e=typeof t=="function"?t:hd(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function T2(){return null}function I2(t,e){var n=typeof t=="function"?t:hd(t),o=e==null?T2:typeof e=="function"?e:fs(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function O2(){var t=this.parentNode;t&&t.removeChild(this)}function P2(){return this.each(O2)}function M2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function N2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function E2(t){return this.select(t?N2:M2)}function R2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function D2(t){return function(e){t.call(this,e,this.__data__)}}function L2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function F2(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function q2(t,e,n){return function(){var o=this.__on,i,r=D2(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function j2(t,e,n){var o=L2(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?q2:F2,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function Td(t,e,n){var o=wd(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function B2(t,e){return function(){return Td(this,t,e)}}function G2(t,e){return function(){return Td(this,t,e.apply(this,arguments))}}function V2(t,e){return this.each((typeof e=="function"?G2:B2)(t,e))}function*H2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var Id=[null];function Tt(t,e){this._groups=t,this._parents=e}function ii(){return new Tt([[document.documentElement]],Id)}function W2(){return this}Tt.prototype=ii.prototype={constructor:Tt,select:_w,selectAll:vw,selectChild:Cw,selectChildren:Iw,filter:Ow,data:Dw,enter:Pw,exit:Fw,join:qw,merge:jw,selection:W2,order:Bw,sort:Gw,call:Hw,nodes:Ww,node:$w,size:Kw,empty:Uw,each:Yw,attr:e2,style:i2,property:a2,classed:d2,text:h2,html:y2,raise:k2,lower:A2,append:S2,insert:I2,remove:P2,clone:E2,datum:R2,on:j2,dispatch:V2,[Symbol.iterator]:H2};function $2(t){return typeof t=="string"?new Tt([[document.querySelector(t)]],[document.documentElement]):new Tt([[t]],Id)}function ds(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Od(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function ri(){}var Zo=.7,fr=1/Zo,uo="\\s*([+-]?\\d+)\\s*",Qo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",K2=/^#([0-9a-f]{3,8})$/,U2=new RegExp(`^rgb\\(${uo},${uo},${uo}\\)$`),Y2=new RegExp(`^rgb\\(${$t},${$t},${$t}\\)$`),X2=new RegExp(`^rgba\\(${uo},${uo},${uo},${Qo}\\)$`),J2=new RegExp(`^rgba\\(${$t},${$t},${$t},${Qo}\\)$`),x2=new RegExp(`^hsl\\(${Qo},${$t},${$t}\\)$`),Z2=new RegExp(`^hsla\\(${Qo},${$t},${$t},${Qo}\\)$`),Lu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ds(ri,jn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Fu,formatHex:Fu,formatHex8:Q2,formatHsl:z2,formatRgb:qu,toString:qu});function Fu(){return this.rgb().formatHex()}function Q2(){return this.rgb().formatHex8()}function z2(){return Pd(this).formatHsl()}function qu(){return this.rgb().formatRgb()}function jn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=K2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ju(e):n===3?new vt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ri(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ri(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=U2.exec(t))?new vt(e[1],e[2],e[3],1):(e=Y2.exec(t))?new vt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=X2.exec(t))?Ri(e[1],e[2],e[3],e[4]):(e=J2.exec(t))?Ri(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=x2.exec(t))?Vu(e[1],e[2]/100,e[3]/100,1):(e=Z2.exec(t))?Vu(e[1],e[2]/100,e[3]/100,e[4]):Lu.hasOwnProperty(t)?ju(Lu[t]):t==="transparent"?new vt(NaN,NaN,NaN,0):null}function ju(t){return new vt(t>>16&255,t>>8&255,t&255,1)}function Ri(t,e,n,o){return o<=0&&(t=e=n=NaN),new vt(t,e,n,o)}function ek(t){return t instanceof ri||(t=jn(t)),t?(t=t.rgb(),new vt(t.r,t.g,t.b,t.opacity)):new vt}function Ol(t,e,n,o){return arguments.length===1?ek(t):new vt(t,e,n,o??1)}function vt(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}ds(vt,Ol,Od(ri,{brighter(t){return t=t==null?fr:Math.pow(fr,t),new vt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zo:Math.pow(Zo,t),new vt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vt(Nn(this.r),Nn(this.g),Nn(this.b),cr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bu,formatHex:Bu,formatHex8:tk,formatRgb:Gu,toString:Gu}));function Bu(){return`#${On(this.r)}${On(this.g)}${On(this.b)}`}function tk(){return`#${On(this.r)}${On(this.g)}${On(this.b)}${On((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gu(){const t=cr(this.opacity);return`${t===1?"rgb(":"rgba("}${Nn(this.r)}, ${Nn(this.g)}, ${Nn(this.b)}${t===1?")":`, ${t})`}`}function cr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Nn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function On(t){return t=Nn(t),(t<16?"0":"")+t.toString(16)}function Vu(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Dt(t,e,n,o)}function Pd(t){if(t instanceof Dt)return new Dt(t.h,t.s,t.l,t.opacity);if(t instanceof ri||(t=jn(t)),!t)return new Dt;if(t instanceof Dt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new Dt(l,a,s,t.opacity)}function nk(t,e,n,o){return arguments.length===1?Pd(t):new Dt(t,e,n,o??1)}function Dt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}ds(Dt,nk,Od(ri,{brighter(t){return t=t==null?fr:Math.pow(fr,t),new Dt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zo:Math.pow(Zo,t),new Dt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new vt(al(t>=240?t-240:t+120,i,o),al(t,i,o),al(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new Dt(Hu(this.h),Di(this.s),Di(this.l),cr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cr(this.opacity);return`${t===1?"hsl(":"hsla("}${Hu(this.h)}, ${Di(this.s)*100}%, ${Di(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Hu(t){return t=(t||0)%360,t<0?t+360:t}function Di(t){return Math.max(0,Math.min(1,t||0))}function al(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ms=t=>()=>t;function ok(t,e){return function(n){return t+n*e}}function ik(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function rk(t){return(t=+t)==1?Md:function(e,n){return n-e?ik(e,n,t):ms(isNaN(e)?n:e)}}function Md(t,e){var n=e-t;return n?ok(t,n):ms(isNaN(t)?e:t)}const dr=function t(e){var n=rk(e);function o(i,r){var l=n((i=Ol(i)).r,(r=Ol(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=Md(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function lk(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function sk(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ak(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=ps(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function uk(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function Rt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function fk(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ps(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var Pl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ul=new RegExp(Pl.source,"g");function ck(t){return function(){return t}}function dk(t){return function(e){return t(e)+""}}function Nd(t,e){var n=Pl.lastIndex=ul.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=Pl.exec(t))&&(i=ul.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Rt(o,i)})),n=ul.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?dk(s[0].x):ck(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function ps(t,e){var n=typeof e,o;return e==null||n==="boolean"?ms(e):(n==="number"?Rt:n==="string"?(o=jn(e))?(e=o,dr):Nd:e instanceof jn?dr:e instanceof Date?uk:sk(e)?lk:Array.isArray(e)?ak:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?fk:Rt)(t,e)}function mk(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Wu=180/Math.PI,Ml={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ed(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*Wu,skewX:Math.atan(s)*Wu,scaleX:l,scaleY:a}}var Li;function pk(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ml:Ed(e.a,e.b,e.c,e.d,e.e,e.f)}function _k(t){return t==null||(Li||(Li=document.createElementNS("http://www.w3.org/2000/svg","g")),Li.setAttribute("transform",t),!(t=Li.transform.baseVal.consolidate()))?Ml:(t=t.matrix,Ed(t.a,t.b,t.c,t.d,t.e,t.f))}function Rd(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,p,h){if(u!==c||f!==d){var _=p.push("translate(",null,e,null,n);h.push({i:_-4,x:Rt(u,c)},{i:_-2,x:Rt(f,d)})}else(c||d)&&p.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:Rt(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:Rt(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,p,h){if(u!==c||f!==d){var _=p.push(i(p)+"scale(",null,",",null,")");h.push({i:_-4,x:Rt(u,c)},{i:_-2,x:Rt(f,d)})}else(c!==1||d!==1)&&p.push(i(p)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(p){for(var h=-1,_=d.length,y;++h<_;)c[(y=d[h]).i]=y.x(p);return c.join("")}}}var hk=Rd(pk,"px, ","px)","deg)"),gk=Rd(_k,", ",")",")"),ho=0,Go=0,qo=0,Dd=1e3,mr,Vo,pr=0,Bn=0,Er=0,zo=typeof performance=="object"&&performance.now?performance:Date,Ld=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _s(){return Bn||(Ld(bk),Bn=zo.now()+Er)}function bk(){Bn=0}function _r(){this._call=this._time=this._next=null}_r.prototype=Fd.prototype={constructor:_r,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?_s():+n)+(e==null?0:+e),!this._next&&Vo!==this&&(Vo?Vo._next=this:mr=this,Vo=this),this._call=t,this._time=n,Nl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Nl())}};function Fd(t,e,n){var o=new _r;return o.restart(t,e,n),o}function vk(){_s(),++ho;for(var t=mr,e;t;)(e=Bn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ho}function $u(){Bn=(pr=zo.now())+Er,ho=Go=0;try{vk()}finally{ho=0,wk(),Bn=0}}function yk(){var t=zo.now(),e=t-pr;e>Dd&&(Er-=e,pr=t)}function wk(){for(var t,e=mr,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:mr=n);Vo=t,Nl(o)}function Nl(t){if(!ho){Go&&(Go=clearTimeout(Go));var e=t-Bn;e>24?(t<1/0&&(Go=setTimeout($u,t-zo.now()-Er)),qo&&(qo=clearInterval(qo))):(qo||(pr=zo.now(),qo=setInterval(yk,Dd)),ho=1,Ld($u))}}function Ku(t,e,n){var o=new _r;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var kk=_d("start","end","cancel","interrupt"),Ck=[],qd=0,Uu=1,El=2,Wi=3,Yu=4,Rl=5,$i=6;function Rr(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;Ak(t,n,{name:e,index:o,group:i,on:kk,tween:Ck,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:qd})}function hs(t,e){var n=Ft(t,e);if(n.state>qd)throw new Error("too late; already scheduled");return n}function xt(t,e){var n=Ft(t,e);if(n.state>Wi)throw new Error("too late; already running");return n}function Ft(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ak(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=Fd(r,0,n.time);function r(u){n.state=Uu,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,p;if(n.state!==Uu)return s();for(f in o)if(p=o[f],p.name===n.name){if(p.state===Wi)return Ku(l);p.state===Yu?(p.state=$i,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete o[f]):+f<e&&(p.state=$i,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete o[f])}if(Ku(function(){n.state===Wi&&(n.state=Yu,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=El,n.on.call("start",t,t.__data__,n.index,n.group),n.state===El){for(n.state=Wi,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(p=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=p);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Rl,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===Rl&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=$i,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function Sk(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>El&&o.state<Rl,o.state=$i,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function Tk(t){return this.each(function(){Sk(this,t)})}function Ik(t,e){var n,o;return function(){var i=xt(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function Ok(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=xt(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function Pk(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=Ft(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?Ik:Ok)(n,t,e))}function gs(t,e,n){var o=t._id;return t.each(function(){var i=xt(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ft(i,o).value[e]}}function jd(t,e){var n;return(typeof e=="number"?Rt:e instanceof jn?dr:(n=jn(e))?(e=n,dr):Nd)(t,e)}function Mk(t){return function(){this.removeAttribute(t)}}function Nk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ek(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function Rk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function Dk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function Lk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function Fk(t,e){var n=Nr(t),o=n==="transform"?gk:jd;return this.attrTween(t,typeof e=="function"?(n.local?Lk:Dk)(n,o,gs(this,"attr."+t,e)):e==null?(n.local?Nk:Mk)(n):(n.local?Rk:Ek)(n,o,e))}function qk(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function jk(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Bk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&jk(t,r)),n}return i._value=e,i}function Gk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&qk(t,r)),n}return i._value=e,i}function Vk(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=Nr(t);return this.tween(n,(o.local?Bk:Gk)(o,e))}function Hk(t,e){return function(){hs(this,t).delay=+e.apply(this,arguments)}}function Wk(t,e){return e=+e,function(){hs(this,t).delay=e}}function $k(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Hk:Wk)(e,t)):Ft(this.node(),e).delay}function Kk(t,e){return function(){xt(this,t).duration=+e.apply(this,arguments)}}function Uk(t,e){return e=+e,function(){xt(this,t).duration=e}}function Yk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Kk:Uk)(e,t)):Ft(this.node(),e).duration}function Xk(t,e){if(typeof e!="function")throw new Error;return function(){xt(this,t).ease=e}}function Jk(t){var e=this._id;return arguments.length?this.each(Xk(e,t)):Ft(this.node(),e).ease}function xk(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;xt(this,t).ease=n}}function Zk(t){if(typeof t!="function")throw new Error;return this.each(xk(this._id,t))}function Qk(t){typeof t!="function"&&(t=bd(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new rn(o,this._parents,this._name,this._id)}function zk(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,p=0;p<f;++p)(d=s[p]||u[p])&&(c[p]=d);for(;a<o;++a)l[a]=e[a];return new rn(l,this._parents,this._name,this._id)}function e5(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function t5(t,e,n){var o,i,r=e5(e)?hs:xt;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function n5(t,e){var n=this._id;return arguments.length<2?Ft(this.node(),n).on.on(t):this.each(t5(n,t,e))}function o5(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function i5(){return this.on("end.remove",o5(this._id))}function r5(t){var e=this._name,n=this._id;typeof t!="function"&&(t=fs(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Rr(u[d],e,n,d,u,Ft(f,n)));return new rn(r,this._parents,e,n)}function l5(t){var e=this._name,n=this._id;typeof t!="function"&&(t=gd(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),p,h=Ft(f,n),_=0,y=d.length;_<y;++_)(p=d[_])&&Rr(p,e,n,_,d,h);r.push(d),l.push(f)}return new rn(r,l,e,n)}var s5=ii.prototype.constructor;function a5(){return new s5(this._groups,this._parents)}function u5(t,e){var n,o,i;return function(){var r=_o(this,t),l=(this.style.removeProperty(t),_o(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function Bd(t){return function(){this.style.removeProperty(t)}}function f5(t,e,n){var o,i=n+"",r;return function(){var l=_o(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function c5(t,e,n){var o,i,r;return function(){var l=_o(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),_o(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function d5(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=xt(this,t),u=s.on,f=s.value[r]==null?a||(a=Bd(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function m5(t,e,n){var o=(t+="")=="transform"?hk:jd;return e==null?this.styleTween(t,u5(t,o)).on("end.style."+t,Bd(t)):typeof e=="function"?this.styleTween(t,c5(t,o,gs(this,"style."+t,e))).each(d5(this._id,t)):this.styleTween(t,f5(t,o,e),n).on("end.style."+t,null)}function p5(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function _5(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&p5(t,l,n)),o}return r._value=e,r}function h5(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,_5(t,e,n??""))}function g5(t){return function(){this.textContent=t}}function b5(t){return function(){var e=t(this);this.textContent=e??""}}function v5(t){return this.tween("text",typeof t=="function"?b5(gs(this,"text",t)):g5(t==null?"":t+""))}function y5(t){return function(e){this.textContent=t.call(this,e)}}function w5(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&y5(i)),e}return o._value=t,o}function k5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,w5(t))}function C5(){for(var t=this._name,e=this._id,n=Gd(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=Ft(s,e);Rr(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new rn(o,this._parents,t,n)}function A5(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=xt(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var S5=0;function rn(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function Gd(){return++S5}var Qt=ii.prototype;rn.prototype={constructor:rn,select:r5,selectAll:l5,selectChild:Qt.selectChild,selectChildren:Qt.selectChildren,filter:Qk,merge:zk,selection:a5,transition:C5,call:Qt.call,nodes:Qt.nodes,node:Qt.node,size:Qt.size,empty:Qt.empty,each:Qt.each,on:n5,attr:Fk,attrTween:Vk,style:m5,styleTween:h5,text:v5,textTween:k5,remove:i5,tween:Pk,delay:$k,duration:Yk,ease:Jk,easeVarying:Zk,end:A5,[Symbol.iterator]:Qt[Symbol.iterator]};function T5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var I5={time:null,delay:0,duration:250,ease:T5};function O5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function P5(t){var e,n;t instanceof rn?(e=t._id,t=t._name):(e=Gd(),(n=I5).time=_s(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&Rr(s,t,e,u,l,n||O5(s,e));return new rn(o,this._parents,t,e)}ii.prototype.interrupt=Tk;ii.prototype.transition=P5;const Dl=Math.PI,Ll=2*Dl,Sn=1e-6,M5=Ll-Sn;function Vd(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function N5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Vd;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class E5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Vd:N5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Sn)if(!(Math.abs(c*s-u*f)>Sn)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let p=o-l,h=i-a,_=s*s+u*u,y=p*p+h*h,b=Math.sqrt(_),A=Math.sqrt(d),w=r*Math.tan((Dl-Math.acos((_+d-y)/(2*b*A)))/2),E=w/A,V=w/b;Math.abs(E-1)>Sn&&this._append`L${e+E*f},${n+E*c}`,this._append`A${r},${r},0,0,${+(c*p>f*h)},${this._x1=e+V*s},${this._y1=n+V*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Sn||Math.abs(this._y1-f)>Sn)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%Ll+Ll),d>M5?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>Sn&&this._append`A${o},${o},0,${+(d>=Dl)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function R5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function go(t){return t=hr(Math.abs(t)),t?t[1]:NaN}function D5(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function L5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var F5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gr(t){if(!(e=F5.exec(t)))throw new Error("invalid format: "+t);var e;return new bs({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}gr.prototype=bs.prototype;function bs(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}bs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function q5(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var Hd;function j5(t,e){var n=hr(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(Hd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+hr(t,Math.max(0,e+r-1))[0]}function Xu(t,e){var n=hr(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const Ju={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:R5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Xu(t*100,e),r:Xu,s:j5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xu(t){return t}var Zu=Array.prototype.map,Qu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function B5(t){var e=t.grouping===void 0||t.thousands===void 0?xu:D5(Zu.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?xu:L5(Zu.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=gr(c);var d=c.fill,p=c.align,h=c.sign,_=c.symbol,y=c.zero,b=c.width,A=c.comma,w=c.precision,E=c.trim,V=c.type;V==="n"?(A=!0,V="g"):Ju[V]||(w===void 0&&(w=12),E=!0,V="g"),(y||d==="0"&&p==="=")&&(y=!0,d="0",p="=");var N=_==="$"?n:_==="#"&&/[boxX]/.test(V)?"0"+V.toLowerCase():"",$=_==="$"?o:/[%p]/.test(V)?l:"",B=Ju[V],q=/[defgprs%]/.test(V);w=w===void 0?6:/[gprs]/.test(V)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function X(P){var g=N,k=$,R,F,L;if(V==="c")k=B(P)+k,P="";else{P=+P;var K=P<0||1/P<0;if(P=isNaN(P)?s:B(Math.abs(P),w),E&&(P=q5(P)),K&&+P==0&&h!=="+"&&(K=!1),g=(K?h==="("?h:a:h==="-"||h==="("?"":h)+g,k=(V==="s"?Qu[8+Hd/3]:"")+k+(K&&h==="("?")":""),q){for(R=-1,F=P.length;++R<F;)if(L=P.charCodeAt(R),48>L||L>57){k=(L===46?i+P.slice(R+1):P.slice(R))+k,P=P.slice(0,R);break}}}A&&!y&&(P=e(P,1/0));var x=g.length+P.length+k.length,J=x<b?new Array(b-x+1).join(d):"";switch(A&&y&&(P=e(J+P,J.length?b-k.length:1/0),J=""),p){case"<":P=g+P+k+J;break;case"=":P=g+J+P+k;break;case"^":P=J.slice(0,x=J.length>>1)+g+P+k+J.slice(x);break;default:P=J+g+P+k;break}return r(P)}return X.toString=function(){return c+""},X}function f(c,d){var p=u((c=gr(c),c.type="f",c)),h=Math.max(-8,Math.min(8,Math.floor(go(d)/3)))*3,_=Math.pow(10,-h),y=Qu[8+h/3];return function(b){return p(_*b)+y}}return{format:u,formatPrefix:f}}var Fi,Wd,$d;G5({thousands:",",grouping:[3],currency:["$",""]});function G5(t){return Fi=B5(t),Wd=Fi.format,$d=Fi.formatPrefix,Fi}function V5(t){return Math.max(0,-go(Math.abs(t)))}function H5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(go(e)/3)))*3-go(Math.abs(t)))}function W5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,go(e)-go(t))+1}function $5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function K5(t){return function(){return t}}function U5(t){return+t}var zu=[0,1];function ro(t){return t}function Fl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:K5(isNaN(e)?NaN:.5)}function Y5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function X5(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=Fl(i,o),r=n(l,r)):(o=Fl(o,i),r=n(r,l)),function(a){return r(o(a))}}function J5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=Fl(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=Jy(t,a,1,o)-1;return r[s](i[s](a))}}function x5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Z5(){var t=zu,e=zu,n=ps,o,i,r,l=ro,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==ro&&(l=Y5(t[0],t[d-1])),a=d>2?J5:X5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),Rt)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,U5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=mk,f()},c.clamp=function(d){return arguments.length?(l=d?!0:ro,f()):l!==ro},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,p){return o=d,i=p,f()}}function Q5(){return Z5()(ro,ro)}function z5(t,e,n,o){var i=ew(t,e,n),r;switch(o=gr(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=H5(i,l))&&(o.precision=r),$d(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=W5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=V5(i))&&(o.precision=r-(o.type==="%")*2);break}}return Wd(o)}function e3(t){var e=t.domain;return t.ticks=function(n){var o=e();return zy(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return z5(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=Sl(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function ql(){var t=Q5();return t.copy=function(){return x5(t,ql())},$5.apply(t,arguments),e3(t)}function no(t){return function(){return t}}function t3(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new E5(e)}function n3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Kd(t){this._context=t}Kd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function o3(t){return new Kd(t)}function i3(t){return t[0]}function r3(t){return t[1]}function fl(t,e){var n=no(!0),o=null,i=o3,r=null,l=t3(a);t=typeof t=="function"?t:t===void 0?i3:no(t),e=typeof e=="function"?e:e===void 0?r3:no(e);function a(s){var u,f=(s=n3(s)).length,c,d=!1,p;for(o==null&&(r=i(p=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(p)return r=null,p+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:no(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:no(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:no(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function Ho(t,e,n){this.k=t,this.x=e,this.y=n}Ho.prototype={constructor:Ho,scale:function(t){return t===1?this:new Ho(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ho(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ho.prototype;function l3(t){let e;return{c(){e=yr("svg"),M(e,"id","line-chart")},m(n,o){I(n,e,o)},p:Ae,i:Ae,o:Ae,d(n){n&&T(e)}}}const ef=52;function s3(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;fl().x((h,_)=>r(_)).y(h=>l(h)),wr(()=>{n(1,i=$2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=ql().range([0,s]),l=ql().range([u,0]),o.length&&f()});function f(){const h=o.length>ef?o.slice(-ef):o;c(h),d(h),p()}function c(h){i.selectAll(".line").remove();const _=fl().defined(b=>b>-5).x((b,A)=>r(A)).y(b=>l(b)),y=fl().defined(b=>b<0).x((b,A)=>r(A)).y(b=>l(b));i.append("path").datum(h).attr("class","line positive").attr("d",_).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(h).attr("class","line negative").attr("d",y).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(h){const _=Math.max(0,...h),y=Math.min(0,...h);r.domain([0,h.length-1]),l.domain([y,_]).nice()}function p(h){const _=sw(r).ticks(0),y=aw(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(_),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(y)}return t.$$set=h=>{"data"in h&&n(0,o=h.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class a3 extends we{constructor(e){super(),ye(this,e,s3,l3,fe,{data:0})}}function u3(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=G("Manage your Knowledge ("),o=G(n),i=G(" pts)")},m(r,l){I(r,e,l),I(r,o,l),I(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&se(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function f3(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[u3]},$$scope:{ctx:t}}}),o=new To({}),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&258&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function tf(t){let e,n,o=lf(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=O("br"),n=G(`
					(total value: $`),i=G(o),r=G(")")},m(l,a){I(l,e,a),I(l,n,a),I(l,i,a),I(l,r,a)},p(l,a){a&10&&o!==(o=lf(l[1].townInfo.knowledge_points*l[3])+"")&&se(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function nf(t){let e;return{c(){e=O("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
					convert.`},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function of(t){let e,n,o;return n=new Yt({props:{variant:"default",$$slots:{default:[c3]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=O("div"),z(n.$$.fragment)},m(i,r){I(i,e,r),Z(n,e,null),o=!0},p(i,r){const l={};r&256&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(C(n.$$.fragment,i),o=!0)},o(i){S(n.$$.fragment,i),o=!1},d(i){i&&T(e),Q(n)}}}function c3(t){let e;return{c(){e=G("Convert Knowledge to Gold")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function rf(t){let e;return{c(){e=O("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function d3(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,p,h,_,y,b,A,w,E,V;e=new Ao({props:{$$slots:{default:[f3]},$$scope:{ctx:t}}});let N=t[3]>0&&tf(t);_=new a3({props:{data:t[2]}});let $=t[3]<0&&nf(),B=t[1].hasBank&&t[3]>0&&of(t),q=t[1].hasBank===!1&&rf();return E=new oi({}),{c(){z(e.$$.fragment),n=W(),o=O("span"),o.textContent="Knowledge is power, unlock it!",i=W(),r=O("div"),l=O("div"),a=G("Market Rate: "),s=O("span"),f=G(u),c=G(" gold"),p=G(`
				per Knowledge Point
				`),N&&N.c(),h=W(),z(_.$$.fragment),y=W(),$&&$.c(),b=W(),B&&B.c(),A=W(),q&&q.c(),w=W(),z(E.$$.fragment),M(o,"class","italic"),M(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),M(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(X,P){Z(e,X,P),I(X,n,P),I(X,o,P),I(X,i,P),I(X,r,P),v(r,l),v(l,a),v(l,s),v(s,f),v(s,c),v(l,p),N&&N.m(l,null),v(r,h),Z(_,r,null),v(r,y),$&&$.m(r,null),v(r,b),B&&B.m(r,null),v(r,A),q&&q.m(r,null),I(X,w,P),Z(E,X,P),V=!0},p(X,P){const g={};P&258&&(g.$$scope={dirty:P,ctx:X}),e.$set(g),(!V||P&8)&&u!==(u=(X[3]??0)+"")&&se(f,u),(!V||P&8&&d!==(d=X[3]<0?"text-red-500":"text-green-500"))&&M(s,"class",d),X[3]>0?N?N.p(X,P):(N=tf(X),N.c(),N.m(l,null)):N&&(N.d(1),N=null);const k={};P&4&&(k.data=X[2]),_.$set(k),X[3]<0?$||($=nf(),$.c(),$.m(r,b)):$&&($.d(1),$=null),X[1].hasBank&&X[3]>0?B?(B.p(X,P),P&10&&C(B,1)):(B=of(X),B.c(),C(B,1),B.m(r,A)):B&&(Te(),S(B,1,1,()=>{B=null}),Ie()),X[1].hasBank===!1?q||(q=rf(),q.c(),q.m(r,null)):q&&(q.d(1),q=null)},i(X){V||(C(e.$$.fragment,X),C(_.$$.fragment,X),C(B),C(E.$$.fragment,X),V=!0)},o(X){S(e.$$.fragment,X),S(_.$$.fragment,X),S(B),S(E.$$.fragment,X),V=!1},d(X){X&&(T(n),T(o),T(i),T(r),T(w)),Q(e,X),N&&N.d(),Q(_),$&&$.d(),B&&B.d(),q&&q.d(),Q(E,X)}}}function m3(t){let e,n;return e=new So({props:{transitionConfig:{duration:0},class:"bg-foreground text-foregroundText",$$slots:{default:[d3]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&270&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function p3(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[m3]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new Io({props:r}),Oe.push(()=>Vn(e,"open",i)),{c(){z(e.$$.fragment)},m(l,a){Z(e,l,a),o=!0},p(l,[a]){const s={};a&270&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],Gn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){Q(e,l)}}}function lf(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function _3(t,e,n){let o,i;ae(t,Re,u=>n(1,o=u)),ae(t,Qi,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,Re.set(u),localStorage.setItem(Mt,JSON.stringify(u))):alert("You need a bank to convert knowledge to gold.")}function s(u){i=u,Qi.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class h3 extends we{constructor(e){super(),ye(this,e,_3,p3,fe,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const g3=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:5e3,duration:180,effect:!0},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
        
         We don't really know what that means, but it seems to make people healthier. 
        `,cost:8e3,duration:200,effect:!0},{id:"goodbye_carrots",title:"Goodbye Carrots",description:`Scientist Jarrod M. collaborated with local carrot farms to enhance the recipe, aiming to increase consumers' height by 10%.

        Unfortunately, the experiment failed, and all the local carrot farms have gone out of business. 
        `,cost:8e3,duration:80,effect:!0},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.

        The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
        `,cost:3e3,duration:60,effect:!1},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab. 

        She hopes nobody will miss it. Your town now has some more money. 
        `,cost:15e3,duration:180,effect:!0},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes. 

        We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:!0},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach. 

        We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:!1},{id:"coffee_boost_tourism",title:"Speedy Brews",description:`Scientist Claudia A. has found that a specific blend of coffee can significantly increase productivity among town employees. 

        The catch? It only works on Mondays. But hey, starting the week with a turbo-charged workforce might just be the boost we needed. The town gets a bit of extra cash from the productivity, and a bit of tourism revenue from coffee tourism.
        `,cost:8e3,duration:100,effect:!0},{id:"bee_bonanza",title:"Buzzing with Possibilities",description:`Scientist Will B. thought that introducing genetically modified super bees to the local ecosystem could help with pollination.
        
        Unfortunately, these bees prefer coffee plants over all others, leading to all coffee bean farms forced to close.`,cost:5e3,duration:120,effect:!0},{id:"wheat_whirlwind",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather control experiment aimed at improving crop yields accidentally resulted in a series of mini-tornadoes sweeping through the town's wheat farms. The wheat is gone, but the townsfolk have never been more entertained.

        Local bakers mourn the loss of wheat while selling tickets to the wheat whirlwind tours. All wheat farms are now torn down, but happiness is up.`,cost:7e3,duration:150,effect:!0},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.

        Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:!0},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools. 

        This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:!0},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took the funding and applied the town for a grant to improve education.

        The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:4e4,duration:45,effect:!0},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress. 
		
		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:!0}];function sf(t,e,n){const o=t.slice();return o[17]=e[n],o}function b3(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=G("🎉 Experiment Completed: "),o=G(n)},m(i,r){I(i,e,r),I(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&se(o,n)},d(i){i&&(T(e),T(o))}}}function v3(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=O("div"),o=G(n),M(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){I(i,e,r),v(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&se(o,n)},d(i){i&&T(e)}}}function y3(t){let e,n,o,i;return e=new is({props:{class:"text-center",$$slots:{default:[b3]},$$scope:{ctx:t}}}),o=new as({props:{$$slots:{default:[v3]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function w3(t){let e;return{c(){e=G("Thank the scientists")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function k3(t){let e,n;return e=new sv({props:{$$slots:{default:[w3]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function C3(t){let e,n,o,i;return e=new ls({props:{$$slots:{default:[y3]},$$scope:{ctx:t}}}),o=new rs({props:{$$slots:{default:[k3]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048576&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function A3(t){let e,n;return e=new ss({props:{$$slots:{default:[C3]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&1048578&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function S3(t){let e;return{c(){e=O("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function T3(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=O("span"),n=G("You have earned "),o=O("span"),r=G(i),l=G(" XP"),s=G(` from experiments. XP can be used to buy advanced plots and develop your
					city.`),M(o,"class",a="italic "+(t[1].lab.xp<0?"text-textDanger1":"text-primaryText"))},m(u,f){I(u,e,f),v(e,n),v(e,o),v(o,r),v(o,l),v(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&se(r,i),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-textDanger1":"text-primaryText"))&&M(o,"class",a)},d(u){u&&T(e)}}}function I3(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[S3]},$$scope:{ctx:t}}}),o=new To({props:{$$slots:{default:[T3]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&1048576&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function O3(t){let e;return{c(){e=G("No more experiments available")},m(n,o){I(n,e,o)},p:Ae,i:Ae,o:Ae,d(n){n&&T(e)}}}function P3(t){let e,n,o,i,r=Ue(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=uf(sf(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=O("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
				it's funding requirement. Once the experiment is over, you will see the
				results.`,n=W(),o=O("div");for(let s=0;s<l.length;s+=1)l[s].c();M(e,"class","select-none text-sm "),M(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){I(s,e,u),I(s,n,u),I(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=Ue(s[0]);let f;for(f=0;f<r.length;f+=1){const c=sf(s,r,f);l[f]?(l[f].p(c,u),C(l[f],1)):(l[f]=uf(c),l[f].c(),C(l[f],1),l[f].m(o,null))}for(Te(),f=r.length;f<l.length;f+=1)a(f);Ie()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)C(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),wt(l,s)}}}function M3(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&ff(t);return{c(){e=G("Currently running an experiment... check back in "),o=G(n),i=G(` days.
			`),a&&a.c(),r=De()},m(s,u){I(s,e,u),I(s,o,u),I(s,i,u),a&&a.m(s,u),I(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&se(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&C(a,1)):(a=ff(s),a.c(),C(a,1),a.m(r.parentNode,r)):a&&(Te(),S(a,1,1,()=>{a=null}),Ie())},i(s){l||(C(a),l=!0)},o(s){S(a),l=!1},d(s){s&&(T(e),T(o),T(i),T(r)),a&&a.d(s)}}}function af(t){let e,n,o=t[17].id+"",i;return{c(){e=O("span"),n=G("// dev-"),i=G(o),M(e,"class","text-xs text-gray-400")},m(r,l){I(r,e,l),v(e,n),v(e,i)},p(r,l){l&1&&o!==(o=r[17].id+"")&&se(i,o)},d(r){r&&T(e)}}}function N3(t){let e,n=cf(t[17].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&af(t);return{c(){e=G("$"),o=G(n),i=G(` gold

						`),l&&l.c(),r=W()},m(a,s){I(a,e,s),I(a,o,s),I(a,i,s),l&&l.m(a,s),I(a,r,s)},p(a,s){s&1&&n!==(n=cf(a[17].cost).split(".")[0]+"")&&se(o,n),a[1].devMode===!0?l?l.p(a,s):(l=af(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(T(e),T(o),T(i),T(r)),l&&l.d(a)}}}function uf(t){let e,n;function o(){return t[11](t[17])}return e=new Yt({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[N3]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){z(e.$$.fragment)},m(i,r){Z(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&1048579&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Q(e,i)}}}function ff(t){let e,n;return e=new Yt({props:{variant:"outline",$$slots:{default:[E3]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function E3(t){let e;return{c(){e=G("Complete experiment (and face the impact)")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function R3(t){let e;return{c(){e=O("span"),e.textContent="Keep in mind that not all experiments yield positive results.",M(e,"class","italic text-left text-textDanger1")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function D3(t){let e,n,o,i,r,l,a,s,u,f,c;e=new Ao({props:{$$slots:{default:[I3]},$$scope:{ctx:t}}}),o=new At({});const d=[M3,P3,O3],p=[];function h(_,y){return _[1].lab.active_experiment!==null?0:_[0].length>0?1:_[0].length===0?2:-1}return~(r=h(t))&&(l=p[r]=d[r](t)),s=new At({props:{class:"mt-4"}}),f=new oi({props:{$$slots:{default:[R3]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment),i=W(),l&&l.c(),a=W(),z(s.$$.fragment),u=W(),z(f.$$.fragment)},m(_,y){Z(e,_,y),I(_,n,y),Z(o,_,y),I(_,i,y),~r&&p[r].m(_,y),I(_,a,y),Z(s,_,y),I(_,u,y),Z(f,_,y),c=!0},p(_,y){const b={};y&1048578&&(b.$$scope={dirty:y,ctx:_}),e.$set(b);let A=r;r=h(_),r===A?~r&&p[r].p(_,y):(l&&(Te(),S(p[A],1,1,()=>{p[A]=null}),Ie()),~r?(l=p[r],l?l.p(_,y):(l=p[r]=d[r](_),l.c()),C(l,1),l.m(a.parentNode,a)):l=null);const w={};y&1048576&&(w.$$scope={dirty:y,ctx:_}),f.$set(w)},i(_){c||(C(e.$$.fragment,_),C(o.$$.fragment,_),C(l),C(s.$$.fragment,_),C(f.$$.fragment,_),c=!0)},o(_){S(e.$$.fragment,_),S(o.$$.fragment,_),S(l),S(s.$$.fragment,_),S(f.$$.fragment,_),c=!1},d(_){_&&(T(n),T(i),T(a),T(u)),Q(e,_),Q(o,_),~r&&p[r].d(_),Q(s,_),Q(f,_)}}}function L3(t){let e,n;return e=new So({props:{class:"bg-foreground text-foregroundText",$$slots:{default:[D3]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&1048579&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function F3(t){let e,n,o,i,r;e=new us({props:{open:t[2],$$slots:{default:[A3]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[L3]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new Io({props:a}),Oe.push(()=>Vn(o,"open",l)),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment)},m(s,u){Z(e,s,u),I(s,n,u),Z(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&1048578&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&1048579&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],Gn(()=>i=!1)),o.$set(c)},i(s){r||(C(e.$$.fragment,s),C(o.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(o.$$.fragment,s),r=!1},d(s){s&&T(n),Q(e,s),Q(o,s)}}}function cf(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function q3(t,e,n){let o,i;ae(t,Re,w=>n(1,o=w)),ae(t,Bi,w=>n(3,i=w));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let w=[],E=g3.filter(V=>!o.lab.past_experiments.some(N=>N.id===V.id));for(let V=0;V<3;V++){let N=E[Math.floor(Math.random()*E.length)];N.cost=Math.floor(Math.random()*(N.cost*.35)+N.cost*.8),w.push(N)}return w=w.filter((V,N)=>w.indexOf(V)===N),w=w.filter(V=>V),n(8,u=!0),w}function c(w){if(o.townInfo.gold<w.cost){alert("You do not have enough gold to purchase this experiment.");return}Pe(Re,o.townInfo.gold-=w.cost,o),Pe(Re,o.lab.active_experiment=w,o),o.lab.past_experiments.push(w)}function d(){var w;switch(Pe(Bi,i=!1,i),n(2,s=!0),(w=o.lab.active_experiment)===null||w===void 0?void 0:w.id){case"sunshine":Pe(Re,o.modifiers.happiness=50,o);break;case"antibiotics":Pe(Re,o.modifiers.health=50,o);break;case"goodbye_carrots":h("carrot_farm");break;case"missing_treasure":Pe(Re,o.townInfo.gold+=Math.floor(Math.random()*o.lab.active_experiment.cost*2),o);break;case"tax_relief":Pe(Re,o.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*o.economyAndLaws.max_tax_rate,o);break;case"coffee_boost_tourism":Pe(Re,o.townInfo.gold+=5e3,o),Pe(Re,o.townInfo.gold_from_tourism+=1e4,o);break;case"bee_bonanza":h("coffee_bean_farm");break;case"wheat_whirlwind":h("wheat_farm"),Pe(Re,o.townInfo.happiness*=1.5,o),Pe(Re,o.modifiers.happiness+=3,o);break;case"aquatic_overachievers":h("fishery"),Pe(Re,o.townInfo.gold_from_tourism+=3e4,o);break;case"educational_eclipse":h("small_school"),h("large_school"),Pe(Re,o.townInfo.knowledge_points*=.8,o);break;case"education_grant":Pe(Re,o.townInfo.knowledge_points*=1.5,o),Pe(Re,o.townInfo.gold+=15e4,o);break;case"mindfulness_meditation_classes":o.modifiers.happiness*1.5;break}Pe(Re,o.lab.active_experiment.duration=-1,o)}function p(){let w=o;w.lab.xp+=Math.round(w.lab.active_experiment.cost*(Math.random()*2+.5)),w.lab.active_experiment=null,n(2,s=!1),Pe(Re,o=w,o)}function h(w){let E=ot(w,o);for(let V=0;V<E.length;V++)Zi(E[V].x,E[V].y,o)}const _=()=>{p()},y=()=>{d()},b=w=>{w.cost<o.townInfo.gold&&c(w)};function A(w){i=w,Bi.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,p,r,u,_,y,b,A]}class j3 extends we{constructor(e){super(),ye(this,e,q3,F3,fe,{})}}function df(t,e,n){const o=t.slice();return o[19]=e[n],o}function mf(t){let e,n=Ue({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=pf(df(t,n,i));return{c(){e=O("div");for(let i=0;i<o.length;i+=1)o[i].c();M(e,"class","confetti-holder svelte-15ksp55"),mn(e,"rounded",t[9]),mn(e,"cone",t[10]),mn(e,"no-gravity",t[11]),mn(e,"reduced-motion",t[13])},m(i,r){I(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=Ue({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=df(i,n,l);o[l]?o[l].p(a,r):(o[l]=pf(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&mn(e,"rounded",i[9]),r&1024&&mn(e,"cone",i[10]),r&2048&&mn(e,"no-gravity",i[11]),r&8192&&mn(e,"reduced-motion",i[13])},d(i){i&&T(e),wt(o,i)}}}function pf(t){let e;return{c(){e=O("div"),M(e,"class","confetti svelte-15ksp55"),Je(e,"--fall-distance",t[8]),Je(e,"--size",t[0]+"px"),Je(e,"--color",t[15]()),Je(e,"--skew",gt(-45,45)+"deg,"+gt(-45,45)+"deg"),Je(e,"--rotation-xyz",gt(-10,10)+", "+gt(-10,10)+", "+gt(-10,10)),Je(e,"--rotation-deg",gt(0,360)+"deg"),Je(e,"--translate-y-multiplier",gt(t[2][0],t[2][1])),Je(e,"--translate-x-multiplier",gt(t[1][0],t[1][1])),Je(e,"--scale",.1*gt(2,10)),Je(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),Je(e,"--transition-delay",gt(t[5][0],t[5][1])+"ms"),Je(e,"--transition-iteration-count",t[4]?"infinite":t[7]),Je(e,"--x-spread",1-t[12])},m(n,o){I(n,e,o)},p(n,o){o&256&&Je(e,"--fall-distance",n[8]),o&1&&Je(e,"--size",n[0]+"px"),o&4&&Je(e,"--translate-y-multiplier",gt(n[2][0],n[2][1])),o&2&&Je(e,"--translate-x-multiplier",gt(n[1][0],n[1][1])),o&24&&Je(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&Je(e,"--transition-delay",gt(n[5][0],n[5][1])+"ms"),o&144&&Je(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&Je(e,"--x-spread",1-n[12])},d(n){n&&T(e)}}}function B3(t){let e,n=!t[14]&&mf(t);return{c(){n&&n.c(),e=De()},m(o,i){n&&n.m(o,i),I(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=mf(o),n.c(),n.m(e.parentNode,e))},i:Ae,o:Ae,d(o){o&&T(e),n&&n.d(o)}}}function gt(t,e){return Math.random()*(e-t)+t}function G3(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:p="100px"}=e,{rounded:h=!1}=e,{cone:_=!1}=e,{noGravity:y=!1}=e,{xSpread:b=.15}=e,{destroyOnComplete:A=!0}=e,{disableForReducedMotion:w=!1}=e,E=!1;wr(()=>{!A||a||d=="infinite"||setTimeout(()=>n(14,E=!0),(l+s[1])*d)});function V(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(gt(u[0],u[1]))}, 75%, 50%)`}return t.$$set=N=>{"size"in N&&n(0,o=N.size),"x"in N&&n(1,i=N.x),"y"in N&&n(2,r=N.y),"duration"in N&&n(3,l=N.duration),"infinite"in N&&n(4,a=N.infinite),"delay"in N&&n(5,s=N.delay),"colorRange"in N&&n(16,u=N.colorRange),"colorArray"in N&&n(17,f=N.colorArray),"amount"in N&&n(6,c=N.amount),"iterationCount"in N&&n(7,d=N.iterationCount),"fallDistance"in N&&n(8,p=N.fallDistance),"rounded"in N&&n(9,h=N.rounded),"cone"in N&&n(10,_=N.cone),"noGravity"in N&&n(11,y=N.noGravity),"xSpread"in N&&n(12,b=N.xSpread),"destroyOnComplete"in N&&n(18,A=N.destroyOnComplete),"disableForReducedMotion"in N&&n(13,w=N.disableForReducedMotion)},[o,i,r,l,a,s,c,d,p,h,_,y,b,w,E,V,u,f,A]}class V3 extends we{constructor(e){super(),ye(this,e,G3,B3,fe,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function H3(t){let e,n,o;return{c(){e=O("div"),M(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all"),M(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`)},m(i,r){I(i,e,r)},p(i,r){r&8&&n!==(n="h-full w-full flex-1 "+i[3]+" transition-all")&&M(e,"class",n),r&6&&o!==(o=`transform: translateX(-${100-100*(i[2]??0)/(i[1]??1)}%)`)&&M(e,"style",o)},d(i){i&&T(e)}}}function W3(t){let e,n;const o=[{class:Le("relative h-4 w-full overflow-hidden rounded-full bg-white",t[0])},t[4]];let i={$$slots:{default:[H3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new g1({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&17?ve(o,[l&1&&{class:Le("relative h-4 w-full overflow-hidden rounded-full bg-white",r[0])},l&16&&rt(r[4])]):{};l&46&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function $3(t,e,n){const o=["class","max","value","color"];let i=re(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-secondary"}=e;return t.$$set=u=>{e=Y(Y({},e),Ee(u)),n(4,i=re(e,o)),"class"in u&&n(0,r=u.class),"max"in u&&n(1,l=u.max),"value"in u&&n(2,a=u.value),"color"in u&&n(3,s=u.color)},[r,l,a,s,i]}class cl extends we{constructor(e){super(),ye(this,e,$3,W3,fe,{class:0,max:1,value:2,color:3})}}function K3(t){let e;const n=t[5].default,o=me(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&_e(o,n,i,i[6],e?pe(n,i[6],r,null):he(i[6]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function U3(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:Le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",t[0])},t[4]];let i={$$slots:{default:[K3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new ib({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&31?ve(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:Le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",r[0])},l&16&&rt(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function Y3(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=4}=e,{transition:u=Ar}=e,{transitionConfig:f={y:8,duration:150}}=e;return t.$$set=c=>{e=Y(Y({},e),Ee(c)),n(4,i=re(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class li extends we{constructor(e){super(),ye(this,e,Y3,U3,fe,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const si=W1,ai=cb;function X3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=O("span"),n=G("+$"),i=G(o),M(e,"class","text-textPrimary")},m(r,l){I(r,e,l),v(e,n),v(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&se(i,o)},d(r){r&&T(e)}}}function J3(t){let e,n=t[0].economyAndLaws.weeklyProfit+"",o;return{c(){e=O("span"),o=G(n),M(e,"class","text-textDanger2")},m(i,r){I(i,e,r),v(e,o)},p(i,r){r&1&&n!==(n=i[0].economyAndLaws.weeklyProfit+"")&&se(o,n)},d(i){i&&T(e)}}}function x3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=O("span"),n=G("+$"),i=G(o),M(e,"class","text-textHappy")},m(r,l){I(r,e,l),v(e,n),v(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&se(i,o)},d(r){r&&T(e)}}}function Z3(t){let e=it(t[0].townInfo.employees/t[0].townInfo.population_count*100,0)+"",n,o,i=t[0].townInfo.employees+"",r,l,a=t[0].townInfo.population_count+"",s,u,f=t[0].townInfo.population_count-t[0].townInfo.employees+"",c,d;return{c(){n=G(e),o=G("% employment ("),r=G(i),l=G("/"),s=G(a),u=G(" - "),c=G(f),d=G(" unemployed)")},m(p,h){I(p,n,h),I(p,o,h),I(p,r,h),I(p,l,h),I(p,s,h),I(p,u,h),I(p,c,h),I(p,d,h)},p(p,h){h&1&&e!==(e=it(p[0].townInfo.employees/p[0].townInfo.population_count*100,0)+"")&&se(n,e),h&1&&i!==(i=p[0].townInfo.employees+"")&&se(r,i),h&1&&a!==(a=p[0].townInfo.population_count+"")&&se(s,a),h&1&&f!==(f=p[0].townInfo.population_count-p[0].townInfo.employees+"")&&se(c,f)},d(p){p&&(T(n),T(o),T(r),T(l),T(s),T(u),T(c),T(d))}}}function Q3(t){let e;function n(r,l){return r[0].townInfo.population_count===0?e4:z3}let o=n(t),i=o(t);return{c(){i.c(),e=De()},m(r,l){i.m(r,l),I(r,e,l)},p(r,l){o!==(o=n(r))&&(i.d(1),i=o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i.d(r)}}}function z3(t){let e;return{c(){e=G("All citizens employed")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function e4(t){let e;return{c(){e=G("Nobody lives here , build some homes")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function t4(t){let e;return{c(){e=O("div"),e.textContent="Manage Knowledge"},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function _f(t){let e;function n(r,l){if(r[0].lab.active_experiment.duration>0)return o4;if(r[0].lab.active_experiment.duration===0)return n4}let o=n(t),i=o&&o(t);return{c(){i&&i.c(),e=De()},m(r,l){i&&i.m(r,l),I(r,e,l)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i&&i.d(1),i=o&&o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i&&i.d(r)}}}function n4(t){let e;return{c(){e=O("span"),e.textContent="✅ DONE!",M(e,"class","animate-pulse ")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function o4(t){let e,n=t[0].lab.active_experiment.duration+"",o,i;return{c(){e=O("span"),o=G(n),i=G("d")},m(r,l){I(r,e,l),v(e,o),v(e,i)},p(r,l){l&1&&n!==(n=r[0].lab.active_experiment.duration+"")&&se(o,n)},d(r){r&&T(e)}}}function i4(t){let e,n,o,i=t[0].lab.active_experiment!==null&&_f(t);return{c(){e=O("div"),e.textContent="Manage Lab",n=W(),i&&i.c(),o=De()},m(r,l){I(r,e,l),I(r,n,l),i&&i.m(r,l),I(r,o,l)},p(r,l){r[0].lab.active_experiment!==null?i?i.p(r,l):(i=_f(r),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(r){r&&(T(e),T(n),T(o)),i&&i.d(r)}}}function hf(t){let e,n,o,i;return o=new si({props:{openDelay:200,closeDelay:0,$$slots:{default:[s4]},$$scope:{ctx:t}}}),{c(){e=O("div"),n=O("div"),z(o.$$.fragment),M(n,"class","flex flex-row justify-center text-xs bg-white rounded-t-2xl text-black py-2 whitespace-nowrap px-2 opacity-50"),M(e,"class","flex flex-col justify-center items-center ")},m(r,l){I(r,e,l),v(e,n),Z(o,n,null),i=!0},p(r,l){const a={};l&16385&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(C(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(e),Q(o)}}}function r4(t){let e,n,o,i,r=Lt[t[0].currentTutorialStep-1].goldReward+"",l;return{c(){e=O("span"),n=G(`Last reward
                  `),o=O("div"),i=G("💰"),l=G(r),M(e,"class","w-full no-select opacity-70 whitespace-nowrap text-center")},m(a,s){I(a,e,s),v(e,n),v(e,o),v(o,i),v(o,l)},p(a,s){s&1&&r!==(r=Lt[a[0].currentTutorialStep-1].goldReward+"")&&se(l,r)},d(a){a&&T(e)}}}function l4(t){let e,n=Lt[t[0].currentTutorialStep-1].message+"",o;return{c(){e=G("Last completed task: "),o=G(n)},m(i,r){I(i,e,r),I(i,o,r)},p(i,r){r&1&&n!==(n=Lt[i[0].currentTutorialStep-1].message+"")&&se(o,n)},d(i){i&&(T(e),T(o))}}}function s4(t){let e,n,o,i;return e=new ai({props:{$$slots:{default:[r4]},$$scope:{ctx:t}}}),o=new li({props:{class:"bg-black text-white rounded-2xl",$$slots:{default:[l4]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&16385&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16385&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function gf(t){let e,n;return e=new V3({props:{y:[-.5,.5],x:[-.5,.5],duration:2e3}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function a4(t){let e=Lt[t[0].currentTutorialStep].message+"",n,o,i,r,l=Lt[t[0].currentTutorialStep].goldReward+"",a,s;return{c(){n=G(e),o=W(),i=O("span"),r=G("(💰"),a=G(l),s=G(")"),M(i,"class","opacity-40")},m(u,f){I(u,n,f),I(u,o,f),I(u,i,f),v(i,r),v(i,a),v(i,s)},p(u,f){f&1&&e!==(e=Lt[u[0].currentTutorialStep].message+"")&&se(n,e),f&1&&l!==(l=Lt[u[0].currentTutorialStep].goldReward+"")&&se(a,l)},d(u){u&&(T(n),T(o),T(i))}}}function u4(t){let e;return{c(){e=G("No more goals!")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function f4(t){let e,n,o,i,r,l,a,s,u,f,c=it(t[0].modifiers.happiness,2)+"",d,p,h,_,y,b,A,w,E=it(t[0].modifiers.health,2)+"",V,N,$,B,q,X,P,g,k=it(t[0].modifiers.community,2)+"",R,F,L,K,x,J,m,D,H,te,oe=t[0].townInfo.name+"",U,ke,ce,Ne,Ye,Be=t[0].townInfo.population_count+"",Qe,de,Me=t[0].townInfo.population_max+"",Ve,We,Ge,ue,Ce,ht=t[0].townInfo.gold+"",It,dt,qt,Et,ft,ze,be,$e,j,vs,Oo,ys,Dr,ws,Kn,an,ks,un,Cs,Po,jt,Lr,Fr,Un,ui,As,Mo,fi,Ss,ci,di,fn,qr,Ts,Yn,Xn,mi,Is,pi,_i=t[0].environment.day%365+1+"",jr,Os,Jn,hi,Ps,gi,bi=Math.floor(t[0].environment.day/365)+1+"",Br,Ms,cn,xn,Ns,vi,Es,Zn,Rs,yi,Ds,Qn,Ls,wi,ki,nt,Gr,Fs;a=new At({props:{class:"bg-white"}}),_=new cl({props:{value:t[0].townInfo.happiness,max:300,class:"w-full h-2",color:parseInt(t[0].townInfo.happiness)>200?"bg-green-500":parseInt(t[0].townInfo.happiness)>100?"bg-yellow-500":"bg-red-500"}}),B=new cl({props:{value:t[0].townInfo.health,max:300,class:"w-full h-2",color:parseInt(t[0].townInfo.health)>200?"bg-green-500":parseInt(t[0].townInfo.health)>100?"bg-yellow-500":"bg-red-500"}}),K=new cl({props:{value:t[0].townInfo.community,max:300,class:"w-full h-2",color:parseInt(t[0].townInfo.community)>200?"bg-green-500":parseInt(t[0].townInfo.community)>100?"bg-yellow-500":"bg-red-500"}});function qs(ge,He){return ge[0].economyAndLaws.weeklyProfit>0?x3:ge[0].economyAndLaws.weeklyProfit<0?J3:X3}let Ci=qs(t),Bt=Ci(t);function js(ge,He){return ge[0].townInfo.employees==ge[0].townInfo.population_count?Q3:Z3}let Ai=js(t),Gt=Ai(t);an=new Yt({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[t4]},$$scope:{ctx:t}}}),an.$on("click",t[10]),un=new Yt({props:{class:"text-xs flex flex-col h-min p-1.5 "+(t[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35"),$$slots:{default:[i4]},$$scope:{ctx:t}}}),un.$on("click",t[8]);let lt=t[0].currentTutorialStep!=0&&hf(t),at=t[5]&&gf();function Bs(ge,He){return ge[0].currentTutorialStep>=Lt.length?u4:a4}let Si=Bs(t),Vt=Si(t);return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("span"),r=O("h2"),r.textContent="Stats",l=W(),z(a.$$.fragment),s=W(),u=O("span"),f=G("Happiness (x"),d=G(c),p=G(")"),h=W(),z(_.$$.fragment),y=W(),b=O("span"),A=O("span"),w=G("Health (x"),V=G(E),N=G(")"),$=W(),z(B.$$.fragment),q=W(),X=O("span"),P=O("span"),g=G("Community (x"),R=G(k),F=G(")"),L=W(),z(K.$$.fragment),x=W(),J=O("div"),m=O("div"),D=O("div"),H=O("div"),te=O("h1"),U=G(oe),ke=W(),ce=O("div"),Ne=O("span"),Ye=G("👥 "),Qe=G(Be),de=G(" / "),Ve=G(Me),We=W(),Ge=O("span"),ue=O("span"),Ce=G("💰 "),It=G(ht),dt=W(),qt=O("span"),Et=W(),Bt.c(),ft=W(),ze=O("span"),ze.textContent="(weekly)",be=W(),$e=O("div"),Gt.c(),vs=W(),Oo=O("span"),ys=G("Game time: "),Dr=G(t[1]),ws=W(),Kn=O("div"),z(an.$$.fragment),ks=W(),z(un.$$.fragment),Cs=W(),Po=O("div"),jt=O("div"),lt&&lt.c(),Lr=W(),at&&at.c(),Fr=W(),Un=O("div"),ui=O("div"),ui.textContent="👨‍🦰",As=W(),Mo=O("div"),Vt.c(),Ss=W(),ci=O("div"),di=O("div"),fn=O("div"),qr=O("div"),qr.innerHTML='<span class="text-xs text-secondary cursor-pointer">Press P to Pause</span>',Ts=W(),Yn=O("div"),Xn=O("span"),mi=O("span"),mi.textContent="Day",Is=W(),pi=O("span"),jr=G(_i),Os=W(),Jn=O("span"),hi=O("span"),hi.textContent="Year",Ps=W(),gi=O("span"),Br=G(bi),Ms=W(),cn=O("div"),xn=O("span"),Ns=G("Slow"),Es=W(),Zn=O("span"),Rs=G("Normal"),Ds=W(),Qn=O("span"),Ls=G("Fast"),M(r,"class","text-lg text-white"),M(u,"class","text-xs"),M(A,"class","text-xs"),M(P,"class","text-xs"),M(o,"class","flex flex-col w-36 h-full justify-center text-foregroundText bg-accent p-2 rounded-xl"),M(te,"class","font-bold cursor-pointer w-full pb-2 text-start select-none"),M(H,"class","cursor-pointer transition-all duration=150 min-h-8"),M(Ne,"class","text-sm"),M(ue,"class","text-sm"),M(qt,"class","pl-2"),M(ze,"class","text-gray-400"),M(Ge,"class","text-xs"),M(ce,"class","flex flex-row gap-4 flex-wrap items-center"),M($e,"class",j="text-xs pt-1 "+(t[0].townInfo.employees==t[0].townInfo.population_count?"text-textPrimary":t[0].townInfo.employees>t[0].townInfo.population_count*.95?"text-textDanger3":t[0].townInfo.employees>t[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")),M(Oo,"class","text-xs text-secondary cursor-pointer"),M(D,"class","flex flex-col justify-between"),M(m,"class","rounded-xl"),M(Kn,"class","flex flex-row gap-2"),M(J,"class","flex justify-between flex-col"),M(n,"class","flex flex-row gap-6 my-2 h-max"),M(ui,"class","text-lg h-max"),M(Mo,"class","text-xs ml-2 overflow-auto opacity-80"),M(Un,"class","gap flex-row items-center flex bg-white text-slate-800 py-1 px-2 rounded-xl w-full"),M(jt,"class","flex flex-col justify-center w-full align-middle items-center"),M(Po,"class",fi="flex flex-row flex-wrap align-middle justify-center items-center w-64 "+(t[5]?"opacity-25 ":"")+" transition-all duration-700"),M(mi,"class","text-xs"),M(pi,"class","font-semibold text-xs"),M(Xn,"class","flex flex-col gap-2 text-center"),M(hi,"class","text-xs"),M(gi,"class","font-semibold text-xs"),M(Jn,"class","flex flex-col gap-2 text-center"),M(Yn,"class","rounded-xl bg-accent flex-row justify-between text-accentText w-36 h-14 flex px-6 items-center mb-2"),M(xn,"class",vi=(t[2].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),M(Zn,"class",yi=(t[2].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),M(Qn,"class",wi=(t[2].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),M(cn,"class","flex flex-row gap-2 align-middle justify-center items-center"),M(fn,"class","flex flex-col items-center h-max"),M(di,"class","flex flex-col"),M(ci,"class","flex justify-center align-middle flex-col"),M(e,"class",ki="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(t[3].visible?"opacity-70":""))},m(ge,He){I(ge,e,He),v(e,n),v(n,o),v(o,i),v(i,r),v(i,l),Z(a,i,null),v(i,s),v(i,u),v(u,f),v(u,d),v(u,p),v(i,h),Z(_,i,null),v(o,y),v(o,b),v(b,A),v(A,w),v(A,V),v(A,N),v(b,$),Z(B,b,null),v(o,q),v(o,X),v(X,P),v(P,g),v(P,R),v(P,F),v(X,L),Z(K,X,null),v(n,x),v(n,J),v(J,m),v(m,D),v(D,H),v(H,te),v(te,U),v(D,ke),v(D,ce),v(ce,Ne),v(Ne,Ye),v(Ne,Qe),v(Ne,de),v(Ne,Ve),v(ce,We),v(ce,Ge),v(Ge,ue),v(ue,Ce),v(ue,It),v(Ge,dt),v(Ge,qt),v(Ge,Et),Bt.m(Ge,null),v(Ge,ft),v(Ge,ze),v(D,be),v(D,$e),Gt.m($e,null),v(D,vs),v(D,Oo),v(Oo,ys),v(Oo,Dr),v(J,ws),v(J,Kn),Z(an,Kn,null),v(Kn,ks),Z(un,Kn,null),v(e,Cs),v(e,Po),v(Po,jt),lt&&lt.m(jt,null),v(jt,Lr),at&&at.m(jt,null),v(jt,Fr),v(jt,Un),v(Un,ui),v(Un,As),v(Un,Mo),Vt.m(Mo,null),v(e,Ss),v(e,ci),v(ci,di),v(di,fn),v(fn,qr),v(fn,Ts),v(fn,Yn),v(Yn,Xn),v(Xn,mi),v(Xn,Is),v(Xn,pi),v(pi,jr),v(Yn,Os),v(Yn,Jn),v(Jn,hi),v(Jn,Ps),v(Jn,gi),v(gi,Br),v(fn,Ms),v(fn,cn),v(cn,xn),v(xn,Ns),v(cn,Es),v(cn,Zn),v(Zn,Rs),v(cn,Ds),v(cn,Qn),v(Qn,Ls),nt=!0,Gr||(Fs=[ee(H,"click",t[6]),ee(xn,"click",t[11]),ee(Zn,"click",t[12]),ee(Qn,"click",t[13])],Gr=!0)},p(ge,[He]){(!nt||He&1)&&c!==(c=it(ge[0].modifiers.happiness,2)+"")&&se(d,c);const Vr={};He&1&&(Vr.value=ge[0].townInfo.happiness),He&1&&(Vr.color=parseInt(ge[0].townInfo.happiness)>200?"bg-green-500":parseInt(ge[0].townInfo.happiness)>100?"bg-yellow-500":"bg-red-500"),_.$set(Vr),(!nt||He&1)&&E!==(E=it(ge[0].modifiers.health,2)+"")&&se(V,E);const Hr={};He&1&&(Hr.value=ge[0].townInfo.health),He&1&&(Hr.color=parseInt(ge[0].townInfo.health)>200?"bg-green-500":parseInt(ge[0].townInfo.health)>100?"bg-yellow-500":"bg-red-500"),B.$set(Hr),(!nt||He&1)&&k!==(k=it(ge[0].modifiers.community,2)+"")&&se(R,k);const Wr={};He&1&&(Wr.value=ge[0].townInfo.community),He&1&&(Wr.color=parseInt(ge[0].townInfo.community)>200?"bg-green-500":parseInt(ge[0].townInfo.community)>100?"bg-yellow-500":"bg-red-500"),K.$set(Wr),(!nt||He&1)&&oe!==(oe=ge[0].townInfo.name+"")&&se(U,oe),(!nt||He&1)&&Be!==(Be=ge[0].townInfo.population_count+"")&&se(Qe,Be),(!nt||He&1)&&Me!==(Me=ge[0].townInfo.population_max+"")&&se(Ve,Me),(!nt||He&1)&&ht!==(ht=ge[0].townInfo.gold+"")&&se(It,ht),Ci===(Ci=qs(ge))&&Bt?Bt.p(ge,He):(Bt.d(1),Bt=Ci(ge),Bt&&(Bt.c(),Bt.m(Ge,ft))),Ai===(Ai=js(ge))&&Gt?Gt.p(ge,He):(Gt.d(1),Gt=Ai(ge),Gt&&(Gt.c(),Gt.m($e,null))),(!nt||He&1&&j!==(j="text-xs pt-1 "+(ge[0].townInfo.employees==ge[0].townInfo.population_count?"text-textPrimary":ge[0].townInfo.employees>ge[0].townInfo.population_count*.95?"text-textDanger3":ge[0].townInfo.employees>ge[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")))&&M($e,"class",j),(!nt||He&2)&&se(Dr,ge[1]);const Gs={};He&16384&&(Gs.$$scope={dirty:He,ctx:ge}),an.$set(Gs);const $r={};He&1&&($r.class="text-xs flex flex-col h-min p-1.5 "+(ge[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35")),He&16385&&($r.$$scope={dirty:He,ctx:ge}),un.$set($r),ge[0].currentTutorialStep!=0?lt?(lt.p(ge,He),He&1&&C(lt,1)):(lt=hf(ge),lt.c(),C(lt,1),lt.m(jt,Lr)):lt&&(Te(),S(lt,1,1,()=>{lt=null}),Ie()),ge[5]?at?He&32&&C(at,1):(at=gf(),at.c(),C(at,1),at.m(jt,Fr)):at&&(Te(),S(at,1,1,()=>{at=null}),Ie()),Si===(Si=Bs(ge))&&Vt?Vt.p(ge,He):(Vt.d(1),Vt=Si(ge),Vt&&(Vt.c(),Vt.m(Mo,null))),(!nt||He&32&&fi!==(fi="flex flex-row flex-wrap align-middle justify-center items-center w-64 "+(ge[5]?"opacity-25 ":"")+" transition-all duration-700"))&&M(Po,"class",fi),(!nt||He&1)&&_i!==(_i=ge[0].environment.day%365+1+"")&&se(jr,_i),(!nt||He&1)&&bi!==(bi=Math.floor(ge[0].environment.day/365)+1+"")&&se(Br,bi),(!nt||He&4&&vi!==(vi=(ge[2].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&M(xn,"class",vi),(!nt||He&4&&yi!==(yi=(ge[2].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&M(Zn,"class",yi),(!nt||He&4&&wi!==(wi=(ge[2].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&M(Qn,"class",wi),(!nt||He&8&&ki!==(ki="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(ge[3].visible?"opacity-70":"")))&&M(e,"class",ki)},i(ge){nt||(C(a.$$.fragment,ge),C(_.$$.fragment,ge),C(B.$$.fragment,ge),C(K.$$.fragment,ge),C(an.$$.fragment,ge),C(un.$$.fragment,ge),C(lt),C(at),nt=!0)},o(ge){S(a.$$.fragment,ge),S(_.$$.fragment,ge),S(B.$$.fragment,ge),S(K.$$.fragment,ge),S(an.$$.fragment,ge),S(un.$$.fragment,ge),S(lt),S(at),nt=!1},d(ge){ge&&T(e),Q(a),Q(_),Q(B),Q(K),Bt.d(),Gt.d(),Q(an),Q(un),lt&&lt.d(),at&&at.d(),Vt.d(),Gr=!1,je(Fs)}}}function c4(t,e,n){let o,i,r,l,a;ae(t,Re,b=>n(0,o=b)),ae(t,_l,b=>n(2,i=b)),ae(t,Ze,b=>n(3,r=b)),ae(t,Qi,b=>n(4,l=b)),ae(t,ji,b=>n(5,a=b)),wr(()=>{const b=setInterval(()=>{Pe(Re,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(b)}});function s(){let b=prompt("Enter a new name for your town (under 200 chars)");if(b&&b.length<200&&b.length>=1){let A=o;A.townInfo.name=b,Re.set(A),localStorage.setItem(Mt,JSON.stringify(A))}}function u(b){return Pe(_l,i=b,i),document.querySelectorAll(".speedButton").forEach(w=>{w.classList.remove("active")}),i}function f(){let b=o;b.hasBank===!0?(b.townInfo.gold+=b.townInfo.gold_from_tourism,b.townInfo.gold_from_tourism=0,Re.set(b),localStorage.setItem(Mt,JSON.stringify(b))):alert("You need a bank to transfer funds from tourism activities.")}function c(){o.hasLab&&Bi.set(!0)}let d="00:00:00";const p=function(){Pe(Qi,l=!l,l)},h=()=>u(2e3),_=()=>u(750),y=()=>u(200);return t.$$.update=()=>{t.$$.dirty&1&&(o.timeSpent>0?n(1,d=up(o.timeSpent)):n(1,d="00:00:00"))},[o,d,i,r,l,a,s,u,c,f,p,h,_,y]}class d4 extends we{constructor(e){super(),ye(this,e,c4,f4,fe,{transferFundsFromBank:9})}get transferFundsFromBank(){return this.$$.ctx[9]}}function bf(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function vf(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function yf(t){let e,n,o=ie[Se(t[0].id)].title+"",i,r,l,a=ie[Se(t[0].id)].description+"",s,u,f,c,d,p,h,_,y,b=t[3]("💰",ie[Se(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",A,w,E=t[3]("🥕",ie[Se(t[0].id)].requirements.resources.food,t[2].resources.food)+"",V,N,$=t[3]("🧠",ie[Se(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",B,q,X=t[3]("🪵",ie[Se(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",P,g,k=t[3]("🪨",ie[Se(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",R,F,L=t[3]("🧲",ie[Se(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",K,x,J=t[3]("🔋",ie[Se(t[0].id)].active_costs.power,t[2].resources.power)+"",m,D,H=t[3]("🧑‍⚖️",ie[Se(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",te,oe=ie[Se(t[0].id)].requirements.employees!=0,U,ke=ie[Se(t[0].id)].revenue_per_week!=0,ce,Ne=Object.values(ie[Se(t[0].id)].active_costs).some(Mf),Ye,Be=Object.values(ie[Se(t[0].id)].generated_resources).some(Pf),Qe,de;c=new At({props:{class:"bg-secondary opacity-25 mt-1 mb-1"}});let Me=oe&&wf(t),Ve=ke&&kf(t),We=Ne&&Cf(t),Ge=Be&&Tf(t);return{c(){e=O("div"),n=O("span"),i=G(o),r=W(),l=O("span"),s=G(a),u=W(),f=O("div"),z(c.$$.fragment),d=W(),p=O("span"),p.textContent="Requirements",h=W(),_=O("div"),y=new pn(!1),A=W(),w=new pn(!1),V=W(),N=new pn(!1),B=W(),q=new pn(!1),P=W(),g=new pn(!1),R=W(),F=new pn(!1),K=W(),x=new pn(!1),m=W(),D=new pn(!1),te=W(),Me&&Me.c(),U=W(),Ve&&Ve.c(),ce=W(),We&&We.c(),Ye=W(),Ge&&Ge.c(),Qe=De(),M(n,"class","text-md"),M(l,"class","text-xs"),M(e,"class","flex flex-col gap-2"),M(p,"class","font-semibold"),y.a=A,w.a=V,N.a=B,q.a=P,g.a=R,F.a=K,x.a=m,D.a=te,M(_,"class","flex flex-col gap-1"),M(f,"class","flex flex-col w-36 h-min gap-0 text-xs")},m(ue,Ce){I(ue,e,Ce),v(e,n),v(n,i),v(e,r),v(e,l),v(l,s),I(ue,u,Ce),I(ue,f,Ce),Z(c,f,null),v(f,d),v(f,p),v(f,h),v(f,_),y.m(b,_),v(_,A),w.m(E,_),v(_,V),N.m($,_),v(_,B),q.m(X,_),v(_,P),g.m(k,_),v(_,R),F.m(L,_),v(_,K),x.m(J,_),v(_,m),D.m(H,_),v(_,te),Me&&Me.m(_,null),I(ue,U,Ce),Ve&&Ve.m(ue,Ce),I(ue,ce,Ce),We&&We.m(ue,Ce),I(ue,Ye,Ce),Ge&&Ge.m(ue,Ce),I(ue,Qe,Ce),de=!0},p(ue,Ce){(!de||Ce&1)&&o!==(o=ie[Se(ue[0].id)].title+"")&&se(i,o),(!de||Ce&1)&&a!==(a=ie[Se(ue[0].id)].description+"")&&se(s,a),(!de||Ce&5)&&b!==(b=ue[3]("💰",ie[Se(ue[0].id)].requirements.gold,ue[2].townInfo.gold)+"")&&y.p(b),(!de||Ce&5)&&E!==(E=ue[3]("🥕",ie[Se(ue[0].id)].requirements.resources.food,ue[2].resources.food)+"")&&w.p(E),(!de||Ce&5)&&$!==($=ue[3]("🧠",ie[Se(ue[0].id)].requirements.knowledge,ue[2].townInfo.knowledge_points)+"")&&N.p($),(!de||Ce&5)&&X!==(X=ue[3]("🪵",ie[Se(ue[0].id)].requirements.resources.wood,ue[2].resources.wood)+"")&&q.p(X),(!de||Ce&5)&&k!==(k=ue[3]("🪨",ie[Se(ue[0].id)].requirements.resources.stone,ue[2].resources.stone)+"")&&g.p(k),(!de||Ce&5)&&L!==(L=ue[3]("🧲",ie[Se(ue[0].id)].requirements.resources.metal,ue[2].resources.metal)+"")&&F.p(L),(!de||Ce&5)&&J!==(J=ue[3]("🔋",ie[Se(ue[0].id)].active_costs.power,ue[2].resources.power)+"")&&x.p(J),(!de||Ce&5)&&H!==(H=ue[3]("🧑‍⚖️",ie[Se(ue[0].id)].requirements.resources.bureaucracy,ue[2].resources.bureaucracy)+"")&&D.p(H),Ce&1&&(oe=ie[Se(ue[0].id)].requirements.employees!=0),oe?Me?Me.p(ue,Ce):(Me=wf(ue),Me.c(),Me.m(_,null)):Me&&(Me.d(1),Me=null),Ce&1&&(ke=ie[Se(ue[0].id)].revenue_per_week!=0),ke?Ve?(Ve.p(ue,Ce),Ce&1&&C(Ve,1)):(Ve=kf(ue),Ve.c(),C(Ve,1),Ve.m(ce.parentNode,ce)):Ve&&(Te(),S(Ve,1,1,()=>{Ve=null}),Ie()),Ce&1&&(Ne=Object.values(ie[Se(ue[0].id)].active_costs).some(Mf)),Ne?We?(We.p(ue,Ce),Ce&1&&C(We,1)):(We=Cf(ue),We.c(),C(We,1),We.m(Ye.parentNode,Ye)):We&&(Te(),S(We,1,1,()=>{We=null}),Ie()),Ce&1&&(Be=Object.values(ie[Se(ue[0].id)].generated_resources).some(Pf)),Be?Ge?(Ge.p(ue,Ce),Ce&1&&C(Ge,1)):(Ge=Tf(ue),Ge.c(),C(Ge,1),Ge.m(Qe.parentNode,Qe)):Ge&&(Te(),S(Ge,1,1,()=>{Ge=null}),Ie())},i(ue){de||(C(c.$$.fragment,ue),C(Ve),C(We),C(Ge),de=!0)},o(ue){S(c.$$.fragment,ue),S(Ve),S(We),S(Ge),de=!1},d(ue){ue&&(T(e),T(u),T(f),T(U),T(ce),T(Ye),T(Qe)),Q(c),Me&&Me.d(),Ve&&Ve.d(ue),We&&We.d(ue),Ge&&Ge.d(ue)}}}function wf(t){let e,n,o=ie[Se(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=O("span"),n=G("👥 "),i=G(o),r=G(" employees"),M(e,"class",l=ie[Se(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")},m(a,s){I(a,e,s),v(e,n),v(e,i),v(e,r)},p(a,s){s&1&&o!==(o=ie[Se(a[0].id)].requirements.employees+"")&&se(i,o),s&7&&l!==(l=ie[Se(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")&&M(e,"class",l)},d(a){a&&T(e)}}}function kf(t){let e,n,o,i,r,l,a,s=ie[Se(t[0].id)].revenue_per_week+"",u,f;return n=new At({props:{class:"bg-secondary opacity-25 mt-0"}}),{c(){e=O("div"),z(n.$$.fragment),o=W(),i=O("span"),i.textContent="Weekly revenue",r=W(),l=O("span"),a=G("💰 "),u=G(s),M(i,"class","font-semibold"),M(e,"class","flex flex-col gap-1 text-xs")},m(c,d){I(c,e,d),Z(n,e,null),v(e,o),v(e,i),v(e,r),v(e,l),v(l,a),v(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=ie[Se(c[0].id)].revenue_per_week+"")&&se(u,s)},i(c){f||(C(n.$$.fragment,c),f=!0)},o(c){S(n.$$.fragment,c),f=!1},d(c){c&&T(e),Q(n)}}}function Cf(t){let e,n,o,i,r,l;n=new At({props:{class:"bg-secondary opacity-25 mt-2"}});let a=Ue(Object.keys(ie[Se(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Sf(vf(t,a,u));return{c(){e=O("div"),z(n.$$.fragment),o=W(),i=O("span"),i.textContent="Weekly Costs",r=W();for(let u=0;u<s.length;u+=1)s[u].c();M(i,"class","font-semibold"),M(e,"class","flex flex-col gap-1 text-xs")},m(u,f){I(u,e,f),Z(n,e,null),v(e,o),v(e,i),v(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ue(Object.keys(ie[Se(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=vf(u,a,c);s[c]?s[c].p(d,f):(s[c]=Sf(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(C(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&T(e),Q(n),wt(s,u)}}}function Af(t){let e,n=co(t[4])+"",o,i,r=br(t[4])+"",l,a,s=-1*Object.values(ie[Se(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=O("span"),o=G(n),i=W(),l=G(r),a=W(),u=G(s),f=W(),M(e,"class",c=Object.values(ie[Se(t[0].id)].active_costs)[t[6]]>0?"text-textDanger1":"text-textHappyDark")},m(d,p){I(d,e,p),v(e,o),v(e,i),v(e,l),v(e,a),v(e,u),v(e,f)},p(d,p){p&1&&n!==(n=co(d[4])+"")&&se(o,n),p&1&&r!==(r=br(d[4])+"")&&se(l,r),p&1&&s!==(s=-1*Object.values(ie[Se(d[0].id)].active_costs)[d[6]]+"")&&se(u,s),p&1&&c!==(c=Object.values(ie[Se(d[0].id)].active_costs)[d[6]]>0?"text-textDanger1":"text-textHappyDark")&&M(e,"class",c)},d(d){d&&T(e)}}}function Sf(t){let e=Object.values(ie[Se(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&Af(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),I(i,n,r)},p(i,r){r&1&&(e=Object.values(ie[Se(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=Af(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function Tf(t){let e,n,o,i,r,l;n=new At({props:{class:"bg-secondary opacity-25 mt-2"}});let a=Ue(Object.keys(ie[Se(t[0].id)].generated_resources)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Of(bf(t,a,u));return{c(){e=O("div"),z(n.$$.fragment),o=W(),i=O("span"),i.textContent="Generated Resources",r=W();for(let u=0;u<s.length;u+=1)s[u].c();M(i,"class","font-semibold"),M(e,"class","flex flex-col gap-1 text-xs")},m(u,f){I(u,e,f),Z(n,e,null),v(e,o),v(e,i),v(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ue(Object.keys(ie[Se(u[0].id)].generated_resources));let c;for(c=0;c<a.length;c+=1){const d=bf(u,a,c);s[c]?s[c].p(d,f):(s[c]=Of(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(C(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&T(e),Q(n),wt(s,u)}}}function If(t){let e,n=br(t[4])+"",o,i,r=co(t[4])+"",l,a,s=xs(Object.values(ie[Se(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=O("span"),o=G(n),i=W(),l=G(r),a=W(),u=G(s),f=W(),M(e,"class",c=Object.values(ie[Se(t[0].id)].generated_resources)[t[6]]>0?"text-textHappyDark":"text-textDanger1")},m(d,p){I(d,e,p),v(e,o),v(e,i),v(e,l),v(e,a),v(e,u),v(e,f)},p(d,p){p&1&&n!==(n=br(d[4])+"")&&se(o,n),p&1&&r!==(r=co(d[4])+"")&&se(l,r),p&1&&s!==(s=xs(Object.values(ie[Se(d[0].id)].generated_resources)[d[6]],!1)+"")&&se(u,s),p&1&&c!==(c=Object.values(ie[Se(d[0].id)].generated_resources)[d[6]]>0?"text-textHappyDark":"text-textDanger1")&&M(e,"class",c)},d(d){d&&T(e)}}}function Of(t){let e=Object.values(ie[Se(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&If(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),I(i,n,r)},p(i,r){r&1&&(e=Object.values(ie[Se(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=If(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function m4(t){let e,n,o=t[0]!=null&&yf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&C(o,1)):(o=yf(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Te(),S(o,1,1,()=>{o=null}),Ie())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function br(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const Pf=t=>t!=0,Mf=t=>t!=0;function p4(t,e,n){let o;ae(t,Re,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger1 border-2 border-red-400"),f=`<span class='${c}'>${a} ${s}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class Ud extends we{constructor(e){super(),ye(this,e,p4,m4,fe,{option:0,checkRequirements:1})}}function Nf(t,e,n){const o=t.slice();return o[26]=e[n],o}function Ef(t,e,n){const o=t.slice();return o[29]=e[n],o}function Rf(t){let e,n,o,i,r,l,a,s,u,f,c,d,p=t[8].isMineralSource===!1&&Df(t);const h=[h4,_4],_=[];function y(b,A){return b[8].isMineralSource===!0?0:1}return a=y(t),s=_[a]=h[a](t),{c(){e=O("div"),n=O("div"),o=O("div"),i=O("div"),r=O("div"),p&&p.c(),l=W(),s.c(),M(r,"class","flex flex-row w-full "),M(i,"class","text-sm"),M(o,"class","flex flex-col gap-2 px-2 no-scrollbar justify-end"),M(n,"class","text-xl items-center justify-center w-[90%] align-bottom bg-foreground border-4 border-gray-400 shadow-2xl rounded-t-xl py-2 "),M(e,"class",u="w-[100vw] fixed bottom-0 h-["+t[10]+"] "+(t[8].isMineralSource===!0?"mb-[60px]":"mb-[0px]")+" p-1 z-50 flex flex-col justify-center text-center items-center")},m(b,A){I(b,e,A),v(e,n),v(n,o),v(o,i),v(i,r),p&&p.m(r,null),v(o,l),_[a].m(o,null),f=!0,c||(d=ee(o,"click",t[13]),c=!0)},p(b,A){b[8].isMineralSource===!1?p?(p.p(b,A),A[0]&256&&C(p,1)):(p=Df(b),p.c(),C(p,1),p.m(r,null)):p&&(Te(),S(p,1,1,()=>{p=null}),Ie());let w=a;a=y(b),a===w?_[a].p(b,A):(Te(),S(_[w],1,1,()=>{_[w]=null}),Ie(),s=_[a],s?s.p(b,A):(s=_[a]=h[a](b),s.c()),C(s,1),s.m(o,null)),(!f||A[0]&256&&u!==(u="w-[100vw] fixed bottom-0 h-["+b[10]+"] "+(b[8].isMineralSource===!0?"mb-[60px]":"mb-[0px]")+" p-1 z-50 flex flex-col justify-center text-center items-center"))&&M(e,"class",u)},i(b){f||(C(p),C(s),f=!0)},o(b){S(p),S(s),f=!1},d(b){b&&T(e),p&&p.d(),_[a].d(),c=!1,d()}}}function Df(t){let e,n,o,i,r,l,a,s,u,f=t[5].plots[t[0]][t[1]].type!==-1&&t[14](t[0],t[1]),c,d,p,h={type:"text",autofocus:!0,id:"search-bar",placeholder:"Search Plot Options...",value:t[3],class:"border rounded w-auto bg-white placeholder-black text-black text-xs"};n=new os({props:h}),t[19](n),n.$on("input",t[11]);let _=f&&Lf(t);return{c(){e=O("div"),z(n.$$.fragment),o=W(),i=O("div"),r=O("input"),l=W(),a=O("label"),a.textContent="Buildable",s=W(),u=O("div"),_&&_.c(),M(e,"class","flex items-end "),M(r,"type","checkbox"),M(r,"id","toggle-affordable"),M(r,"class","rounded"),r.checked=t[6],M(a,"for","toggle-affordable"),M(a,"class","ml-2 no-select cursor-pointer "),M(i,"class","flex items-center ml-4"),M(u,"class","flex justify-end ml-6")},m(y,b){I(y,e,b),Z(n,e,null),I(y,o,b),I(y,i,b),v(i,r),v(i,l),v(i,a),I(y,s,b),I(y,u,b),_&&_.m(u,null),c=!0,d||(p=ee(r,"change",t[20]),d=!0)},p(y,b){const A={};b[0]&8&&(A.value=y[3]),n.$set(A),(!c||b[0]&64)&&(r.checked=y[6]),b[0]&35&&(f=y[5].plots[y[0]][y[1]].type!==-1&&y[14](y[0],y[1])),f?_?_.p(y,b):(_=Lf(y),_.c(),_.m(u,null)):_&&(_.d(1),_=null)},i(y){c||(C(n.$$.fragment,y),c=!0)},o(y){S(n.$$.fragment,y),c=!1},d(y){y&&(T(e),T(o),T(i),T(s),T(u)),t[19](null),Q(n),_&&_.d(),d=!1,p()}}}function Lf(t){let e,n,o;return{c(){e=O("button"),e.textContent="❌ Bulldoze",M(e,"id","bulldoze"),M(e,"class","px-2 py-2 bg-red-500 rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(i,r){I(i,e,r),n||(o=ee(e,"click",t[16]),n=!0)},p:Ae,d(i){i&&T(e),n=!1,o()}}}function _4(t){let e,n,o=Ue([1,2,3,4]),i=[];for(let l=0;l<4;l+=1)i[l]=Gf(Nf(t,o,l));const r=l=>S(i[l],1,1,()=>{i[l]=null});return{c(){e=O("div");for(let l=0;l<4;l+=1)i[l].c();M(e,"class","flex flex-col gap-8 w-full overflow-y-scroll h-72 pb-24")},m(l,a){I(l,e,a);for(let s=0;s<4;s+=1)i[s]&&i[s].m(e,null);n=!0},p(l,a){if(a[0]&16){o=Ue([1,2,3,4]);let s;for(s=0;s<4;s+=1){const u=Nf(l,o,s);i[s]?(i[s].p(u,a),C(i[s],1)):(i[s]=Gf(u),i[s].c(),C(i[s],1),i[s].m(e,null))}for(Te(),s=4;s<4;s+=1)r(s);Ie()}},i(l){if(!n){for(let a=0;a<4;a+=1)C(i[a]);n=!0}},o(l){i=i.filter(Boolean);for(let a=0;a<4;a+=1)S(i[a]);n=!1},d(l){l&&T(e),wt(i,l)}}}function h4(t){let e,n,o,i,r,l,a,s=t[5].townInfo.gold>=t[9][Se("mine")].requirements.gold?"✅":"❌",u,f,c=En(t[9][Se("mine")].requirements.gold)+"",d,p,h,_,y=t[5].townInfo.population_count-t[5].townInfo.employees>=t[9][Se("mine")].requirements.employees?"✅":"❌",b,A,w=t[9][Se("mine")].requirements.employees+"",E,V=" ",N,$,B,q,X,P,g,k,R;const F=[w4,y4],L=[];function K(x,J){return J[0]&32&&(P=null),P==null&&(P=ot("mine",x[5]).length===0),P?0:1}return g=K(t,[-1,-1]),k=L[g]=F[g](t),{c(){e=O("div"),n=O("div"),o=O("div"),o.textContent="Build a mine",i=W(),r=O("div"),l=O("ul"),a=O("li"),u=G(s),f=G(`
                    $`),d=G(c),p=G(" gold"),h=W(),_=O("li"),b=G(y),A=W(),E=G(w),N=G(V),$=G(`
                    employees`),B=W(),q=O("div"),q.innerHTML=`<div class="text-8xl text-center h-5/6 mt-2 flex flex-col justify-center items-center align-middle w-1/3"><div>⛏️</div></div> <div class="w-2/3 text-start pl-6">Used to extract minerals needed to build many advanced plots
                  including hospitals, labs, and more.</div>`,X=W(),k.c(),M(o,"class","text-2xl pb-2"),M(l,"class","flex flex-row justify-between px-6 bg-blue-900 text-blue-200 text-sm rounded-md py-1"),M(q,"class","flex flex-row w-full justify-between px-6 mt-4 h-full"),M(n,"class","flex flex-col p-2 w-1/2 bg-blue-800 rounded-lg"),M(e,"class","flex justify-center items-start p-1 text-center w-full")},m(x,J){I(x,e,J),v(e,n),v(n,o),v(n,i),v(n,r),v(r,l),v(l,a),v(a,u),v(a,f),v(a,d),v(a,p),v(l,h),v(l,_),v(_,b),v(_,A),v(_,E),v(_,N),v(_,$),v(n,B),v(n,q),v(n,X),L[g].m(n,null),R=!0},p(x,J){(!R||J[0]&32)&&s!==(s=x[5].townInfo.gold>=x[9][Se("mine")].requirements.gold?"✅":"❌")&&se(u,s),(!R||J[0]&32)&&y!==(y=x[5].townInfo.population_count-x[5].townInfo.employees>=x[9][Se("mine")].requirements.employees?"✅":"❌")&&se(b,y);let m=g;g=K(x,J),g===m?L[g].p(x,J):(Te(),S(L[m],1,1,()=>{L[m]=null}),Ie(),k=L[g],k?k.p(x,J):(k=L[g]=F[g](x),k.c()),C(k,1),k.m(n,null))},i(x){R||(C(k),R=!0)},o(x){S(k),R=!1},d(x){x&&T(e),L[g].d()}}}function Ff(t){let e,n,o=En(t[29].revenue_per_week,!1)+"",i,r;return{c(){e=O("br"),n=G(`
                              Makes 💰 `),i=G(o),r=G("/week")},m(l,a){I(l,e,a),I(l,n,a),I(l,i,a),I(l,r,a)},p(l,a){a[0]&16&&o!==(o=En(l[29].revenue_per_week,!1)+"")&&se(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function qf(t){let e,n,o=En(t[29].requirements.employees,!1)+"",i;return{c(){e=O("br"),n=G(`
                              Employs `),i=G(o)},m(r,l){I(r,e,l),I(r,n,l),I(r,i,l)},p(r,l){l[0]&16&&o!==(o=En(r[29].requirements.employees,!1)+"")&&se(i,o)},d(r){r&&(T(e),T(n),T(i))}}}function g4(t){let e,n,o,i=(t[29].selected?"✅":Js(t[29].title))+"",r,l,a,s=t[29].title.substring(2)+"",u,f,c,d,p=En(t[29].requirements.gold,!1)+"",h,_,y,b,A,w,E=t[29].revenue_per_week>0&&Ff(t),V=t[29].requirements.employees>0&&qf(t);return{c(){e=O("div"),n=O("div"),o=O("span"),r=G(i),l=W(),a=O("span"),u=G(s),f=W(),c=O("span"),d=G("Costs 💰 "),h=G(p),_=W(),E&&E.c(),y=W(),V&&V.c(),M(o,"class","text-md text-center"),M(a,"class","text-xs text-center font-bold"),M(n,"class","pt-2"),M(c,"style",b=t[29].styling),M(c,"class","text-xs text-center pt-4"),M(e,"class",A="plotOption cursor-pointer min-w-40 h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(t[29].affordable||t[29].selected?"cursor-pointer":"opacity-25 cursor-not-allowed ")+" "+(t[29].selected?"border-4 border-yellow-200 opacity-100 rounded-none":"")),M(e,"data-plotoptionid",w=t[29].id),Je(e,"background-color",xi(Se(t[29].id),!0))},m(N,$){I(N,e,$),v(e,n),v(n,o),v(o,r),v(n,l),v(n,a),v(a,u),v(e,f),v(e,c),v(c,d),v(c,h),v(c,_),E&&E.m(c,null),v(c,y),V&&V.m(c,null)},p(N,$){$[0]&16&&i!==(i=(N[29].selected?"✅":Js(N[29].title))+"")&&se(r,i),$[0]&16&&s!==(s=N[29].title.substring(2)+"")&&se(u,s),$[0]&16&&p!==(p=En(N[29].requirements.gold,!1)+"")&&se(h,p),N[29].revenue_per_week>0?E?E.p(N,$):(E=Ff(N),E.c(),E.m(c,y)):E&&(E.d(1),E=null),N[29].requirements.employees>0?V?V.p(N,$):(V=qf(N),V.c(),V.m(c,null)):V&&(V.d(1),V=null),$[0]&16&&b!==(b=N[29].styling)&&M(c,"style",b),$[0]&16&&A!==(A="plotOption cursor-pointer min-w-40 h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(N[29].affordable||N[29].selected?"cursor-pointer":"opacity-25 cursor-not-allowed ")+" "+(N[29].selected?"border-4 border-yellow-200 opacity-100 rounded-none":""))&&M(e,"class",A),$[0]&16&&w!==(w=N[29].id)&&M(e,"data-plotoptionid",w),$[0]&16&&Je(e,"background-color",xi(Se(N[29].id),!0))},d(N){N&&T(e),E&&E.d(),V&&V.d()}}}function b4(t){let e,n;return e=new Ud({props:{option:t[29]}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i[0]&16&&(r.option=o[29]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function v4(t){let e,n,o,i;return e=new ai({props:{$$slots:{default:[g4]},$$scope:{ctx:t}}}),o=new li({props:{$$slots:{default:[b4]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l[0]&16|l[1]&2&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&16|l[1]&2&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function jf(t,e){let n,o,i;return o=new si({props:{openDelay:200,closeDelay:0,$$slots:{default:[v4]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=De(),z(o.$$.fragment),this.first=n},m(r,l){I(r,n,l),Z(o,r,l),i=!0},p(r,l){e=r;const a={};l[0]&16|l[1]&2&&(a.$$scope={dirty:l,ctx:e}),o.$set(a)},i(r){i||(C(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(o,r)}}}function Bf(t){let e;return{c(){e=O("span"),e.textContent="No plots available!",M(e,"class","text-sm pt-2")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Gf(t){let e,n,o,i,r=[],l=new Map,a,s=t[4].filter(c).length===0,u,f;function c(...y){return t[18](t[26],...y)}function d(...y){return t[22](t[26],...y)}let p=Ue(t[4].filter(d));const h=y=>y[29].id;for(let y=0;y<p.length;y+=1){let b=Ef(t,p,y),A=h(b);l.set(A,r[y]=jf(A,b))}let _=s&&Bf();return{c(){e=O("div"),n=O("div"),n.textContent=`Level ${t[26]}`,o=W(),i=O("div");for(let y=0;y<r.length;y+=1)r[y].c();a=W(),_&&_.c(),u=W(),M(n,"class","text-xl font-bold"),M(i,"class","flex flex-row text-start justify-start items-start flex-wrap pt-2 w-full align-middle gap-4")},m(y,b){I(y,e,b),v(e,n),v(e,o),v(e,i);for(let A=0;A<r.length;A+=1)r[A]&&r[A].m(i,null);v(i,a),_&&_.m(i,null),v(e,u),f=!0},p(y,b){t=y,b[0]&16&&(p=Ue(t[4].filter(d)),Te(),r=_m(r,b,h,1,t,p,l,i,pm,jf,a,Ef),Ie()),b[0]&16&&(s=t[4].filter(c).length===0),s?_||(_=Bf(),_.c(),_.m(i,null)):_&&(_.d(1),_=null)},i(y){if(!f){for(let b=0;b<p.length;b+=1)C(r[b]);f=!0}},o(y){for(let b=0;b<r.length;b+=1)S(r[b]);f=!1},d(y){y&&T(e);for(let b=0;b<r.length;b+=1)r[b].d();_&&_.d()}}}function y4(t){let e;return{c(){e=O("div"),e.textContent="You have built a mine here, and mine's can not be destroyed.",M(e,"class","text-yellow-500 text-xs mt-4 text-center")},m(n,o){I(n,e,o)},p:Ae,i:Ae,o:Ae,d(n){n&&T(e)}}}function w4(t){let e,n;return e=new Yt({props:{class:`my-6 w-full 
								`+(t[12](t[9][Se("mine")],t[5])?"bg-green-500 hover:bg-green-600":"bg-gray-900 hover:bg-gray-900 opacity-75 cursor-not-allowed")+` disabled'}
							`,tabindex:-1,$$slots:{default:[k4]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i[0]&32&&(r.class=`my-6 w-full 
								`+(o[12](o[9][Se("mine")],o[5])?"bg-green-500 hover:bg-green-600":"bg-gray-900 hover:bg-gray-900 opacity-75 cursor-not-allowed")+` disabled'}
							`),i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function k4(t){let e;return{c(){e=G("Build")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function C4(t){let e,n,o=t[2]&&Rf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,r){i[2]?o?(o.p(i,r),r[0]&4&&C(o,1)):(o=Rf(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Te(),S(o,1,1,()=>{o=null}),Ie())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function A4(t,e,n){let o,i,r;ae(t,Re,g=>n(5,o=g)),ae(t,Ze,g=>n(8,i=g)),ae(t,kc,g=>n(6,r=g));let{x:l=0}=e,{y:a=0}=e,{open:s=!1}=e,{tooltip:u=""}=e,f="",c=ie,d;const p=Math.round(window.innerHeight*.2)+"px";let h=c.map(g=>Object.assign(Object.assign({},g),{affordable:b(g,o),selected:y(g)}));function _(g){n(3,f=g.target.value||"")}function y(g){return o.plots[l][a].type>-1?c[o.plots[l][a].type].id===g.id:!1}function b(g,k){let R=!0;g.requirements.gold>k.townInfo.gold&&(R=!1);let F=k.townInfo.population_count-k.townInfo.employees;return g.requirements.employees!==void 0&&g.requirements.employees>0&&g.requirements.employees>F&&(R=!1),g.requirements.knowledge!==void 0&&g.requirements.knowledge>k.townInfo.knowledge_points&&(R=!1),g.requirements.resources!==void 0&&Object.keys(g.requirements.resources).forEach(L=>{o.resources[L]<g.requirements.resources[L]&&(R=!1)}),R}function A(g){const k=g.target.closest(".plotOption");if(k){const R=k.dataset.plotoptionid;w(R)}}function w(g){document.querySelectorAll(".plotOption").forEach(F=>{F.classList.remove("active")});const R=document.querySelector(`[data-plotoptionid="${g}"]`);R&&(R.classList.add("active"),V(l,a,g))}function E(g,k){if(i.isMineralSource)return!1;let R=0;return g>0&&o.plots[g-1][k].type!==-1&&R++,g<o.plots.length-1&&o.plots[g+1][k].type!==-1&&R++,k>0&&o.plots[g][k-1].type!==-1&&R++,k<o.plots[0].length-1&&o.plots[g][k+1].type!==-1&&R++,R<=4}function V(g,k,R){let F=o;const L=ie.findIndex(m=>m.id===R);let K=ie[L];if(b(K,o)==!1)return alert(`${JSON.stringify(K.requirements)}`);if(K.requirements.adjacent_plots!==void 0){let m=K.requirements.adjacent_plots;if(fp(g,k,F,K.requirements.adjacent_plots)===!1)return alert(`This plot requires adjacent plots of type: ${m.join(", ")}`)}let x=!0;if((K.requirements.gold>F.townInfo.gold||K.requirements.employees>F.townInfo.population_count-F.townInfo.employees)&&(x=!1),K.requirements.size!=null&&K.requirements.size!=1&&x){let te=function(oe,U){let ke={x:oe,y:U};return ke.x===0&&ke.y===0?!0:[{x:ke.x-1,y:ke.y},{x:ke.x+1,y:ke.y},{x:ke.x,y:ke.y-1},{x:ke.x,y:ke.y+1}].some(Ne=>Ne.x<0||Ne.x>o.plots.length-1||Ne.y<0||Ne.y>o.plots.length-1?!1:o.plots[Ne.x][Ne.y].active)};var J=te;let m=K.requirements.size,D=[],H=c[L].title.toLowerCase().indexOf("school")!=-1;for(let oe=0;oe<4;oe++){let U=[[g,k]];oe===0?(U.push([g-(m-1),k-(m-1)]),U.push([g-(m-1),k]),U.push([g,k-(m-1)])):oe===1?(U.push([g,k-(m-1)]),U.push([g+(m-1),k-(m-1)]),U.push([g+(m-1),k])):oe===2?(U.push([g-(m-1),k]),U.push([g-(m-1),k+(m-1)]),U.push([g,k+(m-1)])):oe===3&&(U.push([g,k+(m-1)]),U.push([g+(m-1),k+(m-1)]),U.push([g+(m-1),k])),D.push(U)}D=D.filter(oe=>oe.every(U=>U[0]>=0&&U[0]<=F.plots.length-1&&U[1]>=0&&U[1]<=F.plots.length-1&&!F.plots[U[0]][U[1]].active&&te(U[0],U[1])==!0)),D.length===0?x=!1:D.length>0&&D[0].forEach(U=>{F.plots[U[0]][U[1]].active=!0,F.plots[U[0]][U[1]].type=H?-3:-2,F.plots[U[0]][U[1]].referencePlot=[g,k]})}if(x===!0){if(F.plots[g][k].type!==-1&&Zi(g,k,F),n(17,u=""),F.plots[g][k].type=L,F.plots[g][k].active=!0,F.plots[g][k].referencePlot=[],F.plots[g][k].typeId=K.id,F.townInfo.gold-=K.requirements.gold,F.townInfo.gold=it(F.townInfo.gold,2),F.townInfo.population_count+=K.immediate_variable_changes.population,F.townInfo.population_max+=K.immediate_variable_changes.population,F.townInfo.happiness+=K.immediate_variable_changes.happiness,F.townInfo.health+=K.immediate_variable_changes.health,F.modifiers.happiness=it(F.modifiers.happiness*K.effect_modifiers.happiness,2),F.modifiers.health=it(F.modifiers.health*K.effect_modifiers.health,2),F.townInfo.employees+=K.requirements.employees,(F.plotCounts[L]===void 0||F.plotCounts[L]===null)&&(F.plotCounts[L]=0),F.plotCounts[L]++,F.lastChangeDay=F.environment.day,K.requirements.resources!==void 0){const D=K.requirements.resources;F.resources.food-=D.food,F.resources.wood-=D.wood,F.resources.stone-=D.stone,F.resources.metal-=D.metal}switch(K.id){case"city_hall":F.hasCityHall=!0;break;case"bank":F.hasBank=!0;break}Re.set(F),localStorage.setItem(Mt,JSON.stringify(F));let m=!1;for(let D=g;D<F.plots.length;D++){for(let H=k;H<F.plots[D].length;H++)if(F.plots[D][H].active===!1&&F.plots[D][H].mineralSource==!1&&F.plots[D][H].water==!1){g=D,k=H,m=!0;break}if(m)break}Pe(Ze,i.x=g,i),Pe(Ze,i.y=k,i)}else n(17,u="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(D=>{D.classList.remove("active")})}function N(){document.querySelectorAll(".plotOption").forEach(k=>{k.classList.remove("active")}),Zi(l,a,o)}const $=(g,k)=>k.level===g;function B(g){Oe[g?"unshift":"push"](()=>{d=g,n(7,d)})}const q=()=>{Tm()},X=()=>{V(l,a,"mine")},P=(g,k)=>k.level===g;return t.$$set=g=>{"x"in g&&n(0,l=g.x),"y"in g&&n(1,a=g.y),"open"in g&&n(2,s=g.open),"tooltip"in g&&n(17,u=g.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&112&&o&&(n(4,h=c.map(g=>Object.assign(Object.assign({},g),{affordable:b(g,o),selected:y(g)}))),n(4,h=h.filter(g=>g.id!=="mine")),r&&n(4,h=h.filter(g=>g.affordable)),Object.keys($s).forEach(g=>{let k=$s[g];if(k>0){let R=ot(g,o).length;n(4,h=h.filter(F=>F.id!==g||R<k))}}),h.sort((g,k)=>g.selected&&!k.selected?-1:0)),t.$$.dirty[0]&24&&n(4,h=h.filter(g=>g.title.toLowerCase().includes(f.toLowerCase())))},[l,a,s,f,h,o,r,d,i,c,p,_,b,A,E,V,N,u,$,B,q,X,P]}class Yd extends we{constructor(e){super(),ye(this,e,A4,C4,fe,{x:0,y:1,open:2,tooltip:17},null,[-1,-1])}}function S4(t){return{c:Ae,m:Ae,p:Ae,d:Ae}}function T4(t){let e,n,o,i=ie[t[0].type].title.substring(0,2)+"",r,l,a,s,u,f=ie[t[0].type].title.substring(2)+"",c,d,p,h;return{c(){e=O("div"),n=O("span"),o=O("span"),r=G(i),l=W(),a=O("br"),s=W(),u=O("span"),c=G(f),M(o,"class","text-lg align-text-top select-none"),M(u,"class","text-xs align-text-top font-normal text-black from-stone-600 select-none"),M(n,"data-size",d=ie[t[0].type].requirements.size),M(n,"data-x",p=t[0].x),M(n,"data-y",h=t[0].y),M(e,"class","svelte-9dbw4v")},m(_,y){I(_,e,y),v(e,n),v(n,o),v(o,r),v(n,l),v(n,a),v(n,s),v(n,u),v(u,c)},p(_,y){y&1&&i!==(i=ie[_[0].type].title.substring(0,2)+"")&&se(r,i),y&1&&f!==(f=ie[_[0].type].title.substring(2)+"")&&se(c,f),y&1&&d!==(d=ie[_[0].type].requirements.size)&&M(n,"data-size",d),y&1&&p!==(p=_[0].x)&&M(n,"data-x",p),y&1&&h!==(h=_[0].y)&&M(n,"data-y",h)},d(_){_&&T(e)}}}function Vf(t){let e;return{c(){e=O("span"),e.textContent="Mineral source",M(e,"class","text-xs")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function I4(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,h,_,y,b,A,w;function E(B,q){if(B[0].type>-1)return T4;if(B[0].type==-1&&B[0].x==0&&B[0].y==0)return S4}let V=E(t),N=V&&V(t),$=t[0].mineralSource&&t[0].type==-1&&Vf();return{c(){e=O("button"),N&&N.c(),n=W(),$&&$.c(),M(e,"class",o="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v"),Je(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":xi(t[0].type,t[2])),M(e,"data-active",i=t[0].active),M(e,"data-hidehoveranimation",r=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),M(e,"data-id",l=t[0].id),M(e,"data-x",a=t[0].x),M(e,"data-y",s=t[0].y),M(e,"data-optionindex",u=t[0].optionIndex),M(e,"data-canbeupgraded",t[2]),M(e,"data-type",f=t[0].type),M(e,"data-type-id",c=t[0].typeId),M(e,"data-refplotx",d=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),M(e,"data-refploty",p=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),M(e,"data-size",h=t[0].type>-1?ie[t[0].type].requirements.size:null),M(e,"data-mineralsource",_=t[0].mineralSource),M(e,"data-water",y=t[0].water),M(e,"data-nearwater",b=Rn(t[0].x,t[0].y,t[5]))},m(B,q){I(B,e,q),N&&N.m(e,null),v(e,n),$&&$.m(e,null),A||(w=ee(e,"click",t[6]),A=!0)},p(B,q){V===(V=E(B))&&N?N.p(B,q):(N&&N.d(1),N=V&&V(B),N&&(N.c(),N.m(e,n))),B[0].mineralSource&&B[0].type==-1?$||($=Vf(),$.c(),$.m(e,null)):$&&($.d(1),$=null),q&7&&o!==(o="plot_container "+B[1]+" overflow-visible "+(B[0].type==-1&&B[2]==!1,"")+" "+(B[0].mineralSource?"hidden":"")+" "+(B[2]?"cursor-pointer":"cursor-not-allowed")+" "+(B[0].disabled?"animate-spin":"")+" svelte-9dbw4v")&&M(e,"class",o),q&21&&Je(e,"background-color",B[0].water?"bg-blue-900 opacity-100":B[4].x==B[0].x&&B[4].y==B[0].y&&B[4].visible?"white":xi(B[0].type,B[2])),q&1&&i!==(i=B[0].active)&&M(e,"data-active",i),q&17&&r!==(r=B[4].visible||B[0].type==-1&&B[0].x==0&&B[0].y==0)&&M(e,"data-hidehoveranimation",r),q&1&&l!==(l=B[0].id)&&M(e,"data-id",l),q&1&&a!==(a=B[0].x)&&M(e,"data-x",a),q&1&&s!==(s=B[0].y)&&M(e,"data-y",s),q&1&&u!==(u=B[0].optionIndex)&&M(e,"data-optionindex",u),q&4&&M(e,"data-canbeupgraded",B[2]),q&1&&f!==(f=B[0].type)&&M(e,"data-type",f),q&1&&c!==(c=B[0].typeId)&&M(e,"data-type-id",c),q&1&&d!==(d=B[0].referencePlot!==void 0?B[0].referencePlot[1]:null)&&M(e,"data-refplotx",d),q&1&&p!==(p=B[0].referencePlot!==void 0?B[0].referencePlot[0]:null)&&M(e,"data-refploty",p),q&1&&h!==(h=B[0].type>-1?ie[B[0].type].requirements.size:null)&&M(e,"data-size",h),q&1&&_!==(_=B[0].mineralSource)&&M(e,"data-mineralsource",_),q&1&&y!==(y=B[0].water)&&M(e,"data-water",y),q&33&&b!==(b=Rn(B[0].x,B[0].y,B[5]))&&M(e,"data-nearwater",b)},d(B){B&&T(e),N&&N.d(),$&&$.d(),A=!1,w()}}}function Hf(t){let e;return{c(){e=G("Water - Place farms nearby for more food & revenue!")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Wf(t){let e;return{c(){e=O("span"),e.textContent="Near water - Generating more food & revenue!",M(e,"class","text-xs bg-blue-500 text-white p-1")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function $f(t){let e,n;return e=new Ud({props:{option:t[3],checkRequirements:!1}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&8&&(r.option=o[3]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function O4(t){let e,n,o=Rn(t[0].x,t[0].y,t[5]),i,r,l=t[0].water&&Hf(),a=o&&Wf(),s=t[0].active&&$f(t);return{c(){e=O("div"),l&&l.c(),n=W(),a&&a.c(),i=W(),s&&s.c(),M(e,"class","flex flex-col gap-2")},m(u,f){I(u,e,f),l&&l.m(e,null),v(e,n),a&&a.m(e,null),v(e,i),s&&s.m(e,null),r=!0},p(u,f){u[0].water?l||(l=Hf(),l.c(),l.m(e,n)):l&&(l.d(1),l=null),f&33&&(o=Rn(u[0].x,u[0].y,u[5])),o?a||(a=Wf(),a.c(),a.m(e,i)):a&&(a.d(1),a=null),u[0].active?s?(s.p(u,f),f&1&&C(s,1)):(s=$f(u),s.c(),C(s,1),s.m(e,null)):s&&(Te(),S(s,1,1,()=>{s=null}),Ie())},i(u){r||(C(s),r=!0)},o(u){S(s),r=!1},d(u){u&&T(e),l&&l.d(),a&&a.d(),s&&s.d()}}}function P4(t){let e,n,o,i;return e=new ai({props:{$$slots:{default:[I4]},$$scope:{ctx:t}}}),o=new li({props:{class:t[0].type<0&&!t[0].water?"hidden":"",$$slots:{default:[O4]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&1079&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class=r[0].type<0&&!r[0].water?"hidden":""),l&1065&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function M4(t){let e,n;return e=new si({props:{openDelay:100,closeDelay:0,$$slots:{default:[P4]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,[i]){const r={};i&1087&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function N4(t,e,n){let o,i,r,l;ae(t,Ze,p=>n(4,o=p)),ae(t,Re,p=>n(5,i=p)),ae(t,Pt,p=>n(8,r=p)),ae(t,fo,p=>n(9,l=p));let{data:a={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,s,{classText:u=""}=e,{canBeUpgraded:f=!1}=e;function c(p,h,_){let y=document.querySelectorAll(".plot_container");if(r==!1){if(a.referencePlot!=null&&a.referencePlot[0]!==null&&h==null&&_==null&&a.referencePlot[1]!==void 0)return c(p,a.referencePlot[0],a.referencePlot[1]);!a.active&&!f?(Pe(fo,l={},l),Pe(Ze,o.visible=!1,o),y.forEach(b=>{b.classList.remove("selected")})):(h!=null&&_!=null?(Pe(Ze,o.x=h,o),Pe(Ze,o.y=_,o)):(Pe(Ze,o.x=a.x,o),Pe(Ze,o.y=a.y,o)),Pe(Ze,o.isMineralSource=a.mineralSource,o),Pe(Ze,o.visible=!0,o),y.forEach(b=>{b.classList.remove("selected")}),h!=null&&_!=null?document.querySelector(`.plot_container[data-x="${h}"][data-y="${_}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${a.id}"]`).classList.add("selected"))}}function d(p){r==!1&&(Pe(Re,i.plots[a.x][a.y].type=p,i),Pe(Ze,o.visible=!1,o))}return t.$$set=p=>{"data"in p&&n(0,a=p.data),"classText"in p&&n(1,u=p.classText),"canBeUpgraded"in p&&n(2,f=p.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1&&a.type>-1&&n(3,s=ie[a.type])},[a,u,f,s,o,i,c,d]}class E4 extends we{constructor(e){super(),ye(this,e,N4,M4,fe,{data:0,classText:1,canBeUpgraded:2,changePlotType:7})}get changePlotType(){return this.$$.ctx[7]}}function Kf(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function Uf(t,e,n){const o=t.slice();return o[9]=e[n],o}function Yf(t){let e,n,o,i=t[3],r,l,a=Ue(t[2].plots),s=[];for(let c=0;c<a.length;c+=1)s[c]=Jf(Kf(t,a,c));const u=c=>S(s[c],1,1,()=>{s[c]=null});let f=Zf(t);return{c(){e=O("div"),n=O("div");for(let c=0;c<s.length;c+=1)s[c].c();o=W(),f.c(),r=De(),M(n,"class","grid overflow-x-scroll overflow-y-scroll plot_controller svelte-12aovn0"),M(e,"id","plotContainerMain"),M(e,"class","absolute left-[170px] top-[170px] overflow-scroll pl-32 pt-32 pb-80 pr-80")},m(c,d){I(c,e,d),v(e,n);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(n,null);I(c,o,d),f.m(c,d),I(c,r,d),l=!0},p(c,d){if(d&7){a=Ue(c[2].plots);let p;for(p=0;p<a.length;p+=1){const h=Kf(c,a,p);s[p]?(s[p].p(h,d),C(s[p],1)):(s[p]=Jf(h),s[p].c(),C(s[p],1),s[p].m(n,null))}for(Te(),p=a.length;p<s.length;p+=1)u(p);Ie()}d&8&&fe(i,i=c[3])?(Te(),S(f,1,1,Ae),Ie(),f=Zf(c),f.c(),C(f,1),f.m(r.parentNode,r)):f.p(c,d)},i(c){if(!l){for(let d=0;d<a.length;d+=1)C(s[d]);C(f),l=!0}},o(c){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)S(s[d]);S(f),l=!1},d(c){c&&(T(e),T(o),T(r)),wt(s,c),f.d(c)}}}function Xf(t){let e,n;return e=new E4({props:{classText:"hexagon",data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&4&&(r.data=o[9]),i&4&&(r.canBeUpgraded=o[0](o[9].x,o[9].y)),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Jf(t){let e,n,o,i,r,l=Ue(t[6]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Xf(Uf(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=O("div");for(let u=0;u<a.length;u+=1)a[u].c();n=W(),M(e,"class","row "+(t[8]%2!==0?"odd-row":"")+" svelte-12aovn0")},m(u,f){I(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);v(e,n),o=!0,i||(r=ee(e,"click",t[1]),i=!0)},p(u,f){if(f&5){l=Ue(u[6]);let c;for(c=0;c<l.length;c+=1){const d=Uf(u,l,c);a[c]?(a[c].p(d,f),C(a[c],1)):(a[c]=Xf(d),a[c].c(),C(a[c],1),a[c].m(e,n))}for(Te(),c=l.length;c<a.length;c+=1)s(c);Ie()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)C(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);o=!1},d(u){u&&T(e),wt(a,u),i=!1,r()}}}function xf(t){let e,n;return e=new Yd({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.x=o[4].x),i&16&&(r.y=o[4].y),i&16&&(r.open=o[4].visible),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Zf(t){let e,n,o=t[4].visible&&xf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,r){i[4].visible?o?(o.p(i,r),r&16&&C(o,1)):(o=xf(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Te(),S(o,1,1,()=>{o=null}),Ie())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function R4(t){let e,n,o=t[2]!=null&&Yf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,[r]){i[2]!=null?o?(o.p(i,r),r&4&&C(o,1)):(o=Yf(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Te(),S(o,1,1,()=>{o=null}),Ie())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function D4(t,e,n){let o,i,r;ae(t,fo,u=>n(3,o=u)),ae(t,Re,u=>n(2,i=u)),ae(t,Ze,u=>n(4,r=u)),document.addEventListener("click",function(u){const f=u.target;(f.dataset.x==null&&f.dataset.type!="-1"&&f.dataset.size!=null||f.id=="plotContainerMain"||f.classList.contains("row")||f.classList.contains("grid"))&&Pe(Ze,r.visible=!1,r)});function l(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(p=>p.x<0||p.x>=i.plots.length||p.y<0||p.y>=i.plots[p.x].length?!1:i.plots[p.x][p.y].active)}function a(){let u=[];for(let f=0;f<i.plots.length;f++)for(let c=0;c<i.plots.length;c++)l(f,c)&&i.plots[f][c].active==!1&&u.push(i.plots[f][c])}function s(){Pe(fo,o={},o)}return t.$$.update=()=>{t.$$.dirty&4&&i&&a()},[l,s,i,o,r]}class L4 extends we{constructor(e){super(),ye(this,e,D4,R4,fe,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}function Qf(t,e,n){const o=t.slice();return o[2]=e[n],o}function zf(t){let e;return{c(){e=O("span"),e.textContent="No alerts in the last 30d",M(e,"class","text-sm italic text-center opacity-70")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function ec(t){let e,n=t[2]+"",o,i,r;return{c(){e=O("p"),o=G(n),i=W(),r=O("br"),M(e,"class","text-xs")},m(l,a){I(l,e,a),v(e,o),I(l,i,a),I(l,r,a)},p(l,a){a&2&&n!==(n=l[2]+"")&&se(o,n)},d(l){l&&(T(e),T(i),T(r))}}}function F4(t){let e,n,o,i,r,l,a,s,u=t[1].townLog==""&&zf(),f=Ue(t[1].townLog.split(`
`)),c=[];for(let d=0;d<f.length;d+=1)c[d]=ec(Qf(t,f,d));return{c(){e=O("div"),n=O("div"),o=O("h1"),o.textContent="Alerts",i=W(),u&&u.c(),r=W();for(let d=0;d<c.length;d+=1)c[d].c();l=W(),a=O("ul"),a.innerHTML="",M(o,"class","text-xl w-full pb-2 text-center "),M(a,"class","list-disc pl-5 gap-2 flex flex-col text-xs "),M(n,"class",s="bg-foreground w-[160px] border-foregroundDark border-4 "+(t[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 p-3 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300"),M(e,"class","flex flex-row text-foregroundText")},m(d,p){I(d,e,p),v(e,n),v(n,o),v(n,i),u&&u.m(n,null),v(n,r);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(n,null);v(n,l),v(n,a)},p(d,[p]){if(d[1].townLog==""?u||(u=zf(),u.c(),u.m(n,r)):u&&(u.d(1),u=null),p&2){f=Ue(d[1].townLog.split(`
`));let h;for(h=0;h<f.length;h+=1){const _=Qf(d,f,h);c[h]?c[h].p(_,p):(c[h]=ec(_),c[h].c(),c[h].m(n,l))}for(;h<c.length;h+=1)c[h].d(1);c.length=f.length}p&1&&s!==(s="bg-foreground w-[160px] border-foregroundDark border-4 "+(d[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 p-3 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300")&&M(n,"class",s)},i:Ae,o:Ae,d(d){d&&T(e),u&&u.d(),wt(c,d)}}}function q4(t,e,n){let o,i;return ae(t,Ze,r=>n(0,o=r)),ae(t,Re,r=>n(1,i=r)),[o,i]}class j4 extends we{constructor(e){super(),ye(this,e,q4,F4,fe,{})}}function tc(t,e,n){const o=t.slice();return o[5]=e[n],o}function nc(t){let e,n;return e=new q1({props:{thumb:t[5],class:"block h-5 w-5 rounded-full border-2 border-primary bg-accent ring-accent transition-colors focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function B4(t){let e,n,o,i,r;n=new N1({props:{class:"absolute h-full bg-primary"}});let l=Ue(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=nc(tc(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=O("span"),z(n.$$.fragment),o=W();for(let u=0;u<a.length;u+=1)a[u].c();i=De(),M(e,"class","relative h-2 w-full grow overflow-hidden rounded-full bg-textPrimary")},m(u,f){I(u,e,f),Z(n,e,null),I(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);I(u,i,f),r=!0},p(u,f){if(f&16){l=Ue(u[4]);let c;for(c=0;c<l.length;c+=1){const d=tc(u,l,c);a[c]?(a[c].p(d,f),C(a[c],1)):(a[c]=nc(d),a[c].c(),C(a[c],1),a[c].m(i.parentNode,i))}for(Te(),c=l.length;c<a.length;c+=1)s(c);Ie()}},i(u){if(!r){C(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)C(a[f]);r=!0}},o(u){S(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);r=!1},d(u){u&&(T(e),T(o),T(i)),Q(n),wt(a,u)}}}function G4(t){let e,n,o;const i=[{class:Le("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[B4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=Y(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new S1({props:l}),Oe.push(()=>Vn(e,"value",r)),{c(){z(e.$$.fragment)},m(a,s){Z(e,a,s),o=!0},p(a,[s]){const u=s&6?ve(i,[s&2&&{class:Le("relative flex w-full touch-none select-none items-center",a[1])},s&4&&rt(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],Gn(()=>n=!1)),e.$set(u)},i(a){o||(C(e.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),o=!1},d(a){Q(e,a)}}}function V4(t,e,n){const o=["class","value"];let i=re(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(2,i=re(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class oc extends we{constructor(e){super(),ye(this,e,V4,G4,fe,{class:1,value:0})}}function ic(t,e,n){const o=t.slice();return o[7]=e[n].icon,o[8]=e[n].name,o[9]=e[n].value,o[10]=e[n].rate,o}function rc(t,e,n){const o=t.slice();return o[13]=e[n],o}function H4(t){let e;return{c(){e=O("div"),e.innerHTML=`Resources are generated from plots. Generation rate can be increased
            by raising the productivity of the town, at the cost of some
            happiness.
            <br/> <br/>
            There is also a slight bit of randomness as townspeople aren&#39;t robots.`,M(e,"class","text-sm")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function W4(t){let e,n,o,i;return o=new li({props:{class:"text-sm w-[200px]",$$slots:{default:[H4]},$$scope:{ctx:t}}}),{c(){e=O("div"),e.innerHTML='<h1 class="text-xl w-full text-center">Resources</h1> <button class="text-textPrimary text-sm">ℹ️</button>',n=W(),z(o.$$.fragment),M(e,"class","flex flex-row items-center pb-2 gap-2")},m(r,l){I(r,e,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&65536&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(C(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&(T(e),T(n)),Q(o,r)}}}function $4(t){let e,n;return e=new ai({props:{$$slots:{default:[W4]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&65536&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function K4(t){let e,n,o=t[10]+"",i;return{c(){e=O("span"),n=G("+"),i=G(o),M(e,"class","text-textPrimary")},m(r,l){I(r,e,l),v(e,n),v(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&se(i,o)},d(r){r&&T(e)}}}function U4(t){let e;return{c(){e=O("span")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function Y4(t){let e,n=t[10]+"",o;return{c(){e=O("span"),o=G(n),M(e,"class","text-textDanger2")},m(i,r){I(i,e,r),v(e,o)},p(i,r){r&2&&n!==(n=i[10]+"")&&se(o,n)},d(i){i&&T(e)}}}function X4(t){let e,n,o=t[10]+"",i;return{c(){e=O("span"),n=G("+"),i=G(o),M(e,"class","text-textHappy")},m(r,l){I(r,e,l),v(e,n),v(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&se(i,o)},d(r){r&&T(e)}}}function J4(t){let e;return{c(){e=O("span"),M(e,"class","display-none")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function x4(t){let e,n,o=t[10]+"",i,r;return{c(){e=O("span"),n=G("+"),i=G(o),r=G(" (weekly)"),M(e,"class","")},m(l,a){I(l,e,a),v(e,n),v(e,i),v(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&se(i,o)},d(l){l&&T(e)}}}function Z4(t){let e,n=t[10]+"",o,i;return{c(){e=O("span"),o=G(n),i=G(" (weekly)"),M(e,"class","text-textDanger2")},m(r,l){I(r,e,l),v(e,o),v(e,i)},p(r,l){l&2&&n!==(n=r[10]+"")&&se(o,n)},d(r){r&&T(e)}}}function Q4(t){let e,n,o=t[10]+"",i,r;return{c(){e=O("span"),n=G("+"),i=G(o),r=G(" (weekly)"),M(e,"class","text-textHappy")},m(l,a){I(l,e,a),v(e,n),v(e,i),v(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&se(i,o)},d(l){l&&T(e)}}}function lc(t){let e,n,o,i;return e=new At({}),{c(){z(e.$$.fragment),n=W(),o=O("span"),o.textContent="Required for",M(o,"class","text-sm font-semibold")},m(r,l){Z(e,r,l),I(r,n,l),I(r,o,l),i=!0},i(r){i||(C(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),Q(e,r)}}}function sc(t){let e,n=t[13]+"",o;return{c(){e=O("span"),o=G(n),M(e,"class","text-xs mr-4")},m(i,r){I(i,e,r),v(e,o)},p(i,r){r&2&&n!==(n=i[13]+"")&&se(o,n)},d(i){i&&T(e)}}}function z4(t){let e,n,o=t[7]+"",i,r,l=co(t[8])+"",a,s,u,f=t[5](t[8]).length>0,c,d,p;function h(E,V){return E[10]>0?Q4:E[10]<0?Z4:E[10]!=null?x4:J4}let _=h(t),y=_(t),b=f&&lc(),A=Ue(t[5](t[8])),w=[];for(let E=0;E<A.length;E+=1)w[E]=sc(rc(t,A,E));return{c(){e=O("div"),n=O("span"),i=G(o),r=W(),a=G(l),s=W(),y.c(),u=W(),b&&b.c(),c=W(),d=O("div");for(let E=0;E<w.length;E+=1)w[E].c();M(n,"class","text-md font-bold"),M(d,"class","flex flex-col flex-wrap max-h-36"),M(e,"class","flex flex-col gap-2 whitespace-nowrap")},m(E,V){I(E,e,V),v(e,n),v(n,i),v(n,r),v(n,a),v(e,s),y.m(e,null),v(e,u),b&&b.m(e,null),v(e,c),v(e,d);for(let N=0;N<w.length;N+=1)w[N]&&w[N].m(d,null);p=!0},p(E,V){if((!p||V&2)&&o!==(o=E[7]+"")&&se(i,o),(!p||V&2)&&l!==(l=co(E[8])+"")&&se(a,l),_===(_=h(E))&&y?y.p(E,V):(y.d(1),y=_(E),y&&(y.c(),y.m(e,u))),V&2&&(f=E[5](E[8]).length>0),f?b?V&2&&C(b,1):(b=lc(),b.c(),C(b,1),b.m(e,c)):b&&(Te(),S(b,1,1,()=>{b=null}),Ie()),V&34){A=Ue(E[5](E[8]));let N;for(N=0;N<A.length;N+=1){const $=rc(E,A,N);w[N]?w[N].p($,V):(w[N]=sc($),w[N].c(),w[N].m(d,null))}for(;N<w.length;N+=1)w[N].d(1);w.length=A.length}},i(E){p||(C(b),p=!0)},o(E){S(b),p=!1},d(E){E&&T(e),y.d(),b&&b.d(),wt(w,E)}}}function eC(t){let e,n=t[7]+"",o,i,r=t[9]+"",l,a,s,u,f,c;function d(_,y){return _[10]>0?X4:_[10]<0?Y4:_[10]==null?U4:K4}let p=d(t),h=p(t);return f=new li({props:{$$slots:{default:[z4]},$$scope:{ctx:t}}}),{c(){e=O("span"),o=G(n),i=W(),l=G(r),a=W(),h.c(),u=W(),z(f.$$.fragment),M(e,"class",s="flex flex-row justify-between "+(t[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary"))},m(_,y){I(_,e,y),v(e,o),v(e,i),v(e,l),v(e,a),h.m(e,null),I(_,u,y),Z(f,_,y),c=!0},p(_,y){(!c||y&2)&&n!==(n=_[7]+"")&&se(o,n),(!c||y&2)&&r!==(r=_[9]+"")&&se(l,r),p===(p=d(_))&&h?h.p(_,y):(h.d(1),h=p(_),h&&(h.c(),h.m(e,null))),(!c||y&2&&s!==(s="flex flex-row justify-between "+(_[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary")))&&M(e,"class",s);const b={};y&65538&&(b.$$scope={dirty:y,ctx:_}),f.$set(b)},i(_){c||(C(f.$$.fragment,_),c=!0)},o(_){S(f.$$.fragment,_),c=!1},d(_){_&&(T(e),T(u)),h.d(),Q(f,_)}}}function tC(t){let e,n,o;return e=new ai({props:{$$slots:{default:[eC]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=W()},m(i,r){Z(e,i,r),I(i,n,r),o=!0},p(i,r){const l={};r&65538&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(C(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){i&&T(n),Q(e,i)}}}function ac(t){let e,n;return e=new si({props:{openDelay:200,closeDelay:0,$$slots:{default:[tC]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&65538&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function nC(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,h,_=it(t[0].townInfo.productivity,0)+"",y,b,A,w,E,V,N,$,B,q,X,P=it(t[0].economyAndLaws.tax_rate*100,0)+"",g,k,R,F,L,K,x;o=new si({props:{openDelay:200,closeDelay:0,$$slots:{default:[$4]},$$scope:{ctx:t}}});let J=Ue(t[1]),m=[];for(let H=0;H<J.length;H+=1)m[H]=ac(ic(t,J,H));const D=H=>S(m[H],1,1,()=>{m[H]=null});return w=new oc({props:{value:[t[0].townInfo.productivity],onValueChange:t[4],min:0,max:200,step:5,class:"cursor-pointer w-full"}}),F=new oc({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[3],min:0,max:1,step:.05,class:"cursor-pointer w-full"}}),{c(){e=O("div"),n=O("div"),z(o.$$.fragment),i=W(),r=O("div"),l=O("div");for(let H=0;H<m.length;H+=1)m[H].c();a=W(),s=O("div"),u=O("div"),f=O("div"),c=O("span"),c.textContent="Productivity",d=W(),p=O("span"),h=G("("),y=G(_),b=G("%)"),A=W(),z(w.$$.fragment),E=W(),V=O("div"),N=O("div"),$=O("span"),$.textContent="Tax Rate",B=W(),q=O("span"),X=G("("),g=G(P),k=G("%)"),R=W(),z(F.$$.fragment),M(n,"class","flex flex-row justify-center"),M(l,"class","flex flex-col text-sm text-nowrap gap-2"),M(c,"class","text-xs"),M(p,"class","text-xs"),M(u,"class","flex flex-col justify-center w-full text-center items-center gap-2"),M($,"class","text-xs"),M(q,"class","text-xs"),M(V,"class",L="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(t[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")),M(s,"class","flex flex-col gap-6 rounded-xl text-center justify-center"),M(r,"class","flex flex-col justify-between gap-4 text-foregroundText h-full pb-12"),M(e,"class",K="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(t[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300")},m(H,te){I(H,e,te),v(e,n),Z(o,n,null),v(e,i),v(e,r),v(r,l);for(let oe=0;oe<m.length;oe+=1)m[oe]&&m[oe].m(l,null);v(r,a),v(r,s),v(s,u),v(u,f),v(f,c),v(f,d),v(f,p),v(p,h),v(p,y),v(p,b),v(u,A),Z(w,u,null),v(s,E),v(s,V),v(V,N),v(N,$),v(N,B),v(N,q),v(q,X),v(q,g),v(q,k),v(V,R),Z(F,V,null),x=!0},p(H,[te]){const oe={};if(te&65536&&(oe.$$scope={dirty:te,ctx:H}),o.$set(oe),te&34){J=Ue(H[1]);let ce;for(ce=0;ce<J.length;ce+=1){const Ne=ic(H,J,ce);m[ce]?(m[ce].p(Ne,te),C(m[ce],1)):(m[ce]=ac(Ne),m[ce].c(),C(m[ce],1),m[ce].m(l,null))}for(Te(),ce=J.length;ce<m.length;ce+=1)D(ce);Ie()}(!x||te&1)&&_!==(_=it(H[0].townInfo.productivity,0)+"")&&se(y,_);const U={};te&1&&(U.value=[H[0].townInfo.productivity]),w.$set(U),(!x||te&1)&&P!==(P=it(H[0].economyAndLaws.tax_rate*100,0)+"")&&se(g,P);const ke={};te&1&&(ke.value=[H[0].economyAndLaws.tax_rate]),F.$set(ke),(!x||te&1&&L!==(L="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(H[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")))&&M(V,"class",L),(!x||te&4&&K!==(K="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(H[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300"))&&M(e,"class",K)},i(H){if(!x){C(o.$$.fragment,H);for(let te=0;te<J.length;te+=1)C(m[te]);C(w.$$.fragment,H),C(F.$$.fragment,H),x=!0}},o(H){S(o.$$.fragment,H),m=m.filter(Boolean);for(let te=0;te<m.length;te+=1)S(m[te]);S(w.$$.fragment,H),S(F.$$.fragment,H),x=!1},d(H){H&&T(e),Q(o),wt(m,H),Q(w),Q(F)}}}function oC(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function iC(t,e,n){let o,i;ae(t,Re,f=>n(0,o=f)),ae(t,Ze,f=>n(2,i=f));function r(f){let c=o;c.economyAndLaws.tax_rate=it(f[0],2),Re.set(c),localStorage.setItem(Mt,JSON.stringify(c))}function l(f){let c=o;c.townInfo.productivity=it(f[0],2),Re.set(c),localStorage.setItem(Mt,JSON.stringify(c))}console.log(o.townInfo.knowledge_points_per_month);let a=[];function s(f){let c=[];for(let d=0;d<ie.length;d++)(f!="knowledge"&&ie[d].requirements.resources[f]>0||f=="power"&&ie[d].active_costs.power>0||f=="knowledge"&&ie[d].requirements.knowledge>0)&&c.push(ie[d].title);return c}function u(f){return oC(f)?s(f):[]}return t.$$.update=()=>{t.$$.dirty&1&&n(1,a=[{icon:"🥕",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"🪵",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"🪨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"🧠",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.townInfo.knowledge_points_per_month!=null?o.townInfo.knowledge_points_per_month/4:0},{icon:"🧲",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"🔋",name:"power",value:o.resources.power+" (surplus)",rate:null},{icon:"🧑‍⚖️",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy}])},[o,a,i,r,l,u]}class rC extends we{constructor(e){super(),ye(this,e,iC,nC,fe,{})}}function lC(t){let e,n,o,i,r,l,a,s,u,f,c,d,p;return o=new d4({}),l=new j4({}),s=new L4({}),f=new rC({}),d=new Yd({}),{c(){e=O("div"),n=O("div"),z(o.$$.fragment),i=W(),r=O("div"),z(l.$$.fragment),a=W(),z(s.$$.fragment),u=W(),z(f.$$.fragment),c=W(),z(d.$$.fragment),M(r,"class","flex flex-row text-foregroundText"),M(e,"class","flex flex-col max-h-[100%] justify-between")},m(h,_){I(h,e,_),v(e,n),Z(o,n,null),v(e,i),v(e,r),Z(l,r,null),v(r,a),Z(s,r,null),v(r,u),Z(f,r,null),v(r,c),Z(d,r,null),p=!0},p:Ae,i(h){p||(C(o.$$.fragment,h),C(l.$$.fragment,h),C(s.$$.fragment,h),C(f.$$.fragment,h),C(d.$$.fragment,h),p=!0)},o(h){S(o.$$.fragment,h),S(l.$$.fragment,h),S(s.$$.fragment,h),S(f.$$.fragment,h),S(d.$$.fragment,h),p=!1},d(h){h&&T(e),Q(o),Q(l),Q(s),Q(f),Q(d)}}}function sC(t,e,n){return ae(t,Re,o=>n(0,o)),[]}class aC extends we{constructor(e){super(),ye(this,e,sC,lC,fe,{})}}function uC(t){let e;return{c(){e=G("Welcome to Plots!")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function fC(t){let e,n,o,i,r=t[0].townInfo.name+"",l,a,s,u,f,c,d,p,h,_,y,b,A,w,E,V,N,$,B,q,X,P,g,k,R,F,L,K,x,J;return p=new At({props:{class:"bg-white mt-2 mb-1"}}),b=new At({props:{class:"bg-white mt-2 mb-1"}}),V=new At({props:{class:"bg-white mt-2 mb-1"}}),q=new At({props:{class:"bg-white mt-2 mb-1"}}),{c(){e=O("div"),n=O("p"),o=G(`You come across a large amount of land, and you decide to start a
            town called `),i=O("span"),l=G(r),a=G("."),s=W(),u=O("div"),f=O("p"),f.textContent="To run a successful town, you will need to have:",c=W(),d=O("ul"),z(p.$$.fragment),h=W(),_=O("li"),_.textContent=`👥 People - build homes and they will stay as long as they are
                happy.`,y=W(),z(b.$$.fragment),A=W(),w=O("li"),w.textContent=`🪵 Resources - generated by some plots and used to build others.
                some plots require sustained weekly resources (such as needing
                wood to heat homes)`,E=W(),z(V.$$.fragment),N=W(),$=O("li"),$.textContent=`💰 Gold - generated by plots through tax revenue. most plots
                make the town some amount of money but some cost a lot to
                operate.`,B=W(),z(q.$$.fragment),X=W(),P=O("p"),P.innerHTML=`The town&#39;s key metrics are <span class="font-bold text-textHappyDark">Happiness</span>
            and <span class="font-bold text-textHappyDark">Health</span>, shown
            in the top-left corner.`,g=W(),k=O("p"),k.textContent=`These metrics are affected by the plots you build. Some plots may
            not always increase happiness, and some could even be harmful enough
            to tear down an otherwise great town.`,R=W(),F=O("p"),F.textContent="Be cautious and make sure to hover over plots before you buy them.",L=W(),K=O("img"),M(i,"class","font-bold text-accent"),M(d,"class","list-desc"),zd(K.src,x="welcome_example_plot.png")||M(K,"src",x),M(K,"class","max-w-[60%] object-fit"),M(e,"class","flex flex-col gap-3 max-h-[50vh] overflow-y-scroll")},m(m,D){I(m,e,D),v(e,n),v(n,o),v(n,i),v(i,l),v(i,a),v(e,s),v(e,u),v(u,f),v(u,c),v(u,d),Z(p,d,null),v(d,h),v(d,_),v(d,y),Z(b,d,null),v(d,A),v(d,w),v(d,E),Z(V,d,null),v(d,N),v(d,$),v(d,B),Z(q,d,null),v(e,X),v(e,P),v(e,g),v(e,k),v(e,R),v(e,F),v(e,L),v(e,K),J=!0},p(m,D){(!J||D&1)&&r!==(r=m[0].townInfo.name+"")&&se(l,r)},i(m){J||(C(p.$$.fragment,m),C(b.$$.fragment,m),C(V.$$.fragment,m),C(q.$$.fragment,m),J=!0)},o(m){S(p.$$.fragment,m),S(b.$$.fragment,m),S(V.$$.fragment,m),S(q.$$.fragment,m),J=!1},d(m){m&&T(e),Q(p),Q(b),Q(V),Q(q)}}}function cC(t){let e,n,o,i;return e=new is({props:{class:"",$$slots:{default:[uC]},$$scope:{ctx:t}}}),o=new as({props:{$$slots:{default:[fC]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&524288&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524289&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function dC(t){let e;return{c(){e=G("Get started")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function mC(t){let e,n;return e=new dd({props:{class:"bg-button rounded-2xl text-foregroundText px-4 py-2 hover:rounded-lg transition-all duration-300",$$slots:{default:[dC]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&524288&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function pC(t){let e,n,o,i;return e=new ls({props:{$$slots:{default:[cC]},$$scope:{ctx:t}}}),o=new rs({props:{$$slots:{default:[mC]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=W(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&524289&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524288&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function _C(t){let e,n;return e=new ss({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[pC]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function hC(t){let e,n;return e=new us({props:{open:t[1],$$slots:{default:[_C]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,[i]){const r={};i&2&&(r.open=o[1]),i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function gC(t,e,n){let o,i,r,l;ae(t,nn,p=>n(7,o=p)),ae(t,Re,p=>n(0,i=p)),ae(t,er,p=>n(4,r=p)),ae(t,pl,p=>n(1,l=p)),pt[i.endGoal],Kl[i.difficulty],et.sort((p,h)=>f(p.id)&&!f(h.id)?-1:!f(p.id)&&f(h.id)?1:0),et.filter(p=>f(p.id));function s(p){const h=o.achievements.find(_=>_[0]==p);return h==null?!1:h[3]}let u=et;function f(p){return o.achievements==null?!1:o.achievements.find(h=>h[0]==p)!=null}function c(){er.update(p=>!p),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Cc.set("game"));const d=()=>{pl.set(!1)};return t.$$.update=()=>{if(t.$$.dirty&25&&i)if(r)n(3,u=et);else{n(3,u=[]);for(let p=0;p<et.length;p++)(!f(et[p].id)||!s(et[p].id))&&u.push(et[p])}},[i,l,c,u,r,d]}class bC extends we{constructor(e){super(),ye(this,e,gC,hC,fe,{toggleShowCompleted:2})}get toggleShowCompleted(){return this.$$.ctx[2]}}function uc(t){let e,n,o,i;const r=[yC,vC],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function vC(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,h,_,y,b=t[2]==!0&&fc();n=new aC({}),i=new yp({}),l=new by({}),s=new $y({}),f=new h3({}),d=new j3({});let A=t[0].environment.day==0&&t[3]&&cc();return{c(){b&&b.c(),e=W(),z(n.$$.fragment),o=W(),z(i.$$.fragment),r=W(),z(l.$$.fragment),a=W(),z(s.$$.fragment),u=W(),z(f.$$.fragment),c=W(),z(d.$$.fragment),p=W(),A&&A.c(),h=W(),_=O("style"),_.textContent=`body {
        margin-bottom: 0;
      }
      /* no visible scrollbars */
      #plot_grid::-webkit-scrollbar {
        display: none;
      }

      ::-webkit-scrollbar {
        width: 0px;
        background: transparent; /* make scrollbar transparent */
      }

      /* no scrollbars on firefox either */
      #plot_grid {
        scrollbar-width: none;
      }

      /* no scrollbars for IE/Edge */
      #plot_grid {
        -ms-overflow-style: none;
      }`},m(w,E){b&&b.m(w,E),I(w,e,E),Z(n,w,E),I(w,o,E),Z(i,w,E),I(w,r,E),Z(l,w,E),I(w,a,E),Z(s,w,E),I(w,u,E),Z(f,w,E),I(w,c,E),Z(d,w,E),I(w,p,E),A&&A.m(w,E),I(w,h,E),I(w,_,E),y=!0},p(w,E){w[2]==!0?b?E&4&&C(b,1):(b=fc(),b.c(),C(b,1),b.m(e.parentNode,e)):b&&(Te(),S(b,1,1,()=>{b=null}),Ie()),w[0].environment.day==0&&w[3]?A?E&9&&C(A,1):(A=cc(),A.c(),C(A,1),A.m(h.parentNode,h)):A&&(Te(),S(A,1,1,()=>{A=null}),Ie())},i(w){y||(C(b),C(n.$$.fragment,w),C(i.$$.fragment,w),C(l.$$.fragment,w),C(s.$$.fragment,w),C(f.$$.fragment,w),C(d.$$.fragment,w),C(A),y=!0)},o(w){S(b),S(n.$$.fragment,w),S(i.$$.fragment,w),S(l.$$.fragment,w),S(s.$$.fragment,w),S(f.$$.fragment,w),S(d.$$.fragment,w),S(A),y=!1},d(w){w&&(T(e),T(o),T(r),T(a),T(u),T(c),T(p),T(h),T(_)),b&&b.d(w),Q(n,w),Q(i,w),Q(l,w),Q(s,w),Q(f,w),Q(d,w),A&&A.d(w)}}}function yC(t){let e,n;return e=new Ly({}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p:Ae,i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function fc(t){let e,n;return e=new sy({}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function cc(t){let e,n;return e=new bC({}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function wC(t){let e,n,o=(t[1]||t[0]==null)&&uc(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&C(o,1)):(o=uc(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Te(),S(o,1,1,()=>{o=null}),Ie())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function kC(t,e,n){let o,i,r,l,a,s;ae(t,fo,d=>n(6,o=d)),ae(t,Ze,d=>n(7,i=d)),ae(t,Pt,d=>n(2,r=d)),ae(t,Re,d=>n(0,l=d)),ae(t,$o,d=>n(8,a=d)),ae(t,pl,d=>n(3,s=d));let u=!1;ay();let f=!1;document.addEventListener("keydown",d=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&d.key!=="Escape")return;switch(d.key.toLowerCase()){case"p":r==!0?Pt.set(!1):(Pt.set(!0),Pe(Ze,i.visible=!1,i));break;case"escape":d.shiftKey?(Pe(Pt,r=!0,r),localStorage.setItem("reset","true"),location.reload(),Ul()):i.visible==!0&&Pe(Ze,i.visible=!1,i);break}});function c(d,p,h){if(f==!0)switch(h){case"up":p-=2;break;case"down":p+=1;break;case"left":d-=2;break;case"right":d+=1;break}d<0?d=0:d>l.plots.length&&(d=l.plots.length),p<0?p=0:p>l.plots.length&&(p=l.plots.length);let _=document.querySelectorAll(".plot_container"),y;if(_.forEach(b=>{b.dataset.x=="$x"&&b.dataset.y=="$y"&&(y=b)}),r==!1){if(y.dataset.canBeUpgraded==="true"?Pe(Ze,i.visible=!0,i):Pe(Ze,i.visible=!1,i),y.dataset.refPlotX!==void 0&&y.dataset.refPlotY!=""?(f=!0,_.forEach(b=>{b.dataset.x==y.dataset.refPlotX&&b.dataset.y==y.dataset.refPlotY&&(y=b,d=parseInt(y.dataset.x),p=parseInt(y.dataset.y))})):f=!1,y.dataset.size!=="1"&&y.dataset.size!==void 0&&(f=!0),Pe(Ze,i.x=d,i),Pe(Ze,i.y=p,i),_.forEach(b=>{b.classList.remove("selected"),b.style.fontWeight=""}),y.classList.add("selected"),f){let b="4px solid #00800045";y.classList.remove("selected"),y.style.borderTop=b,y.style.borderLeft=b,y.style.fontWeight="600",_.forEach(A=>{const w=parseInt(`${A.dataset.x}`),E=parseInt(`${A.dataset.y}`);w==d+1&&E==p&&(A.style.borderLeft=b,A.style.borderBottom=b),w==d&&E==p+1&&(A.style.borderTop=b,A.style.borderRight=b),w==d+1&&E==p+1&&(A.style.borderBottom=b,A.style.borderRight=b)})}y.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Pe(fo,o={},o)}}return t.$$.update=()=>{t.$$.dirty&1&&(l?(Pe($o,a.visible=!1,a),n(1,u=!0)):(Pe($o,a.visible=!0,a),n(1,u=!1)))},[l,u,r,s,c]}class CC extends we{constructor(e){super(),ye(this,e,kC,wC,fe,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new CC({target:document.getElementById("app")});
