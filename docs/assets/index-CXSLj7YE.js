var Hd=Object.defineProperty;var Wd=(t,e,n)=>e in t?Hd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _n=(t,e,n)=>(Wd(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Yd(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Ud(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function Kd(){let t=localStorage.getItem("plots_active_game_db");const e=await Yd(t);console.log("http://localhost:5173/plots/?shareId="+e)}const Dr=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(Dr.shareId!=null||Dr.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(Ud(Dr.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),Kd();function Ce(){}const pr=t=>t;function x(t,e){for(const n in e)t[n]=e[n];return t}function rc(t){return t()}function As(){return Object.create(null)}function Be(t){t.forEach(rc)}function cn(t){return typeof t=="function"}function ue(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let yi;function Xd(t,e){return t===e?!0:(yi||(yi=document.createElement("a")),yi.href=e,t===yi.href)}function Jd(t){return Object.keys(t).length===0}function Pl(t,...e){if(t==null){for(const o of e)o(void 0);return Ce}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function lc(t){let e;return Pl(t,n=>e=n)(),e}function se(t,e,n){t.$$.on_destroy.push(Pl(e,n))}function de(t,e,n,o){if(t){const i=sc(t,e,n,o);return t[0](i)}}function sc(t,e,n,o){return t[1]&&o?x(n.ctx.slice(),t[1](o(e))):n.ctx}function me(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function pe(t,e,n,o,i,r){if(i){const l=sc(e,n,o,r);t.p(l,i)}}function he(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function $e(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function le(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Me(t,e,n){return t.set(n),e}function je(t){return t&&cn(t.destroy)?t.destroy:Ce}const ac=typeof window<"u";let Nl=ac?()=>window.performance.now():()=>Date.now(),El=ac?t=>requestAnimationFrame(t):Ce;const mo=new Set;function uc(t){mo.forEach(e=>{e.c(t)||(mo.delete(e),e.f())}),mo.size!==0&&El(uc)}function $l(t){let e;return mo.size===0&&El(uc),{promise:new Promise(n=>{mo.add(e={c:t,f:n})}),abort(){mo.delete(e)}}}function g(t,e){t.appendChild(e)}function fc(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function xd(t){const e=O("style");return e.textContent="/* empty */",Zd(fc(t),e),e.sheet}function Zd(t,e){return g(t.head||t,e),e.sheet}function M(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function _t(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function O(t){return document.createElement(t)}function hr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function B(t){return document.createTextNode(t)}function q(){return B(" ")}function Re(){return B("")}function te(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function P(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Qd=["width","height"];function ae(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&Qd.indexOf(o)===-1?t[o]=e[o]:P(t,o,e[o])}function ji(t,e){for(const n in e)P(t,n,e[n])}function zd(t,e){Object.keys(e).forEach(n=>{em(t,n,e[n])})}function em(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:P(t,e,n)}function wn(t){return/-/.test(t)?zd:ae}function tm(t){return Array.from(t.childNodes)}function re(t,e){e=""+e,t.data!==e&&(t.data=e)}function rn(t,e){t.value=e??""}function Ze(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Ss(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function gn(t,e,n){t.classList.toggle(e,!!n)}function cc(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class on{constructor(e=!1){_n(this,"is_svg",!1);_n(this,"e");_n(this,"n");_n(this,"t");_n(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=hr(n.nodeName):this.e=O(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)M(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(T)}}const qi=new Map;let Gi=0;function nm(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function om(t,e){const n={stylesheet:xd(e),rules:{}};return qi.set(t,n),n}function Vi(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let v=0;v<=1;v+=s){const k=e+(n-e)*r(v);u+=v*100+`%{${l(k,1-k)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${nm(f)}_${a}`,d=fc(t),{stylesheet:m,rules:p}=qi.get(d)||om(d,t);p[c]||(p[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${o}ms linear ${i}ms 1 both`,Gi+=1,c}function Hi(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),Gi-=i,Gi||im())}function im(){El(()=>{Gi||(qi.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&T(e)}),qi.clear())})}let Xo;function Yo(t){Xo=t}function ni(){if(!Xo)throw new Error("Function called outside component initialization");return Xo}function _r(t){ni().$$.on_mount.push(t)}function rm(t){ni().$$.on_destroy.push(t)}function lm(){const t=ni();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=cc(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function gr(t,e){return ni().$$.context.set(t,e),e}function br(t){return ni().$$.context.get(t)}function oe(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const uo=[],Ne=[];let po=[];const nl=[],dc=Promise.resolve();let ol=!1;function mc(){ol||(ol=!0,dc.then(pc))}function Rl(){return mc(),dc}function it(t){po.push(t)}function Tn(t){nl.push(t)}const Fr=new Set;let ro=0;function pc(){if(ro!==0)return;const t=Xo;do{try{for(;ro<uo.length;){const e=uo[ro];ro++,Yo(e),sm(e.$$)}}catch(e){throw uo.length=0,ro=0,e}for(Yo(null),uo.length=0,ro=0;Ne.length;)Ne.pop()();for(let e=0;e<po.length;e+=1){const n=po[e];Fr.has(n)||(Fr.add(n),n())}po.length=0}while(uo.length);for(;nl.length;)nl.pop()();ol=!1,Fr.clear(),Yo(t)}function sm(t){if(t.fragment!==null){t.update(),Be(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(it)}}function am(t){const e=[],n=[];po.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),po=e}let $o;function Ll(){return $o||($o=Promise.resolve(),$o.then(()=>{$o=null})),$o}function Rn(t,e,n){t.dispatchEvent(cc(`${e?"intro":"outro"}${n}`))}const Ni=new Set;let Yt;function Ie(){Yt={r:0,c:[],p:Yt}}function Oe(){Yt.r||Be(Yt.c),Yt=Yt.p}function A(t,e){t&&t.i&&(Ni.delete(t),t.i(e))}function S(t,e,n,o){if(t&&t.o){if(Ni.has(t))return;Ni.add(t),Yt.c.push(()=>{Ni.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const Dl={duration:0};function Zt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&Hi(t,l)}function f(){const{delay:d=0,duration:m=300,easing:p=pr,tick:_=Ce,css:v}=i||Dl;v&&(l=Vi(t,0,1,m,d,p,v,s++)),_(0,1);const k=Nl()+d,w=k+m;a&&a.abort(),r=!0,it(()=>Rn(t,!0,"start")),a=$l(C=>{if(r){if(C>=w)return _(1,0),Rn(t,!0,"end"),u(),r=!1;if(C>=k){const L=p((C-k)/m);_(L,1-L)}}return r})}let c=!1;return{start(){c||(c=!0,Hi(t),cn(i)?(i=i(o),Ll().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function Qt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=Yt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=pr,tick:m=Ce,css:p}=i||Dl;p&&(l=Vi(t,1,0,c,f,d,p));const _=Nl()+f,v=_+c;it(()=>Rn(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),$l(k=>{if(r){if(k>=v)return m(0,1),Rn(t,!1,"end"),--a.r||Be(a.c),!1;if(k>=_){const w=d((k-_)/c);m(1-w,w)}}return r})}return cn(i)?Ll().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&Hi(t,l),r=!1)}}}function Xt(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&Hi(t,u)}function d(p,_){const v=p.b-l;return _*=Math.abs(v),{a:l,b:p.b,d:v,duration:_,start:p.start,end:p.start+_,group:p.group}}function m(p){const{delay:_=0,duration:v=300,easing:k=pr,tick:w=Ce,css:C}=r||Dl,L={start:Nl()+_,b:p};p||(L.group=Yt,Yt.r+=1),"inert"in t&&(p?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=L:(C&&(c(),u=Vi(t,l,p,v,_,k,C)),p&&w(0,1),a=d(L,v),it(()=>Rn(t,p,"start")),$l(D=>{if(s&&D>s.start&&(a=d(s,v),s=null,Rn(t,a.b,"start"),C&&(c(),u=Vi(t,l,a.b,a.duration,0,k,r.css))),a){if(D>=a.end)w(l=a.b,1-l),Rn(t,a.b,"end"),s||(a.b?c():--a.group.r||Be(a.group.c)),a=null;else if(D>=a.start){const E=D-a.start;l=a.a+a.d*k(E/a.duration),w(l,1-l)}}return!!(a||s)}))}return{run(p){cn(r)?Ll().then(()=>{r=r({direction:p?"in":"out"}),m(p)}):m(p)},end(){c(),a=s=null}}}function Ye(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function um(t,e){S(t,1,1,()=>{e.delete(t.key)})}function fm(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,m=r.length,p=d;const _={};for(;p--;)_[t[p].key]=p;const v=[],k=new Map,w=new Map,C=[];for(p=m;p--;){const $=c(i,r,p),V=n($);let R=l.get(V);R?C.push(()=>R.p($,e)):(R=u(V,$),R.c()),k.set(V,v[p]=R),V in _&&w.set(V,Math.abs(p-_[V]))}const L=new Set,D=new Set;function E($){A($,1),$.m(a,f),l.set($.key,$),f=$.first,m--}for(;d&&m;){const $=v[m-1],V=t[d-1],R=$.key,H=V.key;$===V?(f=$.first,d--,m--):k.has(H)?!l.has(R)||L.has(R)?E($):D.has(H)?d--:w.get(R)>w.get(H)?(D.add(R),E($)):(L.add(H),d--):(s(V,l),d--)}for(;d--;){const $=t[d];k.has($.key)||s($,l)}for(;m;)E(v[m-1]);return Be(C),v}function we(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function rt(t){return typeof t=="object"&&t!==null?t:{}}function Mn(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function J(t){t&&t.c()}function K(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),it(()=>{const r=t.$$.on_mount.map(rc).filter(cn);t.$$.on_destroy?t.$$.on_destroy.push(...r):Be(r),t.$$.on_mount=[]}),i.forEach(it)}function X(t,e){const n=t.$$;n.fragment!==null&&(am(n.after_update),Be(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function cm(t,e){t.$$.dirty[0]===-1&&(uo.push(t),mc(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function be(t,e,n,o,i,r,l=null,a=[-1]){const s=Xo;Yo(t);const u=t.$$={fragment:null,ctx:[],props:r,update:Ce,not_equal:i,bound:As(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:As(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...m)=>{const p=m.length?m[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=p)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](p),f&&cm(t,c)),d}):[],u.update(),f=!0,Be(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=tm(e.target);u.fragment&&u.fragment.l(c),c.forEach(T)}else u.fragment&&u.fragment.c();e.intro&&A(t.$$.fragment),K(t,e.target,e.anchor),pc()}Yo(s)}class ve{constructor(){_n(this,"$$");_n(this,"$$set")}$destroy(){X(this,1),this.$destroy=Ce}$on(e,n){if(!cn(n))return Ce;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!Jd(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const dm="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(dm);const lo=[];function Ln(t,e){return{subscribe:We(t,e).subscribe}}function We(t,e=Ce){let n;const o=new Set;function i(a){if(ue(t,a)&&(t=a,n)){const s=!lo.length;for(const u of o)u[1](),lo.push(u,t);if(s){for(let u=0;u<lo.length;u+=2)lo[u][0](lo[u+1]);lo.length=0}}}function r(a){i(a(t))}function l(a,s=Ce){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||Ce),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function dn(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Ln(n,(l,a)=>{let s=!1;const u=[];let f=0,c=Ce;const d=()=>{if(f)return;c();const p=e(o?u[0]:u,l,a);r?l(p):c=cn(p)?p:Ce},m=i.map((p,_)=>Pl(p,v=>{u[_]=v,f&=~(1<<_),s&&d()},()=>{f|=1<<_}));return s=!0,d(),function(){Be(m),c(),s=!1}})}function Ts(t){return{subscribe:t.subscribe.bind(t)}}const mm={plots:[],timeSpent:0,devMode:!1,lastChangeDay:0,townLog:[],currentTutorialStep:0,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,guardians:0,happiness:150,health:150,community:150,knowledge_points:0,productivity:100},kingdom_expansions:0,resources:{food:50,wood:750,stone:750,metal:0,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1,still_playing:!0},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0},liege_location:null},pm={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]},Fl={0:"Easy",1:"Normal",2:"Hard"},hm={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},ie=[{id:"small_homes",title:"🏠 Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0}},{id:"farm",title:"🥕 Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"tree_farm",title:"🌲 Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:10,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"quarry",title:"⛏️ Quarry",type:"quarry",description:"Produces stone, small amounts of metal",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:18,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"livestock_farm",title:"🐄 Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:72,requirements:{gold:600,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"bakery",title:"🥖 Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:90,requirements:{gold:500,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:170,stone:170,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15}},{id:"stables",title:"🐴 Stables",type:"business",description:"Makes money and improves health",revenue_per_week:24,requirements:{gold:400,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:120,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"church",title:"⛪️ Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:900,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.3},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"pub",title:"🍻 Pub",type:"recreation",description:"Increases knowledge, happiness, community. Isn't great for health.",revenue_per_week:40,knowledge_points_per_month:1,requirements:{gold:500,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.93,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_market",title:"🛒 Village Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:180,requirements:{gold:1400,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:150,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:35}},{id:"fishery",title:"🐠 Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:1500,plots:[],employees:9,knowledge:0,size:1,xp:0,resources:{food:0,wood:1500,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:75,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"neighborhood",title:"🏘️ Neighborhood",type:"residential",description:"+64 people",revenue_per_week:0,requirements:{gold:700,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1,community:1.1},immediate_variable_changes:{happiness:0,health:0,population:64,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"vineyard",title:"🍇 Vineyard",type:"farm",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:700,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"water_wheel",title:"💧 Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:200,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"adv_water_wheel",title:"💧 Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:400,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:100,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"park",title:"🎪 Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_inn",title:"🛌 Village Inn",type:"tourism",description:"Enables tourism to your town, which increases revenue at certain stores.",revenue_per_week:23,requirements:{gold:1500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"schoolhouse",title:"🏫 Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:2500,plots:[],employees:20,knowledge:0,size:1,xp:0,resources:{food:0,wood:500,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"blacksmith",title:"⚒️ Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:300,requirements:{gold:3e3,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:75,wood:0,stone:0,metal:10,bureaucracy:0,food:0}},{id:"library",title:"📕 Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:10,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:225,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lumber_mill",title:"🏭 Lumber Mill",type:"industrial",description:"Increases wood production by 25%, has to be next to a tree farm",revenue_per_week:0,requirements:{gold:4e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"solar_farm",title:"☀️ Solar farm",type:"industrial",description:"Produces a lot of power without the need of water.",revenue_per_week:0,requirements:{gold:5e3,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:500,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:50,bureaucracy:0,food:0}},{id:"general_store",title:"🛒 General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:500,requirements:{gold:15e3,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:5e3,stone:5e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1.1},immediate_variable_changes:{happiness:20,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:60,wood:0,stone:0,metal:0,bureaucracy:0,food:100}},{id:"healing_house",title:"🏥 Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:2e4,plots:[],employees:18,knowledge:0,size:1,xp:0,resources:{food:0,wood:800,stone:1e3,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"community_center",title:"🫶 Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:19e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:700,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.09,health:1,community:2},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"city_hall",title:"🗳️ City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a lot of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:35e3,plots:[],employees:32,knowledge:3e3,size:1,xp:0,resources:{food:0,wood:3250,stone:800,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.2},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:4,active_costs:{gold:300,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"mine",title:"⛏️ Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:5e4,plots:[],employees:64,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:150,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.9,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:15,metal:50,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:80,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"academy",title:"🏫 Academy",type:"education",description:"Produces a lot of knowledge, requires high population",revenue_per_week:0,knowledge_points_per_month:90,requirements:{gold:3e4,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:5e3,stone:1600,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:500,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"bank",title:"🏦 Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:75e3,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:75,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lab",title:"🧪 Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:1e5,plots:[],employees:24,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:0,stone:1e3,metal:3e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:300,power:35,wood:0,stone:0,metal:0,bureaucracy:0,food:0}}],Ro={empty_unusable:"rgba(21, 40, 20, 0.70)",empty_buildable:"#CBB827",residential:"#de7633",farm:"#6b8f49",lumber:"#8E805C",business:"#9273a5",recreation:"#5277b1",shop:"#d896d8",tourism:"#d896d8",education:"#BFBEEB",medical:"#4a5ba3",bank:"#8477be",federal:"#8477be",science:"#4a5ba3",mine:"#d9874a",quarry:"#868685",industrial:"#868615"};function Wi(t,e=!1){if(t<0)return t==-1?e?Ro.empty_buildable:Ro.empty_unusable:t==-2?Ro.recreation:Ro.empty_unusable;const n=ie[t];return Ro[n.type]}const Ms={lab:1,city_hall:1,bank:1,community_center:1,inn:1},qt="plots_active_game_db",Jo="plots_user_db";function _m(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let Pe=We(JSON.parse(localStorage.getItem(qt)||"null")),an=We(JSON.parse(localStorage.getItem(Jo)||"null"));vm();function gm(t,e,n,o){let i={...mm};i.economyAndLaws.max_tax_rate=hm[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:_m(),i.difficulty=parseInt(t),o&&(i.devMode=!0,i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const l=t=="0"?8:t=="1"?12:t=="2"?16:1,a=Math.floor(Math.random()*l/2)+1,s=Math.floor(Math.random()*l/2)+1;for(let u=0;u<l;u++){r.push([]);for(let f=0;f<l;f++){const c=u==a&&f==s?!1:bm(u,f,l);r[u][f]={id:Math.random().toString(36).substring(2,9),active:!1,x:u,y:f,type:c?-9:-1,typeId:"",mineralSource:c?!1:a===u&&s===f,water:a===u&&s===f?!1:c}}}i.plots=r,localStorage.reset=!1,localStorage.setItem(qt,JSON.stringify(i)),Pe.set(i),location.reload()}function bm(t,e,n){let o=.06;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=5),t==0&&e==0&&(o=0),Math.random()<o}function vm(){if(localStorage.getItem(Jo)===null){let t=pm;t.username="my_username_click_to_change",localStorage.setItem(Jo,JSON.stringify(t)),an.set(t)}}function Is(t,e){var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var o=Math.round(t)/n;return+o.toFixed(e)}function Yi(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=ie[o].immediate_variable_changes.population,n.townInfo.population_max-=ie[o].immediate_variable_changes.population,n.townInfo.happiness-=ie[o].immediate_variable_changes.happiness,n.townInfo.health-=ie[o].immediate_variable_changes.health,n.modifiers.happiness=Is(n.modifiers.happiness/ie[o].effect_modifiers.happiness,2),n.modifiers.health=Is(n.modifiers.health/ie[o].effect_modifiers.health,2),n.townInfo.employees-=ie[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(ie[o].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&Yi(r,l,n);n.lastChangeDay=n.environment.day,Pe.set(n),localStorage.setItem(qt,JSON.stringify(n))}function He(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(ie[e.plots[o][i].type].id===t||ie[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function ym(t,e){const n=t.plots.length,o=n>0?t.plots[0].length:0,i=e=="east"?5:0,r=e=="south"?5:0,l=Math.round(Math.pow(1.5,t.kingdom_expansions+5));if(t.townInfo.guardians<l)return`You need ${l-t.townInfo.guardians} more Guardians to expand the kingdom. See the City mgmt menu.`;for(let a=0;a<n;a++)for(let s=o;s<o+i;s++)t.plots[a].push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:"",mineralSource:!1,water:!1,disabled:!1});for(let a=n;a<n+r;a++){const s=[];for(let u=0;u<o+i;u++)s.push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:u,type:-1,typeId:"",mineralSource:!1,water:!1});t.plots.push(s)}t.kingdom_expansions++,Pe.set(t)}function Bl(t=null){localStorage.removeItem(qt),Pe.set(null),t&&(localStorage.setItem(qt,JSON.stringify(t)),Pe.set(t)),location.reload()}function wm(){hc.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}function Os(t,e,n){n.liege_location=[t,e],bo.set(!1),document.querySelectorAll(".plot_container").forEach(i=>{i.style.cursor=""}),console.log(n.liege_location),Pe.set(n)}let tt=We({visible:!1,x:0,y:0,isMineralSource:!1}),Uo=We({visible:!1});function km(t){an.set(t),localStorage.setItem(Jo,JSON.stringify(t))}let go=We({}),Ei=We(!1),Rt=We(!1),il=We(!0),Ps=We(!1),Ui=We(!1),Ki=We(!1),$i=We(!1),bo=We(!1),Xi=We(!1),Lt=We(""),Ji=localStorage.getItem("showCompletedAchievements")==="true"?We(!0):We(!1),hc=localStorage.getItem("showOnlyAffordable")==="true"?We(!0):We(!1),_c=localStorage.getItem("pauseMenuTab")==="game"?We("game"):We("achievements"),rl=We(750);const pt={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},nt=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"😍",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"📌",check:t=>He("small_school",t).length!==0||He("large_school",t).length!==0||He("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"﹩",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"💵",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"🐌",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"🏦",check:t=>He("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"❤️",check:t=>He("community_center",t).length!==0,prize:1e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"💰",check:t=>t.townInfo.gold>=1e6,prize:15e4}],jt=[{message:"My liege, we need places to live! Build the first homes.",isComplete:t=>t.townInfo.population_max>0,goldReward:750},{message:"My liege, you need to start making food and wood.",isComplete:t=>He("farm",t).length>=1&&He("tree_farm",t).length>=1,goldReward:300},{message:"My liege, the village will need stone and metals to expand. Build a quarry. ",isComplete:t=>He("quarry",t).length>0,goldReward:500},{message:"My liege, things are picking up but we will need far more money. Get weekly revenue to >=200 gold. ",isComplete:t=>t.economyAndLaws.weeklyProfit>=200,goldReward:2e3},{message:"My liege, as the town develops we will need the smartest and brightest. Build plots to get our Knowledge to 250.",isComplete:t=>t.townInfo.knowledge_points>=250,goldReward:2e3},{message:"My liege, the village is growing - yay! But we need to have more workers. Get the population to 100.",isComplete:t=>t.townInfo.population_count>=100,goldReward:1500},{message:"My liege, some advanced buildings require power. Start generating power with a water wheel or a solar farm.",isComplete:t=>t.resources.power>0,goldReward:2e3},{message:"My liege, we need more metals. Find a good spot for a mine and build it. ",isComplete:t=>He("mine",t).length>0,goldReward:1e4},{message:"My liege, mining resources has taken a toll on the towns health. Build a Healing House to lower the chance of sickness.",isComplete:t=>He("healing_house",t).length>0,goldReward:15e3},{message:"My liege, now that we have metals, power, and people, your next goal is a big one. Build your town a City Hall.",isComplete:t=>He("city_hall",t).length>0,goldReward:1e4}];function gc(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=gc(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Cm(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=gc(t))&&(o&&(o+=" "),o+=e);return o}const jl="-";function Am(t){const e=Tm(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split(jl);return a[0]===""&&a.length!==1&&a.shift(),bc(a,e)||Sm(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function bc(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?bc(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(jl);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const Ns=/^\[(.+)\]$/;function Sm(t){if(Ns.test(t)){const e=Ns.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function Tm(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return Im(Object.entries(t.classGroups),n).forEach(([r,l])=>{ll(l,o,r,e)}),o}function ll(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Es(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(Mm(i)){ll(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{ll(l,Es(e,r),n,o)})})}function Es(t,e){let n=t;return e.split(jl).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function Mm(t){return t.isThemeGetter}function Im(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function Om(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const vc="!";function Pm(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let _=0;_<l.length;_++){let v=l[_];if(s===0){if(v===o&&(n||l.slice(_,_+i)===e)){a.push(l.slice(u,_)),u=_+i;continue}if(v==="/"){f=_;continue}}v==="["?s++:v==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(vc),m=d?c.substring(1):c,p=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:p}}}function Nm(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function Em(t){return{cache:Om(t.cacheSize),splitModifiers:Pm(t),...Am(t)}}const $m=/\s+/;function Rm(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split($m).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const m=Nm(a).join(":");return{isTailwindClass:!0,modifierId:s?m+vc:m,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Lm(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=yc(e))&&(o&&(o+=" "),o+=n);return o}function yc(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=yc(t[o]))&&(n&&(n+=" "),n+=e);return n}function sl(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=Em(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=Rm(s,n);return i(s,f),f}return function(){return r(Lm.apply(null,arguments))}}function Qe(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const wc=/^\[(?:([a-z-]+):)?(.+)\]$/i,Dm=/^\d+\/\d+$/,Fm=new Set(["px","full","screen"]),Bm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jm=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Gm=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Vm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function tn(t){return En(t)||Fm.has(t)||Dm.test(t)}function bn(t){return Ao(t,"length",xm)}function En(t){return!!t&&!Number.isNaN(Number(t))}function wi(t){return Ao(t,"number",En)}function Lo(t){return!!t&&Number.isInteger(Number(t))}function Hm(t){return t.endsWith("%")&&En(t.slice(0,-1))}function qe(t){return wc.test(t)}function vn(t){return Bm.test(t)}const Wm=new Set(["length","size","percentage"]);function Ym(t){return Ao(t,Wm,kc)}function Um(t){return Ao(t,"position",kc)}const Km=new Set(["image","url"]);function Xm(t){return Ao(t,Km,Qm)}function Jm(t){return Ao(t,"",Zm)}function Do(){return!0}function Ao(t,e,n){const o=wc.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function xm(t){return jm.test(t)&&!qm.test(t)}function kc(){return!1}function Zm(t){return Gm.test(t)}function Qm(t){return Vm.test(t)}function al(){const t=Qe("colors"),e=Qe("spacing"),n=Qe("blur"),o=Qe("brightness"),i=Qe("borderColor"),r=Qe("borderRadius"),l=Qe("borderSpacing"),a=Qe("borderWidth"),s=Qe("contrast"),u=Qe("grayscale"),f=Qe("hueRotate"),c=Qe("invert"),d=Qe("gap"),m=Qe("gradientColorStops"),p=Qe("gradientColorStopPositions"),_=Qe("inset"),v=Qe("margin"),k=Qe("opacity"),w=Qe("padding"),C=Qe("saturate"),L=Qe("scale"),D=Qe("sepia"),E=Qe("skew"),$=Qe("space"),V=Qe("translate"),R=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],y=()=>["auto",qe,e],b=()=>[qe,e],I=()=>["",tn,bn],N=()=>["auto",En,qe],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],ne=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",qe],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],h=()=>[En,wi],j=()=>[En,qe];return{cacheSize:500,separator:":",theme:{colors:[Do],spacing:[tn,bn],blur:["none","",vn,qe],brightness:h(),borderColor:[t],borderRadius:["none","","full",vn,qe],borderSpacing:b(),borderWidth:I(),contrast:h(),grayscale:z(),hueRotate:j(),invert:z(),gap:b(),gradientColorStops:[t],gradientColorStopPositions:[Hm,bn],inset:y(),margin:y(),opacity:h(),padding:b(),saturate:h(),scale:h(),sepia:z(),skew:j(),space:b(),translate:b()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[vn]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),qe]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Lo,qe]}],basis:[{basis:y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Lo,qe]}],"grid-cols":[{"grid-cols":[Do]}],"col-start-end":[{col:["auto",{span:["full",Lo,qe]},qe]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[Do]}],"row-start-end":[{row:["auto",{span:[Lo,qe]},qe]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,e]}],"min-w":[{"min-w":[qe,e,"min","max","fit"]}],"max-w":[{"max-w":[qe,e,"none","full","min","max","fit","prose",{screen:[vn]},vn]}],h:[{h:[qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",vn,bn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wi]}],"font-family":[{font:[Do]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",En,wi]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tn,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tn,bn]}],"underline-offset":[{"underline-offset":["auto",tn,qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),Um]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ym]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Xm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:F()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[tn,qe]}],"outline-w":[{outline:[tn,bn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[tn,bn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",vn,Jm]}],"shadow-color":[{shadow:[Do]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":Q()}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",vn,qe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[C]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:j()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:j()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[Lo,qe]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[tn,bn,wi]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function zm(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){Ri(t,"cacheSize",e),Ri(t,"prefix",n),Ri(t,"separator",o);for(const l in r)ep(t[l],r[l]);for(const l in i)tp(t[l],i[l]);return t}function Ri(t,e,n){n!==void 0&&(t[e]=n)}function ep(t,e){if(e)for(const n in e)Ri(t,n,e[n])}function tp(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function np(t,...e){return typeof t=="function"?sl(al,t,...e):sl(()=>zm(al(),t),...e)}const Cc=sl(al);function op(t){const e=t-1;return e*e*e+1}function Fe(...t){return Cc(Cm(t))}const vr=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:op}};function ut(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function Br(t){return t<10?"0"+t:t}function ip(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${Br(o)}:${Br(n)}:${Br(e)}`}function Ae(t){return ie.findIndex(e=>e.id===t)}function $s(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function Jt(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function Fn(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Rs(t,e=!0){return t=ut(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function Bn(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[l][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&ie[n.plots[t][e].type].id=="farm"))return!0}return!1}function rp(t,e,n,o){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],r=!0;for(let l=0;l<o.length;l++){let a=!1;if(o[l]=="water"&&(console.log("water"),Bn(t,e,n,!0))){a=!0;break}for(let s=0;s<i.length;s++){let u=i[s][0],f=i[s][1];if(u>=0&&u<n.plots.length&&f>=0&&f<n.plots[0].length&&n.plots[u][f].active==!0&&n.plots[u][f].type>0&&ie[n.plots[u][f].type].id==o[l]){a=!0;break}}if(!a){r=!1;break}}return r}function lp(t,e=0){let n=t*.92,o=t*1.08;return ut(Math.random()*(o-n)+n,e)}const ul=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:150,weekly_effect:t=>(t.modifiers.happiness*=1.1,t.modifiers.health*=1.1,t.resources.food-=2*He("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.2,t.modifiers.health*=1.2),t)},{id:"healthy_mining",description:"Healthy mining. Miners must mine with proper ventilation, but they move like molasses.",cost:250,weekly_effect:t=>(ie.find(e=>e.id==="mine"),t.modifiers.health*=1.1,t.resources.stone-=5*He("quarry",t).length,t.resources.stone-=7*He("mine",t).length,t.resources.metal-=15*He("mine",t).length,t)},{id:"complicated_tax_forms",description:"Complicated Tax Forms. You sneak in a clause to charge 5% more in taxes. Now, if you adjust your tax rate 5% higher, they won't be upset. This can be enacted multiple times to stack.",cost:500,weekly_effect:t=>(t.economyAndLaws.max_tax_rate+=.05,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="complicated_tax_forms"),t)},{id:"legalize_it",description:"Legalize it. You legalize a substance that makes people happy, but it also gives them 'the munchies'. Food consumption and happiness go up.",cost:350,weekly_effect:t=>(t.resources.food-=Math.round(.2*t.townInfo.population_count),t.modifiers.happiness*=1.1,t)},{id:"park_upgrade",description:"Park upgrade. You hold a community forum and add the top 5 things that the people want in their parks. This increases happiness for each park.",cost:350,weekly_effect:t=>(t.townInfo.happiness+=2*He("park",t).length,t)},{id:"career_politician",description:"Career Politician. You hire a career politician to help you with your town. They cost the town $100 per week, but they earn bureaucracy points faster.",cost:200,weekly_effect:t=>(t.resources.bureaucracy+=25,t)},{id:"the_big_wood_deal",description:"The Big Wood Deal. This law allows you to sell all of the wood in your town for $2/wood at once. This won't make the town happy, but may be necessary in a pinch. Can be enacted multiple times to sell to other buyers.",cost:200,weekly_effect:t=>(t.townInfo.gold+=2*t.resources.wood,t.resources.wood=0,t.resource_rate.wood=0,t.townInfo.happiness*=.8,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="the_big_wood_deal"),t)},{id:"picky_eating_liege",description:"Picky Eater Liege. There is some food that the town makes that you just really hate. By passing this law, you insist that they sell off that gross food for $1/food every week. You won't make as much food, but you won't have to eat it either.",cost:200,weekly_effect:t=>{const e=He("farm",t).length*2,n=Math.floor(Math.random()*(.15*e-.05*e)+.05*e);return t.resources.food-=n,t.townInfo.gold+=n,t.townInfo.happiness=.95*t.townInfo.happiness,t}},{id:"stone_statue",description:"Stone Statue. You insist that we use ALL of our stone to build a massive statue. We lose all of our stone, but for some reason, the town has perfect health for a while.",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=10,t)},{id:"out_of_town",description:"Out of town. Everyone needs a vacation, right? When this is enacted, EVERYONE must leave the town for 10 days. During this time, no resources are produced, no taxes are collected, and you must take ",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=10,t)}];var ze=(t=>(t[t.GOOD=0]="GOOD",t[t.BAD=1]="BAD",t[t.NORMAL=2]="NORMAL",t))(ze||{});const Ls=30;function sp(t,e,n){return t.resource_rate.food=bt(n.food-e.food,2),t.resource_rate.wood=bt(n.wood-e.wood,2),t.resource_rate.stone=bt(n.stone-e.stone,2),t.resource_rate.metal=bt(n.metal-e.metal,2),t.resource_rate.bureaucracy=bt(n.bureaucracy-e.bureaucracy,2),t}function ap(t){return t.hasBank,t}function up(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function fl(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function cl(t){return t.townInfo.happiness<0&&(t.townInfo.happiness=0),t.townInfo.health<0&&(t.townInfo.health=0),t.townInfo.community<0&&(t.townInfo.community=0),t.townInfo.gold<0&&(t.townInfo.gold=0),t.townInfo.employees<0&&(t.townInfo.employees=0),t.townInfo.knowledge_points<0&&(t.townInfo.knowledge_points=0),t.townInfo.population_count<0&&(t.townInfo.population_count=0),t.economyAndLaws.weeklyProfit=bt(t.economyAndLaws.weeklyProfit,0),t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count),t.townInfo.gold=bt(t.townInfo.gold,0),t.townInfo.population_count=bt(t.townInfo.population_count,0),t.townInfo.employees=bt(t.townInfo.employees,0),t.townInfo.population_max=bt(t.townInfo.population_max,0),t.townInfo.happiness=bt(t.townInfo.happiness,2),t.townInfo.health=bt(t.townInfo.health,2),t.townInfo.knowledge_points=bt(t.townInfo.knowledge_points,0),t.townInfo.happiness>t.maximums.happiness&&(t.townInfo.happiness=t.maximums.happiness),t.townInfo.health>t.maximums.health&&(t.townInfo.health=t.maximums.health),t.townInfo.community>300&&(t.townInfo.community=300),t.modifiers.happiness<.5&&(t.modifiers.happiness=.5),t.modifiers.health<.5&&(t.modifiers.health=.5),t.modifiers.community<.5&&(t.modifiers.community=.5),t}function dl(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function fp(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t.townInfo.community*=t.modifiers.community,t}function st(t,e,n){return(e.townLog||[]).unshift({message:t,day:e.environment.day,vibe:n}),e}function bt(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function cp(t,e,n){let o,i,r,l,a;se(t,rl,h=>n(7,o=h)),se(t,Ei,h=>n(8,i=h)),se(t,Ki,h=>n(9,r=h)),se(t,Rt,h=>n(10,l=h)),se(t,an,h=>n(11,a=h)),se(t,Pe,h=>n(12,h));function s(h){h=W(h),h=b(h),h=m(h),h=up(h),h=F(h),h=_(h);const j={food:h.resources.food,wood:h.resources.wood,stone:h.resources.stone,metal:h.resources.metal,bureaucracy:h.resources.bureaucracy,power:h.resources.power};h=k(h),h=y(h),h=C(h),h=L(h),h=z(h),h=v(h);const Y={food:h.resources.food,wood:h.resources.wood,stone:h.resources.stone,metal:h.resources.metal,bureaucracy:h.resources.bureaucracy,power:h.resources.power};return h.environment.day%14===0&&(h=fp(h)),h=sp(h,j,Y),h}function u(h){return h=ap(h),h=p(h),h=ne(h),h=dl(h),h=R(h),h}function f(h){return h=I(h),h=N(h),h=H(h),h}function c(h){return h=Q(h),h=cl(h),h=fl(h),h.overtime==!1&&(h=V(h),h=h),h=$(h),h=D(h),h}function d(){Pe.update(h=>{if(h==null||(h.tick++,h.tick%Ls!==0)||l||!h||h.endGameDetails.msg!==""&&h.overtime==!1||h.townInfo.population_count<=0)return h;try{return h.environment.day+=1,h.environment.day%7===0&&(h=s(h)),h.environment.day%30===0&&(h=u(h)),h.environment.day%90===0&&(h=f(h)),window.location.search.includes("debug=true")&&console.log(h),h=c(h),h}catch(j){return console.error("Error in game loop:",j),h}})}Pe.subscribe(h=>{h&&localStorage.setItem(qt,JSON.stringify(h))}),an.subscribe(h=>{h&&localStorage.setItem(Jo,JSON.stringify(h))});function m(h){let j=!1,Y=!1,ee=!1,Z=!1;for(let _e=0;_e<h.plots.length;_e++)for(let ge=0;ge<h.plots[_e].length;ge++)if(h.plots[_e][ge].active==!0&&h.plots[_e][ge].type>-1){let Te=ie[h.plots[_e][ge].type].id;Te=="bank"&&(j=!0),Te=="city_hall"&&(ee=!0),(Te=="small_hospital"||Te=="large_hospital")&&(Y=!0),Te=="lab"&&(Z=!0)}return h.hasBank=j,h.hasHospital=Y,h.hasCityHall=ee,h.hasLab=Z,h}function p(h){const j=h.townInfo.productivity;let Y=1;if(j>50&&j<100)Y=1.05;else{if(j==100)return h;j<50?Y=1.2:j>100&&j<125?Y=.98:j>125&&j<150?Y=.96:j>150&&j<175?Y=.9:j>175&&j<200&&(Y=.8)}const ee=h.townInfo.happiness;return h.townInfo.happiness*=Y,Y>1?h=st(`Happiness has gone up by ${Math.round(h.townInfo.happiness/ee*100)}% due to productivity.`,h,ze.GOOD):h=st(`Happiness has gone down by ${100-Math.round(h.townInfo.happiness/ee*100)}% due to productivity.`,h,ze.BAD),h}function _(h){return h.endGameDetails!=null||(h.townInfo.happiness<70&&h.last_warning_happiness+365<h.environment.day&&(Lt.set("Your citizens are very unhappy. You should do something about it."),h.last_warning_happiness=h.environment.day),h.townInfo.health<70&&h.last_warning_health+365<h.environment.day&&(Lt.set("Your citizens are very unhealthy. You should do something about it."),h.last_warning_health=h.environment.day)),h}function v(h){const j=h.townInfo.population_count;return h.resources.food<j?(h.modifiers.happiness*=.95,h.modifiers.health*=.95,h=st("There isn't enough food for everyone!",h,ze.BAD),h.resources.food=0):(h.townLog=h.townLog.filter(ee=>!ee.message.includes("There isn't enough food for everyone!")),h.resources.food-=j),h.resources.food=Math.round(h.resources.food),h}function k(h){const j=h.townInfo.productivity;let Y=1;j<50?Y=.5:j>50&&j<100?Y=.75:j==100?Y=1:j>100&&j<125?Y=1.25:j>125&&j<150?Y=1.75:j>150&&j<175?Y=3:j>175&&j<200&&(Y=5),Y=lp(Y,2);let ee=He("lumber_mill",h).length*1.25;ee===0&&(ee=1);for(let Z=0;Z<h.plots.length;Z++)for(let _e=0;_e<h.plots[Z].length;_e++)if(h.plots[Z][_e].active==!0&&h.plots[Z][_e].type>-1){let ge=Bn(Z,_e,h),Te=ie[h.plots[Z][_e].type];Te.generated_resources!=null&&(h.resources.food+=Math.round(Te.generated_resources.food*Y)*(ge?2:1),h.resources.wood+=Math.round(Te.generated_resources.wood*Y*ee),h.resources.stone+=Math.round(Te.generated_resources.stone*Y),h.resources.metal+=Math.round(Te.generated_resources.metal*Y),h.resources.bureaucracy+=Math.round(Te.generated_resources.bureaucracy*Y))}return h.resources.food=Math.round(h.resources.food),h.resources.wood=Math.round(h.resources.wood),h.resources.stone=Math.round(h.resources.stone),h.resources.metal=Math.round(h.resources.metal),h.resources.bureaucracy=Math.round(h.resources.bureaucracy),h}var w;(function(h){h.food="food",h.wood="wood",h.stone="stone",h.metal="metal",h.bureaucracy="bureaucracy"})(w||(w={}));function C(h){for(let j=0;j<h.plots.length;j++)for(let Y=0;Y<h.plots[j].length;Y++)if(h.plots[j][Y].active==!0&&h.plots[j][Y].type>-1){let ee=ie[h.plots[j][Y].type],Z=!1;Object.keys(ee.active_costs).forEach((_e,ge)=>{const Te=Object.values(ee.active_costs)[ge];_e!="power"&&(h.townInfo.gold,_e=="gold"?h.townInfo.gold<Te?Z=!0:h.townInfo.gold-=Te:h.resources[_e]<Te?Z=!0:h.resources[_e]-=Te)}),h.plots[j][Y].disabled=Z,h.plots[j][Y].disabled&&(h.townInfo.happiness-=1),Z&&ie[h.plots[j][Y].type].type=="residential"&&(h.townInfo.population_count-=1,h.townInfo.employees-=1)}return h}function L(h){let j=0;for(let Y=0;Y<h.plots.length;Y++)for(let ee=0;ee<h.plots[Y].length;ee++)if(h.plots[Y][ee].active==!0&&h.plots[Y][ee].type>-1){let Z=ie[h.plots[Y][ee].type];Z.active_costs.power!=0&&(j-=Z.active_costs.power),Z.generated_resources.power!=0&&(j+=Z.generated_resources.power)}return h.resources.power=j,h.resources.power<0&&(h.modifiers.happiness*.98,h.townInfo.happiness-=5,h=st("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.",h,ze.BAD)),h}function D(h){if(h.devMode)return h;let j=a;for(let Y=0;Y<nt.length;Y++)j.achievements.find(ee=>ee[0]==nt[Y].id)==null&&nt[Y].check(h)&&(j.achievements.push([nt[Y].id,h.environment.day,h.townInfo.name]),Me(Rt,l=!0,l),Me(Ki,r=!0,r));return an.update(()=>j),h}let E=!1;function $(h){if(E)return h;for(let j=h.currentTutorialStep;j<h.currentTutorialStep+1;j++)if(jt[j].isComplete(h)){Me(Ei,i=!0,i),E=!0,setTimeout(()=>{Me(Ei,i=!1,i),h.currentTutorialStep++,h.townInfo.gold+=jt[j].goldReward,E=!1},1e3);break}return h}function V(h){return h.townInfo.happiness<=3&&(h.townInfo.happiness=0,h.endGameDetails={msg:pt.happiness_zero,win:!1,still_playing:!1}),h.townInfo.health<=3&&(h.townInfo.health=3,h.endGameDetails={msg:pt.health_zero,win:!1,still_playing:!1}),h.townInfo.population_count<=0&&h.townInfo.population_max>0&&(h.townInfo.population_count=0,h.endGameDetails={msg:pt.population_zero,win:!1,still_playing:!1}),h}function R(h){let j=h.townInfo.population_count-h.townInfo.employees;if(j>0){let Y=j*.2;Y<15&&(Y=15),h.townInfo.happiness-=Y,h=st(j+pt.unemployment_num,h,ze.BAD)}else h.townLog=h.townLog.filter(Y=>!Y.message.includes(pt.unemployment_num));return h}function H(h){let j=h.plotCounts.reduce((ee,Z)=>ee+Z,0),Y=!1;for(let ee=0;ee<h.plotCounts.length;ee++)h.plotCounts[ee]==null||ie[ee].check_for_variety!=!0||(h.difficulty,h.plotCounts[ee]/j>=.25&&(ie[ee].title,Y=!0));return Y&&(h=st(pt.notEnoughVariety,h,ze.BAD),h.modifiers.happiness*.95),h}function y(h){for(let j=0;j<h.economyAndLaws.enacted.length;j++){let Y=ul.find(ee=>ee.id==h.economyAndLaws.enacted[j]);Y!=null&&Y.weekly_effect!=null&&(h=Y.weekly_effect(h))}return h}function b(h){let j=h.townInfo.health,Y=0;return j>50||j<Math.random()*50&&(j<25?(h=st(pt.sickAndDying,h,ze.BAD),h.townInfo.happiness-=10,Y=Math.round(h.townInfo.population_count*.1)):(h=st(pt.sickAndLeaving,h,ze.BAD),h.townInfo.happiness-=5,Y=Math.round(h.townInfo.population_count*.05)),h.townInfo.population_count-=Y,h.townInfo.employees-=Y),h}function I(h){return h.townInfo.community<100&&Math.random()*100<h.townInfo.community||(h.lastChangeDay+(Math.random()*500+365)<h.environment.day&&h.townInfo.population_count>0?h.townInfo.population_count>0&&(h.townInfo.population_count-=1,h.townInfo.employees-=1,h.modifiers.happiness-=.01,h=st(pt.bored,h,ze.BAD)):h.townLog=h.townLog.filter(j=>!j.message.includes(pt.bored))),h}function N(h){if(h.townInfo.population_count<h.townInfo.population_max&&h.townInfo.happiness>50){let j=h.townInfo.population_max-h.townInfo.population_count,Y=Math.round(h.townInfo.happiness/100*j);h.townInfo.population_count+=Y,h.townInfo.population_count>h.townInfo.population_max&&(h.townInfo.population_count=h.townInfo.population_max),h.townInfo.employees+=Y,h.townInfo.employees>h.townInfo.population_count&&(h.townInfo.employees=h.townInfo.population_count),h=st(Y+pt.new_people_num,h,ze.NORMAL)}if(h.townInfo.happiness<50&&h.townInfo.population_count>0){let j=Math.round((100-h.townInfo.happiness)/5);j=j*(h.townInfo.community/200),h.townInfo.population_count-=j,h.townInfo.employees>0&&(h.townInfo.employees-=j),h=st(j+pt.leave_town_num,h,ze.BAD)}else h.townInfo.population_count==h.townInfo.population_max;return h}function W(h){const j=Math.random();if(h.economyAndLaws.tax_rate>h.economyAndLaws.max_tax_rate&&h.townInfo.population_count>0){let Y=1;h.hasBank&&(Y=2);const ee=h.difficulty==0?.7:h.difficulty==1?.4:.2;j<ee&&h.economyAndLaws.tax_rate>h.economyAndLaws.max_tax_rate*2*Y?(h.modifiers.happiness-=.02,h=st(pt.very_high_tax_rate+"  ("+h.economyAndLaws.tax_rate+"%)",h,ze.BAD)):(h.modifiers.happiness-=.01,h=st(pt.high_tax_rate+"  ("+h.economyAndLaws.tax_rate*100+"%)",h,ze.BAD))}return h}function F(h){if(h.modifiers.happiness>1){let Y=h.modifiers.happiness-1;h.modifiers.happiness-=Y*.1,h.modifiers.happiness<1.02&&(h.modifiers.happiness=1)}if(h.modifiers.community>1){let Y=h.modifiers.community-1;h.modifiers.community-=Y*.1,h.modifiers.community<1.02&&(h.modifiers.community=1)}if(h.modifiers.health>1)if(He("healing_house",h).length>0){h=st(pt.hospital_advantage,h,ze.GOOD);let Y=h.modifiers.health-1;h.modifiers.health-=Y*He("healing_house",h).length?.03:.06,h.modifiers.health<1.02&&(h.modifiers.health=1)}else{let Y=h.modifiers.health-1;h.modifiers.health-=Y*.1,h.modifiers.health<1.02&&(h.modifiers.health=1)}else He("healing_house",h).length>0&&(h.modifiers.health+=.1);return h}function Q(h){h.economyAndLaws.weeklyProfit=0;for(let j=0;j<h.plots.length;j++)for(let Y=0;Y<h.plots[j].length;Y++)if(h.plots[j][Y].active==!0&&h.plots[j][Y].type>-1)if(h.plots[j][Y].disabled===!0){const ee=ie[h.plots[j][Y].type],Z=U(ee.revenue_per_week,h,ee.type)*(h.townInfo.productivity/100)/7;h.townInfo.gold-=Z,h=st(`🚨 ${ee.title} at ${Y}, ${j} is disabled and costing you $${Z} a week!`,h,ze.BAD)}else{const ee=ie[h.plots[j][Y].type];let Z=U(ee.revenue_per_week,h,ee.type)*(h.townInfo.productivity/100)/7;console.log(`profit 2: ${Z}`);let _e=Bn(j,Y,h);Z*=_e?2:1,h.townInfo.gold+=Z,h.economyAndLaws.weeklyProfit+=Z*7}return h}function ne(h){return He("mine",h).length>0&&(h.modifiers.health-=.01,He("healing_house",h).length==0&&(h=st("The mine is actively hurting the health of the town. Time to look into a healing house.",h,ze.BAD))),h}function z(h){let j=0;for(let Y=0;Y<h.plots.length;Y++)for(let ee=0;ee<h.plots[Y].length;ee++)if(h.plots[Y][ee].active==!0&&h.plots[Y][ee].type>-1){let Z=ie[h.plots[Y][ee].type];Z.knowledge_points_per_month!=null&&(h.townInfo.knowledge_points+=Math.round(Z.knowledge_points_per_month/4),j+=Z.knowledge_points_per_month)}return h.resource_rate.knowledge=bt(j/4,0),h}function U(h,j,Y){let ee=j.townInfo.happiness/100;ee>2?ee=2:ee<.75&&(ee=.75),ee<1&&j.environment.day%30==0&&j.townLog.filter(_e=>_e.message.includes("When townspeople are unhappy, they spend less money (and you get less).")).length==0?j=st("When townspeople are unhappy, they spend less money (and you get less).",j,ze.BAD):j.townLog=j.townLog.filter(_e=>!_e.message.includes("When townspeople are unhappy, they spend less money (and you get less).")),He("village_inn",j).length>0&&Y=="shop"&&(ee*=1.3);let Z=Math.round(h*j.economyAndLaws.tax_rate*(j.townInfo.population_count/j.townInfo.population_max)*ee*(j.economyAndLaws.enacted.includes("tax_free")?-1:1));return bt(Z,2)}return _r(async()=>{for(;;)localStorage.reset=="true"&&(Bl(),localStorage.setItem("reset","false")),d(),await new Promise(h=>setTimeout(h,o/Ls))}),[d,fl,cl,F,dl]}class dp extends ve{constructor(e){super(),be(this,e,cp,null,ue,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return fl}get _fixVariables(){return cl}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return dl}}function mp(t){return t[t.length-1]}function yn(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function jr(t){return t?!0:void 0}yn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function Ac(t){if(t!==null)return t}function Ds(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function qr(t){if(!xo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return Tt(e)?e:null}const qo=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),Fs=t=>typeof t=="function";ht("empty");function ht(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return dn(n,a=>{const s=i(a);if(Fs(s)){const u=(...f)=>qo({...s(...f),[`data-melt-${t}`]:"",action:o??et});return u.action=o??et,u}return qo({...s,[`data-melt-${t}`]:"",action:o??et})});{const a=i,s=a==null?void 0:a();if(Fs(s)){const u=(...f)=>qo({...s(...f),[`data-melt-${t}`]:"",action:o??et});return u.action=o??et,Ds(u)}return Ds(qo({...s,[`data-melt-${t}`]:"",action:o??et}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function Bs(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=dn(n,a=>o(a).map(s=>qo({...s,[`data-melt-${t}`]:"",action:i??et}))),l=i??(()=>{});return l.subscribe=r,l}function yr(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const xo=typeof document<"u",Sc=t=>typeof t=="function";function pp(t){return t instanceof Document}function wr(t){return t instanceof Element}function Tt(t){return t instanceof HTMLElement}function js(t){return t.pointerType==="touch"}function hp(t){return t!==null&&typeof t=="object"}function _p(t){return hp(t)&&"subscribe"in t}function Ut(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function et(){}function vt(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function At(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=bp(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function gp(t){const e=t.currentTarget;if(!Tt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function bp(t){return e=>{const n=gp(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function kr(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function sn(t){return{...t,get:()=>lc(t)}}sn.writable=function(t){const e=We(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};sn.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const Cr=(t,e)=>{const n=sn(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function ql(t){return new Promise(e=>setTimeout(e,t))}let vp="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",yp=(t=21)=>{let e="",n=t;for(;n--;)e+=vp[Math.random()*64|0];return e};function wp(){return yp(10)}function Gl(t){return t.reduce((e,n)=>(e[n]=wp(),e),{})}const at={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Tc=()=>typeof window<"u";function kp(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Mc=t=>Tc()&&t.test(kp().toLowerCase()),Cp=()=>Tc()&&!!navigator.maxTouchPoints,Ap=()=>Mc(/^mac/)&&!Cp(),Sp=()=>Mc(/mac|iphone|ipad|ipod/i),Tp=()=>Sp()&&!Ap();function Mp(t){const e=t.slice();return e.sort(Op),Ip(e)}function Ip(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function Op(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function Pp(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function Np(t){const e=t.flatMap(n=>Pp(n));return Mp(e)}function Ep(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const Gr="data-melt-scroll-lock";function qs(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function $p(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function Rp(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Lp(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(Gr))return et;i.setAttribute(Gr,"");const l=n.innerWidth-o.clientWidth,a=()=>$p(o,"--scrollbar-width",`${l}px`),s=Rp(o),u=n.getComputedStyle(i)[s],f=()=>qs(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:m,scrollY:p,visualViewport:_}=n,v=(_==null?void 0:_.offsetLeft)??0,k=(_==null?void 0:_.offsetTop)??0,w=qs(i,{position:"fixed",overflow:"hidden",top:`${-(p-Math.floor(k))}px`,left:`${-(m-Math.floor(v))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{w==null||w(),n.scrollTo(m,p)}},d=[a(),Tp()?c():f()];return()=>{d.forEach(m=>m==null?void 0:m()),i.removeAttribute(Gr)}}const Dp=t=>{try{rm(t)}catch{return t}};function $t(t,e){let n;const o=dn(t,r=>{n==null||n(),n=e(r)}).subscribe(et),i=()=>{o(),n==null||n()};return Dp(i),i}function jn(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=sn(We(i))}),e}function Fp(t){let e=t.parentElement;for(;Tt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Ic(t,e){return e!==void 0?e:Fp(t)==="body"?document.body:null}async function Gs(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([ql(1),Rl]),e===void 0){n==null||n.focus();return}const o=Sc(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!Tt(i))return;i.focus()}else Tt(o)&&o.focus()}function Vr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}Ln(void 0,t=>{function e(o){t(o),t(void 0)}return vt(document,"pointerup",e,{passive:!1,capture:!0})});const Bp=Ln(void 0,t=>{function e(o){o&&o.key===at.ESCAPE&&t(o),t(void 0)}return vt(document,"keydown",e,{passive:!1})}),Vs=(t,e={})=>{let n=et;function o(i={}){n();const r={enabled:!0,...i},l=_p(r.enabled)?r.enabled:Ln(r.enabled);n=Ut(Bp.subscribe(a=>{var u;if(!a||!lc(l))return;const s=a.target;if(!(!Tt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(Sc(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),$t(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},kn=Math.min,Ot=Math.max,xi=Math.round,ki=Math.floor,Cn=t=>({x:t,y:t}),jp={left:"right",right:"left",bottom:"top",top:"bottom"},qp={start:"end",end:"start"};function ml(t,e,n){return Ot(t,kn(e,n))}function So(t,e){return typeof t=="function"?t(e):t}function An(t){return t.split("-")[0]}function To(t){return t.split("-")[1]}function Oc(t){return t==="x"?"y":"x"}function Vl(t){return t==="y"?"height":"width"}function oi(t){return["top","bottom"].includes(An(t))?"y":"x"}function Hl(t){return Oc(oi(t))}function Gp(t,e,n){n===void 0&&(n=!1);const o=To(t),i=Hl(t),r=Vl(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=Zi(l)),[l,Zi(l)]}function Vp(t){const e=Zi(t);return[pl(t),e,pl(e)]}function pl(t){return t.replace(/start|end/g,e=>qp[e])}function Hp(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function Wp(t,e,n,o){const i=To(t);let r=Hp(An(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(pl)))),r}function Zi(t){return t.replace(/left|right|bottom|top/g,e=>jp[e])}function Yp(t){return{top:0,right:0,bottom:0,left:0,...t}}function Pc(t){return typeof t!="number"?Yp(t):{top:t,right:t,bottom:t,left:t}}function Qi(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Hs(t,e,n){let{reference:o,floating:i}=t;const r=oi(e),l=Hl(e),a=Vl(l),s=An(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let m;switch(s){case"top":m={x:f,y:o.y-i.height};break;case"bottom":m={x:f,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:c};break;case"left":m={x:o.x-i.width,y:c};break;default:m={x:o.x,y:o.y}}switch(To(e)){case"start":m[l]-=d*(n&&u?-1:1);break;case"end":m[l]+=d*(n&&u?-1:1);break}return m}const Up=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=Hs(u,o,s),d=o,m={},p=0;for(let _=0;_<a.length;_++){const{name:v,fn:k}=a[_],{x:w,y:C,data:L,reset:D}=await k({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:m,rects:u,platform:l,elements:{reference:t,floating:e}});f=w??f,c=C??c,m={...m,[v]:{...m[v],...L}},D&&p<=50&&(p++,typeof D=="object"&&(D.placement&&(d=D.placement),D.rects&&(u=D.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:f,y:c}=Hs(u,d,s)),_=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:m}};async function Wl(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:m=0}=So(e,t),p=Pc(m),v=a[d?c==="floating"?"reference":"floating":c],k=Qi(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(v)))==null||n?v:v.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),w=c==="floating"?{...l.floating,x:o,y:i}:l.reference,C=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),L=await(r.isElement==null?void 0:r.isElement(C))?await(r.getScale==null?void 0:r.getScale(C))||{x:1,y:1}:{x:1,y:1},D=Qi(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:C,strategy:s}):w);return{top:(k.top-D.top+p.top)/L.y,bottom:(D.bottom-k.bottom+p.bottom)/L.y,left:(k.left-D.left+p.left)/L.x,right:(D.right-k.right+p.right)/L.x}}const Kp=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=So(t,e)||{};if(u==null)return{};const c=Pc(f),d={x:n,y:o},m=Hl(i),p=Vl(m),_=await l.getDimensions(u),v=m==="y",k=v?"top":"left",w=v?"bottom":"right",C=v?"clientHeight":"clientWidth",L=r.reference[p]+r.reference[m]-d[m]-r.floating[p],D=d[m]-r.reference[m],E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let $=E?E[C]:0;(!$||!await(l.isElement==null?void 0:l.isElement(E)))&&($=a.floating[C]||r.floating[p]);const V=L/2-D/2,R=$/2-_[p]/2-1,H=kn(c[k],R),y=kn(c[w],R),b=H,I=$-_[p]-y,N=$/2-_[p]/2+V,W=ml(b,N,I),F=!s.arrow&&To(i)!=null&&N!==W&&r.reference[p]/2-(N<b?H:y)-_[p]/2<0,Q=F?N<b?N-b:N-I:0;return{[m]:d[m]+Q,data:{[m]:W,centerOffset:N-W-Q,...F&&{alignmentOffset:Q}},reset:F}}}),Xp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:_=!0,...v}=So(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const k=An(i),w=An(a)===a,C=await(s.isRTL==null?void 0:s.isRTL(u.floating)),L=d||(w||!_?[Zi(a)]:Vp(a));!d&&p!=="none"&&L.push(...Wp(a,_,p,C));const D=[a,...L],E=await Wl(e,v),$=[];let V=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&$.push(E[k]),c){const b=Gp(i,l,C);$.push(E[b[0]],E[b[1]])}if(V=[...V,{placement:i,overflows:$}],!$.every(b=>b<=0)){var R,H;const b=(((R=r.flip)==null?void 0:R.index)||0)+1,I=D[b];if(I)return{data:{index:b,overflows:V},reset:{placement:I}};let N=(H=V.filter(W=>W.overflows[0]<=0).sort((W,F)=>W.overflows[1]-F.overflows[1])[0])==null?void 0:H.placement;if(!N)switch(m){case"bestFit":{var y;const W=(y=V.map(F=>[F.placement,F.overflows.filter(Q=>Q>0).reduce((Q,ne)=>Q+ne,0)]).sort((F,Q)=>F[1]-Q[1])[0])==null?void 0:y[0];W&&(N=W);break}case"initialPlacement":N=a;break}if(i!==N)return{reset:{placement:N}}}return{}}}};async function Jp(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=An(n),a=To(n),s=oi(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=So(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:p}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof p=="number"&&(m=a==="end"?p*-1:p),s?{x:m*f,y:d*u}:{x:d*u,y:m*f}}const xp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await Jp(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},Zp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:v=>{let{x:k,y:w}=v;return{x:k,y:w}}},...s}=So(t,e),u={x:n,y:o},f=await Wl(e,s),c=oi(An(i)),d=Oc(c);let m=u[d],p=u[c];if(r){const v=d==="y"?"top":"left",k=d==="y"?"bottom":"right",w=m+f[v],C=m-f[k];m=ml(w,m,C)}if(l){const v=c==="y"?"top":"left",k=c==="y"?"bottom":"right",w=p+f[v],C=p-f[k];p=ml(w,p,C)}const _=a.fn({...e,[d]:m,[c]:p});return{..._,data:{x:_.x-n,y:_.y-o}}}}},Qp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=So(t,e),s=await Wl(e,a),u=An(n),f=To(n),c=oi(n)==="y",{width:d,height:m}=o.floating;let p,_;u==="top"||u==="bottom"?(p=u,_=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(_=u,p=f==="end"?"top":"bottom");const v=m-s[p],k=d-s[_],w=!e.middlewareData.shift;let C=v,L=k;if(c){const E=d-s.left-s.right;L=f||w?kn(k,E):E}else{const E=m-s.top-s.bottom;C=f||w?kn(v,E):E}if(w&&!f){const E=Ot(s.left,0),$=Ot(s.right,0),V=Ot(s.top,0),R=Ot(s.bottom,0);c?L=d-2*(E!==0||$!==0?E+$:Ot(s.left,s.right)):C=m-2*(V!==0||R!==0?V+R:Ot(s.top,s.bottom))}await l({...e,availableWidth:L,availableHeight:C});const D=await i.getDimensions(r.floating);return d!==D.width||m!==D.height?{reset:{rects:!0}}:{}}}};function Sn(t){return Nc(t)?(t.nodeName||"").toLowerCase():"#document"}function Pt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function mn(t){var e;return(e=(Nc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Nc(t){return t instanceof Node||t instanceof Pt(t).Node}function un(t){return t instanceof Element||t instanceof Pt(t).Element}function xt(t){return t instanceof HTMLElement||t instanceof Pt(t).HTMLElement}function Ws(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Pt(t).ShadowRoot}function ii(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Dt(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function zp(t){return["table","td","th"].includes(Sn(t))}function Yl(t){const e=Ul(),n=Dt(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function eh(t){let e=vo(t);for(;xt(e)&&!Ar(e);){if(Yl(e))return e;e=vo(e)}return null}function Ul(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ar(t){return["html","body","#document"].includes(Sn(t))}function Dt(t){return Pt(t).getComputedStyle(t)}function Sr(t){return un(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function vo(t){if(Sn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ws(t)&&t.host||mn(t);return Ws(e)?e.host:e}function Ec(t){const e=vo(t);return Ar(e)?t.ownerDocument?t.ownerDocument.body:t.body:xt(e)&&ii(e)?e:Ec(e)}function Zo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Ec(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=Pt(i);return r?e.concat(l,l.visualViewport||[],ii(i)?i:[],l.frameElement&&n?Zo(l.frameElement):[]):e.concat(i,Zo(i,[],n))}function $c(t){const e=Dt(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=xt(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=xi(n)!==r||xi(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function Kl(t){return un(t)?t:t.contextElement}function ho(t){const e=Kl(t);if(!xt(e))return Cn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=$c(e);let l=(r?xi(n.width):n.width)/o,a=(r?xi(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const th=Cn(0);function Rc(t){const e=Pt(t);return!Ul()||!e.visualViewport?th:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nh(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Pt(t)?!1:e}function qn(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=Kl(t);let l=Cn(1);e&&(o?un(o)&&(l=ho(o)):l=ho(t));const a=nh(r,n,o)?Rc(r):Cn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=Pt(r),m=o&&un(o)?Pt(o):o;let p=d,_=p.frameElement;for(;_&&o&&m!==p;){const v=ho(_),k=_.getBoundingClientRect(),w=Dt(_),C=k.left+(_.clientLeft+parseFloat(w.paddingLeft))*v.x,L=k.top+(_.clientTop+parseFloat(w.paddingTop))*v.y;s*=v.x,u*=v.y,f*=v.x,c*=v.y,s+=C,u+=L,p=Pt(_),_=p.frameElement}}return Qi({width:f,height:c,x:s,y:u})}const oh=[":popover-open",":modal"];function Lc(t){return oh.some(e=>{try{return t.matches(e)}catch{return!1}})}function ih(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=mn(o),a=e?Lc(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=Cn(1);const f=Cn(0),c=xt(o);if((c||!c&&!r)&&((Sn(o)!=="body"||ii(l))&&(s=Sr(o)),xt(o))){const d=qn(o);u=ho(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function rh(t){return Array.from(t.getClientRects())}function Dc(t){return qn(mn(t)).left+Sr(t).scrollLeft}function lh(t){const e=mn(t),n=Sr(t),o=t.ownerDocument.body,i=Ot(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=Ot(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+Dc(t);const a=-n.scrollTop;return Dt(o).direction==="rtl"&&(l+=Ot(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function sh(t,e){const n=Pt(t),o=mn(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=Ul();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function ah(t,e){const n=qn(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=xt(t)?ho(t):Cn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function Ys(t,e,n){let o;if(e==="viewport")o=sh(t,n);else if(e==="document")o=lh(mn(t));else if(un(e))o=ah(e,n);else{const i=Rc(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return Qi(o)}function Fc(t,e){const n=vo(t);return n===e||!un(n)||Ar(n)?!1:Dt(n).position==="fixed"||Fc(n,e)}function uh(t,e){const n=e.get(t);if(n)return n;let o=Zo(t,[],!1).filter(a=>un(a)&&Sn(a)!=="body"),i=null;const r=Dt(t).position==="fixed";let l=r?vo(t):t;for(;un(l)&&!Ar(l);){const a=Dt(l),s=Yl(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ii(l)&&!s&&Fc(t,l))?o=o.filter(f=>f!==l):i=a,l=vo(l)}return e.set(t,o),o}function fh(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?uh(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=Ys(e,f,i);return u.top=Ot(c.top,u.top),u.right=kn(c.right,u.right),u.bottom=kn(c.bottom,u.bottom),u.left=Ot(c.left,u.left),u},Ys(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function ch(t){const{width:e,height:n}=$c(t);return{width:e,height:n}}function dh(t,e,n){const o=xt(e),i=mn(e),r=n==="fixed",l=qn(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=Cn(0);if(o||!o&&!r)if((Sn(e)!=="body"||ii(i))&&(a=Sr(e)),o){const c=qn(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=Dc(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function Us(t,e){return!xt(t)||Dt(t).position==="fixed"?null:e?e(t):t.offsetParent}function Bc(t,e){const n=Pt(t);if(!xt(t)||Lc(t))return n;let o=Us(t,e);for(;o&&zp(o)&&Dt(o).position==="static";)o=Us(o,e);return o&&(Sn(o)==="html"||Sn(o)==="body"&&Dt(o).position==="static"&&!Yl(o))?n:o||eh(t)||n}const mh=async function(t){const e=this.getOffsetParent||Bc,n=this.getDimensions;return{reference:dh(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function ph(t){return Dt(t).direction==="rtl"}const hh={convertOffsetParentRelativeRectToViewportRelativeRect:ih,getDocumentElement:mn,getClippingRect:fh,getOffsetParent:Bc,getElementRects:mh,getClientRects:rh,getDimensions:ch,getScale:ho,isElement:un,isRTL:ph};function _h(t,e){let n=null,o;const i=mn(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const m=ki(f),p=ki(i.clientWidth-(u+c)),_=ki(i.clientHeight-(f+d)),v=ki(u),w={rootMargin:-m+"px "+-p+"px "+-_+"px "+-v+"px",threshold:Ot(0,kn(1,s))||1};let C=!0;function L(D){const E=D[0].intersectionRatio;if(E!==s){if(!C)return l();E?l(!1,E):o=setTimeout(()=>{l(!1,1e-7)},100)}C=!1}try{n=new IntersectionObserver(L,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(L,w)}n.observe(t)}return l(!0),r}function gh(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=Kl(t),f=i||r?[...u?Zo(u):[],...Zo(e)]:[];f.forEach(k=>{i&&k.addEventListener("scroll",n,{passive:!0}),r&&k.addEventListener("resize",n)});const c=u&&a?_h(u,n):null;let d=-1,m=null;l&&(m=new ResizeObserver(k=>{let[w]=k;w&&w.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var C;(C=m)==null||C.observe(e)})),n()}),u&&!s&&m.observe(u),m.observe(e));let p,_=s?qn(t):null;s&&v();function v(){const k=qn(t);_&&(k.x!==_.x||k.y!==_.y||k.width!==_.width||k.height!==_.height)&&n(),_=k,p=requestAnimationFrame(v)}return n(),()=>{var k;f.forEach(w=>{i&&w.removeEventListener("scroll",n),r&&w.removeEventListener("resize",n)}),c==null||c(),(k=m)==null||k.disconnect(),m=null,s&&cancelAnimationFrame(p)}}const bh=Zp,vh=Xp,yh=Qp,wh=Kp,kh=(t,e,n)=>{const o=new Map,i={platform:hh,...n},r={...i.platform,_c:o};return Up(t,e,{...i,platform:r})},Ch={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},Ah={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Sh(t,e,n={}){if(!e||!t||n===null)return{destroy:et};const o={...Ch,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push(vh({boundary:o.boundary,padding:o.overflowPadding}));const l=Tt(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(xp(s))}r.push(bh({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(wh({element:i,padding:8})),r.push(yh({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;kh(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),Tt(i)&&f.middlewareData.arrow){const{x:m,y:p}=f.middlewareData.arrow,_=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:m!=null?`${m}px`:"",top:p!=null?`${p}px`:"",[_]:`calc(100% - ${l}px)`,transform:Ah[_],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:gh(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var jc=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],zi=jc.join(","),qc=typeof Element>"u",Gn=qc?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,er=!qc&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},tr=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},Th=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},Gc=function(e,n,o){if(tr(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(zi));return n&&Gn.call(e,zi)&&i.unshift(e),i=i.filter(o),i},Vc=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!tr(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=Gn.call(l,zi);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!tr(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var m=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,m):i.push({scopeParent:l,candidates:m})}else r.unshift.apply(r,l.children)}}return i},Hc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Nn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Th(e))&&!Hc(e)?0:e.tabIndex},Mh=function(e,n){var o=Nn(e);return o<0&&n&&!Hc(e)?0:o},Ih=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Wc=function(e){return e.tagName==="INPUT"},Oh=function(e){return Wc(e)&&e.type==="hidden"},Ph=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},Nh=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},Eh=function(e){if(!e.name)return!0;var n=e.form||er(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=Nh(i,e.form);return!r||r===e},$h=function(e){return Wc(e)&&e.type==="radio"},Rh=function(e){return $h(e)&&!Eh(e)},Lh=function(e){var n,o=e&&er(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=er(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},Ks=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},Dh=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Gn.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Gn.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=er(e);if(s&&!s.shadowRoot&&i(s)===!0)return Ks(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(Lh(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return Ks(e);return!1},Fh=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return Gn.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},nr=function(e,n){return!(n.disabled||tr(n)||Oh(n)||Dh(n,e)||Ph(n)||Fh(n))},hl=function(e,n){return!(Rh(n)||Nn(n)<0||!nr(e,n))},Bh=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},jh=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=Mh(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(Ih).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},qh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Vc([e],n.includeContainer,{filter:hl.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Bh}):o=Gc(e,n.includeContainer,hl.bind(null,n)),jh(o)},Gh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Vc([e],n.includeContainer,{filter:nr.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=Gc(e,n.includeContainer,nr.bind(null,n)),o},so=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Gn.call(e,zi)===!1?!1:hl(n,e)},Vh=jc.concat("iframe").join(","),Hr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Gn.call(e,Vh)===!1?!1:nr(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Xs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function Js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xs(Object(n),!0).forEach(function(o){Hh(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xs(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Hh(t,e,n){return e=Yh(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wh(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yh(t){var e=Wh(t,"string");return typeof e=="symbol"?e:String(e)}var xs={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},Uh=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Kh=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Ko=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Xh=function(e){return Ko(e)&&!e.shiftKey},Jh=function(e){return Ko(e)&&e.shiftKey},Zs=function(e){return setTimeout(e,0)},Qs=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},Fo=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},Ci=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},xh=[],Zh=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||xh,r=Js({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Xh,isKeyBackward:Jh},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(b,I,N){return b&&b[I]!==void 0?b[I]:r[N||I]},u=function(b,I){var N=typeof(I==null?void 0:I.composedPath)=="function"?I.composedPath():void 0;return l.containerGroups.findIndex(function(W){var F=W.container,Q=W.tabbableNodes;return F.contains(b)||(N==null?void 0:N.includes(F))||Q.find(function(ne){return ne===b})})},f=function(b){var I=r[b];if(typeof I=="function"){for(var N=arguments.length,W=new Array(N>1?N-1:0),F=1;F<N;F++)W[F-1]=arguments[F];I=I.apply(void 0,W)}if(I===!0&&(I=void 0),!I){if(I===void 0||I===!1)return I;throw new Error("`".concat(b,"` was specified but was not a node, or did not return a node"))}var Q=I;if(typeof I=="string"&&(Q=o.querySelector(I),!Q))throw new Error("`".concat(b,"` as selector refers to no known node"));return Q},c=function(){var b=f("initialFocus");if(b===!1)return!1;if(b===void 0||!Hr(b,r.tabbableOptions))if(u(o.activeElement)>=0)b=o.activeElement;else{var I=l.tabbableGroups[0],N=I&&I.firstTabbableNode;b=N||f("fallbackFocus")}if(!b)throw new Error("Your focus-trap needs to have at least one focusable element");return b},d=function(){if(l.containerGroups=l.containers.map(function(b){var I=qh(b,r.tabbableOptions),N=Gh(b,r.tabbableOptions),W=I.length>0?I[0]:void 0,F=I.length>0?I[I.length-1]:void 0,Q=N.find(function(U){return so(U)}),ne=N.slice().reverse().find(function(U){return so(U)}),z=!!I.find(function(U){return Nn(U)>0});return{container:b,tabbableNodes:I,focusableNodes:N,posTabIndexesFound:z,firstTabbableNode:W,lastTabbableNode:F,firstDomTabbableNode:Q,lastDomTabbableNode:ne,nextTabbableNode:function(h){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Y=I.indexOf(h);return Y<0?j?N.slice(N.indexOf(h)+1).find(function(ee){return so(ee)}):N.slice(0,N.indexOf(h)).reverse().find(function(ee){return so(ee)}):I[Y+(j?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(b){return b.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(b){return b.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function y(b){var I=b.activeElement;if(I)return I.shadowRoot&&I.shadowRoot.activeElement!==null?y(I.shadowRoot):I},p=function y(b){if(b!==!1&&b!==m(document)){if(!b||!b.focus){y(c());return}b.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=b,Uh(b)&&b.select()}},_=function(b){var I=f("setReturnFocus",b);return I||(I===!1?!1:b)},v=function(b){var I=b.target,N=b.event,W=b.isBackward,F=W===void 0?!1:W;I=I||Ci(N),d();var Q=null;if(l.tabbableGroups.length>0){var ne=u(I,N),z=ne>=0?l.containerGroups[ne]:void 0;if(ne<0)F?Q=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:Q=l.tabbableGroups[0].firstTabbableNode;else if(F){var U=Qs(l.tabbableGroups,function(_e){var ge=_e.firstTabbableNode;return I===ge});if(U<0&&(z.container===I||Hr(I,r.tabbableOptions)&&!so(I,r.tabbableOptions)&&!z.nextTabbableNode(I,!1))&&(U=ne),U>=0){var h=U===0?l.tabbableGroups.length-1:U-1,j=l.tabbableGroups[h];Q=Nn(I)>=0?j.lastTabbableNode:j.lastDomTabbableNode}else Ko(N)||(Q=z.nextTabbableNode(I,!1))}else{var Y=Qs(l.tabbableGroups,function(_e){var ge=_e.lastTabbableNode;return I===ge});if(Y<0&&(z.container===I||Hr(I,r.tabbableOptions)&&!so(I,r.tabbableOptions)&&!z.nextTabbableNode(I))&&(Y=ne),Y>=0){var ee=Y===l.tabbableGroups.length-1?0:Y+1,Z=l.tabbableGroups[ee];Q=Nn(I)>=0?Z.firstTabbableNode:Z.firstDomTabbableNode}else Ko(N)||(Q=z.nextTabbableNode(I))}}else Q=f("fallbackFocus");return Q},k=function(b){var I=Ci(b);if(!(u(I,b)>=0)){if(Fo(r.clickOutsideDeactivates,b)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Fo(r.allowOutsideClick,b)||b.preventDefault()}},w=function(b){var I=Ci(b),N=u(I,b)>=0;if(N||I instanceof Document)N&&(l.mostRecentlyFocusedNode=I);else{b.stopImmediatePropagation();var W,F=!0;if(l.mostRecentlyFocusedNode)if(Nn(l.mostRecentlyFocusedNode)>0){var Q=u(l.mostRecentlyFocusedNode),ne=l.containerGroups[Q].tabbableNodes;if(ne.length>0){var z=ne.findIndex(function(U){return U===l.mostRecentlyFocusedNode});z>=0&&(r.isKeyForward(l.recentNavEvent)?z+1<ne.length&&(W=ne[z+1],F=!1):z-1>=0&&(W=ne[z-1],F=!1))}}else l.containerGroups.some(function(U){return U.tabbableNodes.some(function(h){return Nn(h)>0})})||(F=!1);else F=!1;F&&(W=v({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),p(W||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},C=function(b){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=b;var N=v({event:b,isBackward:I});N&&(Ko(b)&&b.preventDefault(),p(N))},L=function(b){if(Kh(b)&&Fo(r.escapeDeactivates,b)!==!1){b.preventDefault(),a.deactivate();return}(r.isKeyForward(b)||r.isKeyBackward(b))&&C(b,r.isKeyBackward(b))},D=function(b){var I=Ci(b);u(I,b)>=0||Fo(r.clickOutsideDeactivates,b)||Fo(r.allowOutsideClick,b)||(b.preventDefault(),b.stopImmediatePropagation())},E=function(){if(l.active)return xs.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?Zs(function(){p(c())}):p(c()),o.addEventListener("focusin",w,!0),o.addEventListener("mousedown",k,{capture:!0,passive:!1}),o.addEventListener("touchstart",k,{capture:!0,passive:!1}),o.addEventListener("click",D,{capture:!0,passive:!1}),o.addEventListener("keydown",L,{capture:!0,passive:!1}),a},$=function(){if(l.active)return o.removeEventListener("focusin",w,!0),o.removeEventListener("mousedown",k,!0),o.removeEventListener("touchstart",k,!0),o.removeEventListener("click",D,!0),o.removeEventListener("keydown",L,!0),a},V=function(b){var I=b.some(function(N){var W=Array.from(N.removedNodes);return W.some(function(F){return F===l.mostRecentlyFocusedNode})});I&&p(c())},R=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(V):void 0,H=function(){R&&(R.disconnect(),l.active&&!l.paused&&l.containers.map(function(b){R.observe(b,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(b){if(l.active)return this;var I=s(b,"onActivate"),N=s(b,"onPostActivate"),W=s(b,"checkCanFocusTrap");W||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,I==null||I();var F=function(){W&&d(),E(),H(),N==null||N()};return W?(W(l.containers.concat()).then(F,F),this):(F(),this)},deactivate:function(b){if(!l.active)return this;var I=Js({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},b);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,$(),l.active=!1,l.paused=!1,H(),xs.deactivateTrap(i,a);var N=s(I,"onDeactivate"),W=s(I,"onPostDeactivate"),F=s(I,"checkCanReturnFocus"),Q=s(I,"returnFocus","returnFocusOnDeactivate");N==null||N();var ne=function(){Zs(function(){Q&&p(_(l.nodeFocusedBeforeActivation)),W==null||W()})};return Q&&F?(F(_(l.nodeFocusedBeforeActivation)).then(ne,ne),this):(ne(),this)},pause:function(b){if(l.paused||!l.active)return this;var I=s(b,"onPause"),N=s(b,"onPostPause");return l.paused=!0,I==null||I(),$(),H(),N==null||N(),this},unpause:function(b){if(!l.paused||!l.active)return this;var I=s(b,"onUnpause"),N=s(b,"onPostUnpause");return l.paused=!1,I==null||I(),d(),E(),H(),N==null||N(),this},updateContainerElements:function(b){var I=[].concat(b).filter(Boolean);return l.containers=I.map(function(N){return typeof N=="string"?o.querySelector(N):N}),l.active&&d(),H(),this}},a.updateContainerElements(e),a};function Qh(t={}){let e;const{immediate:n,...o}=t,i=We(!1),r=We(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=Zh(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:Ts(i),isPaused:Ts(r),activate:l,deactivate:a,pause:s,unpause:u}}const Ai=[];function zh(t,e){let n=et;function o(){const r=Ai.indexOf(t);r>=0&&Ai.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;ql(100).then(()=>{l?Ai.push(t):o()});function f(){return mp(Ai)===t}function c(){f()&&a&&(a(),o())}function d(p){const _=p.target;wr(_)&&_&&f()&&(p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation())}function m(p){s!=null&&s(p)&&f()&&(p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation(),c())}n=e_(t,{onInteractOutsideStart:d,onInteractOutside:u?m:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const Yc=(t,e="body")=>{let n;if(!Tt(e)&&typeof e!="string")return{destroy:et};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Rl(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function e_(t,e){let n=et,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function m(v){f&&zs(v,t)&&(c==null||c(v));const k=v.target;wr(k)&&Uc(t,k)&&(i=!0),o=!0}function p(v){f==null||f(v)}const _=t_(t);if(typeof PointerEvent<"u"){const v=k=>{a(k)&&p(k),s()};n=Ut(vt(_,"pointerdown",m,!0),vt(_,"pointerup",v,!0))}else{const v=w=>{r?r=!1:a(w)&&p(w),s()},k=w=>{r=!0,a(w)&&p(w),s()};n=Ut(vt(_,"mousedown",m,!0),vt(_,"mouseup",v,!0),vt(_,"touchstart",m,!0),vt(_,"touchend",k,!0))}}function a(u){return!!(o&&!i&&zs(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function zs(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!wr(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!Uc(e,n)}function Uc(t,e){return t===e||t.contains(e)}function t_(t){return(t==null?void 0:t.ownerDocument)??document}Ln(!1),Ln(!1),Ln(void 0);function n_(){return{elements:{root:ht("label",{action:e=>({destroy:At(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:On}=yr("dialog"),o_={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},i_=["content","title","description"];function Kc(t){const e={...o_,...t},n=jn(kr(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=sn.writable(null),m=jn({...Gl(i_),...e.ids}),p=e.open??We(e.defaultOpen),_=Cr(p,e==null?void 0:e.onOpenChange),v=dn([_,s],([y,b])=>y||b);let k=et;function w(y){const b=y.currentTarget,I=y.currentTarget;!Tt(b)||!Tt(I)||(_.set(!0),d.set(I))}function C(){_.set(!1),Gs({prop:f.get(),defaultEl:d.get()})}const L=ht(On("trigger"),{stores:[_],returned:([y])=>({"aria-haspopup":"dialog","aria-expanded":y,type:"button"}),action:y=>({destroy:Ut(At(y,"click",I=>{w(I)}),At(y,"keydown",I=>{I.key!==at.ENTER&&I.key!==at.SPACE||(I.preventDefault(),w(I))}))})}),D=ht(On("overlay"),{stores:[v,_],returned:([y,b])=>({hidden:y?void 0:!0,tabindex:-1,style:yn({display:y?void 0:"none"}),"aria-hidden":!0,"data-state":b?"open":"closed"}),action:y=>{let b=et;if(i.get()){const I=Vs(y,{handler:()=>{C()}});I&&I.destroy&&(b=I.destroy)}return{destroy(){b()}}}}),E=ht(On("content"),{stores:[v,m.content,m.description,m.title,_],returned:([y,b,I,N,W])=>({id:b,role:l.get(),"aria-describedby":I,"aria-labelledby":N,"aria-modal":y?"true":void 0,"data-state":W?"open":"closed",tabindex:-1,hidden:y?void 0:!0,style:yn({display:y?void 0:"none"})}),action:y=>{let b=et,I=et;const N=Ut($t([_],([W])=>{if(!W)return;const F=Qh({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:y});b=F.activate,I=F.deactivate;const Q=F.useFocusTrap(y);return Q&&Q.destroy?Q.destroy:F.deactivate}),$t([r,_],([W,F])=>zh(y,{open:F,closeOnInteractOutside:W,onClose(){C()},shouldCloseOnInteractOutside(Q){var ne;return(ne=c.get())==null||ne(Q),!Q.defaultPrevented}}).destroy),$t([i],([W])=>{if(!W)return et;const F=Vs(y,{handler:()=>{C()}});return F&&F.destroy?F.destroy:et}),$t([v],([W])=>{Rl().then(()=>{W?b():I()})}));return{destroy:()=>{k(),N()}}}}),$=ht(On("portalled"),{stores:a,returned:y=>({"data-portal":Ac(y)}),action:y=>{const b=$t([a],([I])=>{if(I===null)return et;const N=Ic(y,I);if(N===null)return et;const W=Yc(y,N);return W&&W.destroy?W.destroy:et});return{destroy(){b()}}}}),V=ht(On("title"),{stores:[m.title],returned:([y])=>({id:y})}),R=ht(On("description"),{stores:[m.description],returned:([y])=>({id:y})}),H=ht(On("close"),{returned:()=>({type:"button"}),action:y=>({destroy:Ut(At(y,"click",()=>{C()}),At(y,"keydown",I=>{I.key!==at.SPACE&&I.key!==at.ENTER||(I.preventDefault(),C())}))})});return $t([_,o],([y,b])=>{if(xo){if(b&&y&&(k=Lp()),y){const I=document.getElementById(m.content.get());Gs({prop:u.get(),defaultEl:I})}return()=>{s.get()||k()}}}),{ids:m,elements:{content:E,trigger:L,title:V,description:R,overlay:D,close:H,portalled:$},states:{open:_},options:n}}const r_={defaultValue:0,max:100},{name:l_}=yr("progress"),s_=t=>{const e={...r_,...t},n=jn(kr(e,"value")),{max:o}=n,i=e.value??We(e.defaultValue),r=Cr(i,e==null?void 0:e.onValueChange);return{elements:{root:ht(l_(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},a_={orientation:"horizontal",decorative:!1},u_=t=>{const e={...a_,...t},n=jn(e),{orientation:o,decorative:i}=n;return{elements:{root:ht("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},f_={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:Si}=yr("slider"),c_=t=>{const e={...f_,...t},n=jn(kr(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??We(e.defaultValue),f=Cr(u,e==null?void 0:e.onValueChange),c=sn(We(!1)),d=sn(We(0)),m=sn(We(null)),p=Gl(["root"]),_=($,V)=>{f.update(R=>{if(!R)return[$];if(R[V]===$)return R;const H=[...R],y=H[V]>$?-1:1;function b(){H[V]=H[V+y],H[V+y]=$;const F=v();F&&(F[V+y].focus(),m.set({thumb:F[V+y],index:V+y}))}if(y===-1&&$<H[V-1])return b(),H;if(y===1&&$>H[V+1])return b(),H;const I=o.get(),N=i.get(),W=r.get();return H[V]=Vr($,I,N,W),H})},v=()=>{const $=qr(p.root);return $?Array.from($.querySelectorAll('[data-melt-part="thumb"]')).filter(V=>Tt(V)):null},k=dn([o,i],([$,V])=>R=>(R-$)/(V-$)*100),w=sn.derived([l,a],([$,V])=>$==="horizontal"?V==="rtl"?"rl":"lr":V==="rtl"?"tb":"bt"),C=ht(Si(),{stores:[s,l,a],returned:([$,V,R])=>({dir:R,disabled:jr($),"data-disabled":jr($),"data-orientation":V,style:$?void 0:`touch-action: ${V==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":p.root})}),L=ht(Si("range"),{stores:[f,w,k],returned:([$,V,R])=>{const H=$.length>1?R(Math.min(...$)??0):0,y=100-R(Math.max(...$)??0),b={position:"absolute"};switch(V){case"lr":{b.left=`${H}%`,b.right=`${y}%`;break}case"rl":{b.right=`${H}%`,b.left=`${y}%`;break}case"bt":{b.bottom=`${H}%`,b.top=`${y}%`;break}case"tb":{b.top=`${H}%`,b.bottom=`${y}%`;break}}return{style:yn(b)}}}),D=Bs(Si("thumb"),{stores:[f,k,o,i,s,l,w],returned:([$,V,R,H,y,b,I])=>Array.from({length:$.length||1},(W,F)=>{d.get()<$.length&&d.update(h=>h+1);const ne=$[F],z=`${V(ne)}%`,U={position:"absolute"};switch(I){case"lr":{U.left=z,U.translate="-50% 0";break}case"rl":{U.right=z,U.translate="50% 0";break}case"bt":{U.bottom=z,U.translate="0 50%";break}case"tb":{U.top=z,U.translate="0 -50%";break}}return{role:"slider","aria-valuemin":R,"aria-valuemax":H,"aria-valuenow":ne,"aria-disabled":jr(y),"aria-orientation":b,"data-melt-part":"thumb","data-value":ne,style:yn(U),tabindex:y?-1:0}}),action:$=>({destroy:At($,"keydown",R=>{if(s.get())return;const H=R.currentTarget;if(!Tt(H))return;const y=v();if(!(y!=null&&y.length))return;const b=y.indexOf(H);if(d.set(b),![at.ARROW_LEFT,at.ARROW_RIGHT,at.ARROW_UP,at.ARROW_DOWN,at.HOME,at.END].includes(R.key))return;R.preventDefault();const I=o.get(),N=i.get(),W=r.get(),F=f.get(),Q=l.get(),ne=w.get(),z=F[b];switch(R.key){case at.HOME:{_(I,b);break}case at.END:{_(N,b);break}case at.ARROW_LEFT:{if(Q!=="horizontal")break;R.metaKey?_(ne==="rl"?N:I,b):ne==="rl"&&z<N?_(z+W,b):ne==="lr"&&z>I&&_(z-W,b);break}case at.ARROW_RIGHT:{if(Q!=="horizontal")break;R.metaKey?_(ne==="rl"?I:N,b):ne==="rl"&&z>I?_(z-W,b):ne==="lr"&&z<N&&_(z+W,b);break}case at.ARROW_UP:{R.metaKey?_(ne==="tb"?I:N,b):ne==="tb"&&z>I?_(z-W,b):ne!=="tb"&&z<N&&_(z+W,b);break}case at.ARROW_DOWN:{R.metaKey?_(ne==="tb"?N:I,b):ne==="tb"&&z<N?_(z+W,b):ne!=="tb"&&z>I&&_(z-W,b);break}}})})}),E=Bs(Si("tick"),{stores:[f,o,i,r,w],returned:([$,V,R,H,y])=>{const b=R-V;let I=Math.ceil(b/H);return b%H==0&&I++,Array.from({length:I},(N,W)=>{const F=`${W*(H/(R-V))*100}%`,Q=W===0,ne=W===I-1,z=Q?0:ne?-100:-50,U={position:"absolute"};switch(y){case"lr":{U.left=F,U.translate=`${z}% 0`;break}case"rl":{U.right=F,U.translate=`${-z}% 0`;break}case"bt":{U.bottom=F,U.translate=`0 ${-z}%`;break}case"tb":{U.top=F,U.translate=`0 ${z}%`;break}}const h=V+W*H;return{"data-bounded":($.length===1?h<=$[0]:$[0]<=h&&h<=$[$.length-1])?!0:void 0,"data-value":h,style:yn(U)}})}});return $t([C,o,i,s,l,w,r],([$,V,R,H,y,b,I])=>{if(!xo||H)return;const N=(U,h,j,Y)=>{const Z=(U-j)/(Y-j)*(R-V)+V;if(Z<V)_(V,h);else if(Z>R)_(R,h);else{const _e=I,ge=V,Te=Math.floor((Z-ge)/_e),Ue=ge+Te*_e+_e/2,Ge=ge+(Te+1)*_e+_e/2,xe=Z>=Ue&&Z<Ge?(Te+1)*_e+ge:Te*_e+ge;xe<=R&&_(xe,h)}},W=U=>{const h=v();if(!h)return;h.forEach(Z=>Z.blur());const j=h.map(Z=>{if(y==="horizontal"){const{left:_e,right:ge}=Z.getBoundingClientRect();return Math.abs(U.clientX-(_e+ge)/2)}else{const{top:_e,bottom:ge}=Z.getBoundingClientRect();return Math.abs(U.clientY-(_e+ge)/2)}}),Y=h[j.indexOf(Math.min(...j))],ee=h.indexOf(Y);return{thumb:Y,index:ee}},F=U=>{if(!c.get())return;U.preventDefault(),U.stopPropagation();const h=qr($["data-melt-id"]),j=m.get();if(!h||!j)return;j.thumb.focus();const{left:Y,right:ee,top:Z,bottom:_e}=h.getBoundingClientRect();switch(b){case"lr":{N(U.clientX,j.index,Y,ee);break}case"rl":{N(U.clientX,j.index,ee,Y);break}case"bt":{N(U.clientY,j.index,_e,Z);break}case"tb":{N(U.clientY,j.index,Z,_e);break}}},Q=U=>{if(U.button!==0)return;const h=qr($["data-melt-id"]),j=W(U);if(!j||!h)return;const Y=U.target;!Tt(Y)||!h.contains(Y)||(U.preventDefault(),m.set(j),j.thumb.focus(),c.set(!0),F(U))},ne=()=>{c.set(!1)},z=Ut(vt(document,"pointerdown",Q),vt(document,"pointerup",ne),vt(document,"pointerleave",ne),vt(document,"pointermove",F));return()=>{z()}}),$t([r,o,i,f],function([V,R,H,y]){const b=N=>Vr(N,R,H,V)===N,I=N=>Vr(N,R,H,V);y.some(N=>!b(N))&&f.update(N=>N.map(I))}),{elements:{root:C,thumbs:D,range:L,ticks:E},states:{value:f},options:n}},d_={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:Wr}=yr("tooltip"),Ti=new Map,m_=["trigger","content"];function p_(t){const e={...d_,...t},n=jn(kr(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,m=e.open??We(e.defaultOpen),p=Cr(m,e==null?void 0:e.onOpenChange),_=We(null),v=jn({...Gl(m_),...e.ids});let k=!1;const w=b=>xo?document.getElementById(v[b].get()):null;let C=null,L=null;function D(b){L&&(window.clearTimeout(L),L=null),C||(C=window.setTimeout(()=>{p.set(!0),_.update(I=>I??b),C=null},l.get()))}function E(b){if(C&&(window.clearTimeout(C),C=null),b&&y){_.set("pointer");return}L||(L=window.setTimeout(()=>{p.set(!1),_.set(null),b&&(k=!1),L=null},a.get()))}const $=dn([p,s],([b,I])=>b||I),V=ht(Wr("trigger"),{stores:[v.content,v.trigger,p],returned:([b,I,N])=>({"aria-describedby":b,id:I,"data-state":N?"open":"closed"}),action:b=>{const I=W=>{f.get()&&W.key===at.ESCAPE&&(C&&(window.clearTimeout(C),C=null),p.set(!1))};return{destroy:Ut(At(b,"pointerdown",()=>{r.get()&&(p.set(!1),k=!0,C&&(window.clearTimeout(C),C=null))}),At(b,"pointerenter",W=>{js(W)||D("pointer")}),At(b,"pointerleave",W=>{js(W)||C&&(window.clearTimeout(C),C=null)}),At(b,"focus",()=>{k||D("focus")}),At(b,"blur",async()=>{await ql(0),E(!0)}),At(b,"keydown",I),vt(document,"keydown",I))}}}),R=ht(Wr("content"),{stores:[$,p,u,v.content],returned:([b,I,N,W])=>({role:"tooltip",hidden:b?void 0:!0,tabindex:-1,style:yn({display:b?void 0:"none"}),id:W,"data-portal":Ac(N),"data-state":I?"open":"closed"}),action:b=>{let I=et,N=et;const W=$t([$,o,u],([ne,z,U])=>{const h=w("trigger");if(!ne||!h){N(),I();return}if(I=Sh(h,b,z).destroy,U===null){N();return}const Y=Ic(b,U);if(Y){const ee=Yc(b,Y);ee&&ee.destroy&&(N=ee.destroy)}});function F(ne){if(!p.get())return;const z=ne.target;if(!wr(z)&&!pp(z))return;const U=w("trigger");U&&z.contains(U)&&E()}const Q=Ut(At(b,"pointerenter",()=>D("pointer")),At(b,"pointerdown",()=>D("pointer")),vt(window,"scroll",F,{capture:!0}));return{destroy(){Q(),N(),I(),W()}}}}),H=ht(Wr("arrow"),{stores:i,returned:b=>({"data-arrow":!0,style:yn({position:"absolute",width:`var(--arrow-size, ${b}px)`,height:`var(--arrow-size, ${b}px)`})})});let y=!1;return $t(p,b=>{const I=d.get();if(I===void 0||I===!1)return;if(!b){Ti.get(I)===p&&Ti.delete(I);return}const N=Ti.get(I);N==null||N.set(!1),Ti.set(I,p)}),$t([p,_],([b,I])=>{if(!(!b||!xo))return Ut(vt(document,"mousemove",N=>{const W=w("content"),F=w("trigger");if(!W||!F)return;const Q=c.get()?[F]:[F,W],ne=Np(Q);y=Ep({x:N.clientX,y:N.clientY},ne),I==="pointer"&&(y||E())}))}),{ids:v,elements:{trigger:V,content:R,arrow:H},states:{open:p},options:n}}function Un(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Kn(){const t=lm();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function Mo(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function Vn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function Xc(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function h_(t){const{NAME:e,PARTS:n}=Xc(),o=Un(e,n),i=Kc({...Mo(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:Vn(i.options)};return gr(e,r),{...r,updateOption:Vn(r.options),getAttrs:o}}function Xn(){const{NAME:t}=Xc();return br(t)}const __=t=>({ids:t&1}),ea=t=>({ids:t[0]});function g_(t){let e;const n=t[12].default,o=de(n,t,t[11],ea);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&pe(o,n,i,i[11],e?me(n,i[11],r,__):he(i[11]),ea)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function b_(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:p=void 0}=e;const{states:{open:_},updateOption:v,ids:k}=h_({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:p,onOpenChange:({next:C})=>(f!==C&&(c==null||c(C),n(2,f=C)),C)}),w=dn([k.content,k.description,k.title],([C,L,D])=>({content:C,description:L,title:D}));return se(t,w,C=>n(0,o=C)),t.$$set=C=>{"preventScroll"in C&&n(3,l=C.preventScroll),"closeOnEscape"in C&&n(4,a=C.closeOnEscape),"closeOnOutsideClick"in C&&n(5,s=C.closeOnOutsideClick),"portal"in C&&n(6,u=C.portal),"open"in C&&n(2,f=C.open),"onOpenChange"in C&&n(7,c=C.onOpenChange),"openFocus"in C&&n(8,d=C.openFocus),"closeFocus"in C&&n(9,m=C.closeFocus),"onOutsideClick"in C&&n(10,p=C.onOutsideClick),"$$scope"in C&&n(11,r=C.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&v("preventScroll",l),t.$$.dirty&16&&v("closeOnEscape",a),t.$$.dirty&32&&v("closeOnOutsideClick",s),t.$$.dirty&64&&v("portal",u),t.$$.dirty&256&&v("openFocus",d),t.$$.dirty&512&&v("closeFocus",m),t.$$.dirty&1024&&v("onOutsideClick",p)},[o,w,f,l,a,s,u,c,d,m,p,r,i]}class v_ extends ve{constructor(e){super(),be(this,e,b_,g_,ue,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const y_=t=>({builder:t&8}),ta=t=>({builder:t[3]}),w_=t=>({builder:t&8}),na=t=>({builder:t[3]});function k_(t){let e=t[1],n,o,i=t[1]&&Yr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1]?e?ue(e,r[1])?(i.d(1),i=Yr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Yr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(A(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function C_(t){let e;const n=t[9].default,o=de(n,t,t[8],na);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&pe(o,n,i,i[8],e?me(n,i[8],r,w_):he(i[8]),na)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Yr(t){let e,n,o,i;const r=t[9].default,l=de(r,t,t[8],ta);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=O(t[1]),l&&l.c(),wn(t[1])(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=je(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&pe(l,r,u,u[8],n?me(r,u[8],f,y_):he(u[8]),ta),wn(u[1])(e,s=we(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function A_(t){let e,n,o,i;const r=[C_,k_],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function S_(t,e,n){let o;const i=["level","asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:p,getAttrs:_}=Xn();se(t,m,w=>n(7,l=w));const v=_("title");function k(w){Ne[w?"unshift":"push"](()=>{d=w,n(0,d)})}return t.$$set=w=>{e=x(x({},e),$e(w)),n(5,r=le(e,i)),"level"in w&&n(1,u=w.level),"asChild"in w&&n(2,f=w.asChild),"id"in w&&n(6,c=w.id),"el"in w&&n(0,d=w.el),"$$scope"in w&&n(8,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&p.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,v)},[d,u,f,o,m,r,c,l,s,a,k]}let T_=class extends ve{constructor(e){super(),be(this,e,S_,A_,ue,{level:1,asChild:2,id:6,el:0})}};const M_=t=>({builder:t&4}),oa=t=>({builder:t[2]}),I_=t=>({builder:t&4}),ia=t=>({builder:t[2]});function O_(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],oa);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=O("button"),l&&l.c(),ae(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,M_):he(u[7]),oa),ae(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,Be(i)}}}function P_(t){let e;const n=t[8].default,o=de(n,t,t[7],ia);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,I_):he(i[7]),ia)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function N_(t){let e,n,o,i;const r=[P_,O_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function E_(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Xn();se(t,c,v=>n(6,l=v));const m=Kn(),p=d("action");function _(v){Ne[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=x(x({},e),$e(v)),n(5,r=le(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,_]}let $_=class extends ve{constructor(e){super(),be(this,e,E_,N_,ue,{asChild:1,el:0})}};const R_=t=>({builder:t&4}),ra=t=>({builder:t[2]}),L_=t=>({builder:t&4}),la=t=>({builder:t[2]});function D_(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],ra);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=O("button"),l&&l.c(),ae(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,R_):he(u[7]),ra),ae(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,Be(i)}}}function F_(t){let e;const n=t[8].default,o=de(n,t,t[7],la);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,L_):he(i[7]),la)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function B_(t){let e,n,o,i;const r=[F_,D_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function j_(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Xn();se(t,c,v=>n(6,l=v));const m=Kn(),p=d("cancel");function _(v){Ne[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=x(x({},e),$e(v)),n(5,r=le(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,_]}let q_=class extends ve{constructor(e){super(),be(this,e,j_,B_,ue,{asChild:1,el:0})}};const G_=t=>({builder:t&4}),sa=t=>({builder:t[2]}),V_=t=>({builder:t&4}),aa=t=>({builder:t[2]});function H_(t){let e,n,o,i;const r=t[7].default,l=de(r,t,t[6],sa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=O("div"),l&&l.c(),ae(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&pe(l,r,u,u[6],n?me(r,u[6],f,G_):he(u[6]),sa),ae(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function W_(t){let e;const n=t[7].default,o=de(n,t,t[6],aa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&pe(o,n,i,i[6],e?me(n,i[6],r,V_):he(i[6]),aa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Y_(t){let e,n,o,i;const r=[W_,H_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function U_(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Xn();se(t,c,_=>n(5,l=_));const m=d("portal");function p(_){Ne[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=x(x({},e),$e(_)),n(4,r=le(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}let K_=class extends ve{constructor(e){super(),be(this,e,U_,Y_,ue,{asChild:1,el:0})}};const X_=t=>({builder:t[0]&256}),ua=t=>({builder:t[8]}),J_=t=>({builder:t[0]&256}),fa=t=>({builder:t[8]}),x_=t=>({builder:t[0]&256}),ca=t=>({builder:t[8]}),Z_=t=>({builder:t[0]&256}),da=t=>({builder:t[8]}),Q_=t=>({builder:t[0]&256}),ma=t=>({builder:t[8]}),z_=t=>({builder:t[0]&256}),pa=t=>({builder:t[8]});function e0(t){let e,n,o,i;const r=t[16].default,l=de(r,t,t[15],ua);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=O("div"),l&&l.c(),ae(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[je(t[8].action(e)),te(e,"pointerdown",t[45]),te(e,"pointermove",t[46]),te(e,"pointerup",t[47]),te(e,"touchend",t[48]),te(e,"touchstart",t[49]),te(e,"touchcancel",t[50]),te(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&pe(l,r,u,u[15],n?me(r,u[15],f,X_):he(u[15]),ua),ae(e,s=we(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,Be(i)}}}function t0(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],fa);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=O("div"),a&&a.c(),ae(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[je(t[8].action(e)),te(e,"pointerdown",t[38]),te(e,"pointermove",t[39]),te(e,"pointerup",t[40]),te(e,"touchend",t[41]),te(e,"touchstart",t[42]),te(e,"touchcancel",t[43]),te(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,J_):he(t[15]),fa),ae(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Qt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,Be(r)}}}function n0(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],ca);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=O("div"),a&&a.c(),ae(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[je(t[8].action(e)),te(e,"pointerdown",t[31]),te(e,"pointermove",t[32]),te(e,"pointerup",t[33]),te(e,"touchend",t[34]),te(e,"touchstart",t[35]),te(e,"touchcancel",t[36]),te(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,x_):he(t[15]),ca),ae(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&(n||it(()=>{n=Zt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,Be(r)}}}function o0(t){let e,n,o,i,r,l;const a=t[16].default,s=de(a,t,t[15],da);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=x(f,u[c]);return{c(){e=O("div"),s&&s.c(),ae(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[je(t[8].action(e)),te(e,"pointerdown",t[24]),te(e,"pointermove",t[25]),te(e,"pointerup",t[26]),te(e,"touchend",t[27]),te(e,"touchstart",t[28]),te(e,"touchcancel",t[29]),te(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&pe(s,a,t,t[15],i?me(a,t[15],d,Z_):he(t[15]),da),ae(e,f=we(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(A(s,c),c&&it(()=>{i&&(o&&o.end(1),n=Zt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Qt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,Be(l)}}}function i0(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],ma);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=O("div"),a&&a.c(),ae(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[je(t[8].action(e)),te(e,"pointerdown",t[17]),te(e,"pointermove",t[18]),te(e,"pointerup",t[19]),te(e,"touchend",t[20]),te(e,"touchstart",t[21]),te(e,"touchcancel",t[22]),te(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,Q_):he(t[15]),ma),ae(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&it(()=>{o&&(n||(n=Xt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Xt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,Be(r)}}}function r0(t){let e;const n=t[16].default,o=de(n,t,t[15],pa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&pe(o,n,i,i[15],e?me(n,i[15],r,z_):he(i[15]),pa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function l0(t){let e,n,o,i;const r=[r0,i0,o0,n0,t0,e0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function s0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{id:v=void 0}=e,{asChild:k=!1}=e,{el:w=void 0}=e;const{elements:{content:C},states:{open:L},ids:D,getAttrs:E}=Xn();se(t,C,G=>n(14,l=G)),se(t,L,G=>n(9,a=G));const $=E("content");function V(G){oe.call(this,t,G)}function R(G){oe.call(this,t,G)}function H(G){oe.call(this,t,G)}function y(G){oe.call(this,t,G)}function b(G){oe.call(this,t,G)}function I(G){oe.call(this,t,G)}function N(G){oe.call(this,t,G)}function W(G){oe.call(this,t,G)}function F(G){oe.call(this,t,G)}function Q(G){oe.call(this,t,G)}function ne(G){oe.call(this,t,G)}function z(G){oe.call(this,t,G)}function U(G){oe.call(this,t,G)}function h(G){oe.call(this,t,G)}function j(G){oe.call(this,t,G)}function Y(G){oe.call(this,t,G)}function ee(G){oe.call(this,t,G)}function Z(G){oe.call(this,t,G)}function _e(G){oe.call(this,t,G)}function ge(G){oe.call(this,t,G)}function Te(G){oe.call(this,t,G)}function Ue(G){oe.call(this,t,G)}function Ge(G){oe.call(this,t,G)}function xe(G){oe.call(this,t,G)}function ce(G){oe.call(this,t,G)}function Ee(G){oe.call(this,t,G)}function Le(G){oe.call(this,t,G)}function Ve(G){oe.call(this,t,G)}function Ke(G){oe.call(this,t,G)}function ke(G){oe.call(this,t,G)}function Se(G){oe.call(this,t,G)}function Et(G){oe.call(this,t,G)}function kt(G){oe.call(this,t,G)}function ft(G){oe.call(this,t,G)}function en(G){oe.call(this,t,G)}function Mt(G){Ne[G?"unshift":"push"](()=>{w=G,n(0,w)})}function ct(G){Ne[G?"unshift":"push"](()=>{w=G,n(0,w)})}function Je(G){Ne[G?"unshift":"push"](()=>{w=G,n(0,w)})}function ye(G){Ne[G?"unshift":"push"](()=>{w=G,n(0,w)})}function Xe(G){Ne[G?"unshift":"push"](()=>{w=G,n(0,w)})}return t.$$set=G=>{e=x(x({},e),$e(G)),n(12,r=le(e,i)),"transition"in G&&n(1,f=G.transition),"transitionConfig"in G&&n(2,c=G.transitionConfig),"inTransition"in G&&n(3,d=G.inTransition),"inTransitionConfig"in G&&n(4,m=G.inTransitionConfig),"outTransition"in G&&n(5,p=G.outTransition),"outTransitionConfig"in G&&n(6,_=G.outTransitionConfig),"id"in G&&n(13,v=G.id),"asChild"in G&&n(7,k=G.asChild),"el"in G&&n(0,w=G.el),"$$scope"in G&&n(15,u=G.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&v&&D.content.set(v),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,$)},[w,f,c,d,m,p,_,k,o,a,C,L,r,v,l,u,s,V,R,H,y,b,I,N,W,F,Q,ne,z,U,h,j,Y,ee,Z,_e,ge,Te,Ue,Ge,xe,ce,Ee,Le,Ve,Ke,ke,Se,Et,kt,ft,en,Mt,ct,Je,ye,Xe]}let a0=class extends ve{constructor(e){super(),be(this,e,s0,l0,ue,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const u0=t=>({builder:t&256}),ha=t=>({builder:t[8]});function f0(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=x(r,i[l]);return{c(){e=O("div"),ae(e,r)},m(l,a){M(l,e,a),t[20](e),n||(o=je(t[8].action(e)),n=!0)},p(l,a){ae(e,r=we(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ce,o:Ce,d(l){l&&T(e),t[20](null),n=!1,o()}}}function c0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=O("div"),ae(e,a)},m(s,u){M(s,e,u),t[19](e),o=!0,i||(r=je(t[8].action(e)),i=!0)},p(s,u){t=s,ae(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Qt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function d0(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=x(l,r[a]);return{c(){e=O("div"),ae(e,l)},m(a,s){M(a,e,s),t[18](e),o||(i=je(t[8].action(e)),o=!0)},p(a,s){t=a,ae(e,l=we(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||it(()=>{n=Zt(e,t[3],t[4]),n.start()}))},o:Ce,d(a){a&&T(e),t[18](null),o=!1,i()}}}function m0(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=O("div"),ae(e,s)},m(u,f){M(u,e,f),t[17](e),i=!0,r||(l=je(t[8].action(e)),r=!0)},p(u,f){t=u,ae(e,s=we(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&it(()=>{i&&(o&&o.end(1),n=Zt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Qt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function p0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=O("div"),ae(e,a)},m(s,u){M(s,e,u),t[16](e),o=!0,i||(r=je(t[8].action(e)),i=!0)},p(s,u){t=s,ae(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&it(()=>{o&&(n||(n=Xt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Xt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function h0(t){let e;const n=t[15].default,o=de(n,t,t[14],ha);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&pe(o,n,i,i[14],e?me(n,i[14],r,u0):he(i[14]),ha)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function _0(t){let e,n,o,i;const r=[h0,p0,m0,d0,c0,f0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function g0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:v=!1}=e,{el:k=void 0}=e;const{elements:{overlay:w},states:{open:C},getAttrs:L}=Xn();se(t,w,y=>n(13,l=y)),se(t,C,y=>n(9,a=y));const D=L("overlay");function E(y){Ne[y?"unshift":"push"](()=>{k=y,n(0,k)})}function $(y){Ne[y?"unshift":"push"](()=>{k=y,n(0,k)})}function V(y){Ne[y?"unshift":"push"](()=>{k=y,n(0,k)})}function R(y){Ne[y?"unshift":"push"](()=>{k=y,n(0,k)})}function H(y){Ne[y?"unshift":"push"](()=>{k=y,n(0,k)})}return t.$$set=y=>{e=x(x({},e),$e(y)),n(12,r=le(e,i)),"transition"in y&&n(1,f=y.transition),"transitionConfig"in y&&n(2,c=y.transitionConfig),"inTransition"in y&&n(3,d=y.inTransition),"inTransitionConfig"in y&&n(4,m=y.inTransitionConfig),"outTransition"in y&&n(5,p=y.outTransition),"outTransitionConfig"in y&&n(6,_=y.outTransitionConfig),"asChild"in y&&n(7,v=y.asChild),"el"in y&&n(0,k=y.el),"$$scope"in y&&n(14,u=y.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,D)},[k,f,c,d,m,p,_,v,o,a,w,C,r,l,u,s,E,$,V,R,H]}let b0=class extends ve{constructor(e){super(),be(this,e,g0,_0,ue,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const v0=t=>({builder:t&4}),_a=t=>({builder:t[2]}),y0=t=>({builder:t&4}),ga=t=>({builder:t[2]});function w0(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],_a);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=O("div"),l&&l.c(),ae(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,v0):he(u[7]),_a),ae(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function k0(t){let e;const n=t[8].default,o=de(n,t,t[7],ga);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,y0):he(i[7]),ga)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function C0(t){let e,n,o,i;const r=[k0,w0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function A0(t,e,n){let o;const i=["asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:p}=Xn();se(t,d,k=>n(6,l=k));const _=p("description");function v(k){Ne[k?"unshift":"push"](()=>{c=k,n(0,c)})}return t.$$set=k=>{e=x(x({},e),$e(k)),n(4,r=le(e,i)),"asChild"in k&&n(1,u=k.asChild),"id"in k&&n(5,f=k.id),"el"in k&&n(0,c=k.el),"$$scope"in k&&n(7,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,v]}let S0=class extends ve{constructor(e){super(),be(this,e,A0,C0,ue,{asChild:1,id:5,el:0})}};function T0(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function ba(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function M0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&Ur(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1],e?ue(e,r[1]?"a":"button")?(i.d(1),i=Ur(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Ur(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(A(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function I0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&Kr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1],e?ue(e,r[1]?"a":"button")?(i.d(1),i=Kr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Kr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(A(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function Ur(t){let e,n,o,i,r;const l=t[7].default,a=de(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=O(t[1]?"a":"button"),a&&a.c(),wn(t[1]?"a":"button")(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),o=!0,i||(r=[te(e,"click",t[14]),te(e,"change",t[15]),te(e,"keydown",t[16]),te(e,"keyup",t[17]),te(e,"mouseenter",t[18]),te(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&pe(a,l,f,f[6],o?me(l,f[6],c,null):he(f[6]),null),wn(f[1]?"a":"button")(e,u=we(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(A(a,f),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),i=!1,Be(r)}}}function Kr(t){let e,n,o,i,r,l;const a=t[7].default,s=de(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},ba(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=x(f,u[c]);return{c(){e=O(t[1]?"a":"button"),s&&s.c(),wn(t[1]?"a":"button")(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[te(e,"click",t[8]),te(e,"change",t[9]),te(e,"keydown",t[10]),te(e,"keyup",t[11]),te(e,"mouseenter",t[12]),te(e,"mouseleave",t[13]),je(o=T0.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&pe(s,a,c,c[6],i?me(a,c[6],d,null):he(c[6]),null),wn(c[1]?"a":"button")(e,f=we(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&ba(c[3]),d&32&&c[5],c[4]])),o&&cn(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(A(s,c),i=!0)},o(c){S(s,c),i=!1},d(c){c&&T(e),s&&s.d(c),t[20](null),r=!1,Be(l)}}}function O0(t){let e,n,o,i;const r=[I0,M0],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function P0(t,e,n){const o=["href","type","builders","el"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(R){oe.call(this,t,R)}function m(R){oe.call(this,t,R)}function p(R){oe.call(this,t,R)}function _(R){oe.call(this,t,R)}function v(R){oe.call(this,t,R)}function k(R){oe.call(this,t,R)}function w(R){oe.call(this,t,R)}function C(R){oe.call(this,t,R)}function L(R){oe.call(this,t,R)}function D(R){oe.call(this,t,R)}function E(R){oe.call(this,t,R)}function $(R){oe.call(this,t,R)}function V(R){Ne[R?"unshift":"push"](()=>{f=R,n(0,f)})}return t.$$set=R=>{e=x(x({},e),$e(R)),n(5,i=le(e,o)),"href"in R&&n(1,a=R.href),"type"in R&&n(2,s=R.type),"builders"in R&&n(3,u=R.builders),"el"in R&&n(0,f=R.el),"$$scope"in R&&n(6,l=R.$$scope)},[f,a,s,u,c,i,l,r,d,m,p,_,v,k,w,C,L,D,E,$,V]}let N0=class extends ve{constructor(e){super(),be(this,e,P0,O0,ue,{href:1,type:2,builders:3,el:0})}};function E0(t){return(e={})=>$0(t,e)}function $0(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:R0(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function R0(t,e){return e==="center"?t:`${t}-${e}`}function L0(){return{NAME:"separator",PARTS:["root"]}}function D0(t){const{NAME:e,PARTS:n}=L0(),o=Un(e,n),i={...u_(Mo(t)),getAttrs:o};return{...i,updateOption:Vn(i.options)}}const F0=t=>({builder:t&4}),va=t=>({builder:t[2]});function B0(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=x(r,i[l]);return{c(){e=O("div"),ae(e,r)},m(l,a){M(l,e,a),t[10](e),n||(o=je(t[2].action(e)),n=!0)},p(l,a){ae(e,r=we(i,[a&4&&l[2],a&16&&l[4]]))},i:Ce,o:Ce,d(l){l&&T(e),t[10](null),n=!1,o()}}}function j0(t){let e;const n=t[9].default,o=de(n,t,t[8],va);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&pe(o,n,i,i[8],e?me(n,i[8],r,F0):he(i[8]),va)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function q0(t){let e,n,o,i;const r=[j0,B0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function G0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:m},updateOption:p,getAttrs:_}=D0({orientation:u,decorative:f});se(t,m,w=>n(7,l=w));const v=_("root");function k(w){Ne[w?"unshift":"push"](()=>{d=w,n(0,d)})}return t.$$set=w=>{e=x(x({},e),$e(w)),n(4,r=le(e,i)),"orientation"in w&&n(5,u=w.orientation),"decorative"in w&&n(6,f=w.decorative),"asChild"in w&&n(1,c=w.asChild),"el"in w&&n(0,d=w.el),"$$scope"in w&&n(8,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&p("orientation",u),t.$$.dirty&64&&p("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,v)},[d,c,o,m,r,u,f,l,s,a,k]}let V0=class extends ve{constructor(e){super(),be(this,e,G0,q0,ue,{orientation:5,decorative:6,asChild:1,el:0})}};function Jc(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function H0(t){const{NAME:e,PARTS:n}=Jc(),o=Un(e,n),i={...Kc({...Mo(t),role:"dialog",forceVisible:!0}),getAttrs:o};return gr(e,i),{...i,updateOption:Vn(i.options)}}function Io(){const{NAME:t}=Jc();return br(t)}const W0=t=>({ids:t&1}),ya=t=>({ids:t[0]});function Y0(t){let e;const n=t[12].default,o=de(n,t,t[11],ya);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&pe(o,n,i,i[11],e?me(n,i[11],r,W0):he(i[11]),ya)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function U0(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:p=void 0}=e;const{states:{open:_},updateOption:v,ids:k}=H0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:p,onOpenChange:({next:C})=>(f!==C&&(c==null||c(C),n(2,f=C)),C)}),w=dn([k.content,k.description,k.title],([C,L,D])=>({content:C,description:L,title:D}));return se(t,w,C=>n(0,o=C)),t.$$set=C=>{"preventScroll"in C&&n(3,l=C.preventScroll),"closeOnEscape"in C&&n(4,a=C.closeOnEscape),"closeOnOutsideClick"in C&&n(5,s=C.closeOnOutsideClick),"portal"in C&&n(6,u=C.portal),"open"in C&&n(2,f=C.open),"onOpenChange"in C&&n(7,c=C.onOpenChange),"openFocus"in C&&n(8,d=C.openFocus),"closeFocus"in C&&n(9,m=C.closeFocus),"onOutsideClick"in C&&n(10,p=C.onOutsideClick),"$$scope"in C&&n(11,r=C.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&v("preventScroll",l),t.$$.dirty&16&&v("closeOnEscape",a),t.$$.dirty&32&&v("closeOnOutsideClick",s),t.$$.dirty&64&&v("portal",u),t.$$.dirty&256&&v("openFocus",d),t.$$.dirty&512&&v("closeFocus",m),t.$$.dirty&1024&&v("onOutsideClick",p)},[o,w,f,l,a,s,u,c,d,m,p,r,i]}class K0 extends ve{constructor(e){super(),be(this,e,U0,Y0,ue,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const X0=t=>({builder:t&8}),wa=t=>({builder:t[3]}),J0=t=>({builder:t&8}),ka=t=>({builder:t[3]});function x0(t){let e=t[1],n,o,i=t[1]&&Xr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1]?e?ue(e,r[1])?(i.d(1),i=Xr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Xr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(A(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function Z0(t){let e;const n=t[9].default,o=de(n,t,t[8],ka);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&pe(o,n,i,i[8],e?me(n,i[8],r,J0):he(i[8]),ka)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Xr(t){let e,n,o,i;const r=t[9].default,l=de(r,t,t[8],wa);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=O(t[1]),l&&l.c(),wn(t[1])(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=je(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&pe(l,r,u,u[8],n?me(r,u[8],f,X0):he(u[8]),wa),wn(u[1])(e,s=we(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function Q0(t){let e,n,o,i;const r=[Z0,x0],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function z0(t,e,n){let o;const i=["level","asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:p,getAttrs:_}=Io();se(t,m,w=>n(7,l=w));const v=_("title");function k(w){Ne[w?"unshift":"push"](()=>{d=w,n(0,d)})}return t.$$set=w=>{e=x(x({},e),$e(w)),n(5,r=le(e,i)),"level"in w&&n(1,u=w.level),"asChild"in w&&n(2,f=w.asChild),"id"in w&&n(6,c=w.id),"el"in w&&n(0,d=w.el),"$$scope"in w&&n(8,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&p.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,v)},[d,u,f,o,m,r,c,l,s,a,k]}let eg=class extends ve{constructor(e){super(),be(this,e,z0,Q0,ue,{level:1,asChild:2,id:6,el:0})}};const tg=t=>({builder:t&4}),Ca=t=>({builder:t[2]}),ng=t=>({builder:t&4}),Aa=t=>({builder:t[2]});function og(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],Ca);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=O("button"),l&&l.c(),ae(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,tg):he(u[7]),Ca),ae(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,Be(i)}}}function ig(t){let e;const n=t[8].default,o=de(n,t,t[7],Aa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,ng):he(i[7]),Aa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function rg(t){let e,n,o,i;const r=[ig,og],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function lg(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Io();se(t,c,v=>n(6,l=v));const m=Kn(),p=d("close");function _(v){Ne[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=x(x({},e),$e(v)),n(5,r=le(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,_]}class sg extends ve{constructor(e){super(),be(this,e,lg,rg,ue,{asChild:1,el:0})}}const ag=t=>({builder:t&4}),Sa=t=>({builder:t[2]}),ug=t=>({builder:t&4}),Ta=t=>({builder:t[2]});function fg(t){let e,n,o,i;const r=t[7].default,l=de(r,t,t[6],Sa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=O("div"),l&&l.c(),ae(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&pe(l,r,u,u[6],n?me(r,u[6],f,ag):he(u[6]),Sa),ae(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function cg(t){let e;const n=t[7].default,o=de(n,t,t[6],Ta);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&pe(o,n,i,i[6],e?me(n,i[6],r,ug):he(i[6]),Ta)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function dg(t){let e,n,o,i;const r=[cg,fg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function mg(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Io();se(t,c,_=>n(5,l=_));const m=d("portal");function p(_){Ne[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=x(x({},e),$e(_)),n(4,r=le(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}let pg=class extends ve{constructor(e){super(),be(this,e,mg,dg,ue,{asChild:1,el:0})}};const hg=t=>({builder:t[0]&256}),Ma=t=>({builder:t[8]}),_g=t=>({builder:t[0]&256}),Ia=t=>({builder:t[8]}),gg=t=>({builder:t[0]&256}),Oa=t=>({builder:t[8]}),bg=t=>({builder:t[0]&256}),Pa=t=>({builder:t[8]}),vg=t=>({builder:t[0]&256}),Na=t=>({builder:t[8]}),yg=t=>({builder:t[0]&256}),Ea=t=>({builder:t[8]});function wg(t){let e,n,o,i;const r=t[16].default,l=de(r,t,t[15],Ma);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=O("div"),l&&l.c(),ae(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[je(t[8].action(e)),te(e,"pointerdown",t[45]),te(e,"pointermove",t[46]),te(e,"pointerup",t[47]),te(e,"touchend",t[48]),te(e,"touchstart",t[49]),te(e,"touchcancel",t[50]),te(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&pe(l,r,u,u[15],n?me(r,u[15],f,hg):he(u[15]),Ma),ae(e,s=we(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,Be(i)}}}function kg(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],Ia);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=O("div"),a&&a.c(),ae(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[je(t[8].action(e)),te(e,"pointerdown",t[38]),te(e,"pointermove",t[39]),te(e,"pointerup",t[40]),te(e,"touchend",t[41]),te(e,"touchstart",t[42]),te(e,"touchcancel",t[43]),te(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,_g):he(t[15]),Ia),ae(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Qt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,Be(r)}}}function Cg(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],Oa);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=O("div"),a&&a.c(),ae(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[je(t[8].action(e)),te(e,"pointerdown",t[31]),te(e,"pointermove",t[32]),te(e,"pointerup",t[33]),te(e,"touchend",t[34]),te(e,"touchstart",t[35]),te(e,"touchcancel",t[36]),te(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,gg):he(t[15]),Oa),ae(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&(n||it(()=>{n=Zt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,Be(r)}}}function Ag(t){let e,n,o,i,r,l;const a=t[16].default,s=de(a,t,t[15],Pa);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=x(f,u[c]);return{c(){e=O("div"),s&&s.c(),ae(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[je(t[8].action(e)),te(e,"pointerdown",t[24]),te(e,"pointermove",t[25]),te(e,"pointerup",t[26]),te(e,"touchend",t[27]),te(e,"touchstart",t[28]),te(e,"touchcancel",t[29]),te(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&pe(s,a,t,t[15],i?me(a,t[15],d,bg):he(t[15]),Pa),ae(e,f=we(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(A(s,c),c&&it(()=>{i&&(o&&o.end(1),n=Zt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Qt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,Be(l)}}}function Sg(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],Na);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=O("div"),a&&a.c(),ae(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[je(t[8].action(e)),te(e,"pointerdown",t[17]),te(e,"pointermove",t[18]),te(e,"pointerup",t[19]),te(e,"touchend",t[20]),te(e,"touchstart",t[21]),te(e,"touchcancel",t[22]),te(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,vg):he(t[15]),Na),ae(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&it(()=>{o&&(n||(n=Xt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Xt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,Be(r)}}}function Tg(t){let e;const n=t[16].default,o=de(n,t,t[15],Ea);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&pe(o,n,i,i[15],e?me(n,i[15],r,yg):he(i[15]),Ea)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Mg(t){let e,n,o,i;const r=[Tg,Sg,Ag,Cg,kg,wg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function Ig(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:v=!1}=e,{id:k=void 0}=e,{el:w=void 0}=e;const{elements:{content:C},states:{open:L},ids:D,getAttrs:E}=Io();se(t,C,G=>n(14,l=G)),se(t,L,G=>n(9,a=G));const $=E("content");function V(G){oe.call(this,t,G)}function R(G){oe.call(this,t,G)}function H(G){oe.call(this,t,G)}function y(G){oe.call(this,t,G)}function b(G){oe.call(this,t,G)}function I(G){oe.call(this,t,G)}function N(G){oe.call(this,t,G)}function W(G){oe.call(this,t,G)}function F(G){oe.call(this,t,G)}function Q(G){oe.call(this,t,G)}function ne(G){oe.call(this,t,G)}function z(G){oe.call(this,t,G)}function U(G){oe.call(this,t,G)}function h(G){oe.call(this,t,G)}function j(G){oe.call(this,t,G)}function Y(G){oe.call(this,t,G)}function ee(G){oe.call(this,t,G)}function Z(G){oe.call(this,t,G)}function _e(G){oe.call(this,t,G)}function ge(G){oe.call(this,t,G)}function Te(G){oe.call(this,t,G)}function Ue(G){oe.call(this,t,G)}function Ge(G){oe.call(this,t,G)}function xe(G){oe.call(this,t,G)}function ce(G){oe.call(this,t,G)}function Ee(G){oe.call(this,t,G)}function Le(G){oe.call(this,t,G)}function Ve(G){oe.call(this,t,G)}function Ke(G){oe.call(this,t,G)}function ke(G){oe.call(this,t,G)}function Se(G){oe.call(this,t,G)}function Et(G){oe.call(this,t,G)}function kt(G){oe.call(this,t,G)}function ft(G){oe.call(this,t,G)}function en(G){oe.call(this,t,G)}function Mt(G){Ne[G?"unshift":"push"](()=>{w=G,n(0,w)})}function ct(G){Ne[G?"unshift":"push"](()=>{w=G,n(0,w)})}function Je(G){Ne[G?"unshift":"push"](()=>{w=G,n(0,w)})}function ye(G){Ne[G?"unshift":"push"](()=>{w=G,n(0,w)})}function Xe(G){Ne[G?"unshift":"push"](()=>{w=G,n(0,w)})}return t.$$set=G=>{e=x(x({},e),$e(G)),n(12,r=le(e,i)),"transition"in G&&n(1,f=G.transition),"transitionConfig"in G&&n(2,c=G.transitionConfig),"inTransition"in G&&n(3,d=G.inTransition),"inTransitionConfig"in G&&n(4,m=G.inTransitionConfig),"outTransition"in G&&n(5,p=G.outTransition),"outTransitionConfig"in G&&n(6,_=G.outTransitionConfig),"asChild"in G&&n(7,v=G.asChild),"id"in G&&n(13,k=G.id),"el"in G&&n(0,w=G.el),"$$scope"in G&&n(15,u=G.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&k&&D.content.set(k),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,$)},[w,f,c,d,m,p,_,v,o,a,C,L,r,k,l,u,s,V,R,H,y,b,I,N,W,F,Q,ne,z,U,h,j,Y,ee,Z,_e,ge,Te,Ue,Ge,xe,ce,Ee,Le,Ve,Ke,ke,Se,Et,kt,ft,en,Mt,ct,Je,ye,Xe]}let Og=class extends ve{constructor(e){super(),be(this,e,Ig,Mg,ue,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const Pg=t=>({builder:t&256}),$a=t=>({builder:t[8]});function Ng(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=x(r,i[l]);return{c(){e=O("div"),ae(e,r)},m(l,a){M(l,e,a),t[25](e),n||(o=[je(t[8].action(e)),te(e,"mouseup",t[20])],n=!0)},p(l,a){ae(e,r=we(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ce,o:Ce,d(l){l&&T(e),t[25](null),n=!1,Be(o)}}}function Eg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=O("div"),ae(e,a)},m(s,u){M(s,e,u),t[24](e),o=!0,i||(r=[je(t[8].action(e)),te(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,ae(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Qt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[24](null),s&&n&&n.end(),i=!1,Be(r)}}}function $g(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=x(l,r[a]);return{c(){e=O("div"),ae(e,l)},m(a,s){M(a,e,s),t[23](e),o||(i=[je(t[8].action(e)),te(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,ae(e,l=we(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||it(()=>{n=Zt(e,t[3],t[4]),n.start()}))},o:Ce,d(a){a&&T(e),t[23](null),o=!1,Be(i)}}}function Rg(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=O("div"),ae(e,s)},m(u,f){M(u,e,f),t[22](e),i=!0,r||(l=[je(t[8].action(e)),te(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,ae(e,s=we(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&it(()=>{i&&(o&&o.end(1),n=Zt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Qt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[22](null),u&&o&&o.end(),r=!1,Be(l)}}}function Lg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=O("div"),ae(e,a)},m(s,u){M(s,e,u),t[21](e),o=!0,i||(r=[te(e,"mouseup",t[16]),je(t[8].action(e))],i=!0)},p(s,u){t=s,ae(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&it(()=>{o&&(n||(n=Xt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Xt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[21](null),s&&n&&n.end(),i=!1,Be(r)}}}function Dg(t){let e;const n=t[15].default,o=de(n,t,t[14],$a);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&pe(o,n,i,i[14],e?me(n,i[14],r,Pg):he(i[14]),$a)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Fg(t){let e,n,o,i;const r=[Dg,Lg,Rg,$g,Eg,Ng],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function Bg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:v=!1}=e,{el:k=void 0}=e;const{elements:{overlay:w},states:{open:C},getAttrs:L}=Io();se(t,w,F=>n(13,l=F)),se(t,C,F=>n(9,a=F));const D=L("overlay");function E(F){oe.call(this,t,F)}function $(F){oe.call(this,t,F)}function V(F){oe.call(this,t,F)}function R(F){oe.call(this,t,F)}function H(F){oe.call(this,t,F)}function y(F){Ne[F?"unshift":"push"](()=>{k=F,n(0,k)})}function b(F){Ne[F?"unshift":"push"](()=>{k=F,n(0,k)})}function I(F){Ne[F?"unshift":"push"](()=>{k=F,n(0,k)})}function N(F){Ne[F?"unshift":"push"](()=>{k=F,n(0,k)})}function W(F){Ne[F?"unshift":"push"](()=>{k=F,n(0,k)})}return t.$$set=F=>{e=x(x({},e),$e(F)),n(12,r=le(e,i)),"transition"in F&&n(1,f=F.transition),"transitionConfig"in F&&n(2,c=F.transitionConfig),"inTransition"in F&&n(3,d=F.inTransition),"inTransitionConfig"in F&&n(4,m=F.inTransitionConfig),"outTransition"in F&&n(5,p=F.outTransition),"outTransitionConfig"in F&&n(6,_=F.outTransitionConfig),"asChild"in F&&n(7,v=F.asChild),"el"in F&&n(0,k=F.el),"$$scope"in F&&n(14,u=F.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,D)},[k,f,c,d,m,p,_,v,o,a,w,C,r,l,u,s,E,$,V,R,H,y,b,I,N,W]}let jg=class extends ve{constructor(e){super(),be(this,e,Bg,Fg,ue,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const qg=t=>({builder:t&4}),Ra=t=>({builder:t[2]}),Gg=t=>({builder:t&4}),La=t=>({builder:t[2]});function Vg(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],Ra);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=O("div"),l&&l.c(),ae(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,qg):he(u[7]),Ra),ae(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function Hg(t){let e;const n=t[8].default,o=de(n,t,t[7],La);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,Gg):he(i[7]),La)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Wg(t){let e,n,o,i;const r=[Hg,Vg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Yg(t,e,n){let o;const i=["asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:p}=Io();se(t,d,k=>n(6,l=k));const _=p("description");function v(k){Ne[k?"unshift":"push"](()=>{c=k,n(0,c)})}return t.$$set=k=>{e=x(x({},e),$e(k)),n(4,r=le(e,i)),"asChild"in k&&n(1,u=k.asChild),"id"in k&&n(5,f=k.id),"el"in k&&n(0,c=k.el),"$$scope"in k&&n(7,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,v]}let Ug=class extends ve{constructor(e){super(),be(this,e,Yg,Wg,ue,{asChild:1,id:5,el:0})}};function Kg(){const t="label",n=Un(t,["root"]);return{NAME:t,getAttrs:n}}const Xg=t=>({builder:t&4}),Da=t=>({builder:t[2]}),Jg=t=>({builder:t&4}),Fa=t=>({builder:t[2]});function xg(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],Da);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=O("label"),l&&l.c(),ae(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[je(t[2].action(e)),te(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,Xg):he(u[7]),Da),ae(e,s=we(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,Be(i)}}}function Zg(t){let e;const n=t[8].default,o=de(n,t,t[7],Fa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,Jg):he(i[7]),Fa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Qg(t){let e,n,o,i;const r=[Zg,xg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function zg(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=n_();se(t,c,v=>n(6,l=v));const d=Kn(),{getAttrs:m}=Kg(),p=m("root");function _(v){Ne[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=x(x({},e),$e(v)),n(5,r=le(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,d,r,l,s,a,_]}let e1=class extends ve{constructor(e){super(),be(this,e,zg,Qg,ue,{asChild:1,el:0})}};function t1(){return{NAME:"progress",PARTS:["root"]}}function n1(t){const{NAME:e,PARTS:n}=t1(),o=Un(e,n),i={...s_(Mo(t)),getAttrs:o};return{...i,updateOption:Vn(i.options)}}const o1=t=>({builder:t&4}),Ba=t=>({builder:t[2]}),i1=t=>({builder:t&4}),ja=t=>({builder:t[2]});function r1(t){let e,n,o,i;const r=t[10].default,l=de(r,t,t[9],Ba);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=O("div"),l&&l.c(),ae(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&pe(l,r,u,u[9],n?me(r,u[9],f,o1):he(u[9]),Ba),ae(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[11](null),o=!1,i()}}}function l1(t){let e;const n=t[10].default,o=de(n,t,t[9],ja);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&pe(o,n,i,i[9],e?me(n,i[9],r,i1):he(i[9]),ja)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function s1(t){let e,n,o,i;const r=[l1,r1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function a1(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:m=void 0}=e;const{elements:{root:p},states:{value:_},updateOption:v,getAttrs:k}=n1({max:u,defaultValue:f,onValueChange:({next:L})=>(c==null||c(L),n(5,f=L),L)});se(t,p,L=>n(8,l=L));const w=k("root");function C(L){Ne[L?"unshift":"push"](()=>{m=L,n(0,m)})}return t.$$set=L=>{e=x(x({},e),$e(L)),n(4,r=le(e,i)),"max"in L&&n(6,u=L.max),"value"in L&&n(5,f=L.value),"onValueChange"in L&&n(7,c=L.onValueChange),"asChild"in L&&n(1,d=L.asChild),"el"in L&&n(0,m=L.el),"$$scope"in L&&n(9,s=L.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&_.set(f),t.$$.dirty&64&&v("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,w)},[m,d,o,p,r,f,u,c,l,s,a,C]}let u1=class extends ve{constructor(e){super(),be(this,e,a1,s1,ue,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function xc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function f1(t){const{NAME:e,PARTS:n}=xc(),o=Un(e,n),i={...c_(Mo(t)),getAttrs:o};return gr(e,i),{...i,updateOption:Vn(i.options)}}function Zc(){const{NAME:t}=xc();return br(t)}const c1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),qa=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),d1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Ga=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function m1(t){let e,n,o,i;const r=t[18].default,l=de(r,t,t[17],qa);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=O("span"),l&&l.c(),ae(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&pe(l,r,u,u[17],n?me(r,u[17],f,c1):he(u[17]),qa),ae(e,s=we(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[19](null),o=!1,i()}}}function p1(t){let e;const n=t[18].default,o=de(n,t,t[17],Ga);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&pe(o,n,i,i[17],e?me(n,i[17],r,d1):he(i[17]),Ga)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function h1(t){let e,n,o,i;const r=[p1,m1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function _1(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=le(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:m=void 0}=e,{step:p=void 0}=e,{orientation:_=void 0}=e,{value:v=void 0}=e,{onValueChange:k=void 0}=e,{asChild:w=!1}=e,{el:C=void 0}=e;const{elements:{root:L,ticks:D,thumbs:E},states:{value:$},updateOption:V,getAttrs:R}=f1({disabled:c,min:d,max:m,step:p,orientation:_,defaultValue:v,onValueChange:({next:b})=>(v!==b&&(k==null||k(b),n(9,v=b)),b)});se(t,L,b=>n(16,l=b)),se(t,D,b=>n(3,a=b)),se(t,E,b=>n(4,s=b));const H=R("root");function y(b){Ne[b?"unshift":"push"](()=>{C=b,n(0,C)})}return t.$$set=b=>{e=x(x({},e),$e(b)),n(8,r=le(e,i)),"disabled"in b&&n(10,c=b.disabled),"min"in b&&n(11,d=b.min),"max"in b&&n(12,m=b.max),"step"in b&&n(13,p=b.step),"orientation"in b&&n(14,_=b.orientation),"value"in b&&n(9,v=b.value),"onValueChange"in b&&n(15,k=b.onValueChange),"asChild"in b&&n(1,w=b.asChild),"el"in b&&n(0,C=b.el),"$$scope"in b&&n(17,f=b.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&v!==void 0&&$.set(v),t.$$.dirty&1024&&V("disabled",c),t.$$.dirty&2048&&V("min",d),t.$$.dirty&4096&&V("max",m),t.$$.dirty&8192&&V("step",p),t.$$.dirty&16384&&V("orientation",_),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,H)},[C,w,o,a,s,L,D,E,r,v,c,d,m,p,_,k,l,f,u,y]}let g1=class extends ve{constructor(e){super(),be(this,e,_1,h1,ue,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const b1=t=>({builder:t&4}),Va=t=>({builder:t[2]});function v1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=x(r,i[l]);return{c(){e=O("span"),ae(e,r)},m(l,a){M(l,e,a),t[8](e),n||(o=je(t[2].action(e)),n=!0)},p(l,a){ae(e,r=we(i,[a&4&&l[2],a&16&&l[4]]))},i:Ce,o:Ce,d(l){l&&T(e),t[8](null),n=!1,o()}}}function y1(t){let e;const n=t[7].default,o=de(n,t,t[6],Va);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&pe(o,n,i,i[6],e?me(n,i[6],r,b1):he(i[6]),Va)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function w1(t){let e,n,o,i;const r=[y1,v1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function k1(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=Zc();se(t,c,_=>n(5,l=_));const m=d("range");function p(_){Ne[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=x(x({},e),$e(_)),n(4,r=le(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}class C1 extends ve{constructor(e){super(),be(this,e,k1,w1,ue,{asChild:1,el:0})}}const A1=t=>({builder:t&4}),Ha=t=>({builder:t[2]});function S1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=x(r,i[l]);return{c(){e=O("span"),ae(e,r)},m(l,a){M(l,e,a),t[8](e),n||(o=[je(t[2].action(e)),te(e,"m-keydown",t[3])],n=!0)},p(l,a){ae(e,r=we(i,[a&4&&l[2],a&16&&l[4]]))},i:Ce,o:Ce,d(l){l&&T(e),t[8](null),n=!1,Be(o)}}}function T1(t){let e;const n=t[7].default,o=de(n,t,t[6],Ha);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&pe(o,n,i,i[6],e?me(n,i[6],r,A1):he(i[6]),Ha)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function M1(t){let e,n,o,i;const r=[T1,S1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function I1(t,e,n){let o;const i=["asChild","el","thumb"];let r=le(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=Zc(),d=Kn(),m=c("thumb");function p(_){Ne[_?"unshift":"push"](()=>{u=_,n(0,u)})}return t.$$set=_=>{e=x(x({},e),$e(_)),n(4,r=le(e,i)),"asChild"in _&&n(1,s=_.asChild),"el"in _&&n(0,u=_.el),"thumb"in _&&n(5,f=_.thumb),"$$scope"in _&&n(6,a=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,m)},[u,s,o,d,r,f,a,l,p]}class O1 extends ve{constructor(e){super(),be(this,e,I1,M1,ue,{asChild:1,el:0,thumb:5})}}function Qc(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function P1(t){const{NAME:e,PARTS:n}=Qc(),o=Un(e,n),i={...p_({positioning:{placement:"top",gutter:0},openDelay:700,...Mo(t),forceVisible:!0}),getAttrs:o};return gr(e,i),{...i,updateOption:Vn(i.options)}}function Xl(){const{NAME:t}=Qc();return br(t)}function N1(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=Xl();E0(o)({...n})}const E1=t=>({ids:t&1}),Wa=t=>({ids:t[0]});function $1(t){let e;const n=t[12].default,o=de(n,t,t[11],Wa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&pe(o,n,i,i[11],e?me(n,i[11],r,E1):he(i[11]),Wa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function R1(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:m=void 0}=e,{group:p=void 0}=e;const{states:{open:_},updateOption:v,ids:k}=P1({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:m,group:p,onOpenChange:({next:C})=>(c!==C&&(d==null||d(C),n(2,c=C)),C),positioning:{gutter:0,offset:{mainAxis:1}}}),w=dn([k.content,k.trigger],([C,L])=>({content:C,trigger:L}));return se(t,w,C=>n(0,o=C)),t.$$set=C=>{"closeOnEscape"in C&&n(3,l=C.closeOnEscape),"portal"in C&&n(4,a=C.portal),"closeOnPointerDown"in C&&n(5,s=C.closeOnPointerDown),"openDelay"in C&&n(6,u=C.openDelay),"closeDelay"in C&&n(7,f=C.closeDelay),"open"in C&&n(2,c=C.open),"onOpenChange"in C&&n(8,d=C.onOpenChange),"disableHoverableContent"in C&&n(9,m=C.disableHoverableContent),"group"in C&&n(10,p=C.group),"$$scope"in C&&n(11,r=C.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&_.set(c),t.$$.dirty&8&&v("closeOnEscape",l),t.$$.dirty&16&&v("portal",a),t.$$.dirty&32&&v("closeOnPointerDown",s),t.$$.dirty&64&&v("openDelay",u),t.$$.dirty&128&&v("closeDelay",f),t.$$.dirty&1024&&v("group",p),t.$$.dirty&512&&v("disableHoverableContent",m)},[o,w,c,l,a,s,u,f,d,m,p,r,i]}class L1 extends ve{constructor(e){super(),be(this,e,R1,$1,ue,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const D1=t=>({builder:t[0]&256}),Ya=t=>({builder:t[8]}),F1=t=>({builder:t[0]&256}),Ua=t=>({builder:t[8]}),B1=t=>({builder:t[0]&256}),Ka=t=>({builder:t[8]}),j1=t=>({builder:t[0]&256}),Xa=t=>({builder:t[8]}),q1=t=>({builder:t[0]&256}),Ja=t=>({builder:t[8]}),G1=t=>({builder:t[0]&256}),xa=t=>({builder:t[8]});function V1(t){let e,n,o,i;const r=t[28].default,l=de(r,t,t[27],Ya);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=O("div"),l&&l.c(),ae(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[je(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&pe(l,r,u,u[27],n?me(r,u[27],f,D1):he(u[27]),Ya),ae(e,s=we(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[33](null),o=!1,Be(i)}}}function H1(t){let e,n,o,i,r;const l=t[28].default,a=de(l,t,t[27],Ua);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=O("div"),a&&a.c(),ae(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[je(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&pe(a,l,t,t[27],o?me(l,t[27],c,F1):he(t[27]),Ua),ae(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Qt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,Be(r)}}}function W1(t){let e,n,o,i,r;const l=t[28].default,a=de(l,t,t[27],Ka);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=O("div"),a&&a.c(),ae(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[je(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&pe(a,l,t,t[27],o?me(l,t[27],c,B1):he(t[27]),Ka),ae(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),f&&(n||it(()=>{n=Zt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[31](null),i=!1,Be(r)}}}function Y1(t){let e,n,o,i,r,l;const a=t[28].default,s=de(a,t,t[27],Xa);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=x(f,u[c]);return{c(){e=O("div"),s&&s.c(),ae(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[je(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&pe(s,a,t,t[27],i?me(a,t[27],d,j1):he(t[27]),Xa),ae(e,f=we(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(A(s,c),c&&it(()=>{i&&(o&&o.end(1),n=Zt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Qt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,Be(l)}}}function U1(t){let e,n,o,i,r;const l=t[28].default,a=de(l,t,t[27],Ja);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=O("div"),a&&a.c(),ae(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[je(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&pe(a,l,t,t[27],o?me(l,t[27],c,q1):he(t[27]),Ja),ae(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),f&&it(()=>{o&&(n||(n=Xt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Xt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,Be(r)}}}function K1(t){let e;const n=t[28].default,o=de(n,t,t[27],xa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&pe(o,n,i,i[27],e?me(n,i[27],r,G1):he(i[27]),xa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function X1(t){let e,n,o,i;const r=[K1,U1,Y1,W1,H1,V1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function J1(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:v=!1}=e,{id:k=void 0}=e,{side:w="top"}=e,{align:C="center"}=e,{sideOffset:L=0}=e,{alignOffset:D=0}=e,{collisionPadding:E=8}=e,{avoidCollisions:$=!0}=e,{collisionBoundary:V=void 0}=e,{sameWidth:R=!1}=e,{fitViewport:H=!1}=e,{strategy:y="absolute"}=e,{overlap:b=!1}=e,{el:I=void 0}=e;const{elements:{content:N},states:{open:W},ids:F,getAttrs:Q}=Xl();se(t,N,Z=>n(26,a=Z)),se(t,W,Z=>n(9,l=Z));const ne=Kn(),z=Q("content");function U(Z){Ne[Z?"unshift":"push"](()=>{I=Z,n(0,I)})}function h(Z){Ne[Z?"unshift":"push"](()=>{I=Z,n(0,I)})}function j(Z){Ne[Z?"unshift":"push"](()=>{I=Z,n(0,I)})}function Y(Z){Ne[Z?"unshift":"push"](()=>{I=Z,n(0,I)})}function ee(Z){Ne[Z?"unshift":"push"](()=>{I=Z,n(0,I)})}return t.$$set=Z=>{e=x(x({},e),$e(Z)),n(13,r=le(e,i)),"transition"in Z&&n(1,f=Z.transition),"transitionConfig"in Z&&n(2,c=Z.transitionConfig),"inTransition"in Z&&n(3,d=Z.inTransition),"inTransitionConfig"in Z&&n(4,m=Z.inTransitionConfig),"outTransition"in Z&&n(5,p=Z.outTransition),"outTransitionConfig"in Z&&n(6,_=Z.outTransitionConfig),"asChild"in Z&&n(7,v=Z.asChild),"id"in Z&&n(14,k=Z.id),"side"in Z&&n(15,w=Z.side),"align"in Z&&n(16,C=Z.align),"sideOffset"in Z&&n(17,L=Z.sideOffset),"alignOffset"in Z&&n(18,D=Z.alignOffset),"collisionPadding"in Z&&n(19,E=Z.collisionPadding),"avoidCollisions"in Z&&n(20,$=Z.avoidCollisions),"collisionBoundary"in Z&&n(21,V=Z.collisionBoundary),"sameWidth"in Z&&n(22,R=Z.sameWidth),"fitViewport"in Z&&n(23,H=Z.fitViewport),"strategy"in Z&&n(24,y=Z.strategy),"overlap"in Z&&n(25,b=Z.overlap),"el"in Z&&n(0,I=Z.el),"$$scope"in Z&&n(27,u=Z.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&k&&F.content.set(k),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,z),t.$$.dirty[0]&67076608&&l&&N1({side:w,align:C,sideOffset:L,alignOffset:D,collisionPadding:E,avoidCollisions:$,collisionBoundary:V,sameWidth:R,fitViewport:H,strategy:y,overlap:b})},[I,f,c,d,m,p,_,v,o,l,N,W,ne,r,k,w,C,L,D,E,$,V,R,H,y,b,a,u,s,U,h,j,Y,ee]}let x1=class extends ve{constructor(e){super(),be(this,e,J1,X1,ue,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const Z1=t=>({builder:t&4}),Za=t=>({builder:t[2]}),Q1=t=>({builder:t&4}),Qa=t=>({builder:t[2]});function z1(t){let e,n,o,i;const r=t[9].default,l=de(r,t,t[8],Za);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=O("button"),l&&l.c(),ae(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[je(t[2].action(e)),te(e,"m-blur",t[4]),te(e,"m-focus",t[4]),te(e,"m-keydown",t[4]),te(e,"m-pointerdown",t[4]),te(e,"m-pointerenter",t[4]),te(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&pe(l,r,u,u[8],n?me(r,u[8],f,Z1):he(u[8]),Za),ae(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,Be(i)}}}function eb(t){let e;const n=t[9].default,o=de(n,t,t[8],Qa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&pe(o,n,i,i[8],e?me(n,i[8],r,Q1):he(i[8]),Qa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function tb(t){let e,n,o,i;const r=[eb,z1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function nb(t,e,n){let o;const i=["asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:m,getAttrs:p}=Xl();se(t,d,w=>n(7,l=w));const _=Kn(),v=p("trigger");function k(w){Ne[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=x(x({},e),$e(w)),n(5,r=le(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(6,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(8,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&m.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,v)},[c,u,o,d,_,r,f,l,s,a,k]}class ob extends ve{constructor(e){super(),be(this,e,nb,tb,ue,{asChild:1,id:6,el:0})}}function ib(t){let e;const n=t[5].default,o=de(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&pe(o,n,i,i[8],e?me(n,i[8],r,null):he(i[8]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function rb(t){let e,n;const o=[{builders:t[3]},{class:Fe(yo({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let i={$$slots:{default:[ib]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new N0({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&31?we(o,[l&8&&{builders:r[3]},l&7&&{class:Fe(yo({variant:r[1],size:r[2],className:r[0]}))},o[2],l&16&&rt(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function lb(t,e,n){const o=["class","variant","size","builders"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(m){oe.call(this,t,m)}function d(m){oe.call(this,t,m)}return t.$$set=m=>{e=x(x({},e),$e(m)),n(4,i=le(e,o)),"class"in m&&n(0,a=m.class),"variant"in m&&n(1,s=m.variant),"size"in m&&n(2,u=m.size),"builders"in m&&n(3,f=m.builders),"$$scope"in m&&n(8,l=m.$$scope)},[a,s,u,f,i,r,c,d,l]}class yt extends ve{constructor(e){super(),be(this,e,lb,rb,ue,{class:0,variant:1,size:2,builders:3})}}var za=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,It=t=>!t||typeof t!="object"||Object.keys(t).length===0,sb=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function zc(t,e){t.forEach(function(n){Array.isArray(n)?zc(n,e):e.push(n)})}function ed(t){let e=[];return zc(t,e),e}var td=(...t)=>ed(t).filter(Boolean),nd=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=nd(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=td(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},eu=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),ab={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},od=t=>t||void 0,Qo=(...t)=>od(ed(t).filter(Boolean).join(" ")),Jr=null,ln={},_l=!1,Bo=(...t)=>e=>e.twMerge?((!Jr||_l)&&(_l=!1,Jr=It(ln)?Cc:np({...ln,extend:{theme:ln.theme,classGroups:ln.classGroups,conflictingClassGroupModifiers:ln.conflictingClassGroupModifiers,conflictingClassGroups:ln.conflictingClassGroups,...ln.extend}})),od(Jr(Qo(t)))):Qo(t),tu=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Qo(t[n],e[n]):t[n]=e[n];return t},ub=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...ab,...e},u=n!=null&&n.base?Qo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!It(n.variants)?nd(i,n.variants):i,c=n!=null&&n.defaultVariants&&!It(n.defaultVariants)?{...n.defaultVariants,...a}:a;!It(s.twMergeConfig)&&!sb(s.twMergeConfig,ln)&&(_l=!0,ln=s.twMergeConfig);let d=It(n==null?void 0:n.slots),m=It(o)?{}:{base:Qo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},p=d?m:tu({...n==null?void 0:n.slots},It(m)?{base:t==null?void 0:t.base}:m),_=k=>{if(It(f)&&It(o)&&d)return Bo(u,k==null?void 0:k.class,k==null?void 0:k.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let w=(b,I,N=[],W)=>{let F=N;if(typeof I=="string")F=F.concat(eu(I).split(" ").map(Q=>`${b}:${Q}`));else if(Array.isArray(I))F=F.concat(I.reduce((Q,ne)=>Q.concat(`${b}:${ne}`),[]));else if(typeof I=="object"&&typeof W=="string"){for(let Q in I)if(I.hasOwnProperty(Q)&&Q===W){let ne=I[Q];if(ne&&typeof ne=="string"){let z=eu(ne);F[W]?F[W]=F[W].concat(z.split(" ").map(U=>`${b}:${U}`)):F[W]=z.split(" ").map(U=>`${b}:${U}`)}else Array.isArray(ne)&&ne.length>0&&(F[W]=ne.reduce((z,U)=>z.concat(`${b}:${U}`),[]))}}return F},C=(b,I=f,N=null,W=null)=>{var F;let Q=I[b];if(!Q||It(Q))return null;let ne=(F=W==null?void 0:W[b])!=null?F:k==null?void 0:k[b];if(ne===null)return null;let z=za(ne),U=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,h=c==null?void 0:c[b],j=[];if(typeof z=="object"&&U)for(let[Z,_e]of Object.entries(z)){let ge=Q[_e];if(Z==="initial"){h=_e;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(Z)||(j=w(Z,ge,j,N))}let Y=z!=null&&typeof z!="object"?z:za(h),ee=Q[Y]||Q.false;return typeof j=="object"&&typeof N=="string"&&j[N]?tu(j,ee):j.length>0?(j.push(ee),j):ee},L=()=>f?Object.keys(f).map(b=>C(b,f)):null,D=(b,I)=>{if(!f||typeof f!="object")return null;let N=new Array;for(let W in f){let F=C(W,f,b,I),Q=b==="base"&&typeof F=="string"?F:F&&F[b];Q&&(N[N.length]=Q)}return N},E={};for(let b in k)k[b]!==void 0&&(E[b]=k[b]);let $=(b,I)=>{var N;let W=typeof(k==null?void 0:k[b])=="object"?{[b]:(N=k[b])==null?void 0:N.initial}:{};return{...c,...E,...W,...I}},V=(b=[],I)=>{let N=[];for(let{class:W,className:F,...Q}of b){let ne=!0;for(let[z,U]of Object.entries(Q)){let h=$(z,I);if(Array.isArray(U)){if(!U.includes(h[z])){ne=!1;break}}else if(h[z]!==U){ne=!1;break}}ne&&(W&&N.push(W),F&&N.push(F))}return N},R=b=>{let I=V(r,b),N=V(n==null?void 0:n.compoundVariants,b);return td(N,I)},H=b=>{let I=R(b);if(!Array.isArray(I))return I;let N={};for(let W of I)if(typeof W=="string"&&(N.base=Bo(N.base,W)(s)),typeof W=="object")for(let[F,Q]of Object.entries(W))N[F]=Bo(N[F],Q)(s);return N},y=b=>{if(l.length<1)return null;let I={};for(let{slots:N=[],class:W,className:F,...Q}of l){if(!It(Q)){let ne=!0;for(let z of Object.keys(Q)){let U=$(z,b)[z];if(U===void 0||(Array.isArray(Q[z])?!Q[z].includes(U):Q[z]!==U)){ne=!1;break}}if(!ne)continue}for(let ne of N)I[ne]=I[ne]||[],I[ne].push([W,F])}return I};if(!It(o)||!d){let b={};if(typeof p=="object"&&!It(p))for(let I of Object.keys(p))b[I]=N=>{var W,F;return Bo(p[I],D(I,N),((W=H(N))!=null?W:[])[I],((F=y(N))!=null?F:[])[I],N==null?void 0:N.class,N==null?void 0:N.className)(s)};return b}return Bo(u,L(),R(),k==null?void 0:k.class,k==null?void 0:k.className)(s)},v=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return _.variantKeys=v(),_.extend=n,_.base=u,_.slots=p,_.variants=f,_.defaultVariants=c,_.compoundSlots=l,_.compoundVariants=r,_};const yo=ub({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function fb(t){let e;const n=t[2].default,o=de(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&pe(o,n,i,i[3],e?me(n,i[3],r,null):he(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function cb(t){let e,n;const o=[{class:Fe("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[fb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new eg({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function db(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Jn extends ve{constructor(e){super(),be(this,e,db,cb,ue,{class:0})}}function mb(t){let e;const n=t[1].default,o=de(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&pe(o,n,i,i[2],e?me(n,i[2],r,null):he(i[2]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function pb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[mb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new pg({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&1?we(o,[rt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function hb(t,e,n){const o=[];let i=le(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=x(x({},e),$e(a)),n(0,i=le(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class _b extends ve{constructor(e){super(),be(this,e,hb,pb,ue,{})}}function gb(t){let e,n,o;const i=t[3].default,r=de(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=O("div"),r&&r.c(),ae(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&pe(r,i,s,s[2],o?me(i,s[2],u,null):he(s[2]),null),ae(e,a=we(l,[(!o||u&1&&n!==(n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function bb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Oo extends ve{constructor(e){super(),be(this,e,bb,gb,ue,{class:0})}}function vb(t){let e,n,o;const i=t[3].default,r=de(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=O("div"),r&&r.c(),ae(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&pe(r,i,s,s[2],o?me(i,s[2],u,null):he(s[2]),null),ae(e,a=we(l,[(!o||u&1&&n!==(n=Fe("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function yb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class xn extends ve{constructor(e){super(),be(this,e,yb,vb,ue,{class:0})}}function id(t,{delay:e=0,duration:n=400,easing:o=pr}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function wb(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new jg({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&15?we(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function kb(t,e,n){const o=["class","transition","transitionConfig"];let i=le(e,o),{class:r=void 0}=e,{transition:l=id}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=x(x({},e),$e(s)),n(3,i=le(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class Cb extends ve{constructor(e){super(),be(this,e,kb,wb,ue,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function ou(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function xr(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=x(o,n[i]);return{c(){e=hr(t[11]),ji(e,o)},m(i,r){M(i,e,r)},p(i,r){ji(e,o=we(n,[r&32&&i[12]]))},d(i){i&&T(e)}}}function iu(t){let e=t[11],n,o=t[11]&&xr(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){i[11]?e?ue(e,i[11])?(o.d(1),o=xr(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=xr(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&T(n),o&&o.d(i)}}}function Ab(t){let e,n,o,i,r,l=Ye(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=iu(ou(t,l,d));const s=t[10].default,u=de(s,t,t[9],null);let f=[nu,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=x(c,f[d]);return{c(){e=hr("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=Re(),u&&u.c(),ji(e,c)},m(d,m){M(d,e,m);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(e,null);g(e,n),u&&u.m(e,null),r=!0},p(d,[m]){if(m&32){l=Ye(d[5]);let p;for(p=0;p<l.length;p+=1){const _=ou(d,l,p);a[p]?a[p].p(_,m):(a[p]=iu(_),a[p].c(),a[p].m(e,n))}for(;p<a.length;p+=1)a[p].d(1);a.length=l.length}u&&u.p&&(!r||m&512)&&pe(u,s,d,d[9],r?me(s,d[9],m,null):he(d[9]),null),ji(e,c=we(f,[nu,m&128&&d[7],(!r||m&4)&&{width:d[2]},(!r||m&4)&&{height:d[2]},(!r||m&2)&&{stroke:d[1]},(!r||m&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||m&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(A(u,d),r=!0)},o(d){S(u,d),r=!1},d(d){d&&T(e),_t(a,d),u&&u.d(d)}}}function Sb(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const m=(...p)=>p.filter((_,v,k)=>!!_&&k.indexOf(_)===v).join(" ");return t.$$set=p=>{n(8,e=x(x({},e),$e(p))),n(7,i=le(e,o)),"name"in p&&n(0,a=p.name),"color"in p&&n(1,s=p.color),"size"in p&&n(2,u=p.size),"strokeWidth"in p&&n(3,f=p.strokeWidth),"absoluteStrokeWidth"in p&&n(4,c=p.absoluteStrokeWidth),"iconNode"in p&&n(5,d=p.iconNode),"$$scope"in p&&n(9,l=p.$$scope)},e=$e(e),[a,s,u,f,c,d,m,i,e,l,r]}class Tb extends ve{constructor(e){super(),be(this,e,Sb,Ab,ue,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function Mb(t){let e;const n=t[2].default,o=de(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&pe(o,n,i,i[3],e?me(n,i[3],r,null):he(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Ib(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[Mb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new Tb({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[o[0],l&2&&rt(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Ob(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=x(x({},e),$e(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=$e(e),[r,e,o,i]}class Pb extends ve{constructor(e){super(),be(this,e,Ob,Ib,ue,{})}}function Nb(t){let e,n,o,i;return e=new Pb({props:{class:"h-4 w-4"}}),{c(){J(e.$$.fragment),n=q(),o=O("span"),o.textContent="Close",P(o,"class","sr-only")},m(r,l){K(e,r,l),M(r,n,l),M(r,o,l),i=!0},p:Ce,i(r){i||(A(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),X(e,r)}}}function Eb(t){let e,n,o;const i=t[4].default,r=de(i,t,t[5],null);return n=new sg({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[Nb]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=q(),J(n.$$.fragment)},m(l,a){r&&r.m(l,a),M(l,e,a),K(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&pe(r,i,l,l[5],o?me(i,l[5],a,null):he(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(A(r,l),A(n.$$.fragment,l),o=!0)},o(l){S(r,l),S(n.$$.fragment,l),o=!1},d(l){l&&T(e),r&&r.d(l),X(n,l)}}}function $b(t){let e,n,o,i;e=new Cb({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let l={$$slots:{default:[Eb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=x(l,r[a]);return o=new Og({props:l}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(a,s){K(e,a,s),M(a,n,s),K(o,a,s),i=!0},p(a,s){const u=s&15?we(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&rt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(A(e.$$.fragment,a),A(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),X(e,a),X(o,a)}}}function Rb(t){let e,n;return e=new _b({props:{$$slots:{default:[$b]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Lb(t,e,n){const o=["class","transition","transitionConfig"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=vr}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=x(x({},e),$e(f)),n(3,i=le(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Zn extends ve{constructor(e){super(),be(this,e,Lb,Rb,ue,{class:0,transition:1,transitionConfig:2})}}function Db(t){let e;const n=t[2].default,o=de(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&pe(o,n,i,i[3],e?me(n,i[3],r,null):he(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Fb(t){let e,n;const o=[{class:Fe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Db]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new Ug({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe("text-sm text-muted-foreground",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Bb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Qn extends ve{constructor(e){super(),be(this,e,Bb,Fb,ue,{class:0})}}const zn=K0;function jb(t){let e,n,o,i,r=[{class:n=Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=x(l,r[a]);return{c(){e=O("input"),ae(e,l)},m(a,s){M(a,e,s),e.autofocus&&e.focus(),rn(e,t[0]),o||(i=[te(e,"input",t[17]),te(e,"blur",t[3]),te(e,"change",t[4]),te(e,"click",t[5]),te(e,"focus",t[6]),te(e,"focusin",t[7]),te(e,"focusout",t[8]),te(e,"keydown",t[9]),te(e,"keypress",t[10]),te(e,"keyup",t[11]),te(e,"mouseover",t[12]),te(e,"mouseenter",t[13]),te(e,"mouseleave",t[14]),te(e,"paste",t[15]),te(e,"input",t[16])],o=!0)},p(a,[s]){ae(e,l=we(r,[s&2&&n!==(n=Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&rn(e,a[0])},i:Ce,o:Ce,d(a){a&&T(e),o=!1,Be(i)}}}function qb(t,e,n){const o=["class","value"];let i=le(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a(E){oe.call(this,t,E)}function s(E){oe.call(this,t,E)}function u(E){oe.call(this,t,E)}function f(E){oe.call(this,t,E)}function c(E){oe.call(this,t,E)}function d(E){oe.call(this,t,E)}function m(E){oe.call(this,t,E)}function p(E){oe.call(this,t,E)}function _(E){oe.call(this,t,E)}function v(E){oe.call(this,t,E)}function k(E){oe.call(this,t,E)}function w(E){oe.call(this,t,E)}function C(E){oe.call(this,t,E)}function L(E){oe.call(this,t,E)}function D(){l=this.value,n(0,l)}return t.$$set=E=>{e=x(x({},e),$e(E)),n(2,i=le(e,o)),"class"in E&&n(1,r=E.class),"value"in E&&n(0,l=E.value)},[l,r,i,a,s,u,f,c,d,m,p,_,v,k,w,C,L,D]}class Jl extends ve{constructor(e){super(),be(this,e,qb,jb,ue,{class:1,value:0})}}function Gb(t){let e;const n=t[2].default,o=de(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&pe(o,n,i,i[4],e?me(n,i[4],r,null):he(i[4]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Vb(t){let e,n;const o=[{class:Fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[Gb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new e1({props:i}),e.$on("mousedown",t[3]),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&rt(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Hb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){oe.call(this,t,u)}return t.$$set=u=>{e=x(x({},e),$e(u)),n(1,i=le(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class fo extends ve{constructor(e){super(),be(this,e,Hb,Vb,ue,{class:0})}}const Hn={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}};function Wb(t){let e,n;const o=[{class:Fe("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new V0({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&15?we(o,[l&3&&{class:Fe("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Yb(t,e,n){const o=["class","orientation","decorative"];let i=le(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),$e(s)),n(3,i=le(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class wt extends ve{constructor(e){super(),be(this,e,Yb,Wb,ue,{class:0,orientation:1,decorative:2})}}function Ub(t){let e;const n=t[3].default,o=de(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&pe(o,n,i,i[4],e?me(n,i[4],r,null):he(i[4]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Kb(t){let e,n;const o=[{class:Fe("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[Ub]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new T_({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&7?we(o,[l&1&&{class:Fe("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&rt(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Xb(t,e,n){const o=["class","level"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=x(x({},e),$e(u)),n(2,i=le(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class xl extends ve{constructor(e){super(),be(this,e,Xb,Kb,ue,{class:0,level:1})}}const Jb=t=>({builder:t&64}),ru=t=>({builder:t[6]});function xb(t){let e;const n=t[2].default,o=de(n,t,t[5],ru);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&pe(o,n,i,i[5],e?me(n,i[5],r,Jb):he(i[5]),ru)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Zb(t){let e,n;const o=[{class:Fe(yo(),t[0])},t[1]];let i={$$slots:{default:[xb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new $_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe(yo(),r[0])},l&2&&rt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Qb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=x(x({},e),$e(f)),n(1,i=le(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class rd extends ve{constructor(e){super(),be(this,e,Qb,Zb,ue,{class:0})}}const zb=t=>({builder:t&64}),lu=t=>({builder:t[6]});function ev(t){let e;const n=t[2].default,o=de(n,t,t[5],lu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&pe(o,n,i,i[5],e?me(n,i[5],r,zb):he(i[5]),lu)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function tv(t){let e,n;const o=[{class:Fe(yo({variant:"default"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[ev,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new q_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe(yo({variant:"default"}),"mt-2 sm:mt-0",r[0])},l&2&&rt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function nv(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=x(x({},e),$e(f)),n(1,i=le(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class ld extends ve{constructor(e){super(),be(this,e,nv,tv,ue,{class:0})}}function ov(t){let e;const n=t[1].default,o=de(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&pe(o,n,i,i[2],e?me(n,i[2],r,null):he(i[2]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function iv(t){let e,n;const o=[t[0]];let i={$$slots:{default:[ov]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new K_({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&1?we(o,[rt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function rv(t,e,n){const o=[];let i=le(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=x(x({},e),$e(a)),n(0,i=le(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class lv extends ve{constructor(e){super(),be(this,e,rv,iv,ue,{})}}function sv(t){let e,n,o;const i=t[3].default,r=de(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=O("div"),r&&r.c(),ae(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&pe(r,i,s,s[2],o?me(i,s[2],u,null):he(s[2]),null),ae(e,a=we(l,[(!o||u&1&&n!==(n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function av(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Tr extends ve{constructor(e){super(),be(this,e,av,sv,ue,{class:0})}}function uv(t){let e,n,o;const i=t[3].default,r=de(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=O("div"),r&&r.c(),ae(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&pe(r,i,s,s[2],o?me(i,s[2],u,null):he(s[2]),null),ae(e,a=we(l,[(!o||u&1&&n!==(n=Fe("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function fv(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Zl extends ve{constructor(e){super(),be(this,e,fv,uv,ue,{class:0})}}function cv(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new b0({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&15?we(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function dv(t,e,n){const o=["class","transition","transitionConfig"];let i=le(e,o),{class:r=void 0}=e,{transition:l=id}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=x(x({},e),$e(s)),n(3,i=le(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class mv extends ve{constructor(e){super(),be(this,e,dv,cv,ue,{class:0,transition:1,transitionConfig:2})}}function pv(t){let e;const n=t[4].default,o=de(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&pe(o,n,i,i[5],e?me(n,i[5],r,null):he(i[5]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function hv(t){let e,n,o,i;e=new mv({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[pv]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=x(l,r[a]);return o=new a0({props:l}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(a,s){K(e,a,s),M(a,n,s),K(o,a,s),i=!0},p(a,s){const u=s&15?we(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[2])},s&8&&rt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(A(e.$$.fragment,a),A(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),X(e,a),X(o,a)}}}function _v(t){let e,n;return e=new lv({props:{$$slots:{default:[hv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function gv(t,e,n){const o=["transition","transitionConfig","class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=vr}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=x(x({},e),$e(f)),n(3,i=le(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Mr extends ve{constructor(e){super(),be(this,e,gv,_v,ue,{transition:0,transitionConfig:1,class:2})}}function bv(t){let e;const n=t[2].default,o=de(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&pe(o,n,i,i[3],e?me(n,i[3],r,null):he(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function vv(t){let e,n;const o=[{class:Fe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[bv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new S0({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe("text-sm text-muted-foreground",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function yv(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Ql extends ve{constructor(e){super(),be(this,e,yv,vv,ue,{class:0})}}const Ir=v_;function su(t,e,n){const o=t.slice();return o[25]=e[n],o}function au(t,e,n){const o=t.slice();return o[28]=e[n],o}function wv(t){let e;return{c(){e=B("Pause Menu")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function kv(t){let e;return{c(){e=B("Unpause any time by pressing 'P'")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Cv(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[wv]},$$scope:{ctx:t}}}),o=new Qn({props:{$$slots:{default:[kv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function uu(t){let e,n,o,i,r,l=JSON.stringify(t[5].requirements[t[2].difficulty].population_count)+"",a,s,u=JSON.stringify(t[2].townInfo.population_count)+"",f,c,d,m,p=JSON.stringify(t[5].requirements[t[2].difficulty].happiness)+"",_,v,k=JSON.stringify(t[2].townInfo.happiness)+"",w,C,L,D,E=JSON.stringify(t[5].requirements[t[2].difficulty].employment*100)+"",$,V,R=JSON.stringify((t[2].townInfo.employees/t[2].townInfo.population_count||0)*100)+"",H,y,b,I,N,W=JSON.stringify(t[5].requirements[t[2].difficulty].health)+"",F,Q,ne=JSON.stringify(t[2].townInfo.health)+"",z,U,h,j,Y=JSON.stringify(t[5].requirements[t[2].difficulty].knowledge)+"",ee,Z,_e=JSON.stringify(t[2].townInfo.knowledge_points)+"",ge,Te,Ue;function Ge(ye,Xe){return ye[2].townInfo.population_count>=ye[5].requirements[ye[2].difficulty].population_count?Sv:Av}let xe=Ge(t),ce=xe(t);function Ee(ye,Xe){return ye[2].townInfo.happiness>=ye[5].requirements[ye[2].difficulty].happiness?Mv:Tv}let Le=Ee(t),Ve=Le(t);function Ke(ye,Xe){return ye[2].townInfo.employees/ye[2].townInfo.population_count>=ye[5].requirements[ye[2].difficulty].employment?Ov:Iv}let ke=Ke(t),Se=ke(t);function Et(ye,Xe){return ye[2].townInfo.health>=ye[5].requirements[ye[2].difficulty].health?Nv:Pv}let kt=Et(t),ft=kt(t);function en(ye,Xe){return ye[2].townInfo.knowledge_points>=ye[5].requirements[ye[2].difficulty].knowledge?$v:Ev}let Mt=en(t),ct=Mt(t),Je=t[5].requirements[t[2].difficulty].required_plots!=null&&t[5].requirements[t[2].difficulty].required_plots.length>0&&fu(t);return{c(){e=O("div"),e.textContent=`With your difficulty (${t[6]}), you must also have:`,n=q(),o=O("ul"),i=O("li"),ce.c(),r=B(`
                  Population: `),a=B(l),s=B(" - Currently at "),f=B(u),c=q(),d=O("li"),Ve.c(),m=B(`
                  Happiness: `),_=B(p),v=B(" - Currently at "),w=B(k),C=q(),L=O("li"),Se.c(),D=B(`
                  Employment: `),$=B(E),V=B("% - Currently at "),H=B(R),y=B("%"),b=q(),I=O("li"),ft.c(),N=B(`
                  Health: `),F=B(W),Q=B(" - Currently at "),z=B(ne),U=q(),h=O("li"),ct.c(),j=B(`
                  Knowledge: `),ee=B(Y),Z=B(" - Currently at "),ge=B(_e),Te=q(),Je&&Je.c(),Ue=Re(),P(e,"class","leading-relaxed text-sm"),P(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(ye,Xe){M(ye,e,Xe),M(ye,n,Xe),M(ye,o,Xe),g(o,i),ce.m(i,null),g(i,r),g(i,a),g(i,s),g(i,f),g(o,c),g(o,d),Ve.m(d,null),g(d,m),g(d,_),g(d,v),g(d,w),g(o,C),g(o,L),Se.m(L,null),g(L,D),g(L,$),g(L,V),g(L,H),g(L,y),g(o,b),g(o,I),ft.m(I,null),g(I,N),g(I,F),g(I,Q),g(I,z),g(o,U),g(o,h),ct.m(h,null),g(h,j),g(h,ee),g(h,Z),g(h,ge),M(ye,Te,Xe),Je&&Je.m(ye,Xe),M(ye,Ue,Xe)},p(ye,Xe){xe!==(xe=Ge(ye))&&(ce.d(1),ce=xe(ye),ce&&(ce.c(),ce.m(i,r))),Xe[0]&4&&l!==(l=JSON.stringify(ye[5].requirements[ye[2].difficulty].population_count)+"")&&re(a,l),Xe[0]&4&&u!==(u=JSON.stringify(ye[2].townInfo.population_count)+"")&&re(f,u),Le!==(Le=Ee(ye))&&(Ve.d(1),Ve=Le(ye),Ve&&(Ve.c(),Ve.m(d,m))),Xe[0]&4&&p!==(p=JSON.stringify(ye[5].requirements[ye[2].difficulty].happiness)+"")&&re(_,p),Xe[0]&4&&k!==(k=JSON.stringify(ye[2].townInfo.happiness)+"")&&re(w,k),ke!==(ke=Ke(ye))&&(Se.d(1),Se=ke(ye),Se&&(Se.c(),Se.m(L,D))),Xe[0]&4&&E!==(E=JSON.stringify(ye[5].requirements[ye[2].difficulty].employment*100)+"")&&re($,E),Xe[0]&4&&R!==(R=JSON.stringify((ye[2].townInfo.employees/ye[2].townInfo.population_count||0)*100)+"")&&re(H,R),kt!==(kt=Et(ye))&&(ft.d(1),ft=kt(ye),ft&&(ft.c(),ft.m(I,N))),Xe[0]&4&&W!==(W=JSON.stringify(ye[5].requirements[ye[2].difficulty].health)+"")&&re(F,W),Xe[0]&4&&ne!==(ne=JSON.stringify(ye[2].townInfo.health)+"")&&re(z,ne),Mt!==(Mt=en(ye))&&(ct.d(1),ct=Mt(ye),ct&&(ct.c(),ct.m(h,j))),Xe[0]&4&&Y!==(Y=JSON.stringify(ye[5].requirements[ye[2].difficulty].knowledge)+"")&&re(ee,Y),Xe[0]&4&&_e!==(_e=JSON.stringify(ye[2].townInfo.knowledge_points)+"")&&re(ge,_e),ye[5].requirements[ye[2].difficulty].required_plots!=null&&ye[5].requirements[ye[2].difficulty].required_plots.length>0?Je?Je.p(ye,Xe):(Je=fu(ye),Je.c(),Je.m(Ue.parentNode,Ue)):Je&&(Je.d(1),Je=null)},d(ye){ye&&(T(e),T(n),T(o),T(Te),T(Ue)),ce.d(),Ve.d(),Se.d(),ft.d(),ct.d(),Je&&Je.d(ye)}}}function Av(t){let e;return{c(){e=B("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Sv(t){let e;return{c(){e=B("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Tv(t){let e;return{c(){e=B("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Mv(t){let e;return{c(){e=B("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Iv(t){let e;return{c(){e=B("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Ov(t){let e;return{c(){e=B("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Pv(t){let e;return{c(){e=B("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Nv(t){let e;return{c(){e=B("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Ev(t){let e;return{c(){e=B("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function $v(t){let e;return{c(){e=B("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function fu(t){let e,n,o,i=Ye(t[5].requirements[t[2].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=cu(au(t,i,l));return{c(){e=O("br"),n=B(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=Re()},m(l,a){M(l,e,a),M(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);M(l,o,a)},p(l,a){if(a[0]&36){i=Ye(l[5].requirements[l[2].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=au(l,i,s);r[s]?r[s].p(u,a):(r[s]=cu(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(T(e),T(n),T(o)),_t(r,l)}}}function Rv(t){let e;return{c(){e=B("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Lv(t){let e;return{c(){e=B("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function cu(t){let e,n,o,i,r=t[28]+"",l,a;function s(c,d){return d[0]&4&&(o=null),o==null&&(o=He(c[28],c[2]).length>0),o?Lv:Rv}let u=s(t,[-1,-1]),f=u(t);return{c(){e=O("div"),n=O("li"),f.c(),i=q(),l=B(r),a=q(),P(e,"class","text-sm")},m(c,d){M(c,e,d),g(e,n),f.m(n,null),g(n,i),g(n,l),g(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d[0]&4&&r!==(r=c[28]+"")&&re(l,r)},d(c){c&&T(e),f.d()}}}function Dv(t){let e;return{c(){e=B("Save game")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Fv(t){let e;return{c(){e=B("Save")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Bv(t){let e;return{c(){e=B("Upload game")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function du(t){let e,n;function o(){return t[19](t[25])}return e=new yt({props:{class:"bg-blue-600 hover:bg-blue-700 mt-4",id:"collectPrize-"+t[25].id,$$slots:{default:[jv]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){J(e.$$.fragment)},m(i,r){K(e,i,r),n=!0},p(i,r){t=i;const l={};r[0]&2&&(l.id="collectPrize-"+t[25].id),r[0]&2|r[1]&1&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function jv(t){let e,n=pu(t[25].prize)+"",o,i;return{c(){e=B("Collect Prize: $"),o=B(n),i=B(" gold")},m(r,l){M(r,e,l),M(r,o,l),M(r,i,l)},p(r,l){l[0]&2&&n!==(n=pu(r[25].prize)+"")&&re(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function mu(t){let e,n,o,i,r,l,a=t[25].title+"",s,u,f,c=t[25].requirements+"",d,m,p,_=t[25].icon+"",v,k,w,C=t[25].description+"",L,D,E,$,V=t[8](t[25].id)+"",R,H,y,b=t[13](t[25].id)&&!t[9](t[25].id),I,N,W,F=b&&du(t);return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("span"),r=O("div"),l=O("span"),s=B(a),u=q(),f=O("div"),d=B(c),m=q(),p=O("div"),v=B(_),k=q(),w=O("div"),L=B(C),D=q(),E=O("div"),$=B("✅ Completed on Day "),R=B(V),y=q(),F&&F.c(),I=q(),P(l,"class","font-semibold text-lg"),P(f,"class","font-thin text-white opacity-75 text-xs"),P(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),P(p,"class","text-sm flex-grow pr-1 break-inside-avoid "),P(i,"class","flex flex-row justify-between w-[100%]"),P(o,"class","min-w-32 flex"),P(w,"class","text-white opacity-75 text-sm font-light"),P(E,"class",H=(t[13](t[25].id)?"":"hidden")+" text-xs text-green-400"),P(n,"class","flex-col flex px-3 py-2 gap-0"),P(e,"class",N="flex flex-col gap-3 cursor-default rounded-md "+(t[13](t[25].id)?"bg-green-700":"bg-gray-500 opacity-35"))},m(Q,ne){M(Q,e,ne),g(e,n),g(n,o),g(o,i),g(i,r),g(r,l),g(l,s),g(r,u),g(r,f),g(f,d),g(i,m),g(i,p),g(p,v),g(n,k),g(n,w),g(w,L),g(n,D),g(n,E),g(E,$),g(E,R),g(n,y),F&&F.m(n,null),g(e,I),W=!0},p(Q,ne){(!W||ne[0]&2)&&a!==(a=Q[25].title+"")&&re(s,a),(!W||ne[0]&2)&&c!==(c=Q[25].requirements+"")&&re(d,c),(!W||ne[0]&2)&&_!==(_=Q[25].icon+"")&&re(v,_),(!W||ne[0]&2)&&C!==(C=Q[25].description+"")&&re(L,C),(!W||ne[0]&2)&&V!==(V=Q[8](Q[25].id)+"")&&re(R,V),(!W||ne[0]&2&&H!==(H=(Q[13](Q[25].id)?"":"hidden")+" text-xs text-green-400"))&&P(E,"class",H),ne[0]&2&&(b=Q[13](Q[25].id)&&!Q[9](Q[25].id)),b?F?(F.p(Q,ne),ne[0]&2&&A(F,1)):(F=du(Q),F.c(),A(F,1),F.m(n,null)):F&&(Ie(),S(F,1,1,()=>{F=null}),Oe()),(!W||ne[0]&2&&N!==(N="flex flex-col gap-3 cursor-default rounded-md "+(Q[13](Q[25].id)?"bg-green-700":"bg-gray-500 opacity-35")))&&P(e,"class",N)},i(Q){W||(A(F),W=!0)},o(Q){S(F),W=!1},d(Q){Q&&T(e),F&&F.d()}}}function qv(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,v,k,w,C,L,D,E,$,V,R,H,y,b,I,N,W,F,Q,ne,z,U,h,j,Y,ee,Z,_e,ge;e=new xn({props:{$$slots:{default:[Cv]},$$scope:{ctx:t}}});let Te=t[2].endGoal=="land"&&uu(t);_=new fo({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Dv]},$$scope:{ctx:t}}}),k=new yt({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[Fv]},$$scope:{ctx:t}}}),k.$on("click",t[16]),C=new fo({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Bv]},$$scope:{ctx:t}}}),D=new Jl({props:{class:"hidden",type:"file",id:"upload"}}),D.$on("change",t[12]),$=new wt({props:{orientation:"vertical"}});let Ue=Ye(t[1]),Ge=[];for(let ce=0;ce<Ue.length;ce+=1)Ge[ce]=mu(su(t,Ue,ce));const xe=ce=>S(Ge[ce],1,1,()=>{Ge[ce]=null});return{c(){J(e.$$.fragment),n=q(),o=O("div"),i=O("div"),r=O("div"),l=O("h4"),l.textContent="This game",a=q(),s=O("span"),s.textContent=`${t[5].description_title}`,u=q(),f=O("div"),Te&&Te.c(),c=q(),d=O("div"),m=O("div"),p=O("div"),J(_.$$.fragment),v=q(),J(k.$$.fragment),w=q(),J(C.$$.fragment),L=q(),J(D.$$.fragment),E=q(),J($.$$.fragment),V=q(),R=O("div"),H=O("h4"),H.textContent=`Your achievement (${t[7].length}
          / ${nt.length})`,y=q(),b=O("span"),b.textContent="Track your progress through games & complete challenges!",I=q(),N=O("br"),W=q(),F=O("div"),Q=O("input"),ne=q(),z=O("label"),z.textContent="Show completed",U=q(),h=O("div"),j=O("div");for(let ce=0;ce<Ge.length;ce+=1)Ge[ce].c();Y=q(),ee=O("span"),ee.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,P(l,"class","underline underline-offset-4"),P(s,"class","text-sm text-gray-400"),P(f,"class","mt-6 gap-0 py-0 text-gray-400 text-sm"),P(r,"class","flex-col h-max"),P(p,"class","flex gap-10 justify-start min-w-[100%] w-[100%] items"),P(m,"class","flex flex-col gap-3 h-max"),P(i,"class","flex flex-col gap-6 justify-between"),P(H,"class","underline underline-offset-4"),P(b,"class","text-sm text-gray-400"),P(Q,"type","checkbox"),P(Q,"id","toggle-show-completed"),P(Q,"class","rounded"),P(Q,"tabindex","-1"),Q.checked=localStorage.getItem("showCompletedAchievements")==="true",P(z,"for","toggle-show-completed"),P(z,"class","text-xs text-gray-400 select-none ml-2 no-select cursor-pointer "),P(F,"class","flex items-center"),P(j,"class","flex flex-col gap-4 overflow-scroll pb-20 scroll-smooth"),P(h,"class","overflow-scroll mt-2 h-[55vh]"),P(ee,"class","text-sm text-yellow-400 italic"),P(o,"class","flex flex-row w-full gap-10")},m(ce,Ee){K(e,ce,Ee),M(ce,n,Ee),M(ce,o,Ee),g(o,i),g(i,r),g(r,l),g(r,a),g(r,s),g(r,u),g(r,f),Te&&Te.m(f,null),g(i,c),g(i,d),g(d,m),g(m,p),K(_,p,null),g(p,v),K(k,p,null),g(p,w),K(C,p,null),g(p,L),K(D,p,null),g(o,E),K($,o,null),g(o,V),g(o,R),g(R,H),g(R,y),g(R,b),g(R,I),g(R,N),g(R,W),g(R,F),g(F,Q),g(F,ne),g(F,z),g(R,U),g(R,h),g(h,j);for(let Le=0;Le<Ge.length;Le+=1)Ge[Le]&&Ge[Le].m(j,null);g(R,Y),g(R,ee),Z=!0,_e||(ge=[te(Q,"change",t[17]),te(Q,"keydown",t[18])],_e=!0)},p(ce,Ee){const Le={};Ee[1]&1&&(Le.$$scope={dirty:Ee,ctx:ce}),e.$set(Le),ce[2].endGoal=="land"?Te?Te.p(ce,Ee):(Te=uu(ce),Te.c(),Te.m(f,null)):Te&&(Te.d(1),Te=null);const Ve={};Ee[1]&1&&(Ve.$$scope={dirty:Ee,ctx:ce}),_.$set(Ve);const Ke={};Ee[1]&1&&(Ke.$$scope={dirty:Ee,ctx:ce}),k.$set(Ke);const ke={};if(Ee[1]&1&&(ke.$$scope={dirty:Ee,ctx:ce}),C.$set(ke),Ee[0]&9986){Ue=Ye(ce[1]);let Se;for(Se=0;Se<Ue.length;Se+=1){const Et=su(ce,Ue,Se);Ge[Se]?(Ge[Se].p(Et,Ee),A(Ge[Se],1)):(Ge[Se]=mu(Et),Ge[Se].c(),A(Ge[Se],1),Ge[Se].m(j,null))}for(Ie(),Se=Ue.length;Se<Ge.length;Se+=1)xe(Se);Oe()}},i(ce){if(!Z){A(e.$$.fragment,ce),A(_.$$.fragment,ce),A(k.$$.fragment,ce),A(C.$$.fragment,ce),A(D.$$.fragment,ce),A($.$$.fragment,ce);for(let Ee=0;Ee<Ue.length;Ee+=1)A(Ge[Ee]);Z=!0}},o(ce){S(e.$$.fragment,ce),S(_.$$.fragment,ce),S(k.$$.fragment,ce),S(C.$$.fragment,ce),S(D.$$.fragment,ce),S($.$$.fragment,ce),Ge=Ge.filter(Boolean);for(let Ee=0;Ee<Ge.length;Ee+=1)S(Ge[Ee]);Z=!1},d(ce){ce&&(T(n),T(o)),X(e,ce),Te&&Te.d(),X(_),X(k),X(C),X(D),X($),_t(Ge,ce),_e=!1,Be(ge)}}}function Gv(t){let e,n;return e=new Zn({props:{class:" max-w-[90vw] max-h-[90vh] bg-foregroundDark text-foregroundText",$$slots:{default:[qv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Vv(t){var o;let e=((o=t[14]())==null?void 0:o.title)+"",n;return{c(){n=B(e)},m(i,r){M(i,n,r)},p:Ce,d(i){i&&T(n)}}}function Hv(t){let e,n,o,i;return{c(){var r,l;e=O("div"),n=O("div"),n.textContent=`${(r=t[14]())==null?void 0:r.icon}`,o=q(),i=O("div"),i.textContent=`${(l=t[14]())==null?void 0:l.description}`,P(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),P(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),P(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(r,l){M(r,e,l),g(e,n),g(e,o),g(e,i)},p:Ce,d(r){r&&T(e)}}}function Wv(t){let e,n,o,i;return e=new xl({props:{class:"text-center text-xl font-bold",$$slots:{default:[Vv]},$$scope:{ctx:t}}}),o=new Ql({props:{$$slots:{default:[Hv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Yv(t){let e;return{c(){e=B("Close to collect prize")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Uv(t){let e,n;return e=new ld({props:{$$slots:{default:[Yv]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Kv(t){let e,n,o,i;return e=new Zl({props:{$$slots:{default:[Wv]},$$scope:{ctx:t}}}),o=new Tr({props:{$$slots:{default:[Uv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&16|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Xv(t){let e,n;return e=new Mr({props:{$$slots:{default:[Kv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i[0]&16|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Jv(t){let e,n,o,i,r;function l(s){t[20](s)}let a={$$slots:{default:[Gv]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),e=new zn({props:a}),Ne.push(()=>Mn(e,"open",l)),i=new Ir({props:{open:t[4],$$slots:{default:[Xv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),o=q(),J(i.$$.fragment)},m(s,u){K(e,s,u),M(s,o,u),K(i,s,u),r=!0},p(s,u){const f={};u[0]&6|u[1]&1&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&8&&(n=!0,f.open=s[3],Tn(()=>n=!1)),e.$set(f);const c={};u[0]&16&&(c.open=s[4]),u[0]&16|u[1]&1&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(A(e.$$.fragment,s),A(i.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(i.$$.fragment,s),r=!1},d(s){s&&T(o),X(e,s),X(i,s)}}}function pu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function xv(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function Zv(t,e,n){let o,i,r,l,a;se(t,an,y=>n(23,o=y)),se(t,Pe,y=>n(2,i=y)),se(t,Ji,y=>n(15,r=y)),se(t,Rt,y=>n(3,l=y)),se(t,Ki,y=>n(4,a=y));const u=Hn[i.endGoal],f=Fl[i.difficulty]||0;nt.sort((y,b)=>w(y.id)&&!w(b.id)?-1:!w(y.id)&&w(b.id)?1:0);const c=nt.filter(y=>w(y.id));function d(y){const b=o.achievements.find(I=>I[0]==y);return b==null?0:`${b[1]} in ${b[2]}.`}function m(y){const b=o.achievements.find(I=>I[0]==y);return b==null?!1:b[3]}function p(y){const b=o.achievements.find(N=>N[0]==y);if(b==null)return;const I=nt.find(N=>N.id==y);I!=null&&(Me(Pe,i.townInfo.gold+=I.prize,i),b[3]=!0,Me(an,o.achievements=o.achievements.map(N=>N[0]==y?b:N),o))}let _=nt;function v(){const y=JSON.stringify(i),b=new Blob([y],{type:"text/plain"}),I=URL.createObjectURL(b),N=document.createElement("a");N.href=I,N.download=`${new Date().toISOString()}.json`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(I)}function k(){const b=document.getElementById("upload").files;if(b==null)return;const I=b[0],N=new FileReader;N.onload=function(W){if(W.target==null)return;const F=W.target.result;if(typeof F=="string"){if(!xv(F)){Lt.set("Invalid game file");return}Bl(JSON.parse(F))}else Lt.set("Invalid game file: is not String.")},N.readAsText(I)}function w(y){return o.achievements==null?!1:o.achievements.find(b=>b[0]==y)!=null}function C(){Ji.update(y=>!y),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),_c.set("game"));function L(){const y=o.achievements[o.achievements.length-1];if(y!=null)return nt.find(b=>b.id==y[0])}const D=()=>v(),E=()=>{C()},$=y=>{y.key==="p"&&Rt.set(!1)},V=y=>{p(y.id);const b=document.getElementById(`collectPrize-${y.id}`);b&&(b.style.display="none")};function R(y){l=y,Rt.set(l)}const H=()=>{Me(Ki,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&32774&&i)if(r)n(1,_=nt);else{n(1,_=[]);for(let y=0;y<nt.length;y++)(!w(nt[y].id)||!m(nt[y].id))&&_.push(nt[y])}},[C,_,i,l,a,u,f,c,d,m,p,v,k,w,L,r,D,E,$,V,R,H]}class Qv extends ve{constructor(e){super(),be(this,e,Zv,Jv,ue,{toggleShowCompleted:0},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[0]}}function zv(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function ey(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=B(e)},m(o,i){M(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&re(n,e)},d(o){o&&T(n)}}}function ty(t){let e;return{c(){e=B("Keep playin'")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ny(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new yt({props:{class:"bg-accent",$$slots:{default:[ty]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=O("span"),o=B(n),i=q(),r=O("br"),l=q(),a=O("br"),s=q(),J(u.$$.fragment),P(e,"class","text-gray-500 text-sm")},m(c,d){M(c,e,d),g(e,o),M(c,i,d),M(c,r,d),M(c,l,d),M(c,a,d),M(c,s,d),K(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&re(o,n);const m={};d&16&&(m.$$scope={dirty:d,ctx:c}),u.$set(m)},i(c){f||(A(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(i),T(r),T(l),T(a),T(s)),X(u,c)}}}function oy(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[ey]},$$scope:{ctx:t}}}),o=new Qn({props:{$$slots:{default:[ny]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function iy(t){let e;return{c(){e=O("span"),e.textContent="Reset the game by pressing SHIFT+ESC",P(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function ry(t){let e,n,o,i;return e=new xn({props:{$$slots:{default:[oy]},$$scope:{ctx:t}}}),o=new Oo({props:{$$slots:{default:[iy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function ly(t){let e,n;return e=new Zn({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[ry]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function sy(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[ly]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new zn({props:r}),Ne.push(()=>Mn(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){K(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Tn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function ay(t,e,n){let o;se(t,Pe,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,Pe.set(a),n(1,i=!1),Rt.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class uy extends ve{constructor(e){super(),be(this,e,ay,sy,ue,{})}}function fy(t){let e;return{c(){e=B("Welcome to Plots!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function cy(t){let e;return{c(){e=B("Select a map size (difficulty)")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function dy(t){let e;return{c(){e=B("Select a game mode")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function my(t){let e;return{c(){e=O("p"),e.textContent=`${Hn.free_play.description_title}`,P(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function py(t){let e;return{c(){e=O("p"),e.textContent=`${Hn.land.description_title}`,P(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function hy(t){let e;return{c(){e=B("Town Name")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function _y(t){let e;return{c(){e=B("Cheats")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function gy(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,v,k,w,C,L,D,E,$,V,R,H,y,b,I,N,W,F,Q;r=new fo({props:{for:"difficulty",class:"mt-2",$$slots:{default:[cy]},$$scope:{ctx:t}}}),m=new fo({props:{for:"endGoal",class:"mt-2",$$slots:{default:[dy]},$$scope:{ctx:t}}});function ne(h,j){return h[0]==="land"?py:my}let z=ne(t),U=z(t);return D=new fo({props:{for:"townName",class:"mt-2",$$slots:{default:[hy]},$$scope:{ctx:t}}}),$=new Jl({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),H=new fo({props:{for:"cheats",class:"mt-2",$$slots:{default:[_y]},$$scope:{ctx:t}}}),{c(){e=O("a"),e.textContent="GitHub / Learn how to play",n=q(),o=O("div"),i=O("div"),J(r.$$.fragment),l=q(),a=O("select"),s=O("option"),s.textContent="Easy (quick game)",u=O("option"),u.textContent="Normal",f=O("option"),f.textContent="Hard (longest game)",c=q(),d=O("div"),J(m.$$.fragment),p=q(),U.c(),_=q(),v=O("select"),k=O("option"),k.textContent=`${Hn.land.short_title}`,w=O("option"),w.textContent=`${Hn.free_play.short_title}`,C=q(),L=O("div"),J(D.$$.fragment),E=q(),J($.$$.fragment),V=q(),R=O("div"),J(H.$$.fragment),y=q(),b=O("select"),I=O("option"),I.textContent="No cheats",N=O("option"),N.textContent="Dev mode",P(e,"href","https://github.com/josephrcox/plots#how-to-play"),P(e,"class","text-blue-500 text-sm mb-4 hover:underline"),P(e,"target","_blank"),s.__value="0",rn(s,s.__value),u.__value="1",rn(u,u.__value),u.selected=!0,f.__value="2",rn(f,f.__value),P(a,"id","difficulty"),P(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"),k.__value="land",rn(k,k.__value),w.__value="free_play",rn(w,w.__value),P(v,"id","endGoal"),P(v,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),I.__value="false",rn(I,I.__value),I.selected=!0,N.__value="true",rn(N,N.__value),P(b,"id","cheats"),P(b,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),P(o,"class","flex flex-col justify-center gap-5 mt-4")},m(h,j){M(h,e,j),M(h,n,j),M(h,o,j),g(o,i),K(r,i,null),g(i,l),g(i,a),g(a,s),g(a,u),g(a,f),g(o,c),g(o,d),K(m,d,null),g(d,p),U.m(d,null),g(d,_),g(d,v),g(v,k),g(v,w),Ss(v,t[0]),g(o,C),g(o,L),K(D,L,null),g(L,E),K($,L,null),g(o,V),g(o,R),K(H,R,null),g(R,y),g(R,b),g(b,I),g(b,N),W=!0,F||(Q=te(v,"change",t[4]),F=!0)},p(h,j){const Y={};j&256&&(Y.$$scope={dirty:j,ctx:h}),r.$set(Y);const ee={};j&256&&(ee.$$scope={dirty:j,ctx:h}),m.$set(ee),z!==(z=ne(h))&&(U.d(1),U=z(h),U&&(U.c(),U.m(d,_))),(!W||j&1)&&Ss(v,h[0]);const Z={};j&256&&(Z.$$scope={dirty:j,ctx:h}),D.$set(Z);const _e={};j&256&&(_e.$$scope={dirty:j,ctx:h}),H.$set(_e)},i(h){W||(A(r.$$.fragment,h),A(m.$$.fragment,h),A(D.$$.fragment,h),A($.$$.fragment,h),A(H.$$.fragment,h),W=!0)},o(h){S(r.$$.fragment,h),S(m.$$.fragment,h),S(D.$$.fragment,h),S($.$$.fragment,h),S(H.$$.fragment,h),W=!1},d(h){h&&(T(e),T(n),T(o)),X(r),X(m),U.d(),X(D),X($),X(H),F=!1,Q()}}}function by(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[fy]},$$scope:{ctx:t}}}),o=new Qn({props:{$$slots:{default:[gy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&257&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function vy(t){let e;return{c(){e=B("Reset user")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function yy(t){let e,n,o=t[1].username+"",i,r,l,a,s,u,f,c,d;return a=new yt({props:{$$slots:{default:[vy]},$$scope:{ctx:t}}}),a.$on("click",t[5]),{c(){e=O("div"),n=O("span"),i=B(o),r=q(),l=O("div"),J(a.$$.fragment),s=q(),u=O("button"),u.textContent="Start game",P(n,"class","italic opacity-30 text-xs py-2 text-start rounded h-full flex flex-col justify-center mr-10"),P(u,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"),P(e,"class","flex flex-row justify-between w-full px-1")},m(m,p){M(m,e,p),g(e,n),g(n,i),g(e,r),g(e,l),K(a,l,null),g(l,s),g(l,u),f=!0,c||(d=[te(n,"click",t[6]),te(u,"click",t[3])],c=!0)},p(m,p){(!f||p&2)&&o!==(o=m[1].username+"")&&re(i,o);const _={};p&256&&(_.$$scope={dirty:p,ctx:m}),a.$set(_)},i(m){f||(A(a.$$.fragment,m),f=!0)},o(m){S(a.$$.fragment,m),f=!1},d(m){m&&T(e),X(a),c=!1,Be(d)}}}function wy(t){let e,n,o,i;return e=new xn({props:{$$slots:{default:[by]},$$scope:{ctx:t}}}),o=new Oo({props:{$$slots:{default:[yy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&257&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&258&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function ky(t){let e,n;return e=new Zn({props:{transition:vr,class:"bg-foregroundDark text-foregroundText",$$slots:{default:[wy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Cy(t){let e,n,o;function i(l){t[7](l)}let r={$$slots:{default:[ky]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new zn({props:r}),Ne.push(()=>Mn(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){K(e,l,a),o=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,Tn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function Ay(t,e,n){let o,i;se(t,an,c=>n(1,o=c)),se(t,Uo,c=>n(2,i=c)),Rt.set(!1);function r(){const c=document.getElementById("difficulty").value,d=document.getElementById("endGoal").value,m=document.getElementById("townName").value,p=document.getElementById("cheats").value=="true";gm(c,d,m,p)}let l="free_play";const a=c=>{n(0,l=c.target.value)};function s(){Lt.set("Deleted :)"),localStorage.clear(),window.location.href=""}function u(){const c=prompt("Enter new username");let d=o;d.username=c,km(d)}function f(c){t.$$.not_equal(i.visible,c)&&(i.visible=c,Uo.set(i))}return[l,o,i,r,a,s,u,f]}class Sy extends ve{constructor(e){super(),be(this,e,Ay,Cy,ue,{})}}function Ty(t){let e;return{c(){e=B("Scoreboard")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function My(t){let e=t[1].description_title+"",n;return{c(){n=B(e)},m(o,i){M(o,n,i)},p:Ce,d(o){o&&T(n)}}}function Iy(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[Ty]},$$scope:{ctx:t}}}),o=new Qn({props:{$$slots:{default:[My]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Oy(t){let e;return{c(){e=B("footer")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Py(t){let e,n,o,i;return e=new xn({props:{$$slots:{default:[Iy]},$$scope:{ctx:t}}}),o=new Oo({props:{$$slots:{default:[Oy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=B(`
		hi
		`),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Ny(t){let e,n;return e=new Zn({props:{$$slots:{default:[Py]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Ey(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Ny]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new zn({props:r}),Ne.push(()=>Mn(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){K(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Tn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function $y(t,e,n){let o,i;se(t,Pe,s=>n(2,o=s)),se(t,Ps,s=>n(0,i=s));const l=Hn[o.endGoal];Fl[o.difficulty];function a(s){i=s,Ps.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class Ry extends ve{constructor(e){super(),be(this,e,$y,Ey,ue,{})}}function Li(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ly(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sd(t){let e,n,o;t.length!==2?(e=Li,n=(a,s)=>Li(t(a),s),o=(a,s)=>t(a)-s):(e=t===Li||t===Ly?t:Dy,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function Dy(){return 0}function Fy(t){return t===null?NaN:+t}const By=sd(Li),jy=By.right;sd(Fy).center;const qy=Math.sqrt(50),Gy=Math.sqrt(10),Vy=Math.sqrt(2);function or(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=qy?10:r>=Gy?5:r>=Vy?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?or(t,e,n*2):[a,s,u]}function Hy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?or(e,t,n):or(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function gl(t,e,n){return e=+e,t=+t,n=+n,or(t,e,n)[2]}function Wy(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?gl(e,t,n):gl(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function Yy(t){return t}var Zr=1,Qr=2,bl=3,Go=4,hu=1e-6;function Uy(t){return"translate("+t+",0)"}function Ky(t){return"translate(0,"+t+")"}function Xy(t){return e=>+t(e)}function Jy(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function xy(){return!this.__axis}function ad(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Zr||t===Go?-1:1,f=t===Go||t===Qr?"x":"y",c=t===Zr||t===bl?Uy:Ky;function d(m){var p=o??(e.ticks?e.ticks.apply(e,n):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,n):Yy),v=Math.max(r,0)+a,k=e.range(),w=+k[0]+s,C=+k[k.length-1]+s,L=(e.bandwidth?Jy:Xy)(e.copy(),s),D=m.selection?m.selection():m,E=D.selectAll(".domain").data([null]),$=D.selectAll(".tick").data(p,e).order(),V=$.exit(),R=$.enter().append("g").attr("class","tick"),H=$.select("line"),y=$.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(R),H=H.merge(R.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),y=y.merge(R.append("text").attr("fill","currentColor").attr(f,u*v).attr("dy",t===Zr?"0em":t===bl?"0.71em":"0.32em")),m!==D&&(E=E.transition(m),$=$.transition(m),H=H.transition(m),y=y.transition(m),V=V.transition(m).attr("opacity",hu).attr("transform",function(b){return isFinite(b=L(b))?c(b+s):this.getAttribute("transform")}),R.attr("opacity",hu).attr("transform",function(b){var I=this.parentNode.__axis;return c((I&&isFinite(I=I(b))?I:L(b))+s)})),V.remove(),E.attr("d",t===Go||t===Qr?l?"M"+u*l+","+w+"H"+s+"V"+C+"H"+u*l:"M"+s+","+w+"V"+C:l?"M"+w+","+u*l+"V"+s+"H"+C+"V"+u*l:"M"+w+","+s+"H"+C),$.attr("opacity",1).attr("transform",function(b){return c(L(b)+s)}),H.attr(f+"2",u*r),y.attr(f,u*v).text(_),D.filter(xy).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Qr?"start":t===Go?"end":"middle"),D.each(function(){this.__axis=L})}return d.scale=function(m){return arguments.length?(e=m,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),d):n.slice()},d.tickValues=function(m){return arguments.length?(o=m==null?null:Array.from(m),d):o&&o.slice()},d.tickFormat=function(m){return arguments.length?(i=m,d):i},d.tickSize=function(m){return arguments.length?(r=l=+m,d):r},d.tickSizeInner=function(m){return arguments.length?(r=+m,d):r},d.tickSizeOuter=function(m){return arguments.length?(l=+m,d):l},d.tickPadding=function(m){return arguments.length?(a=+m,d):a},d.offset=function(m){return arguments.length?(s=+m,d):s},d}function Zy(t){return ad(bl,t)}function Qy(t){return ad(Go,t)}var zy={value:()=>{}};function ud(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Di(n)}function Di(t){this._=t}function ew(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Di.prototype=ud.prototype={constructor:Di,on:function(t,e){var n=this._,o=ew(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=tw(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=_u(n[i],t.name,e);else if(e==null)for(i in n)n[i]=_u(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Di(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function tw(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function _u(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=zy,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var vl="http://www.w3.org/1999/xhtml";const gu={svg:"http://www.w3.org/2000/svg",xhtml:vl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Or(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),gu.hasOwnProperty(e)?{space:gu[e],local:t}:t}function nw(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===vl&&e.documentElement.namespaceURI===vl?e.createElement(t):e.createElementNS(n,t)}}function ow(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function fd(t){var e=Or(t);return(e.local?ow:nw)(e)}function iw(){}function zl(t){return t==null?iw:function(){return this.querySelector(t)}}function rw(t){typeof t!="function"&&(t=zl(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new Nt(o,this._parents)}function lw(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function sw(){return[]}function cd(t){return t==null?sw:function(){return this.querySelectorAll(t)}}function aw(t){return function(){return lw(t.apply(this,arguments))}}function uw(t){typeof t=="function"?t=aw(t):t=cd(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new Nt(o,i)}function dd(t){return function(){return this.matches(t)}}function md(t){return function(e){return e.matches(t)}}var fw=Array.prototype.find;function cw(t){return function(){return fw.call(this.children,t)}}function dw(){return this.firstElementChild}function mw(t){return this.select(t==null?dw:cw(typeof t=="function"?t:md(t)))}var pw=Array.prototype.filter;function hw(){return Array.from(this.children)}function _w(t){return function(){return pw.call(this.children,t)}}function gw(t){return this.selectAll(t==null?hw:_w(typeof t=="function"?t:md(t)))}function bw(t){typeof t!="function"&&(t=dd(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Nt(o,this._parents)}function pd(t){return new Array(t.length)}function vw(){return new Nt(this._enter||this._groups.map(pd),this._parents)}function ir(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ir.prototype={constructor:ir,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function yw(t){return function(){return t}}function ww(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new ir(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function kw(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),m;for(a=0;a<f;++a)(s=e[a])&&(d[a]=m=l.call(s,s.__data__,a,e)+"",u.has(m)?i[a]=s:u.set(m,s));for(a=0;a<c;++a)m=l.call(t,r[a],a,r)+"",(s=u.get(m))?(o[a]=s,s.__data__=r[a],u.delete(m)):n[a]=new ir(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function Cw(t){return t.__data__}function Aw(t,e){if(!arguments.length)return Array.from(this,Cw);var n=e?kw:ww,o=this._parents,i=this._groups;typeof t!="function"&&(t=yw(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,m=Sw(t.call(f,f&&f.__data__,u,o)),p=m.length,_=a[u]=new Array(p),v=l[u]=new Array(p),k=s[u]=new Array(d);n(f,c,_,v,k,m,e);for(var w=0,C=0,L,D;w<p;++w)if(L=_[w]){for(w>=C&&(C=w+1);!(D=v[C])&&++C<p;);L._next=D||null}}return l=new Nt(l,o),l._enter=a,l._exit=s,l}function Sw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Tw(){return new Nt(this._exit||this._groups.map(pd),this._parents)}function Mw(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function Iw(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),m,p=0;p<c;++p)(m=u[p]||f[p])&&(d[p]=m);for(;s<i;++s)a[s]=n[s];return new Nt(a,this._parents)}function Ow(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function Pw(t){t||(t=Nw);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new Nt(i,this._parents).order()}function Nw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ew(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function $w(){return Array.from(this)}function Rw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function Lw(){let t=0;for(const e of this)++t;return t}function Dw(){return!this.node()}function Fw(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function Bw(t){return function(){this.removeAttribute(t)}}function jw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function qw(t,e){return function(){this.setAttribute(t,e)}}function Gw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Vw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Hw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ww(t,e){var n=Or(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?jw:Bw:typeof e=="function"?n.local?Hw:Vw:n.local?Gw:qw)(n,e))}function hd(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Yw(t){return function(){this.style.removeProperty(t)}}function Uw(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Kw(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function Xw(t,e,n){return arguments.length>1?this.each((e==null?Yw:typeof e=="function"?Kw:Uw)(t,e,n??"")):wo(this.node(),t)}function wo(t,e){return t.style.getPropertyValue(e)||hd(t).getComputedStyle(t,null).getPropertyValue(e)}function Jw(t){return function(){delete this[t]}}function xw(t,e){return function(){this[t]=e}}function Zw(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Qw(t,e){return arguments.length>1?this.each((e==null?Jw:typeof e=="function"?Zw:xw)(t,e)):this.node()[t]}function _d(t){return t.trim().split(/^|\s+/)}function es(t){return t.classList||new gd(t)}function gd(t){this._node=t,this._names=_d(t.getAttribute("class")||"")}gd.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function bd(t,e){for(var n=es(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function vd(t,e){for(var n=es(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function zw(t){return function(){bd(this,t)}}function e2(t){return function(){vd(this,t)}}function t2(t,e){return function(){(e.apply(this,arguments)?bd:vd)(this,t)}}function n2(t,e){var n=_d(t+"");if(arguments.length<2){for(var o=es(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?t2:e?zw:e2)(n,e))}function o2(){this.textContent=""}function i2(t){return function(){this.textContent=t}}function r2(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function l2(t){return arguments.length?this.each(t==null?o2:(typeof t=="function"?r2:i2)(t)):this.node().textContent}function s2(){this.innerHTML=""}function a2(t){return function(){this.innerHTML=t}}function u2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function f2(t){return arguments.length?this.each(t==null?s2:(typeof t=="function"?u2:a2)(t)):this.node().innerHTML}function c2(){this.nextSibling&&this.parentNode.appendChild(this)}function d2(){return this.each(c2)}function m2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function p2(){return this.each(m2)}function h2(t){var e=typeof t=="function"?t:fd(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function _2(){return null}function g2(t,e){var n=typeof t=="function"?t:fd(t),o=e==null?_2:typeof e=="function"?e:zl(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function b2(){var t=this.parentNode;t&&t.removeChild(this)}function v2(){return this.each(b2)}function y2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function w2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function k2(t){return this.select(t?w2:y2)}function C2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function A2(t){return function(e){t.call(this,e,this.__data__)}}function S2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function T2(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function M2(t,e,n){return function(){var o=this.__on,i,r=A2(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function I2(t,e,n){var o=S2(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?M2:T2,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function yd(t,e,n){var o=hd(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function O2(t,e){return function(){return yd(this,t,e)}}function P2(t,e){return function(){return yd(this,t,e.apply(this,arguments))}}function N2(t,e){return this.each((typeof e=="function"?P2:O2)(t,e))}function*E2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var wd=[null];function Nt(t,e){this._groups=t,this._parents=e}function ri(){return new Nt([[document.documentElement]],wd)}function $2(){return this}Nt.prototype=ri.prototype={constructor:Nt,select:rw,selectAll:uw,selectChild:mw,selectChildren:gw,filter:bw,data:Aw,enter:vw,exit:Tw,join:Mw,merge:Iw,selection:$2,order:Ow,sort:Pw,call:Ew,nodes:$w,node:Rw,size:Lw,empty:Dw,each:Fw,attr:Ww,style:Xw,property:Qw,classed:n2,text:l2,html:f2,raise:d2,lower:p2,append:h2,insert:g2,remove:v2,clone:k2,datum:C2,on:I2,dispatch:N2,[Symbol.iterator]:E2};function R2(t){return typeof t=="string"?new Nt([[document.querySelector(t)]],[document.documentElement]):new Nt([[t]],wd)}function ts(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function kd(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function li(){}var zo=.7,rr=1/zo,_o="\\s*([+-]?\\d+)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",L2=/^#([0-9a-f]{3,8})$/,D2=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),F2=new RegExp(`^rgb\\(${Kt},${Kt},${Kt}\\)$`),B2=new RegExp(`^rgba\\(${_o},${_o},${_o},${ei}\\)$`),j2=new RegExp(`^rgba\\(${Kt},${Kt},${Kt},${ei}\\)$`),q2=new RegExp(`^hsl\\(${ei},${Kt},${Kt}\\)$`),G2=new RegExp(`^hsla\\(${ei},${Kt},${Kt},${ei}\\)$`),bu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ts(li,Wn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vu,formatHex:vu,formatHex8:V2,formatHsl:H2,formatRgb:yu,toString:yu});function vu(){return this.rgb().formatHex()}function V2(){return this.rgb().formatHex8()}function H2(){return Cd(this).formatHsl()}function yu(){return this.rgb().formatRgb()}function Wn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=L2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?wu(e):n===3?new St(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Mi(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Mi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=D2.exec(t))?new St(e[1],e[2],e[3],1):(e=F2.exec(t))?new St(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=B2.exec(t))?Mi(e[1],e[2],e[3],e[4]):(e=j2.exec(t))?Mi(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=q2.exec(t))?Au(e[1],e[2]/100,e[3]/100,1):(e=G2.exec(t))?Au(e[1],e[2]/100,e[3]/100,e[4]):bu.hasOwnProperty(t)?wu(bu[t]):t==="transparent"?new St(NaN,NaN,NaN,0):null}function wu(t){return new St(t>>16&255,t>>8&255,t&255,1)}function Mi(t,e,n,o){return o<=0&&(t=e=n=NaN),new St(t,e,n,o)}function W2(t){return t instanceof li||(t=Wn(t)),t?(t=t.rgb(),new St(t.r,t.g,t.b,t.opacity)):new St}function yl(t,e,n,o){return arguments.length===1?W2(t):new St(t,e,n,o??1)}function St(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}ts(St,yl,kd(li,{brighter(t){return t=t==null?rr:Math.pow(rr,t),new St(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zo:Math.pow(zo,t),new St(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new St(Dn(this.r),Dn(this.g),Dn(this.b),lr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ku,formatHex:ku,formatHex8:Y2,formatRgb:Cu,toString:Cu}));function ku(){return`#${$n(this.r)}${$n(this.g)}${$n(this.b)}`}function Y2(){return`#${$n(this.r)}${$n(this.g)}${$n(this.b)}${$n((isNaN(this.opacity)?1:this.opacity)*255)}`}function Cu(){const t=lr(this.opacity);return`${t===1?"rgb(":"rgba("}${Dn(this.r)}, ${Dn(this.g)}, ${Dn(this.b)}${t===1?")":`, ${t})`}`}function lr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Dn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $n(t){return t=Dn(t),(t<16?"0":"")+t.toString(16)}function Au(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bt(t,e,n,o)}function Cd(t){if(t instanceof Bt)return new Bt(t.h,t.s,t.l,t.opacity);if(t instanceof li||(t=Wn(t)),!t)return new Bt;if(t instanceof Bt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new Bt(l,a,s,t.opacity)}function U2(t,e,n,o){return arguments.length===1?Cd(t):new Bt(t,e,n,o??1)}function Bt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}ts(Bt,U2,kd(li,{brighter(t){return t=t==null?rr:Math.pow(rr,t),new Bt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zo:Math.pow(zo,t),new Bt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new St(zr(t>=240?t-240:t+120,i,o),zr(t,i,o),zr(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new Bt(Su(this.h),Ii(this.s),Ii(this.l),lr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=lr(this.opacity);return`${t===1?"hsl(":"hsla("}${Su(this.h)}, ${Ii(this.s)*100}%, ${Ii(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Su(t){return t=(t||0)%360,t<0?t+360:t}function Ii(t){return Math.max(0,Math.min(1,t||0))}function zr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ns=t=>()=>t;function K2(t,e){return function(n){return t+n*e}}function X2(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function J2(t){return(t=+t)==1?Ad:function(e,n){return n-e?X2(e,n,t):ns(isNaN(e)?n:e)}}function Ad(t,e){var n=e-t;return n?K2(t,n):ns(isNaN(t)?e:t)}const sr=function t(e){var n=J2(e);function o(i,r){var l=n((i=yl(i)).r,(r=yl(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=Ad(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function x2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function Z2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Q2(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=os(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function z2(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function Ft(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ek(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=os(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var wl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,el=new RegExp(wl.source,"g");function tk(t){return function(){return t}}function nk(t){return function(e){return t(e)+""}}function Sd(t,e){var n=wl.lastIndex=el.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=wl.exec(t))&&(i=el.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Ft(o,i)})),n=el.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?nk(s[0].x):tk(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function os(t,e){var n=typeof e,o;return e==null||n==="boolean"?ns(e):(n==="number"?Ft:n==="string"?(o=Wn(e))?(e=o,sr):Sd:e instanceof Wn?sr:e instanceof Date?z2:Z2(e)?x2:Array.isArray(e)?Q2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ek:Ft)(t,e)}function ok(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Tu=180/Math.PI,kl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Td(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*Tu,skewX:Math.atan(s)*Tu,scaleX:l,scaleY:a}}var Oi;function ik(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?kl:Td(e.a,e.b,e.c,e.d,e.e,e.f)}function rk(t){return t==null||(Oi||(Oi=document.createElementNS("http://www.w3.org/2000/svg","g")),Oi.setAttribute("transform",t),!(t=Oi.transform.baseVal.consolidate()))?kl:(t=t.matrix,Td(t.a,t.b,t.c,t.d,t.e,t.f))}function Md(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,m,p){if(u!==c||f!==d){var _=m.push("translate(",null,e,null,n);p.push({i:_-4,x:Ft(u,c)},{i:_-2,x:Ft(f,d)})}else(c||d)&&m.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:Ft(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:Ft(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,m,p){if(u!==c||f!==d){var _=m.push(i(m)+"scale(",null,",",null,")");p.push({i:_-4,x:Ft(u,c)},{i:_-2,x:Ft(f,d)})}else(c!==1||d!==1)&&m.push(i(m)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(m){for(var p=-1,_=d.length,v;++p<_;)c[(v=d[p]).i]=v.x(m);return c.join("")}}}var lk=Md(ik,"px, ","px)","deg)"),sk=Md(rk,", ",")",")"),ko=0,Vo=0,jo=0,Id=1e3,ar,Ho,ur=0,Yn=0,Pr=0,ti=typeof performance=="object"&&performance.now?performance:Date,Od=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function is(){return Yn||(Od(ak),Yn=ti.now()+Pr)}function ak(){Yn=0}function fr(){this._call=this._time=this._next=null}fr.prototype=Pd.prototype={constructor:fr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?is():+n)+(e==null?0:+e),!this._next&&Ho!==this&&(Ho?Ho._next=this:ar=this,Ho=this),this._call=t,this._time=n,Cl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Cl())}};function Pd(t,e,n){var o=new fr;return o.restart(t,e,n),o}function uk(){is(),++ko;for(var t=ar,e;t;)(e=Yn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ko}function Mu(){Yn=(ur=ti.now())+Pr,ko=Vo=0;try{uk()}finally{ko=0,ck(),Yn=0}}function fk(){var t=ti.now(),e=t-ur;e>Id&&(Pr-=e,ur=t)}function ck(){for(var t,e=ar,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ar=n);Ho=t,Cl(o)}function Cl(t){if(!ko){Vo&&(Vo=clearTimeout(Vo));var e=t-Yn;e>24?(t<1/0&&(Vo=setTimeout(Mu,t-ti.now()-Pr)),jo&&(jo=clearInterval(jo))):(jo||(ur=ti.now(),jo=setInterval(fk,Id)),ko=1,Od(Mu))}}function Iu(t,e,n){var o=new fr;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var dk=ud("start","end","cancel","interrupt"),mk=[],Nd=0,Ou=1,Al=2,Fi=3,Pu=4,Sl=5,Bi=6;function Nr(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;pk(t,n,{name:e,index:o,group:i,on:dk,tween:mk,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Nd})}function rs(t,e){var n=Gt(t,e);if(n.state>Nd)throw new Error("too late; already scheduled");return n}function zt(t,e){var n=Gt(t,e);if(n.state>Fi)throw new Error("too late; already running");return n}function Gt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function pk(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=Pd(r,0,n.time);function r(u){n.state=Ou,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,m;if(n.state!==Ou)return s();for(f in o)if(m=o[f],m.name===n.name){if(m.state===Fi)return Iu(l);m.state===Pu?(m.state=Bi,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete o[f]):+f<e&&(m.state=Bi,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete o[f])}if(Iu(function(){n.state===Fi&&(n.state=Pu,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Al,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Al){for(n.state=Fi,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(m=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=m);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Sl,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===Sl&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=Bi,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function hk(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>Al&&o.state<Sl,o.state=Bi,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function _k(t){return this.each(function(){hk(this,t)})}function gk(t,e){var n,o;return function(){var i=zt(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function bk(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=zt(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function vk(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=Gt(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?gk:bk)(n,t,e))}function ls(t,e,n){var o=t._id;return t.each(function(){var i=zt(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Gt(i,o).value[e]}}function Ed(t,e){var n;return(typeof e=="number"?Ft:e instanceof Wn?sr:(n=Wn(e))?(e=n,sr):Sd)(t,e)}function yk(t){return function(){this.removeAttribute(t)}}function wk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function Ck(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function Ak(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function Sk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function Tk(t,e){var n=Or(t),o=n==="transform"?sk:Ed;return this.attrTween(t,typeof e=="function"?(n.local?Sk:Ak)(n,o,ls(this,"attr."+t,e)):e==null?(n.local?wk:yk)(n):(n.local?Ck:kk)(n,o,e))}function Mk(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ik(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ok(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&Ik(t,r)),n}return i._value=e,i}function Pk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&Mk(t,r)),n}return i._value=e,i}function Nk(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=Or(t);return this.tween(n,(o.local?Ok:Pk)(o,e))}function Ek(t,e){return function(){rs(this,t).delay=+e.apply(this,arguments)}}function $k(t,e){return e=+e,function(){rs(this,t).delay=e}}function Rk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ek:$k)(e,t)):Gt(this.node(),e).delay}function Lk(t,e){return function(){zt(this,t).duration=+e.apply(this,arguments)}}function Dk(t,e){return e=+e,function(){zt(this,t).duration=e}}function Fk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Lk:Dk)(e,t)):Gt(this.node(),e).duration}function Bk(t,e){if(typeof e!="function")throw new Error;return function(){zt(this,t).ease=e}}function jk(t){var e=this._id;return arguments.length?this.each(Bk(e,t)):Gt(this.node(),e).ease}function qk(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;zt(this,t).ease=n}}function Gk(t){if(typeof t!="function")throw new Error;return this.each(qk(this._id,t))}function Vk(t){typeof t!="function"&&(t=dd(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new fn(o,this._parents,this._name,this._id)}function Hk(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,m=0;m<f;++m)(d=s[m]||u[m])&&(c[m]=d);for(;a<o;++a)l[a]=e[a];return new fn(l,this._parents,this._name,this._id)}function Wk(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Yk(t,e,n){var o,i,r=Wk(e)?rs:zt;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function Uk(t,e){var n=this._id;return arguments.length<2?Gt(this.node(),n).on.on(t):this.each(Yk(n,t,e))}function Kk(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Xk(){return this.on("end.remove",Kk(this._id))}function Jk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=zl(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Nr(u[d],e,n,d,u,Gt(f,n)));return new fn(r,this._parents,e,n)}function xk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=cd(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),m,p=Gt(f,n),_=0,v=d.length;_<v;++_)(m=d[_])&&Nr(m,e,n,_,d,p);r.push(d),l.push(f)}return new fn(r,l,e,n)}var Zk=ri.prototype.constructor;function Qk(){return new Zk(this._groups,this._parents)}function zk(t,e){var n,o,i;return function(){var r=wo(this,t),l=(this.style.removeProperty(t),wo(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function $d(t){return function(){this.style.removeProperty(t)}}function e5(t,e,n){var o,i=n+"",r;return function(){var l=wo(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function t5(t,e,n){var o,i,r;return function(){var l=wo(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),wo(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function n5(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=zt(this,t),u=s.on,f=s.value[r]==null?a||(a=$d(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function o5(t,e,n){var o=(t+="")=="transform"?lk:Ed;return e==null?this.styleTween(t,zk(t,o)).on("end.style."+t,$d(t)):typeof e=="function"?this.styleTween(t,t5(t,o,ls(this,"style."+t,e))).each(n5(this._id,t)):this.styleTween(t,e5(t,o,e),n).on("end.style."+t,null)}function i5(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function r5(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&i5(t,l,n)),o}return r._value=e,r}function l5(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,r5(t,e,n??""))}function s5(t){return function(){this.textContent=t}}function a5(t){return function(){var e=t(this);this.textContent=e??""}}function u5(t){return this.tween("text",typeof t=="function"?a5(ls(this,"text",t)):s5(t==null?"":t+""))}function f5(t){return function(e){this.textContent=t.call(this,e)}}function c5(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&f5(i)),e}return o._value=t,o}function d5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,c5(t))}function m5(){for(var t=this._name,e=this._id,n=Rd(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=Gt(s,e);Nr(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new fn(o,this._parents,t,n)}function p5(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=zt(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var h5=0;function fn(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function Rd(){return++h5}var nn=ri.prototype;fn.prototype={constructor:fn,select:Jk,selectAll:xk,selectChild:nn.selectChild,selectChildren:nn.selectChildren,filter:Vk,merge:Hk,selection:Qk,transition:m5,call:nn.call,nodes:nn.nodes,node:nn.node,size:nn.size,empty:nn.empty,each:nn.each,on:Uk,attr:Tk,attrTween:Nk,style:o5,styleTween:l5,text:u5,textTween:d5,remove:Xk,tween:vk,delay:Rk,duration:Fk,ease:jk,easeVarying:Gk,end:p5,[Symbol.iterator]:nn[Symbol.iterator]};function _5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var g5={time:null,delay:0,duration:250,ease:_5};function b5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function v5(t){var e,n;t instanceof fn?(e=t._id,t=t._name):(e=Rd(),(n=g5).time=is(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&Nr(s,t,e,u,l,n||b5(s,e));return new fn(o,this._parents,t,e)}ri.prototype.interrupt=_k;ri.prototype.transition=v5;const Tl=Math.PI,Ml=2*Tl,Pn=1e-6,y5=Ml-Pn;function Ld(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function w5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Ld;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class k5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Ld:w5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Pn)if(!(Math.abs(c*s-u*f)>Pn)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let m=o-l,p=i-a,_=s*s+u*u,v=m*m+p*p,k=Math.sqrt(_),w=Math.sqrt(d),C=r*Math.tan((Tl-Math.acos((_+d-v)/(2*k*w)))/2),L=C/w,D=C/k;Math.abs(L-1)>Pn&&this._append`L${e+L*f},${n+L*c}`,this._append`A${r},${r},0,0,${+(c*m>f*p)},${this._x1=e+D*s},${this._y1=n+D*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Pn||Math.abs(this._y1-f)>Pn)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%Ml+Ml),d>y5?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>Pn&&this._append`A${o},${o},0,${+(d>=Tl)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function C5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function cr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function Co(t){return t=cr(Math.abs(t)),t?t[1]:NaN}function A5(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function S5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var T5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dr(t){if(!(e=T5.exec(t)))throw new Error("invalid format: "+t);var e;return new ss({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}dr.prototype=ss.prototype;function ss(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ss.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function M5(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var Dd;function I5(t,e){var n=cr(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(Dd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+cr(t,Math.max(0,e+r-1))[0]}function Nu(t,e){var n=cr(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const Eu={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:C5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Nu(t*100,e),r:Nu,s:I5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $u(t){return t}var Ru=Array.prototype.map,Lu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function O5(t){var e=t.grouping===void 0||t.thousands===void 0?$u:A5(Ru.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?$u:S5(Ru.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=dr(c);var d=c.fill,m=c.align,p=c.sign,_=c.symbol,v=c.zero,k=c.width,w=c.comma,C=c.precision,L=c.trim,D=c.type;D==="n"?(w=!0,D="g"):Eu[D]||(C===void 0&&(C=12),L=!0,D="g"),(v||d==="0"&&m==="=")&&(v=!0,d="0",m="=");var E=_==="$"?n:_==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",$=_==="$"?o:/[%p]/.test(D)?l:"",V=Eu[D],R=/[defgprs%]/.test(D);C=C===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function H(y){var b=E,I=$,N,W,F;if(D==="c")I=V(y)+I,y="";else{y=+y;var Q=y<0||1/y<0;if(y=isNaN(y)?s:V(Math.abs(y),C),L&&(y=M5(y)),Q&&+y==0&&p!=="+"&&(Q=!1),b=(Q?p==="("?p:a:p==="-"||p==="("?"":p)+b,I=(D==="s"?Lu[8+Dd/3]:"")+I+(Q&&p==="("?")":""),R){for(N=-1,W=y.length;++N<W;)if(F=y.charCodeAt(N),48>F||F>57){I=(F===46?i+y.slice(N+1):y.slice(N))+I,y=y.slice(0,N);break}}}w&&!v&&(y=e(y,1/0));var ne=b.length+y.length+I.length,z=ne<k?new Array(k-ne+1).join(d):"";switch(w&&v&&(y=e(z+y,z.length?k-I.length:1/0),z=""),m){case"<":y=b+y+I+z;break;case"=":y=b+z+y+I;break;case"^":y=z.slice(0,ne=z.length>>1)+b+y+I+z.slice(ne);break;default:y=z+b+y+I;break}return r(y)}return H.toString=function(){return c+""},H}function f(c,d){var m=u((c=dr(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(Co(d)/3)))*3,_=Math.pow(10,-p),v=Lu[8+p/3];return function(k){return m(_*k)+v}}return{format:u,formatPrefix:f}}var Pi,Fd,Bd;P5({thousands:",",grouping:[3],currency:["$",""]});function P5(t){return Pi=O5(t),Fd=Pi.format,Bd=Pi.formatPrefix,Pi}function N5(t){return Math.max(0,-Co(Math.abs(t)))}function E5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Co(e)/3)))*3-Co(Math.abs(t)))}function $5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Co(e)-Co(t))+1}function R5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function L5(t){return function(){return t}}function D5(t){return+t}var Du=[0,1];function co(t){return t}function Il(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:L5(isNaN(e)?NaN:.5)}function F5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function B5(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=Il(i,o),r=n(l,r)):(o=Il(o,i),r=n(r,l)),function(a){return r(o(a))}}function j5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=Il(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=jy(t,a,1,o)-1;return r[s](i[s](a))}}function q5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function G5(){var t=Du,e=Du,n=os,o,i,r,l=co,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==co&&(l=F5(t[0],t[d-1])),a=d>2?j5:B5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),Ft)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,D5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=ok,f()},c.clamp=function(d){return arguments.length?(l=d?!0:co,f()):l!==co},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,m){return o=d,i=m,f()}}function V5(){return G5()(co,co)}function H5(t,e,n,o){var i=Wy(t,e,n),r;switch(o=dr(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=E5(i,l))&&(o.precision=r),Bd(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=$5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=N5(i))&&(o.precision=r-(o.type==="%")*2);break}}return Fd(o)}function W5(t){var e=t.domain;return t.ticks=function(n){var o=e();return Hy(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return H5(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=gl(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function Ol(){var t=V5();return t.copy=function(){return q5(t,Ol())},R5.apply(t,arguments),W5(t)}function ao(t){return function(){return t}}function Y5(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new k5(e)}function U5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function jd(t){this._context=t}jd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function K5(t){return new jd(t)}function X5(t){return t[0]}function J5(t){return t[1]}function tl(t,e){var n=ao(!0),o=null,i=K5,r=null,l=Y5(a);t=typeof t=="function"?t:t===void 0?X5:ao(t),e=typeof e=="function"?e:e===void 0?J5:ao(e);function a(s){var u,f=(s=U5(s)).length,c,d=!1,m;for(o==null&&(r=i(m=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(m)return r=null,m+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:ao(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:ao(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:ao(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function Wo(t,e,n){this.k=t,this.x=e,this.y=n}Wo.prototype={constructor:Wo,scale:function(t){return t===1?this:new Wo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Wo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Wo.prototype;function x5(t){let e;return{c(){e=hr("svg"),P(e,"id","line-chart")},m(n,o){M(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&T(e)}}}const Fu=52;function Z5(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;tl().x((p,_)=>r(_)).y(p=>l(p)),_r(()=>{n(1,i=R2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=Ol().range([0,s]),l=Ol().range([u,0]),o.length&&f()});function f(){const p=o.length>Fu?o.slice(-Fu):o;c(p),d(p),m()}function c(p){i.selectAll(".line").remove();const _=tl().defined(k=>k>-5).x((k,w)=>r(w)).y(k=>l(k)),v=tl().defined(k=>k<0).x((k,w)=>r(w)).y(k=>l(k));i.append("path").datum(p).attr("class","line positive").attr("d",_).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(p).attr("class","line negative").attr("d",v).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(p){const _=Math.max(0,...p),v=Math.min(0,...p);r.domain([0,p.length-1]),l.domain([v,_]).nice()}function m(p){const _=Zy(r).ticks(0),v=Qy(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(_),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(v)}return t.$$set=p=>{"data"in p&&n(0,o=p.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class Q5 extends ve{constructor(e){super(),be(this,e,Z5,x5,ue,{data:0})}}function z5(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=B("Manage your Knowledge ("),o=B(n),i=B(" pts)")},m(r,l){M(r,e,l),M(r,o,l),M(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&re(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function e3(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[z5]},$$scope:{ctx:t}}}),o=new Qn({}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&258&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Bu(t){let e,n,o=Vu(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=O("br"),n=B(`
          (total value: $`),i=B(o),r=B(")")},m(l,a){M(l,e,a),M(l,n,a),M(l,i,a),M(l,r,a)},p(l,a){a&10&&o!==(o=Vu(l[1].townInfo.knowledge_points*l[3])+"")&&re(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function ju(t){let e;return{c(){e=O("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
          convert.`},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function qu(t){let e,n,o;return n=new yt({props:{variant:"default",$$slots:{default:[t3]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=O("div"),J(n.$$.fragment)},m(i,r){M(i,e,r),K(n,e,null),o=!0},p(i,r){const l={};r&256&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(A(n.$$.fragment,i),o=!0)},o(i){S(n.$$.fragment,i),o=!1},d(i){i&&T(e),X(n)}}}function t3(t){let e;return{c(){e=B("Convert Knowledge to Gold")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Gu(t){let e;return{c(){e=O("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function n3(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,m,p,_,v,k,w,C,L,D;e=new xn({props:{$$slots:{default:[e3]},$$scope:{ctx:t}}});let E=t[3]>0&&Bu(t);_=new Q5({props:{data:t[2]}});let $=t[3]<0&&ju(),V=t[1].hasBank&&t[3]>0&&qu(t),R=t[1].hasBank===!1&&Gu();return L=new Oo({}),{c(){J(e.$$.fragment),n=q(),o=O("span"),o.textContent="Knowledge is power, unlock it!",i=q(),r=O("div"),l=O("div"),a=B("Market Rate: "),s=O("span"),f=B(u),c=B(" gold"),m=B(`
        per Knowledge Point
        `),E&&E.c(),p=q(),J(_.$$.fragment),v=q(),$&&$.c(),k=q(),V&&V.c(),w=q(),R&&R.c(),C=q(),J(L.$$.fragment),P(o,"class","italic"),P(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),P(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(H,y){K(e,H,y),M(H,n,y),M(H,o,y),M(H,i,y),M(H,r,y),g(r,l),g(l,a),g(l,s),g(s,f),g(s,c),g(l,m),E&&E.m(l,null),g(r,p),K(_,r,null),g(r,v),$&&$.m(r,null),g(r,k),V&&V.m(r,null),g(r,w),R&&R.m(r,null),M(H,C,y),K(L,H,y),D=!0},p(H,y){const b={};y&258&&(b.$$scope={dirty:y,ctx:H}),e.$set(b),(!D||y&8)&&u!==(u=(H[3]??0)+"")&&re(f,u),(!D||y&8&&d!==(d=H[3]<0?"text-red-500":"text-green-500"))&&P(s,"class",d),H[3]>0?E?E.p(H,y):(E=Bu(H),E.c(),E.m(l,null)):E&&(E.d(1),E=null);const I={};y&4&&(I.data=H[2]),_.$set(I),H[3]<0?$||($=ju(),$.c(),$.m(r,k)):$&&($.d(1),$=null),H[1].hasBank&&H[3]>0?V?(V.p(H,y),y&10&&A(V,1)):(V=qu(H),V.c(),A(V,1),V.m(r,w)):V&&(Ie(),S(V,1,1,()=>{V=null}),Oe()),H[1].hasBank===!1?R||(R=Gu(),R.c(),R.m(r,null)):R&&(R.d(1),R=null)},i(H){D||(A(e.$$.fragment,H),A(_.$$.fragment,H),A(V),A(L.$$.fragment,H),D=!0)},o(H){S(e.$$.fragment,H),S(_.$$.fragment,H),S(V),S(L.$$.fragment,H),D=!1},d(H){H&&(T(n),T(o),T(i),T(r),T(C)),X(e,H),E&&E.d(),X(_),$&&$.d(),V&&V.d(),R&&R.d(),X(L,H)}}}function o3(t){let e,n;return e=new Zn({props:{transitionConfig:{duration:0},class:"bg-foreground text-foregroundText",$$slots:{default:[n3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&270&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function i3(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[o3]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new zn({props:r}),Ne.push(()=>Mn(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){K(e,l,a),o=!0},p(l,[a]){const s={};a&270&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],Tn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function Vu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function r3(t,e,n){let o,i;se(t,Pe,u=>n(1,o=u)),se(t,Ui,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,Pe.set(u),localStorage.setItem(qt,JSON.stringify(u))):showCustomAlert.set("You need a bank to convert knowledge to gold.")}function s(u){i=u,Ui.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class l3 extends ve{constructor(e){super(),be(this,e,r3,i3,ue,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const s3=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:5e3,duration:180,effect:!0},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
        
         We don't really know what that means, but it seems to make people healthier. 
        `,cost:8e3,duration:200,effect:!0},{id:"goodbye_carrots",title:"Goodbye Carrots",description:`Scientist Jarrod M. collaborated with local carrot farms to enhance the recipe, aiming to increase consumers' height by 10%.

        Unfortunately, the experiment failed, and all the local carrot farms have gone out of business. 
        `,cost:8e3,duration:80,effect:!0},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.

        The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
        `,cost:3e3,duration:60,effect:!1},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab. 

        She hopes nobody will miss it. Your town now has some more money. 
        `,cost:15e3,duration:180,effect:!0},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes. 

        We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:!0},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach. 

        We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:!1},{id:"coffee_boost_tourism",title:"Speedy Brews",description:`Scientist Claudia A. has found that a specific blend of coffee can significantly increase productivity among town employees. 

        The catch? It only works on Mondays. But hey, starting the week with a turbo-charged workforce might just be the boost we needed. The town gets a bit of extra cash from the productivity, and a bit of tourism revenue from coffee tourism.
        `,cost:8e3,duration:100,effect:!0},{id:"bee_bonanza",title:"Buzzing with Possibilities",description:`Scientist Will B. thought that introducing genetically modified super bees to the local ecosystem could help with pollination.
        
        Unfortunately, these bees prefer coffee plants over all others, leading to all coffee bean farms forced to close.`,cost:5e3,duration:120,effect:!0},{id:"wheat_whirlwind",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather control experiment aimed at improving crop yields accidentally resulted in a series of mini-tornadoes sweeping through the town's wheat farms. The wheat is gone, but the townsfolk have never been more entertained.

        Local bakers mourn the loss of wheat while selling tickets to the wheat whirlwind tours. All wheat farms are now torn down, but happiness is up.`,cost:7e3,duration:150,effect:!0},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.

        Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:!0},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools. 

        This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:!0},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took the funding and applied the town for a grant to improve education.

        The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:4e4,duration:45,effect:!0},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress. 
		
		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:!0}];function Hu(t,e,n){const o=t.slice();return o[17]=e[n],o}function a3(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=B("🎉 Experiment Completed: "),o=B(n)},m(i,r){M(i,e,r),M(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&re(o,n)},d(i){i&&(T(e),T(o))}}}function u3(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=O("div"),o=B(n),P(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){M(i,e,r),g(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&re(o,n)},d(i){i&&T(e)}}}function f3(t){let e,n,o,i;return e=new xl({props:{class:"text-center",$$slots:{default:[a3]},$$scope:{ctx:t}}}),o=new Ql({props:{$$slots:{default:[u3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function c3(t){let e;return{c(){e=B("Thank the scientists")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function d3(t){let e,n;return e=new rd({props:{$$slots:{default:[c3]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function m3(t){let e,n,o,i;return e=new Zl({props:{$$slots:{default:[f3]},$$scope:{ctx:t}}}),o=new Tr({props:{$$slots:{default:[d3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048576&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function p3(t){let e,n;return e=new Mr({props:{$$slots:{default:[m3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&1048578&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function h3(t){let e;return{c(){e=O("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function _3(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=O("span"),n=B("You have earned "),o=O("span"),r=B(i),l=B(" XP"),s=B(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),P(o,"class",a="italic "+(t[1].lab.xp<0?"text-textDanger1":"text-primaryText"))},m(u,f){M(u,e,f),g(e,n),g(e,o),g(o,r),g(o,l),g(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&re(r,i),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-textDanger1":"text-primaryText"))&&P(o,"class",a)},d(u){u&&T(e)}}}function g3(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[h3]},$$scope:{ctx:t}}}),o=new Qn({props:{$$slots:{default:[_3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&1048576&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function b3(t){let e;return{c(){e=B("No more experiments available")},m(n,o){M(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&T(e)}}}function v3(t){let e,n,o,i,r=Ye(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=Yu(Hu(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=O("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=q(),o=O("div");for(let s=0;s<l.length;s+=1)l[s].c();P(e,"class","select-none text-sm "),P(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){M(s,e,u),M(s,n,u),M(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=Ye(s[0]);let f;for(f=0;f<r.length;f+=1){const c=Hu(s,r,f);l[f]?(l[f].p(c,u),A(l[f],1)):(l[f]=Yu(c),l[f].c(),A(l[f],1),l[f].m(o,null))}for(Ie(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)A(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),_t(l,s)}}}function y3(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&Uu(t);return{c(){e=B("Currently running an experiment... check back in "),o=B(n),i=B(` days.
      `),a&&a.c(),r=Re()},m(s,u){M(s,e,u),M(s,o,u),M(s,i,u),a&&a.m(s,u),M(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&re(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&A(a,1)):(a=Uu(s),a.c(),A(a,1),a.m(r.parentNode,r)):a&&(Ie(),S(a,1,1,()=>{a=null}),Oe())},i(s){l||(A(a),l=!0)},o(s){S(a),l=!1},d(s){s&&(T(e),T(o),T(i),T(r)),a&&a.d(s)}}}function Wu(t){let e,n,o=t[17].id+"",i;return{c(){e=O("span"),n=B("// dev-"),i=B(o),P(e,"class","text-xs text-gray-400")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&1&&o!==(o=r[17].id+"")&&re(i,o)},d(r){r&&T(e)}}}function w3(t){let e,n=Ku(t[17].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&Wu(t);return{c(){e=B("$"),o=B(n),i=B(` gold

            `),l&&l.c(),r=q()},m(a,s){M(a,e,s),M(a,o,s),M(a,i,s),l&&l.m(a,s),M(a,r,s)},p(a,s){s&1&&n!==(n=Ku(a[17].cost).split(".")[0]+"")&&re(o,n),a[1].devMode===!0?l?l.p(a,s):(l=Wu(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(T(e),T(o),T(i),T(r)),l&&l.d(a)}}}function Yu(t){let e,n;function o(){return t[11](t[17])}return e=new yt({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[w3]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){J(e.$$.fragment)},m(i,r){K(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&1048579&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Uu(t){let e,n;return e=new yt({props:{variant:"outline",$$slots:{default:[k3]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function k3(t){let e;return{c(){e=B("Complete experiment (and face the impact)")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function C3(t){let e;return{c(){e=O("span"),e.textContent="Keep in mind that not all experiments yield positive results.",P(e,"class","italic text-left text-textDanger1")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function A3(t){let e,n,o,i,r,l,a,s,u,f,c;e=new xn({props:{$$slots:{default:[g3]},$$scope:{ctx:t}}}),o=new wt({});const d=[y3,v3,b3],m=[];function p(_,v){return _[1].lab.active_experiment!==null?0:_[0].length>0?1:_[0].length===0?2:-1}return~(r=p(t))&&(l=m[r]=d[r](t)),s=new wt({props:{class:"mt-4"}}),f=new Oo({props:{$$slots:{default:[C3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment),i=q(),l&&l.c(),a=q(),J(s.$$.fragment),u=q(),J(f.$$.fragment)},m(_,v){K(e,_,v),M(_,n,v),K(o,_,v),M(_,i,v),~r&&m[r].m(_,v),M(_,a,v),K(s,_,v),M(_,u,v),K(f,_,v),c=!0},p(_,v){const k={};v&1048578&&(k.$$scope={dirty:v,ctx:_}),e.$set(k);let w=r;r=p(_),r===w?~r&&m[r].p(_,v):(l&&(Ie(),S(m[w],1,1,()=>{m[w]=null}),Oe()),~r?(l=m[r],l?l.p(_,v):(l=m[r]=d[r](_),l.c()),A(l,1),l.m(a.parentNode,a)):l=null);const C={};v&1048576&&(C.$$scope={dirty:v,ctx:_}),f.$set(C)},i(_){c||(A(e.$$.fragment,_),A(o.$$.fragment,_),A(l),A(s.$$.fragment,_),A(f.$$.fragment,_),c=!0)},o(_){S(e.$$.fragment,_),S(o.$$.fragment,_),S(l),S(s.$$.fragment,_),S(f.$$.fragment,_),c=!1},d(_){_&&(T(n),T(i),T(a),T(u)),X(e,_),X(o,_),~r&&m[r].d(_),X(s,_),X(f,_)}}}function S3(t){let e,n;return e=new Zn({props:{class:"bg-foreground text-foregroundText",$$slots:{default:[A3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&1048579&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function T3(t){let e,n,o,i,r;e=new Ir({props:{open:t[2],$$slots:{default:[p3]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[S3]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new zn({props:a}),Ne.push(()=>Mn(o,"open",l)),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(s,u){K(e,s,u),M(s,n,u),K(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&1048578&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&1048579&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],Tn(()=>i=!1)),o.$set(c)},i(s){r||(A(e.$$.fragment,s),A(o.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(o.$$.fragment,s),r=!1},d(s){s&&T(n),X(e,s),X(o,s)}}}function Ku(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function M3(t,e,n){let o,i;se(t,Pe,C=>n(1,o=C)),se(t,$i,C=>n(3,i=C));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let C=[],L=s3.filter(D=>!o.lab.past_experiments.some(E=>E.id===D.id));for(let D=0;D<3;D++){let E=L[Math.floor(Math.random()*L.length)];E.cost=Math.floor(Math.random()*(E.cost*.35)+E.cost*.8),C.push(E)}return C=C.filter((D,E)=>C.indexOf(D)===E),C=C.filter(D=>D),n(8,u=!0),C}function c(C){if(o.townInfo.gold<C.cost){showCustomAlert.set("You do not have enough gold to purchase this experiment.");return}Me(Pe,o.townInfo.gold-=C.cost,o),Me(Pe,o.lab.active_experiment=C,o),o.lab.past_experiments.push(C)}function d(){var C;switch(Me($i,i=!1,i),n(2,s=!0),(C=o.lab.active_experiment)===null||C===void 0?void 0:C.id){case"sunshine":Me(Pe,o.modifiers.happiness=50,o);break;case"antibiotics":Me(Pe,o.modifiers.health=50,o);break;case"goodbye_carrots":p("carrot_farm");break;case"missing_treasure":Me(Pe,o.townInfo.gold+=Math.floor(Math.random()*o.lab.active_experiment.cost*2),o);break;case"tax_relief":Me(Pe,o.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*o.economyAndLaws.max_tax_rate,o);break;case"bee_bonanza":p("coffee_bean_farm");break;case"wheat_whirlwind":p("wheat_farm"),Me(Pe,o.townInfo.happiness*=1.5,o),Me(Pe,o.modifiers.happiness+=3,o);break;case"educational_eclipse":p("small_school"),p("large_school"),Me(Pe,o.townInfo.knowledge_points*=.8,o);break;case"education_grant":Me(Pe,o.townInfo.knowledge_points*=1.5,o),Me(Pe,o.townInfo.gold+=15e4,o);break;case"mindfulness_meditation_classes":o.modifiers.happiness*1.5;break}Me(Pe,o.lab.active_experiment.duration=-1,o)}function m(){let C=o;C.lab.xp+=Math.round(C.lab.active_experiment.cost*(Math.random()*2+.5)),C.lab.active_experiment=null,n(2,s=!1),Me(Pe,o=C,o)}function p(C){let L=He(C,o);for(let D=0;D<L.length;D++)Yi(L[D].x,L[D].y,o)}const _=()=>{m()},v=()=>{d()},k=C=>{C.cost<o.townInfo.gold&&c(C)};function w(C){i=C,$i.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,m,r,u,_,v,k,w]}class I3 extends ve{constructor(e){super(),be(this,e,M3,T3,ue,{})}}function Xu(t,e,n){const o=t.slice();return o[19]=e[n],o}function Ju(t){let e,n=Ye({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=xu(Xu(t,n,i));return{c(){e=O("div");for(let i=0;i<o.length;i+=1)o[i].c();P(e,"class","confetti-holder svelte-15ksp55"),gn(e,"rounded",t[9]),gn(e,"cone",t[10]),gn(e,"no-gravity",t[11]),gn(e,"reduced-motion",t[13])},m(i,r){M(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=Ye({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=Xu(i,n,l);o[l]?o[l].p(a,r):(o[l]=xu(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&gn(e,"rounded",i[9]),r&1024&&gn(e,"cone",i[10]),r&2048&&gn(e,"no-gravity",i[11]),r&8192&&gn(e,"reduced-motion",i[13])},d(i){i&&T(e),_t(o,i)}}}function xu(t){let e;return{c(){e=O("div"),P(e,"class","confetti svelte-15ksp55"),Ze(e,"--fall-distance",t[8]),Ze(e,"--size",t[0]+"px"),Ze(e,"--color",t[15]()),Ze(e,"--skew",Ct(-45,45)+"deg,"+Ct(-45,45)+"deg"),Ze(e,"--rotation-xyz",Ct(-10,10)+", "+Ct(-10,10)+", "+Ct(-10,10)),Ze(e,"--rotation-deg",Ct(0,360)+"deg"),Ze(e,"--translate-y-multiplier",Ct(t[2][0],t[2][1])),Ze(e,"--translate-x-multiplier",Ct(t[1][0],t[1][1])),Ze(e,"--scale",.1*Ct(2,10)),Ze(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),Ze(e,"--transition-delay",Ct(t[5][0],t[5][1])+"ms"),Ze(e,"--transition-iteration-count",t[4]?"infinite":t[7]),Ze(e,"--x-spread",1-t[12])},m(n,o){M(n,e,o)},p(n,o){o&256&&Ze(e,"--fall-distance",n[8]),o&1&&Ze(e,"--size",n[0]+"px"),o&4&&Ze(e,"--translate-y-multiplier",Ct(n[2][0],n[2][1])),o&2&&Ze(e,"--translate-x-multiplier",Ct(n[1][0],n[1][1])),o&24&&Ze(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&Ze(e,"--transition-delay",Ct(n[5][0],n[5][1])+"ms"),o&144&&Ze(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&Ze(e,"--x-spread",1-n[12])},d(n){n&&T(e)}}}function O3(t){let e,n=!t[14]&&Ju(t);return{c(){n&&n.c(),e=Re()},m(o,i){n&&n.m(o,i),M(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=Ju(o),n.c(),n.m(e.parentNode,e))},i:Ce,o:Ce,d(o){o&&T(e),n&&n.d(o)}}}function Ct(t,e){return Math.random()*(e-t)+t}function P3(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:p=!1}=e,{cone:_=!1}=e,{noGravity:v=!1}=e,{xSpread:k=.15}=e,{destroyOnComplete:w=!0}=e,{disableForReducedMotion:C=!1}=e,L=!1;_r(()=>{!w||a||d=="infinite"||setTimeout(()=>n(14,L=!0),(l+s[1])*d)});function D(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(Ct(u[0],u[1]))}, 75%, 50%)`}return t.$$set=E=>{"size"in E&&n(0,o=E.size),"x"in E&&n(1,i=E.x),"y"in E&&n(2,r=E.y),"duration"in E&&n(3,l=E.duration),"infinite"in E&&n(4,a=E.infinite),"delay"in E&&n(5,s=E.delay),"colorRange"in E&&n(16,u=E.colorRange),"colorArray"in E&&n(17,f=E.colorArray),"amount"in E&&n(6,c=E.amount),"iterationCount"in E&&n(7,d=E.iterationCount),"fallDistance"in E&&n(8,m=E.fallDistance),"rounded"in E&&n(9,p=E.rounded),"cone"in E&&n(10,_=E.cone),"noGravity"in E&&n(11,v=E.noGravity),"xSpread"in E&&n(12,k=E.xSpread),"destroyOnComplete"in E&&n(18,w=E.destroyOnComplete),"disableForReducedMotion"in E&&n(13,C=E.disableForReducedMotion)},[o,i,r,l,a,s,c,d,m,p,_,v,k,C,L,D,u,f,w]}class N3 extends ve{constructor(e){super(),be(this,e,P3,O3,ue,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function E3(t){let e,n,o;return{c(){e=O("div"),P(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all"),P(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`)},m(i,r){M(i,e,r)},p(i,r){r&8&&n!==(n="h-full w-full flex-1 "+i[3]+" transition-all")&&P(e,"class",n),r&6&&o!==(o=`transform: translateX(-${100-100*(i[2]??0)/(i[1]??1)}%)`)&&P(e,"style",o)},d(i){i&&T(e)}}}function $3(t){let e,n;const o=[{class:Fe("relative h-4 w-full overflow-hidden rounded-full bg-white",t[0])},t[4]];let i={$$slots:{default:[E3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new u1({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&17?we(o,[l&1&&{class:Fe("relative h-4 w-full overflow-hidden rounded-full bg-white",r[0])},l&16&&rt(r[4])]):{};l&46&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function R3(t,e,n){const o=["class","max","value","color"];let i=le(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-secondary"}=e;return t.$$set=u=>{e=x(x({},e),$e(u)),n(4,i=le(e,o)),"class"in u&&n(0,r=u.class),"max"in u&&n(1,l=u.max),"value"in u&&n(2,a=u.value),"color"in u&&n(3,s=u.color)},[r,l,a,s,i]}class L3 extends ve{constructor(e){super(),be(this,e,R3,$3,ue,{class:0,max:1,value:2,color:3})}}function D3(t){let e;const n=t[5].default,o=de(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&pe(o,n,i,i[6],e?me(n,i[6],r,null):he(i[6]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function F3(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:Fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",t[0])},t[4]];let i={$$slots:{default:[D3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new x1({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&31?we(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:Fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",r[0])},l&16&&rt(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function B3(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=4}=e,{transition:u=vr}=e,{transitionConfig:f={y:8,duration:150}}=e;return t.$$set=c=>{e=x(x({},e),$e(c)),n(4,i=le(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class Po extends ve{constructor(e){super(),be(this,e,B3,F3,ue,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const No=L1,Eo=ob;function Zu(t,e,n){const o=t.slice();return o[19]=e[n].name,o[20]=e[n].value,o[21]=e[n].modifier,o}function j3(t){let e,n=t[19]+"",o,i,r=ut(t[21],2)+"",l,a,s,u,f;return u=new L3({props:{value:t[20],max:300,class:"w-full h-2",color:t[12](t[20])}}),{c(){e=O("span"),o=B(n),i=B(" (x"),l=B(r),a=B(")"),s=q(),J(u.$$.fragment),P(e,"class","text-xs pb-1")},m(c,d){M(c,e,d),g(e,o),g(e,i),g(e,l),g(e,a),M(c,s,d),K(u,c,d),f=!0},p(c,d){(!f||d&4)&&n!==(n=c[19]+"")&&re(o,n),(!f||d&4)&&r!==(r=ut(c[21],2)+"")&&re(l,r);const m={};d&4&&(m.value=c[20]),d&4&&(m.color=c[12](c[20])),u.$set(m)},i(c){f||(A(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(s)),X(u,c)}}}function q3(t){let e,n,o=t[19]+"",i,r,l,a,s=t[20]+"",u,f,c,d,m,p=ut(t[21],0)+"",_;return{c(){e=O("div"),n=O("span"),i=B(o),r=q(),l=O("span"),a=B("Base: "),u=B(s),f=B(" / 300"),c=q(),d=O("span"),m=B("Modifier: "),_=B(p),P(n,"class","text-sm font-bold"),P(l,"class","text-xs"),P(d,"class","text-xs"),P(e,"class","flex flex-col justify-between p-0 m-0")},m(v,k){M(v,e,k),g(e,n),g(n,i),g(e,r),g(e,l),g(l,a),g(l,u),g(l,f),g(e,c),g(e,d),g(d,m),g(d,_)},p(v,k){k&4&&o!==(o=v[19]+"")&&re(i,o),k&4&&s!==(s=v[20]+"")&&re(u,s),k&4&&p!==(p=ut(v[21],0)+"")&&re(_,p)},d(v){v&&T(e)}}}function G3(t){let e,n,o,i;return e=new Eo({props:{class:"h-7 w-full mt-0 flex flex-col",$$slots:{default:[j3]},$$scope:{ctx:t}}}),o=new Po({props:{class:t[12](t[20]),$$slots:{default:[q3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&16777220&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4&&(s.class=r[12](r[20])),l&16777220&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Qu(t){let e,n,o,i;return n=new No({props:{openDelay:400,closeDelay:0,$$slots:{default:[G3]},$$scope:{ctx:t}}}),{c(){e=O("div"),J(n.$$.fragment),o=q(),P(e,"class","flex flex-col gap-2")},m(r,l){M(r,e,l),K(n,e,null),g(e,o),i=!0},p(r,l){const a={};l&16777220&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(A(n.$$.fragment,r),i=!0)},o(r){S(n.$$.fragment,r),i=!1},d(r){r&&T(e),X(n)}}}function V3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=O("span"),n=B("+$"),i=B(o),P(e,"class","text-textPrimary")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&re(i,o)},d(r){r&&T(e)}}}function H3(t){let e,n=t[0].economyAndLaws.weeklyProfit+"",o;return{c(){e=O("span"),o=B(n),P(e,"class","text-textDanger2")},m(i,r){M(i,e,r),g(e,o)},p(i,r){r&1&&n!==(n=i[0].economyAndLaws.weeklyProfit+"")&&re(o,n)},d(i){i&&T(e)}}}function W3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=O("span"),n=B("+$"),i=B(o),P(e,"class","text-textHappy")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&re(i,o)},d(r){r&&T(e)}}}function Y3(t){let e=ut(t[0].townInfo.employees/t[0].townInfo.population_count*100,0)+"",n,o,i=t[0].townInfo.employees+"",r,l,a=t[0].townInfo.population_count+"",s,u,f=t[0].townInfo.population_count-t[0].townInfo.employees+"",c,d;return{c(){n=B(e),o=B("% employment ("),r=B(i),l=B("/"),s=B(a),u=B(" - "),c=B(f),d=B(" unemployed)")},m(m,p){M(m,n,p),M(m,o,p),M(m,r,p),M(m,l,p),M(m,s,p),M(m,u,p),M(m,c,p),M(m,d,p)},p(m,p){p&1&&e!==(e=ut(m[0].townInfo.employees/m[0].townInfo.population_count*100,0)+"")&&re(n,e),p&1&&i!==(i=m[0].townInfo.employees+"")&&re(r,i),p&1&&a!==(a=m[0].townInfo.population_count+"")&&re(s,a),p&1&&f!==(f=m[0].townInfo.population_count-m[0].townInfo.employees+"")&&re(c,f)},d(m){m&&(T(n),T(o),T(r),T(l),T(s),T(u),T(c),T(d))}}}function U3(t){let e;function n(r,l){return r[0].townInfo.population_count===0?X3:K3}let o=n(t),i=o(t);return{c(){i.c(),e=Re()},m(r,l){i.m(r,l),M(r,e,l)},p(r,l){o!==(o=n(r))&&(i.d(1),i=o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i.d(r)}}}function K3(t){let e;return{c(){e=B("All citizens employed")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function X3(t){let e;return{c(){e=B("Nobody lives here , build some homes")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function J3(t){let e;return{c(){e=B("Pick an active Plot")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function x3(t){let e;return{c(){e=B("Set your location!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Z3(t){let e;function n(r,l){return r[5]?J3:x3}let o=n(t),i=o(t);return{c(){e=O("div"),i.c()},m(r,l){M(r,e,l),i.m(e,null)},p(r,l){o!==(o=n(r))&&(i.d(1),i=o(r),i&&(i.c(),i.m(e,null)))},d(r){r&&T(e),i.d()}}}function Q3(t){let e;return{c(){e=O("div"),e.textContent="Manage Knowledge"},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function z3(t){let e;return{c(){e=O("div"),e.textContent="City Management"},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function zu(t){let e;function n(r,l){if(r[0].lab.active_experiment.duration>0)return t4;if(r[0].lab.active_experiment.duration===0)return e4}let o=n(t),i=o&&o(t);return{c(){i&&i.c(),e=Re()},m(r,l){i&&i.m(r,l),M(r,e,l)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i&&i.d(1),i=o&&o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i&&i.d(r)}}}function e4(t){let e;return{c(){e=O("span"),e.textContent="✅ DONE!",P(e,"class","animate-pulse ")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function t4(t){let e,n=t[0].lab.active_experiment.duration+"",o,i;return{c(){e=O("span"),o=B(n),i=B("d")},m(r,l){M(r,e,l),g(e,o),g(e,i)},p(r,l){l&1&&n!==(n=r[0].lab.active_experiment.duration+"")&&re(o,n)},d(r){r&&T(e)}}}function n4(t){let e,n,o=t[0].lab.active_experiment!==null&&zu(t);return{c(){e=O("div"),n=B(`Manage Lab
            `),o&&o.c()},m(i,r){M(i,e,r),g(e,n),o&&o.m(e,null)},p(i,r){i[0].lab.active_experiment!==null?o?o.p(i,r):(o=zu(i),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(i){i&&T(e),o&&o.d()}}}function ef(t){let e,n,o,i;return o=new No({props:{openDelay:400,closeDelay:0,$$slots:{default:[r4]},$$scope:{ctx:t}}}),{c(){e=O("div"),n=O("div"),J(o.$$.fragment),P(n,"class","flex flex-row justify-center text-xs bg-white rounded-t-2xl text-black py-2 whitespace-nowrap px-2 opacity-50"),P(e,"class","flex flex-col justify-center items-center ")},m(r,l){M(r,e,l),g(e,n),K(o,n,null),i=!0},p(r,l){const a={};l&16777217&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(A(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(e),X(o)}}}function o4(t){let e,n,o,i,r=jt[t[0].currentTutorialStep-1].goldReward+"",l;return{c(){e=O("span"),n=B(`Last reward
                  `),o=O("div"),i=B("💰"),l=B(r),P(e,"class","w-full no-select opacity-70 whitespace-nowrap text-center")},m(a,s){M(a,e,s),g(e,n),g(e,o),g(o,i),g(o,l)},p(a,s){s&1&&r!==(r=jt[a[0].currentTutorialStep-1].goldReward+"")&&re(l,r)},d(a){a&&T(e)}}}function i4(t){let e,n=jt[t[0].currentTutorialStep-1].message+"",o;return{c(){e=B("Last completed task: "),o=B(n)},m(i,r){M(i,e,r),M(i,o,r)},p(i,r){r&1&&n!==(n=jt[i[0].currentTutorialStep-1].message+"")&&re(o,n)},d(i){i&&(T(e),T(o))}}}function r4(t){let e,n,o,i;return e=new Eo({props:{$$slots:{default:[o4]},$$scope:{ctx:t}}}),o=new Po({props:{class:"bg-black text-white rounded-2xl",$$slots:{default:[i4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&16777217&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16777217&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function tf(t){let e,n;return e=new N3({props:{y:[-.5,.5],x:[-.5,.5],duration:2e3}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function l4(t){let e=jt[t[0].currentTutorialStep].message+"",n,o,i,r,l=jt[t[0].currentTutorialStep].goldReward+"",a,s;return{c(){n=B(e),o=q(),i=O("span"),r=B("(💰"),a=B(l),s=B(")"),P(i,"class","opacity-40")},m(u,f){M(u,n,f),M(u,o,f),M(u,i,f),g(i,r),g(i,a),g(i,s)},p(u,f){f&1&&e!==(e=jt[u[0].currentTutorialStep].message+"")&&re(n,e),f&1&&l!==(l=jt[u[0].currentTutorialStep].goldReward+"")&&re(a,l)},d(u){u&&(T(n),T(o),T(i))}}}function s4(t){let e;return{c(){e=B("No more goals!")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function a4(t){let e,n,o,i,r,l,a,s,u,f=t[0].townInfo.name+"",c,d,m,p,_,v=t[0].townInfo.population_count+"",k,w,C=t[0].townInfo.population_max+"",L,D,E,$,V,R=Jt(t[0].townInfo.gold,!1)+"",H,y,b,I,N,W,F,Q,ne,z,U,h,j,Y,ee,Z,_e,ge,Te,Ue,Ge,xe,ce,Ee,Le,Ve,Ke,ke,Se,Et,kt,ft,en,Mt,ct,Je,ye,Xe,G,eo,si,as,ai,ui=t[0].environment.day%365+1+"",Er,us,to,fi,fs,ci,di=Math.floor(t[0].environment.day/365)+1+"",$r,cs,pn,no,ds,mi,ms,oo,ps,pi,hs,io,_s,hi,_i,dt,Rr,gs,In=Ye(t[2]),ot=[];for(let fe=0;fe<In.length;fe+=1)ot[fe]=Qu(Zu(t,In,fe));const Vd=fe=>S(ot[fe],1,1,()=>{ot[fe]=null});function bs(fe,De){return fe[0].economyAndLaws.weeklyProfit>0?W3:fe[0].economyAndLaws.weeklyProfit<0?H3:V3}let gi=bs(t),Vt=gi(t);function vs(fe,De){return fe[0].townInfo.employees==fe[0].townInfo.population_count?U3:Y3}let bi=vs(t),Ht=bi(t);Z=new yt({props:{class:`text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5
          
            `+(t[5]?"bg-green-500":"")+`
          `,$$slots:{default:[Z3]},$$scope:{ctx:t}}}),Z.$on("click",t[13]),ge=new yt({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[Q3]},$$scope:{ctx:t}}}),ge.$on("click",t[14]),Ue=new yt({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[z3]},$$scope:{ctx:t}}}),Ue.$on("click",t[15]),xe=new yt({props:{class:"text-xs flex flex-col h-min p-1.5 "+(t[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35"),$$slots:{default:[n4]},$$scope:{ctx:t}}}),xe.$on("click",t[11]);let lt=t[0].currentTutorialStep!=0&&ef(t),mt=t[8]&&tf();function ys(fe,De){return fe[0].currentTutorialStep>=jt.length?s4:l4}let vi=ys(t),Wt=vi(t);return{c(){e=O("div"),n=O("div"),o=O("div");for(let fe=0;fe<ot.length;fe+=1)ot[fe].c();i=q(),r=O("div"),l=O("div"),a=O("div"),s=O("div"),u=O("h1"),c=B(f),d=q(),m=O("div"),p=O("span"),_=B("👥 "),k=B(v),w=B(" / "),L=B(C),D=q(),E=O("span"),$=O("span"),V=B("💰 "),H=B(R),y=q(),b=O("span"),I=q(),Vt.c(),N=q(),W=O("span"),W.textContent="(weekly)",F=q(),Q=O("div"),Ht.c(),z=q(),U=O("span"),h=B("Game time: "),j=B(t[1]),Y=q(),ee=O("div"),J(Z.$$.fragment),_e=q(),J(ge.$$.fragment),Te=q(),J(Ue.$$.fragment),Ge=q(),J(xe.$$.fragment),ce=q(),Ee=O("div"),Le=O("div"),lt&&lt.c(),Ve=q(),mt&&mt.c(),Ke=q(),ke=O("div"),Se=O("div"),Se.textContent="👨‍🦰",Et=q(),kt=O("div"),Wt.c(),en=q(),Mt=O("div"),ct=O("div"),Je=O("div"),ye=O("div"),ye.innerHTML='<span class="text-xs text-secondary cursor-pointer">Press P to Pause</span>',Xe=q(),G=O("div"),eo=O("span"),si=O("span"),si.textContent="Day",as=q(),ai=O("span"),Er=B(ui),us=q(),to=O("span"),fi=O("span"),fi.textContent="Year",fs=q(),ci=O("span"),$r=B(di),cs=q(),pn=O("div"),no=O("span"),ds=B("Slow"),ms=q(),oo=O("span"),ps=B("Normal"),hs=q(),io=O("span"),_s=B("Fast"),P(o,"class","flex flex-col w-36 text-foregroundText bg-accent p-2 rounded-xl gap-2 mr-2"),P(u,"class","font-bold cursor-pointer w-full pb-2 text-start select-none"),P(s,"class","cursor-pointer transition-all duration=150 min-h-8"),P(p,"class","text-sm"),P($,"class","text-sm"),P(b,"class","pl-2"),P(W,"class","text-gray-400"),P(E,"class","text-xs"),P(m,"class","flex flex-row gap-4 flex-wrap items-center"),P(Q,"class",ne="text-xs pt-0 opacity-70 "+(t[0].townInfo.employees==t[0].townInfo.population_count?"text-textPrimary":t[0].townInfo.employees>t[0].townInfo.population_count*.95?"text-textDanger3":t[0].townInfo.employees>t[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")),P(U,"class","text-xs text-secondary cursor-pointer"),P(a,"class","flex flex-col justify-between"),P(l,"class","rounded-xl"),P(ee,"class","flex flex-row gap-2 align-middle justify-center items-center "),P(r,"class","flex justify-between flex-col"),P(n,"class","flex flex-row gap-2 my-2 h-max"),P(Se,"class","text-lg h-max"),P(kt,"class","text-xs ml-2 overflow-auto opacity-80"),P(ke,"class","gap flex-row items-center flex bg-white text-slate-800 py-1 px-2 rounded-xl w-full"),P(Le,"class","flex flex-col justify-center w-full align-middle items-center"),P(Ee,"class",ft="flex flex-row flex-wrap align-middle justify-center items-center w-80 "+(t[8]?"opacity-25 ":"")+" transition-all duration-700 "+(t[0].environment.day===0?"wiggle":"")+" svelte-1asvijo"),P(si,"class","text-xs"),P(ai,"class","font-semibold text-xs"),P(eo,"class","flex flex-col gap-2 text-center"),P(fi,"class","text-xs"),P(ci,"class","font-semibold text-xs"),P(to,"class","flex flex-col gap-2 text-center"),P(G,"class","rounded-xl bg-accent flex-row justify-between text-accentText w-36 h-14 flex px-6 items-center mb-2"),P(no,"class",mi=(t[3].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),P(oo,"class",pi=(t[3].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),P(io,"class",hi=(t[3].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),P(pn,"class","flex flex-row gap-2 align-middle justify-center items-center"),P(Je,"class","flex flex-col items-center h-max"),P(ct,"class","flex flex-col"),P(Mt,"class","flex justify-center align-middle flex-col"),P(e,"class",_i="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(t[4].visible?"opacity-70":""))},m(fe,De){M(fe,e,De),g(e,n),g(n,o);for(let hn=0;hn<ot.length;hn+=1)ot[hn]&&ot[hn].m(o,null);g(n,i),g(n,r),g(r,l),g(l,a),g(a,s),g(s,u),g(u,c),g(a,d),g(a,m),g(m,p),g(p,_),g(p,k),g(p,w),g(p,L),g(m,D),g(m,E),g(E,$),g($,V),g($,H),g(E,y),g(E,b),g(E,I),Vt.m(E,null),g(E,N),g(E,W),g(a,F),g(a,Q),Ht.m(Q,null),g(a,z),g(a,U),g(U,h),g(U,j),g(r,Y),g(r,ee),K(Z,ee,null),g(ee,_e),K(ge,ee,null),g(ee,Te),K(Ue,ee,null),g(ee,Ge),K(xe,ee,null),g(e,ce),g(e,Ee),g(Ee,Le),lt&&lt.m(Le,null),g(Le,Ve),mt&&mt.m(Le,null),g(Le,Ke),g(Le,ke),g(ke,Se),g(ke,Et),g(ke,kt),Wt.m(kt,null),g(e,en),g(e,Mt),g(Mt,ct),g(ct,Je),g(Je,ye),g(Je,Xe),g(Je,G),g(G,eo),g(eo,si),g(eo,as),g(eo,ai),g(ai,Er),g(G,us),g(G,to),g(to,fi),g(to,fs),g(to,ci),g(ci,$r),g(Je,cs),g(Je,pn),g(pn,no),g(no,ds),g(pn,ms),g(pn,oo),g(oo,ps),g(pn,hs),g(pn,io),g(io,_s),dt=!0,Rr||(gs=[te(s,"click",t[9]),te(no,"click",t[16]),te(oo,"click",t[17]),te(io,"click",t[18])],Rr=!0)},p(fe,[De]){if(De&4100){In=Ye(fe[2]);let gt;for(gt=0;gt<In.length;gt+=1){const Cs=Zu(fe,In,gt);ot[gt]?(ot[gt].p(Cs,De),A(ot[gt],1)):(ot[gt]=Qu(Cs),ot[gt].c(),A(ot[gt],1),ot[gt].m(o,null))}for(Ie(),gt=In.length;gt<ot.length;gt+=1)Vd(gt);Oe()}(!dt||De&1)&&f!==(f=fe[0].townInfo.name+"")&&re(c,f),(!dt||De&1)&&v!==(v=fe[0].townInfo.population_count+"")&&re(k,v),(!dt||De&1)&&C!==(C=fe[0].townInfo.population_max+"")&&re(L,C),(!dt||De&1)&&R!==(R=Jt(fe[0].townInfo.gold,!1)+"")&&re(H,R),gi===(gi=bs(fe))&&Vt?Vt.p(fe,De):(Vt.d(1),Vt=gi(fe),Vt&&(Vt.c(),Vt.m(E,N))),bi===(bi=vs(fe))&&Ht?Ht.p(fe,De):(Ht.d(1),Ht=bi(fe),Ht&&(Ht.c(),Ht.m(Q,null))),(!dt||De&1&&ne!==(ne="text-xs pt-0 opacity-70 "+(fe[0].townInfo.employees==fe[0].townInfo.population_count?"text-textPrimary":fe[0].townInfo.employees>fe[0].townInfo.population_count*.95?"text-textDanger3":fe[0].townInfo.employees>fe[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")))&&P(Q,"class",ne),(!dt||De&2)&&re(j,fe[1]);const hn={};De&32&&(hn.class=`text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5
          
            `+(fe[5]?"bg-green-500":"")+`
          `),De&16777248&&(hn.$$scope={dirty:De,ctx:fe}),Z.$set(hn);const ws={};De&16777216&&(ws.$$scope={dirty:De,ctx:fe}),ge.$set(ws);const ks={};De&16777216&&(ks.$$scope={dirty:De,ctx:fe}),Ue.$set(ks);const Lr={};De&1&&(Lr.class="text-xs flex flex-col h-min p-1.5 "+(fe[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35")),De&16777217&&(Lr.$$scope={dirty:De,ctx:fe}),xe.$set(Lr),fe[0].currentTutorialStep!=0?lt?(lt.p(fe,De),De&1&&A(lt,1)):(lt=ef(fe),lt.c(),A(lt,1),lt.m(Le,Ve)):lt&&(Ie(),S(lt,1,1,()=>{lt=null}),Oe()),fe[8]?mt?De&256&&A(mt,1):(mt=tf(),mt.c(),A(mt,1),mt.m(Le,Ke)):mt&&(Ie(),S(mt,1,1,()=>{mt=null}),Oe()),vi===(vi=ys(fe))&&Wt?Wt.p(fe,De):(Wt.d(1),Wt=vi(fe),Wt&&(Wt.c(),Wt.m(kt,null))),(!dt||De&257&&ft!==(ft="flex flex-row flex-wrap align-middle justify-center items-center w-80 "+(fe[8]?"opacity-25 ":"")+" transition-all duration-700 "+(fe[0].environment.day===0?"wiggle":"")+" svelte-1asvijo"))&&P(Ee,"class",ft),(!dt||De&1)&&ui!==(ui=fe[0].environment.day%365+1+"")&&re(Er,ui),(!dt||De&1)&&di!==(di=Math.floor(fe[0].environment.day/365)+1+"")&&re($r,di),(!dt||De&8&&mi!==(mi=(fe[3].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&P(no,"class",mi),(!dt||De&8&&pi!==(pi=(fe[3].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&P(oo,"class",pi),(!dt||De&8&&hi!==(hi=(fe[3].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&P(io,"class",hi),(!dt||De&16&&_i!==(_i="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(fe[4].visible?"opacity-70":"")))&&P(e,"class",_i)},i(fe){if(!dt){for(let De=0;De<In.length;De+=1)A(ot[De]);A(Z.$$.fragment,fe),A(ge.$$.fragment,fe),A(Ue.$$.fragment,fe),A(xe.$$.fragment,fe),A(lt),A(mt),dt=!0}},o(fe){ot=ot.filter(Boolean);for(let De=0;De<ot.length;De+=1)S(ot[De]);S(Z.$$.fragment,fe),S(ge.$$.fragment,fe),S(Ue.$$.fragment,fe),S(xe.$$.fragment,fe),S(lt),S(mt),dt=!1},d(fe){fe&&T(e),_t(ot,fe),Vt.d(),Ht.d(),X(Z),X(ge),X(Ue),X(xe),lt&&lt.d(),mt&&mt.d(),Wt.d(),Rr=!1,Be(gs)}}}function u4(t,e,n){let o,i,r,l,a,s,u;se(t,Pe,E=>n(0,o=E)),se(t,rl,E=>n(3,i=E)),se(t,tt,E=>n(4,r=E)),se(t,bo,E=>n(5,l=E)),se(t,Ui,E=>n(6,a=E)),se(t,Xi,E=>n(7,s=E)),se(t,Ei,E=>n(8,u=E)),_r(()=>{const E=setInterval(()=>{Me(Pe,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(E)}});function f(){let E=prompt("Enter a new name for your town (under 200 chars)");if(E&&E.length<200&&E.length>=1){let $=o;$.townInfo.name=E,Pe.set($),localStorage.setItem(qt,JSON.stringify($))}}function c(E){return Me(rl,i=E,i),document.querySelectorAll(".speedButton").forEach(V=>{V.classList.remove("active")}),i}function d(){o.hasLab&&$i.set(!0)}let m="00:00:00",p;const _=E=>E>149?"bg-green-500":E>99?"bg-yellow-500":"bg-red-500",v=function(){Me(bo,l=!0,l)},k=function(){Me(Ui,a=!a,a)},w=function(){Me(Xi,s=!s,s)},C=()=>c(2e3),L=()=>c(750),D=()=>c(200);return t.$$.update=()=>{t.$$.dirty&1&&(o.timeSpent>0?n(1,m=ip(o.timeSpent)):n(1,m="00:00:00")),t.$$.dirty&1&&n(2,p=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:o.townInfo.happiness,modifier:o.modifiers.happiness},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:o.townInfo.health,modifier:o.modifiers.health},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:o.townInfo.community,modifier:o.modifiers.community}])},[o,m,p,i,r,l,a,s,u,f,c,d,_,v,k,w,C,L,D]}class f4 extends ve{constructor(e){super(),be(this,e,u4,a4,ue,{})}}function nf(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function of(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function rf(t){let e,n,o,i=ie[Ae(t[0].id)].title+"",r,l,a,s=ie[Ae(t[0].id)].description+"",u,f,c,d,m,p,_,v,k,w=t[3]("💰",ie[Ae(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",C,L,D=t[3]("🥕",ie[Ae(t[0].id)].requirements.resources.food,t[2].resources.food)+"",E,$,V=t[3]("🧠",ie[Ae(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",R,H,y=t[3]("🪵",ie[Ae(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",b,I,N=t[3]("🪨",ie[Ae(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",W,F,Q=t[3]("🧲",ie[Ae(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",ne,z,U=t[3]("🔋",ie[Ae(t[0].id)].active_costs.power,t[2].resources.power)+"",h,j,Y=t[3]("🧑‍⚖️",ie[Ae(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",ee,Z=ie[Ae(t[0].id)].requirements.employees!=0,_e,ge=ie[Ae(t[0].id)].revenue_per_week!=0,Te,Ue=Object.values(ie[Ae(t[0].id)].active_costs).some(_f),Ge,xe=Object.values(ie[Ae(t[0].id)].generated_resources).some(hf)||ie[Ae(t[0].id)].knowledge_points_per_month>0,ce;d=new wt({props:{class:"bg-secondary opacity-25 mt-1 mb-1"}});let Ee=Z&&lf(t),Le=ge&&sf(t),Ve=Ue&&af(t),Ke=xe&&cf(t);return{c(){e=O("div"),n=O("div"),o=O("span"),r=B(i),l=q(),a=O("span"),u=B(s),f=q(),c=O("div"),J(d.$$.fragment),m=q(),p=O("span"),p.textContent="Requirements",_=q(),v=O("div"),k=new on(!1),C=q(),L=new on(!1),E=q(),$=new on(!1),R=q(),H=new on(!1),b=q(),I=new on(!1),W=q(),F=new on(!1),ne=q(),z=new on(!1),h=q(),j=new on(!1),ee=q(),Ee&&Ee.c(),_e=q(),Le&&Le.c(),Te=q(),Ve&&Ve.c(),Ge=q(),Ke&&Ke.c(),P(o,"class","text-md"),P(a,"class","text-xs"),P(n,"class","flex flex-col gap-2"),P(p,"class","font-semibold"),k.a=C,L.a=E,$.a=R,H.a=b,I.a=W,F.a=ne,z.a=h,j.a=ee,P(v,"class","flex flex-col gap-1"),P(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),P(e,"class","p-2")},m(ke,Se){M(ke,e,Se),g(e,n),g(n,o),g(o,r),g(n,l),g(n,a),g(a,u),g(e,f),g(e,c),K(d,c,null),g(c,m),g(c,p),g(c,_),g(c,v),k.m(w,v),g(v,C),L.m(D,v),g(v,E),$.m(V,v),g(v,R),H.m(y,v),g(v,b),I.m(N,v),g(v,W),F.m(Q,v),g(v,ne),z.m(U,v),g(v,h),j.m(Y,v),g(v,ee),Ee&&Ee.m(v,null),g(e,_e),Le&&Le.m(e,null),g(e,Te),Ve&&Ve.m(e,null),g(e,Ge),Ke&&Ke.m(e,null),ce=!0},p(ke,Se){(!ce||Se&1)&&i!==(i=ie[Ae(ke[0].id)].title+"")&&re(r,i),(!ce||Se&1)&&s!==(s=ie[Ae(ke[0].id)].description+"")&&re(u,s),(!ce||Se&5)&&w!==(w=ke[3]("💰",ie[Ae(ke[0].id)].requirements.gold,ke[2].townInfo.gold)+"")&&k.p(w),(!ce||Se&5)&&D!==(D=ke[3]("🥕",ie[Ae(ke[0].id)].requirements.resources.food,ke[2].resources.food)+"")&&L.p(D),(!ce||Se&5)&&V!==(V=ke[3]("🧠",ie[Ae(ke[0].id)].requirements.knowledge,ke[2].townInfo.knowledge_points)+"")&&$.p(V),(!ce||Se&5)&&y!==(y=ke[3]("🪵",ie[Ae(ke[0].id)].requirements.resources.wood,ke[2].resources.wood)+"")&&H.p(y),(!ce||Se&5)&&N!==(N=ke[3]("🪨",ie[Ae(ke[0].id)].requirements.resources.stone,ke[2].resources.stone)+"")&&I.p(N),(!ce||Se&5)&&Q!==(Q=ke[3]("🧲",ie[Ae(ke[0].id)].requirements.resources.metal,ke[2].resources.metal)+"")&&F.p(Q),(!ce||Se&5)&&U!==(U=ke[3]("🔋",ie[Ae(ke[0].id)].active_costs.power,ke[2].resources.power)+"")&&z.p(U),(!ce||Se&5)&&Y!==(Y=ke[3]("🧑‍⚖️",ie[Ae(ke[0].id)].requirements.resources.bureaucracy,ke[2].resources.bureaucracy)+"")&&j.p(Y),Se&1&&(Z=ie[Ae(ke[0].id)].requirements.employees!=0),Z?Ee?Ee.p(ke,Se):(Ee=lf(ke),Ee.c(),Ee.m(v,null)):Ee&&(Ee.d(1),Ee=null),Se&1&&(ge=ie[Ae(ke[0].id)].revenue_per_week!=0),ge?Le?(Le.p(ke,Se),Se&1&&A(Le,1)):(Le=sf(ke),Le.c(),A(Le,1),Le.m(e,Te)):Le&&(Ie(),S(Le,1,1,()=>{Le=null}),Oe()),Se&1&&(Ue=Object.values(ie[Ae(ke[0].id)].active_costs).some(_f)),Ue?Ve?(Ve.p(ke,Se),Se&1&&A(Ve,1)):(Ve=af(ke),Ve.c(),A(Ve,1),Ve.m(e,Ge)):Ve&&(Ie(),S(Ve,1,1,()=>{Ve=null}),Oe()),Se&1&&(xe=Object.values(ie[Ae(ke[0].id)].generated_resources).some(hf)||ie[Ae(ke[0].id)].knowledge_points_per_month>0),xe?Ke?(Ke.p(ke,Se),Se&1&&A(Ke,1)):(Ke=cf(ke),Ke.c(),A(Ke,1),Ke.m(e,null)):Ke&&(Ie(),S(Ke,1,1,()=>{Ke=null}),Oe())},i(ke){ce||(A(d.$$.fragment,ke),A(Le),A(Ve),A(Ke),ce=!0)},o(ke){S(d.$$.fragment,ke),S(Le),S(Ve),S(Ke),ce=!1},d(ke){ke&&T(e),X(d),Ee&&Ee.d(),Le&&Le.d(),Ve&&Ve.d(),Ke&&Ke.d()}}}function lf(t){let e,n,o=ie[Ae(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=O("span"),n=B("👥 "),i=B(o),r=B(" employees"),P(e,"class",l=ie[Ae(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")},m(a,s){M(a,e,s),g(e,n),g(e,i),g(e,r)},p(a,s){s&1&&o!==(o=ie[Ae(a[0].id)].requirements.employees+"")&&re(i,o),s&7&&l!==(l=ie[Ae(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")&&P(e,"class",l)},d(a){a&&T(e)}}}function sf(t){let e,n,o,i,r,l,a,s=ie[Ae(t[0].id)].revenue_per_week+"",u,f;return n=new wt({props:{class:"bg-secondary opacity-25 mt-0"}}),{c(){e=O("div"),J(n.$$.fragment),o=q(),i=O("span"),i.textContent="Weekly revenue",r=q(),l=O("span"),a=B("💰 "),u=B(s),P(i,"class","font-semibold"),P(e,"class","flex flex-col gap-1 text-xs")},m(c,d){M(c,e,d),K(n,e,null),g(e,o),g(e,i),g(e,r),g(e,l),g(l,a),g(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=ie[Ae(c[0].id)].revenue_per_week+"")&&re(u,s)},i(c){f||(A(n.$$.fragment,c),f=!0)},o(c){S(n.$$.fragment,c),f=!1},d(c){c&&T(e),X(n)}}}function af(t){let e,n,o,i,r,l;n=new wt({props:{class:"bg-secondary opacity-25 mt-2"}});let a=Ye(Object.keys(ie[Ae(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=ff(of(t,a,u));return{c(){e=O("div"),J(n.$$.fragment),o=q(),i=O("span"),i.textContent="Weekly Costs",r=q();for(let u=0;u<s.length;u+=1)s[u].c();P(i,"class","font-semibold"),P(e,"class","flex flex-col gap-1 text-xs")},m(u,f){M(u,e,f),K(n,e,null),g(e,o),g(e,i),g(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ye(Object.keys(ie[Ae(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=of(u,a,c);s[c]?s[c].p(d,f):(s[c]=ff(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(A(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&T(e),X(n),_t(s,u)}}}function uf(t){let e,n=Fn(t[4])+"",o,i,r=mr(t[4])+"",l,a,s=-1*Object.values(ie[Ae(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=O("span"),o=B(n),i=q(),l=B(r),a=q(),u=B(s),f=q(),P(e,"class",c=Object.values(ie[Ae(t[0].id)].active_costs)[t[6]]>0?"text-textDanger1":"text-textHappyDark")},m(d,m){M(d,e,m),g(e,o),g(e,i),g(e,l),g(e,a),g(e,u),g(e,f)},p(d,m){m&1&&n!==(n=Fn(d[4])+"")&&re(o,n),m&1&&r!==(r=mr(d[4])+"")&&re(l,r),m&1&&s!==(s=-1*Object.values(ie[Ae(d[0].id)].active_costs)[d[6]]+"")&&re(u,s),m&1&&c!==(c=Object.values(ie[Ae(d[0].id)].active_costs)[d[6]]>0?"text-textDanger1":"text-textHappyDark")&&P(e,"class",c)},d(d){d&&T(e)}}}function ff(t){let e=Object.values(ie[Ae(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&uf(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){r&1&&(e=Object.values(ie[Ae(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=uf(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function cf(t){let e,n,o,i,r,l=ie[Ae(t[0].id)].knowledge_points_per_month>0,a,s;n=new wt({props:{class:"bg-secondary opacity-25 mt-2"}});let u=l&&df(t),f=Ye(Object.keys(ie[Ae(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=pf(nf(t,f,d));return{c(){e=O("div"),J(n.$$.fragment),o=q(),i=O("span"),i.textContent="Generated Resources",r=q(),u&&u.c(),a=q();for(let d=0;d<c.length;d+=1)c[d].c();P(i,"class","font-semibold"),P(e,"class","flex flex-col gap-1 text-xs")},m(d,m){M(d,e,m),K(n,e,null),g(e,o),g(e,i),g(e,r),u&&u.m(e,null),g(e,a);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(e,null);s=!0},p(d,m){if(m&1&&(l=ie[Ae(d[0].id)].knowledge_points_per_month>0),l?u?u.p(d,m):(u=df(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),m&1){f=Ye(Object.keys(ie[Ae(d[0].id)].generated_resources));let p;for(p=0;p<f.length;p+=1){const _=nf(d,f,p);c[p]?c[p].p(_,m):(c[p]=pf(_),c[p].c(),c[p].m(e,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}},i(d){s||(A(n.$$.fragment,d),s=!0)},o(d){S(n.$$.fragment,d),s=!1},d(d){d&&T(e),X(n),u&&u.d(),_t(c,d)}}}function df(t){let e,n,o=Math.round(ie[Ae(t[0].id)].knowledge_points_per_month)+"",i,r;return{c(){e=O("span"),n=B("🧠 "),i=B(o),r=B(" (monthly)")},m(l,a){M(l,e,a),g(e,n),g(e,i),g(e,r)},p(l,a){a&1&&o!==(o=Math.round(ie[Ae(l[0].id)].knowledge_points_per_month)+"")&&re(i,o)},d(l){l&&T(e)}}}function mf(t){let e,n=mr(t[4])+"",o,i,r=Fn(t[4])+"",l,a,s=Rs(Object.values(ie[Ae(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=O("span"),o=B(n),i=q(),l=B(r),a=q(),u=B(s),f=q(),P(e,"class",c=Object.values(ie[Ae(t[0].id)].generated_resources)[t[6]]>0?"text-textHappyDark":"text-textDanger1")},m(d,m){M(d,e,m),g(e,o),g(e,i),g(e,l),g(e,a),g(e,u),g(e,f)},p(d,m){m&1&&n!==(n=mr(d[4])+"")&&re(o,n),m&1&&r!==(r=Fn(d[4])+"")&&re(l,r),m&1&&s!==(s=Rs(Object.values(ie[Ae(d[0].id)].generated_resources)[d[6]],!1)+"")&&re(u,s),m&1&&c!==(c=Object.values(ie[Ae(d[0].id)].generated_resources)[d[6]]>0?"text-textHappyDark":"text-textDanger1")&&P(e,"class",c)},d(d){d&&T(e)}}}function pf(t){let e=Object.values(ie[Ae(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&mf(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){r&1&&(e=Object.values(ie[Ae(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=mf(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function c4(t){let e,n,o=t[0]!=null&&rf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&A(o,1)):(o=rf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function mr(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const hf=t=>t!=0,_f=t=>t!=0;function d4(t,e,n){let o;se(t,Pe,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger1 border-2 border-red-400"),f=`<span class='${c}'>${a} ${s}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class qd extends ve{constructor(e){super(),be(this,e,d4,c4,ue,{option:0,checkRequirements:1})}}function gf(t,e,n){const o=t.slice();return o[25]=e[n],o}function bf(t,e,n){const o=t.slice();return o[28]=e[n],o}function vf(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_=t[5].plots[t[0]][t[1]].type!==-1&&t[12](t[0],t[1]),v,k,w,C,L,D,E={type:"text",autofocus:!0,id:"search-bar",placeholder:"Search Plot Options...",value:t[3],class:"border rounded w-auto bg-white placeholder-black text-black text-xs"};a=new Jl({props:E}),t[16](a),a.$on("input",t[10]);let $=_&&yf(t),V=Ye(t[6].isMineralSource||t[3].length>0?[1]:He("tree_farm",t[5]).length!=0?[1,2,3,4]:[1]),R=[];for(let y=0;y<V.length;y+=1)R[y]=If(gf(t,V,y));const H=y=>S(R[y],1,1,()=>{R[y]=null});return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("div"),r=O("div"),l=O("div"),J(a.$$.fragment),s=q(),u=O("div"),f=O("input"),c=q(),d=O("label"),d.textContent="Buildable",m=q(),p=O("div"),$&&$.c(),v=q(),k=O("div");for(let y=0;y<R.length;y+=1)R[y].c();P(l,"class","flex items-end "),P(f,"type","checkbox"),P(f,"id","toggle-affordable"),P(f,"class","rounded"),f.checked=t[7],P(d,"for","toggle-affordable"),P(d,"class","ml-2 no-select cursor-pointer "),P(u,"class","flex items-center ml-4"),P(p,"class","flex justify-end ml-6"),P(r,"class","flex flex-row w-full "),P(i,"class","text-sm"),P(k,"class",w="flex flex-col "+(t[6].isMineralSource||t[3].length>0?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"),P(o,"class","flex flex-col gap-2 px-2 justify-end"),P(n,"class","text-xl items-center justify-center w-[90%] align-bottom bg-foreground border-4 border-gray-400 shadow-2xl rounded-t-xl py-2 "),P(e,"class","w-[100vw] fixed bottom-0 h-["+t[9]+"] p-1 z-50 flex flex-col justify-center text-center items-center")},m(y,b){M(y,e,b),g(e,n),g(n,o),g(o,i),g(i,r),g(r,l),K(a,l,null),g(r,s),g(r,u),g(u,f),g(u,c),g(u,d),g(r,m),g(r,p),$&&$.m(p,null),g(o,v),g(o,k);for(let I=0;I<R.length;I+=1)R[I]&&R[I].m(k,null);C=!0,L||(D=[te(f,"change",t[17]),te(o,"click",t[11])],L=!0)},p(y,b){const I={};if(b[0]&8&&(I.value=y[3]),a.$set(I),(!C||b[0]&128)&&(f.checked=y[7]),b[0]&35&&(_=y[5].plots[y[0]][y[1]].type!==-1&&y[12](y[0],y[1])),_?$?$.p(y,b):($=yf(y),$.c(),$.m(p,null)):$&&($.d(1),$=null),b[0]&120){V=Ye(y[6].isMineralSource||y[3].length>0?[1]:He("tree_farm",y[5]).length!=0?[1,2,3,4]:[1]);let N;for(N=0;N<V.length;N+=1){const W=gf(y,V,N);R[N]?(R[N].p(W,b),A(R[N],1)):(R[N]=If(W),R[N].c(),A(R[N],1),R[N].m(k,null))}for(Ie(),N=V.length;N<R.length;N+=1)H(N);Oe()}(!C||b[0]&72&&w!==(w="flex flex-col "+(y[6].isMineralSource||y[3].length>0?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"))&&P(k,"class",w)},i(y){if(!C){A(a.$$.fragment,y);for(let b=0;b<V.length;b+=1)A(R[b]);C=!0}},o(y){S(a.$$.fragment,y),R=R.filter(Boolean);for(let b=0;b<R.length;b+=1)S(R[b]);C=!1},d(y){y&&T(e),t[16](null),X(a),$&&$.d(),_t(R,y),L=!1,Be(D)}}}function yf(t){let e,n,o;return{c(){e=O("button"),e.textContent="❌ Bulldoze",P(e,"id","bulldoze"),P(e,"class","px-2 py-2 bg-red-500 rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(i,r){M(i,e,r),n||(o=te(e,"click",t[13]),n=!0)},p:Ce,d(i){i&&T(e),n=!1,o()}}}function wf(t){let e,n,o=t[25]+"",i;return{c(){e=O("div"),n=B("Level "),i=B(o),P(e,"class","text-sm font-extralight pb-3")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l[0]&104&&o!==(o=r[25]+"")&&re(i,o)},d(r){r&&T(e)}}}function kf(t){let e,n,o=t[28].active_costs.power+"",i;return{c(){e=O("span"),n=B("🔋"),i=B(o),P(e,"class","bg-yellow-300 text-xs text-black tex px-1 py-0.5 rounded-2xl absolute top-[-5px] right-[-2px]")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l[0]&120&&o!==(o=r[28].active_costs.power+"")&&re(i,o)},d(r){r&&T(e)}}}function Cf(t){let e,n,o=He(t[28].id,t[5]).length+"",i;return{c(){e=O("span"),n=B("x"),i=B(o),P(e,"class","bg-black text-xs text-white tex px-1 py-0.5 rounded-2xl absolute top-[-5px] left-[-2px]")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l[0]&120&&o!==(o=He(r[28].id,r[5]).length+"")&&re(i,o)},d(r){r&&T(e)}}}function Af(t){let e,n,o=Jt(t[28].revenue_per_week,!1)+"",i,r;return{c(){e=O("br"),n=B(`
                            Makes 💰 `),i=B(o),r=B("/week")},m(l,a){M(l,e,a),M(l,n,a),M(l,i,a),M(l,r,a)},p(l,a){a[0]&120&&o!==(o=Jt(l[28].revenue_per_week,!1)+"")&&re(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function Sf(t){let e,n,o=Jt(t[28].requirements.employees,!1)+"",i;return{c(){e=O("br"),n=B(`
                            Employs `),i=B(o)},m(r,l){M(r,e,l),M(r,n,l),M(r,i,l)},p(r,l){l[0]&120&&o!==(o=Jt(r[28].requirements.employees,!1)+"")&&re(i,o)},d(r){r&&(T(e),T(n),T(i))}}}function m4(t){let e,n,o,i=(t[28].selected?"✅":$s(t[28].title))+"",r,l,a,s=t[28].title.substring(2)+"",u,f,c,d=He(t[28].id,t[5]).length>0,m,p,_,v=Jt(t[28].requirements.gold,!1)+"",k,w,C,L,D,E,$=t[28].active_costs.power>0&&kf(t),V=d&&Cf(t),R=t[28].revenue_per_week>0&&Af(t),H=t[28].requirements.employees>0&&Sf(t);return{c(){e=O("div"),n=O("div"),o=O("span"),r=B(i),l=q(),a=O("span"),u=B(s),f=q(),$&&$.c(),c=q(),V&&V.c(),m=q(),p=O("span"),_=B("Costs 💰 "),k=B(v),w=q(),R&&R.c(),C=q(),H&&H.c(),P(o,"class","text-md text-center"),P(a,"class","text-xs text-center font-bold mx-1"),P(n,"class","pt-2"),P(p,"style",L=t[28].styling),P(p,"class","text-xs text-center pt-4"),P(e,"class",D="plotOption cursor-pointer min-w-40 "+(t[6].isMineralSource||t[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(t[28].affordable||t[28].selected?"cursor-pointer":"opacity-40 cursor-not-allowed ")+" "+(t[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":"")),P(e,"data-plotoptionid",E=t[28].id),Ze(e,"background-color",Wi(Ae(t[28].id),!0))},m(y,b){M(y,e,b),g(e,n),g(n,o),g(o,r),g(n,l),g(n,a),g(a,u),g(e,f),$&&$.m(e,null),g(e,c),V&&V.m(e,null),g(e,m),g(e,p),g(p,_),g(p,k),g(p,w),R&&R.m(p,null),g(p,C),H&&H.m(p,null)},p(y,b){b[0]&120&&i!==(i=(y[28].selected?"✅":$s(y[28].title))+"")&&re(r,i),b[0]&120&&s!==(s=y[28].title.substring(2)+"")&&re(u,s),y[28].active_costs.power>0?$?$.p(y,b):($=kf(y),$.c(),$.m(e,c)):$&&($.d(1),$=null),b[0]&120&&(d=He(y[28].id,y[5]).length>0),d?V?V.p(y,b):(V=Cf(y),V.c(),V.m(e,m)):V&&(V.d(1),V=null),b[0]&120&&v!==(v=Jt(y[28].requirements.gold,!1)+"")&&re(k,v),y[28].revenue_per_week>0?R?R.p(y,b):(R=Af(y),R.c(),R.m(p,C)):R&&(R.d(1),R=null),y[28].requirements.employees>0?H?H.p(y,b):(H=Sf(y),H.c(),H.m(p,null)):H&&(H.d(1),H=null),b[0]&120&&L!==(L=y[28].styling)&&P(p,"style",L),b[0]&120&&D!==(D="plotOption cursor-pointer min-w-40 "+(y[6].isMineralSource||y[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(y[28].affordable||y[28].selected?"cursor-pointer":"opacity-40 cursor-not-allowed ")+" "+(y[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":""))&&P(e,"class",D),b[0]&120&&E!==(E=y[28].id)&&P(e,"data-plotoptionid",E),b[0]&120&&Ze(e,"background-color",Wi(Ae(y[28].id),!0))},d(y){y&&T(e),$&&$.d(),V&&V.d(),R&&R.d(),H&&H.d()}}}function p4(t){let e,n;return e=new qd({props:{option:t[28]}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i[0]&120&&(r.option=o[28]),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function h4(t){let e,n,o,i;return e=new Eo({props:{$$slots:{default:[m4]},$$scope:{ctx:t}}}),o=new Po({props:{$$slots:{default:[p4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l[0]&120|l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&120|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Tf(t,e){let n,o,i;return o=new No({props:{openDelay:400,closeDelay:0,$$slots:{default:[h4]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=Re(),J(o.$$.fragment),this.first=n},m(r,l){M(r,n,l),K(o,r,l),i=!0},p(r,l){e=r;const a={};l[0]&120|l[1]&1&&(a.$$scope={dirty:l,ctx:e}),o.$set(a)},i(r){i||(A(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(o,r)}}}function Mf(t){let e;return{c(){e=O("span"),e.textContent="No plots available!",P(e,"class","text-sm pt-2")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function If(t){let e,n,o,i=[],r=new Map,l,a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource,s,u,f;function c(...k){return t[15](t[25],...k)}let d=t[3].length==0&&!t[6].isMineralSource&&wf(t);function m(...k){return t[18](t[25],...k)}let p=Ye(t[3].length==0&&!t[6].isMineralSource?t[4].filter(m):t[4]);const _=k=>k[28].id;for(let k=0;k<p.length;k+=1){let w=bf(t,p,k),C=_(w);r.set(C,i[k]=Tf(C,w))}let v=a&&Mf();return{c(){e=O("div"),d&&d.c(),n=q(),o=O("div");for(let k=0;k<i.length;k+=1)i[k].c();l=q(),v&&v.c(),u=q(),P(o,"class",s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle")},m(k,w){M(k,e,w),d&&d.m(e,null),g(e,n),g(e,o);for(let C=0;C<i.length;C+=1)i[C]&&i[C].m(o,null);g(o,l),v&&v.m(o,null),g(e,u),f=!0},p(k,w){t=k,t[3].length==0&&!t[6].isMineralSource?d?d.p(t,w):(d=wf(t),d.c(),d.m(e,n)):d&&(d.d(1),d=null),w[0]&120&&(p=Ye(t[3].length==0&&!t[6].isMineralSource?t[4].filter(m):t[4]),Ie(),i=fm(i,w,_,1,t,p,r,o,um,Tf,l,bf),Oe()),w[0]&120&&(a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource),a?v||(v=Mf(),v.c(),v.m(o,null)):v&&(v.d(1),v=null),(!f||w[0]&72&&s!==(s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle"))&&P(o,"class",s)},i(k){if(!f){for(let w=0;w<p.length;w+=1)A(i[w]);f=!0}},o(k){for(let w=0;w<i.length;w+=1)S(i[w]);f=!1},d(k){k&&T(e),d&&d.d();for(let w=0;w<i.length;w+=1)i[w].d();v&&v.d()}}}function _4(t){let e,n,o=t[2]&&vf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,r){i[2]?o?(o.p(i,r),r[0]&4&&A(o,1)):(o=vf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function g4(t,e,n){let o,i,r;se(t,Pe,y=>n(5,o=y)),se(t,tt,y=>n(6,i=y)),se(t,hc,y=>n(7,r=y));let{x:l=0}=e,{y:a=0}=e,{open:s=!1}=e,{tooltip:u=""}=e,f="",c=ie,d;const m=Math.round(window.innerHeight*.2)+"px";let p=c.map(y=>Object.assign(Object.assign({},y),{affordable:k(y,o),selected:v(y)}));function _(y){n(3,f=y.target.value||"")}function v(y){return o.plots[l][a].type>-1?c[o.plots[l][a].type].id===y.id:!1}function k(y,b){let I=!0;y.requirements.gold>b.townInfo.gold&&(I=!1);let N=b.townInfo.population_count-b.townInfo.employees;return y.requirements.employees!==void 0&&y.requirements.employees>0&&y.requirements.employees>N&&(I=!1),y.requirements.knowledge!==void 0&&y.requirements.knowledge>b.townInfo.knowledge_points&&(I=!1),y.requirements.resources!==void 0&&Object.keys(y.requirements.resources).forEach(W=>{y.requirements.resources[W]!=0&&o.resources[W]<y.requirements.resources[W]&&(I=!1)}),I}function w(y){const b=y.target.closest(".plotOption");if(b){const I=b.dataset.plotoptionid;C(I)}}function C(y){document.querySelectorAll(".plotOption").forEach(N=>{N.classList.remove("active")});const I=document.querySelector(`[data-plotoptionid="${y}"]`);I&&(I.classList.add("active"),D(l,a,y))}function L(y,b){if(o.liege_location!=null&&y==o.liege_location[0]&&b==o.liege_location[1]||i.isMineralSource)return!1;let I=0;return y>0&&o.plots[y-1][b].type!==-1&&I++,y<o.plots.length-1&&o.plots[y+1][b].type!==-1&&I++,b>0&&o.plots[y][b-1].type!==-1&&I++,b<o.plots[0].length-1&&o.plots[y][b+1].type!==-1&&I++,I<=4}function D(y,b,I){let N=o;const W=ie.findIndex(z=>z.id===I);Object.entries(ie[W].requirements).map(([z,U])=>`<li>${Fn(z)}: ${U}</li>`);let F=ie[W];if(F.requirements.adjacent_plots!==void 0){let z=F.requirements.adjacent_plots;if(rp(y,b,N,F.requirements.adjacent_plots)===!1)return Lt.set(`This plot requires adjacent plots of type: ${z.join(", ")}`)}let Q=!0;if((F.requirements.gold>N.townInfo.gold||F.requirements.employees>N.townInfo.population_count-N.townInfo.employees)&&(Q=!1),F.requirements.size!=null&&F.requirements.size!=1&&Q){let j=function(Y,ee){let Z={x:Y,y:ee};return Z.x===0&&Z.y===0?!0:[{x:Z.x-1,y:Z.y},{x:Z.x+1,y:Z.y},{x:Z.x,y:Z.y-1},{x:Z.x,y:Z.y+1}].some(ge=>ge.x<0||ge.x>o.plots.length-1||ge.y<0||ge.y>o.plots.length-1?!1:o.plots[ge.x][ge.y].active)};var ne=j;let z=F.requirements.size,U=[],h=c[W].title.toLowerCase().indexOf("school")!=-1;for(let Y=0;Y<4;Y++){let ee=[[y,b]];Y===0?(ee.push([y-(z-1),b-(z-1)]),ee.push([y-(z-1),b]),ee.push([y,b-(z-1)])):Y===1?(ee.push([y,b-(z-1)]),ee.push([y+(z-1),b-(z-1)]),ee.push([y+(z-1),b])):Y===2?(ee.push([y-(z-1),b]),ee.push([y-(z-1),b+(z-1)]),ee.push([y,b+(z-1)])):Y===3&&(ee.push([y,b+(z-1)]),ee.push([y+(z-1),b+(z-1)]),ee.push([y+(z-1),b])),U.push(ee)}U=U.filter(Y=>Y.every(ee=>ee[0]>=0&&ee[0]<=N.plots.length-1&&ee[1]>=0&&ee[1]<=N.plots.length-1&&!N.plots[ee[0]][ee[1]].active&&j(ee[0],ee[1])==!0)),U.length===0?Q=!1:U.length>0&&U[0].forEach(ee=>{N.plots[ee[0]][ee[1]].active=!0,N.plots[ee[0]][ee[1]].type=h?-3:-2,N.plots[ee[0]][ee[1]].referencePlot=[y,b]})}if(Q===!0){if(N.plots[y][b].type!==-1&&Yi(y,b,N),n(14,u=""),N.plots[y][b].type=W,N.plots[y][b].active=!0,N.plots[y][b].referencePlot=[],N.plots[y][b].typeId=F.id,N.townInfo.gold-=F.requirements.gold,N.townInfo.gold=ut(N.townInfo.gold,2),N.townInfo.population_count+=F.immediate_variable_changes.population,N.townInfo.population_max+=F.immediate_variable_changes.population,N.townInfo.happiness+=F.immediate_variable_changes.happiness,N.townInfo.health+=F.immediate_variable_changes.health,N.modifiers.happiness=ut(N.modifiers.happiness*F.effect_modifiers.happiness,2),N.modifiers.health=ut(N.modifiers.health*F.effect_modifiers.health,2),N.modifiers.community=ut(N.modifiers.community*F.effect_modifiers.community,2),N.townInfo.employees+=F.requirements.employees,(N.plotCounts[W]===void 0||N.plotCounts[W]===null)&&(N.plotCounts[W]=0),N.plotCounts[W]++,N.lastChangeDay=N.environment.day,F.requirements.resources!==void 0){const U=F.requirements.resources;N.resources.food-=U.food,N.resources.wood-=U.wood,N.resources.stone-=U.stone,N.resources.metal-=U.metal}switch(F.id){case"city_hall":N.hasCityHall=!0;break;case"bank":N.hasBank=!0;break}Pe.set(N),localStorage.setItem(qt,JSON.stringify(N));let z=!1;for(let U=y;U<N.plots.length;U++){for(let h=b;h<N.plots[U].length;h++)if(N.plots[U][h].active===!1&&N.plots[U][h].mineralSource==!1&&N.plots[U][h].water==!1){y=U,b=h,z=!0;break}if(z)break}Me(tt,i.x=y,i),Me(tt,i.y=b,i)}else n(14,u="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(U=>{U.classList.remove("active")})}function E(){document.querySelectorAll(".plotOption").forEach(b=>{b.classList.remove("active")}),Yi(l,a,o)}const $=(y,b)=>b.level===y;function V(y){Ne[y?"unshift":"push"](()=>{d=y,n(8,d)})}const R=()=>{wm()},H=(y,b)=>b.level===y;return t.$$set=y=>{"x"in y&&n(0,l=y.x),"y"in y&&n(1,a=y.y),"open"in y&&n(2,s=y.open),"tooltip"in y&&n(14,u=y.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&240&&o&&(n(4,p=c.map(y=>Object.assign(Object.assign({},y),{affordable:k(y,o),selected:v(y)}))),He("tree_farm",o).length===0&&n(4,p=p.filter(y=>y.id==="small_homes"||y.id==="farm"||y.id==="tree_farm")),i.isMineralSource&&n(4,p=p.filter(y=>y.id==="mine")),r&&n(4,p=p.filter(y=>y.affordable)),Object.keys(Ms).forEach(y=>{let b=Ms[y];if(b>0){let I=He(y,o).length;n(4,p=p.filter(N=>N.id!==y||I<b))}}),p.sort((y,b)=>y.selected&&!b.selected?-1:0)),t.$$.dirty[0]&24&&n(4,p=p.filter(y=>y.title.toLowerCase().includes(f.toLowerCase())))},[l,a,s,f,p,o,i,r,d,m,_,w,L,E,u,$,V,R,H]}class Gd extends ve{constructor(e){super(),be(this,e,g4,_4,ue,{x:0,y:1,open:2,tooltip:14},null,[-1,-1])}}function b4(t){let e,n,o;return{c(){e=O("span"),n=B("My liege, if you build a City Hall, you can expand your city "),o=B(t[0]),P(e,"class","text-xs")},m(i,r){M(i,e,r),g(e,n),g(e,o)},p(i,r){r&1&&re(o,i[0])},i:Ce,o:Ce,d(i){i&&T(e)}}}function v4(t){let e,n;return e=new yt({props:{class:"bg-button h-max rounded-2xl hover:scale-110 transition-transform duration-200 ease-in-out hover:drop-shadow-2xl",$$slots:{default:[y4]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&11&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function y4(t){let e,n,o,i,r,l=t[0].toUpperCase()+"",a,s,u,f,c,d,m,p,_,v,k,w=Math.round(Math.pow(1.5,t[1].kingdom_expansions+5))+"",C,L,D,E;return{c(){e=O("div"),n=B("spanMy liege, you can expand your "),o=O("br"),i=B(`kingdom
        `),r=O("span"),a=B(l),s=B(`
        using
        `),u=O("br"),f=B(`your
        `),c=O("span"),c.textContent="City Hall",d=B("!"),m=O("br"),p=O("br"),_=q(),v=O("span"),k=B("Requires "),C=B(w),L=B(` Guardians
          `),D=O("br"),E=B("to be employed. (see city mgmt menu)"),P(r,"class","font-extrabold text-blue-200"),P(c,"class","text-blue-200 bold"),P(v,"class","opacity-75 text-xs")},m($,V){M($,e,V),g(e,n),g(e,o),g(e,i),g(e,r),g(r,a),g(e,s),g(e,u),g(e,f),g(e,c),g(e,d),g(e,m),g(e,p),g(e,_),g(e,v),g(v,k),g(v,C),g(v,L),g(v,D),g(v,E)},p($,V){V&1&&l!==(l=$[0].toUpperCase()+"")&&re(a,l),V&2&&w!==(w=Math.round(Math.pow(1.5,$[1].kingdom_expansions+5))+"")&&re(C,w)},d($){$&&T(e)}}}function w4(t){let e,n,o,i,r;const l=[v4,b4],a=[];function s(u,f){return f&2&&(n=null),n==null&&(n=He("city_hall",u[1]).length>0),n?0:1}return o=s(t,-1),i=a[o]=l[o](t),{c(){e=O("div"),i.c(),P(e,"class","w-48 h-max")},m(u,f){M(u,e,f),a[o].m(e,null),r=!0},p(u,[f]){let c=o;o=s(u,f),o===c?a[o].p(u,f):(Ie(),S(a[c],1,1,()=>{a[c]=null}),Oe(),i=a[o],i?i.p(u,f):(i=a[o]=l[o](u),i.c()),A(i,1),i.m(e,null))},i(u){r||(A(i),r=!0)},o(u){S(i),r=!1},d(u){u&&T(e),a[o].d()}}}function k4(t,e,n){let o;se(t,Pe,l=>n(1,o=l));let{direction:i}=e;const r=()=>{const l=ym(o,i);l&&Lt.set(l)};return t.$$set=l=>{"direction"in l&&n(0,i=l.direction)},[i,o,r]}class Of extends ve{constructor(e){super(),be(this,e,k4,w4,ue,{direction:0})}}function C4(t){return{c:Ce,m:Ce,p:Ce,d:Ce}}function A4(t){let e,n,o,i=ie[t[0].type].title.substring(0,2)+"",r,l,a,s,u,f=ie[t[0].type].title.substring(2)+"",c,d,m,p;return{c(){e=O("div"),n=O("span"),o=O("span"),r=B(i),l=q(),a=O("br"),s=q(),u=O("span"),c=B(f),P(o,"class","text-lg align-text-top select-none"),P(u,"class","text-xs align-text-top font-normal text-black from-stone-600 select-none"),P(n,"data-size",d=ie[t[0].type].requirements.size),P(n,"data-x",m=t[0].x),P(n,"data-y",p=t[0].y),P(e,"class","svelte-9dbw4v")},m(_,v){M(_,e,v),g(e,n),g(n,o),g(o,r),g(n,l),g(n,a),g(n,s),g(n,u),g(u,c)},p(_,v){v&1&&i!==(i=ie[_[0].type].title.substring(0,2)+"")&&re(r,i),v&1&&f!==(f=ie[_[0].type].title.substring(2)+"")&&re(c,f),v&1&&d!==(d=ie[_[0].type].requirements.size)&&P(n,"data-size",d),v&1&&m!==(m=_[0].x)&&P(n,"data-x",m),v&1&&p!==(p=_[0].y)&&P(n,"data-y",p)},d(_){_&&T(e)}}}function Pf(t){let e;return{c(){e=O("span"),e.textContent="🧲",P(e,"class","text-lg")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Nf(t){let e;return{c(){e=O("span"),e.textContent="👑",P(e,"class","text-xl absolute top-0")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function S4(t){let e,n,o,i=t[7](t[0].x,t[0].y),r,l,a,s,u,f,c,d,m,p,_,v,k,w,C,L,D,E;function $(b,I){if(b[0].type>-1)return A4;if(b[0].type==-1&&b[0].x==0&&b[0].y==0)return C4}let V=$(t),R=V&&V(t),H=t[0].mineralSource&&t[0].type==-1&&Pf(),y=i&&Nf();return{c(){e=O("button"),R&&R.c(),n=q(),H&&H.c(),o=q(),y&&y.c(),P(e,"class",r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v"),Ze(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":Wi(t[0].type,t[2])),P(e,"data-active",l=t[0].active),P(e,"data-hidehoveranimation",a=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),P(e,"data-id",s=t[0].id),P(e,"data-x",u=t[0].x),P(e,"data-y",f=t[0].y),P(e,"data-optionindex",c=t[0].optionIndex),P(e,"data-canbeupgraded",t[2]),P(e,"data-type",d=t[0].type),P(e,"data-type-id",m=t[0].typeId),P(e,"data-refplotx",p=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),P(e,"data-refploty",_=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),P(e,"data-size",v=t[0].type>-1?ie[t[0].type].requirements.size:null),P(e,"data-mineralsource",k=t[0].mineralSource),P(e,"data-water",w=t[0].water),P(e,"data-nearwater",C=Bn(t[0].x,t[0].y,t[5])),P(e,"data-liegelocation",L=t[7](t[0].x,t[0].y))},m(b,I){M(b,e,I),R&&R.m(e,null),g(e,n),H&&H.m(e,null),g(e,o),y&&y.m(e,null),D||(E=te(e,"click",function(){cn(t[0].water?null:t[6]?Os(t[0].x,t[0].y,t[5]):t[8])&&(t[0].water?null:t[6]?Os(t[0].x,t[0].y,t[5]):t[8]).apply(this,arguments)}),D=!0)},p(b,I){t=b,V===(V=$(t))&&R?R.p(t,I):(R&&R.d(1),R=V&&V(t),R&&(R.c(),R.m(e,n))),t[0].mineralSource&&t[0].type==-1?H||(H=Pf(),H.c(),H.m(e,o)):H&&(H.d(1),H=null),I&1&&(i=t[7](t[0].x,t[0].y)),i?y||(y=Nf(),y.c(),y.m(e,null)):y&&(y.d(1),y=null),I&7&&r!==(r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v")&&P(e,"class",r),I&21&&Ze(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":Wi(t[0].type,t[2])),I&1&&l!==(l=t[0].active)&&P(e,"data-active",l),I&17&&a!==(a=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0)&&P(e,"data-hidehoveranimation",a),I&1&&s!==(s=t[0].id)&&P(e,"data-id",s),I&1&&u!==(u=t[0].x)&&P(e,"data-x",u),I&1&&f!==(f=t[0].y)&&P(e,"data-y",f),I&1&&c!==(c=t[0].optionIndex)&&P(e,"data-optionindex",c),I&4&&P(e,"data-canbeupgraded",t[2]),I&1&&d!==(d=t[0].type)&&P(e,"data-type",d),I&1&&m!==(m=t[0].typeId)&&P(e,"data-type-id",m),I&1&&p!==(p=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null)&&P(e,"data-refplotx",p),I&1&&_!==(_=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null)&&P(e,"data-refploty",_),I&1&&v!==(v=t[0].type>-1?ie[t[0].type].requirements.size:null)&&P(e,"data-size",v),I&1&&k!==(k=t[0].mineralSource)&&P(e,"data-mineralsource",k),I&1&&w!==(w=t[0].water)&&P(e,"data-water",w),I&33&&C!==(C=Bn(t[0].x,t[0].y,t[5]))&&P(e,"data-nearwater",C),I&1&&L!==(L=t[7](t[0].x,t[0].y))&&P(e,"data-liegelocation",L)},d(b){b&&T(e),R&&R.d(),H&&H.d(),y&&y.d(),D=!1,E()}}}function Ef(t){let e;return{c(){e=B("Water - Place farms nearby for more food & revenue!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function $f(t){let e;return{c(){e=O("span"),e.textContent="Near water - Generating more food & revenue!",P(e,"class","text-xs bg-blue-500 text-white p-1")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Rf(t){let e,n;return e=new qd({props:{option:t[3],checkRequirements:!1}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&8&&(r.option=o[3]),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function T4(t){let e,n,o=Bn(t[0].x,t[0].y,t[5]),i,r,l=t[0].water&&Ef(),a=o&&$f(),s=t[0].active&&Rf(t);return{c(){e=O("div"),l&&l.c(),n=q(),a&&a.c(),i=q(),s&&s.c(),P(e,"class","flex flex-col gap-2")},m(u,f){M(u,e,f),l&&l.m(e,null),g(e,n),a&&a.m(e,null),g(e,i),s&&s.m(e,null),r=!0},p(u,f){u[0].water?l||(l=Ef(),l.c(),l.m(e,n)):l&&(l.d(1),l=null),f&33&&(o=Bn(u[0].x,u[0].y,u[5])),o?a||(a=$f(),a.c(),a.m(e,i)):a&&(a.d(1),a=null),u[0].active?s?(s.p(u,f),f&1&&A(s,1)):(s=Rf(u),s.c(),A(s,1),s.m(e,null)):s&&(Ie(),S(s,1,1,()=>{s=null}),Oe())},i(u){r||(A(s),r=!0)},o(u){S(s),r=!1},d(u){u&&T(e),l&&l.d(),a&&a.d(),s&&s.d()}}}function M4(t){let e,n,o,i;return e=new Eo({props:{$$slots:{default:[S4]},$$scope:{ctx:t}}}),o=new Po({props:{class:t[0].type<0&&!t[0].water?"hidden":"",$$slots:{default:[T4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&4215&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class=r[0].type<0&&!r[0].water?"hidden":""),l&4137&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function I4(t){let e,n;return e=new No({props:{openDelay:400,closeDelay:0,$$slots:{default:[M4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,[i]){const r={};i&4223&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function O4(t,e,n){let o,i,r,l,a;se(t,tt,_=>n(4,o=_)),se(t,Pe,_=>n(5,i=_)),se(t,Rt,_=>n(10,r=_)),se(t,go,_=>n(11,l=_)),se(t,bo,_=>n(6,a=_));let{data:s={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,u,{classText:f=""}=e,{canBeUpgraded:c=!1}=e;const d=(_,v)=>i.liege_location!=null&&_==i.liege_location[0]&&v==i.liege_location[1];function m(_,v,k){let w=document.querySelectorAll(".plot_container");if(r==!1){if(s.referencePlot!=null&&s.referencePlot[0]!==null&&v==null&&k==null&&s.referencePlot[1]!==void 0)return m(_,s.referencePlot[0],s.referencePlot[1]);!s.active&&!c?(Me(go,l={},l),Me(tt,o.visible=!1,o),w.forEach(C=>{C.classList.remove("selected")})):(v!=null&&k!=null?(Me(tt,o.x=v,o),Me(tt,o.y=k,o)):(Me(tt,o.x=s.x,o),Me(tt,o.y=s.y,o)),Me(tt,o.isMineralSource=s.mineralSource,o),Me(tt,o.visible=!0,o),w.forEach(C=>{C.classList.remove("selected")}),v!=null&&k!=null?document.querySelector(`.plot_container[data-x="${v}"][data-y="${k}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${s.id}"]`).classList.add("selected"))}}function p(_){r==!1&&(Me(Pe,i.plots[s.x][s.y].type=_,i),Me(tt,o.visible=!1,o))}return t.$$set=_=>{"data"in _&&n(0,s=_.data),"classText"in _&&n(1,f=_.classText),"canBeUpgraded"in _&&n(2,c=_.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1&&s.type>-1&&n(3,u=ie[s.type])},[s,f,c,u,o,i,a,d,m,p]}class P4 extends ve{constructor(e){super(),be(this,e,O4,I4,ue,{data:0,classText:1,canBeUpgraded:2,changePlotType:9})}get changePlotType(){return this.$$.ctx[9]}}function Lf(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function Df(t,e,n){const o=t.slice();return o[9]=e[n],o}function Ff(t){let e,n,o,i,r,l,a,s,u,f,c,d=t[3],m,p,_=Ye(t[2].plots),v=[];for(let C=0;C<_.length;C+=1)v[C]=jf(Lf(t,_,C));const k=C=>S(v[C],1,1,()=>{v[C]=null});a=new Of({props:{direction:"east"}}),f=new Of({props:{direction:"south"}});let w=Gf(t);return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("div");for(let C=0;C<v.length;C+=1)v[C].c();r=q(),l=O("span"),J(a.$$.fragment),s=q(),u=O("span"),J(f.$$.fragment),c=q(),w.c(),m=Re(),P(i,"class","grid plot_controller svelte-1bzj7j4"),P(o,"class","flex flex-row items-center"),P(n,"id","plotContainerMain"),P(n,"class","absolute left-[170px] items-center h-max flex flex-col top-[170px] pl-16 pt-16 pb-80 pr-80 bg-background svelte-1bzj7j4"),P(e,"class","flex flex-col")},m(C,L){M(C,e,L),g(e,n),g(n,o),g(o,i);for(let D=0;D<v.length;D+=1)v[D]&&v[D].m(i,null);g(o,r),g(o,l),K(a,l,null),g(n,s),g(n,u),K(f,u,null),M(C,c,L),w.m(C,L),M(C,m,L),p=!0},p(C,L){if(L&7){_=Ye(C[2].plots);let D;for(D=0;D<_.length;D+=1){const E=Lf(C,_,D);v[D]?(v[D].p(E,L),A(v[D],1)):(v[D]=jf(E),v[D].c(),A(v[D],1),v[D].m(i,null))}for(Ie(),D=_.length;D<v.length;D+=1)k(D);Oe()}L&8&&ue(d,d=C[3])?(Ie(),S(w,1,1,Ce),Oe(),w=Gf(C),w.c(),A(w,1),w.m(m.parentNode,m)):w.p(C,L)},i(C){if(!p){for(let L=0;L<_.length;L+=1)A(v[L]);A(a.$$.fragment,C),A(f.$$.fragment,C),A(w),p=!0}},o(C){v=v.filter(Boolean);for(let L=0;L<v.length;L+=1)S(v[L]);S(a.$$.fragment,C),S(f.$$.fragment,C),S(w),p=!1},d(C){C&&(T(e),T(c),T(m)),_t(v,C),X(a),X(f),w.d(C)}}}function Bf(t){let e,n;return e=new P4({props:{classText:"hexagon",data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&4&&(r.data=o[9]),i&4&&(r.canBeUpgraded=o[0](o[9].x,o[9].y)),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function jf(t){let e,n,o,i,r,l=Ye(t[6]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Bf(Df(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=O("div");for(let u=0;u<a.length;u+=1)a[u].c();n=q(),P(e,"class","row "+(t[8]%2!==0?"odd-row":"")+" svelte-1bzj7j4")},m(u,f){M(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);g(e,n),o=!0,i||(r=te(e,"click",t[1]),i=!0)},p(u,f){if(f&5){l=Ye(u[6]);let c;for(c=0;c<l.length;c+=1){const d=Df(u,l,c);a[c]?(a[c].p(d,f),A(a[c],1)):(a[c]=Bf(d),a[c].c(),A(a[c],1),a[c].m(e,n))}for(Ie(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)A(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);o=!1},d(u){u&&T(e),_t(a,u),i=!1,r()}}}function qf(t){let e,n;return e=new Gd({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.x=o[4].x),i&16&&(r.y=o[4].y),i&16&&(r.open=o[4].visible),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Gf(t){let e,n,o=t[4].visible&&qf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,r){i[4].visible?o?(o.p(i,r),r&16&&A(o,1)):(o=qf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function N4(t){let e,n,o=t[2]!=null&&Ff(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[2]!=null?o?(o.p(i,r),r&4&&A(o,1)):(o=Ff(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function E4(t,e,n){let o,i,r;se(t,go,u=>n(3,o=u)),se(t,Pe,u=>n(2,i=u)),se(t,tt,u=>n(4,r=u)),document.addEventListener("click",function(u){const f=u.target;(f.dataset.x==null&&f.dataset.type!="-1"&&f.dataset.size!=null||f.id=="plotContainerMain"||f.classList.contains("row")||f.classList.contains("grid"))&&Me(tt,r.visible=!1,r)});function l(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(m=>m.x<0||m.x>=i.plots.length||m.y<0||m.y>=i.plots[m.x].length?!1:i.plots[m.x][m.y].active)}function a(){let u=[];for(let f=0;f<i.plots.length;f++)for(let c=0;c<i.plots.length;c++)l(f,c)&&i.plots[f][c].active==!1&&u.push(i.plots[f][c])}function s(){Me(go,o={},o)}return t.$$.update=()=>{t.$$.dirty&4&&i&&a()},[l,s,i,o,r]}class $4 extends ve{constructor(e){super(),be(this,e,E4,N4,ue,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}function Vf(t,e,n){const o=t.slice();return o[3]=e[n],o}function Hf(t){let e;return{c(){e=O("p"),e.textContent="No alerts",P(e,"class","text-center")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Wf(t){let e,n,o,i=t[3].day+"",r,l,a,s=t[3].message+"",u,f,c,d;return{c(){e=O("div"),n=O("p"),o=B("DAY "),r=B(i),l=q(),a=O("p"),u=B(s),c=q(),d=O("br"),P(n,"class","font-mono text-[10px] "),P(a,"class","text-sm pb-1"),P(e,"class",f="p-2 rounded-2xl "+(t[3].vibe==ze.BAD?"bg-red-600":t[3].vibe==ze.GOOD?"bg-green-600":(t[3].vibe==ze.NORMAL,"bg-accent")))},m(m,p){M(m,e,p),g(e,n),g(n,o),g(n,r),g(e,l),g(e,a),g(a,u),M(m,c,p),M(m,d,p)},p(m,p){p&2&&i!==(i=m[3].day+"")&&re(r,i),p&2&&s!==(s=m[3].message+"")&&re(u,s),p&2&&f!==(f="p-2 rounded-2xl "+(m[3].vibe==ze.BAD?"bg-red-600":m[3].vibe==ze.GOOD?"bg-green-600":(m[3].vibe==ze.NORMAL,"bg-accent")))&&P(e,"class",f)},d(m){m&&(T(e),T(c),T(d))}}}function R4(t){let e,n,o,i,r,l,a,s,u,f,c,d=t[1].townLog.length==0&&Hf(),m=Ye(t[1].townLog),p=[];for(let _=0;_<m.length;_+=1)p[_]=Wf(Vf(t,m,_));return{c(){e=O("div"),n=O("div"),o=O("h1"),o.textContent="Alerts",i=q(),r=O("div"),d&&d.c(),l=q();for(let _=0;_<p.length;_+=1)p[_].c();a=q(),s=O("ul"),P(o,"class","text-xl w-full pb-2 text-center cursor-pointer "),P(r,"class","overflow-y-scroll h-[100%] w-[100%] px-1"),P(s,"class","list-disc pl-5 gap-2 flex flex-col text-xs "),P(n,"class",u="bg-foreground w-[160px] border-foregroundDark border-4 "+(t[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 py-2 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300 overflow-y-clip"),P(e,"class","flex flex-row text-foregroundText")},m(_,v){M(_,e,v),g(e,n),g(n,o),g(n,i),g(n,r),d&&d.m(r,null),g(r,l);for(let k=0;k<p.length;k+=1)p[k]&&p[k].m(r,null);g(n,a),g(n,s),f||(c=te(o,"click",t[2]),f=!0)},p(_,[v]){if(_[1].townLog.length==0?d||(d=Hf(),d.c(),d.m(r,l)):d&&(d.d(1),d=null),v&2){m=Ye(_[1].townLog);let k;for(k=0;k<m.length;k+=1){const w=Vf(_,m,k);p[k]?p[k].p(w,v):(p[k]=Wf(w),p[k].c(),p[k].m(r,null))}for(;k<p.length;k+=1)p[k].d(1);p.length=m.length}v&1&&u!==(u="bg-foreground w-[160px] border-foregroundDark border-4 "+(_[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 py-2 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300 overflow-y-clip")&&P(n,"class",u)},i:Ce,o:Ce,d(_){_&&T(e),d&&d.d(),_t(p,_),f=!1,c()}}}function L4(t,e,n){let o,i;return se(t,tt,l=>n(0,o=l)),se(t,Pe,l=>n(1,i=l)),[o,i,()=>{Me(Pe,i.townLog=[],i)}]}class D4 extends ve{constructor(e){super(),be(this,e,L4,R4,ue,{})}}function Yf(t,e,n){const o=t.slice();return o[5]=e[n],o}function Uf(t){let e,n;return e=new O1({props:{thumb:t[5],class:"block h-5 w-5 rounded-full border-2 border-primary bg-accent ring-accent transition-colors focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function F4(t){let e,n,o,i,r;n=new C1({props:{class:"absolute h-full bg-primary"}});let l=Ye(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Uf(Yf(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=O("span"),J(n.$$.fragment),o=q();for(let u=0;u<a.length;u+=1)a[u].c();i=Re(),P(e,"class","relative h-2 w-full grow overflow-hidden rounded-full bg-textPrimary")},m(u,f){M(u,e,f),K(n,e,null),M(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);M(u,i,f),r=!0},p(u,f){if(f&16){l=Ye(u[4]);let c;for(c=0;c<l.length;c+=1){const d=Yf(u,l,c);a[c]?(a[c].p(d,f),A(a[c],1)):(a[c]=Uf(d),a[c].c(),A(a[c],1),a[c].m(i.parentNode,i))}for(Ie(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!r){A(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)A(a[f]);r=!0}},o(u){S(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);r=!1},d(u){u&&(T(e),T(o),T(i)),X(n),_t(a,u)}}}function B4(t){let e,n,o;const i=[{class:Fe("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[F4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=x(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new g1({props:l}),Ne.push(()=>Mn(e,"value",r)),{c(){J(e.$$.fragment)},m(a,s){K(e,a,s),o=!0},p(a,[s]){const u=s&6?we(i,[s&2&&{class:Fe("relative flex w-full touch-none select-none items-center",a[1])},s&4&&rt(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],Tn(()=>n=!1)),e.$set(u)},i(a){o||(A(e.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),o=!1},d(a){X(e,a)}}}function j4(t,e,n){const o=["class","value"];let i=le(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=x(x({},e),$e(s)),n(2,i=le(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class Kf extends ve{constructor(e){super(),be(this,e,j4,B4,ue,{class:1,value:0})}}function Xf(t,e,n){const o=t.slice();return o[7]=e[n].icon,o[8]=e[n].name,o[9]=e[n].value,o[10]=e[n].rate,o}function Jf(t,e,n){const o=t.slice();return o[13]=e[n],o}function q4(t){let e;return{c(){e=O("div"),e.innerHTML=`Resources are generated from plots. Generation rate can be increased
            by raising the productivity of the town, at the cost of some
            happiness.
            <br/> <br/>
            There is also a slight bit of randomness as townspeople aren&#39;t robots.`,P(e,"class","text-sm")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function G4(t){let e,n,o,i;return o=new Po({props:{class:"text-sm w-[200px]",$$slots:{default:[q4]},$$scope:{ctx:t}}}),{c(){e=O("div"),e.innerHTML='<h1 class="text-xl w-full text-center">Resources</h1> <button class="text-textPrimary text-sm">ℹ️</button>',n=q(),J(o.$$.fragment),P(e,"class","flex flex-row items-center pb-2 gap-2")},m(r,l){M(r,e,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&65536&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(A(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&(T(e),T(n)),X(o,r)}}}function V4(t){let e,n;return e=new Eo({props:{$$slots:{default:[G4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&65536&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function H4(t){let e,n,o=t[10]+"",i;return{c(){e=O("span"),n=B("+"),i=B(o),P(e,"class","text-textPrimary")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&re(i,o)},d(r){r&&T(e)}}}function W4(t){let e;return{c(){e=O("span")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function Y4(t){let e,n=t[10]+"",o;return{c(){e=O("span"),o=B(n),P(e,"class","text-textDanger2")},m(i,r){M(i,e,r),g(e,o)},p(i,r){r&2&&n!==(n=i[10]+"")&&re(o,n)},d(i){i&&T(e)}}}function U4(t){let e,n,o=t[10]+"",i;return{c(){e=O("span"),n=B("+"),i=B(o),P(e,"class","text-textHappy")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&re(i,o)},d(r){r&&T(e)}}}function K4(t){let e;return{c(){e=O("span"),P(e,"class","display-none")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function X4(t){let e,n,o=t[10]+"",i,r;return{c(){e=O("span"),n=B("+"),i=B(o),r=B(" (weekly)"),P(e,"class","")},m(l,a){M(l,e,a),g(e,n),g(e,i),g(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&re(i,o)},d(l){l&&T(e)}}}function J4(t){let e,n=t[10]+"",o,i;return{c(){e=O("span"),o=B(n),i=B(" (weekly)"),P(e,"class","text-textDanger2")},m(r,l){M(r,e,l),g(e,o),g(e,i)},p(r,l){l&2&&n!==(n=r[10]+"")&&re(o,n)},d(r){r&&T(e)}}}function x4(t){let e,n,o=t[10]+"",i,r;return{c(){e=O("span"),n=B("+"),i=B(o),r=B(" (weekly)"),P(e,"class","text-textHappy")},m(l,a){M(l,e,a),g(e,n),g(e,i),g(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&re(i,o)},d(l){l&&T(e)}}}function xf(t){let e,n,o,i;return e=new wt({}),{c(){J(e.$$.fragment),n=q(),o=O("span"),o.textContent="Required for",P(o,"class","text-sm font-semibold")},m(r,l){K(e,r,l),M(r,n,l),M(r,o,l),i=!0},i(r){i||(A(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),X(e,r)}}}function Zf(t){let e,n=t[13]+"",o;return{c(){e=O("span"),o=B(n),P(e,"class","text-xs mr-4")},m(i,r){M(i,e,r),g(e,o)},p(i,r){r&2&&n!==(n=i[13]+"")&&re(o,n)},d(i){i&&T(e)}}}function Z4(t){let e,n,o=t[7]+"",i,r,l=Fn(t[8])+"",a,s,u,f=t[5](t[8]).length>0,c,d,m;function p(L,D){return L[10]>0?x4:L[10]<0?J4:L[10]!=null?X4:K4}let _=p(t),v=_(t),k=f&&xf(),w=Ye(t[5](t[8])),C=[];for(let L=0;L<w.length;L+=1)C[L]=Zf(Jf(t,w,L));return{c(){e=O("div"),n=O("span"),i=B(o),r=q(),a=B(l),s=q(),v.c(),u=q(),k&&k.c(),c=q(),d=O("div");for(let L=0;L<C.length;L+=1)C[L].c();P(n,"class","text-md font-bold"),P(d,"class","flex flex-col flex-wrap min-w-full"),P(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit")},m(L,D){M(L,e,D),g(e,n),g(n,i),g(n,r),g(n,a),g(e,s),v.m(e,null),g(e,u),k&&k.m(e,null),g(e,c),g(e,d);for(let E=0;E<C.length;E+=1)C[E]&&C[E].m(d,null);m=!0},p(L,D){if((!m||D&2)&&o!==(o=L[7]+"")&&re(i,o),(!m||D&2)&&l!==(l=Fn(L[8])+"")&&re(a,l),_===(_=p(L))&&v?v.p(L,D):(v.d(1),v=_(L),v&&(v.c(),v.m(e,u))),D&2&&(f=L[5](L[8]).length>0),f?k?D&2&&A(k,1):(k=xf(),k.c(),A(k,1),k.m(e,c)):k&&(Ie(),S(k,1,1,()=>{k=null}),Oe()),D&34){w=Ye(L[5](L[8]));let E;for(E=0;E<w.length;E+=1){const $=Jf(L,w,E);C[E]?C[E].p($,D):(C[E]=Zf($),C[E].c(),C[E].m(d,null))}for(;E<C.length;E+=1)C[E].d(1);C.length=w.length}},i(L){m||(A(k),m=!0)},o(L){S(k),m=!1},d(L){L&&T(e),v.d(),k&&k.d(),_t(C,L)}}}function Q4(t){let e,n=t[7]+"",o,i,r=Jt(parseInt(t[9]),!1)+"",l,a,s,u,f,c;function d(_,v){return _[10]>0?U4:_[10]<0?Y4:_[10]==null?W4:H4}let m=d(t),p=m(t);return f=new Po({props:{$$slots:{default:[Z4]},$$scope:{ctx:t}}}),{c(){e=O("span"),o=B(n),i=q(),l=B(r),a=q(),p.c(),u=q(),J(f.$$.fragment),P(e,"class",s="flex flex-row justify-between "+(t[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary"))},m(_,v){M(_,e,v),g(e,o),g(e,i),g(e,l),g(e,a),p.m(e,null),M(_,u,v),K(f,_,v),c=!0},p(_,v){(!c||v&2)&&n!==(n=_[7]+"")&&re(o,n),(!c||v&2)&&r!==(r=Jt(parseInt(_[9]),!1)+"")&&re(l,r),m===(m=d(_))&&p?p.p(_,v):(p.d(1),p=m(_),p&&(p.c(),p.m(e,null))),(!c||v&2&&s!==(s="flex flex-row justify-between "+(_[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary")))&&P(e,"class",s);const k={};v&65538&&(k.$$scope={dirty:v,ctx:_}),f.$set(k)},i(_){c||(A(f.$$.fragment,_),c=!0)},o(_){S(f.$$.fragment,_),c=!1},d(_){_&&(T(e),T(u)),p.d(),X(f,_)}}}function z4(t){let e,n,o;return e=new Eo({props:{$$slots:{default:[Q4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q()},m(i,r){K(e,i,r),M(i,n,r),o=!0},p(i,r){const l={};r&65538&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(A(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){i&&T(n),X(e,i)}}}function Qf(t){let e,n;return e=new No({props:{openDelay:400,closeDelay:0,$$slots:{default:[z4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&65538&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function eC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_=ut(t[0].townInfo.productivity,0)+"",v,k,w,C,L,D,E,$,V,R,H,y=ut(t[0].economyAndLaws.tax_rate*100,0)+"",b,I,N,W,F,Q,ne;o=new No({props:{openDelay:400,closeDelay:0,$$slots:{default:[V4]},$$scope:{ctx:t}}});let z=Ye(t[1]),U=[];for(let j=0;j<z.length;j+=1)U[j]=Qf(Xf(t,z,j));const h=j=>S(U[j],1,1,()=>{U[j]=null});return C=new Kf({props:{value:[t[0].townInfo.productivity],onValueChange:t[4],min:0,max:200,step:5,class:"cursor-pointer w-full"}}),W=new Kf({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[3],min:0,max:1,step:.05,class:"cursor-pointer w-full"}}),{c(){e=O("div"),n=O("div"),J(o.$$.fragment),i=q(),r=O("div"),l=O("div");for(let j=0;j<U.length;j+=1)U[j].c();a=q(),s=O("div"),u=O("div"),f=O("div"),c=O("span"),c.textContent="Productivity",d=q(),m=O("span"),p=B("("),v=B(_),k=B("%)"),w=q(),J(C.$$.fragment),L=q(),D=O("div"),E=O("div"),$=O("span"),$.textContent="Tax Rate",V=q(),R=O("span"),H=B("("),b=B(y),I=B("%)"),N=q(),J(W.$$.fragment),P(n,"class","flex flex-row justify-center"),P(l,"class","flex flex-col text-sm text-nowrap gap-2"),P(c,"class","text-xs"),P(m,"class","text-xs"),P(u,"class","flex flex-col justify-center w-full text-center items-center gap-2"),P($,"class","text-xs"),P(R,"class","text-xs"),P(D,"class",F="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(t[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")),P(s,"class","flex flex-col gap-6 rounded-xl text-center justify-center"),P(r,"class","flex flex-col justify-between gap-4 text-foregroundText h-full pb-12"),P(e,"class",Q="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(t[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300")},m(j,Y){M(j,e,Y),g(e,n),K(o,n,null),g(e,i),g(e,r),g(r,l);for(let ee=0;ee<U.length;ee+=1)U[ee]&&U[ee].m(l,null);g(r,a),g(r,s),g(s,u),g(u,f),g(f,c),g(f,d),g(f,m),g(m,p),g(m,v),g(m,k),g(u,w),K(C,u,null),g(s,L),g(s,D),g(D,E),g(E,$),g(E,V),g(E,R),g(R,H),g(R,b),g(R,I),g(D,N),K(W,D,null),ne=!0},p(j,[Y]){const ee={};if(Y&65536&&(ee.$$scope={dirty:Y,ctx:j}),o.$set(ee),Y&34){z=Ye(j[1]);let ge;for(ge=0;ge<z.length;ge+=1){const Te=Xf(j,z,ge);U[ge]?(U[ge].p(Te,Y),A(U[ge],1)):(U[ge]=Qf(Te),U[ge].c(),A(U[ge],1),U[ge].m(l,null))}for(Ie(),ge=z.length;ge<U.length;ge+=1)h(ge);Oe()}(!ne||Y&1)&&_!==(_=ut(j[0].townInfo.productivity,0)+"")&&re(v,_);const Z={};Y&1&&(Z.value=[j[0].townInfo.productivity]),C.$set(Z),(!ne||Y&1)&&y!==(y=ut(j[0].economyAndLaws.tax_rate*100,0)+"")&&re(b,y);const _e={};Y&1&&(_e.value=[j[0].economyAndLaws.tax_rate]),W.$set(_e),(!ne||Y&1&&F!==(F="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(j[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")))&&P(D,"class",F),(!ne||Y&4&&Q!==(Q="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(j[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300"))&&P(e,"class",Q)},i(j){if(!ne){A(o.$$.fragment,j);for(let Y=0;Y<z.length;Y+=1)A(U[Y]);A(C.$$.fragment,j),A(W.$$.fragment,j),ne=!0}},o(j){S(o.$$.fragment,j),U=U.filter(Boolean);for(let Y=0;Y<U.length;Y+=1)S(U[Y]);S(C.$$.fragment,j),S(W.$$.fragment,j),ne=!1},d(j){j&&T(e),X(o),_t(U,j),X(C),X(W)}}}function tC(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function nC(t,e,n){let o,i;se(t,Pe,f=>n(0,o=f)),se(t,tt,f=>n(2,i=f));function r(f){let c=o;c.economyAndLaws.tax_rate=ut(f[0],2),Pe.set(c),localStorage.setItem(qt,JSON.stringify(c))}function l(f){let c=o;c.townInfo.productivity=ut(f[0],2),Pe.set(c),localStorage.setItem(qt,JSON.stringify(c))}let a=[];function s(f){let c=[];for(let d=0;d<ie.length;d++)(f!="knowledge"&&ie[d].requirements.resources[f]>0||f=="power"&&ie[d].active_costs.power>0||f=="knowledge"&&ie[d].requirements.knowledge>0)&&c.push(ie[d].title);return c}function u(f){return tC(f)?s(f):[]}return t.$$.update=()=>{t.$$.dirty&1&&n(1,a=[{icon:"🥕",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"🪵",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"🪨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"🧠",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"🧲",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"🔋 Surplus",name:"power",value:o.resources.power,rate:null},{icon:"🧑‍⚖️",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy}])},[o,a,i,r,l,u]}class oC extends ve{constructor(e){super(),be(this,e,nC,eC,ue,{})}}function iC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m;return o=new f4({}),l=new D4({}),s=new $4({}),f=new oC({}),d=new Gd({}),{c(){e=O("div"),n=O("div"),J(o.$$.fragment),i=q(),r=O("div"),J(l.$$.fragment),a=q(),J(s.$$.fragment),u=q(),J(f.$$.fragment),c=q(),J(d.$$.fragment),P(r,"class","flex flex-row text-foregroundText"),P(e,"class","flex flex-col max-h-[100%] justify-between")},m(p,_){M(p,e,_),g(e,n),K(o,n,null),g(e,i),g(e,r),K(l,r,null),g(r,a),K(s,r,null),g(r,u),K(f,r,null),g(r,c),K(d,r,null),m=!0},p:Ce,i(p){m||(A(o.$$.fragment,p),A(l.$$.fragment,p),A(s.$$.fragment,p),A(f.$$.fragment,p),A(d.$$.fragment,p),m=!0)},o(p){S(o.$$.fragment,p),S(l.$$.fragment,p),S(s.$$.fragment,p),S(f.$$.fragment,p),S(d.$$.fragment,p),m=!1},d(p){p&&T(e),X(o),X(l),X(s),X(f),X(d)}}}function rC(t,e,n){return se(t,Pe,o=>n(0,o)),[]}class lC extends ve{constructor(e){super(),be(this,e,rC,iC,ue,{})}}function sC(t){let e;return{c(){e=B("Welcome to Plots!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function aC(t){let e,n,o,i,r=t[0].townInfo.name+"",l,a,s,u,f,c,d,m,p,_,v,k,w,C,L,D,E,$,V,R,H,y,b,I,N,W,F,Q,ne,z;return m=new wt({props:{class:"bg-white mt-2 mb-1"}}),k=new wt({props:{class:"bg-white mt-2 mb-1"}}),D=new wt({props:{class:"bg-white mt-2 mb-1"}}),R=new wt({props:{class:"bg-white mt-2 mb-1"}}),{c(){e=O("div"),n=O("p"),o=B(`You come across a large amount of land, and you decide to start a
            town called `),i=O("span"),l=B(r),a=B("."),s=q(),u=O("div"),f=O("p"),f.textContent="To run a successful town, you will need to have:",c=q(),d=O("ul"),J(m.$$.fragment),p=q(),_=O("li"),_.textContent=`👥 People - build homes and they will stay as long as they are
                happy.`,v=q(),J(k.$$.fragment),w=q(),C=O("li"),C.textContent=`🪵 Resources - generated by some plots and used to build others.
                some plots require sustained weekly resources (such as needing
                wood to heat homes)`,L=q(),J(D.$$.fragment),E=q(),$=O("li"),$.textContent=`💰 Gold - generated by plots through tax revenue. most plots
                make the town some amount of money but some cost a lot to
                operate.`,V=q(),J(R.$$.fragment),H=q(),y=O("p"),y.innerHTML=`The town&#39;s key metrics are <span class="font-bold text-textHappyDark">Happiness</span>
            and <span class="font-bold text-textHappyDark">Health</span>, shown
            in the top-left corner.`,b=q(),I=O("p"),I.textContent=`These metrics are affected by the plots you build. Some plots may
            not always increase happiness, and some could even be harmful enough
            to tear down an otherwise great town.`,N=q(),W=O("p"),W.textContent="Be cautious and make sure to hover over plots before you buy them.",F=q(),Q=O("img"),P(i,"class","font-bold text-accent"),P(d,"class","list-desc"),Xd(Q.src,ne="welcome_example_plot.png")||P(Q,"src",ne),P(Q,"class","max-w-[60%] object-fit"),P(e,"class","flex flex-col gap-3 max-h-[50vh] overflow-y-scroll")},m(U,h){M(U,e,h),g(e,n),g(n,o),g(n,i),g(i,l),g(i,a),g(e,s),g(e,u),g(u,f),g(u,c),g(u,d),K(m,d,null),g(d,p),g(d,_),g(d,v),K(k,d,null),g(d,w),g(d,C),g(d,L),K(D,d,null),g(d,E),g(d,$),g(d,V),K(R,d,null),g(e,H),g(e,y),g(e,b),g(e,I),g(e,N),g(e,W),g(e,F),g(e,Q),z=!0},p(U,h){(!z||h&1)&&r!==(r=U[0].townInfo.name+"")&&re(l,r)},i(U){z||(A(m.$$.fragment,U),A(k.$$.fragment,U),A(D.$$.fragment,U),A(R.$$.fragment,U),z=!0)},o(U){S(m.$$.fragment,U),S(k.$$.fragment,U),S(D.$$.fragment,U),S(R.$$.fragment,U),z=!1},d(U){U&&T(e),X(m),X(k),X(D),X(R)}}}function uC(t){let e,n,o,i;return e=new xl({props:{class:"",$$slots:{default:[sC]},$$scope:{ctx:t}}}),o=new Ql({props:{$$slots:{default:[aC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&524288&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524289&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function fC(t){let e;return{c(){e=B("Get started")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function cC(t){let e,n;return e=new ld({props:{class:"bg-button rounded-2xl text-foregroundText px-4 py-2 hover:scale-110 transition-all duration-300 ",$$slots:{default:[fC]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&524288&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function dC(t){let e,n,o,i;return e=new Zl({props:{$$slots:{default:[uC]},$$scope:{ctx:t}}}),o=new Tr({props:{$$slots:{default:[cC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&524289&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524288&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function mC(t){let e,n;return e=new Mr({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[dC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function pC(t){let e,n;return e=new Ir({props:{open:t[1],$$slots:{default:[mC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,[i]){const r={};i&2&&(r.open=o[1]),i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function hC(t,e,n){let o,i,r,l;se(t,an,m=>n(7,o=m)),se(t,Pe,m=>n(0,i=m)),se(t,Ji,m=>n(4,r=m)),se(t,il,m=>n(1,l=m)),Hn[i.endGoal],Fl[i.difficulty],nt.sort((m,p)=>f(m.id)&&!f(p.id)?-1:!f(m.id)&&f(p.id)?1:0),nt.filter(m=>f(m.id));function s(m){const p=o.achievements.find(_=>_[0]==m);return p==null?!1:p[3]}let u=nt;function f(m){return o.achievements==null?!1:o.achievements.find(p=>p[0]==m)!=null}function c(){Ji.update(m=>!m),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),_c.set("game"));const d=()=>{il.set(!1)};return t.$$.update=()=>{if(t.$$.dirty&25&&i)if(r)n(3,u=nt);else{n(3,u=[]);for(let m=0;m<nt.length;m++)(!f(nt[m].id)||!s(nt[m].id))&&u.push(nt[m])}},[i,l,c,u,r,d]}class _C extends ve{constructor(e){super(),be(this,e,hC,pC,ue,{toggleShowCompleted:2})}get toggleShowCompleted(){return this.$$.ctx[2]}}function zf(t,e,n){const o=t.slice();return o[7]=e[n],o}function gC(t){let e,n,o=t[0].townInfo.name+"",i,r,l,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=O("div"),n=O("span"),i=B(o),r=q(),l=O("span"),a=B("🧑‍⚖️ "),u=B(s),P(e,"class","flex justify-between mr-10")},m(f,c){M(f,e,c),g(e,n),g(n,i),g(e,r),g(e,l),g(l,a),g(l,u)},p(f,c){c&1&&o!==(o=f[0].townInfo.name+"")&&re(i,o),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&re(u,s)},d(f){f&&T(e)}}}function ec(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_=t[0].townInfo.guardians+"",v,k,w,C,L,D=t[0].townInfo.population_count-t[0].townInfo.employees+"",E,$,V;return e=new wt({props:{class:"mb-4"}}),d=new yt({props:{class:`bg-button rounded-2xl h-min select-none
            `+(t[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[bC]},$$scope:{ctx:t}}}),d.$on("click",t[2]),w=new yt({props:{class:`bg-button rounded-2xl h-min select-none
            
              `+(t[0].townInfo.employees>=t[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[vC]},$$scope:{ctx:t}}}),w.$on("click",t[3]),{c(){J(e.$$.fragment),n=q(),o=O("div"),i=O("span"),i.textContent="Hire Guardians ⚔️",r=q(),l=O("br"),a=q(),s=O("span"),s.textContent=`Guardians work for you and are required to expand your kingdom.
            They do not generate revenue, but still require housing & food.`,u=q(),f=O("div"),c=O("div"),J(d.$$.fragment),m=q(),p=O("span"),v=B(_),k=q(),J(w.$$.fragment),C=q(),L=O("span"),E=B(D),$=B(`
              unemployed available for hire.`),P(i,"class","text-lg font-bold"),P(s,"class","text-sm italic"),P(p,"class","text-lg font-bold select-none px-2"),P(L,"class","w-max"),P(f,"class","flex flex-row justify-between align-middle items-center pt-2 pb-2 gap-2 "),P(o,"class","w-full")},m(R,H){K(e,R,H),M(R,n,H),M(R,o,H),g(o,i),g(o,r),g(o,l),g(o,a),g(o,s),g(o,u),g(o,f),g(f,c),K(d,c,null),g(c,m),g(c,p),g(p,v),g(c,k),K(w,c,null),g(f,C),g(f,L),g(L,E),g(L,$),V=!0},p(R,H){const y={};H&1&&(y.class=`bg-button rounded-2xl h-min select-none
            `+(R[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `),H&1024&&(y.$$scope={dirty:H,ctx:R}),d.$set(y),(!V||H&1)&&_!==(_=R[0].townInfo.guardians+"")&&re(v,_);const b={};H&1&&(b.class=`bg-button rounded-2xl h-min select-none
            
              `+(R[0].townInfo.employees>=R[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `),H&1024&&(b.$$scope={dirty:H,ctx:R}),w.$set(b),(!V||H&1)&&D!==(D=R[0].townInfo.population_count-R[0].townInfo.employees+"")&&re(E,D)},i(R){V||(A(e.$$.fragment,R),A(d.$$.fragment,R),A(w.$$.fragment,R),V=!0)},o(R){S(e.$$.fragment,R),S(d.$$.fragment,R),S(w.$$.fragment,R),V=!1},d(R){R&&(T(n),T(o)),X(e,R),X(d),X(w)}}}function bC(t){let e;return{c(){e=B("-")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function vC(t){let e;return{c(){e=B("+")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function yC(t){let e;return{c(){e=B("Build a City Hall to manage your city.")},m(n,o){M(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&T(e)}}}function wC(t){let e,n,o,i,r=Ye(ul),l=[];for(let s=0;s<r.length;s+=1)l[s]=tc(zf(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=O("span"),e.textContent="Laws 🧑‍⚖️",n=q();for(let s=0;s<l.length;s+=1)l[s].c();o=Re(),P(e,"class","text-lg font-bold")},m(s,u){M(s,e,u),M(s,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);M(s,o,u),i=!0},p(s,u){if(u&1){r=Ye(ul);let f;for(f=0;f<r.length;f+=1){const c=zf(s,r,f);l[f]?(l[f].p(c,u),A(l[f],1)):(l[f]=tc(c),l[f].c(),A(l[f],1),l[f].m(o.parentNode,o))}for(Ie(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)A(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),_t(l,s)}}}function kC(t){let e,n=t[7].cost+"",o;return{c(){e=B("Enact for 🧑‍⚖️ "),o=B(n)},m(i,r){M(i,e,r),M(i,o,r)},d(i){i&&(T(e),T(o))}}}function CC(t){let e;return{c(){e=B("Repeal ❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function AC(t){let e,n;function o(l,a){return a&1&&(e=null),e==null&&(e=!!l[0].economyAndLaws.enacted.includes(l[7].id)),e?CC:kC}let i=o(t,-1),r=i(t);return{c(){r.c(),n=Re()},m(l,a){r.m(l,a),M(l,n,a)},p(l,a){i!==(i=o(l,a))&&(r.d(1),r=i(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&T(n),r.d(l)}}}function tc(t){let e,n,o,i,r,l,a;function s(){return t[4](t[7])}return i=new yt({props:{class:`bg-button rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger1":"bg-button")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `,$$slots:{default:[AC]},$$scope:{ctx:t}}}),i.$on("click",s),l=new wt({props:{class:"bg-white opacity-30"}}),{c(){e=O("div"),n=O("span"),n.textContent=`${t[7].description}`,o=q(),J(i.$$.fragment),r=q(),J(l.$$.fragment),P(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){M(u,e,f),g(e,n),g(e,o),K(i,e,null),M(u,r,f),K(l,u,f),a=!0},p(u,f){t=u;const c={};f&1&&(c.class=`bg-button rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger1":"bg-button")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `),f&1025&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(A(i.$$.fragment,u),A(l.$$.fragment,u),a=!0)},o(u){S(i.$$.fragment,u),S(l.$$.fragment,u),a=!1},d(u){u&&(T(e),T(r)),X(i),X(l,u)}}}function SC(t){let e,n,o,i,r=He("city_hall",t[0]).length>0,l,a,s,u,f,c,d,m;e=new Jn({props:{class:"text-xl",$$slots:{default:[gC]},$$scope:{ctx:t}}}),o=new Qn({props:{class:"w-3/4 overflow-scroll "}});let p=r&&ec(t);a=new wt({props:{class:"mb-4"}});const _=[wC,yC],v=[];function k(w,C){return C&1&&(f=null),f==null&&(f=He("city_hall",w[0]).length>0),f?0:1}return c=k(t,-1),d=v[c]=_[c](t),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment),i=q(),p&&p.c(),l=q(),J(a.$$.fragment),s=q(),u=O("div"),d.c(),P(u,"class","w-full")},m(w,C){K(e,w,C),M(w,n,C),K(o,w,C),M(w,i,C),p&&p.m(w,C),M(w,l,C),K(a,w,C),M(w,s,C),M(w,u,C),v[c].m(u,null),m=!0},p(w,C){const L={};C&1025&&(L.$$scope={dirty:C,ctx:w}),e.$set(L),C&1&&(r=He("city_hall",w[0]).length>0),r?p?(p.p(w,C),C&1&&A(p,1)):(p=ec(w),p.c(),A(p,1),p.m(l.parentNode,l)):p&&(Ie(),S(p,1,1,()=>{p=null}),Oe());let D=c;c=k(w,C),c===D?v[c].p(w,C):(Ie(),S(v[D],1,1,()=>{v[D]=null}),Oe(),d=v[c],d?d.p(w,C):(d=v[c]=_[c](w),d.c()),A(d,1),d.m(u,null))},i(w){m||(A(e.$$.fragment,w),A(o.$$.fragment,w),A(p),A(a.$$.fragment,w),A(d),m=!0)},o(w){S(e.$$.fragment,w),S(o.$$.fragment,w),S(p),S(a.$$.fragment,w),S(d),m=!1},d(w){w&&(T(n),T(i),T(l),T(s),T(u)),X(e,w),X(o,w),p&&p.d(w),X(a,w),v[c].d()}}}function TC(t){let e,n,o,i;return e=new xn({props:{$$slots:{default:[SC]},$$scope:{ctx:t}}}),o=new Oo({}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&1025&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function MC(t){let e,n;return e=new Zn({props:{class:"bg-foreground text-foregroundText h-[80vh] overflow-scroll",$$slots:{default:[TC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&1025&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function IC(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[MC]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new zn({props:r}),Ne.push(()=>Mn(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){K(e,l,a),o=!0},p(l,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Tn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function OC(t,e,n){let o,i;se(t,Pe,u=>n(0,o=u)),se(t,Xi,u=>n(1,i=u));const r=()=>{o.townInfo.guardians>0?(Me(Pe,o.townInfo.guardians-=1,o),Me(Pe,o.townInfo.employees-=1,o)):Lt.set("No guardians to fire.")},l=()=>{o.townInfo.employees<o.townInfo.population_count?(Me(Pe,o.townInfo.guardians+=1,o),Me(Pe,o.townInfo.employees+=1,o)):Lt.set("Not enough people.")},a=u=>{o.economyAndLaws.enacted.includes(u.id)?o.economyAndLaws.enacted.splice(o.economyAndLaws.enacted.indexOf(u.id),1):u.cost<=o.resources.bureaucracy?(Me(Pe,o.resources.bureaucracy-=u.cost,o),o.economyAndLaws.enacted.push(u.id)):Lt.set("Not enough bureaucracy!")};function s(u){i=u,Xi.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[o,i,r,l,a,s]}class PC extends ve{constructor(e){super(),be(this,e,OC,IC,ue,{})}}function NC(t){let e;return{c(){e=B("Got it")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function EC(t){let e,n,o,i,r,l,a,s;return r=new rd({props:{class:"bg-button hover:scale-105 min-w-[70%] transition-all duration-150 mt-2",$$slots:{default:[NC]},$$scope:{ctx:t}}}),r.$on("click",t[1]),a=new Tr({}),{c(){e=O("span"),n=B("🛎️ "),o=new on(!1),i=q(),J(r.$$.fragment),l=q(),J(a.$$.fragment),o.a=null,P(e,"class","whitespace-pre-wrap overflow-scroll text-center sm:whitespace-normal break-all sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center"),Ze(e,"max-height","80%")},m(u,f){M(u,e,f),g(e,n),o.m(t[0],e),M(u,i,f),K(r,u,f),M(u,l,f),K(a,u,f),s=!0},p(u,f){(!s||f&1)&&o.p(u[0]);const c={};f&4&&(c.$$scope={dirty:f,ctx:u}),r.$set(c)},i(u){s||(A(r.$$.fragment,u),A(a.$$.fragment,u),s=!0)},o(u){S(r.$$.fragment,u),S(a.$$.fragment,u),s=!1},d(u){u&&(T(e),T(i),T(l)),X(r,u),X(a,u)}}}function $C(t){let e,n;return e=new Mr({props:{class:`bg-foregroundDark text-white rounded-input shadow-3xl justify-center items-center flex flex-col py-2 text-lg font-semibold p-2 min-w-96 min-h-36
         sm:rounded-2xl sm:flex sm:flex-col sm:p-6 sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center max-h-[50vh]

         `,$$slots:{default:[EC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function RC(t){let e,n;return e=new Ir({props:{open:t[0]!="",$$slots:{default:[$C]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,[i]){const r={};i&1&&(r.open=o[0]!=""),i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function LC(t,e,n){let o;return se(t,Lt,r=>n(0,o=r)),[o,()=>{Lt.set("")}]}class DC extends ve{constructor(e){super(),be(this,e,LC,RC,ue,{})}}function nc(t){let e,n,o,i;const r=[BC,FC],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function FC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,v,k,w,C,L,D=t[2]==!0&&oc();n=new lC({}),i=new dp({}),l=new uy({}),s=new Ry({}),f=new l3({}),d=new I3({}),p=new PC({}),v=new DC({});let E=t[0].environment.day==0&&t[3]&&ic();return{c(){D&&D.c(),e=q(),J(n.$$.fragment),o=q(),J(i.$$.fragment),r=q(),J(l.$$.fragment),a=q(),J(s.$$.fragment),u=q(),J(f.$$.fragment),c=q(),J(d.$$.fragment),m=q(),J(p.$$.fragment),_=q(),J(v.$$.fragment),k=q(),E&&E.c(),w=q(),C=O("style"),C.textContent=`body {
        margin-bottom: 0;
      }
      /* no visible scrollbars */
      #plot_grid::-webkit-scrollbar {
        display: none;
      }

      ::-webkit-scrollbar {
        width: 0px;
        background: transparent; /* make scrollbar transparent */
      }

      /* no scrollbars on firefox either */
      #plot_grid {
        scrollbar-width: none;
      }

      /* no scrollbars for IE/Edge */
      #plot_grid {
        -ms-overflow-style: none;
      }`},m($,V){D&&D.m($,V),M($,e,V),K(n,$,V),M($,o,V),K(i,$,V),M($,r,V),K(l,$,V),M($,a,V),K(s,$,V),M($,u,V),K(f,$,V),M($,c,V),K(d,$,V),M($,m,V),K(p,$,V),M($,_,V),K(v,$,V),M($,k,V),E&&E.m($,V),M($,w,V),M($,C,V),L=!0},p($,V){$[2]==!0?D?V&4&&A(D,1):(D=oc(),D.c(),A(D,1),D.m(e.parentNode,e)):D&&(Ie(),S(D,1,1,()=>{D=null}),Oe()),$[0].environment.day==0&&$[3]?E?V&9&&A(E,1):(E=ic(),E.c(),A(E,1),E.m(w.parentNode,w)):E&&(Ie(),S(E,1,1,()=>{E=null}),Oe())},i($){L||(A(D),A(n.$$.fragment,$),A(i.$$.fragment,$),A(l.$$.fragment,$),A(s.$$.fragment,$),A(f.$$.fragment,$),A(d.$$.fragment,$),A(p.$$.fragment,$),A(v.$$.fragment,$),A(E),L=!0)},o($){S(D),S(n.$$.fragment,$),S(i.$$.fragment,$),S(l.$$.fragment,$),S(s.$$.fragment,$),S(f.$$.fragment,$),S(d.$$.fragment,$),S(p.$$.fragment,$),S(v.$$.fragment,$),S(E),L=!1},d($){$&&(T(e),T(o),T(r),T(a),T(u),T(c),T(m),T(_),T(k),T(w),T(C)),D&&D.d($),X(n,$),X(i,$),X(l,$),X(s,$),X(f,$),X(d,$),X(p,$),X(v,$),E&&E.d($)}}}function BC(t){let e,n;return e=new Sy({}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p:Ce,i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function oc(t){let e,n;return e=new Qv({}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function ic(t){let e,n;return e=new _C({}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function jC(t){let e,n,o=(t[1]||t[0]==null)&&nc(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&A(o,1)):(o=nc(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function qC(t,e,n){let o,i,r,l,a,s,u;se(t,go,m=>n(7,o=m)),se(t,tt,m=>n(8,i=m)),se(t,Rt,m=>n(2,r=m)),se(t,Pe,m=>n(0,l=m)),se(t,bo,m=>n(5,a=m)),se(t,Uo,m=>n(9,s=m)),se(t,il,m=>n(3,u=m));let f=!1;zv();let c=!1;document.addEventListener("keydown",m=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&m.key!=="Escape")return;switch(m.key.toLowerCase()){case"p":r==!0?Rt.set(!1):(Rt.set(!0),Me(tt,i.visible=!1,i));break;case"escape":m.shiftKey?(Me(Rt,r=!0,r),localStorage.setItem("reset","true"),location.reload(),Bl()):i.visible==!0&&Me(tt,i.visible=!1,i),a==!0&&(bo.set(!1),document.querySelectorAll(".plot_container").forEach(v=>{v.style.cursor=""}));break}});function d(m,p,_){if(c==!0)switch(_){case"up":p-=2;break;case"down":p+=1;break;case"left":m-=2;break;case"right":m+=1;break}m<0?m=0:m>l.plots.length&&(m=l.plots.length),p<0?p=0:p>l.plots.length&&(p=l.plots.length);let v=document.querySelectorAll(".plot_container"),k;if(v.forEach(w=>{w.dataset.x=="$x"&&w.dataset.y=="$y"&&(k=w)}),r==!1){if(k.dataset.canBeUpgraded==="true"?Me(tt,i.visible=!0,i):Me(tt,i.visible=!1,i),k.dataset.refPlotX!==void 0&&k.dataset.refPlotY!=""?(c=!0,v.forEach(w=>{w.dataset.x==k.dataset.refPlotX&&w.dataset.y==k.dataset.refPlotY&&(k=w,m=parseInt(k.dataset.x),p=parseInt(k.dataset.y))})):c=!1,k.dataset.size!=="1"&&k.dataset.size!==void 0&&(c=!0),Me(tt,i.x=m,i),Me(tt,i.y=p,i),v.forEach(w=>{w.classList.remove("selected"),w.style.fontWeight=""}),k.classList.add("selected"),c){let w="4px solid #00800045";k.classList.remove("selected"),k.style.borderTop=w,k.style.borderLeft=w,k.style.fontWeight="600",v.forEach(C=>{const L=parseInt(`${C.dataset.x}`),D=parseInt(`${C.dataset.y}`);L==m+1&&D==p&&(C.style.borderLeft=w,C.style.borderBottom=w),L==m&&D==p+1&&(C.style.borderTop=w,C.style.borderRight=w),L==m+1&&D==p+1&&(C.style.borderBottom=w,C.style.borderRight=w)})}k.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Me(go,o={},o)}}return t.$$.update=()=>{t.$$.dirty&33&&(l?(Me(Uo,s.visible=!1,s),n(1,f=!0),a==!0&&document.querySelectorAll(".plot_container").forEach(p=>{p.dataset.canbeupgraded=="true"&&(p.style.cursor="pointer",p.style.cursor="url('https://github.com/josephrcox/plots/raw/main/public/liege_place.cur'), auto")})):(Me(Uo,s.visible=!0,s),n(1,f=!1)))},[l,f,r,u,d,a]}class GC extends ve{constructor(e){super(),be(this,e,qC,jC,ue,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new GC({target:document.getElementById("app")});
