var Za=Object.defineProperty;var Qa=(t,e,n)=>e in t?Za(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var It=(t,e,n)=>(Qa(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function ae(){}const ji=t=>t;function B(t,e){for(const n in e)t[n]=e[n];return t}function Ts(t){return t()}function or(){return Object.create(null)}function Le(t){t.forEach(Ts)}function Tt(t){return typeof t=="function"}function le(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function xa(t){return Object.keys(t).length===0}function Ro(t,...e){if(t==null){for(const i of e)i(void 0);return ae}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Is(t){let e;return Ro(t,n=>e=n)(),e}function se(t,e,n){t.$$.on_destroy.push(Ro(e,n))}function ue(t,e,n,i){if(t){const o=Es(t,e,n,i);return t[0](o)}}function Es(t,e,n,i){return t[1]&&i?B(n.ctx.slice(),t[1](i(e))):n.ctx}function fe(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const r=[],l=Math.max(e.dirty.length,o.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|o[a];return r}return e.dirty|o}return e.dirty}function ce(t,e,n,i,o,r){if(o){const l=Es(e,n,i,r);t.p(l,o)}}function de(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function ke(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function ie(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function Ce(t,e,n){return t.set(n),e}function Fe(t){return t&&Tt(t.destroy)?t.destroy:ae}const Ms=typeof window<"u";let qo=Ms?()=>window.performance.now():()=>Date.now(),$o=Ms?t=>requestAnimationFrame(t):ae;const fn=new Set;function Ps(t){fn.forEach(e=>{e.c(t)||(fn.delete(e),e.f())}),fn.size!==0&&$o(Ps)}function Do(t){let e;return fn.size===0&&$o(Ps),{promise:new Promise(n=>{fn.add(e={c:t,f:n})}),abort(){fn.delete(e)}}}function M(t,e){t.appendChild(e)}function Os(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function za(t){const e=O("style");return e.textContent="/* empty */",eu(Os(t),e),e.sheet}function eu(t,e){return M(t.head||t,e),e.sheet}function w(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode&&t.parentNode.removeChild(t)}function gt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function O(t){return document.createElement(t)}function Hi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function G(t){return document.createTextNode(t)}function W(){return G(" ")}function Ee(){return G("")}function j(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function R(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const tu=["width","height"];function re(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&tu.indexOf(i)===-1?t[i]=e[i]:R(t,i,e[i])}function hi(t,e){for(const n in e)R(t,n,e[n])}function nu(t,e){Object.keys(e).forEach(n=>{iu(t,n,e[n])})}function iu(t,e,n){const i=e.toLowerCase();i in t?t[i]=typeof t[i]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:R(t,e,n)}function Lt(t){return/-/.test(t)?nu:re}function ou(t){return Array.from(t.childNodes)}function _e(t,e){e=""+e,t.data!==e&&(t.data=e)}function kt(t,e){t.value=e??""}function hn(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function rr(t,e,n){for(let i=0;i<t.options.length;i+=1){const o=t.options[i];if(o.__value===e){o.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Ls(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}class ru{constructor(e=!1){It(this,"is_svg",!1);It(this,"e");It(this,"n");It(this,"t");It(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=Hi(n.nodeName):this.e=O(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)w(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(y)}}const mi=new Map;let _i=0;function lu(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function su(t,e){const n={stylesheet:za(e),rules:{}};return mi.set(t,n),n}function gi(t,e,n,i,o,r,l,a=0){const s=16.666/i;let u=`{
`;for(let b=0;b<=1;b+=s){const C=e+(n-e)*r(b);u+=b*100+`%{${l(C,1-C)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${lu(f)}_${a}`,d=Os(t),{stylesheet:h,rules:m}=mi.get(d)||su(d,t);m[c]||(m[c]=!0,h.insertRule(`@keyframes ${c} ${f}`,h.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${i}ms linear ${o}ms 1 both`,_i+=1,c}function bi(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),o=n.length-i.length;o&&(t.style.animation=i.join(", "),_i-=o,_i||au())}function au(){$o(()=>{_i||(mi.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&y(e)}),mi.clear())})}let Gn;function $n(t){Gn=t}function Un(){if(!Gn)throw new Error("Function called outside component initialization");return Gn}function Fs(t){Un().$$.on_mount.push(t)}function uu(t){Un().$$.on_destroy.push(t)}function fu(){const t=Un();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=Ls(e,n,{cancelable:i});return o.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function Rs(t,e){return Un().$$.context.set(t,e),e}function qs(t){return Un().$$.context.get(t)}function Z(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const sn=[],we=[];let cn=[];const uo=[],$s=Promise.resolve();let fo=!1;function Ds(){fo||(fo=!0,$s.then(Bs))}function Bo(){return Ds(),$s}function Ze(t){cn.push(t)}function Xt(t){uo.push(t)}const Xi=new Set;let nn=0;function Bs(){if(nn!==0)return;const t=Gn;do{try{for(;nn<sn.length;){const e=sn[nn];nn++,$n(e),cu(e.$$)}}catch(e){throw sn.length=0,nn=0,e}for($n(null),sn.length=0,nn=0;we.length;)we.pop()();for(let e=0;e<cn.length;e+=1){const n=cn[e];Xi.has(n)||(Xi.add(n),n())}cn.length=0}while(sn.length);for(;uo.length;)uo.pop()();fo=!1,Xi.clear(),$n(t)}function cu(t){if(t.fragment!==null){t.update(),Le(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ze)}}function du(t){const e=[],n=[];cn.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),cn=e}let An;function Go(){return An||(An=Promise.resolve(),An.then(()=>{An=null})),An}function Wt(t,e,n){t.dispatchEvent(Ls(`${e?"intro":"outro"}${n}`))}const li=new Set;let mt;function Pe(){mt={r:0,c:[],p:mt}}function Oe(){mt.r||Le(mt.c),mt=mt.p}function A(t,e){t&&t.i&&(li.delete(t),t.i(e))}function T(t,e,n,i){if(t&&t.o){if(li.has(t))return;li.add(t),mt.c.push(()=>{li.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const jo={duration:0};function qt(t,e,n){const i={direction:"in"};let o=e(t,n,i),r=!1,l,a,s=0;function u(){l&&bi(t,l)}function f(){const{delay:d=0,duration:h=300,easing:m=ji,tick:_=ae,css:b}=o||jo;b&&(l=gi(t,0,1,h,d,m,b,s++)),_(0,1);const C=qo()+d,S=C+h;a&&a.abort(),r=!0,Ze(()=>Wt(t,!0,"start")),a=Do(N=>{if(r){if(N>=S)return _(1,0),Wt(t,!0,"end"),u(),r=!1;if(N>=C){const J=m((N-C)/h);_(J,1-J)}}return r})}let c=!1;return{start(){c||(c=!0,bi(t),Tt(o)?(o=o(i),Go().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function $t(t,e,n){const i={direction:"out"};let o=e(t,n,i),r=!0,l;const a=mt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=ji,tick:h=ae,css:m}=o||jo;m&&(l=gi(t,1,0,c,f,d,m));const _=qo()+f,b=_+c;Ze(()=>Wt(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),Do(C=>{if(r){if(C>=b)return h(0,1),Wt(t,!1,"end"),--a.r||Le(a.c),!1;if(C>=_){const S=d((C-_)/c);h(1-S,S)}}return r})}return Tt(o)?Go().then(()=>{o=o(i),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&o.tick&&o.tick(1,0),r&&(l&&bi(t,l),r=!1)}}}function Ft(t,e,n,i){let r=e(t,n,{direction:"both"}),l=i?0:1,a=null,s=null,u=null,f;function c(){u&&bi(t,u)}function d(m,_){const b=m.b-l;return _*=Math.abs(b),{a:l,b:m.b,d:b,duration:_,start:m.start,end:m.start+_,group:m.group}}function h(m){const{delay:_=0,duration:b=300,easing:C=ji,tick:S=ae,css:N}=r||jo,J={start:qo()+_,b:m};m||(J.group=mt,mt.r+=1),"inert"in t&&(m?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=J:(N&&(c(),u=gi(t,l,m,b,_,C,N)),m&&S(0,1),a=d(J,b),Ze(()=>Wt(t,m,"start")),Do(q=>{if(s&&q>s.start&&(a=d(s,b),s=null,Wt(t,a.b,"start"),N&&(c(),u=gi(t,l,a.b,a.duration,0,C,r.css))),a){if(q>=a.end)S(l=a.b,1-l),Wt(t,a.b,"end"),s||(a.b?c():--a.group.r||Le(a.group.c)),a=null;else if(q>=a.start){const $=q-a.start;l=a.a+a.d*C($/a.duration),S(l,1-l)}}return!!(a||s)}))}return{run(m){Tt(r)?Go().then(()=>{r=r({direction:m?"in":"out"}),h(m)}):h(m)},end(){c(),a=s=null}}}function Ue(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function pu(t,e){t.d(1),e.delete(t.key)}function hu(t,e,n,i,o,r,l,a,s,u,f,c){let d=t.length,h=r.length,m=d;const _={};for(;m--;)_[t[m].key]=m;const b=[],C=new Map,S=new Map,N=[];for(m=h;m--;){const H=c(o,r,m),U=n(H);let p=l.get(U);p?i&&N.push(()=>p.p(H,e)):(p=u(U,H),p.c()),C.set(U,b[m]=p),U in _&&S.set(U,Math.abs(m-_[U]))}const J=new Set,q=new Set;function $(H){A(H,1),H.m(a,f),l.set(H.key,H),f=H.first,h--}for(;d&&h;){const H=b[h-1],U=t[d-1],p=H.key,D=U.key;H===U?(f=H.first,d--,h--):C.has(D)?!l.has(p)||J.has(p)?$(H):q.has(D)?d--:S.get(p)>S.get(D)?(q.add(p),$(H)):(J.add(D),d--):(s(U,l),d--)}for(;d--;){const H=t[d];C.has(H.key)||s(H,l)}for(;h;)$(b[h-1]);return Le(N),b}function pe(t,e){const n={},i={},o={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(i[s]=1);for(const s in a)o[s]||(n[s]=a[s],o[s]=1);t[r]=a}else for(const s in l)o[s]=1}for(const l in i)l in n||(n[l]=void 0);return n}function et(t){return typeof t=="object"&&t!==null?t:{}}function Zt(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function Q(t){t&&t.c()}function Y(t,e,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),Ze(()=>{const r=t.$$.on_mount.map(Ts).filter(Tt);t.$$.on_destroy?t.$$.on_destroy.push(...r):Le(r),t.$$.on_mount=[]}),o.forEach(Ze)}function X(t,e){const n=t.$$;n.fragment!==null&&(du(n.after_update),Le(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function mu(t,e){t.$$.dirty[0]===-1&&(sn.push(t),Ds(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function he(t,e,n,i,o,r,l=null,a=[-1]){const s=Gn;$n(t);const u=t.$$={fragment:null,ctx:[],props:r,update:ae,not_equal:o,bound:or(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:or(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...h)=>{const m=h.length?h[0]:d;return u.ctx&&o(u.ctx[c],u.ctx[c]=m)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](m),f&&mu(t,c)),d}):[],u.update(),f=!0,Le(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const c=ou(e.target);u.fragment&&u.fragment.l(c),c.forEach(y)}else u.fragment&&u.fragment.c();e.intro&&A(t.$$.fragment),Y(t,e.target,e.anchor),Bs()}$n(s)}class me{constructor(){It(this,"$$");It(this,"$$set")}$destroy(){X(this,1),this.$destroy=ae}$on(e,n){if(!Tt(n))return ae;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!xa(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const _u="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(_u);const on=[];function Vi(t,e){return{subscribe:Xe(t,e).subscribe}}function Xe(t,e=ae){let n;const i=new Set;function o(a){if(le(t,a)&&(t=a,n)){const s=!on.length;for(const u of i)u[1](),on.push(u,t);if(s){for(let u=0;u<on.length;u+=2)on[u][0](on[u+1]);on.length=0}}}function r(a){o(a(t))}function l(a,s=ae){const u=[a,s];return i.add(u),i.size===1&&(n=e(o,r)||ae),a(t),()=>{i.delete(u),i.size===0&&n&&(n(),n=null)}}return{set:o,update:r,subscribe:l}}function Jn(t,e,n){const i=!Array.isArray(t),o=i?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Vi(n,(l,a)=>{let s=!1;const u=[];let f=0,c=ae;const d=()=>{if(f)return;c();const m=e(i?u[0]:u,l,a);r?l(m):c=Tt(m)?m:ae},h=o.map((m,_)=>Ro(m,b=>{u[_]=b,f&=~(1<<_),s&&d()},()=>{f|=1<<_}));return s=!0,d(),function(){Le(h),c(),s=!1}})}function lr(t){return{subscribe:t.subscribe.bind(t)}}const gu={plots:[],lastChangeDay:0,townLog:"",townInfo:{name:"Your town",gold:1e3,gold_from_tourism:0,population_count:0,population_max:0,employees:0,happiness:150,health:150,knowledge_points:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1},economyAndLaws:{tax_rate:0,max_tax_rate:1,balance_sheet_history:[],last_month_profit:0,knowledge_gold_market_rates:[]},plotCounts:[],environment:{day:0,year:1,climate:-1},difficulty:0,endGoal:"land",endGameDetails:null,tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0}},Wi={0:"Easy",1:"Normal",2:"Hard"},bu={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.3-.1)+.1},vu={0:.4,1:.4,2:.3},Ne=[{id:"res_small",title:"🏠 Residential (small)",subtitle:"for living",type:"residential",description:"A few basic homes (+16 people)",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,climate:null,knowledge:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:16}},{id:"res_medium",title:"🏘️ Residential (medium)",subtitle:"for living",type:"residential",description:"Some apartments (+64 people)",revenue_per_week:0,requirements:{gold:500,plots:[],employees:0,climate:null,knowledge:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:64}},{id:"res_large",title:"🏢 Residential (big)",subtitle:"for living",type:"residential",description:"Many apartments (+256 people)",revenue_per_week:0,requirements:{gold:1500,plots:[],employees:0,climate:null,knowledge:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:256}},{id:"carrot_farm",title:"🥕 Carrot farm",subtitle:"for farming",type:"farm",description:"Farm for making carrots, makes money by selling them.",revenue_per_week:6,requirements:{gold:50,plots:[],employees:2,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0},{id:"apple_orchard",title:"🍎 Apple orchard",subtitle:"for farming",type:"farm",description:"A bunch of apple trees. Sells apple products.",revenue_per_week:8,requirements:{gold:75,plots:[],employees:4,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0},{id:"potato_farm",title:"🥔 Potato farm",subtitle:"for farming",type:"farm",description:"Easy to farm, sells to local grocery stores and restaurants.",revenue_per_week:9,requirements:{gold:75,plots:[],employees:2,climate:null,knowledge:0},effect_modifiers:{happiness:1.1,health:1.1},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0},{id:"wheat_farm",title:"🌾 Wheat farm",subtitle:"for farming",type:"farm",description:"Easy to farm crop",revenue_per_week:6,requirements:{gold:140,plots:[],employees:4,climate:null,knowledge:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0},{id:"dairy_farm",title:"🐮 Dairy farm",subtitle:"for farming",type:"farm",description:"A few cows that produce milk, cheese, and butter.",revenue_per_week:16,requirements:{gold:300,plots:[],employees:4,climate:null,knowledge:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0},{id:"coffee_bean_farm",title:"🫘 Coffee bean farm",subtitle:"for farming",type:"farm",description:"A few coffee plants. Makes money by selling coffee.",revenue_per_week:3,requirements:{gold:300,plots:[],employees:1,climate:null,knowledge:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0},{id:"cafe",title:"☕️ Small café",subtitle:"for recreation & food",type:"food",description:"Great for eating & relaxing, not great for long-term health.",revenue_per_week:48,requirements:{gold:300,plots:["coffee_bean_farm","bakery","dairy_farm"],employees:16,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:.95},immediate_variable_changes:{happiness:5,health:0,population:0},check_for_variety:!0},{id:"bakery",title:"🥖 Bakery",subtitle:"for baking",type:"farm",description:"Makes money by selling bread.",revenue_per_week:14,requirements:{gold:300,plots:["wheat_farm"],employees:3,climate:null,knowledge:0},effect_modifiers:{happiness:1.11,health:.92},immediate_variable_changes:{happiness:25,health:0,population:0},check_for_variety:!0},{id:"grocery",title:"🏪 Grocery store",subtitle:"for living",type:"food",description:"People get hungry. This is where they go to get food.",revenue_per_week:80,requirements:{gold:620,plots:["fishery"],employees:24,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:1},immediate_variable_changes:{happiness:15,health:0,population:0}},{id:"fishery",title:"🐠 Fishery",subtitle:"for fishing",type:"food",description:"Carve out some land, pour some water, and fish for fun & food.",revenue_per_week:40,requirements:{gold:600,plots:[],employees:9,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:1},immediate_variable_changes:{happiness:15,health:8,population:0},check_for_variety:!0},{id:"library",title:"📕 Library",subtitle:"for reading",type:"recreation",description:"Reading makes people very happy, but doesn't make money.",revenue_per_week:0,knowledge_points_per_month:1,requirements:{gold:500,plots:[],employees:6,climate:null,knowledge:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:10,health:0,population:0}},{id:"pub",title:"🍻 Pub",subtitle:"for hanging",type:"recreation",description:"Makes money, and somehow generates communal knowledge.",revenue_per_week:50,knowledge_points_per_month:1,requirements:{gold:500,plots:["church"],employees:6,climate:null,knowledge:0},effect_modifiers:{happiness:1.2,health:.7},immediate_variable_changes:{happiness:10,health:-25,population:0},check_for_variety:!0},{id:"church",title:"⛪️ Church",subtitle:"for worship & community",type:"recreation",description:"This can make some people happy, but doesn't make money.",revenue_per_week:0,requirements:{gold:500,plots:[],employees:0,climate:null,knowledge:0},effect_modifiers:{happiness:1.1,health:1},immediate_variable_changes:{happiness:5,health:0,population:0}},{id:"stables",title:"🐴 Stables",subtitle:"for friends",type:"recreation",description:"People love horses. This makes them happy, and can generate some money through lessons.",revenue_per_week:25,requirements:{gold:220,plots:[],employees:2,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:1.02},immediate_variable_changes:{happiness:5,health:0,population:0}},{id:"blacksmith",title:"⚔️ Blacksmith",subtitle:"for making shiny things",type:"shop",description:"Enables exporting of weapons and armor, and makes money by selling them.",revenue_per_week:150,requirements:{gold:2300,plots:["large_school"],employees:15,climate:null,knowledge:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:0}},{id:"vineyard",title:"🍇 Vineyard",subtitle:"",type:"farm",description:"Grapes are grown and made into wine. Makes money by selling wine.",revenue_per_week:50,requirements:{gold:800,plots:[],employees:6,climate:null,knowledge:0},effect_modifiers:{happiness:1.5,health:1},immediate_variable_changes:{happiness:0,health:-10,population:0}},{id:"inn",title:"🛌 Village Inn",subtitle:"for a night out",type:"tourism",description:"Generates tourism gold that can be used if you have a bank.",revenue_per_week:0,enables_tourism:!0,tourism_revenue_per_week:1,requirements:{gold:1500,plots:[],employees:14,climate:null,knowledge:0},effect_modifiers:{happiness:.9,health:1},immediate_variable_changes:{happiness:0,health:0,population:0}},{id:"park_small",title:"🌲 Small park",subtitle:"for bringing your dog, or eating a sandwich",type:"recreation",description:"A few benches and a small grassy area.",revenue_per_week:0,requirements:{gold:80,plots:[],employees:1,climate:null,knowledge:0},effect_modifiers:{happiness:1.01,health:1.07},immediate_variable_changes:{happiness:5,health:0,population:0}},{id:"park_medium",title:"🛝 Medium park",subtitle:"for bringing your dog, or eating a sandwich",type:"recreation",description:"Benches, grass, and a couple of swing-sets.",revenue_per_week:0,requirements:{gold:450,plots:[],employees:2,climate:null,knowledge:0},effect_modifiers:{happiness:1.02,health:1.35},immediate_variable_changes:{happiness:5,health:10,population:0}},{id:"park_large",title:"🎪 Large park (2x2)",subtitle:"for bringing your dog, or eating a sandwich",type:"recreation",description:"Same as the medium park, with a nice fountain in the middle and occasional events run by the employees.",revenue_per_week:0,requirements:{gold:900,plots:[],employees:4,climate:null,size:2,knowledge:0},effect_modifiers:{happiness:1.1,health:1.7},immediate_variable_changes:{happiness:15,health:15,population:0}},{id:"community_center",title:"🫶 Community Center",subtitle:"for community",type:"recreation",description:"A place for meeting people, growing community, and hosting events. Required for City Hall.",revenue_per_week:0,requirements:{gold:15e3,plots:["park_medium","inn"],employees:12,climate:null,size:1,knowledge:0},effect_modifiers:{happiness:1.09,health:1},immediate_variable_changes:{happiness:50,health:15,population:0}},{id:"small_school",title:"📚 Small school",subtitle:"for learning",type:"education",description:"A place where children can learn and grow, and where adults can learn new skills. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:8,requirements:{gold:1500,plots:[],employees:20,climate:null,size:1,knowledge:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:15,health:3,population:0}},{id:"large_school",title:"🚌 Large school (2x2)",subtitle:"for learning",type:"education",description:"A larger school. Produces knowledge",revenue_per_week:0,knowledge_points_per_month:26,requirements:{gold:15e3,plots:[],employees:40,climate:null,size:2,knowledge:50},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:3,population:0}},{id:"university",title:"🏫 Large University (2x2)",subtitle:"for learning",type:"education",description:"The supreme learning institution. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:300,requirements:{gold:8e4,plots:[],employees:101,climate:null,size:2,knowledge:100},effect_modifiers:{happiness:1.25,health:.9},immediate_variable_changes:{happiness:25,health:25,population:0}},{id:"small_hospital",title:"😷 Small hospital",subtitle:"for healing",type:"medical",description:"A great place to get fixed up from minor injuries.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e4,plots:[],employees:18,climate:null,size:1,knowledge:100},effect_modifiers:{happiness:1.25,health:1.5},immediate_variable_changes:{happiness:5,health:75,population:0}},{id:"large_hospital",title:"🏥 Large hospital (2x2)",subtitle:"for healing",type:"medical",description:"Heals people and teaches medical students. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:80,requirements:{gold:45e3,plots:[],employees:90,climate:null,size:2,knowledge:250},effect_modifiers:{happiness:1.25,health:2.5},immediate_variable_changes:{happiness:5,health:150,population:0}},{id:"bank",title:"🏦 Bank (2x2)",subtitle:"for storing and accessing funds",type:"bank",description:`Rich get richer.
			<ul>
				<li>Enables converting tourism gold to gold</li>
				<li>Enables converting knowledge to gold (TODO)</li>
			</ul>`,revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:5e4,plots:["blacksmith","vineyard"],employees:64,climate:null,size:1,knowledge:300},effect_modifiers:{happiness:.8,health:1},immediate_variable_changes:{happiness:0,health:0,population:0}},{id:"city_hall",title:"🗳️ City Hall",subtitle:"for bureaucracy",type:"federal",description:"Enables the control of citizens through laws, taxes, and wealthy men.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:15e4,plots:["community_center","small_school"],employees:48,climate:null,size:1,knowledge:500},effect_modifiers:{happiness:.8,health:1},immediate_variable_changes:{happiness:0,health:0,population:0}},{id:"lab",title:"🧑‍🔬 Laboratory",subtitle:"",type:"science",description:"Design things that can help your city grow. Experiments can cause unexpected situations. Possibly can generate revenue or knowledge.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e5,plots:["community_center","university"],employees:24,climate:null,size:1,knowledge:500},effect_modifiers:{happiness:.95,health:.95},immediate_variable_changes:{happiness:0,health:0,population:0}}],Sn={empty_unusable:"rgb(21 28 41);",empty_buildable:"rgb(126, 158, 255)",residential:"#e15f00",farm:"#519c1f",food:"#8a2be2",recreation:"#4070ff",shop:"#ff00ff",tourism:"#ff00ff",education:"rgba(42, 62, 250, 0.9)",medical:"rgba(42, 62, 250, 0.9)",bank:"#7b68ee",federal:"#7b68ee",science:"rgba(42, 62, 250, 0.9)"};function vi(t,e=!1){if(t<0)return t==-1?e?Sn.empty_buildable:Sn.empty:t==-2?Sn.recreation:(console.log(t),Sn.empty);const n=Ne[t];return Sn[n.type]}const rt="plots_active_game_db";function yu(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function i(s){return s[Math.floor(Math.random()*s.length)]}let o=i(n),r=i(t),l=i(e),a="";return Math.random()>.5?a=o+" "+r+l:a=r+l,a}let Te=Xe(JSON.parse(localStorage.getItem(rt)||"null"));function wu(t,e,n,i){let o={...gu};o.economyAndLaws.max_tax_rate=bu[t],o.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),o.townInfo.name=n!=""?n:yu(),o.difficulty=parseInt(t),i&&(o.townInfo.gold=1e8,o.townInfo.happiness=1e7,o.townInfo.health=1e6,o.townInfo.knowledge_points=1e5,o.modifiers.happiness=1e4,o.modifiers.health=1e4);const l=t=="0"?8:t=="1"?12:t=="2"?16:1;for(let a=0;a<l;a++){r.push([]);for(let s=0;s<l;s++)r[a][s]={id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1}}o.plots=r,localStorage.reset=!1,localStorage.setItem(rt,JSON.stringify(o)),Te.set(o),location.reload()}function Ho(t,e){for(let n=0;n<e.plots.length;n++)for(let i=0;i<e.plots[n].length;i++)if(!(e.plots[n][i].active==!1||e.plots[n][i]==null||e.plots[n][i].type==null||e.plots[n][i].type<1)&&Ne[e.plots[n][i].type].id===t)return!0;return!1}function Vo(t=null){localStorage.removeItem(rt),Te.set(null),t&&(localStorage.setItem(rt,JSON.stringify(t)),Te.set(t)),location.reload()}function ku(){Gs.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}let Ke=Xe({visible:!1,x:0,y:0}),Dn=Xe({visible:!1}),mn=Xe({}),St=Xe(!1),sr=Xe(!1),yi=Xe(!1),wi=Xe(!1),si=Xe(!1),Gs=localStorage.getItem("showOnlyAffordable")==="true"?Xe(!0):Xe(!1),co=Xe(250),ai=Xe(500);function Cu(t){return t[t.length-1]}function po(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}po({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function ar(t){function e(n){return n(t),()=>{}}return{subscribe:e}}const Qn=t=>new Proxy(t,{get(e,n,i){return Reflect.get(e,n,i)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),ur=t=>typeof t=="function";function Ct(t,e){const{stores:n,action:i,returned:o}=e??{},r=(()=>{if(n&&o)return Jn(n,a=>{const s=o(a);if(ur(s)){const u=(...f)=>Qn({...s(...f),[`data-melt-${t}`]:"",action:i??Je});return u.action=i??Je,u}return Qn({...s,[`data-melt-${t}`]:"",action:i??Je})});{const a=o,s=a==null?void 0:a();if(ur(s)){const u=(...f)=>Qn({...s(...f),[`data-melt-${t}`]:"",action:i??Je});return u.action=i??Je,ar(u)}return ar(Qn({...s,[`data-melt-${t}`]:"",action:i??Je}))}})(),l=i??(()=>{});return l.subscribe=r.subscribe,l}function Au(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,i=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:i,getEl:r=>document.querySelector(i(r))}}const Su=typeof document<"u",js=t=>typeof t=="function";function Hs(t){return t instanceof Element}function Rt(t){return t instanceof HTMLElement}function Nu(t){return t!==null&&typeof t=="object"}function Tu(t){return Nu(t)&&"subscribe"in t}function dn(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function Je(){}function Ot(t,e,n,i){const o=Array.isArray(e)?e:[e];return o.forEach(r=>t.addEventListener(r,n,i)),()=>{o.forEach(r=>t.removeEventListener(r,n,i))}}function Pn(t,e,n,i){const o=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=Eu(l=>n(l));return o.forEach(l=>t.addEventListener(l,r,i)),()=>{o.forEach(l=>t.removeEventListener(l,r,i))}}return()=>void 0}function Iu(t){const e=t.currentTarget;if(!Rt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function Eu(t){return e=>{const n=Iu(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function Mu(t,...e){const n={};for(const i of Object.keys(t))e.includes(i)||(n[i]=t[i]);return n}function Yn(t){return{...t,get:()=>Is(t)}}Yn.writable=function(t){const e=Xe(t);let n=t;return{subscribe:e.subscribe,set(i){e.set(i),n=i},update(i){const o=i(n);e.set(o),n=o},get(){return n}}};Yn.derived=function(t,e){const n=new Map,i=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:i,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(i())}))}),r(i()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const Pu=(t,e)=>{const n=Yn(t),i=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:i,set:r=>{i(()=>r)}}};function Vs(t){return new Promise(e=>setTimeout(e,t))}let Ou="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Lu=(t=21)=>{let e="",n=t;for(;n--;)e+=Ou[Math.random()*64|0];return e};function Fu(){return Lu(10)}function Ru(t){return t.reduce((e,n)=>(e[n]=Fu(),e),{})}const On={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Ws=()=>typeof window<"u";function qu(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Ks=t=>Ws()&&t.test(qu().toLowerCase()),$u=()=>Ws()&&!!navigator.maxTouchPoints,Du=()=>Ks(/^mac/)&&!$u(),Bu=()=>Ks(/mac|iphone|ipad|ipod/i),Gu=()=>Bu()&&!Du(),Zi="data-melt-scroll-lock";function fr(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function ju(t,e,n){if(!t)return;const i=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{i?t.style.setProperty(e,i):t.style.removeProperty(e)}}function Hu(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Vu(t){const e=t??document,n=e.defaultView??window,{documentElement:i,body:o}=e;if(o.hasAttribute(Zi))return Je;o.setAttribute(Zi,"");const l=n.innerWidth-i.clientWidth,a=()=>ju(i,"--scrollbar-width",`${l}px`),s=Hu(i),u=n.getComputedStyle(o)[s],f=()=>fr(o,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:h,scrollY:m,visualViewport:_}=n,b=(_==null?void 0:_.offsetLeft)??0,C=(_==null?void 0:_.offsetTop)??0,S=fr(o,{position:"fixed",overflow:"hidden",top:`${-(m-Math.floor(C))}px`,left:`${-(h-Math.floor(b))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{S==null||S(),n.scrollTo(h,m)}},d=[a(),Gu()?c():f()];return()=>{d.forEach(h=>h==null?void 0:h()),o.removeAttribute(Zi)}}const Wu=t=>{try{uu(t)}catch{return t}};function Bt(t,e){let n;const i=Jn(t,r=>{n==null||n(),n=e(r)}).subscribe(Je),o=()=>{i(),n==null||n()};return Wu(o),o}function ho(t){const e={};return Object.keys(t).forEach(n=>{const i=n,o=t[i];e[i]=Yn(Xe(o))}),e}function Ku(t){let e=t.parentElement;for(;Rt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Uu(t,e){const n=Ku(t);return e!==void 0?e:n==="body"?document.body:null}async function cr(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([Vs(1),Bo]),e===void 0){n==null||n.focus();return}const i=js(e)?e(n):e;if(typeof i=="string"){const o=document.querySelector(i);if(!Rt(o))return;o.focus()}else Rt(i)&&i.focus()}Vi(void 0,t=>{function e(i){t(i),t(void 0)}return Ot(document,"pointerup",e,{passive:!1,capture:!0})});const Ju=Vi(void 0,t=>{function e(i){i&&i.key===On.ESCAPE&&t(i),t(void 0)}return Ot(document,"keydown",e,{passive:!1})}),dr=(t,e={})=>{let n=Je;function i(o={}){n();const r={enabled:!0,...o},l=Tu(r.enabled)?r.enabled:Vi(r.enabled);n=dn(Ju.subscribe(a=>{var u;if(!a||!Is(l))return;const s=a.target;if(!(!Rt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(js(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Bt(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return i(e),{update:i,destroy(){t.removeAttribute("data-escapee"),n()}}};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Us=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ki=Us.join(","),Js=typeof Element>"u",Ut=Js?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ci=!Js&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Ai=function t(e,n){var i;n===void 0&&(n=!0);var o=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"inert"),r=o===""||o==="true",l=r||n&&e&&t(e.parentNode);return l},Yu=function(e){var n,i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return i===""||i==="true"},Ys=function(e,n,i){if(Ai(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(ki));return n&&Ut.call(e,ki)&&o.unshift(e),o=o.filter(i),o},Xs=function t(e,n,i){for(var o=[],r=Array.from(e);r.length;){var l=r.shift();if(!Ai(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,i);i.flatten?o.push.apply(o,u):o.push({scopeParent:l,candidates:u})}else{var f=Ut.call(l,ki);f&&i.filter(l)&&(n||!e.includes(l))&&o.push(l);var c=l.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(l),d=!Ai(c,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(l));if(c&&d){var h=t(c===!0?l.children:c.children,!0,i);i.flatten?o.push.apply(o,h):o.push({scopeParent:l,candidates:h})}else r.unshift.apply(r,l.children)}}return o},Zs=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},jt=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Yu(e))&&!Zs(e)?0:e.tabIndex},Xu=function(e,n){var i=jt(e);return i<0&&n&&!Zs(e)?0:i},Zu=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Qs=function(e){return e.tagName==="INPUT"},Qu=function(e){return Qs(e)&&e.type==="hidden"},xu=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(i){return i.tagName==="SUMMARY"});return n},zu=function(e,n){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===n)return e[i]},ef=function(e){if(!e.name)return!0;var n=e.form||Ci(e),i=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=i(window.CSS.escape(e.name));else try{o=i(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=zu(o,e.form);return!r||r===e},tf=function(e){return Qs(e)&&e.type==="radio"},nf=function(e){return tf(e)&&!ef(e)},of=function(e){var n,i=e&&Ci(e),o=(n=i)===null||n===void 0?void 0:n.host,r=!1;if(i&&i!==e){var l,a,s;for(r=!!((l=o)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(o)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&o;){var u,f,c;i=Ci(o),o=(u=i)===null||u===void 0?void 0:u.host,r=!!((f=o)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(o))}}return r},pr=function(e){var n=e.getBoundingClientRect(),i=n.width,o=n.height;return i===0&&o===0},rf=function(e,n){var i=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Ut.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Ut.call(l,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof o=="function"){for(var a=e;e;){var s=e.parentElement,u=Ci(e);if(s&&!s.shadowRoot&&o(s)===!0)return pr(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(of(e))return!e.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return pr(e);return!1},lf=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var i=0;i<n.children.length;i++){var o=n.children.item(i);if(o.tagName==="LEGEND")return Ut.call(n,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}n=n.parentElement}return!1},Si=function(e,n){return!(n.disabled||Ai(n)||Qu(n)||rf(n,e)||xu(n)||lf(n))},mo=function(e,n){return!(nf(n)||jt(n)<0||!Si(e,n))},sf=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},af=function t(e){var n=[],i=[];return e.forEach(function(o,r){var l=!!o.scopeParent,a=l?o.scopeParent:o,s=Xu(a,l),u=l?t(o.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):i.push({documentOrder:r,tabIndex:s,item:o,isScope:l,content:u})}),i.sort(Zu).reduce(function(o,r){return r.isScope?o.push.apply(o,r.content):o.push(r.content),o},[]).concat(n)},uf=function(e,n){n=n||{};var i;return n.getShadowRoot?i=Xs([e],n.includeContainer,{filter:mo.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:sf}):i=Ys(e,n.includeContainer,mo.bind(null,n)),af(i)},ff=function(e,n){n=n||{};var i;return n.getShadowRoot?i=Xs([e],n.includeContainer,{filter:Si.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):i=Ys(e,n.includeContainer,Si.bind(null,n)),i},rn=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Ut.call(e,ki)===!1?!1:mo(n,e)},cf=Us.concat("iframe").join(","),Qi=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Ut.call(e,cf)===!1?!1:Si(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function hr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hr(Object(n),!0).forEach(function(i){df(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function df(t,e,n){return e=hf(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pf(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hf(t){var e=pf(t,"string");return typeof e=="symbol"?e:String(e)}var _r={activateTrap:function(e,n){if(e.length>0){var i=e[e.length-1];i!==n&&i.pause()}var o=e.indexOf(n);o===-1||e.splice(o,1),e.push(n)},deactivateTrap:function(e,n){var i=e.indexOf(n);i!==-1&&e.splice(i,1),e.length>0&&e[e.length-1].unpause()}},mf=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},_f=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Bn=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},gf=function(e){return Bn(e)&&!e.shiftKey},bf=function(e){return Bn(e)&&e.shiftKey},gr=function(e){return setTimeout(e,0)},br=function(e,n){var i=-1;return e.every(function(o,r){return n(o)?(i=r,!1):!0}),i},Nn=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,i):e},xn=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},vf=[],yf=function(e,n){var i=(n==null?void 0:n.document)||document,o=(n==null?void 0:n.trapStack)||vf,r=mr({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:gf,isKeyBackward:bf},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(g,v,k){return g&&g[v]!==void 0?g[v]:r[k||v]},u=function(g,v){var k=typeof(v==null?void 0:v.composedPath)=="function"?v.composedPath():void 0;return l.containerGroups.findIndex(function(L){var P=L.container,F=L.tabbableNodes;return P.contains(g)||(k==null?void 0:k.includes(P))||F.find(function(V){return V===g})})},f=function(g){var v=r[g];if(typeof v=="function"){for(var k=arguments.length,L=new Array(k>1?k-1:0),P=1;P<k;P++)L[P-1]=arguments[P];v=v.apply(void 0,L)}if(v===!0&&(v=void 0),!v){if(v===void 0||v===!1)return v;throw new Error("`".concat(g,"` was specified but was not a node, or did not return a node"))}var F=v;if(typeof v=="string"&&(F=i.querySelector(v),!F))throw new Error("`".concat(g,"` as selector refers to no known node"));return F},c=function(){var g=f("initialFocus");if(g===!1)return!1;if(g===void 0||!Qi(g,r.tabbableOptions))if(u(i.activeElement)>=0)g=i.activeElement;else{var v=l.tabbableGroups[0],k=v&&v.firstTabbableNode;g=k||f("fallbackFocus")}if(!g)throw new Error("Your focus-trap needs to have at least one focusable element");return g},d=function(){if(l.containerGroups=l.containers.map(function(g){var v=uf(g,r.tabbableOptions),k=ff(g,r.tabbableOptions),L=v.length>0?v[0]:void 0,P=v.length>0?v[v.length-1]:void 0,F=k.find(function(te){return rn(te)}),V=k.slice().reverse().find(function(te){return rn(te)}),z=!!v.find(function(te){return jt(te)>0});return{container:g,tabbableNodes:v,focusableNodes:k,posTabIndexesFound:z,firstTabbableNode:L,lastTabbableNode:P,firstDomTabbableNode:F,lastDomTabbableNode:V,nextTabbableNode:function(K){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,be=v.indexOf(K);return be<0?ne?k.slice(k.indexOf(K)+1).find(function(x){return rn(x)}):k.slice(0,k.indexOf(K)).reverse().find(function(x){return rn(x)}):v[be+(ne?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(g){return g.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(g){return g.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function E(g){var v=g.activeElement;if(v)return v.shadowRoot&&v.shadowRoot.activeElement!==null?E(v.shadowRoot):v},m=function E(g){if(g!==!1&&g!==h(document)){if(!g||!g.focus){E(c());return}g.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=g,mf(g)&&g.select()}},_=function(g){var v=f("setReturnFocus",g);return v||(v===!1?!1:g)},b=function(g){var v=g.target,k=g.event,L=g.isBackward,P=L===void 0?!1:L;v=v||xn(k),d();var F=null;if(l.tabbableGroups.length>0){var V=u(v,k),z=V>=0?l.containerGroups[V]:void 0;if(V<0)P?F=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:F=l.tabbableGroups[0].firstTabbableNode;else if(P){var te=br(l.tabbableGroups,function(ge){var Se=ge.firstTabbableNode;return v===Se});if(te<0&&(z.container===v||Qi(v,r.tabbableOptions)&&!rn(v,r.tabbableOptions)&&!z.nextTabbableNode(v,!1))&&(te=V),te>=0){var K=te===0?l.tabbableGroups.length-1:te-1,ne=l.tabbableGroups[K];F=jt(v)>=0?ne.lastTabbableNode:ne.lastDomTabbableNode}else Bn(k)||(F=z.nextTabbableNode(v,!1))}else{var be=br(l.tabbableGroups,function(ge){var Se=ge.lastTabbableNode;return v===Se});if(be<0&&(z.container===v||Qi(v,r.tabbableOptions)&&!rn(v,r.tabbableOptions)&&!z.nextTabbableNode(v))&&(be=V),be>=0){var x=be===l.tabbableGroups.length-1?0:be+1,ee=l.tabbableGroups[x];F=jt(v)>=0?ee.firstTabbableNode:ee.firstDomTabbableNode}else Bn(k)||(F=z.nextTabbableNode(v))}}else F=f("fallbackFocus");return F},C=function(g){var v=xn(g);if(!(u(v,g)>=0)){if(Nn(r.clickOutsideDeactivates,g)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Nn(r.allowOutsideClick,g)||g.preventDefault()}},S=function(g){var v=xn(g),k=u(v,g)>=0;if(k||v instanceof Document)k&&(l.mostRecentlyFocusedNode=v);else{g.stopImmediatePropagation();var L,P=!0;if(l.mostRecentlyFocusedNode)if(jt(l.mostRecentlyFocusedNode)>0){var F=u(l.mostRecentlyFocusedNode),V=l.containerGroups[F].tabbableNodes;if(V.length>0){var z=V.findIndex(function(te){return te===l.mostRecentlyFocusedNode});z>=0&&(r.isKeyForward(l.recentNavEvent)?z+1<V.length&&(L=V[z+1],P=!1):z-1>=0&&(L=V[z-1],P=!1))}}else l.containerGroups.some(function(te){return te.tabbableNodes.some(function(K){return jt(K)>0})})||(P=!1);else P=!1;P&&(L=b({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),m(L||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},N=function(g){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=g;var k=b({event:g,isBackward:v});k&&(Bn(g)&&g.preventDefault(),m(k))},J=function(g){if(_f(g)&&Nn(r.escapeDeactivates,g)!==!1){g.preventDefault(),a.deactivate();return}(r.isKeyForward(g)||r.isKeyBackward(g))&&N(g,r.isKeyBackward(g))},q=function(g){var v=xn(g);u(v,g)>=0||Nn(r.clickOutsideDeactivates,g)||Nn(r.allowOutsideClick,g)||(g.preventDefault(),g.stopImmediatePropagation())},$=function(){if(l.active)return _r.activateTrap(o,a),l.delayInitialFocusTimer=r.delayInitialFocus?gr(function(){m(c())}):m(c()),i.addEventListener("focusin",S,!0),i.addEventListener("mousedown",C,{capture:!0,passive:!1}),i.addEventListener("touchstart",C,{capture:!0,passive:!1}),i.addEventListener("click",q,{capture:!0,passive:!1}),i.addEventListener("keydown",J,{capture:!0,passive:!1}),a},H=function(){if(l.active)return i.removeEventListener("focusin",S,!0),i.removeEventListener("mousedown",C,!0),i.removeEventListener("touchstart",C,!0),i.removeEventListener("click",q,!0),i.removeEventListener("keydown",J,!0),a},U=function(g){var v=g.some(function(k){var L=Array.from(k.removedNodes);return L.some(function(P){return P===l.mostRecentlyFocusedNode})});v&&m(c())},p=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(U):void 0,D=function(){p&&(p.disconnect(),l.active&&!l.paused&&l.containers.map(function(g){p.observe(g,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(g){if(l.active)return this;var v=s(g,"onActivate"),k=s(g,"onPostActivate"),L=s(g,"checkCanFocusTrap");L||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=i.activeElement,v==null||v();var P=function(){L&&d(),$(),D(),k==null||k()};return L?(L(l.containers.concat()).then(P,P),this):(P(),this)},deactivate:function(g){if(!l.active)return this;var v=mr({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},g);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,H(),l.active=!1,l.paused=!1,D(),_r.deactivateTrap(o,a);var k=s(v,"onDeactivate"),L=s(v,"onPostDeactivate"),P=s(v,"checkCanReturnFocus"),F=s(v,"returnFocus","returnFocusOnDeactivate");k==null||k();var V=function(){gr(function(){F&&m(_(l.nodeFocusedBeforeActivation)),L==null||L()})};return F&&P?(P(_(l.nodeFocusedBeforeActivation)).then(V,V),this):(V(),this)},pause:function(g){if(l.paused||!l.active)return this;var v=s(g,"onPause"),k=s(g,"onPostPause");return l.paused=!0,v==null||v(),H(),D(),k==null||k(),this},unpause:function(g){if(!l.paused||!l.active)return this;var v=s(g,"onUnpause"),k=s(g,"onPostUnpause");return l.paused=!1,v==null||v(),d(),$(),D(),k==null||k(),this},updateContainerElements:function(g){var v=[].concat(g).filter(Boolean);return l.containers=v.map(function(k){return typeof k=="string"?i.querySelector(k):k}),l.active&&d(),D(),this}},a.updateContainerElements(e),a};function wf(t={}){let e;const{immediate:n,...i}=t,o=Xe(!1),r=Xe(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=yf(c,{...i,onActivate(){var d;o.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;o.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:lr(o),isPaused:lr(r),activate:l,deactivate:a,pause:s,unpause:u}}const kf=(t,e="body")=>{let n;if(!Rt(e)&&typeof e!="string")return{destroy:Je};async function i(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Bo(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function o(){t.remove()}return i(e),{update:i,destroy:o}};function Cf(t,e){let n=Je;function i(o){n();const{onInteractOutside:r,onInteractOutsideStart:l,enabled:a}=o;if(!a)return;let s=!1,u=!1;function f(h){r&&zn(h,t)&&(l==null||l(h)),s=!0}function c(h){r==null||r(h)}const d=Af(t);if(typeof PointerEvent<"u"){const h=m=>{s&&zn(m,t)&&c(m),s=!1};n=dn(Ot(d,"pointerdown",f,!0),Ot(d,"pointerup",h,!0))}else{const h=_=>{u?u=!1:s&&zn(_,t)&&c(_),s=!1},m=_=>{u=!0,s&&zn(_,t)&&c(_),s=!1};n=dn(Ot(d,"mousedown",f,!0),Ot(d,"mouseup",h,!0),Ot(d,"touchstart",f,!0),Ot(d,"touchend",m,!0))}}return i(e),{update:i,destroy:n}}function zn(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!Hs(n))return!1;const i=n.ownerDocument;return!i||!i.documentElement.contains(n)?!1:e&&!e.contains(n)}function Af(t){return(t==null?void 0:t.ownerDocument)??document}function Sf(){return{elements:{root:Ct("label",{action:e=>({destroy:Pn(e,"mousedown",i=>{!i.defaultPrevented&&i.detail>1&&i.preventDefault()})})})}}}const ei=[];function Nf(t,e){let n=Je;function i(){const r=ei.indexOf(t);r>=0&&ei.splice(r,1)}function o(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;Vs(100).then(()=>{l?ei.push(t):i()});function f(){return Cu(ei)===t}function c(){f()&&a&&a()}function d(m){const _=m.target;Hs(_)&&_&&f()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation())}function h(m){s!=null&&s(m)&&f()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation(),c())}n=Cf(t,{onInteractOutsideStart:d,onInteractOutside:u?h:void 0,enabled:l}).destroy}return o(e),{update:o,destroy(){i(),n()}}}const{name:Dt}=Au("dialog"),Tf={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:"body",forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},If=["content","title","description"];function xs(t){const e={...Tf,...t},n=ho(Mu(e,"ids")),{preventScroll:i,closeOnEscape:o,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=Yn.writable(null),h=ho({...Ru(If),...e.ids}),m=e.open??Xe(e.defaultOpen),_=Pu(m,e==null?void 0:e.onOpenChange),b=Jn([_,s],([E,g])=>E||g);let C=Je;function S(E){const g=E.currentTarget,v=E.currentTarget;!Rt(g)||!Rt(v)||(_.set(!0),d.set(v))}function N(){_.set(!1),cr({prop:f.get(),defaultEl:d.get()})}const J=Ct(Dt("trigger"),{stores:[_],returned:([E])=>({"aria-haspopup":"dialog","aria-expanded":E,type:"button"}),action:E=>({destroy:dn(Pn(E,"click",v=>{S(v)}),Pn(E,"keydown",v=>{v.key!==On.ENTER&&v.key!==On.SPACE||(v.preventDefault(),S(v))}))})}),q=Ct(Dt("overlay"),{stores:[b],returned:([E])=>({hidden:E?void 0:!0,tabindex:-1,style:po({display:E?void 0:"none"}),"aria-hidden":!0,"data-state":E?"open":"closed"}),action:E=>{let g=Je;if(o.get()){const v=dr(E,{handler:()=>{N()}});v&&v.destroy&&(g=v.destroy)}return{destroy(){g()}}}}),$=Ct(Dt("content"),{stores:[b,h.content,h.description,h.title],returned:([E,g,v,k])=>({id:g,role:l.get(),"aria-describedby":v,"aria-labelledby":k,"aria-modal":E?"true":void 0,"data-state":E?"open":"closed",tabindex:-1,hidden:E?void 0:!0,style:po({display:E?void 0:"none"})}),action:E=>{let g=Je,v=Je;const k=dn(Bt([_],([L])=>{if(!L)return;const P=wf({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:E});g=P.activate,v=P.deactivate;const F=P.useFocusTrap(E);return F&&F.destroy?F.destroy:P.deactivate}),Bt([r,_],([L,P])=>Nf(E,{open:P,closeOnInteractOutside:L,onClose(){N()},shouldCloseOnInteractOutside(F){var V;return(V=c.get())==null||V(F),!F.defaultPrevented}}).destroy),Bt([o],([L])=>{if(!L)return Je;const P=dr(E,{handler:()=>{N()}});return P&&P.destroy?P.destroy:Je}),Bt([b],([L])=>{Bo().then(()=>{L?g():v()})}));return{destroy:()=>{C(),k()}}}}),H=Ct(Dt("portalled"),{stores:a,returned:E=>({"data-portal":E?"":void 0}),action:E=>{const g=Bt([a],([v])=>{if(!v)return Je;const k=Uu(E,v);if(k===null)return Je;const L=kf(E,k);return L&&L.destroy?L.destroy:Je});return{destroy(){g()}}}}),U=Ct(Dt("title"),{stores:[h.title],returned:([E])=>({id:E})}),p=Ct(Dt("description"),{stores:[h.description],returned:([E])=>({id:E})}),D=Ct(Dt("close"),{returned:()=>({type:"button"}),action:E=>({destroy:dn(Pn(E,"click",()=>{N()}),Pn(E,"keydown",v=>{v.key!==On.SPACE&&v.key!==On.ENTER||(v.preventDefault(),N())}))})});return Bt([_,i],([E,g])=>{if(Su){if(g&&E&&(C=Vu()),E){const v=document.getElementById(h.content.get());cr({prop:u.get(),defaultEl:v})}return()=>{s.get()||C()}}}),{ids:h,elements:{content:$,trigger:J,title:U,description:p,overlay:q,close:D,portalled:H},states:{open:_},options:n}}const Ef={orientation:"horizontal",decorative:!1},Mf=t=>{const e={...Ef,...t},n=ho(e),{orientation:i,decorative:o}=n;return{elements:{root:Ct("separator",{stores:[i,o],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}};function Ki(t,e){const n={};return e.forEach(i=>{n[i]={[`data-${t}-${i}`]:""}}),i=>n[i]}function Wo(){const t=fu();return e=>{const{originalEvent:n}=e.detail,{cancelable:i}=e,o=n.type;t(o,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:i})||e.preventDefault()}}function Ko(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=i)}return e}function Ni(t){return function(e,n){if(n===void 0)return;const i=t[e];i&&i.set(n)}}function zs(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function Pf(t){const{NAME:e,PARTS:n}=zs(),i=Ki(e,n),o=xs({...Ko(t),role:"alertdialog",forceVisible:!0}),r={...o,getAttrs:i,updateOption:Ni(o.options)};return Rs(e,r),{...r,updateOption:Ni(r.options),getAttrs:i}}function vn(){const{NAME:t}=zs();return qs(t)}const Of=t=>({ids:t&1}),vr=t=>({ids:t[0]});function Lf(t){let e;const n=t[12].default,i=ue(n,t,t[11],vr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,[r]){i&&i.p&&(!e||r&2049)&&ce(i,n,o,o[11],e?fe(n,o[11],r,Of):de(o[11]),vr)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Ff(t,e,n){let i,{$$slots:o={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:h=void 0}=e,{onOutsideClick:m=void 0}=e;const{states:{open:_},updateOption:b,ids:C}=Pf({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:h,onOutsideClick:m,onOpenChange:({next:N})=>(f!==N&&(c==null||c(N),n(2,f=N)),N)}),S=Jn([C.content,C.description,C.title],([N,J,q])=>({content:N,description:J,title:q}));return se(t,S,N=>n(0,i=N)),t.$$set=N=>{"preventScroll"in N&&n(3,l=N.preventScroll),"closeOnEscape"in N&&n(4,a=N.closeOnEscape),"closeOnOutsideClick"in N&&n(5,s=N.closeOnOutsideClick),"portal"in N&&n(6,u=N.portal),"open"in N&&n(2,f=N.open),"onOpenChange"in N&&n(7,c=N.onOpenChange),"openFocus"in N&&n(8,d=N.openFocus),"closeFocus"in N&&n(9,h=N.closeFocus),"onOutsideClick"in N&&n(10,m=N.onOutsideClick),"$$scope"in N&&n(11,r=N.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&b("preventScroll",l),t.$$.dirty&16&&b("closeOnEscape",a),t.$$.dirty&32&&b("closeOnOutsideClick",s),t.$$.dirty&64&&b("portal",u),t.$$.dirty&256&&b("openFocus",d),t.$$.dirty&512&&b("closeFocus",h),t.$$.dirty&1024&&b("onOutsideClick",m)},[i,S,f,l,a,s,u,c,d,h,m,r,o]}class Rf extends me{constructor(e){super(),he(this,e,Ff,Lf,le,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const qf=t=>({builder:t&8}),yr=t=>({builder:t[3]}),$f=t=>({builder:t&8}),wr=t=>({builder:t[3]});function Df(t){let e=t[1],n,i,o=t[1]&&xi(t);return{c(){o&&o.c(),n=Ee()},m(r,l){o&&o.m(r,l),w(r,n,l),i=!0},p(r,l){r[1]?e?le(e,r[1])?(o.d(1),o=xi(r),e=r[1],o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=xi(r),e=r[1],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=r[1])},i(r){i||(A(o,r),i=!0)},o(r){T(o,r),i=!1},d(r){r&&y(n),o&&o.d(r)}}}function Bf(t){let e;const n=t[9].default,i=ue(n,t,t[8],wr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&264)&&ce(i,n,o,o[8],e?fe(n,o[8],r,$f):de(o[8]),wr)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function xi(t){let e,n,i,o;const r=t[9].default,l=ue(r,t,t[8],yr);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=B(s,a[u]);return{c(){e=O(t[1]),l&&l.c(),Lt(t[1])(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),t[10](e),n=!0,i||(o=Fe(t[3].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&264)&&ce(l,r,u,u[8],n?fe(r,u[8],f,qf):de(u[8]),yr),Lt(u[1])(e,s=pe(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[10](null),i=!1,o()}}}function Gf(t){let e,n,i,o;const r=[Bf,Df],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Ee()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(i.parentNode,i))},i(s){o||(A(n),o=!0)},o(s){T(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function jf(t,e,n){let i;const o=["level","asChild","id","el"];let r=ie(e,o),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:h},ids:m,getAttrs:_}=vn();se(t,h,S=>n(7,l=S));const b=_("title");function C(S){we[S?"unshift":"push"](()=>{d=S,n(0,d)})}return t.$$set=S=>{e=B(B({},e),ke(S)),n(5,r=ie(e,o)),"level"in S&&n(1,u=S.level),"asChild"in S&&n(2,f=S.asChild),"id"in S&&n(6,c=S.id),"el"in S&&n(0,d=S.el),"$$scope"in S&&n(8,s=S.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&m.title.set(c),t.$$.dirty&128&&n(3,i=l),t.$$.dirty&8&&Object.assign(i,b)},[d,u,f,i,h,r,c,l,s,a,C]}let Hf=class extends me{constructor(e){super(),he(this,e,jf,Gf,le,{level:1,asChild:2,id:6,el:0})}};const Vf=t=>({builder:t&4}),kr=t=>({builder:t[2]}),Wf=t=>({builder:t&4}),Cr=t=>({builder:t[2]});function Kf(t){let e,n,i,o;const r=t[8].default,l=ue(r,t,t[7],kr);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=B(s,a[u]);return{c(){e=O("button"),l&&l.c(),re(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,i||(o=[Fe(t[2].action(e)),j(e,"m-click",t[4]),j(e,"m-keydown",t[4])],i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ce(l,r,u,u[7],n?fe(r,u[7],f,Vf):de(u[7]),kr),re(e,s=pe(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[9](null),i=!1,Le(o)}}}function Uf(t){let e;const n=t[8].default,i=ue(n,t,t[7],Cr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&ce(i,n,o,o[7],e?fe(n,o[7],r,Wf):de(o[7]),Cr)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Jf(t){let e,n,i,o;const r=[Uf,Kf],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Ee()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(i.parentNode,i))},i(s){o||(A(n),o=!0)},o(s){T(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function Yf(t,e,n){let i;const o=["asChild","el"];let r=ie(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=vn();se(t,c,b=>n(6,l=b));const h=Wo(),m=d("action");function _(b){we[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=B(B({},e),ke(b)),n(5,r=ie(e,o)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,m)},[f,u,i,c,h,r,l,s,a,_]}let Xf=class extends me{constructor(e){super(),he(this,e,Yf,Jf,le,{asChild:1,el:0})}};const Zf=t=>({builder:t&4}),Ar=t=>({builder:t[2]}),Qf=t=>({builder:t&4}),Sr=t=>({builder:t[2]});function xf(t){let e,n,i,o;const r=t[7].default,l=ue(r,t,t[6],Ar);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=B(s,a[u]);return{c(){e=O("div"),l&&l.c(),re(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),t[8](e),n=!0,i||(o=Fe(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&68)&&ce(l,r,u,u[6],n?fe(r,u[6],f,Zf):de(u[6]),Ar),re(e,s=pe(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[8](null),i=!1,o()}}}function zf(t){let e;const n=t[7].default,i=ue(n,t,t[6],Sr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&68)&&ce(i,n,o,o[6],e?fe(n,o[6],r,Qf):de(o[6]),Sr)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function ec(t){let e,n,i,o;const r=[zf,xf],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Ee()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(i.parentNode,i))},i(s){o||(A(n),o=!0)},o(s){T(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function tc(t,e,n){let i;const o=["asChild","el"];let r=ie(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=vn();se(t,c,_=>n(5,l=_));const h=d("portal");function m(_){we[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=B(B({},e),ke(_)),n(4,r=ie(e,o)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,h)},[f,u,i,c,r,l,s,a,m]}let nc=class extends me{constructor(e){super(),he(this,e,tc,ec,le,{asChild:1,el:0})}};const ic=t=>({builder:t[0]&256}),Nr=t=>({builder:t[8]}),oc=t=>({builder:t[0]&256}),Tr=t=>({builder:t[8]}),rc=t=>({builder:t[0]&256}),Ir=t=>({builder:t[8]}),lc=t=>({builder:t[0]&256}),Er=t=>({builder:t[8]}),sc=t=>({builder:t[0]&256}),Mr=t=>({builder:t[8]}),ac=t=>({builder:t[0]&256}),Pr=t=>({builder:t[8]});function uc(t){let e,n,i,o;const r=t[16].default,l=ue(r,t,t[15],Nr);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=B(s,a[u]);return{c(){e=O("div"),l&&l.c(),re(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),t[56](e),n=!0,i||(o=[Fe(t[8].action(e)),j(e,"pointerdown",t[45]),j(e,"pointermove",t[46]),j(e,"pointerup",t[47]),j(e,"touchend",t[48]),j(e,"touchstart",t[49]),j(e,"touchcancel",t[50]),j(e,"touchmove",t[51])],i=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&ce(l,r,u,u[15],n?fe(r,u[15],f,ic):de(u[15]),Nr),re(e,s=pe(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[56](null),i=!1,Le(o)}}}function fc(t){let e,n,i,o,r;const l=t[16].default,a=ue(l,t,t[15],Tr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=B(u,s[f]);return{c(){e=O("div"),a&&a.c(),re(e,u)},m(f,c){w(f,e,c),a&&a.m(e,null),t[55](e),i=!0,o||(r=[Fe(t[8].action(e)),j(e,"pointerdown",t[38]),j(e,"pointermove",t[39]),j(e,"pointerup",t[40]),j(e,"touchend",t[41]),j(e,"touchstart",t[42]),j(e,"touchcancel",t[43]),j(e,"touchmove",t[44])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&ce(a,l,t,t[15],i?fe(l,t[15],c,oc):de(t[15]),Tr),re(e,u=pe(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(A(a,f),n&&n.end(1),i=!0)},o(f){T(a,f),f&&(n=$t(e,t[5],t[6])),i=!1},d(f){f&&y(e),a&&a.d(f),t[55](null),f&&n&&n.end(),o=!1,Le(r)}}}function cc(t){let e,n,i,o,r;const l=t[16].default,a=ue(l,t,t[15],Ir);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=B(u,s[f]);return{c(){e=O("div"),a&&a.c(),re(e,u)},m(f,c){w(f,e,c),a&&a.m(e,null),t[54](e),i=!0,o||(r=[Fe(t[8].action(e)),j(e,"pointerdown",t[31]),j(e,"pointermove",t[32]),j(e,"pointerup",t[33]),j(e,"touchend",t[34]),j(e,"touchstart",t[35]),j(e,"touchcancel",t[36]),j(e,"touchmove",t[37])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&ce(a,l,t,t[15],i?fe(l,t[15],c,rc):de(t[15]),Ir),re(e,u=pe(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(A(a,f),f&&(n||Ze(()=>{n=qt(e,t[3],t[4]),n.start()})),i=!0)},o(f){T(a,f),i=!1},d(f){f&&y(e),a&&a.d(f),t[54](null),o=!1,Le(r)}}}function dc(t){let e,n,i,o,r,l;const a=t[16].default,s=ue(a,t,t[15],Er);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=B(f,u[c]);return{c(){e=O("div"),s&&s.c(),re(e,f)},m(c,d){w(c,e,d),s&&s.m(e,null),t[53](e),o=!0,r||(l=[Fe(t[8].action(e)),j(e,"pointerdown",t[24]),j(e,"pointermove",t[25]),j(e,"pointerup",t[26]),j(e,"touchend",t[27]),j(e,"touchstart",t[28]),j(e,"touchcancel",t[29]),j(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!o||d[0]&33024)&&ce(s,a,t,t[15],o?fe(a,t[15],d,lc):de(t[15]),Er),re(e,f=pe(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){o||(A(s,c),c&&Ze(()=>{o&&(i&&i.end(1),n=qt(e,t[3],t[4]),n.start())}),o=!0)},o(c){T(s,c),n&&n.invalidate(),c&&(i=$t(e,t[5],t[6])),o=!1},d(c){c&&y(e),s&&s.d(c),t[53](null),c&&i&&i.end(),r=!1,Le(l)}}}function pc(t){let e,n,i,o,r;const l=t[16].default,a=ue(l,t,t[15],Mr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=B(u,s[f]);return{c(){e=O("div"),a&&a.c(),re(e,u)},m(f,c){w(f,e,c),a&&a.m(e,null),t[52](e),i=!0,o||(r=[Fe(t[8].action(e)),j(e,"pointerdown",t[17]),j(e,"pointermove",t[18]),j(e,"pointerup",t[19]),j(e,"touchend",t[20]),j(e,"touchstart",t[21]),j(e,"touchcancel",t[22]),j(e,"touchmove",t[23])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&ce(a,l,t,t[15],i?fe(l,t[15],c,sc):de(t[15]),Mr),re(e,u=pe(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(A(a,f),f&&Ze(()=>{i&&(n||(n=Ft(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(f){T(a,f),f&&(n||(n=Ft(e,t[1],t[2],!1)),n.run(0)),i=!1},d(f){f&&y(e),a&&a.d(f),t[52](null),f&&n&&n.end(),o=!1,Le(r)}}}function hc(t){let e;const n=t[16].default,i=ue(n,t,t[15],Pr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[0]&33024)&&ce(i,n,o,o[15],e?fe(n,o[15],r,ac):de(o[15]),Pr)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function mc(t){let e,n,i,o;const r=[hc,pc,dc,cc,fc,uc],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Ee()},m(s,u){~e&&l[e].m(s,u),w(s,i,u),o=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(A(n),o=!0)},o(s){T(n),o=!1},d(s){s&&y(i),~e&&l[e].d(s)}}}function _c(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=ie(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{id:b=void 0}=e,{asChild:C=!1}=e,{el:S=void 0}=e;const{elements:{content:N},states:{open:J},ids:q,getAttrs:$}=vn();se(t,N,I=>n(14,l=I)),se(t,J,I=>n(9,a=I));const H=$("content");function U(I){Z.call(this,t,I)}function p(I){Z.call(this,t,I)}function D(I){Z.call(this,t,I)}function E(I){Z.call(this,t,I)}function g(I){Z.call(this,t,I)}function v(I){Z.call(this,t,I)}function k(I){Z.call(this,t,I)}function L(I){Z.call(this,t,I)}function P(I){Z.call(this,t,I)}function F(I){Z.call(this,t,I)}function V(I){Z.call(this,t,I)}function z(I){Z.call(this,t,I)}function te(I){Z.call(this,t,I)}function K(I){Z.call(this,t,I)}function ne(I){Z.call(this,t,I)}function be(I){Z.call(this,t,I)}function x(I){Z.call(this,t,I)}function ee(I){Z.call(this,t,I)}function ge(I){Z.call(this,t,I)}function Se(I){Z.call(this,t,I)}function Be(I){Z.call(this,t,I)}function $e(I){Z.call(this,t,I)}function Me(I){Z.call(this,t,I)}function qe(I){Z.call(this,t,I)}function Ve(I){Z.call(this,t,I)}function dt(I){Z.call(this,t,I)}function tt(I){Z.call(this,t,I)}function He(I){Z.call(this,t,I)}function pt(I){Z.call(this,t,I)}function lt(I){Z.call(this,t,I)}function xe(I){Z.call(this,t,I)}function st(I){Z.call(this,t,I)}function Ye(I){Z.call(this,t,I)}function Re(I){Z.call(this,t,I)}function We(I){Z.call(this,t,I)}function Ge(I){we[I?"unshift":"push"](()=>{S=I,n(0,S)})}function ve(I){we[I?"unshift":"push"](()=>{S=I,n(0,S)})}function Ae(I){we[I?"unshift":"push"](()=>{S=I,n(0,S)})}function oe(I){we[I?"unshift":"push"](()=>{S=I,n(0,S)})}function De(I){we[I?"unshift":"push"](()=>{S=I,n(0,S)})}return t.$$set=I=>{e=B(B({},e),ke(I)),n(12,r=ie(e,o)),"transition"in I&&n(1,f=I.transition),"transitionConfig"in I&&n(2,c=I.transitionConfig),"inTransition"in I&&n(3,d=I.inTransition),"inTransitionConfig"in I&&n(4,h=I.inTransitionConfig),"outTransition"in I&&n(5,m=I.outTransition),"outTransitionConfig"in I&&n(6,_=I.outTransitionConfig),"id"in I&&n(13,b=I.id),"asChild"in I&&n(7,C=I.asChild),"el"in I&&n(0,S=I.el),"$$scope"in I&&n(15,u=I.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&b&&q.content.set(b),t.$$.dirty[0]&16384&&n(8,i=l),t.$$.dirty[0]&256&&Object.assign(i,H)},[S,f,c,d,h,m,_,C,i,a,N,J,r,b,l,u,s,U,p,D,E,g,v,k,L,P,F,V,z,te,K,ne,be,x,ee,ge,Se,Be,$e,Me,qe,Ve,dt,tt,He,pt,lt,xe,st,Ye,Re,We,Ge,ve,Ae,oe,De]}let gc=class extends me{constructor(e){super(),he(this,e,_c,mc,le,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const bc=t=>({builder:t&256}),Or=t=>({builder:t[8]});function vc(t){let e,n,i,o=[t[8],t[12]],r={};for(let l=0;l<o.length;l+=1)r=B(r,o[l]);return{c(){e=O("div"),re(e,r)},m(l,a){w(l,e,a),t[20](e),n||(i=Fe(t[8].action(e)),n=!0)},p(l,a){re(e,r=pe(o,[a&256&&l[8],a&4096&&l[12]]))},i:ae,o:ae,d(l){l&&y(e),t[20](null),n=!1,i()}}}function yc(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=B(a,l[s]);return{c(){e=O("div"),re(e,a)},m(s,u){w(s,e,u),t[19](e),i=!0,o||(r=Fe(t[8].action(e)),o=!0)},p(s,u){t=s,re(e,a=pe(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(n&&n.end(1),i=!0)},o(s){s&&(n=$t(e,t[5],t[6])),i=!1},d(s){s&&y(e),t[19](null),s&&n&&n.end(),o=!1,r()}}}function wc(t){let e,n,i,o,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=B(l,r[a]);return{c(){e=O("div"),re(e,l)},m(a,s){w(a,e,s),t[18](e),i||(o=Fe(t[8].action(e)),i=!0)},p(a,s){t=a,re(e,l=pe(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||Ze(()=>{n=qt(e,t[3],t[4]),n.start()}))},o:ae,d(a){a&&y(e),t[18](null),i=!1,o()}}}function kc(t){let e,n,i,o,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=B(s,a[u]);return{c(){e=O("div"),re(e,s)},m(u,f){w(u,e,f),t[17](e),o=!0,r||(l=Fe(t[8].action(e)),r=!0)},p(u,f){t=u,re(e,s=pe(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){o||(u&&Ze(()=>{o&&(i&&i.end(1),n=qt(e,t[3],t[4]),n.start())}),o=!0)},o(u){n&&n.invalidate(),u&&(i=$t(e,t[5],t[6])),o=!1},d(u){u&&y(e),t[17](null),u&&i&&i.end(),r=!1,l()}}}function Cc(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=B(a,l[s]);return{c(){e=O("div"),re(e,a)},m(s,u){w(s,e,u),t[16](e),i=!0,o||(r=Fe(t[8].action(e)),o=!0)},p(s,u){t=s,re(e,a=pe(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(s&&Ze(()=>{i&&(n||(n=Ft(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(s){s&&(n||(n=Ft(e,t[1],t[2],!1)),n.run(0)),i=!1},d(s){s&&y(e),t[16](null),s&&n&&n.end(),o=!1,r()}}}function Ac(t){let e;const n=t[15].default,i=ue(n,t,t[14],Or);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16640)&&ce(i,n,o,o[14],e?fe(n,o[14],r,bc):de(o[14]),Or)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Sc(t){let e,n,i,o;const r=[Ac,Cc,kc,wc,yc,vc],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Ee()},m(s,u){~e&&l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(A(n),o=!0)},o(s){T(n),o=!1},d(s){s&&y(i),~e&&l[e].d(s)}}}function Nc(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ie(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:b=!1}=e,{el:C=void 0}=e;const{elements:{overlay:S},states:{open:N},getAttrs:J}=vn();se(t,S,E=>n(13,l=E)),se(t,N,E=>n(9,a=E));const q=J("overlay");function $(E){we[E?"unshift":"push"](()=>{C=E,n(0,C)})}function H(E){we[E?"unshift":"push"](()=>{C=E,n(0,C)})}function U(E){we[E?"unshift":"push"](()=>{C=E,n(0,C)})}function p(E){we[E?"unshift":"push"](()=>{C=E,n(0,C)})}function D(E){we[E?"unshift":"push"](()=>{C=E,n(0,C)})}return t.$$set=E=>{e=B(B({},e),ke(E)),n(12,r=ie(e,o)),"transition"in E&&n(1,f=E.transition),"transitionConfig"in E&&n(2,c=E.transitionConfig),"inTransition"in E&&n(3,d=E.inTransition),"inTransitionConfig"in E&&n(4,h=E.inTransitionConfig),"outTransition"in E&&n(5,m=E.outTransition),"outTransitionConfig"in E&&n(6,_=E.outTransitionConfig),"asChild"in E&&n(7,b=E.asChild),"el"in E&&n(0,C=E.el),"$$scope"in E&&n(14,u=E.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,i=l),t.$$.dirty&256&&Object.assign(i,q)},[C,f,c,d,h,m,_,b,i,a,S,N,r,l,u,s,$,H,U,p,D]}let Tc=class extends me{constructor(e){super(),he(this,e,Nc,Sc,le,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Ic=t=>({builder:t&4}),Lr=t=>({builder:t[2]}),Ec=t=>({builder:t&4}),Fr=t=>({builder:t[2]});function Mc(t){let e,n,i,o;const r=t[8].default,l=ue(r,t,t[7],Lr);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=B(s,a[u]);return{c(){e=O("div"),l&&l.c(),re(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),t[9](e),n=!0,i||(o=Fe(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ce(l,r,u,u[7],n?fe(r,u[7],f,Ic):de(u[7]),Lr),re(e,s=pe(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[9](null),i=!1,o()}}}function Pc(t){let e;const n=t[8].default,i=ue(n,t,t[7],Fr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&ce(i,n,o,o[7],e?fe(n,o[7],r,Ec):de(o[7]),Fr)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Oc(t){let e,n,i,o;const r=[Pc,Mc],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Ee()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(i.parentNode,i))},i(s){o||(A(n),o=!0)},o(s){T(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function Lc(t,e,n){let i;const o=["asChild","id","el"];let r=ie(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:h,getAttrs:m}=vn();se(t,d,C=>n(6,l=C));const _=m("description");function b(C){we[C?"unshift":"push"](()=>{c=C,n(0,c)})}return t.$$set=C=>{e=B(B({},e),ke(C)),n(4,r=ie(e,o)),"asChild"in C&&n(1,u=C.asChild),"id"in C&&n(5,f=C.id),"el"in C&&n(0,c=C.el),"$$scope"in C&&n(7,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&h.description.set(f),t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,_)},[c,u,i,d,r,f,l,s,a,b]}let Fc=class extends me{constructor(e){super(),he(this,e,Lc,Oc,le,{asChild:1,id:5,el:0})}};function Rc(t,e){const n=[];return e.builders.forEach(i=>{const o=i.action(t);o&&n.push(o)}),{destroy:()=>{n.forEach(i=>{i.destroy&&i.destroy()})}}}function Rr(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(i=>{i!=="action"&&(e[i]=n[i])})}),e}function qc(t){let e=t[1]?"a":"button",n,i,o=(t[1]?"a":"button")&&zi(t);return{c(){o&&o.c(),n=Ee()},m(r,l){o&&o.m(r,l),w(r,n,l),i=!0},p(r,l){r[1],e?le(e,r[1]?"a":"button")?(o.d(1),o=zi(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=zi(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n))},i(r){i||(A(o,r),i=!0)},o(r){T(o,r),i=!1},d(r){r&&y(n),o&&o.d(r)}}}function $c(t){let e=t[1]?"a":"button",n,i,o=(t[1]?"a":"button")&&eo(t);return{c(){o&&o.c(),n=Ee()},m(r,l){o&&o.m(r,l),w(r,n,l),i=!0},p(r,l){r[1],e?le(e,r[1]?"a":"button")?(o.d(1),o=eo(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=eo(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n))},i(r){i||(A(o,r),i=!0)},o(r){T(o,r),i=!1},d(r){r&&y(n),o&&o.d(r)}}}function zi(t){let e,n,i,o,r;const l=t[7].default,a=ue(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=B(u,s[f]);return{c(){e=O(t[1]?"a":"button"),a&&a.c(),Lt(t[1]?"a":"button")(e,u)},m(f,c){w(f,e,c),a&&a.m(e,null),i=!0,o||(r=[j(e,"click",t[14]),j(e,"change",t[15]),j(e,"keydown",t[16]),j(e,"keyup",t[17]),j(e,"mouseenter",t[18]),j(e,"mouseleave",t[19])],o=!0)},p(f,c){a&&a.p&&(!i||c&64)&&ce(a,l,f,f[6],i?fe(l,f[6],c,null):de(f[6]),null),Lt(f[1]?"a":"button")(e,u=pe(s,[(!i||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!i||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){i||(A(a,f),i=!0)},o(f){T(a,f),i=!1},d(f){f&&y(e),a&&a.d(f),o=!1,Le(r)}}}function eo(t){let e,n,i,o,r,l;const a=t[7].default,s=ue(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},Rr(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=B(f,u[c]);return{c(){e=O(t[1]?"a":"button"),s&&s.c(),Lt(t[1]?"a":"button")(e,f)},m(c,d){w(c,e,d),s&&s.m(e,null),t[20](e),o=!0,r||(l=[j(e,"click",t[8]),j(e,"change",t[9]),j(e,"keydown",t[10]),j(e,"keyup",t[11]),j(e,"mouseenter",t[12]),j(e,"mouseleave",t[13]),Fe(i=Rc.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!o||d&64)&&ce(s,a,c,c[6],o?fe(a,c[6],d,null):de(c[6]),null),Lt(c[1]?"a":"button")(e,f=pe(u,[(!o||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!o||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&Rr(c[3]),d&32&&c[5],c[4]])),i&&Tt(i.update)&&d&8&&i.update.call(null,{builders:c[3]})},i(c){o||(A(s,c),o=!0)},o(c){T(s,c),o=!1},d(c){c&&y(e),s&&s.d(c),t[20](null),r=!1,Le(l)}}}function Dc(t){let e,n,i,o;const r=[$c,qc],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Ee()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(i.parentNode,i))},i(s){o||(A(n),o=!0)},o(s){T(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function Bc(t,e,n){const i=["href","type","builders","el"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(p){Z.call(this,t,p)}function h(p){Z.call(this,t,p)}function m(p){Z.call(this,t,p)}function _(p){Z.call(this,t,p)}function b(p){Z.call(this,t,p)}function C(p){Z.call(this,t,p)}function S(p){Z.call(this,t,p)}function N(p){Z.call(this,t,p)}function J(p){Z.call(this,t,p)}function q(p){Z.call(this,t,p)}function $(p){Z.call(this,t,p)}function H(p){Z.call(this,t,p)}function U(p){we[p?"unshift":"push"](()=>{f=p,n(0,f)})}return t.$$set=p=>{e=B(B({},e),ke(p)),n(5,o=ie(e,i)),"href"in p&&n(1,a=p.href),"type"in p&&n(2,s=p.type),"builders"in p&&n(3,u=p.builders),"el"in p&&n(0,f=p.el),"$$scope"in p&&n(6,l=p.$$scope)},[f,a,s,u,c,o,l,r,d,h,m,_,b,C,S,N,J,q,$,H,U]}let Gc=class extends me{constructor(e){super(),he(this,e,Bc,Dc,le,{href:1,type:2,builders:3,el:0})}};function jc(){return{NAME:"separator",PARTS:["root"]}}function Hc(t){const{NAME:e,PARTS:n}=jc(),i=Ki(e,n),o={...Mf(Ko(t)),getAttrs:i};return{...o,updateOption:Ni(o.options)}}const Vc=t=>({builder:t&4}),qr=t=>({builder:t[2]});function Wc(t){let e,n,i,o=[t[2],t[4]],r={};for(let l=0;l<o.length;l+=1)r=B(r,o[l]);return{c(){e=O("div"),re(e,r)},m(l,a){w(l,e,a),t[10](e),n||(i=Fe(t[2].action(e)),n=!0)},p(l,a){re(e,r=pe(o,[a&4&&l[2],a&16&&l[4]]))},i:ae,o:ae,d(l){l&&y(e),t[10](null),n=!1,i()}}}function Kc(t){let e;const n=t[9].default,i=ue(n,t,t[8],qr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&260)&&ce(i,n,o,o[8],e?fe(n,o[8],r,Vc):de(o[8]),qr)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Uc(t){let e,n,i,o;const r=[Kc,Wc],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Ee()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(i.parentNode,i))},i(s){o||(A(n),o=!0)},o(s){T(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function Jc(t,e,n){let i;const o=["orientation","decorative","asChild","el"];let r=ie(e,o),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:h},updateOption:m,getAttrs:_}=Hc({orientation:u,decorative:f});se(t,h,S=>n(7,l=S));const b=_("root");function C(S){we[S?"unshift":"push"](()=>{d=S,n(0,d)})}return t.$$set=S=>{e=B(B({},e),ke(S)),n(4,r=ie(e,o)),"orientation"in S&&n(5,u=S.orientation),"decorative"in S&&n(6,f=S.decorative),"asChild"in S&&n(1,c=S.asChild),"el"in S&&n(0,d=S.el),"$$scope"in S&&n(8,s=S.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&m("orientation",u),t.$$.dirty&64&&m("decorative",f),t.$$.dirty&128&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,b)},[d,c,i,h,r,u,f,l,s,a,C]}let Yc=class extends me{constructor(e){super(),he(this,e,Jc,Uc,le,{orientation:5,decorative:6,asChild:1,el:0})}};function ea(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function Xc(t){const{NAME:e,PARTS:n}=ea(),i=Ki(e,n),o={...xs({...Ko(t),role:"dialog",forceVisible:!0}),getAttrs:i};return Rs(e,o),{...o,updateOption:Ni(o.options)}}function yn(){const{NAME:t}=ea();return qs(t)}const Zc=t=>({ids:t&1}),$r=t=>({ids:t[0]});function Qc(t){let e;const n=t[12].default,i=ue(n,t,t[11],$r);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,[r]){i&&i.p&&(!e||r&2049)&&ce(i,n,o,o[11],e?fe(n,o[11],r,Zc):de(o[11]),$r)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function xc(t,e,n){let i,{$$slots:o={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:h=void 0}=e,{onOutsideClick:m=void 0}=e;const{states:{open:_},updateOption:b,ids:C}=Xc({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:h,onOutsideClick:m,onOpenChange:({next:N})=>(f!==N&&(c==null||c(N),n(2,f=N)),N)}),S=Jn([C.content,C.description,C.title],([N,J,q])=>({content:N,description:J,title:q}));return se(t,S,N=>n(0,i=N)),t.$$set=N=>{"preventScroll"in N&&n(3,l=N.preventScroll),"closeOnEscape"in N&&n(4,a=N.closeOnEscape),"closeOnOutsideClick"in N&&n(5,s=N.closeOnOutsideClick),"portal"in N&&n(6,u=N.portal),"open"in N&&n(2,f=N.open),"onOpenChange"in N&&n(7,c=N.onOpenChange),"openFocus"in N&&n(8,d=N.openFocus),"closeFocus"in N&&n(9,h=N.closeFocus),"onOutsideClick"in N&&n(10,m=N.onOutsideClick),"$$scope"in N&&n(11,r=N.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&b("preventScroll",l),t.$$.dirty&16&&b("closeOnEscape",a),t.$$.dirty&32&&b("closeOnOutsideClick",s),t.$$.dirty&64&&b("portal",u),t.$$.dirty&256&&b("openFocus",d),t.$$.dirty&512&&b("closeFocus",h),t.$$.dirty&1024&&b("onOutsideClick",m)},[i,S,f,l,a,s,u,c,d,h,m,r,o]}class zc extends me{constructor(e){super(),he(this,e,xc,Qc,le,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const ed=t=>({builder:t&8}),Dr=t=>({builder:t[3]}),td=t=>({builder:t&8}),Br=t=>({builder:t[3]});function nd(t){let e=t[1],n,i,o=t[1]&&to(t);return{c(){o&&o.c(),n=Ee()},m(r,l){o&&o.m(r,l),w(r,n,l),i=!0},p(r,l){r[1]?e?le(e,r[1])?(o.d(1),o=to(r),e=r[1],o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=to(r),e=r[1],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=r[1])},i(r){i||(A(o,r),i=!0)},o(r){T(o,r),i=!1},d(r){r&&y(n),o&&o.d(r)}}}function id(t){let e;const n=t[9].default,i=ue(n,t,t[8],Br);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&264)&&ce(i,n,o,o[8],e?fe(n,o[8],r,td):de(o[8]),Br)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function to(t){let e,n,i,o;const r=t[9].default,l=ue(r,t,t[8],Dr);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=B(s,a[u]);return{c(){e=O(t[1]),l&&l.c(),Lt(t[1])(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),t[10](e),n=!0,i||(o=Fe(t[3].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&264)&&ce(l,r,u,u[8],n?fe(r,u[8],f,ed):de(u[8]),Dr),Lt(u[1])(e,s=pe(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[10](null),i=!1,o()}}}function od(t){let e,n,i,o;const r=[id,nd],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Ee()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(i.parentNode,i))},i(s){o||(A(n),o=!0)},o(s){T(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function rd(t,e,n){let i;const o=["level","asChild","id","el"];let r=ie(e,o),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:h},ids:m,getAttrs:_}=yn();se(t,h,S=>n(7,l=S));const b=_("title");function C(S){we[S?"unshift":"push"](()=>{d=S,n(0,d)})}return t.$$set=S=>{e=B(B({},e),ke(S)),n(5,r=ie(e,o)),"level"in S&&n(1,u=S.level),"asChild"in S&&n(2,f=S.asChild),"id"in S&&n(6,c=S.id),"el"in S&&n(0,d=S.el),"$$scope"in S&&n(8,s=S.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&m.title.set(c),t.$$.dirty&128&&n(3,i=l),t.$$.dirty&8&&Object.assign(i,b)},[d,u,f,i,h,r,c,l,s,a,C]}let ld=class extends me{constructor(e){super(),he(this,e,rd,od,le,{level:1,asChild:2,id:6,el:0})}};const sd=t=>({builder:t&4}),Gr=t=>({builder:t[2]}),ad=t=>({builder:t&4}),jr=t=>({builder:t[2]});function ud(t){let e,n,i,o;const r=t[8].default,l=ue(r,t,t[7],Gr);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=B(s,a[u]);return{c(){e=O("button"),l&&l.c(),re(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,i||(o=[Fe(t[2].action(e)),j(e,"m-click",t[4]),j(e,"m-keydown",t[4])],i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ce(l,r,u,u[7],n?fe(r,u[7],f,sd):de(u[7]),Gr),re(e,s=pe(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[9](null),i=!1,Le(o)}}}function fd(t){let e;const n=t[8].default,i=ue(n,t,t[7],jr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&ce(i,n,o,o[7],e?fe(n,o[7],r,ad):de(o[7]),jr)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function cd(t){let e,n,i,o;const r=[fd,ud],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Ee()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(i.parentNode,i))},i(s){o||(A(n),o=!0)},o(s){T(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function dd(t,e,n){let i;const o=["asChild","el"];let r=ie(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=yn();se(t,c,b=>n(6,l=b));const h=Wo(),m=d("close");function _(b){we[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=B(B({},e),ke(b)),n(5,r=ie(e,o)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,m)},[f,u,i,c,h,r,l,s,a,_]}class pd extends me{constructor(e){super(),he(this,e,dd,cd,le,{asChild:1,el:0})}}const hd=t=>({builder:t&4}),Hr=t=>({builder:t[2]}),md=t=>({builder:t&4}),Vr=t=>({builder:t[2]});function _d(t){let e,n,i,o;const r=t[7].default,l=ue(r,t,t[6],Hr);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=B(s,a[u]);return{c(){e=O("div"),l&&l.c(),re(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),t[8](e),n=!0,i||(o=Fe(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&68)&&ce(l,r,u,u[6],n?fe(r,u[6],f,hd):de(u[6]),Hr),re(e,s=pe(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[8](null),i=!1,o()}}}function gd(t){let e;const n=t[7].default,i=ue(n,t,t[6],Vr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&68)&&ce(i,n,o,o[6],e?fe(n,o[6],r,md):de(o[6]),Vr)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function bd(t){let e,n,i,o;const r=[gd,_d],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Ee()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(i.parentNode,i))},i(s){o||(A(n),o=!0)},o(s){T(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function vd(t,e,n){let i;const o=["asChild","el"];let r=ie(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=yn();se(t,c,_=>n(5,l=_));const h=d("portal");function m(_){we[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=B(B({},e),ke(_)),n(4,r=ie(e,o)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,h)},[f,u,i,c,r,l,s,a,m]}let yd=class extends me{constructor(e){super(),he(this,e,vd,bd,le,{asChild:1,el:0})}};const wd=t=>({builder:t[0]&256}),Wr=t=>({builder:t[8]}),kd=t=>({builder:t[0]&256}),Kr=t=>({builder:t[8]}),Cd=t=>({builder:t[0]&256}),Ur=t=>({builder:t[8]}),Ad=t=>({builder:t[0]&256}),Jr=t=>({builder:t[8]}),Sd=t=>({builder:t[0]&256}),Yr=t=>({builder:t[8]}),Nd=t=>({builder:t[0]&256}),Xr=t=>({builder:t[8]});function Td(t){let e,n,i,o;const r=t[16].default,l=ue(r,t,t[15],Wr);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=B(s,a[u]);return{c(){e=O("div"),l&&l.c(),re(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),t[56](e),n=!0,i||(o=[Fe(t[8].action(e)),j(e,"pointerdown",t[45]),j(e,"pointermove",t[46]),j(e,"pointerup",t[47]),j(e,"touchend",t[48]),j(e,"touchstart",t[49]),j(e,"touchcancel",t[50]),j(e,"touchmove",t[51])],i=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&ce(l,r,u,u[15],n?fe(r,u[15],f,wd):de(u[15]),Wr),re(e,s=pe(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[56](null),i=!1,Le(o)}}}function Id(t){let e,n,i,o,r;const l=t[16].default,a=ue(l,t,t[15],Kr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=B(u,s[f]);return{c(){e=O("div"),a&&a.c(),re(e,u)},m(f,c){w(f,e,c),a&&a.m(e,null),t[55](e),i=!0,o||(r=[Fe(t[8].action(e)),j(e,"pointerdown",t[38]),j(e,"pointermove",t[39]),j(e,"pointerup",t[40]),j(e,"touchend",t[41]),j(e,"touchstart",t[42]),j(e,"touchcancel",t[43]),j(e,"touchmove",t[44])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&ce(a,l,t,t[15],i?fe(l,t[15],c,kd):de(t[15]),Kr),re(e,u=pe(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(A(a,f),n&&n.end(1),i=!0)},o(f){T(a,f),f&&(n=$t(e,t[5],t[6])),i=!1},d(f){f&&y(e),a&&a.d(f),t[55](null),f&&n&&n.end(),o=!1,Le(r)}}}function Ed(t){let e,n,i,o,r;const l=t[16].default,a=ue(l,t,t[15],Ur);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=B(u,s[f]);return{c(){e=O("div"),a&&a.c(),re(e,u)},m(f,c){w(f,e,c),a&&a.m(e,null),t[54](e),i=!0,o||(r=[Fe(t[8].action(e)),j(e,"pointerdown",t[31]),j(e,"pointermove",t[32]),j(e,"pointerup",t[33]),j(e,"touchend",t[34]),j(e,"touchstart",t[35]),j(e,"touchcancel",t[36]),j(e,"touchmove",t[37])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&ce(a,l,t,t[15],i?fe(l,t[15],c,Cd):de(t[15]),Ur),re(e,u=pe(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(A(a,f),f&&(n||Ze(()=>{n=qt(e,t[3],t[4]),n.start()})),i=!0)},o(f){T(a,f),i=!1},d(f){f&&y(e),a&&a.d(f),t[54](null),o=!1,Le(r)}}}function Md(t){let e,n,i,o,r,l;const a=t[16].default,s=ue(a,t,t[15],Jr);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=B(f,u[c]);return{c(){e=O("div"),s&&s.c(),re(e,f)},m(c,d){w(c,e,d),s&&s.m(e,null),t[53](e),o=!0,r||(l=[Fe(t[8].action(e)),j(e,"pointerdown",t[24]),j(e,"pointermove",t[25]),j(e,"pointerup",t[26]),j(e,"touchend",t[27]),j(e,"touchstart",t[28]),j(e,"touchcancel",t[29]),j(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!o||d[0]&33024)&&ce(s,a,t,t[15],o?fe(a,t[15],d,Ad):de(t[15]),Jr),re(e,f=pe(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){o||(A(s,c),c&&Ze(()=>{o&&(i&&i.end(1),n=qt(e,t[3],t[4]),n.start())}),o=!0)},o(c){T(s,c),n&&n.invalidate(),c&&(i=$t(e,t[5],t[6])),o=!1},d(c){c&&y(e),s&&s.d(c),t[53](null),c&&i&&i.end(),r=!1,Le(l)}}}function Pd(t){let e,n,i,o,r;const l=t[16].default,a=ue(l,t,t[15],Yr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=B(u,s[f]);return{c(){e=O("div"),a&&a.c(),re(e,u)},m(f,c){w(f,e,c),a&&a.m(e,null),t[52](e),i=!0,o||(r=[Fe(t[8].action(e)),j(e,"pointerdown",t[17]),j(e,"pointermove",t[18]),j(e,"pointerup",t[19]),j(e,"touchend",t[20]),j(e,"touchstart",t[21]),j(e,"touchcancel",t[22]),j(e,"touchmove",t[23])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&ce(a,l,t,t[15],i?fe(l,t[15],c,Sd):de(t[15]),Yr),re(e,u=pe(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(A(a,f),f&&Ze(()=>{i&&(n||(n=Ft(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(f){T(a,f),f&&(n||(n=Ft(e,t[1],t[2],!1)),n.run(0)),i=!1},d(f){f&&y(e),a&&a.d(f),t[52](null),f&&n&&n.end(),o=!1,Le(r)}}}function Od(t){let e;const n=t[16].default,i=ue(n,t,t[15],Xr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[0]&33024)&&ce(i,n,o,o[15],e?fe(n,o[15],r,Nd):de(o[15]),Xr)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Ld(t){let e,n,i,o;const r=[Od,Pd,Md,Ed,Id,Td],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Ee()},m(s,u){~e&&l[e].m(s,u),w(s,i,u),o=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(A(n),o=!0)},o(s){T(n),o=!1},d(s){s&&y(i),~e&&l[e].d(s)}}}function Fd(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=ie(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:b=!1}=e,{id:C=void 0}=e,{el:S=void 0}=e;const{elements:{content:N},states:{open:J},ids:q,getAttrs:$}=yn();se(t,N,I=>n(14,l=I)),se(t,J,I=>n(9,a=I));const H=$("content");function U(I){Z.call(this,t,I)}function p(I){Z.call(this,t,I)}function D(I){Z.call(this,t,I)}function E(I){Z.call(this,t,I)}function g(I){Z.call(this,t,I)}function v(I){Z.call(this,t,I)}function k(I){Z.call(this,t,I)}function L(I){Z.call(this,t,I)}function P(I){Z.call(this,t,I)}function F(I){Z.call(this,t,I)}function V(I){Z.call(this,t,I)}function z(I){Z.call(this,t,I)}function te(I){Z.call(this,t,I)}function K(I){Z.call(this,t,I)}function ne(I){Z.call(this,t,I)}function be(I){Z.call(this,t,I)}function x(I){Z.call(this,t,I)}function ee(I){Z.call(this,t,I)}function ge(I){Z.call(this,t,I)}function Se(I){Z.call(this,t,I)}function Be(I){Z.call(this,t,I)}function $e(I){Z.call(this,t,I)}function Me(I){Z.call(this,t,I)}function qe(I){Z.call(this,t,I)}function Ve(I){Z.call(this,t,I)}function dt(I){Z.call(this,t,I)}function tt(I){Z.call(this,t,I)}function He(I){Z.call(this,t,I)}function pt(I){Z.call(this,t,I)}function lt(I){Z.call(this,t,I)}function xe(I){Z.call(this,t,I)}function st(I){Z.call(this,t,I)}function Ye(I){Z.call(this,t,I)}function Re(I){Z.call(this,t,I)}function We(I){Z.call(this,t,I)}function Ge(I){we[I?"unshift":"push"](()=>{S=I,n(0,S)})}function ve(I){we[I?"unshift":"push"](()=>{S=I,n(0,S)})}function Ae(I){we[I?"unshift":"push"](()=>{S=I,n(0,S)})}function oe(I){we[I?"unshift":"push"](()=>{S=I,n(0,S)})}function De(I){we[I?"unshift":"push"](()=>{S=I,n(0,S)})}return t.$$set=I=>{e=B(B({},e),ke(I)),n(12,r=ie(e,o)),"transition"in I&&n(1,f=I.transition),"transitionConfig"in I&&n(2,c=I.transitionConfig),"inTransition"in I&&n(3,d=I.inTransition),"inTransitionConfig"in I&&n(4,h=I.inTransitionConfig),"outTransition"in I&&n(5,m=I.outTransition),"outTransitionConfig"in I&&n(6,_=I.outTransitionConfig),"asChild"in I&&n(7,b=I.asChild),"id"in I&&n(13,C=I.id),"el"in I&&n(0,S=I.el),"$$scope"in I&&n(15,u=I.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&C&&q.content.set(C),t.$$.dirty[0]&16384&&n(8,i=l),t.$$.dirty[0]&256&&Object.assign(i,H)},[S,f,c,d,h,m,_,b,i,a,N,J,r,C,l,u,s,U,p,D,E,g,v,k,L,P,F,V,z,te,K,ne,be,x,ee,ge,Se,Be,$e,Me,qe,Ve,dt,tt,He,pt,lt,xe,st,Ye,Re,We,Ge,ve,Ae,oe,De]}let Rd=class extends me{constructor(e){super(),he(this,e,Fd,Ld,le,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const qd=t=>({builder:t&256}),Zr=t=>({builder:t[8]});function $d(t){let e,n,i,o=[t[8],t[12]],r={};for(let l=0;l<o.length;l+=1)r=B(r,o[l]);return{c(){e=O("div"),re(e,r)},m(l,a){w(l,e,a),t[25](e),n||(i=[Fe(t[8].action(e)),j(e,"mouseup",t[20])],n=!0)},p(l,a){re(e,r=pe(o,[a&256&&l[8],a&4096&&l[12]]))},i:ae,o:ae,d(l){l&&y(e),t[25](null),n=!1,Le(i)}}}function Dd(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=B(a,l[s]);return{c(){e=O("div"),re(e,a)},m(s,u){w(s,e,u),t[24](e),i=!0,o||(r=[Fe(t[8].action(e)),j(e,"mouseup",t[19])],o=!0)},p(s,u){t=s,re(e,a=pe(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(n&&n.end(1),i=!0)},o(s){s&&(n=$t(e,t[5],t[6])),i=!1},d(s){s&&y(e),t[24](null),s&&n&&n.end(),o=!1,Le(r)}}}function Bd(t){let e,n,i,o,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=B(l,r[a]);return{c(){e=O("div"),re(e,l)},m(a,s){w(a,e,s),t[23](e),i||(o=[Fe(t[8].action(e)),j(e,"mouseup",t[18])],i=!0)},p(a,s){t=a,re(e,l=pe(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||Ze(()=>{n=qt(e,t[3],t[4]),n.start()}))},o:ae,d(a){a&&y(e),t[23](null),i=!1,Le(o)}}}function Gd(t){let e,n,i,o,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=B(s,a[u]);return{c(){e=O("div"),re(e,s)},m(u,f){w(u,e,f),t[22](e),o=!0,r||(l=[Fe(t[8].action(e)),j(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,re(e,s=pe(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){o||(u&&Ze(()=>{o&&(i&&i.end(1),n=qt(e,t[3],t[4]),n.start())}),o=!0)},o(u){n&&n.invalidate(),u&&(i=$t(e,t[5],t[6])),o=!1},d(u){u&&y(e),t[22](null),u&&i&&i.end(),r=!1,Le(l)}}}function jd(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=B(a,l[s]);return{c(){e=O("div"),re(e,a)},m(s,u){w(s,e,u),t[21](e),i=!0,o||(r=[j(e,"mouseup",t[16]),Fe(t[8].action(e))],o=!0)},p(s,u){t=s,re(e,a=pe(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(s&&Ze(()=>{i&&(n||(n=Ft(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(s){s&&(n||(n=Ft(e,t[1],t[2],!1)),n.run(0)),i=!1},d(s){s&&y(e),t[21](null),s&&n&&n.end(),o=!1,Le(r)}}}function Hd(t){let e;const n=t[15].default,i=ue(n,t,t[14],Zr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16640)&&ce(i,n,o,o[14],e?fe(n,o[14],r,qd):de(o[14]),Zr)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Vd(t){let e,n,i,o;const r=[Hd,jd,Gd,Bd,Dd,$d],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Ee()},m(s,u){~e&&l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(A(n),o=!0)},o(s){T(n),o=!1},d(s){s&&y(i),~e&&l[e].d(s)}}}function Wd(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ie(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:b=!1}=e,{el:C=void 0}=e;const{elements:{overlay:S},states:{open:N},getAttrs:J}=yn();se(t,S,P=>n(13,l=P)),se(t,N,P=>n(9,a=P));const q=J("overlay");function $(P){Z.call(this,t,P)}function H(P){Z.call(this,t,P)}function U(P){Z.call(this,t,P)}function p(P){Z.call(this,t,P)}function D(P){Z.call(this,t,P)}function E(P){we[P?"unshift":"push"](()=>{C=P,n(0,C)})}function g(P){we[P?"unshift":"push"](()=>{C=P,n(0,C)})}function v(P){we[P?"unshift":"push"](()=>{C=P,n(0,C)})}function k(P){we[P?"unshift":"push"](()=>{C=P,n(0,C)})}function L(P){we[P?"unshift":"push"](()=>{C=P,n(0,C)})}return t.$$set=P=>{e=B(B({},e),ke(P)),n(12,r=ie(e,o)),"transition"in P&&n(1,f=P.transition),"transitionConfig"in P&&n(2,c=P.transitionConfig),"inTransition"in P&&n(3,d=P.inTransition),"inTransitionConfig"in P&&n(4,h=P.inTransitionConfig),"outTransition"in P&&n(5,m=P.outTransition),"outTransitionConfig"in P&&n(6,_=P.outTransitionConfig),"asChild"in P&&n(7,b=P.asChild),"el"in P&&n(0,C=P.el),"$$scope"in P&&n(14,u=P.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,i=l),t.$$.dirty&256&&Object.assign(i,q)},[C,f,c,d,h,m,_,b,i,a,S,N,r,l,u,s,$,H,U,p,D,E,g,v,k,L]}let Kd=class extends me{constructor(e){super(),he(this,e,Wd,Vd,le,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Ud=t=>({builder:t&4}),Qr=t=>({builder:t[2]}),Jd=t=>({builder:t&4}),xr=t=>({builder:t[2]});function Yd(t){let e,n,i,o;const r=t[8].default,l=ue(r,t,t[7],Qr);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=B(s,a[u]);return{c(){e=O("div"),l&&l.c(),re(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),t[9](e),n=!0,i||(o=Fe(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ce(l,r,u,u[7],n?fe(r,u[7],f,Ud):de(u[7]),Qr),re(e,s=pe(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[9](null),i=!1,o()}}}function Xd(t){let e;const n=t[8].default,i=ue(n,t,t[7],xr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&ce(i,n,o,o[7],e?fe(n,o[7],r,Jd):de(o[7]),xr)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Zd(t){let e,n,i,o;const r=[Xd,Yd],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Ee()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(i.parentNode,i))},i(s){o||(A(n),o=!0)},o(s){T(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function Qd(t,e,n){let i;const o=["asChild","id","el"];let r=ie(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:h,getAttrs:m}=yn();se(t,d,C=>n(6,l=C));const _=m("description");function b(C){we[C?"unshift":"push"](()=>{c=C,n(0,c)})}return t.$$set=C=>{e=B(B({},e),ke(C)),n(4,r=ie(e,o)),"asChild"in C&&n(1,u=C.asChild),"id"in C&&n(5,f=C.id),"el"in C&&n(0,c=C.el),"$$scope"in C&&n(7,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&h.description.set(f),t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,_)},[c,u,i,d,r,f,l,s,a,b]}let xd=class extends me{constructor(e){super(),he(this,e,Qd,Zd,le,{asChild:1,id:5,el:0})}};function zd(){const t="label",n=Ki(t,["root"]);return{NAME:t,getAttrs:n}}const ep=t=>({builder:t&4}),zr=t=>({builder:t[2]}),tp=t=>({builder:t&4}),el=t=>({builder:t[2]});function np(t){let e,n,i,o;const r=t[8].default,l=ue(r,t,t[7],zr);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=B(s,a[u]);return{c(){e=O("label"),l&&l.c(),re(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),t[9](e),n=!0,i||(o=[Fe(t[2].action(e)),j(e,"m-mousedown",t[4])],i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ce(l,r,u,u[7],n?fe(r,u[7],f,ep):de(u[7]),zr),re(e,s=pe(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[9](null),i=!1,Le(o)}}}function ip(t){let e;const n=t[8].default,i=ue(n,t,t[7],el);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&ce(i,n,o,o[7],e?fe(n,o[7],r,tp):de(o[7]),el)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function op(t){let e,n,i,o;const r=[ip,np],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Ee()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(i.parentNode,i))},i(s){o||(A(n),o=!0)},o(s){T(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function rp(t,e,n){let i;const o=["asChild","el"];let r=ie(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=Sf();se(t,c,b=>n(6,l=b));const d=Wo(),{getAttrs:h}=zd(),m=h("root");function _(b){we[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=B(B({},e),ke(b)),n(5,r=ie(e,o)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,m)},[f,u,i,c,d,r,l,s,a,_]}let lp=class extends me{constructor(e){super(),he(this,e,rp,op,le,{asChild:1,el:0})}};function ta(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=ta(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function sp(){for(var t,e,n=0,i="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=ta(t))&&(i&&(i+=" "),i+=e);return i}const Uo="-";function ap(t){const e=fp(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;function o(l){const a=l.split(Uo);return a[0]===""&&a.length!==1&&a.shift(),na(a,e)||up(l)}function r(l,a){const s=n[l]||[];return a&&i[l]?[...s,...i[l]]:s}return{getClassGroupId:o,getConflictingClassGroupIds:r}}function na(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),o=i?na(t.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const r=t.join(Uo);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const tl=/^\[(.+)\]$/;function up(t){if(tl.test(t)){const e=tl.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function fp(t){const{theme:e,prefix:n}=t,i={nextPart:new Map,validators:[]};return dp(Object.entries(t.classGroups),n).forEach(([r,l])=>{_o(l,i,r,e)}),i}function _o(t,e,n,i){t.forEach(o=>{if(typeof o=="string"){const r=o===""?e:nl(e,o);r.classGroupId=n;return}if(typeof o=="function"){if(cp(o)){_o(o(i),e,n,i);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([r,l])=>{_o(l,nl(e,r),n,i)})})}function nl(t,e){let n=t;return e.split(Uo).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n}function cp(t){return t.isThemeGetter}function dp(t,e){return e?t.map(([n,i])=>{const o=i.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,o]}):t}function pp(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;function o(r,l){n.set(r,l),e++,e>t&&(e=0,i=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=i.get(r))!==void 0)return o(r,l),l},set(r,l){n.has(r)?n.set(r,l):o(r,l)}}}const ia="!";function hp(t){const e=t.separator,n=e.length===1,i=e[0],o=e.length;return function(l){const a=[];let s=0,u=0,f;for(let _=0;_<l.length;_++){let b=l[_];if(s===0){if(b===i&&(n||l.slice(_,_+o)===e)){a.push(l.slice(u,_)),u=_+o;continue}if(b==="/"){f=_;continue}}b==="["?s++:b==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(ia),h=d?c.substring(1):c,m=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:m}}}function mp(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(i=>{i[0]==="["?(e.push(...n.sort(),i),n=[]):n.push(i)}),e.push(...n.sort()),e}function _p(t){return{cache:pp(t.cacheSize),splitModifiers:hp(t),...ap(t)}}const gp=/\s+/;function bp(t,e){const{splitModifiers:n,getClassGroupId:i,getConflictingClassGroupIds:o}=e,r=new Set;return t.trim().split(gp).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=i(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=i(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const h=mp(a).join(":");return{isTailwindClass:!0,modifierId:s?h+ia:h,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),o(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function vp(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=oa(e))&&(i&&(i+=" "),i+=n);return i}function oa(t){if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=oa(t[i]))&&(n&&(n+=" "),n+=e);return n}function go(t,...e){let n,i,o,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=_p(u),i=n.cache.get,o=n.cache.set,r=a,a(s)}function a(s){const u=i(s);if(u)return u;const f=bp(s,n);return o(s,f),f}return function(){return r(vp.apply(null,arguments))}}function je(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const ra=/^\[(?:([a-z-]+):)?(.+)\]$/i,yp=/^\d+\/\d+$/,wp=new Set(["px","full","screen"]),kp=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Cp=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ap=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Sp=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Np=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function vt(t){return Ht(t)||wp.has(t)||yp.test(t)}function Et(t){return wn(t,"length",Fp)}function Ht(t){return!!t&&!Number.isNaN(Number(t))}function ti(t){return wn(t,"number",Ht)}function Tn(t){return!!t&&Number.isInteger(Number(t))}function Tp(t){return t.endsWith("%")&&Ht(t.slice(0,-1))}function ye(t){return ra.test(t)}function Mt(t){return kp.test(t)}const Ip=new Set(["length","size","percentage"]);function Ep(t){return wn(t,Ip,la)}function Mp(t){return wn(t,"position",la)}const Pp=new Set(["image","url"]);function Op(t){return wn(t,Pp,qp)}function Lp(t){return wn(t,"",Rp)}function In(){return!0}function wn(t,e,n){const i=ra.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):n(i[2]):!1}function Fp(t){return Cp.test(t)&&!Ap.test(t)}function la(){return!1}function Rp(t){return Sp.test(t)}function qp(t){return Np.test(t)}function bo(){const t=je("colors"),e=je("spacing"),n=je("blur"),i=je("brightness"),o=je("borderColor"),r=je("borderRadius"),l=je("borderSpacing"),a=je("borderWidth"),s=je("contrast"),u=je("grayscale"),f=je("hueRotate"),c=je("invert"),d=je("gap"),h=je("gradientColorStops"),m=je("gradientColorStopPositions"),_=je("inset"),b=je("margin"),C=je("opacity"),S=je("padding"),N=je("saturate"),J=je("scale"),q=je("sepia"),$=je("skew"),H=je("space"),U=je("translate"),p=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",ye,e],g=()=>[ye,e],v=()=>["",vt,Et],k=()=>["auto",Ht,ye],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],P=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],V=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",ye],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Ht,ti],ne=()=>[Ht,ye];return{cacheSize:500,separator:":",theme:{colors:[In],spacing:[vt,Et],blur:["none","",Mt,ye],brightness:K(),borderColor:[t],borderRadius:["none","","full",Mt,ye],borderSpacing:g(),borderWidth:v(),contrast:K(),grayscale:z(),hueRotate:ne(),invert:z(),gap:g(),gradientColorStops:[t],gradientColorStopPositions:[Tp,Et],inset:E(),margin:E(),opacity:K(),padding:g(),saturate:K(),scale:K(),sepia:z(),skew:ne(),space:g(),translate:g()},classGroups:{aspect:[{aspect:["auto","square","video",ye]}],container:["container"],columns:[{columns:[Mt]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),ye]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:p()}],"overscroll-x":[{"overscroll-x":p()}],"overscroll-y":[{"overscroll-y":p()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Tn,ye]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ye]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Tn,ye]}],"grid-cols":[{"grid-cols":[In]}],"col-start-end":[{col:["auto",{span:["full",Tn,ye]},ye]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[In]}],"row-start-end":[{row:["auto",{span:[Tn,ye]},ye]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ye]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[H]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[H]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ye,e]}],"min-w":[{"min-w":[ye,e,"min","max","fit"]}],"max-w":[{"max-w":[ye,e,"none","full","min","max","fit","prose",{screen:[Mt]},Mt]}],h:[{h:[ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Mt,Et]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ti]}],"font-family":[{font:[In]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ye]}],"line-clamp":[{"line-clamp":["none",Ht,ti]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vt,ye]}],"list-image":[{"list-image":["none",ye]}],"list-style-type":[{list:["none","disc","decimal",ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vt,Et]}],"underline-offset":[{"underline-offset":["auto",vt,ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:g()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),Mp]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ep]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Op]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...P(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:P()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...P()]}],"outline-offset":[{"outline-offset":[vt,ye]}],"outline-w":[{outline:[vt,Et]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:v()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[vt,Et]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Mt,Lp]}],"shadow-color":[{shadow:[In]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":F()}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",Mt,ye]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[N]}],sepia:[{sepia:[q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ye]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",ye]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[J]}],"scale-x":[{"scale-x":[J]}],"scale-y":[{"scale-y":[J]}],rotate:[{rotate:[Tn,ye]}],"translate-x":[{"translate-x":[U]}],"translate-y":[{"translate-y":[U]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":g()}],"scroll-mx":[{"scroll-mx":g()}],"scroll-my":[{"scroll-my":g()}],"scroll-ms":[{"scroll-ms":g()}],"scroll-me":[{"scroll-me":g()}],"scroll-mt":[{"scroll-mt":g()}],"scroll-mr":[{"scroll-mr":g()}],"scroll-mb":[{"scroll-mb":g()}],"scroll-ml":[{"scroll-ml":g()}],"scroll-p":[{"scroll-p":g()}],"scroll-px":[{"scroll-px":g()}],"scroll-py":[{"scroll-py":g()}],"scroll-ps":[{"scroll-ps":g()}],"scroll-pe":[{"scroll-pe":g()}],"scroll-pt":[{"scroll-pt":g()}],"scroll-pr":[{"scroll-pr":g()}],"scroll-pb":[{"scroll-pb":g()}],"scroll-pl":[{"scroll-pl":g()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[vt,Et,ti]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function $p(t,{cacheSize:e,prefix:n,separator:i,extend:o={},override:r={}}){ui(t,"cacheSize",e),ui(t,"prefix",n),ui(t,"separator",i);for(const l in r)Dp(t[l],r[l]);for(const l in o)Bp(t[l],o[l]);return t}function ui(t,e,n){n!==void 0&&(t[e]=n)}function Dp(t,e){if(e)for(const n in e)ui(t,n,e[n])}function Bp(t,e){if(e)for(const n in e){const i=e[n];i!==void 0&&(t[n]=(t[n]||[]).concat(i))}}function Gp(t,...e){return typeof t=="function"?go(bo,t,...e):go(()=>$p(bo(),t),...e)}const sa=go(bo);function jp(t){const e=t-1;return e*e*e+1}function Ie(...t){return sa(sp(t))}const Jo=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),i=n.transform==="none"?"":n.transform,o=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=o(l,[0,1],[e.y??5,0]),s=o(l,[0,1],[e.x??0,0]),u=o(l,[0,1],[e.start??.95,1]);return r({transform:`${i} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:jp}};function at(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Hp(t){let e;const n=t[2].default,i=ue(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&ce(i,n,o,o[3],e?fe(n,o[3],r,null):de(o[3]),null)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Vp(t){let e,n;const i=[{class:Ie("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let o={$$slots:{default:[Hp]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=B(o,i[r]);return e=new ld({props:o}),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?pe(i,[l&1&&{class:Ie("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&et(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Wp(t,e,n){const i=["class"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=B(B({},e),ke(s)),n(1,o=ie(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,o,r,l]}class Qt extends me{constructor(e){super(),he(this,e,Wp,Vp,le,{class:0})}}function Kp(t){let e;const n=t[1].default,i=ue(n,t,t[2],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&4)&&ce(i,n,o,o[2],e?fe(n,o[2],r,null):de(o[2]),null)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Up(t){let e,n;const i=[t[0]];let o={$$slots:{default:[Kp]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=B(o,i[r]);return e=new yd({props:o}),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&1?pe(i,[et(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Jp(t,e,n){const i=[];let o=ie(e,i),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=B(B({},e),ke(a)),n(0,o=ie(e,i)),"$$scope"in a&&n(2,l=a.$$scope)},[o,r,l]}class Yp extends me{constructor(e){super(),he(this,e,Jp,Up,le,{})}}function Xp(t){let e,n,i;const o=t[3].default,r=ue(o,t,t[2],null);let l=[{class:n=Ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=B(a,l[s]);return{c(){e=O("div"),r&&r.c(),re(e,a)},m(s,u){w(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&ce(r,o,s,s[2],i?fe(o,s[2],u,null):de(s[2]),null),re(e,a=pe(l,[(!i||u&1&&n!==(n=Ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(A(r,s),i=!0)},o(s){T(r,s),i=!1},d(s){s&&y(e),r&&r.d(s)}}}function Zp(t,e,n){const i=["class"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=B(B({},e),ke(s)),n(1,o=ie(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class kn extends me{constructor(e){super(),he(this,e,Zp,Xp,le,{class:0})}}function Qp(t){let e,n,i;const o=t[3].default,r=ue(o,t,t[2],null);let l=[{class:n=Ie("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=B(a,l[s]);return{c(){e=O("div"),r&&r.c(),re(e,a)},m(s,u){w(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&ce(r,o,s,s[2],i?fe(o,s[2],u,null):de(s[2]),null),re(e,a=pe(l,[(!i||u&1&&n!==(n=Ie("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(A(r,s),i=!0)},o(s){T(r,s),i=!1},d(s){s&&y(e),r&&r.d(s)}}}function xp(t,e,n){const i=["class"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=B(B({},e),ke(s)),n(1,o=ie(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class xt extends me{constructor(e){super(),he(this,e,xp,Qp,le,{class:0})}}function aa(t,{delay:e=0,duration:n=400,easing:i=ji}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:r=>`opacity: ${r*o}`}}function zp(t){let e,n;const i=[{transition:t[1]},{transitionConfig:t[2]},{class:Ie("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let o={};for(let r=0;r<i.length;r+=1)o=B(o,i[r]);return e=new Kd({props:o}),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?pe(i,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Ie("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&et(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function eh(t,e,n){const i=["class","transition","transitionConfig"];let o=ie(e,i),{class:r=void 0}=e,{transition:l=aa}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=B(B({},e),ke(s)),n(3,o=ie(e,i)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,o]}class th extends me{constructor(e){super(),he(this,e,eh,zp,le,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},il=nh;function ol(t,e,n){const i=t.slice();return i[10]=e[n][0],i[11]=e[n][1],i}function no(t){let e,n=[t[11]],i={};for(let o=0;o<n.length;o+=1)i=B(i,n[o]);return{c(){e=Hi(t[10]),hi(e,i)},m(o,r){w(o,e,r)},p(o,r){hi(e,i=pe(n,[r&32&&o[11]]))},d(o){o&&y(e)}}}function rl(t){let e=t[10],n,i=t[10]&&no(t);return{c(){i&&i.c(),n=Ee()},m(o,r){i&&i.m(o,r),w(o,n,r)},p(o,r){o[10]?e?le(e,o[10])?(i.d(1),i=no(o),e=o[10],i.c(),i.m(n.parentNode,n)):i.p(o,r):(i=no(o),e=o[10],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=o[10])},d(o){o&&y(n),i&&i.d(o)}}}function ih(t){let e,n,i,o,r,l=Ue(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=rl(ol(t,l,d));const s=t[9].default,u=ue(s,t,t[8],null);let f=[il,t[6],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":i=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:o=`lucide-icon lucide lucide-${t[0]} ${t[7].class??""}`}],c={};for(let d=0;d<f.length;d+=1)c=B(c,f[d]);return{c(){e=Hi("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=Ee(),u&&u.c(),hi(e,c)},m(d,h){w(d,e,h);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(e,null);M(e,n),u&&u.m(e,null),r=!0},p(d,[h]){if(h&32){l=Ue(d[5]);let m;for(m=0;m<l.length;m+=1){const _=ol(d,l,m);a[m]?a[m].p(_,h):(a[m]=rl(_),a[m].c(),a[m].m(e,n))}for(;m<a.length;m+=1)a[m].d(1);a.length=l.length}u&&u.p&&(!r||h&256)&&ce(u,s,d,d[8],r?fe(s,d[8],h,null):de(d[8]),null),hi(e,c=pe(f,[il,h&64&&d[6],(!r||h&4)&&{width:d[2]},(!r||h&4)&&{height:d[2]},(!r||h&2)&&{stroke:d[1]},(!r||h&28&&i!==(i=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":i},(!r||h&129&&o!==(o=`lucide-icon lucide lucide-${d[0]} ${d[7].class??""}`))&&{class:o}]))},i(d){r||(A(u,d),r=!0)},o(d){T(u,d),r=!1},d(d){d&&y(e),gt(a,d),u&&u.d(d)}}}function oh(t,e,n){const i=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{name:a}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;return t.$$set=h=>{n(7,e=B(B({},e),ke(h))),n(6,o=ie(e,i)),"name"in h&&n(0,a=h.name),"color"in h&&n(1,s=h.color),"size"in h&&n(2,u=h.size),"strokeWidth"in h&&n(3,f=h.strokeWidth),"absoluteStrokeWidth"in h&&n(4,c=h.absoluteStrokeWidth),"iconNode"in h&&n(5,d=h.iconNode),"$$scope"in h&&n(8,l=h.$$scope)},e=ke(e),[a,s,u,f,c,d,o,e,l,r]}class rh extends me{constructor(e){super(),he(this,e,oh,ih,le,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function lh(t){let e;const n=t[2].default,i=ue(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&ce(i,n,o,o[3],e?fe(n,o[3],r,null):de(o[3]),null)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function sh(t){let e,n;const i=[{name:"x"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[lh]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=B(o,i[r]);return e=new rh({props:o}),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?pe(i,[i[0],l&2&&et(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function ah(t,e,n){let{$$slots:i={},$$scope:o}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=B(B({},e),ke(l))),"$$scope"in l&&n(3,o=l.$$scope)},e=ke(e),[r,e,i,o]}class uh extends me{constructor(e){super(),he(this,e,ah,sh,le,{})}}function fh(t){let e,n,i,o;return e=new uh({props:{class:"h-4 w-4"}}),{c(){Q(e.$$.fragment),n=W(),i=O("span"),i.textContent="Close",R(i,"class","sr-only")},m(r,l){Y(e,r,l),w(r,n,l),w(r,i,l),o=!0},p:ae,i(r){o||(A(e.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),o=!1},d(r){r&&(y(n),y(i)),X(e,r)}}}function ch(t){let e,n,i;const o=t[4].default,r=ue(o,t,t[5],null);return n=new pd({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[fh]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=W(),Q(n.$$.fragment)},m(l,a){r&&r.m(l,a),w(l,e,a),Y(n,l,a),i=!0},p(l,a){r&&r.p&&(!i||a&32)&&ce(r,o,l,l[5],i?fe(o,l[5],a,null):de(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){i||(A(r,l),A(n.$$.fragment,l),i=!0)},o(l){T(r,l),T(n.$$.fragment,l),i=!1},d(l){l&&y(e),r&&r.d(l),X(n,l)}}}function dh(t){let e,n,i,o;e=new th({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let l={$$slots:{default:[ch]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=B(l,r[a]);return i=new Rd({props:l}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(a,s){Y(e,a,s),w(a,n,s),Y(i,a,s),o=!0},p(a,s){const u=s&15?pe(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&et(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),i.$set(u)},i(a){o||(A(e.$$.fragment,a),A(i.$$.fragment,a),o=!0)},o(a){T(e.$$.fragment,a),T(i.$$.fragment,a),o=!1},d(a){a&&y(n),X(e,a),X(i,a)}}}function ph(t){let e,n;return e=new Yp({props:{$$slots:{default:[dh]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,[o]){const r={};o&47&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function hh(t,e,n){const i=["class","transition","transitionConfig"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=Jo}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=B(B({},e),ke(f)),n(3,o=ie(e,i)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,o,r,l]}class zt extends me{constructor(e){super(),he(this,e,hh,ph,le,{class:0,transition:1,transitionConfig:2})}}function mh(t){let e;const n=t[2].default,i=ue(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&ce(i,n,o,o[3],e?fe(n,o[3],r,null):de(o[3]),null)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function _h(t){let e,n;const i=[{class:Ie("text-sm text-muted-foreground",t[0])},t[1]];let o={$$slots:{default:[mh]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=B(o,i[r]);return e=new xd({props:o}),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?pe(i,[l&1&&{class:Ie("text-sm text-muted-foreground",r[0])},l&2&&et(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function gh(t,e,n){const i=["class"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=B(B({},e),ke(s)),n(1,o=ie(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,o,r,l]}class en extends me{constructor(e){super(),he(this,e,gh,_h,le,{class:0})}}const tn=zc;function bh(t){let e,n;const i=[{class:Ie("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let o={};for(let r=0;r<i.length;r+=1)o=B(o,i[r]);return e=new Yc({props:o}),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?pe(i,[l&3&&{class:Ie("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&et(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function vh(t,e,n){const i=["class","orientation","decorative"];let o=ie(e,i),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=B(B({},e),ke(s)),n(3,o=ie(e,i)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,o]}class Ti extends me{constructor(e){super(),he(this,e,vh,bh,le,{class:0,orientation:1,decorative:2})}}function yh(t){let e,n,i,o,r=[{class:n=Ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=B(l,r[a]);return{c(){e=O("input"),re(e,l)},m(a,s){w(a,e,s),e.autofocus&&e.focus(),kt(e,t[0]),i||(o=[j(e,"input",t[17]),j(e,"blur",t[3]),j(e,"change",t[4]),j(e,"click",t[5]),j(e,"focus",t[6]),j(e,"focusin",t[7]),j(e,"focusout",t[8]),j(e,"keydown",t[9]),j(e,"keypress",t[10]),j(e,"keyup",t[11]),j(e,"mouseover",t[12]),j(e,"mouseenter",t[13]),j(e,"mouseleave",t[14]),j(e,"paste",t[15]),j(e,"input",t[16])],i=!0)},p(a,[s]){re(e,l=pe(r,[s&2&&n!==(n=Ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&kt(e,a[0])},i:ae,o:ae,d(a){a&&y(e),i=!1,Le(o)}}}function wh(t,e,n){const i=["class","value"];let o=ie(e,i),{class:r=void 0}=e,{value:l=void 0}=e;function a($){Z.call(this,t,$)}function s($){Z.call(this,t,$)}function u($){Z.call(this,t,$)}function f($){Z.call(this,t,$)}function c($){Z.call(this,t,$)}function d($){Z.call(this,t,$)}function h($){Z.call(this,t,$)}function m($){Z.call(this,t,$)}function _($){Z.call(this,t,$)}function b($){Z.call(this,t,$)}function C($){Z.call(this,t,$)}function S($){Z.call(this,t,$)}function N($){Z.call(this,t,$)}function J($){Z.call(this,t,$)}function q(){l=this.value,n(0,l)}return t.$$set=$=>{e=B(B({},e),ke($)),n(2,o=ie(e,i)),"class"in $&&n(1,r=$.class),"value"in $&&n(0,l=$.value)},[l,r,o,a,s,u,f,c,d,h,m,_,b,C,S,N,J,q]}class Yo extends me{constructor(e){super(),he(this,e,wh,yh,le,{class:1,value:0})}}function ll(t,e,n){const i=t.slice();return i[8]=e[n],i}function sl(t){let e,n=t[8].subtitle+"",i;return{c(){e=new ru(!1),i=Ee(),e.a=i},m(o,r){e.m(n,o,r),w(o,i,r)},p(o,r){r&1&&n!==(n=o[8].subtitle+"")&&e.p(n)},d(o){o&&(y(i),e.d())}}}function al(t){let e,n,i=t[8].label+"",o,r,l,a=t[8].value+"",s,u,f,c,d,h,m=t[8].subtitle!=null&&sl(t);return{c(){e=O("div"),n=O("span"),o=G(i),r=W(),l=O("span"),s=G(a),u=W(),m&&m.c(),f=W(),R(n,"class","text-xs pl-4 pr-4 rounded-lg"),R(l,"class","text-xs text-slate-500"),R(e,"class",c="flex flex-col items-center text-center flex-1 "+(t[2]=="true"?"cursor-pointer":""))},m(_,b){w(_,e,b),M(e,n),M(n,o),M(e,r),M(e,l),M(l,s),M(l,u),m&&m.m(l,null),M(e,f),d||(h=j(e,"click",function(){Tt(t[2]=="true"?t[8].tap:null)&&(t[2]=="true"?t[8].tap:null).apply(this,arguments)}),d=!0)},p(_,b){t=_,b&1&&i!==(i=t[8].label+"")&&_e(o,i),b&1&&a!==(a=t[8].value+"")&&_e(s,a),t[8].subtitle!=null?m?m.p(t,b):(m=sl(t),m.c(),m.m(l,null)):m&&(m.d(1),m=null),b&4&&c!==(c="flex flex-col items-center text-center flex-1 "+(t[2]=="true"?"cursor-pointer":""))&&R(e,"class",c)},d(_){_&&y(e),m&&m.d(),d=!1,h()}}}function kh(t){let e,n,i=Ue(t[0]),o=[];for(let r=0;r<i.length;r+=1)o[r]=al(ll(t,i,r));return{c(){e=O("div");for(let r=0;r<o.length;r+=1)o[r].c();R(e,"class",n="flex flex-row justify-between pr-5 pl-5 "+t[1])},m(r,l){w(r,e,l);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null)},p(r,[l]){if(l&5){i=Ue(r[0]);let a;for(a=0;a<i.length;a+=1){const s=ll(r,i,a);o[a]?o[a].p(s,l):(o[a]=al(s),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}l&2&&n!==(n="flex flex-row justify-between pr-5 pl-5 "+r[1])&&R(e,"class",n)},i:ae,o:ae,d(r){r&&y(e),gt(o,r)}}}function wt(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function Ch(t,e,n){let i,o,r;se(t,Te,f=>n(5,i=f)),se(t,yi,f=>n(6,o=f)),se(t,wi,f=>n(7,r=f));let{stats:l=[]}=e,{classText:a=""}=e,{clickEvents:s="true"}=e;function u(){let f=i;f.hasBank===!0?(f.townInfo.gold+=f.townInfo.gold_from_tourism,f.townInfo.gold_from_tourism=0,Te.set(f),localStorage.setItem(rt,JSON.stringify(f))):alert("You need a bank to transfer funds from tourism activities.")}return t.$$set=f=>{"stats"in f&&n(0,l=f.stats),"classText"in f&&n(1,a=f.classText),"clickEvents"in f&&n(2,s=f.clickEvents)},t.$$.update=()=>{t.$$.dirty&228&&n(0,l=[{label:"Population",value:`${at(i.townInfo.population_count)}/${at(i.townInfo.population_max)}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${i.townInfo.population_count<i.townInfo.population_max?"text-red-500":"text-green-500"}
					'>
					${at(i.townInfo.population_max-i.townInfo.population_count)}
				</span>`,tap:()=>{}},{label:"Employees",value:`${at(i.townInfo.employees)}/${at(i.townInfo.population_count)}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${i.townInfo.employees<i.townInfo.population_count?"text-red-500":"text-green-500"}
					'>
					${at(i.townInfo.population_count-i.townInfo.employees)}
				</span>`,tap:()=>{}},{label:"Knowledge",value:at(i.townInfo.knowledge_points)+`${s=="true"?" (click me)":""}`,tap:()=>{Ce(wi,r=!r,r)}},{label:"Gold",value:"$"+at(wt(i.townInfo.gold,0)),subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${i.economyAndLaws.last_month_profit<0?"text-red-500":"text-green-500"}
					'>
					${at(wt(i.economyAndLaws.last_month_profit,0))}
				</span>`,tap:()=>{Ce(yi,o=!o,o)}},{label:"Tourism 💰",value:"$"+at(wt(i.townInfo.gold_from_tourism,0)),tap:()=>{u()}},{label:"Happiness",value:`${wt(i.townInfo.happiness/3,0)}/100`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs text-slate-600
						${i.townInfo.happiness<50?"text-red-500":"text-green-500"}
					'>
					${i.modifiers.happiness<1?"🔴":"🟢"} (${wt(i.modifiers.happiness,2)}x)
				</span>`,tap:()=>{}},{label:"Health",value:`${wt(i.townInfo.health/3,0)}/100`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs text-slate-600
						${i.townInfo.health<50?"text-red-500":"text-green-500"}
					'>
					${i.modifiers.health<1?"🔴":"🟢"} (${wt(i.modifiers.health,2)}x)
				</span>`,tap:()=>{}}])},[l,a,s,wt,u,i,o,r]}class ua extends me{constructor(e){super(),he(this,e,Ch,kh,le,{stats:0,classText:1,clickEvents:2,roundTo:3,transferFundsFromBank:4})}get roundTo(){return wt}get transferFundsFromBank(){return this.$$.ctx[4]}}function ul(t,e,n){const i=t.slice();return i[28]=e[n],i}function fl(t,e,n){const i=t.slice();return i[31]=e[n],i}function cl(t,e,n){const i=t.slice();return i[28]=e[n],i}function Ah(t){let e,n;return{c(){e=O("span"),n=G("Set this Plot"),R(e,"class","text-2xl font-bold")},m(i,o){w(i,e,o),w(i,n,o)},p:ae,d(i){i&&(y(e),y(n))}}}function dl(t){let e,n;return e=new en({props:{class:"text-sm",$$slots:{default:[Sh]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o[0]&2|o[1]&32&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Sh(t){let e;return{c(){e=G(t[1])},m(n,i){w(n,e,i)},p(n,i){i[0]&2&&_e(e,n[1])},d(n){n&&y(e)}}}function Nh(t){let e,n,i,o,r,l,a,s,u;e=new Qt({props:{class:"text-2xl font-bold",$$slots:{default:[Ah]},$$scope:{ctx:t}}});let f=t[1]!==""&&dl(t);return l=new ua({props:{classText:"w-full",clickEvents:"false"}}),{c(){Q(e.$$.fragment),n=W(),f&&f.c(),i=W(),o=O("div"),r=W(),Q(l.$$.fragment),a=W(),s=O("div"),R(o,"class","mt-4"),R(s,"class","mb-4")},m(c,d){Y(e,c,d),w(c,n,d),f&&f.m(c,d),w(c,i,d),w(c,o,d),w(c,r,d),Y(l,c,d),w(c,a,d),w(c,s,d),u=!0},p(c,d){const h={};d[1]&32&&(h.$$scope={dirty:d,ctx:c}),e.$set(h),c[1]!==""?f?(f.p(c,d),d[0]&2&&A(f,1)):(f=dl(c),f.c(),A(f,1),f.m(i.parentNode,i)):f&&(Pe(),T(f,1,1,()=>{f=null}),Oe())},i(c){u||(A(e.$$.fragment,c),A(f),A(l.$$.fragment,c),u=!0)},o(c){T(e.$$.fragment,c),T(f),T(l.$$.fragment,c),u=!1},d(c){c&&(y(n),y(i),y(o),y(r),y(a),y(s)),X(e,c),f&&f.d(c),X(l,c)}}}function pl(t){let e,n,i;return{c(){e=O("button"),e.textContent="🔥 Bulldoze",R(e,"id","bulldoze"),R(e,"class","px-2 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(o,r){w(o,e,r),n||(i=j(e,"click",t[13]),n=!0)},p:ae,d(o){o&&y(e),n=!1,i()}}}function Th(t){let e;return{c(){e=G("No options")},m(n,i){w(n,e,i)},p:ae,d(n){n&&y(e)}}}function Ih(t){let e,n=Ue(t[7]),i=[];for(let o=0;o<n.length;o+=1)i[o]=ml(cl(t,n,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Ee()},m(o,r){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(o,r);w(o,e,r)},p(o,r){if(r[0]&128){n=Ue(o[7]);let l;for(l=0;l<n.length;l+=1){const a=cl(o,n,l);i[l]?i[l].p(a,r):(i[l]=ml(a),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},d(o){o&&y(e),gt(i,o)}}}function hl(t){let e,n=Al(t[28].title)+"",i,o,r;function l(){return t[20](t[28])}return{c(){e=O("span"),i=G(n),R(e,"class","text-xl cursor-pointer hover:bg-slate-300 rounded-lg p-1")},m(a,s){w(a,e,s),M(e,i),o||(r=j(e,"click",l),o=!0)},p(a,s){t=a,s[0]&128&&n!==(n=Al(t[28].title)+"")&&_e(i,n)},d(a){a&&y(e),o=!1,r()}}}function ml(t){let e,n=t[28].affordable&&hl(t);return{c(){n&&n.c(),e=Ee()},m(i,o){n&&n.m(i,o),w(i,e,o)},p(i,o){i[28].affordable?n?n.p(i,o):(n=hl(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){i&&y(e),n&&n.d(i)}}}function _l(t){let e,n,i,o=ht(t[8].economyAndLaws.tax_rate*t[28].revenue_per_week,2)+"",r;return{c(){e=O("div"),n=O("span"),i=G("$"),r=G(o)},m(l,a){w(l,e,a),M(e,n),M(n,i),M(n,r)},p(l,a){a[0]&384&&o!==(o=ht(l[8].economyAndLaws.tax_rate*l[28].revenue_per_week,2)+"")&&_e(r,o)},d(l){l&&y(e)}}}function gl(t){let e,n,i=t[28].requirements.knowledge+"",o,r;return{c(){e=O("br"),n=W(),o=G(i),r=G(" KPts")},m(l,a){w(l,e,a),w(l,n,a),w(l,o,a),w(l,r,a)},p(l,a){a[0]&128&&i!==(i=l[28].requirements.knowledge+"")&&_e(o,i)},d(l){l&&(y(e),y(n),y(o),y(r))}}}function Eh(t){let e;return{c(){e=O("span"),e.textContent="❌",R(e,"class","text-red-500")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function Mh(t){let e;return{c(){e=O("span"),e.textContent="✅",R(e,"class","text-green-500")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function bl(t){let e,n,i=t[31]+"",o,r,l;function a(f,c){return c[0]&384&&(e=null),e==null&&(e=!!Ho(f[31],f[8])),e?Mh:Eh}let s=a(t,[-1,-1]),u=s(t);return{c(){u.c(),n=W(),o=G(i),r=W(),l=O("br")},m(f,c){u.m(f,c),w(f,n,c),w(f,o,c),w(f,r,c),w(f,l,c)},p(f,c){s!==(s=a(f,c))&&(u.d(1),u=s(f),u&&(u.c(),u.m(n.parentNode,n))),c[0]&128&&i!==(i=f[31]+"")&&_e(o,i)},d(f){f&&(y(n),y(o),y(r),y(l)),u.d(f)}}}function vl(t){let e,n=Ii(t[28].effect_modifiers.happiness)+"",i;return{c(){e=G("😀 "),i=G(n)},m(o,r){w(o,e,r),w(o,i,r)},p(o,r){r[0]&128&&n!==(n=Ii(o[28].effect_modifiers.happiness)+"")&&_e(i,n)},d(o){o&&(y(e),y(i))}}}function yl(t){let e,n=Ii(t[28].effect_modifiers.health)+"",i;return{c(){e=G("😷 "),i=G(n)},m(o,r){w(o,e,r),w(o,i,r)},p(o,r){r[0]&128&&n!==(n=Ii(o[28].effect_modifiers.health)+"")&&_e(i,n)},d(o){o&&(y(e),y(i))}}}function wl(t){let e,n=Ei(t[28].immediate_variable_changes.happiness)+"",i;return{c(){e=G("😀 "),i=G(n)},m(o,r){w(o,e,r),w(o,i,r)},p(o,r){r[0]&128&&n!==(n=Ei(o[28].immediate_variable_changes.happiness)+"")&&_e(i,n)},d(o){o&&(y(e),y(i))}}}function kl(t){let e,n,i=Ei(t[28].immediate_variable_changes.health)+"",o;return{c(){e=O("br"),n=G(`
									😷 `),o=G(i)},m(r,l){w(r,e,l),w(r,n,l),w(r,o,l)},p(r,l){l[0]&128&&i!==(i=Ei(r[28].immediate_variable_changes.health)+"")&&_e(o,i)},d(r){r&&(y(e),y(n),y(o))}}}function Cl(t,e){let n,i,o=e[28].selected?`✅ SELECTED ${e[28].title.substring(2)}`:`${e[28].title}`,r,l,a,s=e[28].description+"",u,f,c,d,h=(e[28].requirements.employees||"")+"",m,_,b,C,S,N=Sl(e[28].requirements.gold)+"",J,q,$,H,U,p,D,E,g,v,k,L,P,F,V,z,te,K=e[28].revenue_per_week>0&&_l(e),ne=e[28].requirements.knowledge>0&&gl(e),be=Ue(e[28].requirements.plots),x=[];for(let $e=0;$e<be.length;$e+=1)x[$e]=bl(fl(e,be,$e));let ee=e[28].effect_modifiers.happiness!=1&&vl(e),ge=e[28].effect_modifiers.health!=1&&yl(e),Se=e[28].immediate_variable_changes.happiness!=0&&wl(e),Be=e[28].immediate_variable_changes.health!=0&&kl(e);return{key:t,first:null,c(){n=O("tr"),i=O("td"),r=G(o),l=W(),a=O("td"),u=W(),f=O("td"),K&&K.c(),c=W(),d=O("td"),m=G(h),b=W(),C=O("td"),S=G("$"),J=G(N),q=W(),ne&&ne.c(),H=W(),U=O("td"),p=O("div");for(let $e=0;$e<x.length;$e+=1)x[$e].c();D=W(),E=O("td"),g=O("div"),ee&&ee.c(),v=W(),k=O("div"),ge&&ge.c(),L=W(),P=O("td"),Se&&Se.c(),F=W(),Be&&Be.c(),V=W(),R(i,"class","px-2 py-2 w-12"),R(a,"class","px-2 py-2 w-24"),R(f,"class","px-2 py-2 w-12 font-bold"),R(d,"class",_="px-2 py-2 w-8 "+(e[28].requirements.employees>e[8].townInfo.population_count-e[8].townInfo.employees?"underline bg-red-800 text-white":"")),R(C,"class",$="px-2 py-2 w-8 "+(e[28].requirements.gold>e[8].townInfo.gold?"underline bg-red-800 text-white border-none":"")),R(U,"class","px-2 py-2 w-12"),R(g,"class","text-xs"),R(k,"class","mt-2"),R(E,"class","px-2 py-2 w-12 text-xs"),R(P,"class","px-2 py-2 w-12"),R(n,"class",z="plotOption border-b border-black "+(e[28].affordable?"cursor-pointer":"unaffordable cursor-not-allowed bg-gray-200")+" "+(e[28].selected?"italic font-light opacity-50 ":"")+" svelte-bq7iir"),R(n,"data-plotoptionid",te=e[28].id),hn(n,"background-color",e[28].selected?"gray":vi(e[11](e[28].id),e[4](e[2],e[3]))),this.first=n},m($e,Me){w($e,n,Me),M(n,i),M(i,r),M(n,l),M(n,a),a.innerHTML=s,M(n,u),M(n,f),K&&K.m(f,null),M(n,c),M(n,d),M(d,m),M(n,b),M(n,C),M(C,S),M(C,J),M(C,q),ne&&ne.m(C,null),M(n,H),M(n,U),M(U,p);for(let qe=0;qe<x.length;qe+=1)x[qe]&&x[qe].m(p,null);M(n,D),M(n,E),M(E,g),ee&&ee.m(g,null),M(E,v),M(E,k),ge&&ge.m(k,null),M(n,L),M(n,P),Se&&Se.m(P,null),M(P,F),Be&&Be.m(P,null),M(n,V)},p($e,Me){if(e=$e,Me[0]&128&&o!==(o=e[28].selected?`✅ SELECTED ${e[28].title.substring(2)}`:`${e[28].title}`)&&_e(r,o),Me[0]&128&&s!==(s=e[28].description+"")&&(a.innerHTML=s),e[28].revenue_per_week>0?K?K.p(e,Me):(K=_l(e),K.c(),K.m(f,null)):K&&(K.d(1),K=null),Me[0]&128&&h!==(h=(e[28].requirements.employees||"")+"")&&_e(m,h),Me[0]&384&&_!==(_="px-2 py-2 w-8 "+(e[28].requirements.employees>e[8].townInfo.population_count-e[8].townInfo.employees?"underline bg-red-800 text-white":""))&&R(d,"class",_),Me[0]&128&&N!==(N=Sl(e[28].requirements.gold)+"")&&_e(J,N),e[28].requirements.knowledge>0?ne?ne.p(e,Me):(ne=gl(e),ne.c(),ne.m(C,null)):ne&&(ne.d(1),ne=null),Me[0]&384&&$!==($="px-2 py-2 w-8 "+(e[28].requirements.gold>e[8].townInfo.gold?"underline bg-red-800 text-white border-none":""))&&R(C,"class",$),Me[0]&384){be=Ue(e[28].requirements.plots);let qe;for(qe=0;qe<be.length;qe+=1){const Ve=fl(e,be,qe);x[qe]?x[qe].p(Ve,Me):(x[qe]=bl(Ve),x[qe].c(),x[qe].m(p,null))}for(;qe<x.length;qe+=1)x[qe].d(1);x.length=be.length}e[28].effect_modifiers.happiness!=1?ee?ee.p(e,Me):(ee=vl(e),ee.c(),ee.m(g,null)):ee&&(ee.d(1),ee=null),e[28].effect_modifiers.health!=1?ge?ge.p(e,Me):(ge=yl(e),ge.c(),ge.m(k,null)):ge&&(ge.d(1),ge=null),e[28].immediate_variable_changes.happiness!=0?Se?Se.p(e,Me):(Se=wl(e),Se.c(),Se.m(P,F)):Se&&(Se.d(1),Se=null),e[28].immediate_variable_changes.health!=0?Be?Be.p(e,Me):(Be=kl(e),Be.c(),Be.m(P,null)):Be&&(Be.d(1),Be=null),Me[0]&128&&z!==(z="plotOption border-b border-black "+(e[28].affordable?"cursor-pointer":"unaffordable cursor-not-allowed bg-gray-200")+" "+(e[28].selected?"italic font-light opacity-50 ":"")+" svelte-bq7iir")&&R(n,"class",z),Me[0]&128&&te!==(te=e[28].id)&&R(n,"data-plotoptionid",te),Me[0]&140&&hn(n,"background-color",e[28].selected?"gray":vi(e[11](e[28].id),e[4](e[2],e[3])))},d($e){$e&&y(n),K&&K.d(),ne&&ne.d(),gt(x,$e),ee&&ee.d(),ge&&ge.d(),Se&&Se.d(),Be&&Be.d()}}}function Ph(t){let e,n,i,o,r,l,a,s,u,f,c,d,h,m=t[8].plots[t[2]][t[3]].type!==-1&&t[5](t[2],t[3]),_,b,C,S,N,J,q,$,H,U,p,D,E,g=[],v=new Map,k,L,P;e=new xt({props:{$$slots:{default:[Nh]},$$scope:{ctx:t}}});let F={type:"text",id:"search-bar",placeholder:"Search Plot Options...",value:t[6],class:"border rounded w-auto"};r=new Yo({props:F}),t[18](r),r.$on("input",t[12]);let V=m&&pl(t);function z(x,ee){return x[7].length>0?Ih:Th}let te=z(t),K=te(t);q=new Ti({props:{class:""}});let ne=Ue(t[7]);const be=x=>x[28].id;for(let x=0;x<ne.length;x+=1){let ee=ul(t,ne,x),ge=be(ee);v.set(ge,g[x]=Cl(ge,ee))}return{c(){Q(e.$$.fragment),n=W(),i=O("div"),o=O("div"),Q(r.$$.fragment),l=W(),a=O("div"),s=O("input"),f=W(),c=O("label"),c.textContent="Show only affordable",d=W(),h=O("div"),V&&V.c(),_=W(),b=O("label"),C=O("span"),C.textContent="Quick scroll",S=W(),N=O("div"),K.c(),J=W(),Q(q.$$.fragment),$=W(),H=O("div"),U=O("table"),p=O("thead"),p.innerHTML='<tr class="text-xs text-left"><th class="px-2 py-2">Title</th> <th class="px-2 pr-2 py-2 w-48">Desc</th> <th class="px-2 py-2">Profit</th> <th class="px-2 py-2">Employees</th> <th class="px-2 py-2">Cost</th> <th class="px-2 py-2">Requires</th> <th class="px-2 py-2">Modifiers</th> <th class="px-2 py-2">Instant effect</th></tr>',D=W(),E=O("tbody");for(let x=0;x<g.length;x+=1)g[x].c();R(o,"class","flex items-center "),R(s,"type","checkbox"),R(s,"id","toggle-affordable"),R(s,"class","rounded"),s.checked=u=t[10]===t[7].length,R(c,"for","toggle-affordable"),R(c,"class","ml-2 no-select cursor-pointer "),R(a,"class","flex items-center ml-6"),R(h,"class","flex justify-end ml-6"),R(C,"class","mb-10"),R(b,"for","plotType"),R(b,"class","text-xs ml-4 gap-2"),R(i,"class","flex flex-row w-full px-4 py-2 text-white "),R(p,"class","sticky top-0 z-10 bg-slate-900 position-sticky text-white text-left w-full px-5 "),R(E,"class","overflow-hidden text-xs mx-2"),R(U,"class","text-left table-auto text-xs w-full border-collapse rounded-lgshadow-lg"),R(H,"class","overflow-y-scroll scroll-smooth no-scrollbar max-h-[60vh] ")},m(x,ee){Y(e,x,ee),w(x,n,ee),w(x,i,ee),M(i,o),Y(r,o,null),M(i,l),M(i,a),M(a,s),M(a,f),M(a,c),M(i,d),M(i,h),V&&V.m(h,null),M(i,_),M(i,b),M(b,C),M(b,S),M(b,N),K.m(N,null),w(x,J,ee),Y(q,x,ee),w(x,$,ee),w(x,H,ee),M(H,U),M(U,p),M(U,D),M(U,E);for(let ge=0;ge<g.length;ge+=1)g[ge]&&g[ge].m(E,null);k=!0,L||(P=[j(s,"change",t[19]),j(U,"click",t[14])],L=!0)},p(x,ee){const ge={};ee[0]&2|ee[1]&32&&(ge.$$scope={dirty:ee,ctx:x}),e.$set(ge);const Se={};ee[0]&64&&(Se.value=x[6]),r.$set(Se),(!k||ee[0]&1152&&u!==(u=x[10]===x[7].length))&&(s.checked=u),ee[0]&268&&(m=x[8].plots[x[2]][x[3]].type!==-1&&x[5](x[2],x[3])),m?V?V.p(x,ee):(V=pl(x),V.c(),V.m(h,null)):V&&(V.d(1),V=null),te===(te=z(x))&&K?K.p(x,ee):(K.d(1),K=te(x),K&&(K.c(),K.m(N,null))),ee[0]&2460&&(ne=Ue(x[7]),g=hu(g,ee,be,1,x,ne,v,E,pu,Cl,null,ul))},i(x){k||(A(e.$$.fragment,x),A(r.$$.fragment,x),A(q.$$.fragment,x),k=!0)},o(x){T(e.$$.fragment,x),T(r.$$.fragment,x),T(q.$$.fragment,x),k=!1},d(x){x&&(y(n),y(i),y(J),y($),y(H)),X(e,x),t[18](null),X(r),V&&V.d(),K.d(),X(q,x);for(let ee=0;ee<g.length;ee+=1)g[ee].d();L=!1,Le(P)}}}function Oh(t){let e,n;return e=new zt({props:{class:`border-gray-500 border-r-2 overflow-clip max-w-[90vw] max-h-[90vh]
		`,$$slots:{default:[Ph]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o[0]&1998|o[1]&32&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Lh(t){let e,n,i;function o(l){t[21](l)}let r={$$slots:{default:[Oh]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new tn({props:r}),we.push(()=>Zt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,a){const s={};a[0]&1998|a[1]&32&&(s.$$scope={dirty:a,ctx:l}),!n&&a[0]&1&&(n=!0,s.open=l[0],Xt(()=>n=!1)),e.$set(s)},i(l){i||(A(e.$$.fragment,l),i=!0)},o(l){T(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function Ii(t){let e=t<1,n=ht(t%1*100,0);return e?`-${100-n}%`:`+${n}%`}function Ei(t){return t=ht(t/3,0),t<0?`-${t}`:`+${t}`}function Al(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function ht(t,e){e===void 0&&(e=0);var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var i=Math.round(t)/n;return+i.toFixed(e)}function Sl(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Fh(t,e,n){let i,o,r;se(t,Te,k=>n(8,i=k)),se(t,Ke,k=>n(22,o=k)),se(t,Gs,k=>n(17,r=k));let{x:l=0}=e,{y:a=0}=e,{open:s=!1}=e,u="",f=Ne,{tooltip:c=""}=e,d,h,m=f.map(k=>Object.assign(Object.assign({},k),{affordable:U(k,i),selected:C(k)}));function _(k){return Ne.findIndex(L=>L.id===k)}function b(k){n(6,u=k.target.value||"")}function C(k){return i.plots[l][a].type>-1?f[i.plots[l][a].type].id===k.id:!1}function S(k,L){let P={x:k,y:L};return P.x===0&&P.y===0?!0:[{x:P.x-1,y:P.y},{x:P.x+1,y:P.y},{x:P.x,y:P.y-1},{x:P.x,y:P.y+1}].some(V=>V.x<0||V.x>i.plots.length-1||V.y<0||V.y>i.plots.length-1?!1:i.plots[V.x][V.y].active)}function N(){document.querySelectorAll(".plotOption").forEach(L=>{L.classList.remove("active")}),H(l,a)}function J(k){document.querySelectorAll(".plotOption").forEach(F=>{F.classList.remove("active")});const P=document.querySelector(`[data-plotoptionid="${k}"]`);P&&(P.classList.add("active"),$(l,a,k))}function q(k,L){let P=0;return k>0&&i.plots[k-1][L].type!==-1&&P++,k<i.plots.length-1&&i.plots[k+1][L].type!==-1&&P++,L>0&&i.plots[k][L-1].type!==-1&&P++,L<i.plots[0].length-1&&i.plots[k][L+1].type!==-1&&P++,P<=4}function $(k,L,P){let F=i;const V=Ne.findIndex(K=>K.id===P);let z=Ne[V];if(U(z,i)==!1)return console.log(z.requirements),alert(`${JSON.stringify(z.requirements)}`);let te=!0;if((z.requirements.gold>F.townInfo.gold||z.requirements.employees>F.townInfo.population_count-F.townInfo.employees)&&(te=!1),z.requirements.size!=null&&te){let K=z.requirements.size,ne=[],be=f[V].title.toLowerCase().indexOf("school")!=-1;for(let x=0;x<4;x++){let ee=[[k,L]];x===0?(ee.push([k-(K-1),L-(K-1)]),ee.push([k-(K-1),L]),ee.push([k,L-(K-1)])):x===1?(ee.push([k,L-(K-1)]),ee.push([k+(K-1),L-(K-1)]),ee.push([k+(K-1),L])):x===2?(ee.push([k-(K-1),L]),ee.push([k-(K-1),L+(K-1)]),ee.push([k,L+(K-1)])):x===3&&(ee.push([k,L+(K-1)]),ee.push([k+(K-1),L+(K-1)]),ee.push([k+(K-1),L])),ne.push(ee)}ne=ne.filter(x=>x.every(ee=>ee[0]>=0&&ee[0]<=F.plots.length-1&&ee[1]>=0&&ee[1]<=F.plots.length-1&&!F.plots[ee[0]][ee[1]].active&&S(ee[0],ee[1])==!0)),ne.length===0?te=!1:ne.length>0&&ne[0].forEach(ee=>{F.plots[ee[0]][ee[1]].active=!0,F.plots[ee[0]][ee[1]].type=be?-3:-2,F.plots[ee[0]][ee[1]].referencePlot=[k,L]})}if(te===!0){switch(F.plots[k][L].type!==-1&&H(k,L),n(1,c=""),F.plots[k][L].type=V,F.plots[k][L].active=!0,F.plots[k][L].referencePlot=[],F.townInfo.gold-=z.requirements.gold,F.townInfo.gold=ht(F.townInfo.gold,2),F.townInfo.population_count+=z.immediate_variable_changes.population,F.townInfo.population_max+=z.immediate_variable_changes.population,F.townInfo.happiness+=z.immediate_variable_changes.happiness,F.townInfo.health+=z.immediate_variable_changes.health,F.modifiers.happiness=ht(F.modifiers.happiness*z.effect_modifiers.happiness,2),F.modifiers.health=ht(F.modifiers.health*z.effect_modifiers.health,2),F.townInfo.employees+=z.requirements.employees,(F.plotCounts[V]===void 0||F.plotCounts[V]===null)&&(F.plotCounts[V]=0),F.plotCounts[V]++,F.lastChangeDay=F.environment.day,F.economyAndLaws.balance_sheet_history=[{day:F.environment.day,plot:`${k},${L}`,profits:z.requirements.gold*-1,balance:ht(F.townInfo.gold,2)},...F.economyAndLaws.balance_sheet_history],z.id){case"city_hall":F.hasCityHall=!0;break;case"bank":F.hasBank=!0;break}Te.set(F),localStorage.setItem(rt,JSON.stringify(F)),Ce(Ke,o.visible=!1,o)}else n(1,c="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(ne=>{ne.classList.remove("active")})}function H(k,L){var P;let F=i,V=F.plots[k][L].type;if(F.plots[k][L].type=-1,F.plots[k][L].active=!1,V>-1&&(F.townInfo.population_count-=Ne[V].immediate_variable_changes.population,F.townInfo.population_max-=Ne[V].immediate_variable_changes.population,F.townInfo.happiness-=Ne[V].immediate_variable_changes.happiness,F.townInfo.health-=Ne[V].immediate_variable_changes.health,F.modifiers.happiness=ht(F.modifiers.happiness/Ne[V].effect_modifiers.happiness,2),F.modifiers.health=ht(F.modifiers.health/Ne[V].effect_modifiers.health,2),F.townInfo.employees-=Ne[V].requirements.employees,(F.plotCounts[V]===void 0||F.plotCounts[V]===null)&&(F.plotCounts[V]=0),F.plotCounts[V]--,((P=Ne[V].requirements.size)!==null&&P!==void 0?P:1)>1))for(let te=0;te<F.plots.length;te++)for(let K=0;K<F.plots[k].length;K++)F.plots[te][K].referencePlot!=null&&F.plots[te][K].referencePlot[0]===k&&F.plots[te][K].referencePlot[1]===L&&H(te,K);F.lastChangeDay=F.environment.day,Te.set(F),localStorage.setItem(rt,JSON.stringify(F))}function U(k,L){let P=!0;k.requirements.gold>L.townInfo.gold&&(P=!1);let F=L.townInfo.population_count-L.townInfo.employees;return k.requirements.employees!==void 0&&k.requirements.employees>0&&k.requirements.employees>F&&(P=!1),k.requirements.knowledge!==void 0&&k.requirements.knowledge>L.townInfo.knowledge_points&&(P=!1),k.requirements.plots!==void 0&&k.requirements.plots.length>0&&k.requirements.plots.forEach(V=>{Ho(V,L)||(P=!1)}),P}function p(k){const L=k.target.closest(".plotOption");if(L){const P=L.dataset.plotoptionid;J(P)}}function D(k){we[k?"unshift":"push"](()=>{d=k,n(9,d)})}const E=()=>{ku()},g=k=>{const L=document.querySelector(`[data-plotoptionid="${k.id}"]`);L&&L.scrollIntoView({behavior:"smooth",block:"center"})};function v(k){s=k,n(0,s)}return t.$$set=k=>{"x"in k&&n(2,l=k.x),"y"in k&&n(3,a=k.y),"open"in k&&n(0,s=k.open),"tooltip"in k&&n(1,c=k.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&131456&&i&&(n(7,m=f.map(k=>Object.assign(Object.assign({},k),{affordable:U(k,i),selected:C(k)}))),r&&n(7,m=m.filter(k=>k.affordable))),t.$$.dirty[0]&192&&n(7,m=m.filter(k=>k.title.toLowerCase().includes(u.toLowerCase()))),t.$$.dirty[0]&128&&n(10,h=m.filter(k=>k.affordable).length)},[s,c,l,a,S,q,u,m,i,d,h,_,b,N,p,$,H,r,D,E,g,v]}class Rh extends me{constructor(e){super(),he(this,e,Fh,Lh,le,{x:2,y:3,open:0,tooltip:1,checkIfPlotCanBeUpgraded:4,canBulldoze:5,purchasePlot:15,reverseClear:16},null,[-1,-1])}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[4]}get canBulldoze(){return this.$$.ctx[5]}get purchasePlot(){return this.$$.ctx[15]}get reverseClear(){return this.$$.ctx[16]}}function qh(t){let e,n,i,o,r;return{c(){e=O("div"),n=O("span"),i=G("👋 "),o=G(t[0]),R(n,"class",r="text-xs rounded-lg p-2 whitespace-normal text-center flex justify-center w-fit m-2 shadow shadow-black hover:rotate-6 overflow-visible hover:scale-110 z-50 transition-all duration-100 "+t[1]+" "+(t[2]?"bg-green-300 text-green-900":"bg-red-900 text-red-200")),R(e,"class","overflow-visible")},m(l,a){w(l,e,a),M(e,n),M(n,i),M(n,o)},p(l,[a]){a&1&&_e(o,l[0]),a&6&&r!==(r="text-xs rounded-lg p-2 whitespace-normal text-center flex justify-center w-fit m-2 shadow shadow-black hover:rotate-6 overflow-visible hover:scale-110 z-50 transition-all duration-100 "+l[1]+" "+(l[2]?"bg-green-300 text-green-900":"bg-red-900 text-red-200"))&&R(n,"class",r)},i:ae,o:ae,d(l){l&&y(e)}}}function $h(t,e,n){let{text:i=""}=e,{classText:o=""}=e,{happy:r=!1}=e;return t.$$set=l=>{"text"in l&&n(0,i=l.text),"classText"in l&&n(1,o=l.classText),"happy"in l&&n(2,r=l.happy)},[i,o,r]}class fa extends me{constructor(e){super(),he(this,e,$h,qh,le,{text:0,classText:1,happy:2})}}function Dh(t){let e,n;return e=new fa({props:{text:"Build your first home",happy:"true"}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p:ae,i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Bh(t){let e,n,i,o=Ne[t[0].type].title.substring(0,2)+"",r,l,a=Ne[t[0].type].title.substring(2)+"",s,u,f=Ne[t[0].type].requirements.size>1?`(${Ne[t[0].type].requirements.size}x${Ne[t[0].type].requirements.size})`:"",c,d;return{c(){e=O("div"),n=O("span"),i=O("span"),r=G(o),l=O("br"),s=G(a),u=W(),c=G(f),R(i,"class","text-lg"),R(n,"data-size",d=Ne[t[0].type].requirements.size),R(e,"class","svelte-119mikc")},m(h,m){w(h,e,m),M(e,n),M(n,i),M(i,r),M(n,l),M(n,s),M(n,u),M(n,c)},p(h,m){m&1&&o!==(o=Ne[h[0].type].title.substring(0,2)+"")&&_e(r,o),m&1&&a!==(a=Ne[h[0].type].title.substring(2)+"")&&_e(s,a),m&1&&f!==(f=Ne[h[0].type].requirements.size>1?`(${Ne[h[0].type].requirements.size}x${Ne[h[0].type].requirements.size})`:"")&&_e(c,f),m&1&&d!==(d=Ne[h[0].type].requirements.size)&&R(n,"data-size",d)},i:ae,o:ae,d(h){h&&y(e)}}}function Gh(t){let e,n,i,o,r,l,a,s,u,f,c,d,h,m,_,b,C;const S=[Bh,Dh],N=[];function J(q,$){return q[0].type>-1?0:q[0].type==-1&&q[0].x==0&&q[0].y==0?1:-1}return~(n=J(t))&&(i=N[n]=S[n](t)),{c(){e=O("div"),i&&i.c(),R(e,"class",o="plot_container overflow-visible "+(t[0].type==-1&&t[1]==!1?"border-slate-500 border-dashed border":"")+" svelte-119mikc"),hn(e,"background-color",vi(t[0].type,t[1])),R(e,"data-active",r=t[0].active),R(e,"data-id",l=t[0].id),R(e,"data-x",a=t[0].x),R(e,"data-y",s=t[0].y),R(e,"data-optionindex",u=t[0].optionIndex),R(e,"data-canbeupgraded",t[1]),R(e,"data-type",f=t[0].type),R(e,"data-type-id",c=t[0].typeId),R(e,"data-refplotx",d=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),R(e,"data-refploty",h=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),R(e,"data-size",m=t[0].type>-1?Ne[t[0].type].requirements.size:null)},m(q,$){w(q,e,$),~n&&N[n].m(e,null),_=!0,b||(C=j(e,"click",t[2]),b=!0)},p(q,[$]){let H=n;n=J(q),n===H?~n&&N[n].p(q,$):(i&&(Pe(),T(N[H],1,1,()=>{N[H]=null}),Oe()),~n?(i=N[n],i?i.p(q,$):(i=N[n]=S[n](q),i.c()),A(i,1),i.m(e,null)):i=null),(!_||$&3&&o!==(o="plot_container overflow-visible "+(q[0].type==-1&&q[1]==!1?"border-slate-500 border-dashed border":"")+" svelte-119mikc"))&&R(e,"class",o),(!_||$&3)&&hn(e,"background-color",vi(q[0].type,q[1])),(!_||$&1&&r!==(r=q[0].active))&&R(e,"data-active",r),(!_||$&1&&l!==(l=q[0].id))&&R(e,"data-id",l),(!_||$&1&&a!==(a=q[0].x))&&R(e,"data-x",a),(!_||$&1&&s!==(s=q[0].y))&&R(e,"data-y",s),(!_||$&1&&u!==(u=q[0].optionIndex))&&R(e,"data-optionindex",u),(!_||$&2)&&R(e,"data-canbeupgraded",q[1]),(!_||$&1&&f!==(f=q[0].type))&&R(e,"data-type",f),(!_||$&1&&c!==(c=q[0].typeId))&&R(e,"data-type-id",c),(!_||$&1&&d!==(d=q[0].referencePlot!==void 0?q[0].referencePlot[1]:null))&&R(e,"data-refplotx",d),(!_||$&1&&h!==(h=q[0].referencePlot!==void 0?q[0].referencePlot[0]:null))&&R(e,"data-refploty",h),(!_||$&1&&m!==(m=q[0].type>-1?Ne[q[0].type].requirements.size:null))&&R(e,"data-size",m)},i(q){_||(A(i),_=!0)},o(q){T(i),_=!1},d(q){q&&y(e),~n&&N[n].d(),b=!1,C()}}}function jh(t,e,n){let i,o,r,l;se(t,Ke,c=>n(4,i=c)),se(t,Te,c=>n(5,o=c)),se(t,St,c=>n(6,r=c)),se(t,mn,c=>n(7,l=c));let{data:a={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[]}}=e,{canBeUpgraded:s=!1}=e;function u(c,d,h){let m=document.querySelectorAll(".plot_container");if(r==!1){if(a.referencePlot!=null&&a.referencePlot[0]!==null&&d==null&&h==null&&a.referencePlot[1]!==void 0)return u(c,a.referencePlot[0],a.referencePlot[1]);!a.active&&!s?(Ce(mn,l={},l),Ce(Ke,i.visible=!1,i),m.forEach(_=>{_.classList.remove("selected")})):(d!=null&&h!=null?(Ce(Ke,i.x=d,i),Ce(Ke,i.y=h,i)):(Ce(Ke,i.x=a.x,i),Ce(Ke,i.y=a.y,i)),Ce(Ke,i.visible=!0,i),m.forEach(_=>{_.classList.remove("selected")}),d!=null&&h!=null?document.querySelector(`.plot_container[data-x="${d}"][data-y="${h}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${a.id}"]`).classList.add("selected"))}}function f(c){r==!1&&(Ce(Te,o.plots[a.x][a.y].type=c,o),Ce(Ke,i.visible=!1,i))}return t.$$set=c=>{"data"in c&&n(0,a=c.data),"canBeUpgraded"in c&&n(1,s=c.canBeUpgraded)},[a,s,u,f]}class Hh extends me{constructor(e){super(),he(this,e,jh,Gh,le,{data:0,canBeUpgraded:1,changePlotType:3})}get changePlotType(){return this.$$.ctx[3]}}function Nl(t,e,n){const i=t.slice();return i[6]=e[n],i}function Tl(t,e,n){const i=t.slice();return i[9]=e[n],i}function Il(t){let e,n,i=t[3],o,r,l=Ue(t[2].plots),a=[];for(let f=0;f<l.length;f+=1)a[f]=Ml(Nl(t,l,f));const s=f=>T(a[f],1,1,()=>{a[f]=null});let u=Ol(t);return{c(){e=O("div");for(let f=0;f<a.length;f+=1)a[f].c();n=W(),u.c(),o=Ee(),R(e,"class","grid overflow-x-scroll overflow-visible svelte-3cpxwu")},m(f,c){w(f,e,c);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(e,null);w(f,n,c),u.m(f,c),w(f,o,c),r=!0},p(f,c){if(c&7){l=Ue(f[2].plots);let d;for(d=0;d<l.length;d+=1){const h=Nl(f,l,d);a[d]?(a[d].p(h,c),A(a[d],1)):(a[d]=Ml(h),a[d].c(),A(a[d],1),a[d].m(e,null))}for(Pe(),d=l.length;d<a.length;d+=1)s(d);Oe()}c&8&&le(i,i=f[3])?(Pe(),T(u,1,1,ae),Oe(),u=Ol(f),u.c(),A(u,1),u.m(o.parentNode,o)):u.p(f,c)},i(f){if(!r){for(let c=0;c<l.length;c+=1)A(a[c]);A(u),r=!0}},o(f){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)T(a[c]);T(u),r=!1},d(f){f&&(y(e),y(n),y(o)),gt(a,f),u.d(f)}}}function El(t){let e,n;return e=new Hh({props:{data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&4&&(r.data=i[9]),o&4&&(r.canBeUpgraded=i[0](i[9].x,i[9].y)),e.$set(r)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Ml(t){let e,n,i,o,r,l=Ue(t[6]),a=[];for(let u=0;u<l.length;u+=1)a[u]=El(Tl(t,l,u));const s=u=>T(a[u],1,1,()=>{a[u]=null});return{c(){e=O("div");for(let u=0;u<a.length;u+=1)a[u].c();n=W(),R(e,"class","row overflow-visible svelte-3cpxwu")},m(u,f){w(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);M(e,n),i=!0,o||(r=j(e,"click",t[1]),o=!0)},p(u,f){if(f&5){l=Ue(u[6]);let c;for(c=0;c<l.length;c+=1){const d=Tl(u,l,c);a[c]?(a[c].p(d,f),A(a[c],1)):(a[c]=El(d),a[c].c(),A(a[c],1),a[c].m(e,n))}for(Pe(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!i){for(let f=0;f<l.length;f+=1)A(a[f]);i=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)T(a[f]);i=!1},d(u){u&&y(e),gt(a,u),o=!1,r()}}}function Pl(t){let e,n;return e=new Rh({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&16&&(r.x=i[4].x),o&16&&(r.y=i[4].y),o&16&&(r.open=i[4].visible),e.$set(r)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Ol(t){let e,n,i=t[4].visible&&Pl(t);return{c(){i&&i.c(),e=Ee()},m(o,r){i&&i.m(o,r),w(o,e,r),n=!0},p(o,r){o[4].visible?i?(i.p(o,r),r&16&&A(i,1)):(i=Pl(o),i.c(),A(i,1),i.m(e.parentNode,e)):i&&(Pe(),T(i,1,1,()=>{i=null}),Oe())},i(o){n||(A(i),n=!0)},o(o){T(i),n=!1},d(o){o&&y(e),i&&i.d(o)}}}function Vh(t){let e,n,i=t[2]!=null&&Il(t);return{c(){i&&i.c(),e=Ee()},m(o,r){i&&i.m(o,r),w(o,e,r),n=!0},p(o,[r]){o[2]!=null?i?(i.p(o,r),r&4&&A(i,1)):(i=Il(o),i.c(),A(i,1),i.m(e.parentNode,e)):i&&(Pe(),T(i,1,1,()=>{i=null}),Oe())},i(o){n||(A(i),n=!0)},o(o){T(i),n=!1},d(o){o&&y(e),i&&i.d(o)}}}function Wh(t,e,n){let i,o,r;se(t,mn,u=>n(3,i=u)),se(t,Te,u=>n(2,o=u)),se(t,Ke,u=>n(4,r=u));function l(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(h=>h.x<0||h.x>=o.plots.length||h.y<0||h.y>=o.plots[h.x].length?!1:o.plots[h.x][h.y].active)}function a(){let u=[];for(let f=0;f<o.plots.length;f++)for(let c=0;c<o.plots.length;c++)l(f,c)&&o.plots[f][c].active==!1&&u.push(o.plots[f][c])}function s(){Ce(mn,i={},i)}return t.$$.update=()=>{t.$$.dirty&4&&o&&a()},[l,s,o,i,r]}class Kh extends me{constructor(e){super(),he(this,e,Wh,Vh,le,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}const Qe={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},ze={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:150,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:500,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},political:{short_title:"PLACEHOLDER",description_title:"PLACEHOLDER",win:"PLACEHOLDER",requirements:{0:{population_count:200,happiness:100,health:100,employment:1},1:{population_count:500,happiness:100,health:100,employment:1},2:{population_count:1e3,happiness:100,health:100,employment:1}}}},Ll=30;function Uh(t){let e=!0;for(let n=0;n<t.plots.length;n++)for(let i=0;i<t.plots[n].length;i++)if(t.plots[n][i].active==!1){e=!1;break}return e}function Jh(t){return t.endGameDetails!=null||(t.townInfo.happiness<70&&t.last_warning_happiness+365<t.environment.day&&(alert("Your citizens are very unhappy. You should do something about it."),t.last_warning_happiness=t.environment.day),t.townInfo.health<70&&t.last_warning_health+365<t.environment.day&&(alert("Your citizens are very unhealthy. You should do something about it."),t.last_warning_health=t.environment.day)),t}function Yh(t){return t.hasBank,t}function Xh(t){return t.hasCityHall,t}function Zh(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,i=8,o=3;let r=Math.random(),l=Math.random()*o;if(r<.4){let a=Math.random()*i;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function vo(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function yo(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}return t}function Qh(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t}function xh(t,e){let n=e.townInfo.happiness/100;n>2.25?n=2.25:n<.75&&(n=.75);let i=t*e.economyAndLaws.tax_rate*(e.townInfo.population_count/e.townInfo.population_max)*n;return Pt(i,2)}function Pt(t,e){e===void 0&&(e=0);var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var i=Math.round(t)/n;return+i.toFixed(e)}function zh(t,e,n){let i,o,r;se(t,ai,p=>n(5,i=p)),se(t,Te,p=>n(6,o=p)),se(t,St,p=>n(7,r=p));function l(p){return p=m(p),p=N(p),p=$(p),p=Qh(p),p=b(p),p=q(p),p=c(p),p=Zh(p),p=Jh(p),p}function a(p){return p=H(p),p=Yh(p),p=Xh(p),p}function s(p){return p=C(p),p=yo(p),p=_(p),p=S(p),p}function u(p){return p=J(p),p=vo(p),p.overtime==!1&&(p=h(p),p=d(p)),p}function f(){Te.update(p=>{if(p==null||(p.tick++,p.tick%Ll!==0)||r||!p||p.endGameDetails!=null&&p.overtime==!1)return p;try{return p.environment.day+=1,p.environment.day%7===0&&(p=l(p)),p.environment.day%30===0&&(p=a(p)),p.environment.day%90===0&&(p=s(p)),window.location.search.includes("debug=true")&&console.log(p),p=u(p),p}catch(D){return console.error("Error in game loop:",D),p}})}Te.subscribe(p=>{p&&localStorage.setItem(rt,JSON.stringify(p))});function c(p){let D=!1,E=!1,g=!1;for(let v=0;v<p.plots.length;v++)for(let k=0;k<p.plots[v].length;k++)if(p.plots[v][k].active==!0&&p.plots[v][k].type>-1){let L=Ne[p.plots[v][k].type].id;L=="bank"&&(D=!0),L=="city_hall"&&(g=!0),(L=="small_hospital"||L=="large_hospital")&&(E=!0)}return p.hasBank=D,p.hasHospital=E,p.hasCityHall=g,p}function d(p){if(p.endGoal=="land"&&p.townInfo.population_max==p.townInfo.population_count&&p.townInfo.happiness>=ze.land.requirements[p.difficulty].happiness&&p.townInfo.health>=ze.land.requirements[p.difficulty].health&&p.townInfo.employees/p.townInfo.population_count>=ze.land.requirements[p.difficulty].employment&&p.townInfo.population_count>ze.land.requirements[p.difficulty].population_count&&p.townInfo.knowledge_points>=ze.land.requirements[p.difficulty].knowledge){let E=!0;for(let v=0;v<ze.land.requirements[p.difficulty].required_plots.length;v++){let k=ze.land.requirements[p.difficulty].required_plots[v],L=!1;for(let P=0;P<p.plots.length;P++)for(let F=0;F<p.plots[P].length;F++)if(Ne[p.plots[P][F].type].id==k){L=!0;break}if(L==!1){E=!1;break}}Uh(p)&&E&&(p.endGameDetails={msg:ze.land.win,win:!0,still_playing:!1})}return p}function h(p){return p.townInfo.happiness<=3&&(p.townInfo.happiness=0,p.endGameDetails={msg:Qe.happiness_zero,win:!1,still_playing:!1}),p.townInfo.health<=3&&(p.townInfo.health=3,p.endGameDetails={msg:Qe.health_zero,win:!1,still_playing:!1}),p.townInfo.population_count<=0&&p.townInfo.population_max>0&&(p.townInfo.population_count=0,p.endGameDetails={msg:Qe.population_zero,win:!1,still_playing:!1}),p}function m(p){let D=p.townInfo.population_count-p.townInfo.employees;return D>0&&(p.modifiers.happiness-=D*9e-4,p=U(D+Qe.unemployment_num,p)),p}function _(p){let D=p.plotCounts.reduce((g,v)=>g+v,0),E=!1;for(let g=0;g<p.plotCounts.length;g++)p.plotCounts[g]==null||Ne[g].check_for_variety!=!0||p.plotCounts[g]/D>=vu[p.difficulty]&&(Ne[g].title,E=!0);return E&&(p=U(Qe.notEnoughVariety,p),p.modifiers.happiness*.95),p}function b(p){let D=p.townInfo.health,E=0;return D>50||D<Math.random()*50&&(D<25?(p=U(Qe.sickAndDying,p),p.townInfo.happiness-=10,E=Math.round(p.townInfo.population_count*.1)):(p=U(Qe.sickAndLeaving,p),p.townInfo.happiness-=5,E=Math.round(p.townInfo.population_count*.05)),p.townInfo.population_count-=E,p.townInfo.employees-=E),p}function C(p){return p.lastChangeDay+(Math.random()*500+180)<p.environment.day&&p.townInfo.population_count>0&&(p.townInfo.population_count>0&&(p.townInfo.population_count-=1,p.townInfo.employees-=1,p.modifiers.happiness-=.01),p=U(Qe.bored,p)),p}function S(p){if(p.townInfo.population_count<p.townInfo.population_max&&p.townInfo.happiness>50){let D=p.townInfo.population_max-p.townInfo.population_count,E=Math.round(p.townInfo.happiness/100*D);p.townInfo.population_count+=E,p.townInfo.population_count>p.townInfo.population_max&&(p.townInfo.population_count=p.townInfo.population_max),p.townInfo.employees+=E,p.townInfo.employees>p.townInfo.population_count&&(p.townInfo.employees=p.townInfo.population_count),p=U(E+Qe.new_people_num,p)}if(p.townInfo.happiness<50&&p.townInfo.population_count>0){let D=Math.round((100-p.townInfo.happiness)/5);p.townInfo.population_count-=D,p.townInfo.employees>0&&(p.townInfo.employees-=D),p=U(D+Qe.leave_town_num,p)}else p.townInfo.population_count==p.townInfo.population_max;return p}function N(p){const D=Math.random();if(p.economyAndLaws.tax_rate>p.economyAndLaws.max_tax_rate&&p.townInfo.population_count>0){const E=p.difficulty==0?.7:p.difficulty==1?.4:.2;D<E&&p.economyAndLaws.tax_rate>p.economyAndLaws.max_tax_rate*2?(p.modifiers.happiness-=.03,p=U(Qe.very_high_tax_rate+"  ("+p.economyAndLaws.tax_rate+"%)",p)):(p.modifiers.happiness-=.01,p=U(Qe.high_tax_rate+"  ("+p.economyAndLaws.tax_rate*100+"%)",p))}return p}function J(p){return p.townInfo.happiness<0&&(p.townInfo.happiness=0),p.townInfo.health<0&&(p.townInfo.health=0),p.townInfo.gold<0&&(p.townInfo.gold=0),p.townInfo.employees<0&&(p.townInfo.employees=0),p.townInfo.knowledge_points<0&&(p.townInfo.knowledge_points=0),p.townInfo.population_count<0&&(p.townInfo.population_count=0),p.townInfo.population_max==0&&p.townLog.indexOf(Qe.nobody_home)==-1&&(p=U(Qe.nobody_home,p)),p.economyAndLaws.last_month_profit=Pt(p.economyAndLaws.last_month_profit,2),p.townInfo.employees>p.townInfo.population_count&&(p.townInfo.employees=p.townInfo.population_count),p.townInfo.gold=Pt(p.townInfo.gold,2),p.townInfo.population_count=Pt(p.townInfo.population_count,0),p.townInfo.employees=Pt(p.townInfo.employees,0),p.townInfo.population_max=Pt(p.townInfo.population_max,0),p.townInfo.happiness=Pt(p.townInfo.happiness,2),p.townInfo.health=Pt(p.townInfo.health,2),p.townInfo.happiness>300&&(p.townInfo.happiness=300),p.townInfo.health>300&&(p.townInfo.health=300),p.modifiers.happiness<.5&&(p.modifiers.happiness=.5),p.modifiers.health<.5&&(p.modifiers.health=.5),p}function q(p){if(p.modifiers.happiness>1){let D=p.modifiers.happiness-1;p.modifiers.happiness-=D*.08,p.modifiers.happiness<1.05&&(p.modifiers.happiness=1)}if(p.modifiers.health>1){if(p.hasHospital&&p.townLog.indexOf(Qe.hospital_advantage)==-1)return p=U(Qe.hospital_advantage,p);let D=p.modifiers.health-1;p.modifiers.health-=D*.08,p.modifiers.health<1.05&&(p.modifiers.health=1)}return p}function $(p){p.economyAndLaws.last_month_profit=0;for(let D=0;D<p.plots.length;D++)for(let E=0;E<p.plots[D].length;E++)if(p.plots[D][E].active==!0&&p.plots[D][E].type>-1){let g=Ne[p.plots[D][E].type],v=xh(g.revenue_per_week,p);p.townInfo.gold+=v,p.economyAndLaws.last_month_profit+=v,v>0&&(p.economyAndLaws.balance_sheet_history=[{day:p.environment.day,plot:`${D},${E}`,profits:v,taxRate:p.economyAndLaws.tax_rate},...p.economyAndLaws.balance_sheet_history],p.economyAndLaws.balance_sheet_history.length>250&&(p.economyAndLaws.balance_sheet_history=p.economyAndLaws.balance_sheet_history.slice(0,250))),g.enables_tourism==!0&&(p.townInfo.gold_from_tourism+=g.tourism_revenue_per_week*p.economyAndLaws.tax_rate*p.townInfo.population_count)}return p}function H(p){for(let D=0;D<p.plots.length;D++)for(let E=0;E<p.plots[D].length;E++)if(p.plots[D][E].active==!0&&p.plots[D][E].type>-1){let g=Ne[p.plots[D][E].type];g.knowledge_points_per_month!=null&&(p.townInfo.knowledge_points+=g.knowledge_points_per_month)}return p}function U(p,D){return D.townLog="Day "+o.environment.day+" - "+p+`
`+D.townLog,D}return Fs(async()=>{for(;;)localStorage.reset=="true"&&(Vo(),localStorage.setItem("reset","false")),f(),await new Promise(p=>setTimeout(p,i/Ll))}),[f,vo,J,q,yo]}class em extends me{constructor(e){super(),he(this,e,zh,null,le,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4})}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return vo}get _fixVariables(){return this.$$.ctx[2]}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return yo}}function Fl(t,e,n){const i=t.slice();return i[4]=e[n],i}function tm(t){let e,n,i,o,r=Ue(t[0].economyAndLaws.balance_sheet_history),l=[];for(let a=0;a<r.length;a+=1)l[a]=Rl(Fl(t,r,a));return{c(){e=O("table"),n=O("thead"),n.innerHTML='<tr class="svelte-1m5x2x2"><th>Day</th> <th>Plot</th> <th>Profits</th> <th>Tax rate</th></tr>',i=W(),o=O("tbody");for(let a=0;a<l.length;a+=1)l[a].c();R(e,"class","svelte-1m5x2x2")},m(a,s){w(a,e,s),M(e,n),M(e,i),M(e,o);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(o,null)},p(a,s){if(s&3){r=Ue(a[0].economyAndLaws.balance_sheet_history);let u;for(u=0;u<r.length;u+=1){const f=Fl(a,r,u);l[u]?l[u].p(f,s):(l[u]=Rl(f),l[u].c(),l[u].m(o,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=r.length}},d(a){a&&y(e),gt(l,a)}}}function nm(t){let e;return{c(){e=O("div"),e.textContent=`No data to display yet. Build some buildings and make sure that the tax
				rate is above 0%.`,R(e,"class","text-center padding-sides")},m(n,i){w(n,e,i)},p:ae,d(n){n&&y(e)}}}function Rl(t){let e,n,i=t[4].day+"",o,r,l,a=t[4].plot+"",s,u,f,c=t[4].profits+"",d,h,m,_=t[4].taxRate+"",b,C,S,N;function J(){return t[2](t[4])}return{c(){e=O("tr"),n=O("td"),o=G(i),r=W(),l=O("th"),s=G(a),u=W(),f=O("td"),d=G(c),h=W(),m=O("td"),b=G(_),C=W(),R(n,"class","svelte-1m5x2x2"),R(l,"class","plot_link svelte-1m5x2x2"),R(f,"class","svelte-1m5x2x2"),R(m,"class","svelte-1m5x2x2"),R(e,"class","svelte-1m5x2x2")},m(q,$){w(q,e,$),M(e,n),M(n,o),M(e,r),M(e,l),M(l,s),M(e,u),M(e,f),M(f,d),M(e,h),M(e,m),M(m,b),M(e,C),S||(N=j(l,"click",J),S=!0)},p(q,$){t=q,$&1&&i!==(i=t[4].day+"")&&_e(o,i),$&1&&a!==(a=t[4].plot+"")&&_e(s,a),$&1&&c!==(c=t[4].profits+"")&&_e(d,c),$&1&&_!==(_=t[4].taxRate+"")&&_e(b,_)},d(q){q&&y(e),S=!1,N()}}}function im(t){let e,n,i,o,r,l;function a(f,c){return f[0].economyAndLaws.balance_sheet_history.length==0?nm:tm}let s=a(t),u=s(t);return{c(){e=O("div"),n=O("div"),i=O("div"),i.textContent="Balance Sheet",o=W(),r=O("br"),l=W(),u.c(),R(i,"class","heading_m svelte-1m5x2x2"),R(n,"class","dialog-content svelte-1m5x2x2"),R(e,"class","dialog svelte-1m5x2x2")},m(f,c){w(f,e,c),M(e,n),M(n,i),M(n,o),M(n,r),M(n,l),u.m(n,null)},p(f,[c]){s===(s=a(f))&&u?u.p(f,c):(u.d(1),u=s(f),u&&(u.c(),u.m(n,null)))},i:ae,o:ae,d(f){f&&y(e),u.d()}}}function om(t,e,n){let i,o;se(t,Ke,a=>n(3,i=a)),se(t,Te,a=>n(0,o=a));function r(a){let s=parseInt(a.split(",")[0]),u=parseInt(a.split(",")[1]);Ce(Ke,i.x=s,i),Ce(Ke,i.y=u,i),Ce(Ke,i.visible=!0,i)}return[o,r,a=>{r(a.plot)}]}class ca extends me{constructor(e){super(),he(this,e,om,im,le,{})}}var ql=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,it=t=>!t||typeof t!="object"||Object.keys(t).length===0,rm=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function da(t,e){t.forEach(function(n){Array.isArray(n)?da(n,e):e.push(n)})}function pa(t){let e=[];return da(t,e),e}var ha=(...t)=>pa(t).filter(Boolean),ma=(t,e)=>{let n={},i=Object.keys(t),o=Object.keys(e);for(let r of i)if(o.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=ma(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=ha(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of o)i.includes(r)||(n[r]=e[r]);return n},$l=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),lm={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},_a=t=>t||void 0,jn=(...t)=>_a(pa(t).filter(Boolean).join(" ")),io=null,At={},wo=!1,En=(...t)=>e=>e.twMerge?((!io||wo)&&(wo=!1,io=it(At)?sa:Gp({...At,extend:{theme:At.theme,classGroups:At.classGroups,conflictingClassGroupModifiers:At.conflictingClassGroupModifiers,conflictingClassGroups:At.conflictingClassGroups,...At.extend}})),_a(io(jn(t)))):jn(t),Dl=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=jn(t[n],e[n]):t[n]=e[n];return t},sm=(t,e)=>{let{extend:n=null,slots:i={},variants:o={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...lm,...e},u=n!=null&&n.base?jn(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!it(n.variants)?ma(o,n.variants):o,c=n!=null&&n.defaultVariants&&!it(n.defaultVariants)?{...n.defaultVariants,...a}:a;!it(s.twMergeConfig)&&!rm(s.twMergeConfig,At)&&(wo=!0,At=s.twMergeConfig);let d=it(n==null?void 0:n.slots),h=it(i)?{}:{base:jn(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...i},m=d?h:Dl({...n==null?void 0:n.slots},it(h)?{base:t==null?void 0:t.base}:h),_=C=>{if(it(f)&&it(i)&&d)return En(u,C==null?void 0:C.class,C==null?void 0:C.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let S=(g,v,k=[],L)=>{let P=k;if(typeof v=="string")P=P.concat($l(v).split(" ").map(F=>`${g}:${F}`));else if(Array.isArray(v))P=P.concat(v.reduce((F,V)=>F.concat(`${g}:${V}`),[]));else if(typeof v=="object"&&typeof L=="string"){for(let F in v)if(v.hasOwnProperty(F)&&F===L){let V=v[F];if(V&&typeof V=="string"){let z=$l(V);P[L]?P[L]=P[L].concat(z.split(" ").map(te=>`${g}:${te}`)):P[L]=z.split(" ").map(te=>`${g}:${te}`)}else Array.isArray(V)&&V.length>0&&(P[L]=V.reduce((z,te)=>z.concat(`${g}:${te}`),[]))}}return P},N=(g,v=f,k=null,L=null)=>{var P;let F=v[g];if(!F||it(F))return null;let V=(P=L==null?void 0:L[g])!=null?P:C==null?void 0:C[g];if(V===null)return null;let z=ql(V),te=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,K=c==null?void 0:c[g],ne=[];if(typeof z=="object"&&te)for(let[ee,ge]of Object.entries(z)){let Se=F[ge];if(ee==="initial"){K=ge;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(ee)||(ne=S(ee,Se,ne,k))}let be=z!=null&&typeof z!="object"?z:ql(K),x=F[be]||F.false;return typeof ne=="object"&&typeof k=="string"&&ne[k]?Dl(ne,x):ne.length>0?(ne.push(x),ne):x},J=()=>f?Object.keys(f).map(g=>N(g,f)):null,q=(g,v)=>{if(!f||typeof f!="object")return null;let k=new Array;for(let L in f){let P=N(L,f,g,v),F=g==="base"&&typeof P=="string"?P:P&&P[g];F&&(k[k.length]=F)}return k},$={};for(let g in C)C[g]!==void 0&&($[g]=C[g]);let H=(g,v)=>{var k;let L=typeof(C==null?void 0:C[g])=="object"?{[g]:(k=C[g])==null?void 0:k.initial}:{};return{...c,...$,...L,...v}},U=(g=[],v)=>{let k=[];for(let{class:L,className:P,...F}of g){let V=!0;for(let[z,te]of Object.entries(F)){let K=H(z,v);if(Array.isArray(te)){if(!te.includes(K[z])){V=!1;break}}else if(K[z]!==te){V=!1;break}}V&&(L&&k.push(L),P&&k.push(P))}return k},p=g=>{let v=U(r,g),k=U(n==null?void 0:n.compoundVariants,g);return ha(k,v)},D=g=>{let v=p(g);if(!Array.isArray(v))return v;let k={};for(let L of v)if(typeof L=="string"&&(k.base=En(k.base,L)(s)),typeof L=="object")for(let[P,F]of Object.entries(L))k[P]=En(k[P],F)(s);return k},E=g=>{if(l.length<1)return null;let v={};for(let{slots:k=[],class:L,className:P,...F}of l){if(!it(F)){let V=!0;for(let z of Object.keys(F)){let te=H(z,g)[z];if(te===void 0||(Array.isArray(F[z])?!F[z].includes(te):F[z]!==te)){V=!1;break}}if(!V)continue}for(let V of k)v[V]=v[V]||[],v[V].push([L,P])}return v};if(!it(i)||!d){let g={};if(typeof m=="object"&&!it(m))for(let v of Object.keys(m))g[v]=k=>{var L,P;return En(m[v],q(v,k),((L=D(k))!=null?L:[])[v],((P=E(k))!=null?P:[])[v],k==null?void 0:k.class,k==null?void 0:k.className)(s)};return g}return En(u,J(),p(),C==null?void 0:C.class,C==null?void 0:C.className)(s)},b=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return _.variantKeys=b(),_.extend=n,_.base=u,_.slots=m,_.variants=f,_.defaultVariants=c,_.compoundSlots=l,_.compoundVariants=r,_};const Mi=sm({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function am(t){let e;const n=t[5].default,i=ue(n,t,t[8],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&256)&&ce(i,n,o,o[8],e?fe(n,o[8],r,null):de(o[8]),null)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function um(t){let e,n;const i=[{builders:t[3]},{class:Ie(Mi({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let o={$$slots:{default:[am]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=B(o,i[r]);return e=new Gc({props:o}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&31?pe(i,[l&8&&{builders:r[3]},l&7&&{class:Ie(Mi({variant:r[1],size:r[2],className:r[0]}))},i[2],l&16&&et(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function fm(t,e,n){const i=["class","variant","size","builders"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(h){Z.call(this,t,h)}function d(h){Z.call(this,t,h)}return t.$$set=h=>{e=B(B({},e),ke(h)),n(4,o=ie(e,i)),"class"in h&&n(0,a=h.class),"variant"in h&&n(1,s=h.variant),"size"in h&&n(2,u=h.size),"builders"in h&&n(3,f=h.builders),"$$scope"in h&&n(8,l=h.$$scope)},[a,s,u,f,o,r,c,d,l]}class Cn extends me{constructor(e){super(),he(this,e,fm,um,le,{class:0,variant:1,size:2,builders:3})}}function cm(t){let e;const n=t[3].default,i=ue(n,t,t[4],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16)&&ce(i,n,o,o[4],e?fe(n,o[4],r,null):de(o[4]),null)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function dm(t){let e,n;const i=[{class:Ie("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let o={$$slots:{default:[cm]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=B(o,i[r]);return e=new Hf({props:o}),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&7?pe(i,[l&1&&{class:Ie("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&et(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function pm(t,e,n){const i=["class","level"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=B(B({},e),ke(u)),n(2,o=ie(e,i)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,o,r,l]}class hm extends me{constructor(e){super(),he(this,e,pm,dm,le,{class:0,level:1})}}const mm=t=>({builder:t&64}),Bl=t=>({builder:t[6]});function _m(t){let e;const n=t[2].default,i=ue(n,t,t[5],Bl);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&96)&&ce(i,n,o,o[5],e?fe(n,o[5],r,mm):de(o[5]),Bl)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function gm(t){let e,n;const i=[{class:Ie(Mi(),t[0])},t[1]];let o={$$slots:{default:[_m,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=B(o,i[r]);return e=new Xf({props:o}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?pe(i,[l&1&&{class:Ie(Mi(),r[0])},l&2&&et(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function bm(t,e,n){const i=["class"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){Z.call(this,t,f)}function u(f){Z.call(this,t,f)}return t.$$set=f=>{e=B(B({},e),ke(f)),n(1,o=ie(e,i)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,o,r,s,u,l]}class vm extends me{constructor(e){super(),he(this,e,bm,gm,le,{class:0})}}function ym(t){let e;const n=t[1].default,i=ue(n,t,t[2],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&4)&&ce(i,n,o,o[2],e?fe(n,o[2],r,null):de(o[2]),null)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function wm(t){let e,n;const i=[t[0]];let o={$$slots:{default:[ym]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=B(o,i[r]);return e=new nc({props:o}),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&1?pe(i,[et(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function km(t,e,n){const i=[];let o=ie(e,i),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=B(B({},e),ke(a)),n(0,o=ie(e,i)),"$$scope"in a&&n(2,l=a.$$scope)},[o,r,l]}class Cm extends me{constructor(e){super(),he(this,e,km,wm,le,{})}}function Am(t){let e,n,i;const o=t[3].default,r=ue(o,t,t[2],null);let l=[{class:n=Ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=B(a,l[s]);return{c(){e=O("div"),r&&r.c(),re(e,a)},m(s,u){w(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&ce(r,o,s,s[2],i?fe(o,s[2],u,null):de(s[2]),null),re(e,a=pe(l,[(!i||u&1&&n!==(n=Ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(A(r,s),i=!0)},o(s){T(r,s),i=!1},d(s){s&&y(e),r&&r.d(s)}}}function Sm(t,e,n){const i=["class"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=B(B({},e),ke(s)),n(1,o=ie(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class Nm extends me{constructor(e){super(),he(this,e,Sm,Am,le,{class:0})}}function Tm(t){let e,n,i;const o=t[3].default,r=ue(o,t,t[2],null);let l=[{class:n=Ie("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=B(a,l[s]);return{c(){e=O("div"),r&&r.c(),re(e,a)},m(s,u){w(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&ce(r,o,s,s[2],i?fe(o,s[2],u,null):de(s[2]),null),re(e,a=pe(l,[(!i||u&1&&n!==(n=Ie("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(A(r,s),i=!0)},o(s){T(r,s),i=!1},d(s){s&&y(e),r&&r.d(s)}}}function Im(t,e,n){const i=["class"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=B(B({},e),ke(s)),n(1,o=ie(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class Em extends me{constructor(e){super(),he(this,e,Im,Tm,le,{class:0})}}function Mm(t){let e,n;const i=[{transition:t[1]},{transitionConfig:t[2]},{class:Ie("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let o={};for(let r=0;r<i.length;r+=1)o=B(o,i[r]);return e=new Tc({props:o}),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?pe(i,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Ie("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&et(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Pm(t,e,n){const i=["class","transition","transitionConfig"];let o=ie(e,i),{class:r=void 0}=e,{transition:l=aa}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=B(B({},e),ke(s)),n(3,o=ie(e,i)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,o]}class Om extends me{constructor(e){super(),he(this,e,Pm,Mm,le,{class:0,transition:1,transitionConfig:2})}}function Lm(t){let e;const n=t[4].default,i=ue(n,t,t[5],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&32)&&ce(i,n,o,o[5],e?fe(n,o[5],r,null):de(o[5]),null)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Fm(t){let e,n,i,o;e=new Om({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[Lm]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=B(l,r[a]);return i=new gc({props:l}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(a,s){Y(e,a,s),w(a,n,s),Y(i,a,s),o=!0},p(a,s){const u=s&15?pe(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[2])},s&8&&et(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),i.$set(u)},i(a){o||(A(e.$$.fragment,a),A(i.$$.fragment,a),o=!0)},o(a){T(e.$$.fragment,a),T(i.$$.fragment,a),o=!1},d(a){a&&y(n),X(e,a),X(i,a)}}}function Rm(t){let e,n;return e=new Cm({props:{$$slots:{default:[Fm]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,[o]){const r={};o&47&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function qm(t,e,n){const i=["transition","transitionConfig","class"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{transition:a=Jo}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=B(B({},e),ke(f)),n(3,o=ie(e,i)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,o,r,l]}class $m extends me{constructor(e){super(),he(this,e,qm,Rm,le,{transition:0,transitionConfig:1,class:2})}}function Dm(t){let e;const n=t[2].default,i=ue(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&ce(i,n,o,o[3],e?fe(n,o[3],r,null):de(o[3]),null)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Bm(t){let e,n;const i=[{class:Ie("text-sm text-muted-foreground",t[0])},t[1]];let o={$$slots:{default:[Dm]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=B(o,i[r]);return e=new Fc({props:o}),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?pe(i,[l&1&&{class:Ie("text-sm text-muted-foreground",r[0])},l&2&&et(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Gm(t,e,n){const i=["class"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=B(B({},e),ke(s)),n(1,o=ie(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,o,r,l]}class jm extends me{constructor(e){super(),he(this,e,Gm,Bm,le,{class:0})}}const Hm=Rf,Vm=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane P. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:100,already_researched:!1,duration:10},{id:"experiment_3",title:"Experiment 3",description:"This is the first experiment",cost:200,already_researched:!1,duration:20}];function Gl(t,e,n){const i=t.slice();return i[18]=e[n],i}function Wm(t){let e,n=t[1].lab.active_experiment.title+"",i;return{c(){e=G("🎉 Experiment Completed: "),i=G(n)},m(o,r){w(o,e,r),w(o,i,r)},p(o,r){r&2&&n!==(n=o[1].lab.active_experiment.title+"")&&_e(i,n)},d(o){o&&(y(e),y(i))}}}function Km(t){let e,n=t[1].lab.active_experiment.description+"",i;return{c(){e=O("div"),i=G(n),R(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(o,r){w(o,e,r),M(e,i)},p(o,r){r&2&&n!==(n=o[1].lab.active_experiment.description+"")&&_e(i,n)},d(o){o&&y(e)}}}function Um(t){let e,n,i,o;return e=new hm({props:{class:"text-center",$$slots:{default:[Wm]},$$scope:{ctx:t}}}),i=new jm({props:{$$slots:{default:[Km]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&2097154&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&2097154&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(A(e.$$.fragment,r),A(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function Jm(t){let e;return{c(){e=G("Thank the scientists")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function Ym(t){let e,n;return e=new vm({props:{$$slots:{default:[Jm]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&2097152&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Xm(t){let e,n,i,o;return e=new Em({props:{$$slots:{default:[Um]},$$scope:{ctx:t}}}),i=new Nm({props:{$$slots:{default:[Ym]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&2097154&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&2097152&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(A(e.$$.fragment,r),A(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function Zm(t){let e,n;return e=new $m({props:{$$slots:{default:[Xm]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&2097154&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Qm(t){let e;return{c(){e=O("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,i){w(n,e,i)},p:ae,d(n){n&&y(e)}}}function xm(t){let e,n,i,o=t[1].lab.xp+"",r,l,a,s;return{c(){e=O("span"),n=G("You have earned "),i=O("span"),r=G(o),l=G(" XP"),s=G(` from experiments. XP can be used to buy advanced plots and develop your
					city.`),R(i,"class",a="italic "+(t[1].lab.xp<0?"text-red-500":"text-green-500"))},m(u,f){w(u,e,f),M(e,n),M(e,i),M(i,r),M(i,l),M(e,s)},p(u,f){f&2&&o!==(o=u[1].lab.xp+"")&&_e(r,o),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-red-500":"text-green-500"))&&R(i,"class",a)},d(u){u&&y(e)}}}function zm(t){let e,n,i,o;return e=new Qt({props:{$$slots:{default:[Qm]},$$scope:{ctx:t}}}),i=new en({props:{$$slots:{default:[xm]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&2097152&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&2097154&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(A(e.$$.fragment,r),A(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function e_(t){let e;return{c(){e=G("No more experiments available")},m(n,i){w(n,e,i)},p:ae,i:ae,o:ae,d(n){n&&y(e)}}}function t_(t){let e,n,i,o,r=Ue(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=jl(Gl(t,r,s));const a=s=>T(l[s],1,1,()=>{l[s]=null});return{c(){e=O("div"),e.textContent=`It's time to start your next experiment! Choose below based on how much
				you want to fund the project. Once the experiment is over, you will see
				the results.`,n=W(),i=O("div");for(let s=0;s<l.length;s+=1)l[s].c();R(e,"class","select-none text-sm "),R(i,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){w(s,e,u),w(s,n,u),w(s,i,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(i,null);o=!0},p(s,u){if(u&19){r=Ue(s[0]);let f;for(f=0;f<r.length;f+=1){const c=Gl(s,r,f);l[f]?(l[f].p(c,u),A(l[f],1)):(l[f]=jl(c),l[f].c(),A(l[f],1),l[f].m(i,null))}for(Pe(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)A(l[u]);o=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)T(l[u]);o=!1},d(s){s&&(y(e),y(n),y(i)),gt(l,s)}}}function n_(t){let e,n=t[1].lab.active_experiment.duration+"",i,o,r,l,a=t[1].lab.active_experiment.duration===0&&Hl(t);return{c(){e=G("Currently running an experiment... check back in "),i=G(n),o=G(` days.
			`),a&&a.c(),r=Ee()},m(s,u){w(s,e,u),w(s,i,u),w(s,o,u),a&&a.m(s,u),w(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&_e(i,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&A(a,1)):(a=Hl(s),a.c(),A(a,1),a.m(r.parentNode,r)):a&&(Pe(),T(a,1,1,()=>{a=null}),Oe())},i(s){l||(A(a),l=!0)},o(s){T(a),l=!1},d(s){s&&(y(e),y(i),y(o),y(r)),a&&a.d(s)}}}function i_(t){let e=t[18].cost+"",n,i;return{c(){n=G(e),i=G(" gold")},m(o,r){w(o,n,r),w(o,i,r)},p(o,r){r&1&&e!==(e=o[18].cost+"")&&_e(n,e)},d(o){o&&(y(n),y(i))}}}function jl(t){let e,n;function i(){return t[11](t[18])}return e=new Cn({props:{variant:"outline",class:`min-w-48 w-max
				`+(t[18].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[i_]},$$scope:{ctx:t}}}),e.$on("click",i),{c(){Q(e.$$.fragment)},m(o,r){Y(e,o,r),n=!0},p(o,r){t=o;const l={};r&3&&(l.class=`min-w-48 w-max
				`+(t[18].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&2097153&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Hl(t){let e,n;return e=new Cn({props:{variant:"outline",$$slots:{default:[o_]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&2097152&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function o_(t){let e;return{c(){e=G("Complete experiment (and face the impact)")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function r_(t){let e;return{c(){e=O("span"),e.textContent="Keep in mind that not all experiments yield positive results.",R(e,"class","italic text-left text-red-800")},m(n,i){w(n,e,i)},p:ae,d(n){n&&y(e)}}}function l_(t){let e,n,i,o,r,l,a,s,u,f,c;e=new xt({props:{$$slots:{default:[zm]},$$scope:{ctx:t}}}),i=new Ti({});const d=[n_,t_,e_],h=[];function m(_,b){return _[1].lab.active_experiment!==null?0:_[0].length>0?1:_[0].length===0?2:-1}return~(r=m(t))&&(l=h[r]=d[r](t)),s=new Ti({props:{class:"mt-4"}}),f=new kn({props:{$$slots:{default:[r_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment),o=W(),l&&l.c(),a=W(),Q(s.$$.fragment),u=W(),Q(f.$$.fragment)},m(_,b){Y(e,_,b),w(_,n,b),Y(i,_,b),w(_,o,b),~r&&h[r].m(_,b),w(_,a,b),Y(s,_,b),w(_,u,b),Y(f,_,b),c=!0},p(_,b){const C={};b&2097154&&(C.$$scope={dirty:b,ctx:_}),e.$set(C);let S=r;r=m(_),r===S?~r&&h[r].p(_,b):(l&&(Pe(),T(h[S],1,1,()=>{h[S]=null}),Oe()),~r?(l=h[r],l?l.p(_,b):(l=h[r]=d[r](_),l.c()),A(l,1),l.m(a.parentNode,a)):l=null);const N={};b&2097152&&(N.$$scope={dirty:b,ctx:_}),f.$set(N)},i(_){c||(A(e.$$.fragment,_),A(i.$$.fragment,_),A(l),A(s.$$.fragment,_),A(f.$$.fragment,_),c=!0)},o(_){T(e.$$.fragment,_),T(i.$$.fragment,_),T(l),T(s.$$.fragment,_),T(f.$$.fragment,_),c=!1},d(_){_&&(y(n),y(o),y(a),y(u)),X(e,_),X(i,_),~r&&h[r].d(_),X(s,_),X(f,_)}}}function s_(t){let e,n;return e=new zt({props:{$$slots:{default:[l_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&2097155&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function a_(t){let e,n,i,o,r;e=new Hm({props:{open:t[2],$$slots:{default:[Zm]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[s_]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),i=new tn({props:a}),we.push(()=>Zt(i,"open",l)),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(s,u){Y(e,s,u),w(s,n,u),Y(i,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&2097154&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&2097155&&(c.$$scope={dirty:u,ctx:s}),!o&&u&8&&(o=!0,c.open=s[3],Xt(()=>o=!1)),i.$set(c)},i(s){r||(A(e.$$.fragment,s),A(i.$$.fragment,s),r=!0)},o(s){T(e.$$.fragment,s),T(i.$$.fragment,s),r=!1},d(s){s&&y(n),X(e,s),X(i,s)}}}function u_(t,e,n){let i,o;se(t,Te,N=>n(1,i=N)),se(t,si,N=>n(3,o=N));var r;ze[i.endGoal],Wi[i.difficulty];let a=[],s=!1,u=!1,f=!1;function c(){if(a.length>0||!s)return a;let N=[],J=Vm.filter(q=>!i.lab.past_experiments.some($=>$.id===q.id));for(let q=0;q<3;q++){let $=J[Math.floor(Math.random()*J.length)];N.push($)}return N=N.filter((q,$)=>N.indexOf(q)===$),N=N.filter(q=>q),console.log(N),n(8,f=!0),N}function d(N){if(i.townInfo.gold<N.cost){alert("You do not have enough gold to purchase this experiment.");return}Ce(Te,i.townInfo.gold-=N.cost,i),Ce(Te,i.lab.active_experiment=N,i),i.lab.past_experiments.push(N)}function h(){var N;switch(Ce(si,o=!1,o),n(2,u=!0),(N=i.lab.active_experiment)===null||N===void 0?void 0:N.id){case"sunshine":Ce(Te,i.modifiers.happiness=50,i);break;case 2:Ce(Te,i.townInfo.gold+=500,i);break}Ce(Te,i.lab.active_experiment.duration=-1,i)}function m(){let N=i;N.lab.xp+=Math.round(N.lab.active_experiment.cost/(Math.random()*95+1)),N.lab.active_experiment=null,n(2,u=!1),Ce(Te,i=N,i)}const _=()=>{m()},b=()=>{h()},C=N=>{N.cost<i.townInfo.gold&&d(N)};function S(N){o=N,si.set(o)}return t.$$.update=()=>{t.$$.dirty&387&&(i?(s=!0,n(0,a=f==!1?c():a),(n(7,r=i.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,u=!0)):s=!1)},[a,i,u,o,d,h,m,r,f,_,b,C,S]}class f_ extends me{constructor(e){super(),he(this,e,u_,a_,le,{})}}function Vl(t,e,n){const i=t.slice();return i[14]=e[n],i}function c_(t){let e;return{c(){e=O("span"),e.textContent="No Alerts",R(e,"class","townLog text-xs text-slate-500 text-center")},m(n,i){w(n,e,i)},p:ae,d(n){n&&y(e)}}}function d_(t){let e,n=t[1].townLog.split(`
`)[0]+"",i,o,r,l=Ue(t[1].townLog.split(`
`).slice(1,300)),a=[];for(let s=0;s<l.length;s+=1)a[s]=Wl(Vl(t,l,s));return{c(){e=O("div"),i=G(n),o=W();for(let s=0;s<a.length;s+=1)a[s].c();r=Ee(),R(e,"class","townLog text-xs text-center")},m(s,u){w(s,e,u),M(e,i),w(s,o,u);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(s,u);w(s,r,u)},p(s,u){if(u&2&&n!==(n=s[1].townLog.split(`
`)[0]+"")&&_e(i,n),u&2){l=Ue(s[1].townLog.split(`
`).slice(1,300));let f;for(f=0;f<l.length;f+=1){const c=Vl(s,l,f);a[f]?a[f].p(c,u):(a[f]=Wl(c),a[f].c(),a[f].m(r.parentNode,r))}for(;f<a.length;f+=1)a[f].d(1);a.length=l.length}},d(s){s&&(y(e),y(o),y(r)),gt(a,s)}}}function Wl(t){let e,n=t[14]+"",i,o;return{c(){e=O("span"),i=G(n),o=W(),R(e,"class","townLog text-xs text-center cursor-pointer")},m(r,l){w(r,e,l),M(e,i),M(e,o)},p(r,l){l&2&&n!==(n=r[14]+"")&&_e(i,n)},d(r){r&&y(e)}}}function Kl(t){let e,n;return e=new fa({props:{text:"Set this!!!"}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Ul(t){let e,n;return e=new Cn({props:{class:"text-xs",$$slots:{default:[p_]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&131072&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function p_(t){let e;return{c(){e=G("Manage Lab")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function Jl(t){let e,n;return e=new ca({}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function h_(t){let e,n,i,o,r,l=t[1].townInfo.name+"",a,s,u,f,c,d,h,m,_,b,C,S,N,J,q,$,H,U,p,D,E,g,v,k,L,P,F,V,z=Hn(t[1].economyAndLaws.tax_rate*100,0)+"",te,K,ne,be,x,ee,ge,Se,Be,$e,Me,qe,Ve,dt,tt,He,pt,lt;function xe(ve,Ae){return ve[1].townLog.length>0?d_:c_}let st=xe(t),Ye=st(t),Re=t[1].economyAndLaws.tax_rate==0&&Kl(),We=(t[1].hasLab||!0)&&Ul(t);Me=new Ti({props:{class:`mb-3 mt-0 bg-slate-700
	`}}),Ve=new ua({});let Ge=t[5]&&Jl();return{c(){e=O("div"),n=O("div"),i=O("div"),o=O("div"),r=O("div"),a=G(l),s=W(),u=O("div"),f=O("div"),c=O("span"),d=G(t[4]),h=G(" speed"),m=W(),_=O("span"),b=G("Day "),C=G(t[3]),S=G(" ("),N=G(t[2]),J=G("y)"),q=W(),$=O("span"),$.textContent="💡 Press P to Pause or learn how to play",H=W(),U=O("div"),p=O("div"),p.textContent="🚨 Alerts (scroll)",D=W(),Ye.c(),E=W(),g=O("div"),v=O("div"),k=O("div"),L=O("span"),L.textContent="Tax Rate",P=W(),F=O("span"),V=G("("),te=G(z),K=G("%)"),ne=W(),be=O("input"),ee=W(),ge=O("br"),Se=W(),Re&&Re.c(),Be=W(),We&&We.c(),$e=W(),Q(Me.$$.fragment),qe=W(),Q(Ve.$$.fragment),dt=W(),Ge&&Ge.c(),tt=Ee(),R(r,"class","text-2xl font-bold cursor-pointer text-emerald-700"),R(r,"id","townName"),R(f,"class","flex flex-col"),R(u,"class","text-xs gap-2 cursor-pointer hover:text-blue-600"),R($,"class","text-xs text-col"),R(p,"class","text-md cursor-pointer"),R(U,"class","flex flex-col gap-1 drop-shadow-md text-center pb-6 rounded-lg max-h-24 h-24 hover:max-h-48 hover:h-48 transition-all ml-6 mr-4 overflow-y-scroll scroll-smooth no-scrollbar cursor-pointer text-slate-500 hover:text-blue-600 w-1/2 "),R(L,"class","text-slate-500"),R(F,"class","text-sm text-gray-700"),R(k,"class","text-sm"),R(be,"type","range"),R(be,"min","0"),R(be,"max","1.0"),R(be,"step","0.05"),be.value=x=t[1].economyAndLaws.tax_rate,R(be,"class","cursor-pointer w-100 svelte-j064ft"),R(v,"class","pb-2 rounded-lg text-center"),R(g,"class",""),R(i,"class","select-none flex justify-evenly"),R(n,"class","select-none flex flex-col justify-start align-left text-left bg-slate-300 border-b-2 border-black text-black p-3 border-r-20 rounded-lg w-10/12"),R(n,"id","headerObject"),R(e,"class","<!-- center horizontally --> flex justify-center text-center p-3 fixed top-0 left-0 right-0 ")},m(ve,Ae){w(ve,e,Ae),M(e,n),M(n,i),M(i,o),M(o,r),M(r,a),M(o,s),M(o,u),M(u,f),M(f,c),M(c,d),M(c,h),M(f,m),M(f,_),M(_,b),M(_,C),M(_,S),M(_,N),M(_,J),M(o,q),M(o,$),M(i,H),M(i,U),M(U,p),M(U,D),Ye.m(U,null),M(i,E),M(i,g),M(g,v),M(v,k),M(k,L),M(k,P),M(k,F),M(F,V),M(F,te),M(F,K),M(v,ne),M(v,be),M(v,ee),M(v,ge),M(v,Se),Re&&Re.m(v,null),M(v,Be),We&&We.m(v,null),M(n,$e),Y(Me,n,null),M(n,qe),Y(Ve,n,null),w(ve,dt,Ae),Ge&&Ge.m(ve,Ae),w(ve,tt,Ae),He=!0,pt||(lt=[j(r,"click",t[6]),j(u,"click",t[7]),j(U,"click",t[11]),j(be,"input",t[8])],pt=!0)},p(ve,[Ae]){(!He||Ae&2)&&l!==(l=ve[1].townInfo.name+"")&&_e(a,l),(!He||Ae&16)&&_e(d,ve[4]),(!He||Ae&8)&&_e(C,ve[3]),(!He||Ae&4)&&_e(N,ve[2]),st===(st=xe(ve))&&Ye?Ye.p(ve,Ae):(Ye.d(1),Ye=st(ve),Ye&&(Ye.c(),Ye.m(U,null))),(!He||Ae&2)&&z!==(z=Hn(ve[1].economyAndLaws.tax_rate*100,0)+"")&&_e(te,z),(!He||Ae&2&&x!==(x=ve[1].economyAndLaws.tax_rate))&&(be.value=x),ve[1].economyAndLaws.tax_rate==0?Re?Ae&2&&A(Re,1):(Re=Kl(),Re.c(),A(Re,1),Re.m(v,Be)):Re&&(Pe(),T(Re,1,1,()=>{Re=null}),Oe()),ve[1].hasLab,We?(We.p(ve,Ae),Ae&2&&A(We,1)):(We=Ul(ve),We.c(),A(We,1),We.m(v,null)),ve[5]?Ge?Ae&32&&A(Ge,1):(Ge=Jl(),Ge.c(),A(Ge,1),Ge.m(tt.parentNode,tt)):Ge&&(Pe(),T(Ge,1,1,()=>{Ge=null}),Oe())},i(ve){He||(A(Re),A(We),A(Me.$$.fragment,ve),A(Ve.$$.fragment,ve),A(Ge),He=!0)},o(ve){T(Re),T(We),T(Me.$$.fragment,ve),T(Ve.$$.fragment,ve),T(Ge),He=!1},d(ve){ve&&(y(e),y(dt),y(tt)),Ye.d(),Re&&Re.d(),We&&We.d(),X(Me),X(Ve),Ge&&Ge.d(ve),pt=!1,Le(lt)}}}function Hn(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function m_(t,e,n){let i,o,r,l;se(t,Te,b=>n(1,i=b)),se(t,ai,b=>n(12,o=b)),se(t,co,b=>n(13,r=b)),se(t,yi,b=>n(5,l=b));let a,s;function u(){let b=prompt("Enter a new name for your town (under 200 chars)");if(b&&b.length<200){let C=i;C.townInfo.name=b,Te.set(C),localStorage.setItem(rt,JSON.stringify(C))}}let f="Normal";function c(){o==500?(Ce(ai,o=250,o),n(4,f="Fast")):(Ce(ai,o=500,o),n(4,f="Normal"))}function d(b){let C=i;C.economyAndLaws.tax_rate=Hn(b.target.value,2),Te.set(C),localStorage.setItem(rt,JSON.stringify(C))}function h(){let b=i;b.hasBank===!0?(b.townInfo.gold+=b.townInfo.gold_from_tourism,b.townInfo.gold_from_tourism=0,Te.set(b),localStorage.setItem(rt,JSON.stringify(b))):alert("You need a bank to transfer funds from tourism activities.")}document.addEventListener("keydown",b=>{switch(b.key.toLowerCase()){case"1":b.preventDefault(),c();break;case"2":b.preventDefault(),c();break}});function m(){si.set(!0)}const _=()=>{Ce(Te,i.townLog="",i)};return t.$$.update=()=>{if(t.$$.dirty&2){const b=document.getElementById("headerObject");b&&Ce(co,r=b.offsetHeight+32,r),n(2,a=Math.floor(i.environment.day/365)+1),n(3,s=at(i.environment.day))}},[Hn,i,a,s,f,l,u,c,d,m,h,_]}class __ extends me{constructor(e){super(),he(this,e,m_,h_,le,{roundTo:0,transferFundsFromBank:10})}get roundTo(){return Hn}get transferFundsFromBank(){return this.$$.ctx[10]}}function g_(t){let e;const n=t[2].default,i=ue(n,t,t[4],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16)&&ce(i,n,o,o[4],e?fe(n,o[4],r,null):de(o[4]),null)},i(o){e||(A(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function b_(t){let e,n;const i=[{class:Ie("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let o={$$slots:{default:[g_]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=B(o,i[r]);return e=new lp({props:o}),e.$on("mousedown",t[3]),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?pe(i,[l&1&&{class:Ie("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&et(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function v_(t,e,n){const i=["class"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){Z.call(this,t,u)}return t.$$set=u=>{e=B(B({},e),ke(u)),n(1,o=ie(e,i)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,o,r,s,l]}class an extends me{constructor(e){super(),he(this,e,v_,b_,le,{class:0})}}function Yl(t,e,n){const i=t.slice();return i[10]=e[n],i}function y_(t){let e;return{c(){e=G("Pause Menu")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function w_(t){let e;return{c(){e=G("Unpause any time by pressing 'P'")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function k_(t){let e,n,i,o;return e=new Qt({props:{$$slots:{default:[y_]},$$scope:{ctx:t}}}),i=new en({props:{$$slots:{default:[w_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&8192&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&8192&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(A(e.$$.fragment,r),A(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function Xl(t){let e,n,i,o,r,l=JSON.stringify(t[2].requirements[t[0].difficulty].population_count)+"",a,s,u=JSON.stringify(t[0].townInfo.population_count)+"",f,c,d,h,m=JSON.stringify(t[2].requirements[t[0].difficulty].happiness)+"",_,b,C=JSON.stringify(t[0].townInfo.happiness)+"",S,N,J,q,$=JSON.stringify(t[2].requirements[t[0].difficulty].employment*100)+"",H,U,p=JSON.stringify((t[0].townInfo.employees/t[0].townInfo.population_count||0)*100)+"",D,E,g,v,k,L=JSON.stringify(t[2].requirements[t[0].difficulty].health)+"",P,F,V=JSON.stringify(t[0].townInfo.health)+"",z,te,K,ne,be=JSON.stringify(t[2].requirements[t[0].difficulty].knowledge)+"",x,ee,ge=JSON.stringify(t[0].townInfo.knowledge_points)+"",Se,Be,$e;function Me(oe,De){return oe[0].townInfo.population_count>=oe[2].requirements[oe[0].difficulty].population_count?A_:C_}let qe=Me(t),Ve=qe(t);function dt(oe,De){return oe[0].townInfo.happiness>=oe[2].requirements[oe[0].difficulty].happiness?N_:S_}let tt=dt(t),He=tt(t);function pt(oe,De){return oe[0].townInfo.employees/oe[0].townInfo.population_count>=oe[2].requirements[oe[0].difficulty].employment?I_:T_}let lt=pt(t),xe=lt(t);function st(oe,De){return oe[0].townInfo.health>=oe[2].requirements[oe[0].difficulty].health?M_:E_}let Ye=st(t),Re=Ye(t);function We(oe,De){return oe[0].townInfo.knowledge_points>=oe[2].requirements[oe[0].difficulty].knowledge?O_:P_}let Ge=We(t),ve=Ge(t),Ae=t[2].requirements[t[0].difficulty].required_plots!=null&&t[2].requirements[t[0].difficulty].required_plots.length>0&&Zl(t);return{c(){e=O("div"),e.textContent=`With your difficulty (${t[3]}), you must also have:`,n=W(),i=O("ul"),o=O("li"),Ve.c(),r=G(`
						Population: `),a=G(l),s=G(" - Currently at "),f=G(u),c=W(),d=O("li"),He.c(),h=G(`
						Happiness: `),_=G(m),b=G(" - Currently at "),S=G(C),N=W(),J=O("li"),xe.c(),q=G(`
						Employment: `),H=G($),U=G("% - Currently at "),D=G(p),E=G("%"),g=W(),v=O("li"),Re.c(),k=G(`
						Health: `),P=G(L),F=G(" - Currently at "),z=G(V),te=W(),K=O("li"),ve.c(),ne=G(`
						Knowledge: `),x=G(be),ee=G(" - Currently at "),Se=G(ge),Be=W(),Ae&&Ae.c(),$e=Ee(),R(e,"class","text-base leading-relaxed"),R(i,"class","list-inside list-disc text-base leading-relaxedmt-0")},m(oe,De){w(oe,e,De),w(oe,n,De),w(oe,i,De),M(i,o),Ve.m(o,null),M(o,r),M(o,a),M(o,s),M(o,f),M(i,c),M(i,d),He.m(d,null),M(d,h),M(d,_),M(d,b),M(d,S),M(i,N),M(i,J),xe.m(J,null),M(J,q),M(J,H),M(J,U),M(J,D),M(J,E),M(i,g),M(i,v),Re.m(v,null),M(v,k),M(v,P),M(v,F),M(v,z),M(i,te),M(i,K),ve.m(K,null),M(K,ne),M(K,x),M(K,ee),M(K,Se),w(oe,Be,De),Ae&&Ae.m(oe,De),w(oe,$e,De)},p(oe,De){qe!==(qe=Me(oe))&&(Ve.d(1),Ve=qe(oe),Ve&&(Ve.c(),Ve.m(o,r))),De&1&&l!==(l=JSON.stringify(oe[2].requirements[oe[0].difficulty].population_count)+"")&&_e(a,l),De&1&&u!==(u=JSON.stringify(oe[0].townInfo.population_count)+"")&&_e(f,u),tt!==(tt=dt(oe))&&(He.d(1),He=tt(oe),He&&(He.c(),He.m(d,h))),De&1&&m!==(m=JSON.stringify(oe[2].requirements[oe[0].difficulty].happiness)+"")&&_e(_,m),De&1&&C!==(C=JSON.stringify(oe[0].townInfo.happiness)+"")&&_e(S,C),lt!==(lt=pt(oe))&&(xe.d(1),xe=lt(oe),xe&&(xe.c(),xe.m(J,q))),De&1&&$!==($=JSON.stringify(oe[2].requirements[oe[0].difficulty].employment*100)+"")&&_e(H,$),De&1&&p!==(p=JSON.stringify((oe[0].townInfo.employees/oe[0].townInfo.population_count||0)*100)+"")&&_e(D,p),Ye!==(Ye=st(oe))&&(Re.d(1),Re=Ye(oe),Re&&(Re.c(),Re.m(v,k))),De&1&&L!==(L=JSON.stringify(oe[2].requirements[oe[0].difficulty].health)+"")&&_e(P,L),De&1&&V!==(V=JSON.stringify(oe[0].townInfo.health)+"")&&_e(z,V),Ge!==(Ge=We(oe))&&(ve.d(1),ve=Ge(oe),ve&&(ve.c(),ve.m(K,ne))),De&1&&be!==(be=JSON.stringify(oe[2].requirements[oe[0].difficulty].knowledge)+"")&&_e(x,be),De&1&&ge!==(ge=JSON.stringify(oe[0].townInfo.knowledge_points)+"")&&_e(Se,ge),oe[2].requirements[oe[0].difficulty].required_plots!=null&&oe[2].requirements[oe[0].difficulty].required_plots.length>0?Ae?Ae.p(oe,De):(Ae=Zl(oe),Ae.c(),Ae.m($e.parentNode,$e)):Ae&&(Ae.d(1),Ae=null)},d(oe){oe&&(y(e),y(n),y(i),y(Be),y($e)),Ve.d(),He.d(),xe.d(),Re.d(),ve.d(),Ae&&Ae.d(oe)}}}function C_(t){let e;return{c(){e=G("❌")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function A_(t){let e;return{c(){e=G("✅")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function S_(t){let e;return{c(){e=G("❌")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function N_(t){let e;return{c(){e=G("✅")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function T_(t){let e;return{c(){e=G("❌")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function I_(t){let e;return{c(){e=G("✅")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function E_(t){let e;return{c(){e=G("❌")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function M_(t){let e;return{c(){e=G("✅")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function P_(t){let e;return{c(){e=G("❌")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function O_(t){let e;return{c(){e=G("✅")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function Zl(t){let e,n,i,o=Ue(t[2].requirements[t[0].difficulty].required_plots),r=[];for(let l=0;l<o.length;l+=1)r[l]=Ql(Yl(t,o,l));return{c(){e=O("br"),n=G(`
					You also need to have these plots:
					`);for(let l=0;l<r.length;l+=1)r[l].c();i=Ee()},m(l,a){w(l,e,a),w(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);w(l,i,a)},p(l,a){if(a&5){o=Ue(l[2].requirements[l[0].difficulty].required_plots);let s;for(s=0;s<o.length;s+=1){const u=Yl(l,o,s);r[s]?r[s].p(u,a):(r[s]=Ql(u),r[s].c(),r[s].m(i.parentNode,i))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(l){l&&(y(e),y(n),y(i)),gt(r,l)}}}function L_(t){let e;return{c(){e=G("❌")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function F_(t){let e;return{c(){e=G("✅")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function Ql(t){let e,n,i,o,r=t[10]+"",l,a;function s(c,d){return d&1&&(i=null),i==null&&(i=!!Ho(c[10],c[0])),i?F_:L_}let u=s(t,-1),f=u(t);return{c(){e=O("div"),n=O("li"),f.c(),o=W(),l=G(r),a=W(),R(e,"class","text-base leading-relaxed")},m(c,d){w(c,e,d),M(e,n),f.m(n,null),M(n,o),M(n,l),M(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,o))),d&1&&r!==(r=c[10]+"")&&_e(l,r)},d(c){c&&y(e),f.d()}}}function R_(t){let e;return{c(){e=G("Save game")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function q_(t){let e;return{c(){e=G("Save")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function $_(t){let e;return{c(){e=G("Upload game")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function D_(t){let e,n,i,o,r,l,a,s,u,f;return i=new an({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[R_]},$$scope:{ctx:t}}}),r=new Cn({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[q_]},$$scope:{ctx:t}}}),r.$on("click",t[6]),a=new an({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[$_]},$$scope:{ctx:t}}}),u=new Yo({props:{class:"hidden",type:"file",id:"upload"}}),u.$on("change",t[5]),{c(){e=O("div"),n=O("div"),Q(i.$$.fragment),o=W(),Q(r.$$.fragment),l=W(),Q(a.$$.fragment),s=W(),Q(u.$$.fragment),R(n,"class","flex gap-10"),R(e,"class","flex flex-col gap-3")},m(c,d){w(c,e,d),M(e,n),Y(i,n,null),M(n,o),Y(r,n,null),M(n,l),Y(a,n,null),M(n,s),Y(u,n,null),f=!0},p(c,d){const h={};d&8192&&(h.$$scope={dirty:d,ctx:c}),i.$set(h);const m={};d&8192&&(m.$$scope={dirty:d,ctx:c}),r.$set(m);const _={};d&8192&&(_.$$scope={dirty:d,ctx:c}),a.$set(_)},i(c){f||(A(i.$$.fragment,c),A(r.$$.fragment,c),A(a.$$.fragment,c),A(u.$$.fragment,c),f=!0)},o(c){T(i.$$.fragment,c),T(r.$$.fragment,c),T(a.$$.fragment,c),T(u.$$.fragment,c),f=!1},d(c){c&&y(e),X(i),X(r),X(a),X(u)}}}function B_(t){let e,n,i,o,r,l,a,s;e=new xt({props:{$$slots:{default:[k_]},$$scope:{ctx:t}}});let u=t[0].endGoal=="land"&&Xl(t);return a=new kn({props:{$$slots:{default:[D_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),i=O("span"),i.textContent=`${t[2].description_title}`,o=W(),r=O("div"),u&&u.c(),l=W(),Q(a.$$.fragment),R(i,"class","italic"),R(r,"class","gap-0 py-0 text-gray-400")},m(f,c){Y(e,f,c),w(f,n,c),w(f,i,c),w(f,o,c),w(f,r,c),u&&u.m(r,null),w(f,l,c),Y(a,f,c),s=!0},p(f,c){const d={};c&8192&&(d.$$scope={dirty:c,ctx:f}),e.$set(d),f[0].endGoal=="land"?u?u.p(f,c):(u=Xl(f),u.c(),u.m(r,null)):u&&(u.d(1),u=null);const h={};c&8192&&(h.$$scope={dirty:c,ctx:f}),a.$set(h)},i(f){s||(A(e.$$.fragment,f),A(a.$$.fragment,f),s=!0)},o(f){T(e.$$.fragment,f),T(a.$$.fragment,f),s=!1},d(f){f&&(y(n),y(i),y(o),y(r),y(l)),X(e,f),u&&u.d(),X(a,f)}}}function G_(t){let e,n;return e=new zt({props:{$$slots:{default:[B_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&8193&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function j_(t){let e,n,i;function o(l){t[7](l)}let r={$$slots:{default:[G_]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new tn({props:r}),we.push(()=>Zt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,[a]){const s={};a&8193&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Xt(()=>n=!1)),e.$set(s)},i(l){i||(A(e.$$.fragment,l),i=!0)},o(l){T(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function H_(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function V_(t,e,n){let i,o;se(t,Te,d=>n(0,i=d)),se(t,St,d=>n(1,o=d));const l=ze[i.endGoal],a=Wi[i.difficulty]||0;function s(){const d=JSON.stringify(i),h=new Blob([d],{type:"text/plain"}),m=URL.createObjectURL(h),_=document.createElement("a");_.href=m,_.download=`${new Date().toISOString()}.json`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(m)}function u(){const h=document.getElementById("upload").files;if(h==null)return;const m=h[0],_=new FileReader;_.onload=function(b){if(b.target==null)return;const C=b.target.result;if(typeof C=="string"){if(!H_(C)){alert("Invalid game file");return}Vo(JSON.parse(C))}else alert("Invalid game file: is not String.")},_.readAsText(m)}const f=()=>s();function c(d){o=d,St.set(o)}return t.$$.update=()=>{t.$$.dirty&1},[i,o,l,a,s,u,f,c]}class W_ extends me{constructor(e){super(),he(this,e,V_,j_,le,{})}}function K_(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=G(e)},m(i,o){w(i,n,o)},p(i,o){o&1&&e!==(e=i[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&_e(n,e)},d(i){i&&y(n)}}}function U_(t){let e;return{c(){e=G("Keep playin'")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function J_(t){let e,n=t[0].endGameDetails.msg+"",i,o,r,l,a,s,u,f;return u=new Cn({props:{$$slots:{default:[U_]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=O("span"),i=G(n),o=W(),r=O("br"),l=W(),a=O("br"),s=W(),Q(u.$$.fragment),R(e,"class","text-gray-500 text-sm")},m(c,d){w(c,e,d),M(e,i),w(c,o,d),w(c,r,d),w(c,l,d),w(c,a,d),w(c,s,d),Y(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&_e(i,n);const h={};d&16&&(h.$$scope={dirty:d,ctx:c}),u.$set(h)},i(c){f||(A(u.$$.fragment,c),f=!0)},o(c){T(u.$$.fragment,c),f=!1},d(c){c&&(y(e),y(o),y(r),y(l),y(a),y(s)),X(u,c)}}}function Y_(t){let e,n,i,o;return e=new Qt({props:{$$slots:{default:[K_]},$$scope:{ctx:t}}}),i=new en({props:{$$slots:{default:[J_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(A(e.$$.fragment,r),A(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function X_(t){let e;return{c(){e=O("span"),e.textContent="Reset the game by pressing SHIFT+ESC",R(e,"class","text-gray-500 text-sm")},m(n,i){w(n,e,i)},p:ae,d(n){n&&y(e)}}}function Z_(t){let e,n,i,o;return e=new xt({props:{$$slots:{default:[Y_]},$$scope:{ctx:t}}}),i=new kn({props:{$$slots:{default:[X_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(A(e.$$.fragment,r),A(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function Q_(t){let e,n;return e=new zt({props:{$$slots:{default:[Z_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&17&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function x_(t){let e,n,i;function o(l){t[3](l)}let r={$$slots:{default:[Q_]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new tn({props:r}),we.push(()=>Zt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Xt(()=>n=!1)),e.$set(s)},i(l){i||(A(e.$$.fragment,l),i=!0)},o(l){T(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function z_(t,e,n){let i;se(t,Te,a=>n(0,i=a));let o=!1;function r(){let a=i;a.overtime=!0,Te.set(a),n(1,o=!1),St.set(!1)}function l(a){o=a,n(1,o),n(0,i)}return t.$$.update=()=>{t.$$.dirty&1&&(i.endGameDetails!=null&&i.overtime==!1?n(1,o=!0):n(1,o=!1))},[i,o,r,l]}class eg extends me{constructor(e){super(),he(this,e,z_,x_,le,{})}}function tg(t){let e;return{c(){e=G("Welcome to Plots!")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function ng(t){let e;return{c(){e=G("Select a difficulty")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function ig(t){let e;return{c(){e=G("Select a game mode")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function og(t){let e;return{c(){e=O("p"),e.textContent=`${ze.political.description_title}`,R(e,"class","text-gray-500 text-sm")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function rg(t){let e;return{c(){e=O("p"),e.textContent=`${ze.land.description_title}`,R(e,"class","text-gray-500 text-sm")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function lg(t){let e;return{c(){e=G("Town Name")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function sg(t){let e;return{c(){e=G("Cheats")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function ag(t){let e,n,i,o,r,l,a,s,u,f,c,d,h,m,_,b,C,S,N,J,q,$,H,U,p,D,E,g,v,k,L,P,F;r=new an({props:{for:"difficulty",class:"mt-2",$$slots:{default:[ng]},$$scope:{ctx:t}}}),h=new an({props:{for:"endGoal",class:"mt-2",$$slots:{default:[ig]},$$scope:{ctx:t}}});function V(K,ne){return K[0]==="land"?rg:og}let z=V(t),te=z(t);return q=new an({props:{for:"townName",class:"mt-2",$$slots:{default:[lg]},$$scope:{ctx:t}}}),H=new Yo({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),D=new an({props:{for:"cheats",class:"mt-2",$$slots:{default:[sg]},$$scope:{ctx:t}}}),{c(){e=O("a"),e.textContent="GitHub / Learn how to play",n=W(),i=O("div"),o=O("div"),Q(r.$$.fragment),l=W(),a=O("select"),s=O("option"),s.textContent="Easy (quick game)",u=O("option"),u.textContent="Normal",f=O("option"),f.textContent="Hard (longest game)",c=W(),d=O("div"),Q(h.$$.fragment),m=W(),te.c(),_=W(),b=O("select"),C=O("option"),C.textContent=`${ze.land.short_title}`,S=O("option"),S.textContent="Rule the world through politics",N=W(),J=O("div"),Q(q.$$.fragment),$=W(),Q(H.$$.fragment),U=W(),p=O("div"),Q(D.$$.fragment),E=W(),g=O("select"),v=O("option"),v.textContent="No cheats",k=O("option"),k.textContent="Dev mode",R(e,"href","https://github.com/josephrcox/plots#how-to-play"),R(e,"class","text-blue-500 text-sm mb-4 hover:underline"),R(e,"target","_blank"),s.__value="0",kt(s,s.__value),u.__value="1",kt(u,u.__value),u.selected=!0,f.__value="2",kt(f,f.__value),R(a,"id","difficulty"),R(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),C.__value="land",kt(C,C.__value),S.__value="political",kt(S,S.__value),R(b,"id","endGoal"),R(b,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),v.__value="false",kt(v,v.__value),v.selected=!0,k.__value="true",kt(k,k.__value),R(g,"id","cheats"),R(g,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),R(i,"class","flex flex-col justify-center gap-5 mt-4")},m(K,ne){w(K,e,ne),w(K,n,ne),w(K,i,ne),M(i,o),Y(r,o,null),M(o,l),M(o,a),M(a,s),M(a,u),M(a,f),M(i,c),M(i,d),Y(h,d,null),M(d,m),te.m(d,null),M(d,_),M(d,b),M(b,C),M(b,S),rr(b,t[0]),M(i,N),M(i,J),Y(q,J,null),M(J,$),Y(H,J,null),M(i,U),M(i,p),Y(D,p,null),M(p,E),M(p,g),M(g,v),M(g,k),L=!0,P||(F=j(b,"change",t[3]),P=!0)},p(K,ne){const be={};ne&32&&(be.$$scope={dirty:ne,ctx:K}),r.$set(be);const x={};ne&32&&(x.$$scope={dirty:ne,ctx:K}),h.$set(x),z!==(z=V(K))&&(te.d(1),te=z(K),te&&(te.c(),te.m(d,_))),(!L||ne&1)&&rr(b,K[0]);const ee={};ne&32&&(ee.$$scope={dirty:ne,ctx:K}),q.$set(ee);const ge={};ne&32&&(ge.$$scope={dirty:ne,ctx:K}),D.$set(ge)},i(K){L||(A(r.$$.fragment,K),A(h.$$.fragment,K),A(q.$$.fragment,K),A(H.$$.fragment,K),A(D.$$.fragment,K),L=!0)},o(K){T(r.$$.fragment,K),T(h.$$.fragment,K),T(q.$$.fragment,K),T(H.$$.fragment,K),T(D.$$.fragment,K),L=!1},d(K){K&&(y(e),y(n),y(i)),X(r),X(h),te.d(),X(q),X(H),X(D),P=!1,F()}}}function ug(t){let e,n,i,o;return e=new Qt({props:{$$slots:{default:[tg]},$$scope:{ctx:t}}}),i=new en({props:{$$slots:{default:[ag]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&32&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&33&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(A(e.$$.fragment,r),A(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function fg(t){let e,n,i;return{c(){e=O("button"),e.textContent="Start game",R(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md")},m(o,r){w(o,e,r),n||(i=j(e,"click",t[2]),n=!0)},p:ae,d(o){o&&y(e),n=!1,i()}}}function cg(t){let e,n,i,o;return e=new xt({props:{$$slots:{default:[ug]},$$scope:{ctx:t}}}),i=new kn({props:{$$slots:{default:[fg]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&33&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&32&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(A(e.$$.fragment,r),A(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function dg(t){let e,n;return e=new zt({props:{transition:Jo,$$slots:{default:[cg]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&33&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function pg(t){let e,n,i;function o(l){t[4](l)}let r={$$slots:{default:[dg]},$$scope:{ctx:t}};return t[1].visible!==void 0&&(r.open=t[1].visible),e=new tn({props:r}),we.push(()=>Zt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,[a]){const s={};a&33&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1].visible,Xt(()=>n=!1)),e.$set(s)},i(l){i||(A(e.$$.fragment,l),i=!0)},o(l){T(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function hg(t,e,n){let i;se(t,Dn,s=>n(1,i=s));function o(){const s=document.getElementById("difficulty").value,u=document.getElementById("endGoal").value,f=document.getElementById("townName").value,c=document.getElementById("cheats").value=="true";wu(s,u,f,c)}let r="land";const l=s=>{n(0,r=s.target.value)};function a(s){t.$$.not_equal(i.visible,s)&&(i.visible=s,Dn.set(i))}return[r,i,o,l,a]}class mg extends me{constructor(e){super(),he(this,e,hg,pg,le,{})}}function _g(t){let e;return{c(){e=G("Scoreboard")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function gg(t){let e=t[1].description_title+"",n;return{c(){n=G(e)},m(i,o){w(i,n,o)},p:ae,d(i){i&&y(n)}}}function bg(t){let e,n,i,o;return e=new Qt({props:{$$slots:{default:[_g]},$$scope:{ctx:t}}}),i=new en({props:{$$slots:{default:[gg]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(A(e.$$.fragment,r),A(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function vg(t){let e;return{c(){e=G("footer")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function yg(t){let e,n,i,o;return e=new xt({props:{$$slots:{default:[bg]},$$scope:{ctx:t}}}),i=new kn({props:{$$slots:{default:[vg]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=G(`
		hi
		`),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(A(e.$$.fragment,r),A(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function wg(t){let e,n;return e=new zt({props:{$$slots:{default:[yg]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&128&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function kg(t){let e,n,i;function o(l){t[3](l)}let r={$$slots:{default:[wg]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new tn({props:r}),we.push(()=>Zt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Xt(()=>n=!1)),e.$set(s)},i(l){i||(A(e.$$.fragment,l),i=!0)},o(l){T(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function Cg(t,e,n){let i,o;se(t,Te,s=>n(2,i=s)),se(t,sr,s=>n(0,o=s));const l=ze[i.endGoal];Wi[i.difficulty];function a(s){o=s,sr.set(o)}return t.$$.update=()=>{t.$$.dirty&4},[o,l,i,a]}class Ag extends me{constructor(e){super(),he(this,e,Cg,kg,le,{})}}function fi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sg(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ga(t){let e,n,i;t.length!==2?(e=fi,n=(a,s)=>fi(t(a),s),i=(a,s)=>t(a)-s):(e=t===fi||t===Sg?t:Ng,n=t,i=t);function o(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=o(a,s,u,f-1);return c>u&&i(a[c-1],s)>-i(a[c],s)?c-1:c}return{left:o,center:l,right:r}}function Ng(){return 0}function Tg(t){return t===null?NaN:+t}const Ig=ga(fi),Eg=Ig.right;ga(Tg).center;const Mg=Math.sqrt(50),Pg=Math.sqrt(10),Og=Math.sqrt(2);function Pi(t,e,n){const i=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(i)),r=i/Math.pow(10,o),l=r>=Mg?10:r>=Pg?5:r>=Og?2:1;let a,s,u;return o<0?(u=Math.pow(10,-o)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,o)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?Pi(t,e,n*2):[a,s,u]}function Lg(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[o,r,l]=i?Pi(e,t,n):Pi(t,e,n);if(!(r>=o))return[];const a=r-o+1,s=new Array(a);if(i)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(o+u)/-l;else for(let u=0;u<a;++u)s[u]=(o+u)*l;return s}function ko(t,e,n){return e=+e,t=+t,n=+n,Pi(t,e,n)[2]}function Fg(t,e,n){e=+e,t=+t,n=+n;const i=e<t,o=i?ko(e,t,n):ko(t,e,n);return(i?-1:1)*(o<0?1/-o:o)}function Rg(t){return t}var oo=1,ro=2,Co=3,Ln=4,xl=1e-6;function qg(t){return"translate("+t+",0)"}function $g(t){return"translate(0,"+t+")"}function Dg(t){return e=>+t(e)}function Bg(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Gg(){return!this.__axis}function ba(t,e){var n=[],i=null,o=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===oo||t===Ln?-1:1,f=t===Ln||t===ro?"x":"y",c=t===oo||t===Co?qg:$g;function d(h){var m=i??(e.ticks?e.ticks.apply(e,n):e.domain()),_=o??(e.tickFormat?e.tickFormat.apply(e,n):Rg),b=Math.max(r,0)+a,C=e.range(),S=+C[0]+s,N=+C[C.length-1]+s,J=(e.bandwidth?Bg:Dg)(e.copy(),s),q=h.selection?h.selection():h,$=q.selectAll(".domain").data([null]),H=q.selectAll(".tick").data(m,e).order(),U=H.exit(),p=H.enter().append("g").attr("class","tick"),D=H.select("line"),E=H.select("text");$=$.merge($.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),H=H.merge(p),D=D.merge(p.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),E=E.merge(p.append("text").attr("fill","currentColor").attr(f,u*b).attr("dy",t===oo?"0em":t===Co?"0.71em":"0.32em")),h!==q&&($=$.transition(h),H=H.transition(h),D=D.transition(h),E=E.transition(h),U=U.transition(h).attr("opacity",xl).attr("transform",function(g){return isFinite(g=J(g))?c(g+s):this.getAttribute("transform")}),p.attr("opacity",xl).attr("transform",function(g){var v=this.parentNode.__axis;return c((v&&isFinite(v=v(g))?v:J(g))+s)})),U.remove(),$.attr("d",t===Ln||t===ro?l?"M"+u*l+","+S+"H"+s+"V"+N+"H"+u*l:"M"+s+","+S+"V"+N:l?"M"+S+","+u*l+"V"+s+"H"+N+"V"+u*l:"M"+S+","+s+"H"+N),H.attr("opacity",1).attr("transform",function(g){return c(J(g)+s)}),D.attr(f+"2",u*r),E.attr(f,u*b).text(_),q.filter(Gg).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ro?"start":t===Ln?"end":"middle"),q.each(function(){this.__axis=J})}return d.scale=function(h){return arguments.length?(e=h,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(i=h==null?null:Array.from(h),d):i&&i.slice()},d.tickFormat=function(h){return arguments.length?(o=h,d):o},d.tickSize=function(h){return arguments.length?(r=l=+h,d):r},d.tickSizeInner=function(h){return arguments.length?(r=+h,d):r},d.tickSizeOuter=function(h){return arguments.length?(l=+h,d):l},d.tickPadding=function(h){return arguments.length?(a=+h,d):a},d.offset=function(h){return arguments.length?(s=+h,d):s},d}function jg(t){return ba(Co,t)}function Hg(t){return ba(Ln,t)}var Vg={value:()=>{}};function va(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new ci(n)}function ci(t){this._=t}function Wg(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}ci.prototype=va.prototype={constructor:ci,on:function(t,e){var n=this._,i=Wg(t+"",n),o,r=-1,l=i.length;if(arguments.length<2){for(;++r<l;)if((o=(t=i[r]).type)&&(o=Kg(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(o=(t=i[r]).type)n[o]=zl(n[o],t.name,e);else if(e==null)for(o in n)n[o]=zl(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ci(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};function Kg(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function zl(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=Vg,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ao="http://www.w3.org/1999/xhtml";const es={svg:"http://www.w3.org/2000/svg",xhtml:Ao,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ui(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),es.hasOwnProperty(e)?{space:es[e],local:t}:t}function Ug(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ao&&e.documentElement.namespaceURI===Ao?e.createElement(t):e.createElementNS(n,t)}}function Jg(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ya(t){var e=Ui(t);return(e.local?Jg:Ug)(e)}function Yg(){}function Xo(t){return t==null?Yg:function(){return this.querySelector(t)}}function Xg(t){typeof t!="function"&&(t=Xo(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,a=i[o]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new ot(i,this._parents)}function Zg(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Qg(){return[]}function wa(t){return t==null?Qg:function(){return this.querySelectorAll(t)}}function xg(t){return function(){return Zg(t.apply(this,arguments))}}function zg(t){typeof t=="function"?t=xg(t):t=wa(t);for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(i.push(t.call(s,s.__data__,u,l)),o.push(s));return new ot(i,o)}function ka(t){return function(){return this.matches(t)}}function Ca(t){return function(e){return e.matches(t)}}var e0=Array.prototype.find;function t0(t){return function(){return e0.call(this.children,t)}}function n0(){return this.firstElementChild}function i0(t){return this.select(t==null?n0:t0(typeof t=="function"?t:Ca(t)))}var o0=Array.prototype.filter;function r0(){return Array.from(this.children)}function l0(t){return function(){return o0.call(this.children,t)}}function s0(t){return this.selectAll(t==null?r0:l0(typeof t=="function"?t:Ca(t)))}function a0(t){typeof t!="function"&&(t=ka(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,a=i[o]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new ot(i,this._parents)}function Aa(t){return new Array(t.length)}function u0(){return new ot(this._enter||this._groups.map(Aa),this._parents)}function Oi(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Oi.prototype={constructor:Oi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function f0(t){return function(){return t}}function c0(t,e,n,i,o,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],i[l]=a):n[l]=new Oi(t,r[l]);for(;l<s;++l)(a=e[l])&&(o[l]=a)}function d0(t,e,n,i,o,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),h;for(a=0;a<f;++a)(s=e[a])&&(d[a]=h=l.call(s,s.__data__,a,e)+"",u.has(h)?o[a]=s:u.set(h,s));for(a=0;a<c;++a)h=l.call(t,r[a],a,r)+"",(s=u.get(h))?(i[a]=s,s.__data__=r[a],u.delete(h)):n[a]=new Oi(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(o[a]=s)}function p0(t){return t.__data__}function h0(t,e){if(!arguments.length)return Array.from(this,p0);var n=e?d0:c0,i=this._parents,o=this._groups;typeof t!="function"&&(t=f0(t));for(var r=o.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=i[u],c=o[u],d=c.length,h=m0(t.call(f,f&&f.__data__,u,i)),m=h.length,_=a[u]=new Array(m),b=l[u]=new Array(m),C=s[u]=new Array(d);n(f,c,_,b,C,h,e);for(var S=0,N=0,J,q;S<m;++S)if(J=_[S]){for(S>=N&&(N=S+1);!(q=b[N])&&++N<m;);J._next=q||null}}return l=new ot(l,i),l._enter=a,l._exit=s,l}function m0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _0(){return new ot(this._exit||this._groups.map(Aa),this._parents)}function g0(t,e,n){var i=this.enter(),o=this,r=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function b0(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,r=i.length,l=Math.min(o,r),a=new Array(o),s=0;s<l;++s)for(var u=n[s],f=i[s],c=u.length,d=a[s]=new Array(c),h,m=0;m<c;++m)(h=u[m]||f[m])&&(d[m]=h);for(;s<o;++s)a[s]=n[s];return new ot(a,this._parents)}function v0(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,r=i[o],l;--o>=0;)(l=i[o])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function y0(t){t||(t=w0);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var l=n[r],a=l.length,s=o[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new ot(o,this._parents).order()}function w0(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function k0(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function C0(){return Array.from(this)}function A0(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var l=i[o];if(l)return l}return null}function S0(){let t=0;for(const e of this)++t;return t}function N0(){return!this.node()}function T0(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],r=0,l=o.length,a;r<l;++r)(a=o[r])&&t.call(a,a.__data__,r,o);return this}function I0(t){return function(){this.removeAttribute(t)}}function E0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function M0(t,e){return function(){this.setAttribute(t,e)}}function P0(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function O0(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function L0(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function F0(t,e){var n=Ui(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?E0:I0:typeof e=="function"?n.local?L0:O0:n.local?P0:M0)(n,e))}function Sa(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function R0(t){return function(){this.style.removeProperty(t)}}function q0(t,e,n){return function(){this.style.setProperty(t,e,n)}}function $0(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function D0(t,e,n){return arguments.length>1?this.each((e==null?R0:typeof e=="function"?$0:q0)(t,e,n??"")):_n(this.node(),t)}function _n(t,e){return t.style.getPropertyValue(e)||Sa(t).getComputedStyle(t,null).getPropertyValue(e)}function B0(t){return function(){delete this[t]}}function G0(t,e){return function(){this[t]=e}}function j0(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function H0(t,e){return arguments.length>1?this.each((e==null?B0:typeof e=="function"?j0:G0)(t,e)):this.node()[t]}function Na(t){return t.trim().split(/^|\s+/)}function Zo(t){return t.classList||new Ta(t)}function Ta(t){this._node=t,this._names=Na(t.getAttribute("class")||"")}Ta.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ia(t,e){for(var n=Zo(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function Ea(t,e){for(var n=Zo(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function V0(t){return function(){Ia(this,t)}}function W0(t){return function(){Ea(this,t)}}function K0(t,e){return function(){(e.apply(this,arguments)?Ia:Ea)(this,t)}}function U0(t,e){var n=Na(t+"");if(arguments.length<2){for(var i=Zo(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?K0:e?V0:W0)(n,e))}function J0(){this.textContent=""}function Y0(t){return function(){this.textContent=t}}function X0(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Z0(t){return arguments.length?this.each(t==null?J0:(typeof t=="function"?X0:Y0)(t)):this.node().textContent}function Q0(){this.innerHTML=""}function x0(t){return function(){this.innerHTML=t}}function z0(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function eb(t){return arguments.length?this.each(t==null?Q0:(typeof t=="function"?z0:x0)(t)):this.node().innerHTML}function tb(){this.nextSibling&&this.parentNode.appendChild(this)}function nb(){return this.each(tb)}function ib(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ob(){return this.each(ib)}function rb(t){var e=typeof t=="function"?t:ya(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function lb(){return null}function sb(t,e){var n=typeof t=="function"?t:ya(t),i=e==null?lb:typeof e=="function"?e:Xo(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function ab(){var t=this.parentNode;t&&t.removeChild(this)}function ub(){return this.each(ab)}function fb(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function cb(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function db(t){return this.select(t?cb:fb)}function pb(t){return arguments.length?this.property("__data__",t):this.node().__data__}function hb(t){return function(e){t.call(this,e,this.__data__)}}function mb(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function _b(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,r;n<o;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++i]=r;++i?e.length=i:delete this.__on}}}function gb(t,e,n){return function(){var i=this.__on,o,r=hb(e);if(i){for(var l=0,a=i.length;l<a;++l)if((o=i[l]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=e;return}}this.addEventListener(t.type,r,n),o={type:t.type,name:t.name,value:e,listener:r,options:n},i?i.push(o):this.__on=[o]}}function bb(t,e,n){var i=mb(t+""),o,r=i.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(o=0,f=a[s];o<r;++o)if((l=i[o]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?gb:_b,o=0;o<r;++o)this.each(a(i[o],e,n));return this}function Ma(t,e,n){var i=Sa(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function vb(t,e){return function(){return Ma(this,t,e)}}function yb(t,e){return function(){return Ma(this,t,e.apply(this,arguments))}}function wb(t,e){return this.each((typeof e=="function"?yb:vb)(t,e))}function*kb(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length,l;o<r;++o)(l=i[o])&&(yield l)}var Pa=[null];function ot(t,e){this._groups=t,this._parents=e}function Xn(){return new ot([[document.documentElement]],Pa)}function Cb(){return this}ot.prototype=Xn.prototype={constructor:ot,select:Xg,selectAll:zg,selectChild:i0,selectChildren:s0,filter:a0,data:h0,enter:u0,exit:_0,join:g0,merge:b0,selection:Cb,order:v0,sort:y0,call:k0,nodes:C0,node:A0,size:S0,empty:N0,each:T0,attr:F0,style:D0,property:H0,classed:U0,text:Z0,html:eb,raise:nb,lower:ob,append:rb,insert:sb,remove:ub,clone:db,datum:pb,on:bb,dispatch:wb,[Symbol.iterator]:kb};function Ab(t){return typeof t=="string"?new ot([[document.querySelector(t)]],[document.documentElement]):new ot([[t]],Pa)}function Qo(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Oa(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Zn(){}var Vn=.7,Li=1/Vn,pn="\\s*([+-]?\\d+)\\s*",Wn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sb=/^#([0-9a-f]{3,8})$/,Nb=new RegExp(`^rgb\\(${pn},${pn},${pn}\\)$`),Tb=new RegExp(`^rgb\\(${_t},${_t},${_t}\\)$`),Ib=new RegExp(`^rgba\\(${pn},${pn},${pn},${Wn}\\)$`),Eb=new RegExp(`^rgba\\(${_t},${_t},${_t},${Wn}\\)$`),Mb=new RegExp(`^hsl\\(${Wn},${_t},${_t}\\)$`),Pb=new RegExp(`^hsla\\(${Wn},${_t},${_t},${Wn}\\)$`),ts={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qo(Zn,Jt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ns,formatHex:ns,formatHex8:Ob,formatHsl:Lb,formatRgb:is,toString:is});function ns(){return this.rgb().formatHex()}function Ob(){return this.rgb().formatHex8()}function Lb(){return La(this).formatHsl()}function is(){return this.rgb().formatRgb()}function Jt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Sb.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?os(e):n===3?new nt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ni(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ni(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Nb.exec(t))?new nt(e[1],e[2],e[3],1):(e=Tb.exec(t))?new nt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ib.exec(t))?ni(e[1],e[2],e[3],e[4]):(e=Eb.exec(t))?ni(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Mb.exec(t))?ss(e[1],e[2]/100,e[3]/100,1):(e=Pb.exec(t))?ss(e[1],e[2]/100,e[3]/100,e[4]):ts.hasOwnProperty(t)?os(ts[t]):t==="transparent"?new nt(NaN,NaN,NaN,0):null}function os(t){return new nt(t>>16&255,t>>8&255,t&255,1)}function ni(t,e,n,i){return i<=0&&(t=e=n=NaN),new nt(t,e,n,i)}function Fb(t){return t instanceof Zn||(t=Jt(t)),t?(t=t.rgb(),new nt(t.r,t.g,t.b,t.opacity)):new nt}function So(t,e,n,i){return arguments.length===1?Fb(t):new nt(t,e,n,i??1)}function nt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Qo(nt,So,Oa(Zn,{brighter(t){return t=t==null?Li:Math.pow(Li,t),new nt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Vn:Math.pow(Vn,t),new nt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new nt(Kt(this.r),Kt(this.g),Kt(this.b),Fi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rs,formatHex:rs,formatHex8:Rb,formatRgb:ls,toString:ls}));function rs(){return`#${Vt(this.r)}${Vt(this.g)}${Vt(this.b)}`}function Rb(){return`#${Vt(this.r)}${Vt(this.g)}${Vt(this.b)}${Vt((isNaN(this.opacity)?1:this.opacity)*255)}`}function ls(){const t=Fi(this.opacity);return`${t===1?"rgb(":"rgba("}${Kt(this.r)}, ${Kt(this.g)}, ${Kt(this.b)}${t===1?")":`, ${t})`}`}function Fi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Kt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Vt(t){return t=Kt(t),(t<16?"0":"")+t.toString(16)}function ss(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ft(t,e,n,i)}function La(t){if(t instanceof ft)return new ft(t.h,t.s,t.l,t.opacity);if(t instanceof Zn||(t=Jt(t)),!t)return new ft;if(t instanceof ft)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),r=Math.max(e,n,i),l=NaN,a=r-o,s=(r+o)/2;return a?(e===r?l=(n-i)/a+(n<i)*6:n===r?l=(i-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+o:2-r-o,l*=60):a=s>0&&s<1?0:l,new ft(l,a,s,t.opacity)}function qb(t,e,n,i){return arguments.length===1?La(t):new ft(t,e,n,i??1)}function ft(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Qo(ft,qb,Oa(Zn,{brighter(t){return t=t==null?Li:Math.pow(Li,t),new ft(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Vn:Math.pow(Vn,t),new ft(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new nt(lo(t>=240?t-240:t+120,o,i),lo(t,o,i),lo(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new ft(as(this.h),ii(this.s),ii(this.l),Fi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fi(this.opacity);return`${t===1?"hsl(":"hsla("}${as(this.h)}, ${ii(this.s)*100}%, ${ii(this.l)*100}%${t===1?")":`, ${t})`}`}}));function as(t){return t=(t||0)%360,t<0?t+360:t}function ii(t){return Math.max(0,Math.min(1,t||0))}function lo(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const xo=t=>()=>t;function $b(t,e){return function(n){return t+n*e}}function Db(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Bb(t){return(t=+t)==1?Fa:function(e,n){return n-e?Db(e,n,t):xo(isNaN(e)?n:e)}}function Fa(t,e){var n=e-t;return n?$b(t,n):xo(isNaN(t)?e:t)}const Ri=function t(e){var n=Bb(e);function i(o,r){var l=n((o=So(o)).r,(r=So(r)).r),a=n(o.g,r.g),s=n(o.b,r.b),u=Fa(o.opacity,r.opacity);return function(f){return o.r=l(f),o.g=a(f),o.b=s(f),o.opacity=u(f),o+""}}return i.gamma=t,i}(1);function Gb(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),o;return function(r){for(o=0;o<n;++o)i[o]=t[o]*(1-r)+e[o]*r;return i}}function jb(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Hb(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,o=new Array(i),r=new Array(n),l;for(l=0;l<i;++l)o[l]=zo(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<i;++l)r[l]=o[l](a);return r}}function Vb(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function ut(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Wb(t,e){var n={},i={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=zo(t[o],e[o]):i[o]=e[o];return function(r){for(o in n)i[o]=n[o](r);return i}}var No=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,so=new RegExp(No.source,"g");function Kb(t){return function(){return t}}function Ub(t){return function(e){return t(e)+""}}function Ra(t,e){var n=No.lastIndex=so.lastIndex=0,i,o,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(i=No.exec(t))&&(o=so.exec(e));)(r=o.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(i=i[0])===(o=o[0])?a[l]?a[l]+=o:a[++l]=o:(a[++l]=null,s.push({i:l,x:ut(i,o)})),n=so.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?Ub(s[0].x):Kb(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function zo(t,e){var n=typeof e,i;return e==null||n==="boolean"?xo(e):(n==="number"?ut:n==="string"?(i=Jt(e))?(e=i,Ri):Ra:e instanceof Jt?Ri:e instanceof Date?Vb:jb(e)?Gb:Array.isArray(e)?Hb:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Wb:ut)(t,e)}function Jb(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var us=180/Math.PI,To={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qa(t,e,n,i,o,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*i)&&(n-=t*s,i-=e*s),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,s/=a),t*i<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*us,skewX:Math.atan(s)*us,scaleX:l,scaleY:a}}var oi;function Yb(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?To:qa(e.a,e.b,e.c,e.d,e.e,e.f)}function Xb(t){return t==null||(oi||(oi=document.createElementNS("http://www.w3.org/2000/svg","g")),oi.setAttribute("transform",t),!(t=oi.transform.baseVal.consolidate()))?To:(t=t.matrix,qa(t.a,t.b,t.c,t.d,t.e,t.f))}function $a(t,e,n,i){function o(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,h,m){if(u!==c||f!==d){var _=h.push("translate(",null,e,null,n);m.push({i:_-4,x:ut(u,c)},{i:_-2,x:ut(f,d)})}else(c||d)&&h.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(o(c)+"rotate(",null,i)-2,x:ut(u,f)})):f&&c.push(o(c)+"rotate("+f+i)}function a(u,f,c,d){u!==f?d.push({i:c.push(o(c)+"skewX(",null,i)-2,x:ut(u,f)}):f&&c.push(o(c)+"skewX("+f+i)}function s(u,f,c,d,h,m){if(u!==c||f!==d){var _=h.push(o(h)+"scale(",null,",",null,")");m.push({i:_-4,x:ut(u,c)},{i:_-2,x:ut(f,d)})}else(c!==1||d!==1)&&h.push(o(h)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(h){for(var m=-1,_=d.length,b;++m<_;)c[(b=d[m]).i]=b.x(h);return c.join("")}}}var Zb=$a(Yb,"px, ","px)","deg)"),Qb=$a(Xb,", ",")",")"),gn=0,Fn=0,Mn=0,Da=1e3,qi,Rn,$i=0,Yt=0,Ji=0,Kn=typeof performance=="object"&&performance.now?performance:Date,Ba=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function er(){return Yt||(Ba(xb),Yt=Kn.now()+Ji)}function xb(){Yt=0}function Di(){this._call=this._time=this._next=null}Di.prototype=Ga.prototype={constructor:Di,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?er():+n)+(e==null?0:+e),!this._next&&Rn!==this&&(Rn?Rn._next=this:qi=this,Rn=this),this._call=t,this._time=n,Io()},stop:function(){this._call&&(this._call=null,this._time=1/0,Io())}};function Ga(t,e,n){var i=new Di;return i.restart(t,e,n),i}function zb(){er(),++gn;for(var t=qi,e;t;)(e=Yt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--gn}function fs(){Yt=($i=Kn.now())+Ji,gn=Fn=0;try{zb()}finally{gn=0,t1(),Yt=0}}function e1(){var t=Kn.now(),e=t-$i;e>Da&&(Ji-=e,$i=t)}function t1(){for(var t,e=qi,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:qi=n);Rn=t,Io(i)}function Io(t){if(!gn){Fn&&(Fn=clearTimeout(Fn));var e=t-Yt;e>24?(t<1/0&&(Fn=setTimeout(fs,t-Kn.now()-Ji)),Mn&&(Mn=clearInterval(Mn))):(Mn||($i=Kn.now(),Mn=setInterval(e1,Da)),gn=1,Ba(fs))}}function cs(t,e,n){var i=new Di;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var n1=va("start","end","cancel","interrupt"),i1=[],ja=0,ds=1,Eo=2,di=3,ps=4,Mo=5,pi=6;function Yi(t,e,n,i,o,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;o1(t,n,{name:e,index:i,group:o,on:n1,tween:i1,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:ja})}function tr(t,e){var n=ct(t,e);if(n.state>ja)throw new Error("too late; already scheduled");return n}function bt(t,e){var n=ct(t,e);if(n.state>di)throw new Error("too late; already running");return n}function ct(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function o1(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=Ga(r,0,n.time);function r(u){n.state=ds,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,h;if(n.state!==ds)return s();for(f in i)if(h=i[f],h.name===n.name){if(h.state===di)return cs(l);h.state===ps?(h.state=pi,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<e&&(h.state=pi,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(cs(function(){n.state===di&&(n.state=ps,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Eo,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Eo){for(n.state=di,o=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(h=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++c]=h);o.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Mo,1),c=-1,d=o.length;++c<d;)o[c].call(t,f);n.state===Mo&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=pi,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function r1(t,e){var n=t.__transition,i,o,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((i=n[l]).name!==e){r=!1;continue}o=i.state>Eo&&i.state<Mo,i.state=pi,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[l]}r&&delete t.__transition}}function l1(t){return this.each(function(){r1(this,t)})}function s1(t,e){var n,i;return function(){var o=bt(this,t),r=o.tween;if(r!==n){i=n=r;for(var l=0,a=i.length;l<a;++l)if(i[l].name===e){i=i.slice(),i.splice(l,1);break}}o.tween=i}}function a1(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=bt(this,t),l=r.tween;if(l!==i){o=(i=l).slice();for(var a={name:e,value:n},s=0,u=o.length;s<u;++s)if(o[s].name===e){o[s]=a;break}s===u&&o.push(a)}r.tween=o}}function u1(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=ct(this.node(),n).tween,o=0,r=i.length,l;o<r;++o)if((l=i[o]).name===t)return l.value;return null}return this.each((e==null?s1:a1)(n,t,e))}function nr(t,e,n){var i=t._id;return t.each(function(){var o=bt(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return ct(o,i).value[e]}}function Ha(t,e){var n;return(typeof e=="number"?ut:e instanceof Jt?Ri:(n=Jt(e))?(e=n,Ri):Ra)(t,e)}function f1(t){return function(){this.removeAttribute(t)}}function c1(t){return function(){this.removeAttributeNS(t.space,t.local)}}function d1(t,e,n){var i,o=n+"",r;return function(){var l=this.getAttribute(t);return l===o?null:l===i?r:r=e(i=l,n)}}function p1(t,e,n){var i,o=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===o?null:l===i?r:r=e(i=l,n)}}function h1(t,e,n){var i,o,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===i&&s===o?r:(o=s,r=e(i=l,a)))}}function m1(t,e,n){var i,o,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===i&&s===o?r:(o=s,r=e(i=l,a)))}}function _1(t,e){var n=Ui(t),i=n==="transform"?Qb:Ha;return this.attrTween(t,typeof e=="function"?(n.local?m1:h1)(n,i,nr(this,"attr."+t,e)):e==null?(n.local?c1:f1)(n):(n.local?p1:d1)(n,i,e))}function g1(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function b1(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function v1(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&b1(t,r)),n}return o._value=e,o}function y1(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&g1(t,r)),n}return o._value=e,o}function w1(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Ui(t);return this.tween(n,(i.local?v1:y1)(i,e))}function k1(t,e){return function(){tr(this,t).delay=+e.apply(this,arguments)}}function C1(t,e){return e=+e,function(){tr(this,t).delay=e}}function A1(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?k1:C1)(e,t)):ct(this.node(),e).delay}function S1(t,e){return function(){bt(this,t).duration=+e.apply(this,arguments)}}function N1(t,e){return e=+e,function(){bt(this,t).duration=e}}function T1(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?S1:N1)(e,t)):ct(this.node(),e).duration}function I1(t,e){if(typeof e!="function")throw new Error;return function(){bt(this,t).ease=e}}function E1(t){var e=this._id;return arguments.length?this.each(I1(e,t)):ct(this.node(),e).ease}function M1(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;bt(this,t).ease=n}}function P1(t){if(typeof t!="function")throw new Error;return this.each(M1(this._id,t))}function O1(t){typeof t!="function"&&(t=ka(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,a=i[o]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Nt(i,this._parents,this._name,this._id)}function L1(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),l=new Array(i),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,h=0;h<f;++h)(d=s[h]||u[h])&&(c[h]=d);for(;a<i;++a)l[a]=e[a];return new Nt(l,this._parents,this._name,this._id)}function F1(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function R1(t,e,n){var i,o,r=F1(e)?tr:bt;return function(){var l=r(this,t),a=l.on;a!==i&&(o=(i=a).copy()).on(e,n),l.on=o}}function q1(t,e){var n=this._id;return arguments.length<2?ct(this.node(),n).on.on(t):this.each(R1(n,t,e))}function $1(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function D1(){return this.on("end.remove",$1(this._id))}function B1(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Xo(t));for(var i=this._groups,o=i.length,r=new Array(o),l=0;l<o;++l)for(var a=i[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Yi(u[d],e,n,d,u,ct(f,n)));return new Nt(r,this._parents,e,n)}function G1(t){var e=this._name,n=this._id;typeof t!="function"&&(t=wa(t));for(var i=this._groups,o=i.length,r=[],l=[],a=0;a<o;++a)for(var s=i[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),h,m=ct(f,n),_=0,b=d.length;_<b;++_)(h=d[_])&&Yi(h,e,n,_,d,m);r.push(d),l.push(f)}return new Nt(r,l,e,n)}var j1=Xn.prototype.constructor;function H1(){return new j1(this._groups,this._parents)}function V1(t,e){var n,i,o;return function(){var r=_n(this,t),l=(this.style.removeProperty(t),_n(this,t));return r===l?null:r===n&&l===i?o:o=e(n=r,i=l)}}function Va(t){return function(){this.style.removeProperty(t)}}function W1(t,e,n){var i,o=n+"",r;return function(){var l=_n(this,t);return l===o?null:l===i?r:r=e(i=l,n)}}function K1(t,e,n){var i,o,r;return function(){var l=_n(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),_n(this,t))),l===s?null:l===i&&s===o?r:(o=s,r=e(i=l,a))}}function U1(t,e){var n,i,o,r="style."+e,l="end."+r,a;return function(){var s=bt(this,t),u=s.on,f=s.value[r]==null?a||(a=Va(e)):void 0;(u!==n||o!==f)&&(i=(n=u).copy()).on(l,o=f),s.on=i}}function J1(t,e,n){var i=(t+="")=="transform"?Zb:Ha;return e==null?this.styleTween(t,V1(t,i)).on("end.style."+t,Va(t)):typeof e=="function"?this.styleTween(t,K1(t,i,nr(this,"style."+t,e))).each(U1(this._id,t)):this.styleTween(t,W1(t,i,e),n).on("end.style."+t,null)}function Y1(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function X1(t,e,n){var i,o;function r(){var l=e.apply(this,arguments);return l!==o&&(i=(o=l)&&Y1(t,l,n)),i}return r._value=e,r}function Z1(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,X1(t,e,n??""))}function Q1(t){return function(){this.textContent=t}}function x1(t){return function(){var e=t(this);this.textContent=e??""}}function z1(t){return this.tween("text",typeof t=="function"?x1(nr(this,"text",t)):Q1(t==null?"":t+""))}function ev(t){return function(e){this.textContent=t.call(this,e)}}function tv(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&ev(o)),e}return i._value=t,i}function nv(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,tv(t))}function iv(){for(var t=this._name,e=this._id,n=Wa(),i=this._groups,o=i.length,r=0;r<o;++r)for(var l=i[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=ct(s,e);Yi(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Nt(i,this._parents,t,n)}function ov(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--o===0&&r()}};n.each(function(){var u=bt(this,i),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),o===0&&r()})}var rv=0;function Nt(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Wa(){return++rv}var yt=Xn.prototype;Nt.prototype={constructor:Nt,select:B1,selectAll:G1,selectChild:yt.selectChild,selectChildren:yt.selectChildren,filter:O1,merge:L1,selection:H1,transition:iv,call:yt.call,nodes:yt.nodes,node:yt.node,size:yt.size,empty:yt.empty,each:yt.each,on:q1,attr:_1,attrTween:w1,style:J1,styleTween:Z1,text:z1,textTween:nv,remove:D1,tween:u1,delay:A1,duration:T1,ease:E1,easeVarying:P1,end:ov,[Symbol.iterator]:yt[Symbol.iterator]};function lv(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var sv={time:null,delay:0,duration:250,ease:lv};function av(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function uv(t){var e,n;t instanceof Nt?(e=t._id,t=t._name):(e=Wa(),(n=sv).time=er(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var l=i[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&Yi(s,t,e,u,l,n||av(s,e));return new Nt(i,this._parents,t,e)}Xn.prototype.interrupt=l1;Xn.prototype.transition=uv;const Po=Math.PI,Oo=2*Po,Gt=1e-6,fv=Oo-Gt;function Ka(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function cv(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Ka;const n=10**e;return function(i){this._+=i[0];for(let o=1,r=i.length;o<r;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}class dv{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Ka:cv(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,o){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(e,n,i,o,r,l){this._append`C${+e},${+n},${+i},${+o},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,i,o,r){if(e=+e,n=+n,i=+i,o=+o,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=i-e,u=o-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Gt)if(!(Math.abs(c*s-u*f)>Gt)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let h=i-l,m=o-a,_=s*s+u*u,b=h*h+m*m,C=Math.sqrt(_),S=Math.sqrt(d),N=r*Math.tan((Po-Math.acos((_+d-b)/(2*C*S)))/2),J=N/S,q=N/C;Math.abs(J-1)>Gt&&this._append`L${e+J*f},${n+J*c}`,this._append`A${r},${r},0,0,${+(c*h>f*m)},${this._x1=e+q*s},${this._y1=n+q*u}`}}arc(e,n,i,o,r,l){if(e=+e,n=+n,i=+i,l=!!l,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(o),s=i*Math.sin(o),u=e+a,f=n+s,c=1^l,d=l?o-r:r-o;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Gt||Math.abs(this._y1-f)>Gt)&&this._append`L${u},${f}`,i&&(d<0&&(d=d%Oo+Oo),d>fv?this._append`A${i},${i},0,1,${c},${e-a},${n-s}A${i},${i},0,1,${c},${this._x1=u},${this._y1=f}`:d>Gt&&this._append`A${i},${i},0,${+(d>=Po)},${c},${this._x1=e+i*Math.cos(r)},${this._y1=n+i*Math.sin(r)}`)}rect(e,n,i,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function pv(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Bi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function bn(t){return t=Bi(Math.abs(t)),t?t[1]:NaN}function hv(t,e){return function(n,i){for(var o=n.length,r=[],l=0,a=t[0],s=0;o>0&&a>0&&(s+a+1>i&&(a=Math.max(1,i-s)),r.push(n.substring(o-=a,o+a)),!((s+=a+1)>i));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function mv(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var _v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gi(t){if(!(e=_v.exec(t)))throw new Error("invalid format: "+t);var e;return new ir({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Gi.prototype=ir.prototype;function ir(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ir.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gv(t){e:for(var e=t.length,n=1,i=-1,o;n<e;++n)switch(t[n]){case".":i=o=n;break;case"0":i===0&&(i=n),o=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var Ua;function bv(t,e){var n=Bi(t,e);if(!n)return t+"";var i=n[0],o=n[1],r=o-(Ua=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,l=i.length;return r===l?i:r>l?i+new Array(r-l+1).join("0"):r>0?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+Bi(t,Math.max(0,e+r-1))[0]}function hs(t,e){var n=Bi(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const ms={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:pv,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>hs(t*100,e),r:hs,s:bv,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _s(t){return t}var gs=Array.prototype.map,bs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function vv(t){var e=t.grouping===void 0||t.thousands===void 0?_s:hv(gs.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?_s:mv(gs.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Gi(c);var d=c.fill,h=c.align,m=c.sign,_=c.symbol,b=c.zero,C=c.width,S=c.comma,N=c.precision,J=c.trim,q=c.type;q==="n"?(S=!0,q="g"):ms[q]||(N===void 0&&(N=12),J=!0,q="g"),(b||d==="0"&&h==="=")&&(b=!0,d="0",h="=");var $=_==="$"?n:_==="#"&&/[boxX]/.test(q)?"0"+q.toLowerCase():"",H=_==="$"?i:/[%p]/.test(q)?l:"",U=ms[q],p=/[defgprs%]/.test(q);N=N===void 0?6:/[gprs]/.test(q)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function D(E){var g=$,v=H,k,L,P;if(q==="c")v=U(E)+v,E="";else{E=+E;var F=E<0||1/E<0;if(E=isNaN(E)?s:U(Math.abs(E),N),J&&(E=gv(E)),F&&+E==0&&m!=="+"&&(F=!1),g=(F?m==="("?m:a:m==="-"||m==="("?"":m)+g,v=(q==="s"?bs[8+Ua/3]:"")+v+(F&&m==="("?")":""),p){for(k=-1,L=E.length;++k<L;)if(P=E.charCodeAt(k),48>P||P>57){v=(P===46?o+E.slice(k+1):E.slice(k))+v,E=E.slice(0,k);break}}}S&&!b&&(E=e(E,1/0));var V=g.length+E.length+v.length,z=V<C?new Array(C-V+1).join(d):"";switch(S&&b&&(E=e(z+E,z.length?C-v.length:1/0),z=""),h){case"<":E=g+E+v+z;break;case"=":E=g+z+E+v;break;case"^":E=z.slice(0,V=z.length>>1)+g+E+v+z.slice(V);break;default:E=z+g+E+v;break}return r(E)}return D.toString=function(){return c+""},D}function f(c,d){var h=u((c=Gi(c),c.type="f",c)),m=Math.max(-8,Math.min(8,Math.floor(bn(d)/3)))*3,_=Math.pow(10,-m),b=bs[8+m/3];return function(C){return h(_*C)+b}}return{format:u,formatPrefix:f}}var ri,Ja,Ya;yv({thousands:",",grouping:[3],currency:["$",""]});function yv(t){return ri=vv(t),Ja=ri.format,Ya=ri.formatPrefix,ri}function wv(t){return Math.max(0,-bn(Math.abs(t)))}function kv(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bn(e)/3)))*3-bn(Math.abs(t)))}function Cv(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bn(e)-bn(t))+1}function Av(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Sv(t){return function(){return t}}function Nv(t){return+t}var vs=[0,1];function un(t){return t}function Lo(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Sv(isNaN(e)?NaN:.5)}function Tv(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function Iv(t,e,n){var i=t[0],o=t[1],r=e[0],l=e[1];return o<i?(i=Lo(o,i),r=n(l,r)):(i=Lo(i,o),r=n(r,l)),function(a){return r(i(a))}}function Ev(t,e,n){var i=Math.min(t.length,e.length)-1,o=new Array(i),r=new Array(i),l=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<i;)o[l]=Lo(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=Eg(t,a,1,i)-1;return r[s](o[s](a))}}function Mv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Pv(){var t=vs,e=vs,n=zo,i,o,r,l=un,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==un&&(l=Tv(t[0],t[d-1])),a=d>2?Ev:Iv,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(i),e,n)))(i(l(d)))}return c.invert=function(d){return l(o((u||(u=a(e,t.map(i),ut)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,Nv),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=Jb,f()},c.clamp=function(d){return arguments.length?(l=d?!0:un,f()):l!==un},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,h){return i=d,o=h,f()}}function Ov(){return Pv()(un,un)}function Lv(t,e,n,i){var o=Fg(t,e,n),r;switch(i=Gi(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(r=kv(o,l))&&(i.precision=r),Ya(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(r=Cv(o,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=r-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(r=wv(o))&&(i.precision=r-(i.type==="%")*2);break}}return Ja(i)}function Fv(t){var e=t.domain;return t.ticks=function(n){var i=e();return Lg(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var o=e();return Lv(o[0],o[o.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),o=0,r=i.length-1,l=i[o],a=i[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=o,o=r,r=u);f-- >0;){if(u=ko(l,a,n),u===s)return i[o]=l,i[r]=a,e(i);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function Fo(){var t=Ov();return t.copy=function(){return Mv(t,Fo())},Av.apply(t,arguments),Fv(t)}function ln(t){return function(){return t}}function Rv(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new dv(e)}function qv(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Xa(t){this._context=t}Xa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function $v(t){return new Xa(t)}function Dv(t){return t[0]}function Bv(t){return t[1]}function ao(t,e){var n=ln(!0),i=null,o=$v,r=null,l=Rv(a);t=typeof t=="function"?t:t===void 0?Dv:ln(t),e=typeof e=="function"?e:e===void 0?Bv:ln(e);function a(s){var u,f=(s=qv(s)).length,c,d=!1,h;for(i==null&&(r=o(h=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(h)return r=null,h+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:ln(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:ln(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:ln(!!s),a):n},a.curve=function(s){return arguments.length?(o=s,i!=null&&(r=o(i)),a):o},a.context=function(s){return arguments.length?(s==null?i=r=null:r=o(i=s),a):i},a}function qn(t,e,n){this.k=t,this.x=e,this.y=n}qn.prototype={constructor:qn,scale:function(t){return t===1?this:new qn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new qn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};qn.prototype;function Gv(t){let e;return{c(){e=Hi("svg"),R(e,"id","line-chart")},m(n,i){w(n,e,i)},p:ae,i:ae,o:ae,d(n){n&&y(e)}}}const ys=52;function jv(t,e,n){let{data:i=[]}=e,o,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;ao().x((m,_)=>r(_)).y(m=>l(m)),Fs(()=>{n(1,o=Ab("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=Fo().range([0,s]),l=Fo().range([u,0]),i.length&&f()});function f(){const m=i.length>ys?i.slice(-ys):i;c(m),d(m),h()}function c(m){o.selectAll(".line").remove();const _=ao().defined(C=>C>-5).x((C,S)=>r(S)).y(C=>l(C)),b=ao().defined(C=>C<0).x((C,S)=>r(S)).y(C=>l(C));o.append("path").datum(m).attr("class","line positive").attr("d",_).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),o.append("path").datum(m).attr("class","line negative").attr("d",b).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(m){const _=Math.max(0,...m),b=Math.min(0,...m);r.domain([0,m.length-1]),l.domain([b,_]).nice()}function h(m){const _=jg(r).ticks(0),b=Hg(l).ticks(10);o.selectAll(".axis").remove(),o.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(_),o.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(b)}return t.$$set=m=>{"data"in m&&n(0,i=m.data)},t.$$.update=()=>{t.$$.dirty&3&&i&&o&&f()},[i,o]}class Hv extends me{constructor(e){super(),he(this,e,jv,Gv,le,{data:0})}}function Vv(t){let e,n=t[1].townInfo.knowledge_points+"",i,o;return{c(){e=G("Manage your Knowledge ("),i=G(n),o=G(" pts)")},m(r,l){w(r,e,l),w(r,i,l),w(r,o,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&_e(i,n)},d(r){r&&(y(e),y(i),y(o))}}}function Wv(t){let e,n,i,o;return e=new Qt({props:{$$slots:{default:[Vv]},$$scope:{ctx:t}}}),i=new en({}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&1026&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(A(e.$$.fragment,r),A(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function ws(t){let e,n,i=Cs(t[1].townInfo.knowledge_points*t[3])+"",o,r;return{c(){e=O("br"),n=G(`
					(total value: $`),o=G(i),r=G(")")},m(l,a){w(l,e,a),w(l,n,a),w(l,o,a),w(l,r,a)},p(l,a){a&10&&i!==(i=Cs(l[1].townInfo.knowledge_points*l[3])+"")&&_e(o,i)},d(l){l&&(y(e),y(n),y(o),y(r))}}}function ks(t){let e;return{c(){e=O("div"),e.innerHTML='Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold.'},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function Kv(t){let e;return{c(){e=O("div"),e.textContent="Get a bank to convert 🏦",R(e,"class","font-bold")},m(n,i){w(n,e,i)},p:ae,i:ae,o:ae,d(n){n&&y(e)}}}function Uv(t){let e,n,i;return n=new Cn({props:{variant:"default",$$slots:{default:[Jv]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=O("div"),Q(n.$$.fragment)},m(o,r){w(o,e,r),Y(n,e,null),i=!0},p(o,r){const l={};r&1024&&(l.$$scope={dirty:r,ctx:o}),n.$set(l)},i(o){i||(A(n.$$.fragment,o),i=!0)},o(o){T(n.$$.fragment,o),i=!1},d(o){o&&y(e),X(n)}}}function Jv(t){let e;return{c(){e=G("Convert Knowledge to Gold")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function Yv(t){let e,n,i,o,r,l,a,s,u=(t[3]??0)+"",f,c,d,h,m,_,b,C,S,N,J,q,$;e=new xt({props:{$$slots:{default:[Wv]},$$scope:{ctx:t}}});let H=t[3]>0&&ws(t);_=new Hv({props:{data:t[2]}});let U=t[3]<0&&ks();const p=[Uv,Kv],D=[];function E(g,v){return g[1].hasBank&&g[3]>0?0:g[3]>0?1:-1}return~(S=E(t))&&(N=D[S]=p[S](t)),q=new kn({}),{c(){Q(e.$$.fragment),n=W(),i=O("span"),i.textContent="Knowledge is power, unlock it!",o=W(),r=O("div"),l=O("div"),a=G("Market Rate: "),s=O("span"),f=G(u),c=G(" gold"),h=G(`
				per Knowledge Point
				`),H&&H.c(),m=W(),Q(_.$$.fragment),b=W(),U&&U.c(),C=W(),N&&N.c(),J=W(),Q(q.$$.fragment),R(i,"class","italic"),R(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),R(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(g,v){Y(e,g,v),w(g,n,v),w(g,i,v),w(g,o,v),w(g,r,v),M(r,l),M(l,a),M(l,s),M(s,f),M(s,c),M(l,h),H&&H.m(l,null),M(r,m),Y(_,r,null),M(r,b),U&&U.m(r,null),M(r,C),~S&&D[S].m(r,null),w(g,J,v),Y(q,g,v),$=!0},p(g,v){const k={};v&1026&&(k.$$scope={dirty:v,ctx:g}),e.$set(k),(!$||v&8)&&u!==(u=(g[3]??0)+"")&&_e(f,u),(!$||v&8&&d!==(d=g[3]<0?"text-red-500":"text-green-500"))&&R(s,"class",d),g[3]>0?H?H.p(g,v):(H=ws(g),H.c(),H.m(l,null)):H&&(H.d(1),H=null);const L={};v&4&&(L.data=g[2]),_.$set(L),g[3]<0?U||(U=ks(),U.c(),U.m(r,C)):U&&(U.d(1),U=null);let P=S;S=E(g),S===P?~S&&D[S].p(g,v):(N&&(Pe(),T(D[P],1,1,()=>{D[P]=null}),Oe()),~S?(N=D[S],N?N.p(g,v):(N=D[S]=p[S](g),N.c()),A(N,1),N.m(r,null)):N=null)},i(g){$||(A(e.$$.fragment,g),A(_.$$.fragment,g),A(N),A(q.$$.fragment,g),$=!0)},o(g){T(e.$$.fragment,g),T(_.$$.fragment,g),T(N),T(q.$$.fragment,g),$=!1},d(g){g&&(y(n),y(i),y(o),y(r),y(J)),X(e,g),H&&H.d(),X(_),U&&U.d(),~S&&D[S].d(),X(q,g)}}}function Xv(t){let e,n;return e=new zt({props:{$$slots:{default:[Yv]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&1038&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Zv(t){let e,n,i;function o(l){t[5](l)}let r={$$slots:{default:[Xv]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new tn({props:r}),we.push(()=>Zt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,[a]){const s={};a&1038&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],Xt(()=>n=!1)),e.$set(s)},i(l){i||(A(e.$$.fragment,l),i=!0)},o(l){T(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function Cs(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Qv(t,e,n){let i,o;se(t,Te,f=>n(1,i=f)),se(t,wi,f=>n(4,o=f)),ze[i.endGoal],Wi[i.difficulty];let l,a=0;function s(){let f=i;i.hasBank===!0?(f.townInfo.gold+=Math.round(f.townInfo.knowledge_points*a),f.townInfo.knowledge_points=0,Te.set(f),localStorage.setItem(rt,JSON.stringify(f))):alert("You need a bank to convert knowledge to gold.")}function u(f){o=f,wi.set(o)}return t.$$.update=()=>{t.$$.dirty&2&&i&&(n(2,l=i.economyAndLaws.knowledge_gold_market_rates),n(3,a=i.economyAndLaws.knowledge_gold_market_rates[i.economyAndLaws.knowledge_gold_market_rates.length-1]))},[s,i,l,a,o,u]}class xv extends me{constructor(e){super(),he(this,e,Qv,Zv,le,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}function As(t){let e,n,i,o;const r=[ey,zv],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Ee()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(i.parentNode,i))},i(s){o||(A(n),o=!0)},o(s){T(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function zv(t){let e,n,i,o,r,l,a,s,u,f,c,d,h,m,_,b,C,S,N,J,q,$,H=t[2]==!0&&Ss(),U=t[3]==!0&&Ns();return i=new __({}),r=new em({}),a=new eg({}),u=new Ag({}),c=new xv({}),h=new f_({}),C=new Kh({}),{c(){H&&H.c(),e=W(),U&&U.c(),n=W(),Q(i.$$.fragment),o=W(),Q(r.$$.fragment),l=W(),Q(a.$$.fragment),s=W(),Q(u.$$.fragment),f=W(),Q(c.$$.fragment),d=W(),Q(h.$$.fragment),m=W(),_=O("div"),b=O("div"),Q(C.$$.fragment),S=W(),N=O("br"),J=W(),q=O("style"),q.textContent=`#plot_grid {
				overflow-x: scroll;
				overflow-y: scroll;
				scroll-behavior: smooth;
			}
			/* no visible scrollbars */
			#plot_grid::-webkit-scrollbar {
				display: none;
			}

			#plot_grid[data-marginRight='true'] {
				/* This is for when the balanceSheet is being shown. */
				margin-right: 224px;
			}

			html {
				overflow: scroll;
			}

			::-webkit-scrollbar {
				width: 0px;
				background: transparent; /* make scrollbar transparent */
			}`,R(b,"id","plot_grid"),R(b,"data-marginright",t[3]),hn(b,"margin-top",t[4]+"px"),R(b,"class","scroll-smooth no-scrollbar overflow-x "),R(_,"class","justify-center text-center align-middle <!-- center horiz --> flex ")},m(p,D){H&&H.m(p,D),w(p,e,D),U&&U.m(p,D),w(p,n,D),Y(i,p,D),w(p,o,D),Y(r,p,D),w(p,l,D),Y(a,p,D),w(p,s,D),Y(u,p,D),w(p,f,D),Y(c,p,D),w(p,d,D),Y(h,p,D),w(p,m,D),w(p,_,D),M(_,b),Y(C,b,null),M(b,S),M(b,N),w(p,J,D),w(p,q,D),$=!0},p(p,D){p[2]==!0?H?D&4&&A(H,1):(H=Ss(),H.c(),A(H,1),H.m(e.parentNode,e)):H&&(Pe(),T(H,1,1,()=>{H=null}),Oe()),p[3]==!0?U?D&8&&A(U,1):(U=Ns(),U.c(),A(U,1),U.m(n.parentNode,n)):U&&(Pe(),T(U,1,1,()=>{U=null}),Oe()),(!$||D&8)&&R(b,"data-marginright",p[3]),(!$||D&16)&&hn(b,"margin-top",p[4]+"px")},i(p){$||(A(H),A(U),A(i.$$.fragment,p),A(r.$$.fragment,p),A(a.$$.fragment,p),A(u.$$.fragment,p),A(c.$$.fragment,p),A(h.$$.fragment,p),A(C.$$.fragment,p),$=!0)},o(p){T(H),T(U),T(i.$$.fragment,p),T(r.$$.fragment,p),T(a.$$.fragment,p),T(u.$$.fragment,p),T(c.$$.fragment,p),T(h.$$.fragment,p),T(C.$$.fragment,p),$=!1},d(p){p&&(y(e),y(n),y(o),y(l),y(s),y(f),y(d),y(m),y(_),y(J),y(q)),H&&H.d(p),U&&U.d(p),X(i,p),X(r,p),X(a,p),X(u,p),X(c,p),X(h,p),X(C)}}}function ey(t){let e,n;return e=new mg({}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p:ae,i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Ss(t){let e,n;return e=new W_({}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Ns(t){let e,n;return e=new ca({}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function ty(t){let e,n,i=(t[1]||t[0]==null)&&As(t);return{c(){i&&i.c(),e=Ee()},m(o,r){i&&i.m(o,r),w(o,e,r),n=!0},p(o,[r]){o[1]||o[0]==null?i?(i.p(o,r),r&3&&A(i,1)):(i=As(o),i.c(),A(i,1),i.m(e.parentNode,e)):i&&(Pe(),T(i,1,1,()=>{i=null}),Oe())},i(o){n||(A(i),n=!0)},o(o){T(i),n=!1},d(o){o&&y(e),i&&i.d(o)}}}function ny(t,e,n){let i,o,r,l,a,s,u;se(t,mn,m=>n(7,i=m)),se(t,Ke,m=>n(8,o=m)),se(t,St,m=>n(2,r=m)),se(t,Te,m=>n(0,l=m)),se(t,Dn,m=>n(9,a=m)),se(t,yi,m=>n(3,s=m)),se(t,co,m=>n(4,u=m));let f=!1,c=!1;window.addEventListener("resize",()=>{window.innerWidth<800&&alert("Your screen is too small to play this game. Please use a larger screen.")}),document.addEventListener("keydown",m=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&m.key!=="Escape")return;switch(m.key.toLowerCase()){case"p":r==!0?St.set(!1):(St.set(!0),Ce(Ke,o.visible=!1,o));break;case"escape":m.shiftKey?(Ce(St,r=!0,r),localStorage.setItem("reset","true"),location.reload(),Vo()):o.visible==!0&&Ce(Ke,o.visible=!1,o);break;case"arrowleft":case"a":m.preventDefault(),d(0,-1,"up");break;case"arrowright":case"d":m.preventDefault(),d(0,1,"down");break;case"arrowup":case"w":m.preventDefault(),d(-1,0,"left");break;case"arrowdown":case"s":m.preventDefault(),d(1,0,"right");break}});function d(m,_,b){if(o.visible===!1&&o.x===0&&o.y===0)h(0,0,b);else{let C=o.x,S=o.y;C+m<0?C=0:C+m>l.plots.length?C=l.plots.length:C+=m,S+_<0?S=0:S+_>l.plots.length?S=l.plots.length:S+=_,h(C,S,b)}}function h(m,_,b){if(c==!0)switch(b){case"up":_-=2;break;case"down":_+=1;break;case"left":m-=2;break;case"right":m+=1;break}m<0?m=0:m>l.plots.length&&(m=l.plots.length),_<0?_=0:_>l.plots.length&&(_=l.plots.length);let C=document.querySelectorAll(".plot_container"),S;if(C.forEach(N=>{N.dataset.x=="$x"&&N.dataset.y=="$y"&&(S=N)}),r==!1){if(S.dataset.canBeUpgraded==="true"?Ce(Ke,o.visible=!0,o):Ce(Ke,o.visible=!1,o),S.dataset.refPlotX!==void 0&&S.dataset.refPlotY!=""?(c=!0,C.forEach(N=>{N.dataset.x==S.dataset.refPlotX&&N.dataset.y==S.dataset.refPlotY&&(S=N,m=parseInt(S.dataset.x),_=parseInt(S.dataset.y))})):c=!1,S.dataset.size!=="1"&&S.dataset.size!==void 0&&(c=!0),Ce(Ke,o.x=m,o),Ce(Ke,o.y=_,o),C.forEach(N=>{N.classList.remove("selected"),N.style.fontWeight=""}),S.classList.add("selected"),c){let N="4px solid #00800045";S.classList.remove("selected"),S.style.borderTop=N,S.style.borderLeft=N,S.style.fontWeight="600",C.forEach(J=>{const q=parseInt(`${J.dataset.x}`),$=parseInt(`${J.dataset.y}`);q==m+1&&$==_&&(J.style.borderLeft=N,J.style.borderBottom=N),q==m&&$==_+1&&(J.style.borderTop=N,J.style.borderRight=N),q==m+1&&$==_+1&&(J.style.borderBottom=N,J.style.borderRight=N)})}S.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Ce(mn,i={},i)}}return t.$$.update=()=>{t.$$.dirty&1&&(l?(Ce(Dn,a.visible=!1,a),n(1,f=!0)):(Ce(Dn,a.visible=!0,a),n(1,f=!1)))},[l,f,r,s,u,h]}class iy extends me{constructor(e){super(),he(this,e,ny,ty,le,{openPlotMenu:5})}get openPlotMenu(){return this.$$.ctx[5]}}new iy({target:document.getElementById("app")});
