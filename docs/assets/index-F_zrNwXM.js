var cd=Object.defineProperty;var dd=(t,e,o)=>e in t?cd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var sn=(t,e,o)=>(dd(t,typeof e!="symbol"?e+"":e,o),o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=o(i);fetch(i.href,r)}})();function md(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function pd(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),o=atob(e),n=new Uint8Array(o.length);for(let r=0;r<o.length;r++)n[r]=o.charCodeAt(r);const i=pako.ungzip(n,{to:"string"});return JSON.parse(i)}async function wf(){let t=localStorage.getItem("plots_active_game_db");const e=await md(t);return window.location.hostname=="localhost"?"http://localhost:5173/?shareId="+e:"http://plots.jsph.cx/?shareId="+e}const ur=window.location.search.substring(1).split("&").reduce((t,e)=>{const[o,n]=e.split("=");return t[o]=n,t},{});if(ur.shareId!=null||ur.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(pd(ur.shareId));localStorage.setItem("plots_temp_game_db",JSON.stringify(t)),console.log("DECRYPED DATA",t)}else localStorage.removeItem("plots_temp_game_db"),console.log("COMPRESSING GAME TO SHARE"),wf();function Te(){}const Vi=t=>t;function Q(t,e){for(const o in e)t[o]=e[o];return t}function kf(t){return t()}function Ll(){return Object.create(null)}function xe(t){t.forEach(kf)}function Lt(t){return typeof t=="function"}function de(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function hd(t){return Object.keys(t).length===0}function rl(t,...e){if(t==null){for(const n of e)n(void 0);return Te}const o=t.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}function Cf(t){let e;return rl(t,o=>e=o)(),e}function se(t,e,o){t.$$.on_destroy.push(rl(e,o))}function ge(t,e,o,n){if(t){const i=Sf(t,e,o,n);return t[0](i)}}function Sf(t,e,o,n){return t[1]&&n?Q(o.ctx.slice(),t[1](n(e))):o.ctx}function _e(t,e,o,n){if(t[2]&&n){const i=t[2](n(o));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function be(t,e,o,n,i,r){if(i){const l=Sf(e,o,n,r);t.p(l,i)}}function ve(t){if(t.ctx.length>32){const e=[],o=t.ctx.length/32;for(let n=0;n<o;n++)e[n]=-1;return e}return-1}function Ee(t){const e={};for(const o in t)o[0]!=="$"&&(e[o]=t[o]);return e}function ue(t,e){const o={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(o[n]=t[n]);return o}function Ae(t,e,o){return t.set(o),e}function Be(t){return t&&Lt(t.destroy)?t.destroy:Te}const Af=typeof window<"u";let ll=Af?()=>window.performance.now():()=>Date.now(),sl=Af?t=>requestAnimationFrame(t):Te;const Un=new Set;function Tf(t){Un.forEach(e=>{e.c(t)||(Un.delete(e),e.f())}),Un.size!==0&&sl(Tf)}function al(t){let e;return Un.size===0&&sl(Tf),{promise:new Promise(o=>{Un.add(e={c:t,f:o})}),abort(){Un.delete(e)}}}const gd=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function b(t,e){t.appendChild(e)}function If(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function _d(t){const e=M("style");return e.textContent="/* empty */",bd(If(t),e),e.sheet}function bd(t,e){return b(t.head||t,e),e.sheet}function I(t,e,o){t.insertBefore(e,o||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function nt(t,e){for(let o=0;o<t.length;o+=1)t[o]&&t[o].d(e)}function M(t){return document.createElement(t)}function Wi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function K(t){return document.createTextNode(t)}function G(){return K(" ")}function Re(){return K("")}function ee(t,e,o,n){return t.addEventListener(e,o,n),()=>t.removeEventListener(e,o,n)}function vd(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function $(t,e,o){o==null?t.removeAttribute(e):t.getAttribute(e)!==o&&t.setAttribute(e,o)}const yd=["width","height"];function fe(t,e){const o=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:o[n]&&o[n].set&&yd.indexOf(n)===-1?t[n]=e[n]:$(t,n,e[n])}function pi(t,e){for(const o in e)$(t,o,e[o])}function wd(t,e){Object.keys(e).forEach(o=>{kd(t,o,e[o])})}function kd(t,e,o){const n=e.toLowerCase();n in t?t[n]=typeof t[n]=="boolean"&&o===""?!0:o:e in t?t[e]=typeof t[e]=="boolean"&&o===""?!0:o:$(t,e,o)}function mn(t){return/-/.test(t)?wd:fe}function Cd(t){return Array.from(t.childNodes)}function ce(t,e){e=""+e,t.data!==e&&(t.data=e)}function hi(t,e){t.value=e??""}function Je(t,e,o,n){o==null?t.style.removeProperty(e):t.style.setProperty(e,o,"")}function Dl(t,e,o){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function pt(t,e,o){t.classList.toggle(e,!!o)}function Mf(t,e,{bubbles:o=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:o,cancelable:n})}class Jt{constructor(e=!1){sn(this,"is_svg",!1);sn(this,"e");sn(this,"n");sn(this,"t");sn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,o,n=null){this.e||(this.is_svg?this.e=Wi(o.nodeName):this.e=M(o.nodeType===11?"TEMPLATE":o.nodeName),this.t=o.tagName!=="TEMPLATE"?o:o.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let o=0;o<this.n.length;o+=1)I(this.t,this.n[o],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(T)}}const gi=new Map;let _i=0;function Sd(t){let e=5381,o=t.length;for(;o--;)e=(e<<5)-e^t.charCodeAt(o);return e>>>0}function Ad(t,e){const o={stylesheet:_d(e),rules:{}};return gi.set(t,o),o}function bi(t,e,o,n,i,r,l,a=0){const s=16.666/n;let u=`{
`;for(let p=0;p<=1;p+=s){const w=e+(o-e)*r(p);u+=p*100+`%{${l(w,1-w)}}
`}const f=u+`100% {${l(o,1-o)}}
}`,c=`__svelte_${Sd(f)}_${a}`,d=If(t),{stylesheet:m,rules:h}=gi.get(d)||Ad(d,t);h[c]||(h[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${c} ${n}ms linear ${i}ms 1 both`,_i+=1,c}function vi(t,e){const o=(t.style.animation||"").split(", "),n=o.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=o.length-n.length;i&&(t.style.animation=n.join(", "),_i-=i,_i||Td())}function Td(){sl(()=>{_i||(gi.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&T(e)}),gi.clear())})}let Do;function Eo(t){Do=t}function Vo(){if(!Do)throw new Error("Function called outside component initialization");return Do}function Wo(t){Vo().$$.on_mount.push(t)}function Of(t){Vo().$$.on_destroy.push(t)}function Id(){const t=Vo();return(e,o,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=Mf(e,o,{cancelable:n});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function Yi(t,e){return Vo().$$.context.set(t,e),e}function Ui(t){return Vo().$$.context.get(t)}function re(t,e){const o=t.$$.callbacks[e.type];o&&o.slice().forEach(n=>n.call(this,e))}const Vn=[],Ne=[];let Kn=[];const Pr=[],Nf=Promise.resolve();let Er=!1;function Pf(){Er||(Er=!0,Nf.then(Ef))}function ul(){return Pf(),Nf}function ze(t){Kn.push(t)}function Ht(t){Pr.push(t)}const fr=new Set;let Bn=0;function Ef(){if(Bn!==0)return;const t=Do;do{try{for(;Bn<Vn.length;){const e=Vn[Bn];Bn++,Eo(e),Md(e.$$)}}catch(e){throw Vn.length=0,Bn=0,e}for(Eo(null),Vn.length=0,Bn=0;Ne.length;)Ne.pop()();for(let e=0;e<Kn.length;e+=1){const o=Kn[e];fr.has(o)||(fr.add(o),o())}Kn.length=0}while(Vn.length);for(;Pr.length;)Pr.pop()();Er=!1,fr.clear(),Eo(t)}function Md(t){if(t.fragment!==null){t.update(),xe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ze)}}function Od(t){const e=[],o=[];Kn.forEach(n=>t.indexOf(n)===-1?e.push(n):o.push(n)),o.forEach(n=>n()),Kn=e}let bo;function fl(){return bo||(bo=Promise.resolve(),bo.then(()=>{bo=null})),bo}function Sn(t,e,o){t.dispatchEvent(Mf(`${e?"intro":"outro"}${o}`))}const si=new Set;let jt;function Ie(){jt={r:0,c:[],p:jt}}function Me(){jt.r||xe(jt.c),jt=jt.p}function y(t,e){t&&t.i&&(si.delete(t),t.i(e))}function C(t,e,o,n){if(t&&t.o){if(si.has(t))return;si.add(t),jt.c.push(()=>{si.delete(t),n&&(o&&t.d(1),n())}),t.o(e)}else n&&n()}const cl={duration:0};function xt(t,e,o){const n={direction:"in"};let i=e(t,o,n),r=!1,l,a,s=0;function u(){l&&vi(t,l)}function f(){const{delay:d=0,duration:m=300,easing:h=Vi,tick:g=Te,css:p}=i||cl;p&&(l=bi(t,0,1,m,d,h,p,s++)),g(0,1);const w=ll()+d,v=w+m;a&&a.abort(),r=!0,ze(()=>Sn(t,!0,"start")),a=al(S=>{if(r){if(S>=v)return g(1,0),Sn(t,!0,"end"),u(),r=!1;if(S>=w){const j=h((S-w)/m);g(j,1-j)}}return r})}let c=!1;return{start(){c||(c=!0,vi(t),Lt(i)?(i=i(n),fl().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function Vt(t,e,o){const n={direction:"out"};let i=e(t,o,n),r=!0,l;const a=jt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=Vi,tick:m=Te,css:h}=i||cl;h&&(l=bi(t,1,0,c,f,d,h));const g=ll()+f,p=g+c;ze(()=>Sn(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),al(w=>{if(r){if(w>=p)return m(0,1),Sn(t,!1,"end"),--a.r||xe(a.c),!1;if(w>=g){const v=d((w-g)/c);m(1-v,v)}}return r})}return Lt(i)?fl().then(()=>{i=i(n),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&vi(t,l),r=!1)}}}function gt(t,e,o,n){let r=e(t,o,{direction:"both"}),l=n?0:1,a=null,s=null,u=null,f;function c(){u&&vi(t,u)}function d(h,g){const p=h.b-l;return g*=Math.abs(p),{a:l,b:h.b,d:p,duration:g,start:h.start,end:h.start+g,group:h.group}}function m(h){const{delay:g=0,duration:p=300,easing:w=Vi,tick:v=Te,css:S}=r||cl,j={start:ll()+g,b:h};h||(j.group=jt,jt.r+=1),"inert"in t&&(h?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=j:(S&&(c(),u=bi(t,l,h,p,g,w,S)),h&&v(0,1),a=d(j,p),ze(()=>Sn(t,h,"start")),al(D=>{if(s&&D>s.start&&(a=d(s,p),s=null,Sn(t,a.b,"start"),S&&(c(),u=bi(t,l,a.b,a.duration,0,w,r.css))),a){if(D>=a.end)v(l=a.b,1-l),Sn(t,a.b,"end"),s||(a.b?c():--a.group.r||xe(a.group.c)),a=null;else if(D>=a.start){const F=D-a.start;l=a.a+a.d*w(F/a.duration),v(l,1-l)}}return!!(a||s)}))}return{run(h){Lt(r)?fl().then(()=>{r=r({direction:h?"in":"out"}),m(h)}):m(h)},end(){c(),a=s=null}}}function He(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Nd(t,e){C(t,1,1,()=>{e.delete(t.key)})}function Pd(t,e,o,n,i,r,l,a,s,u,f,c){let d=t.length,m=r.length,h=d;const g={};for(;h--;)g[t[h].key]=h;const p=[],w=new Map,v=new Map,S=[];for(h=m;h--;){const P=c(i,r,h),N=o(P);let R=l.get(N);R?S.push(()=>R.p(P,e)):(R=u(N,P),R.c()),w.set(N,p[h]=R),N in g&&v.set(N,Math.abs(h-g[N]))}const j=new Set,D=new Set;function F(P){y(P,1),P.m(a,f),l.set(P.key,P),f=P.first,m--}for(;d&&m;){const P=p[m-1],N=t[d-1],R=P.key,q=N.key;P===N?(f=P.first,d--,m--):w.has(q)?!l.has(R)||j.has(R)?F(P):D.has(q)?d--:v.get(R)>v.get(q)?(D.add(R),F(P)):(j.add(q),d--):(s(N,l),d--)}for(;d--;){const P=t[d];w.has(P.key)||s(P,l)}for(;m;)F(p[m-1]);return xe(S),p}function we(t,e){const o={},n={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(n[s]=1);for(const s in a)i[s]||(o[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in n)l in o||(o[l]=void 0);return o}function it(t){return typeof t=="object"&&t!==null?t:{}}function Wt(t,e,o){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=o,o(t.$$.ctx[n]))}function U(t){t&&t.c()}function W(t,e,o){const{fragment:n,after_update:i}=t.$$;n&&n.m(e,o),ze(()=>{const r=t.$$.on_mount.map(kf).filter(Lt);t.$$.on_destroy?t.$$.on_destroy.push(...r):xe(r),t.$$.on_mount=[]}),i.forEach(ze)}function Y(t,e){const o=t.$$;o.fragment!==null&&(Od(o.after_update),xe(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function Ed(t,e){t.$$.dirty[0]===-1&&(Vn.push(t),Pf(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function me(t,e,o,n,i,r,l=null,a=[-1]){const s=Do;Eo(t);const u=t.$$={fragment:null,ctx:[],props:r,update:Te,not_equal:i,bound:Ll(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Ll(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=o?o(t,e.props||{},(c,d,...m)=>{const h=m.length?m[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=h)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](h),f&&Ed(t,c)),d}):[],u.update(),f=!0,xe(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const c=Cd(e.target);u.fragment&&u.fragment.l(c),c.forEach(T)}else u.fragment&&u.fragment.c();e.intro&&y(t.$$.fragment),W(t,e.target,e.anchor),Ef()}Eo(s)}class pe{constructor(){sn(this,"$$");sn(this,"$$set")}$destroy(){Y(this,1),this.$destroy=Te}$on(e,o){if(!Lt(o))return Te;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(o),()=>{const i=n.indexOf(o);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!hd(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Rd="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Rd);const qn=[];function An(t,e){return{subscribe:Ve(t,e).subscribe}}function Ve(t,e=Te){let o;const n=new Set;function i(a){if(de(t,a)&&(t=a,o)){const s=!qn.length;for(const u of n)u[1](),qn.push(u,t);if(s){for(let u=0;u<qn.length;u+=2)qn[u][0](qn[u+1]);qn.length=0}}}function r(a){i(a(t))}function l(a,s=Te){const u=[a,s];return n.add(u),n.size===1&&(o=e(i,r)||Te),a(t),()=>{n.delete(u),n.size===0&&o&&(o(),o=null)}}return{set:i,update:r,subscribe:l}}function en(t,e,o){const n=!Array.isArray(t),i=n?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return An(o,(l,a)=>{let s=!1;const u=[];let f=0,c=Te;const d=()=>{if(f)return;c();const h=e(n?u[0]:u,l,a);r?l(h):c=Lt(h)?h:Te},m=i.map((h,g)=>rl(h,p=>{u[g]=p,f&=~(1<<g),s&&d()},()=>{f|=1<<g}));return s=!0,d(),function(){xe(m),c(),s=!1}})}function jl(t){return{subscribe:t.subscribe.bind(t)}}const Rf={gameId:Math.floor(Math.random()*1e10),plots:[],timeSpent:0,lastChangeDay:0,townLog:[],currentTutorialStep:0,gameSettings:[],resource_capacity:1e3,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,guardians:0,happiness:150,health:150,recreation:0,community:150,knowledge_points:0,productivity:100},kingdom_expansions:0,resources:{food:150,wood:750,stone:750,metal:5,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1,still_playing:!0},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0},liege_location:null},$d={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[],selectedGame:0,games:[]};var Ze=(t=>(t[t.GOOD=0]="GOOD",t[t.BAD=1]="BAD",t[t.NORMAL=2]="NORMAL",t))(Ze||{}),dl=(t=>(t.START_GAME="start_game",t.BUILD_PLOT="build_plot",t))(dl||{});const $f={0:"Easy",1:"Normal",2:"Hard"},Ld={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},oe=[{id:"small_homes",emoji:"🏠",title:"Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"large_homes",emoji:"🏡",title:"Large Homes",type:"residential",description:"+32 people",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:350,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.01,health:1,community:1},immediate_variable_changes:{happiness:10,health:0,population:32,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:40,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"farm",emoji:"🥕",title:"Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!",weekly_effect_modifiers:{happiness:1,health:1.002,community:1.002}},{id:"tree_farm",emoji:"🌲",title:"Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:10,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"quarry",emoji:"⛏️",title:"Quarry",type:"quarry",description:"Produces stone, small amounts of metal. Isn't great for health. ",revenue_per_week:0,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:16,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The workers at the quarry are working harder with the presence of their liege.",weekly_effect_modifiers:{happiness:1,health:.998,community:.9998}},{id:"Apothecary",emoji:"🌿",title:"Apothecary",type:"medical",description:"Produces medicine from herbs and plants found in the forest. Increases health overall for a short bit. Fine until you can build a Healing House.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.15,health:1.15,community:1},immediate_variable_changes:{happiness:25,health:30,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1.03,community:1}},{id:"livestock_farm",emoji:"🐄",title:"Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:60,requirements:{gold:600,plots:[],employees:8,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:20,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"The cows are producing more milk and cheese when you are hanging out on the farm.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"stockpile",emoji:"📦",title:"Stockpile",type:"stockpile",description:"Enables you to store more resources. Costs gold weekly.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:220,stone:60,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:15,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"adv_stockpile",emoji:"📦📦",title:"Adv. Stockpile",type:"stockpile",description:"Stores more than a normal Stockpile. Costs more to build & operate.",revenue_per_week:0,requirements:{gold:3e3,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:100,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"bakery",emoji:"🥖",title:"Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:80,requirements:{gold:1800,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:300,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"stables",emoji:"🐴",title:"Stables",type:"recreation",description:"Improves the health of the town and provides recreation.",revenue_per_week:24,requirements:{gold:1700,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:280,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"church",emoji:"⛪️",title:"Church",type:"recreation",description:"Great place to pray, make people happy, and build community. Also, generates a tiny bit of knowledge. ",revenue_per_week:0,requirements:{gold:1e3,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:1250,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1,community:1.2},immediate_variable_changes:{happiness:25,health:0,population:0,community:25,bureaucracy:0},knowledge_points_per_month:5,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1.002,health:1,community:1}},{id:"pub",emoji:"🍻",title:"Pub",type:"recreation",description:"Generates knowledge, happiness, community. Isn't great for health.",revenue_per_week:100,knowledge_points_per_month:5,requirements:{gold:2e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.2,health:.97,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1.001,health:.998,community:1}},{id:"village_market",emoji:"🛒",title:"Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:150,requirements:{gold:6e3,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1600,stone:600,metal:5,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:15,wood:35,stone:0,metal:0,bureaucracy:0,food:35},liege_on_plot_hint:"Your presence is helping the market make more money.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"fishery",emoji:"🐠",title:"Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:7500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},purchase_effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:5,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:85,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your expertise in fishing is helping the town reel in far more fish!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"vineyard",emoji:"🍇",title:"Vineyard",type:"recreation",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:1800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.2,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1.001,health:.998,community:1}},{id:"water_wheel",emoji:"💧",title:"Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:1600,plots:[],employees:15,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:25,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"adv_water_wheel",emoji:"💧💧",title:"Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:3e3,plots:["blacksmith"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:250,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"adv_farm",emoji:"🌾",title:"Adv. Farm",type:"farm",description:"Uses knowledge and technology to produce more food, with only 1 employee.",revenue_per_week:60,requirements:{gold:750,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:300,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:15,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:180,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:100,wood:0,stone:0,metal:3,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmer to work harder!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"park",emoji:"🎪",title:"Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1.002,community:1.002}},{id:"village_inn",emoji:"🛌",title:"Village Inn",type:"tourism",description:"Each inn brings more visitors to your town, increasing profits for the Market and other stores.",revenue_per_week:40,requirements:{gold:5500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"schoolhouse",emoji:"🏫",title:"Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:75,requirements:{gold:15e3,plots:["library"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:600,metal:100,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The children seem to be learning worse when you are around, maybe you are a distraction from the teachers.",weekly_effect_modifiers:{happiness:1,health:1.002,community:1.002}},{id:"academy",emoji:"🎓",title:"Academy",type:"education",description:"Produces a lot of knowledge, more than a schoolhouse or library, but costs gold every week.",revenue_per_week:0,knowledge_points_per_month:200,requirements:{gold:5e4,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:4500,stone:4500,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:50,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:150,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"blacksmith",emoji:"⚒️",title:"Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:150,requirements:{gold:18e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:1e4,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:30,wood:0,stone:0,metal:50,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"library",emoji:"📕",title:"Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:20,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:2025,stone:500,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"lumber_mill",emoji:"🏭",title:"Lumber Mill",type:"industrial",description:"Increases wood production by 50%, has to be next to a tree farm, but increases production at all.",revenue_per_week:0,requirements:{gold:12e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1500,stone:1500,metal:300,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},purchase_effect_modifiers:{happiness:1.2,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:40,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:.9998}},{id:"solar_farm",emoji:"☀️",title:"Solar farm",type:"industrial",description:"Produces a lot of power without the need of water. Requires a lot of metal every week.",revenue_per_week:0,requirements:{gold:5e4,plots:["blacksmith","library"],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:750,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:25,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"general_store",emoji:"🛒",title:"General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:750,requirements:{gold:27500,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e4,stone:5e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:2,health:2,community:1.1},immediate_variable_changes:{happiness:50,health:50,population:0,community:50,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:160,wood:0,stone:0,metal:0,bureaucracy:0,food:100},liege_on_plot_hint:"Your experience managing towns is increasing the profits at the general store!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"healing_house",emoji:"🏥",title:"Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:3e4,plots:["mine"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:2e3,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"city_hall",emoji:"🗳️",title:"City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a LOT of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:125e3,plots:[],employees:32,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:3250,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1.3},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:5,active_costs:{gold:600,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"mine",emoji:"⛏️",title:"Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:3e4,plots:["library","quarry"],employees:48,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:110,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:.95,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:10,metal:60,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:80,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:.998,community:.9998}},{id:"university",emoji:"🏫",title:"University",type:"education",description:"Produces the most knowledge, but costs a lot of gold every week.",revenue_per_week:0,knowledge_points_per_month:500,requirements:{gold:5e4,plots:[],employees:32,knowledge:5e3,size:1,xp:0,resources:{food:0,wood:4500,stone:4500,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:50,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:500,power:100,wood:100,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"bank",emoji:"🏦",title:"Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e5,plots:[],employees:32,knowledge:25e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:0,power:100,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"lab",emoji:"🧪",title:"Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:300,requirements:{gold:1e5,plots:[],employees:48,knowledge:15e3,size:1,xp:0,resources:{food:0,wood:0,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:5e3,power:1e3,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}}],vo={empty_unusable:"rgba(255,255,255,0.50)",empty_buildable:"rgba(239,234,90,1.0)",residential:"rgba(222,118,51,1.0)",farm:"rgba(107,143,73,1.0)",lumber:"rgba(145,116,44,1.0)",business:"rgba(146,115,165,1.0)",recreation:"rgba(82,119,177,1.0)",shop:"rgba(82,119,177,1.0)",tourism:"rgba(216,150,216,1.0)",education:"rgba(153,151,223,1.0)",medical:"rgba(74,91,163,1.0)",bank:"rgba(132,119,190,1.0)",federal:"rgba(132,119,190,1.0)",science:"rgba(74,91,163,1.0)",mine:"rgba(217,135,74,1.0)",quarry:"rgba(134,134,133,1.0)",industrial:"rgba(22, 50, 255,0.8)",stockpile:"rgba(134,134,133,1.0)"};function Rr(t,e=!1,o=22){if(t<0)return t==-1?e?vo.empty_buildable:vo.empty_unusable:t==-2?vo.recreation:vo.empty_unusable;const n=oe[t];return jd(vo[n.type],o)}const Dd={lab:1,city_hall:1,bank:1,community_center:1,lumber_mill:1},jd=(t,e=20)=>{const o=(l,a,s)=>{l/=255,a/=255,s/=255;const u=Math.max(l,a,s),f=Math.min(l,a,s);let c=0,d=0,m=(u+f)/2;if(u!==f){const h=u-f;switch(d=m>.5?h/(2-u-f):h/(u+f),u){case l:c=(a-s)/h+(a<s?6:0);break;case a:c=(s-l)/h+2;break;case s:c=(l-a)/h+4;break}c/=6}return[c*360,d,m]},n=(l,a,s,u)=>{const f=Math.min(1,s+u/100);return`hsl(${l}, ${(a*100).toFixed(1)}%, ${(f*100).toFixed(1)}%)`},i=l=>{const a=l.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return a?[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]:null};let r=null;if(t.startsWith("#")){const l=t.replace("#",""),a=parseInt(l,16);r=[a>>16&255,a>>8&255,a&255]}else(t.startsWith("rgba")||t.startsWith("rgb"))&&(r=i(t));if(r){const[l,a,s]=o(r[0],r[1],r[2]);return n(l,a,s,e)}throw new Error("Invalid color format")};function Lf(t){var e,o,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(o=Lf(t[e]))&&(n&&(n+=" "),n+=o)}else for(o in t)t[o]&&(n&&(n+=" "),n+=o);return n}function Fd(){for(var t,e,o=0,n="",i=arguments.length;o<i;o++)(t=arguments[o])&&(e=Lf(t))&&(n&&(n+=" "),n+=e);return n}const ml="-";function Bd(t){const e=Gd(t),{conflictingClassGroups:o,conflictingClassGroupModifiers:n}=t;function i(l){const a=l.split(ml);return a[0]===""&&a.length!==1&&a.shift(),Df(a,e)||qd(l)}function r(l,a){const s=o[l]||[];return a&&n[l]?[...s,...n[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function Df(t,e){var l;if(t.length===0)return e.classGroupId;const o=t[0],n=e.nextPart.get(o),i=n?Df(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(ml);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const Fl=/^\[(.+)\]$/;function qd(t){if(Fl.test(t)){const e=Fl.exec(t)[1],o=e==null?void 0:e.substring(0,e.indexOf(":"));if(o)return"arbitrary.."+o}}function Gd(t){const{theme:e,prefix:o}=t,n={nextPart:new Map,validators:[]};return xd(Object.entries(t.classGroups),o).forEach(([r,l])=>{$r(l,n,r,e)}),n}function $r(t,e,o,n){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Bl(e,i);r.classGroupId=o;return}if(typeof i=="function"){if(Hd(i)){$r(i(n),e,o,n);return}e.validators.push({validator:i,classGroupId:o});return}Object.entries(i).forEach(([r,l])=>{$r(l,Bl(e,r),o,n)})})}function Bl(t,e){let o=t;return e.split(ml).forEach(n=>{o.nextPart.has(n)||o.nextPart.set(n,{nextPart:new Map,validators:[]}),o=o.nextPart.get(n)}),o}function Hd(t){return t.isThemeGetter}function xd(t,e){return e?t.map(([o,n])=>{const i=n.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[o,i]}):t}function Vd(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,o=new Map,n=new Map;function i(r,l){o.set(r,l),e++,e>t&&(e=0,n=o,o=new Map)}return{get(r){let l=o.get(r);if(l!==void 0)return l;if((l=n.get(r))!==void 0)return i(r,l),l},set(r,l){o.has(r)?o.set(r,l):i(r,l)}}}const jf="!";function Wd(t){const e=t.separator,o=e.length===1,n=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let g=0;g<l.length;g++){let p=l[g];if(s===0){if(p===n&&(o||l.slice(g,g+i)===e)){a.push(l.slice(u,g)),u=g+i;continue}if(p==="/"){f=g;continue}}p==="["?s++:p==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(jf),m=d?c.substring(1):c,h=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:h}}}function Yd(t){if(t.length<=1)return t;const e=[];let o=[];return t.forEach(n=>{n[0]==="["?(e.push(...o.sort(),n),o=[]):o.push(n)}),e.push(...o.sort()),e}function Ud(t){return{cache:Vd(t.cacheSize),splitModifiers:Wd(t),...Bd(t)}}const Kd=/\s+/;function Jd(t,e){const{splitModifiers:o,getClassGroupId:n,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(Kd).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=o(l);let c=n(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=n(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const m=Yd(a).join(":");return{isTailwindClass:!0,modifierId:s?m+jf:m,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Xd(){let t=0,e,o,n="";for(;t<arguments.length;)(e=arguments[t++])&&(o=Ff(e))&&(n&&(n+=" "),n+=o);return n}function Ff(t){if(typeof t=="string")return t;let e,o="";for(let n=0;n<t.length;n++)t[n]&&(e=Ff(t[n]))&&(o&&(o+=" "),o+=e);return o}function Lr(t,...e){let o,n,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return o=Ud(u),n=o.cache.get,i=o.cache.set,r=a,a(s)}function a(s){const u=n(s);if(u)return u;const f=Jd(s,o);return i(s,f),f}return function(){return r(Xd.apply(null,arguments))}}function Ke(t){const e=o=>o[t]||[];return e.isThemeGetter=!0,e}const Bf=/^\[(?:([a-z-]+):)?(.+)\]$/i,Zd=/^\d+\/\d+$/,Qd=new Set(["px","full","screen"]),zd=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,em=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nm=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,om=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Ut(t){return kn(t)||Qd.has(t)||Zd.test(t)}function an(t){return ao(t,"length",cm)}function kn(t){return!!t&&!Number.isNaN(Number(t))}function Xo(t){return ao(t,"number",kn)}function yo(t){return!!t&&Number.isInteger(Number(t))}function im(t){return t.endsWith("%")&&kn(t.slice(0,-1))}function Ge(t){return Bf.test(t)}function un(t){return zd.test(t)}const rm=new Set(["length","size","percentage"]);function lm(t){return ao(t,rm,qf)}function sm(t){return ao(t,"position",qf)}const am=new Set(["image","url"]);function um(t){return ao(t,am,mm)}function fm(t){return ao(t,"",dm)}function wo(){return!0}function ao(t,e,o){const n=Bf.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):o(n[2]):!1}function cm(t){return em.test(t)&&!tm.test(t)}function qf(){return!1}function dm(t){return nm.test(t)}function mm(t){return om.test(t)}function Dr(){const t=Ke("colors"),e=Ke("spacing"),o=Ke("blur"),n=Ke("brightness"),i=Ke("borderColor"),r=Ke("borderRadius"),l=Ke("borderSpacing"),a=Ke("borderWidth"),s=Ke("contrast"),u=Ke("grayscale"),f=Ke("hueRotate"),c=Ke("invert"),d=Ke("gap"),m=Ke("gradientColorStops"),h=Ke("gradientColorStopPositions"),g=Ke("inset"),p=Ke("margin"),w=Ke("opacity"),v=Ke("padding"),S=Ke("saturate"),j=Ke("scale"),D=Ke("sepia"),F=Ke("skew"),P=Ke("space"),N=Ke("translate"),R=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Ge,e],k=()=>[Ge,e],A=()=>["",Ut,an],E=()=>["auto",kn,Ge],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],z=()=>["start","end","center","between","around","evenly","stretch"],X=()=>["","0",Ge],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[kn,Xo],te=()=>[kn,Ge];return{cacheSize:500,separator:":",theme:{colors:[wo],spacing:[Ut,an],blur:["none","",un,Ge],brightness:Z(),borderColor:[t],borderRadius:["none","","full",un,Ge],borderSpacing:k(),borderWidth:A(),contrast:Z(),grayscale:X(),hueRotate:te(),invert:X(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[im,an],inset:O(),margin:O(),opacity:Z(),padding:k(),saturate:Z(),scale:Z(),sepia:X(),skew:te(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[un]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Ge]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yo,Ge]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:X()}],shrink:[{shrink:X()}],order:[{order:["first","last","none",yo,Ge]}],"grid-cols":[{"grid-cols":[wo]}],"col-start-end":[{col:["auto",{span:["full",yo,Ge]},Ge]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[wo]}],"row-start-end":[{row:["auto",{span:[yo,Ge]},Ge]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ge,e]}],"min-w":[{"min-w":[Ge,e,"min","max","fit"]}],"max-w":[{"max-w":[Ge,e,"none","full","min","max","fit","prose",{screen:[un]},un]}],h:[{h:[Ge,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ge,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ge,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ge,e,"auto","min","max","fit"]}],"font-size":[{text:["base",un,an]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xo]}],"font-family":[{font:[wo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",kn,Xo]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ut,Ge]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ut,an]}],"underline-offset":[{"underline-offset":["auto",Ut,Ge]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),sm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},um]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:L()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Ut,Ge]}],"outline-w":[{outline:[Ut,an]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Ut,an]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",un,fm]}],"shadow-color":[{shadow:[wo]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":J()}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[o]}],brightness:[{brightness:[n]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",un,Ge]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[S]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[o]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[yo,Ge]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ut,an,Xo]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function pm(t,{cacheSize:e,prefix:o,separator:n,extend:i={},override:r={}}){ai(t,"cacheSize",e),ai(t,"prefix",o),ai(t,"separator",n);for(const l in r)hm(t[l],r[l]);for(const l in i)gm(t[l],i[l]);return t}function ai(t,e,o){o!==void 0&&(t[e]=o)}function hm(t,e){if(e)for(const o in e)ai(t,o,e[o])}function gm(t,e){if(e)for(const o in e){const n=e[o];n!==void 0&&(t[o]=(t[o]||[]).concat(n))}}function _m(t,...e){return typeof t=="function"?Lr(Dr,t,...e):Lr(()=>pm(Dr(),t),...e)}const Gf=Lr(Dr);function Hf(t){const e=t-1;return e*e*e+1}function Fe(...t){return Gf(Fd(t))}function xf(t,e,o){const r={...{townName:t.townInfo.name,population:t.townInfo.population_count,gold:t.townInfo.gold,day:t.environment.day*t.environment.year,tick:t.tick},...o};console.log("event",e,r),gtag("event",e,r)}const uo=(t,e={y:-8,x:0,start:.95,duration:150})=>{const o=getComputedStyle(t),n=o.transform==="none"?"":o.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${n} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:Hf}};function tt(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var o=Math.round(t)/Math.pow(10,e);return+o.toFixed(e)}function cr(t){return t<10?"0"+t:t}function bm(t){let e=Math.floor(t/1e3),o=Math.floor(e/60);e=e%60;let n=Math.floor(o/60);return o=o%60,`${cr(n)}:${cr(o)}:${cr(e)}`}function ke(t){return oe.findIndex(e=>e.id===t)}function ql(t){return oe.find(e=>e.id===t)}function st(t,e=!0){let o=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(o=o.split(".")[0]),o}function zn(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Gl(t,e=!0){return t=tt(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function In(t,e,o,n=!1){if(t<0||t>=o.plots.length||e<0||e>=o.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<o.plots.length&&a>=0&&a<o.plots[0].length&&o.plots[l][a].water&&(n||o.plots[t][e].active==!0&&o.plots[t][e].type>0&&oe[o.plots[t][e].type].id=="farm"))return!0}return!1}function vm(t,e,o,n){if(t<0||t>=o.plots.length||e<0||e>=o.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],r=!0;for(let l=0;l<n.length;l++){let a=!1,s=n[l];if(s!=="water"){for(let u=0;u<i.length;u++){let f=i[u][0],c=i[u][1];if(f>=0&&f<o.plots.length&&c>=0&&c<o.plots[0].length&&o.plots[f][c].active==!0&&o.plots[f][c].type>0&&oe[o.plots[f][c].type].id==s){a=!0;break}}if(!a){r=!1;break}}}return r}function ym(t,e=0){let o=t*.95,n=t*1.05;return tt(Math.random()*(n-o)+o,e)}function yi(t,e,o){let n={x:t,y:e};return n.x===0&&n.y===0?!0:[{x:n.x-1,y:n.y},{x:n.x+1,y:n.y},{x:n.x,y:n.y-1},{x:n.x,y:n.y+1}].some(r=>r.x<0||r.x>=o.plots.length||r.y<0||r.y>=o.plots[r.x].length?!1:o.plots[r.x][r.y].active)}function wm(t,e){return t.requirements.gold<=e.townInfo.gold}function km(t,e){return t.requirements.knowledge?t.requirements.knowledge<=e.townInfo.knowledge_points:!0}function Cm(t,e){return t.requirements.resources?Object.entries(t.requirements.resources).every(([o,n])=>{const i=o,r=e.resources[i];return n===0||r>=n}):!0}function Sm(t,e,o,n){if(!t.requirements.employees||t.requirements.employees<=0)return!0;const i=e.townInfo.population_count-e.townInfo.employees,r=e.plots[o][n];if(r.type!==-1){const a=oe[r.type].requirements.employees||0;return t.requirements.employees<=i+a}return t.requirements.employees<=i}function Am(t,e){return t.active_costs?Object.entries(t.active_costs).every(([o,n])=>{if(o==="gold")return!0;const i=o;return i==="gold"?!0:!n||e.resources[i]>=n}):!0}function Tm(t,e,o,n){if(!t.requirements.adjacent_plots.length)return!0;for(const i of t.requirements.adjacent_plots)if(i==="water"){if(!In(e,o,n,!0))return!1}else if(!vm(e,o,n,[i]))return!1;return!0}function Im(t,e){return t.requirements.plots.length?t.requirements.plots.every(o=>De(o,e).length>0):!0}function jo(t,e,o,n){const i=wm(t,e),r=km(t,e),l=Cm(t,e),a=Sm(t,e,o,n),s=Am(t,e),u=Tm(t,o,n,e),f=Im(t,e);return{affordable:[i,r,l,a,s,u,f].every(c=>c===!0),gold:i,knowledge:r,resources:l,employees:a,activeCosts:s,adjacent:u,requiredPlots:f}}function Mm(t){return oe.findIndex(e=>e.id===t)}function Gn(t,e,o,n,i=!1){const r=Mm(t),l=oe[r];if(i||jo(l,n,e,o).affordable){if(n.plots[e][o].type!==-1&&eo(e,o,n),n.plots[e][o].type=r,n.plots[e][o].active=!0,n.plots[e][o].typeId=l.id,n.townInfo.gold-=l.requirements.gold,n.townInfo.gold=tt(n.townInfo.gold,2),n.townInfo.population_count+=l.immediate_variable_changes.population,n.townInfo.population_max+=l.immediate_variable_changes.population,n.townInfo.happiness+=l.immediate_variable_changes.happiness,n.townInfo.health+=l.immediate_variable_changes.health,n.modifiers.happiness=tt(n.modifiers.happiness*l.purchase_effect_modifiers.happiness,2),n.modifiers.health=tt(n.modifiers.health*l.purchase_effect_modifiers.health,2),n.modifiers.community=tt(n.modifiers.community*l.purchase_effect_modifiers.community,2),n.townInfo.employees+=l.requirements.employees,(n.plotCounts[r]===void 0||n.plotCounts[r]===null)&&(n.plotCounts[r]=0),n.plotCounts[r]++,n.lastChangeDay=n.environment.day,l.requirements.resources!==void 0){const a=l.requirements.resources;n.resources.food-=a.food,n.resources.wood-=a.wood,n.resources.stone-=a.stone,n.resources.metal-=a.metal}switch(l.id){case"city_hall":n.hasCityHall=!0;break;case"bank":n.hasBank=!0;break}return n}return n}function Om(t,e,o){if(!o||!o.plots||!o.plots.length)return null;const n=o.plots.length,i=o.plots[0].length;for(let r=1;r<n+i;r++)for(let l=-r;l<=r;l++)for(let a=-r;a<=r;a++){if(Math.abs(l)+Math.abs(a)!==r)continue;const s=t+l,u=e+a;if(!(s<0||s>=n||u<0||u>=i)&&!o.plots[s][u].active&&!o.plots[s][u].mineralSource&&!o.plots[s][u].water&&!o.plots[s][u].disabled&&yi(s,u,o))return[s,u]}return null}function Nm(t){let e={...Rf};e.difficulty=1,e.endGoal="land",e.townInfo.name="Mock Town",e.townInfo.gold=Math.random()*5e4+2e4,e.townInfo.happiness=300,e.townInfo.health=300,e.townInfo.knowledge_points=Math.random()*1e3+100,e.modifiers.happiness=1e4,e.modifiers.health=1e4,e.resources.food=Math.random()*1e4+1e3,e.resources.wood=Math.random()*1e4+1e3,e.resources.stone=Math.random()*1e4+1e3,e.resources.metal=Math.random()*1e4+1e3;let o=[];const n=25,i=Math.floor(Math.random()*n/2)+1,r=Math.floor(Math.random()*n/2)+1;for(let l=0;l<n;l++){o.push([]);for(let a=0;a<n;a++){const s=l==i&&a==r?!1:wi(l,a,n);o[l][a]={id:Math.random().toString(36).substring(2,9),active:!1,x:l,y:a,type:s?-9:-1,typeId:"",mineralSource:s?!1:i===l&&r===a,water:i===l&&r===a?!1:s}}}e.plots=o,Oe.set(e),localStorage.setItem(ot,JSON.stringify(e)),localStorage.reset=!1,e=Gn("small_homes",0,0,e,!0),e=Gn("farm",1,0,e,!0),e=Gn("farm",2,0,e,!0),e=Gn("farm",3,0,e,!0),e=Gn("tree_farm",4,0,e,!0);for(let l=1;l<t.plots.length*t.plots[0].length/2;l++)for(let a=0;a<oe.length/2;a++){let s=oe[Math.floor(Math.random()*oe.length)];t=Gn(s.id,l,a,e,!1)}Oe.set(e),localStorage.setItem(ot,JSON.stringify(e)),localStorage.reset=!1,location.reload()}const ot="plots_active_game_db",et="plots_user_db",$t="plots_temp_game_db";function Pm(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],o=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function n(s){return s[Math.floor(Math.random()*s.length)]}let i=n(o),r=n(t),l=n(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let Oe=Ve(JSON.parse(localStorage.getItem($t)||localStorage.getItem(ot)||"null")),Rt=Ve(JSON.parse(localStorage.getItem(et)||"null"));Rm();function Em(t,e,o,n){localStorage.removeItem(ot),Oe.set(null);let i={...Rf};i.gameSettings=n,i.economyAndLaws.max_tax_rate=Ld[t],i.endGoal=e;let r=[];o=o.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=o!=""?o:Pm(),i.difficulty=parseInt(t);let l=JSON.parse(localStorage.getItem(et)||"null");l.username=="dev"&&n.push("devMode"),n.includes("devMode")&&(i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const a=12,s=Math.floor(Math.random()*a/2)+1,u=Math.floor(Math.random()*a/2)+1;for(let f=0;f<a;f++){r.push([]);for(let c=0;c<a;c++){const d=f==s&&c==u?!1:wi(f,c,a);r[f][c]={id:Math.random().toString(36).substring(2,9),active:!1,x:f,y:c,type:d?-9:-1,typeId:"",mineralSource:d?!1:s===f&&u===c,water:s===f&&u===c?!1:d}}}i.plots=r,localStorage.setItem(ot,JSON.stringify(i)),Oe.set(i),localStorage.reset=!1,l.games==null&&(l.games=[],l.selectedGame=0,localStorage.setItem(et,JSON.stringify(l))),l.games.push(JSON.stringify(i)),l.selectedGame=l.games.length-1,localStorage.setItem(et,JSON.stringify(l)),xf(i,dl.START_GAME,{difficulty:t,end_goal:e,settings:n.join(",")}),location.reload()}function wi(t,e,o){let n=.08;t>0&&e>0&&t<o-1&&e<o-1&&(n*=2),(e==Math.round(o/2)||e==Math.round(o/2)-1)&&(n*=3),t==0&&e==0&&(n=0);const i=Math.floor(o/2);return e===i?!1:Math.random()<n}function Rm(){if(localStorage.getItem(et)===null){let t=$d;t.username="click_to_set_username",localStorage.setItem(et,JSON.stringify(t)),Rt.set(t)}}function eo(t,e,o){let n=o.plots[t][e].type;o.plots[t][e].type=-1,o.plots[t][e].typeId="",o.plots[t][e].active=!1,n>-1&&(o.townInfo.population_count-=oe[n].immediate_variable_changes.population,o.townInfo.population_max-=oe[n].immediate_variable_changes.population,o.townInfo.employees-=oe[n].requirements.employees,(o.plotCounts[n]===void 0||o.plotCounts[n]===null)&&(o.plotCounts[n]=0),o.plotCounts[n]--),o.lastChangeDay=o.environment.day,Oe.set(o),localStorage.setItem(ot,JSON.stringify(o))}function De(t,e){let o=[];for(let n=0;n<e.plots.length;n++)for(let i=0;i<e.plots[n].length;i++)e.plots[n][i].active==!1||e.plots[n][i]==null||e.plots[n][i].type===null||e.plots[n][i].type<0||(oe[e.plots[n][i].type].id===t||oe[e.plots[n][i].type].type===t)&&o.push(e.plots[n][i]);return o}function Wn(t,e,o){return o.liege_location!=null&&o.liege_location[0]===t&&o.liege_location[1]===e}function $m(t,e){const o=t.plots.length,n=o>0?t.plots[0].length:0,i=e=="east"?5:0,r=e=="south"?5:0,l=Math.round(Math.pow(1.7,t.kingdom_expansions+5));if(t.townInfo.guardians<l)return`You need ${l-t.townInfo.guardians} more Guardians to expand the kingdom. See the City mgmt menu.`;for(let a=0;a<o;a++)for(let s=n;s<n+i;s++)t.plots[a].push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:"",mineralSource:!1,water:wi(a,s,o+r),disabled:!1});for(let a=o;a<o+r;a++){const s=[];for(let u=0;u<n+i;u++)s.push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:u,type:-1,typeId:"",mineralSource:!1,water:wi(a,u,o+r)});t.plots.push(s)}t.kingdom_expansions++,Oe.set(t)}function jr(t=null){localStorage.removeItem(ot),Oe.set(null),t&&(localStorage.setItem(ot,JSON.stringify(t)),Oe.set(t))}function Hl(t,e,o){o.liege_location=[t,e],no.set(!1),document.querySelectorAll(".plot_container").forEach(i=>{i.style.cursor=""}),Oe.set(o)}function xl(t,e){jm(),Rt.set(e),localStorage.setItem(et,JSON.stringify(e)),Rt.update(o=>{if(o.selectedGame=t,o.games[t]==null||o.games[t]==null)return localStorage.setItem(ot,""),Oe.set(null),o;const n=JSON.parse(o.games[t]);return Oe.set(n),localStorage.setItem(ot,JSON.stringify(n)),localStorage.setItem(et,JSON.stringify(o)),o})}let Qe=Ve({visible:!1,x:0,y:0,isMineralSource:!1}),Ro=Ve({visible:!1});function Lm(t){Rt.set(t),localStorage.setItem(et,JSON.stringify(t))}let ki=Ve({}),$o=Ve(!1),Tt=Ve(!1),ui=Ve(!0),Ci=Ve(!1),to=Ve(!1),Si=Ve(!1),Jn=Ve(!1),no=Ve(!1),Mn=Ve(!1),It=Ve(""),Vl=localStorage.getItem("showCompletedAchievements")==="true"?Ve(!0):Ve(!1);localStorage.getItem("showOnlyAffordable")==="true"?Ve(!0):Ve(!1);let Dm=localStorage.getItem("pauseMenuTab")==="game"?Ve("game"):Ve("achievements"),To=Ve(750),Ft=Ve({visible:!1,plotName:"",location:"",missingResources:[],plotCost:0,x:0,y:0});function jm(){const t=JSON.parse(localStorage.getItem(ot)??"");if(!t)return;const e=JSON.parse(localStorage.getItem(et)??"");!e||e.selectedGame===void 0||(e.games[e.selectedGame]=JSON.stringify(t),localStorage.setItem(et,JSON.stringify(e)),Rt.set(e))}const Nt={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},ct=[{id:"happy_town",title:"Happy & Healthy Town",description:"",requirements:"Happiness and Health at the max in one of your towns",icon:"😀",check:t=>t.townInfo.happiness>=300&&t.townInfo.health>=300,prize:15e3},{id:"10k",title:"💰 10,000",description:"",requirements:"10,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"50k",title:"💰 50,000",description:"",requirements:"50,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=5e4,prize:1e4},{id:"250k",title:"💰 250,000",description:"",requirements:"250,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"1m",title:"💰 1,000,000",description:"",requirements:"1,000,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=1e6,prize:15e4},{id:"10m",title:"💰 10,000,000",description:"",requirements:"10,000,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=1e7,prize:5e5},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under 50 with >=200 population in one of your towns",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=200,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Reach a monthly profit of $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit*4>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:1e4},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:750},{id:"good_job",title:"Beat 'Fill the grid' game mode",description:"while not in casual mode",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.endGoal==="land"&&!t.gameSettings.includes("casual"),prize:1e4},{id:"great_job",title:"Beat 'Fill the grid' game mode (faster)",description:"in under 5 years, while not in casual mode",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=1825&&t.endGoal==="land"&&!t.gameSettings.includes("casual"),prize:3e4},{id:"superb_job",title:"Beat 'Fill the grid' game mode",description:"while in casual mode",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.endGoal==="land"&&t.gameSettings.includes("casual"),prize:15e3},{id:"pub_knowledge",title:"Street smartz",description:"You get 250 knowledge without building a school or library.",requirements:"Knowledge >= 250 without building a school or library",icon:"🤓",check:t=>De("small_school",t).length===0&&De("large_school",t).length===0&&De("library",t).length===0&&t.townInfo.knowledge_points>=250,prize:5e4}],Xn=[{message:"Welcome the first settlers to our village by building a set of homes",isComplete:t=>t.townInfo.population_max>0,goldReward:600},{message:"Start producing food for the villagers",isComplete:t=>De("farm",t).length>=1,goldReward:400},{message:"Build a tree farm to start producing wood, which is essential for building",isComplete:t=>De("tree_farm",t).length>=1,goldReward:400},{message:"Build a quarry to start mining stone and metals",isComplete:t=>De("quarry",t).length>0,goldReward:800},{message:"Settlement: Grow population to 50",isComplete:t=>t.townInfo.population_count>=50,goldReward:1600},{message:"Build a Market or Bakery to sell excess food",isComplete:t=>De("market",t).length>0||De("bakery",t).length>0,goldReward:1600},{message:"Complete Year 1",isComplete:t=>t.environment.day>=365,goldReward:4e3},{message:"Village: Grow population to 100",isComplete:t=>t.townInfo.population_count>=100,goldReward:6400},{message:"Complete Year 2",isComplete:t=>t.environment.day>=365*2,goldReward:4e3},{message:"Hamlet: Grow population to 200",isComplete:t=>t.townInfo.population_count>=200,goldReward:16e3},{message:"Start generating power. Build a Water Wheel or Solar Farm",isComplete:t=>t.resources.power>0||De("water_wheel",t).length>0||De("solar_farm",t).length>0||De("adv_water_wheel",t).length>0,goldReward:8e3},{message:"Small Town: Grow population to 300",isComplete:t=>t.townInfo.population_count>=300,goldReward:2e4},{message:"Generate 300 Knowledge 🧠 from libraries, schools, pubs, and vineyards",isComplete:t=>t.townInfo.knowledge_points>=300,goldReward:4e3},{message:"Build a Mine to boost our metal supply (see the black plot on the map)",isComplete:t=>De("mine",t).length>0,goldReward:16e3},{message:"Complete Year 5",isComplete:t=>t.environment.day>=365*5,goldReward:1e4},{message:"Town: Grow our population to 500",isComplete:t=>t.townInfo.population_count>=500,goldReward:2e4},{message:"City: Grow our population to 1000",isComplete:t=>t.townInfo.population_count>=1e3,goldReward:4e4},{message:"Establish a City Hall to advance our town",isComplete:t=>De("city_hall",t).length>0,goldReward:4e4},{message:"Complete Year 10",isComplete:t=>t.environment.day>=365*10,goldReward:5e4}];let ko=function(t){return t.gameSettings.includes("casual")?3:1};const Fr=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:150,weekly_effect:t=>(t.modifiers.happiness*=1.01,t.modifiers.health*=1.01,t.resources.food-=2*ko(t)*De("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.02,t.modifiers.health*=1.01),t)},{id:"healthy_mining",description:"Healthy mining. Miners must mine with proper ventilation, but they move like molasses.",cost:250,weekly_effect:t=>(oe.find(e=>e.id==="mine"),t.modifiers.health*=1.1,t.resources.stone-=5*ko(t)*De("quarry",t).length,t.resources.stone-=7*ko(t)*De("mine",t).length,t.resources.metal-=15*ko(t)*De("mine",t).length,t)},{id:"complicated_tax_forms",description:"Complicated Tax Forms. You sneak in a clause to charge 5% more in taxes. Now, if you adjust your tax rate 5% higher, they won't be upset. This can be enacted multiple times to stack.",cost:500,weekly_effect:t=>(t.economyAndLaws.max_tax_rate+=.05,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="complicated_tax_forms"),t)},{id:"legalize_it",description:"Legalize it. You legalize a substance that makes people happy, but it also gives them 'the munchies'. Food consumption and happiness go up.",cost:350,weekly_effect:t=>(t.resources.food-=Math.round(.2*ko(t)*t.townInfo.population_count),t.modifiers.happiness*=1.1,t)},{id:"park_upgrade",description:"Park upgrade. You hold a community forum and add the top 5 things that the people want in their parks. This increases happiness for each park.",cost:350,weekly_effect:t=>(t.townInfo.happiness+=2*De("park",t).length,t)},{id:"career_politician",description:"Career Politician. You hire a career politician to help you with your town. They cost the town $100 per week, but they earn bureaucracy points faster.",cost:200,weekly_effect:t=>(t.townInfo.gold-=100,t.resources.bureaucracy+=25,t)},{id:"the_big_wood_deal",description:"The Big Wood Deal. This law allows you to sell all of the wood in your town for $5/wood at once. This won't make the town happy, but may be necessary in a pinch. Can be enacted multiple times to sell to other buyers.",cost:500,weekly_effect:t=>(t.townInfo.gold+=5*t.resources.wood,t.resources.wood=0,t.resource_rate.wood=0,t.townInfo.happiness*=.95,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="the_big_wood_deal"),t)},{id:"picky_eating_liege",description:"Picky Eater Liege. There is some food that the town makes that you just really hate. By passing this law, you insist that they sell off that gross food for $1/food every week. You won't make as much food, but you won't have to eat it either.",cost:200,weekly_effect:t=>{const e=De("farm",t).length*2,o=Math.floor(Math.random()*(.15*e-.05*e)+.05*e);return t.resources.food-=o,t.townInfo.gold+=o,t.townInfo.happiness=.95*t.townInfo.happiness,t}},{id:"stone_statue",description:"Stone Statue. You insist that we use ALL of our stone to build a massive statue. We lose all of our stone, but for some reason, the town has perfect health for a while, I guess.",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=5,t)},{id:"out_of_town",description:"TODO: Out of town. Everyone needs a vacation, right? When this is enacted, EVERYONE must leave the town for 10 days. During this time, no resources are produced, no taxes are collected, and you must take a break from the game.",cost:1e3,weekly_effect:t=>t}],Wl=30;function Fm(t){return t=xm(t),t=t,t}function Bm(t){const e=[()=>t.townInfo.happiness<100?"I heard that the town is unhappy. We miss our churches and parks...":"",()=>t.townInfo.health<100?"My kids keep getting sick, probably not enough farms around here!":"",()=>t.townInfo.happiness<50?"I'm thinking of moving out if things don't improve soon!":"",()=>t.townInfo.employees<t.townInfo.population_count?"I am unemployed and I hate it here":"",()=>t.townInfo.knowledge_points<100?"I wish we had more schools!":"",()=>t.economyAndLaws.tax_rate>t.economyAndLaws.max_tax_rate?"I wish the taxes were lower, I could use a break!":"",()=>t.townInfo.productivity>100?"I think we should take a day or two to just be chill, we've been working hard!":"",()=>t.economyAndLaws.tax_rate<t.economyAndLaws.max_tax_rate?"We would probably be ok chipping in more gold for village improvements.":""],o=Math.floor(Math.random()*e.length);return e[o]()}function qm(t,e,o){return t.resource_rate.food=ut(o.food-e.food,0),t.resource_rate.wood=ut(o.wood-e.wood,0),t.resource_rate.stone=ut(o.stone-e.stone,0),t.resource_rate.metal=ut(o.metal-e.metal,0),t.resource_rate.bureaucracy=ut(o.bureaucracy-e.bureaucracy,0),t}function Gm(t){return t.hasBank,t}function Hm(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const o=-100,n=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*n;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<o&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function xm(t){if(t.townInfo.population_count<t.townInfo.population_max&&t.townInfo.happiness>50){let e=t.townInfo.population_max-t.townInfo.population_count,o=Math.round(t.townInfo.happiness/100*e);t.townInfo.population_count+=o,t.townInfo.population_count>t.townInfo.population_max&&(t.townInfo.population_count=t.townInfo.population_max),t.townInfo.employees+=o,t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count)}if(t.townInfo.happiness<50&&t.townInfo.population_count>0){let e=Math.round((150-t.townInfo.happiness)/5);t.townInfo.population_count-=e,t.townInfo.employees>0&&(t.townInfo.employees-=e)}else t.townInfo.population_count==t.townInfo.population_max;return t}function Br(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function qr(t){t.townInfo.happiness<0&&(t.townInfo.happiness=0),t.townInfo.health<0&&(t.townInfo.health=0),t.townInfo.community<0&&(t.townInfo.community=0),t.townInfo.gold<0&&(t.townInfo.gold=0),t.townInfo.employees<0&&(t.townInfo.employees=0),t.townInfo.knowledge_points<0&&(t.townInfo.knowledge_points=0),t.townInfo.population_count<0&&(t.townInfo.population_count=0),t.economyAndLaws.weeklyProfit=ut(t.economyAndLaws.weeklyProfit,0),t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count),t.townInfo.gold=ut(t.townInfo.gold,0),t.townInfo.population_count=ut(t.townInfo.population_count,0),t.townInfo.employees=ut(t.townInfo.employees,0),t.townInfo.population_max=ut(t.townInfo.population_max,0),t.townInfo.happiness=ut(t.townInfo.happiness,2),t.townInfo.health=ut(t.townInfo.health,2),t.townInfo.knowledge_points=ut(t.townInfo.knowledge_points,0),t.townInfo.happiness>t.maximums.happiness&&(t.townInfo.happiness=t.maximums.happiness),t.townInfo.health>t.maximums.health&&(t.townInfo.health=t.maximums.health),t.townInfo.community>300&&(t.townInfo.community=300),t.modifiers.happiness<.5&&(t.modifiers.happiness=.5),t.modifiers.health<.5&&(t.modifiers.health=.5),t.modifiers.community<.5&&(t.modifiers.community=.5),t.modifiers.happiness>2&&(t.modifiers.happiness=2),t.modifiers.health>2&&(t.modifiers.health=2),t.modifiers.community>2&&(t.modifiers.community=2);for(let e=0;e<t.plots.length;e++)for(let o=0;o<t.plots[e].length;o++)t.plots[e][o].active==!1&&t.plots[e][o].disabled==!0&&(t.plots[e][o].disabled=!1);return t}function Gr(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.09,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.09,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.09,t.townInfo.community<150&&(t.townInfo.community=150)}if(t.townInfo.happiness<150){let n=150-t.townInfo.happiness;t.townInfo.happiness+=n*(.09*.5)}if(t.townInfo.health<150){let n=150-t.townInfo.health;t.townInfo.health+=n*(.09*.5)}if(t.townInfo.community<150){let n=150-t.townInfo.community;t.townInfo.community+=n*(.09*.5)}return t}function at(t,e,o){let n=e.townLog||[];return n.filter(i=>i.message==t).length>0||n.unshift({message:t,day:e.environment.day,vibe:o}),e}function ut(t,e){e===void 0&&(e=0);let o=Math.pow(10,e);return t=parseFloat((t*o).toFixed(11)),+(Math.round(t)/o).toFixed(e)}function Vm(t,e,o){let n,i,r,l,a,s,u;se(t,To,_=>o(8,n=_)),se(t,$o,_=>o(9,i=_)),se(t,Si,_=>o(10,r=_)),se(t,Tt,_=>o(11,l=_)),se(t,Rt,_=>o(12,a=_)),se(t,Mn,_=>o(13,s=_)),se(t,Ft,_=>o(14,u=_)),se(t,Oe,_=>o(15,_));function f(_){_=te(_),_=Z(_),_=g(_),_=Hm(_),_=ye(_),_=j(_);const H={food:_.resources.food,wood:_.resources.wood,stone:_.resources.stone,metal:_.resources.metal,bureaucracy:_.resources.bureaucracy,power:_.resources.power};_=O(_),_=ne(_),_=E(_),_=qe(_),_=Gr(_),_=q(_);const V={food:_.resources.food,wood:_.resources.wood,stone:_.resources.stone,metal:_.resources.metal,bureaucracy:_.resources.bureaucracy,power:_.resources.power};return _.environment.day%14===0&&(_=ie(_)),_=qm(_,H,V),_}function c(_){return _=Gm(_),_=S(_),_=je(_),_=X(_),_=N(_),_=p(_),_}function d(_){return _=A(_),_=ae(_),_=qr(_),_=Br(_),_=R(_),_=P(_),_=h(_),_=w(_),_.overtime==!1&&(_=z(_),_=_),_=J(_),_=B(_),_=v(_),_}function m(){Oe.update(_=>{if(_==null||(_.tick++,_.tick%Wl!==0))return _;if(u.visible||l||s||!_||_.endGameDetails.msg!==""&&_.overtime==!1||_.townInfo.population_count<=0||localStorage.getItem($t)!=null)return console.info("The game is over, or paused. Not running the game loop."),_;try{_.environment.day+=1,_.environment.day%7===0&&(_=f(_)),_.environment.day%30===0&&(_=c(_)),_.environment.day%90===0&&(_=Fm(_)),window.location.search.includes("debug=true")&&console.log(_),_=d(_);const H=JSON.parse(localStorage.getItem(et)||"{}");return H.games==null&&(H.games=[],H.selectedGame=0,H.games.push(JSON.stringify(_)),localStorage.setItem(et,JSON.stringify(H))),H.selectedGame>H.games.length&&(H.selectedGame=0),H.games[H.selectedGame]=JSON.stringify(_),localStorage.setItem(et,JSON.stringify(H)),_}catch(H){return window.location.hostname==="localhost"&&alert("Error in game loop: "+H),console.error("Error in game loop:",H),_}})}Oe.subscribe(_=>{if(_){localStorage.setItem(ot,JSON.stringify(_));const H=JSON.parse(localStorage.getItem(et)||"{}");H.games==null&&(H.games=[],H.selectedGame=0,H.games.push(JSON.stringify(_)),localStorage.setItem(et,JSON.stringify(H))),H.selectedGame>H.games.length&&(H.selectedGame=0),H.games[H.selectedGame]=JSON.stringify(_),localStorage.setItem(et,JSON.stringify(H))}});function h(_){let H=_.townInfo.population_count-_.townInfo.employees,V=`${H} people can't find jobs!`;return _.townLog=_.townLog.filter(le=>!le.message.includes("people can't find jobs")),H>0&&(_=at(V,_,Ze.BAD)),_}function g(_){let H=!1,V=!1,le=!1,he=!1;for(let Se=0;Se<_.plots.length;Se++)for(let Pe=0;Pe<_.plots[Se].length;Pe++)if(_.plots[Se][Pe].active==!0&&_.plots[Se][Pe].type>-1){let $e=oe[_.plots[Se][Pe].type].id;$e=="bank"&&(H=!0),$e=="city_hall"&&(le=!0),($e=="small_hospital"||$e=="large_hospital")&&(V=!0),$e=="lab"&&(he=!0)}return _.hasBank=H,_.hasHospital=V,_.hasCityHall=le,_.hasLab=he,_}function p(_){let H=0,V=0;for(let le=0;le<_.plots.length;le++)for(let he=0;he<_.plots[le].length;he++)if(_.plots[le][he].active==!0&&_.plots[le][he].type>-1){let Se=oe[_.plots[le][he].type].type;V++,(Se=="recreation"||Se=="shop")&&H++}if(_.townInfo.recreation=H,V>40){const he=H/V,Se="The city is growing and citizens are demanding more recreation, look for plots with 🛝 icons.",Pe="The city is growing and citizens are happy with the amount of recreation available.";he<.2?(_.modifiers.happiness*.95,_.townLog=_.townLog.filter($e=>$e.message!==Pe),_=at(Se,_,Ze.BAD)):(_.modifiers.happiness*1.03,_.townLog=_.townLog.filter($e=>$e.message!==Se),_=at(Pe,_,Ze.GOOD))}return _}function w(_){let H=0;for(let V=0;V<_.plots.length;V++)for(let le=0;le<_.plots[V].length;le++)if(_.plots[V][le].active==!0&&_.plots[V][le].type>-1){let Se=oe[_.plots[V][le].type].requirements.employees;H+=Se}return H!=_.townInfo.employees&&(H>_.townInfo.population_max,_.townInfo.employees=H),_}function v(_){for(let H=0;H<_.plots.length;H++)for(let V=0;V<_.plots[H].length;V++)_.plots[H][V].active==!0&&(_.plots[H][V].type=ke(_.plots[H][V].typeId));return _}function S(_){const H=_.townInfo.productivity;let V=1;if(H>50&&H<100)V=1.05;else{if(H==100)return _;H<50?V=1.3:H>100&&H<125?V=.95:H>125&&H<150?V=.9:H>150&&H<175?V=.85:H>175&&H<200&&(V=.75)}const le=_.townInfo.happiness;return _.townInfo.happiness*=V,V>1?_=at(`Happiness has gone up by ${Math.round(_.townInfo.happiness/le*100)}% due to productivity.`,_,Ze.GOOD):_=at(`Happiness has gone down by ${100-Math.round(_.townInfo.happiness/le*100)}% due to productivity.`,_,Ze.BAD),_}function j(_){return _.endGameDetails!=null||(_.townInfo.happiness<70&&_.last_warning_happiness+365<_.environment.day&&(It.set("Your citizens are very unhappy. You should do something about it."),_.last_warning_happiness=_.environment.day),_.townInfo.health<70&&_.last_warning_health+365<_.environment.day&&(It.set("Your citizens are very unhealthy. You should do something about it."),_.last_warning_health=_.environment.day)),_}const D=["Abigail","Elijah","Mabel","Silas","Beatrice","Clarence","Dorothy","Edgar","Florence","George","Harriet","Isaac","Josephine","Levi","Matilda","Nathaniel","Olive","Percy","Quincy","Rose","Samuel","Theodore","Ursula","Vincent","Winifred","Xavier","Yvette","Zachary","Amos","Betsy","Cecil","Delia","Emmett","Fanny","Gideon","Hazel","Irving","Jeannette","Karl","Lucinda","Mortimer","Nettie","Otis","Prudence","Rufus","Sophronia","Titus","Ulysses","Vera","Winston","Xenia","Yolanda","Zeke","Ada","Bernard","Cornelia","Duncan","Esther","Fletcher","Genevieve"],F=["Farmer","Blacksmith","Biscuit Sculptor","Baker","Carpenter","Chicken Whisperer","Fisher","Herbalist","Miner","Mason","Mustache Twirler","Brewer","Butcher","Candlemaker","Cloud Watcher","Dressmaker","Gardener","Hunter","Innkeeper","Jeweler","Locksmith","Miller","Painter","Potter","Quilter","Rancher","Saddler","Tanner","Upholsterer","Vintner","Watchmaker","Wheelwright","Wooly Sock Knitter","Yarn Spinner","Zodiac Interpreter","Archivist","Bookbinder","Cobbler","Dyer","Engraver","Fletcher","Glassblower","Haberdasher","Illuminator","Joiner","Knitter","Lace Maker","Mapmaker","Navigator","Orchardist","Potion Tester","Quarryman","Roofer","Soapmaker","Tobacconist","Undertaker","Victualler","Wainwright","Xylographer","Yeoman","Pumpkin Carver","Mud Pie Maker","Folk Tale Teller","Leaf Collector","Sunset Chaser","Dream Interpreter","Star Gazer"];function P(_){if(_.gameSettings.includes("bagOfHolding"))return _.resource_capacity=972024,_;let H=De("stockpile",_).length,V=De("adv_stockpile",_).length,le=1e3+H*2e3+V*12e3;return _.resource_capacity=le,Object.keys(_.resources).forEach(he=>{_.resources[he]>le&&(_.resources[he]=le)}),_}function N(_){for(let H=0;H<_.plots.length;H++)for(let V=0;V<_.plots[H].length;V++)if(Wn(H,V,_)&&_.plots[H][V].active==!0&&oe[_.plots[H][V].type].type=="residential"&&Math.random()<.99){let le=`👑🏠 ${D[Math.floor(Math.random()*D.length)]} the ${F[Math.floor(Math.random()*F.length)]}: `,he=Bm(_);le+=he,he!=""&&(_=at(le,_,Ze.NORMAL))}return _}function R(_){let H=0;for(let V=0;V<_.plots.length;V++)for(let le=0;le<_.plots[V].length;le++)if(_.plots[V][le].active==!0&&_.plots[V][le].type>-1){let he=oe[_.plots[V][le].type].type;(he=="recreation"||he=="shop")&&H++}return _.townInfo.recreation=H,_}function q(_){const H=_.townInfo.population_count;return _.resources.food<H?(_.modifiers.happiness*=.95,_.modifiers.health*=.95,_=at("There isn't enough food for everyone!",_,Ze.BAD),_.resources.food=0):(_.townLog=_.townLog.filter(le=>!le.message.includes("There isn't enough food for everyone!")),_.resources.food-=H),_.resources.food=Math.round(_.resources.food),_}function O(_){const H=_.townInfo.productivity;let V=1;H<50?V=.5:H>50&&H<100?V=.75:H==100?V=1:H>100&&H<125?V=1.25:H>125&&H<150?V=1.75:H>150&&H<175?V=3:H>175&&H<200&&(V=5);const le=_.gameSettings.includes("casual")?1.5:1;V*=le,V=ym(V,2),V*=_.townInfo.community>150?1.2:_.townInfo.community<100?.85:1;let he=De("lumber_mill",_).length*1.5;he===0&&(he=1);for(let Se=0;Se<_.plots.length;Se++)for(let Pe=0;Pe<_.plots[Se].length;Pe++)if(_.plots[Se][Pe].active==!0&&_.plots[Se][Pe].type>-1&&_.plots[Se][Pe].disabled==!1){let $e=In(Se,Pe,_),We=Wn(Se,Pe,_)?2:1,Le=oe[_.plots[Se][Pe].type];Le.generated_resources!=null&&(_.resources.food+=Math.round(Le.generated_resources.food*V)*($e?2:1)*We,_.resources.wood+=Math.round(Le.generated_resources.wood*V*he)*We,_.resources.stone+=Math.round(Le.generated_resources.stone*V)*We,_.resources.metal+=Math.round(Le.generated_resources.metal*V)*We,_.resources.bureaucracy+=Math.round(Le.generated_resources.bureaucracy*V)*We)}return _.resources.food=Math.round(_.resources.food),_.resources.wood=Math.round(_.resources.wood),_.resources.stone=Math.round(_.resources.stone),_.resources.metal=Math.round(_.resources.metal),_.resources.bureaucracy=Math.round(_.resources.bureaucracy),_}var k;(function(_){_.food="food",_.wood="wood",_.stone="stone",_.metal="metal",_.bureaucracy="bureaucracy"})(k||(k={}));function A(_){for(let H=0;H<_.plots.length;H++)for(let V=0;V<_.plots[H].length;V++)if(_.plots[H][V].active&&_.plots[H][V].type>-1&&!_.plots[H][V].disabled){let le=oe[_.plots[H][V].type];if(le.type=="residential")continue;let he=!1,Se=[];const Pe=_.plots[H][V].snoozedUntil&&_.environment.day<=(_.plots[H][V].snoozedUntil||0);Object.keys(le.active_costs).forEach(($e,We)=>{let Le=Object.values(le.active_costs)[We];Le=Le/7,$e!="power"&&($e=="gold"?_.townInfo.gold<Le&&(he=!0,Se.push(`💰${Le-_.townInfo.gold} gold`)):_.resources[$e]<Le?(he=!0,Se.push(`${Le-_.resources[$e]} ${$e}`)):Pe||(_.resources[$e]-=Le))}),he&&!Pe&&(Ft.set({visible:!0,plotName:le.title,location:`at (${V}, ${H})`,missingResources:Se,plotCost:le.requirements.gold,x:H,y:V}),_.plots[H][V].disabled=!0),_.plots[H][V].disabled=!Pe&&he}else _.plots[H][V].active||(_.plots[H][V].disabled=!1);return _}function E(_){let H=0;for(let V=0;V<_.plots.length;V++)for(let le=0;le<_.plots[V].length;le++)if(_.plots[V][le].active==!0&&_.plots[V][le].type>-1){let he=oe[_.plots[V][le].type];he.active_costs.power!=0&&(H-=he.active_costs.power),he.generated_resources.power!=0&&(H+=he.generated_resources.power)}return _.resources.power=H,_.resources.power<0?(_.modifiers.happiness*.98,_.townInfo.happiness-=5,_=at("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.",_,Ze.BAD)):_.townLog=_.townLog.filter(V=>!V.message.includes("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.")),_}function B(_){if(_.gameSettings.includes("devMode")||localStorage.getItem($t)!=null)return _;let H=a;for(let V=0;V<ct.length;V++)H.achievements.find(le=>le[0]==ct[V].id)==null&&ct[V].check(_)&&(H.achievements.push([ct[V].id,_.environment.day,_.townInfo.name]),Ae(Tt,l=!0,l),Ae(Si,r=!0,r));return Rt.update(()=>H),_}let L=!1;function J(_){if(L||_.currentTutorialStep>=Xn.length)return _;for(let H=_.currentTutorialStep;H<_.currentTutorialStep+1;H++)if(Xn[H].isComplete(_)){Ae($o,i=!0,i),L=!0,_.townInfo.gold+=Xn[H].goldReward,setTimeout(()=>{Ae($o,i=!1,i),_.currentTutorialStep++,L=!1},2e3);break}return _}function z(_){return _.gameSettings.includes("tomPetty")&&(_.townInfo.happiness<=3||_.townInfo.health<=3)?(_.townInfo.happiness=300,_.modifiers.happiness=1,_.townInfo.health=300,_.modifiers.health=1,_.townInfo.gold=ut(_.townInfo.gold*.5,0),alert("Since you are playing in Tom Petty mode, you have been given another chance. All it took was 50% of your gold. Good luck!"),_):(_.townInfo.happiness<=3&&(_.townInfo.happiness=0,_.endGameDetails={msg:Nt.happiness_zero,win:!1,still_playing:!1}),_.townInfo.health<=3&&(_.townInfo.health=3,_.endGameDetails={msg:Nt.health_zero,win:!1,still_playing:!1}),_.townInfo.population_count<=0&&_.townInfo.population_max>0&&(_.townInfo.population_count=0,_.endGameDetails={msg:Nt.population_zero,win:!1,still_playing:!1}),_)}function X(_){let H=_.townInfo.population_count-_.townInfo.employees;if(_.gameSettings.includes("casual")&&Math.random()<.75)return _;if(H>0){let V=H*.2;V>10&&(V=10),_.townInfo.happiness-=V,_=at(H+Nt.unemployment_num,_,Ze.BAD)}else _.townLog=_.townLog.filter(V=>!V.message.includes(Nt.unemployment_num));return _}function ne(_){for(let H=0;H<_.economyAndLaws.enacted.length;H++){let V=Fr.find(le=>le.id==_.economyAndLaws.enacted[H]);V!=null&&V.weekly_effect!=null&&(_=V.weekly_effect(_))}return _}function Z(_){let H=_.townInfo.health,V=0;return H>50||H<Math.random()*50&&(H<25?(_=at(Nt.sickAndDying,_,Ze.BAD),_.townInfo.happiness-=10,V=Math.round(_.townInfo.population_count*.1)):(_=at(Nt.sickAndLeaving,_,Ze.BAD),_.townInfo.happiness-=5,V=Math.round(_.townInfo.population_count*.05)),_.townInfo.population_count-=V,_.townInfo.employees-=V),_}function te(_){const H=Math.random();if(_.economyAndLaws.tax_rate>_.economyAndLaws.max_tax_rate&&_.townInfo.population_count>0){let V=1;_.hasBank&&(V=2);const le=_.difficulty==0?.7:_.difficulty==1?.4:.2;H<le&&_.economyAndLaws.tax_rate>_.economyAndLaws.max_tax_rate*2*V?(_.modifiers.happiness-=.02,_=at(Nt.very_high_tax_rate+"  ("+_.economyAndLaws.tax_rate+"%)",_,Ze.BAD)):(_.modifiers.happiness-=.01,_=at(Nt.high_tax_rate+"  ("+_.economyAndLaws.tax_rate*100+"%)",_,Ze.BAD))}return _}function ye(_){if(_.modifiers.happiness>1){let V=_.modifiers.happiness-1;_.modifiers.happiness-=V*.3,_.modifiers.happiness<1.02&&(_.modifiers.happiness=1)}if(_.modifiers.community>1){let V=_.modifiers.community-1;_.modifiers.community-=V*.3,_.modifiers.community<1.02&&(_.modifiers.community=1)}if(_.modifiers.health>1)if(De("healing_house",_).length>0){_=at(Nt.hospital_advantage,_,Ze.GOOD);let V=_.modifiers.health-1;_.modifiers.health-=V*De("healing_house",_).length?.03:.06,_.modifiers.health<1.02&&(_.modifiers.health=1)}else{let V=_.modifiers.health-1;_.modifiers.health-=V*.3,_.modifiers.health<1.02&&(_.modifiers.health=1)}else De("healing_house",_).length>0&&(_.modifiers.health+=.8,_.townInfo.health+=Math.floor(Math.random()*10)+5);return _}function ae(_){_.economyAndLaws.weeklyProfit=0;for(let H=0;H<_.plots.length;H++)for(let V=0;V<_.plots[H].length;V++)if(_.plots[H][V].active==!0&&_.plots[H][V].type>-1){const le=oe[_.plots[H][V].type];let he=Ue(le.revenue_per_week,_,le.type,H,V)*(_.townInfo.productivity/100)/7,Se=In(H,V,_);const Pe=_.gameSettings.includes("casual")&&he>0?3:1;he*=Pe,he*=Se?2:1,_.townInfo.gold+=he,_.economyAndLaws.weeklyProfit+=he*7}return _}function ie(_){for(let H=0;H<_.plots.length;H++)for(let V=0;V<_.plots[H].length;V++)if(_.plots[H][V].active==!0&&_.plots[H][V].type>-1){const le=oe[_.plots[H][V].type];_.townInfo.happiness*=le.weekly_effect_modifiers.happiness,_.townInfo.health*=le.weekly_effect_modifiers.health,_.townInfo.community*=le.weekly_effect_modifiers.community}return _.townInfo.happiness*=_.modifiers.happiness,_.townInfo.health*=_.modifiers.health,_.townInfo.community*=_.modifiers.community,_}function je(_){return _.gameSettings.includes("casual")&&Math.random()<.75||De("mine",_).length>0&&(_.townInfo.health-=7,De("healing_house",_).length==0&&(_=at("The mine is actively hurting the health of the town. A Healing House can counteract this.",_,Ze.BAD))),_}function qe(_){let H=0;for(let V=0;V<_.plots.length;V++)for(let le=0;le<_.plots[V].length;le++)if(_.plots[V][le].active==!0&&_.plots[V][le].type>-1){let he=oe[_.plots[V][le].type],Se=Wn(V,le,_)?.75:1;he.knowledge_points_per_month!=null&&(_.townInfo.knowledge_points+=Math.round(he.knowledge_points_per_month*Se/4),H+=he.knowledge_points_per_month*Se/4)}return _.resource_rate.knowledge=ut(H,0),_}function Ue(_,H,V,le,he){let Se=H.townInfo.happiness/100;Se>2?Se=2:Se<.75&&(Se=.75),H.townInfo.community>150?Se*=1.1:H.townInfo.community<100&&(Se*=.8);let Pe=De("village_inn",H).length;V=="shop"&&Pe>0&&(Se*=1.35*Pe),Wn(le,he,H)&&(Se*=1.5);let We=oe[H.plots[le][he].type].active_costs.gold,Le=Math.round(_*H.economyAndLaws.tax_rate*(H.townInfo.population_count/H.townInfo.population_max)*Se*(H.economyAndLaws.enacted.includes("tax_free")?-1:1)-We);return ut(Le,0)}function rt(_){if(!_)return;localStorage.setItem(ot,JSON.stringify(_));const H=JSON.parse(localStorage.getItem(et)||"{}");H.games==null&&(H.games=[],H.selectedGame=0,H.games.push(JSON.stringify(_)),localStorage.setItem(et,JSON.stringify(H))),H.selectedGame>H.games.length&&(H.selectedGame=0),H.games[H.selectedGame]=JSON.stringify(_),localStorage.setItem(et,JSON.stringify(H))}return Wo(async()=>{for(;;)localStorage.reset=="true"&&(jr(),localStorage.setItem("reset","false")),m(),await new Promise(_=>setTimeout(_,n/Wl))}),[m,Br,qr,ye,Gr,rt]}class Wm extends pe{constructor(e){super(),me(this,e,Vm,null,de,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4,syncGameState:5},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return Br}get _fixVariables(){return qr}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return Gr}get syncGameState(){return this.$$.ctx[5]}}function Ym(t){return t[t.length-1]}function dn(t){return Object.keys(t).reduce((e,o)=>t[o]===void 0?e:e+`${o}:${t[o]};`,"")}function dr(t){return t?!0:void 0}dn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function Vf(t){if(t!==null)return t}function Yl(t){function e(o){return o(t),()=>{}}return{subscribe:e}}function mr(t){if(!Fo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return bt(e)?e:null}const Io=t=>new Proxy(t,{get(e,o,n){return Reflect.get(e,o,n)},ownKeys(e){return Reflect.ownKeys(e).filter(o=>o!=="action")}}),Ul=t=>typeof t=="function";ft("empty");function ft(t,e){const{stores:o,action:n,returned:i}=e??{},r=(()=>{if(o&&i)return en(o,a=>{const s=i(a);if(Ul(s)){const u=(...f)=>Io({...s(...f),[`data-melt-${t}`]:"",action:n??Xe});return u.action=n??Xe,u}return Io({...s,[`data-melt-${t}`]:"",action:n??Xe})});{const a=i,s=a==null?void 0:a();if(Ul(s)){const u=(...f)=>Io({...s(...f),[`data-melt-${t}`]:"",action:n??Xe});return u.action=n??Xe,Yl(u)}return Yl(Io({...s,[`data-melt-${t}`]:"",action:n??Xe}))}})(),l=n??(()=>{});return l.subscribe=r.subscribe,l}function Kl(t,e){const{stores:o,returned:n,action:i}=e,{subscribe:r}=en(o,a=>n(a).map(s=>Io({...s,[`data-melt-${t}`]:"",action:i??Xe}))),l=i??(()=>{});return l.subscribe=r,l}function Ki(t){const e=r=>r?`${t}-${r}`:t,o=r=>`data-melt-${t}${r?`-${r}`:""}`,n=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:o,selector:n,getEl:r=>document.querySelector(n(r))}}const Fo=typeof document<"u",Wf=t=>typeof t=="function";function Um(t){return t instanceof Document}function Ji(t){return t instanceof Element}function bt(t){return t instanceof HTMLElement}function Jl(t){return t.pointerType==="touch"}function Km(t){return t!==null&&typeof t=="object"}function Jm(t){return Km(t)&&"subscribe"in t}function Bt(...t){return(...e)=>{for(const o of t)typeof o=="function"&&o(...e)}}function Xe(){}function dt(t,e,o,n){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,o,n)),()=>{i.forEach(r=>t.removeEventListener(r,o,n))}}function ht(t,e,o,n){const i=Array.isArray(e)?e:[e];if(typeof o=="function"){const r=Zm(l=>o(l));return i.forEach(l=>t.addEventListener(l,r,n)),()=>{i.forEach(l=>t.removeEventListener(l,r,n))}}return()=>void 0}function Xm(t){const e=t.currentTarget;if(!bt(e))return null;const o=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(o),o}function Zm(t){return e=>{const o=Xm(e);if(!(o!=null&&o.defaultPrevented))return t(e)}}function Xi(t,...e){const o={};for(const n of Object.keys(t))e.includes(n)||(o[n]=t[n]);return o}function Zt(t){return{...t,get:()=>Cf(t)}}Zt.writable=function(t){const e=Ve(t);let o=t;return{subscribe:e.subscribe,set(n){e.set(n),o=n},update(n){const i=n(o);e.set(i),o=i},get(){return o}}};Zt.derived=function(t,e){const o=new Map,n=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:n,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(n())}))}),r(n()),o.set(r,l),()=>{const s=o.get(r);if(s)for(const u of s)u();o.delete(r)}}}};const Zi=(t,e)=>{const o=Zt(t),n=(r,l)=>{o.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...o,update:n,set:r=>{n(()=>r)}}};function pl(t){return new Promise(e=>setTimeout(e,t))}let Qm="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",zm=(t=21)=>{let e="",o=t;for(;o--;)e+=Qm[Math.random()*64|0];return e};function ep(){return zm(10)}function hl(t){return t.reduce((e,o)=>(e[o]=ep(),e),{})}const lt={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Yf=()=>typeof window<"u";function tp(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Uf=t=>Yf()&&t.test(tp().toLowerCase()),np=()=>Yf()&&!!navigator.maxTouchPoints,op=()=>Uf(/^mac/)&&!np(),ip=()=>Uf(/mac|iphone|ipad|ipod/i),rp=()=>ip()&&!op();function lp(t){const e=t.slice();return e.sort(ap),sp(e)}function sp(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const o=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;o.length>=2;){const r=o[o.length-1],l=o[o.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))o.pop();else break}o.push(i)}return o.pop(),e.length==1&&o.length==1&&e[0].x==o[0].x&&e[0].y==o[0].y?e:e.concat(o)}function ap(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function up(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function fp(t){const e=t.flatMap(o=>up(o));return lp(e)}function cp(t,e){let o=!1;for(let n=0,i=e.length-1;n<e.length;i=n++){const r=e[n].x,l=e[n].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(o=!o)}return o}const pr="data-melt-scroll-lock";function Xl(t,e){if(!t)return;const o=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=o}}function dp(t,e,o){if(!t)return;const n=t.style.getPropertyValue(e);return t.style.setProperty(e,o),()=>{n?t.style.setProperty(e,n):t.style.removeProperty(e)}}function mp(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function pp(t){const e=document,o=e.defaultView??window,{documentElement:n,body:i}=e;if(i.hasAttribute(pr))return Xe;i.setAttribute(pr,"");const l=o.innerWidth-n.clientWidth,a=()=>dp(n,"--scrollbar-width",`${l}px`),s=mp(n),u=o.getComputedStyle(i)[s],f=()=>Xl(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:m,scrollY:h,visualViewport:g}=o,p=(g==null?void 0:g.offsetLeft)??0,w=(g==null?void 0:g.offsetTop)??0,v=Xl(i,{position:"fixed",overflow:"hidden",top:`${-(h-Math.floor(w))}px`,left:`${-(m-Math.floor(p))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{v==null||v(),o.scrollTo(m,h)}},d=[a(),rp()?c():f()];return()=>{d.forEach(m=>m==null?void 0:m()),i.removeAttribute(pr)}}const hp=t=>{try{Of(t)}catch{return t}};function St(t,e){let o;const n=en(t,r=>{o==null||o(),o=e(r)}).subscribe(Xe),i=()=>{n(),o==null||o()};return hp(i),i}function On(t){const e={};return Object.keys(t).forEach(o=>{const n=o,i=t[n];e[n]=Zt(Ve(i))}),e}function gp(t){let e=t.parentElement;for(;bt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Kf(t,e){return e!==void 0?e:gp(t)==="body"?document.body:null}async function Zl(t){const{prop:e,defaultEl:o}=t;if(await Promise.all([pl(1),ul]),e===void 0){o==null||o.focus();return}const n=Wf(e)?e(o):e;if(typeof n=="string"){const i=document.querySelector(n);if(!bt(i))return;i.focus()}else bt(n)&&n.focus()}function hr(t,e,o,n){const i=(t-(isNaN(e)?0:e))%n;let r=Math.abs(i)*2>=n?t+Math.sign(i)*(n-Math.abs(i)):t-i;isNaN(e)?!isNaN(o)&&r>o&&(r=Math.floor(o/n)*n):r<e?r=e:!isNaN(o)&&r>o&&(r=e+Math.floor((o-e)/n)*n);const l=n.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}An(void 0,t=>{function e(n){t(n),t(void 0)}return dt(document,"pointerup",e,{passive:!1,capture:!0})});const _p=An(void 0,t=>{function e(n){n&&n.key===lt.ESCAPE&&t(n),t(void 0)}return dt(document,"keydown",e,{passive:!1})}),Ql=(t,e={})=>{let o=Xe;function n(i={}){o();const r={enabled:!0,...i},l=Jm(r.enabled)?r.enabled:An(r.enabled);o=Bt(_p.subscribe(a=>{var u;if(!a||!Cf(l))return;const s=a.target;if(!(!bt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(Wf(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),St(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return n(e),{update:n,destroy(){t.removeAttribute("data-escapee"),o()}}},pn=Math.min,wt=Math.max,Ai=Math.round,Zo=Math.floor,hn=t=>({x:t,y:t}),bp={left:"right",right:"left",bottom:"top",top:"bottom"},vp={start:"end",end:"start"};function Hr(t,e,o){return wt(t,pn(e,o))}function fo(t,e){return typeof t=="function"?t(e):t}function gn(t){return t.split("-")[0]}function co(t){return t.split("-")[1]}function Jf(t){return t==="x"?"y":"x"}function gl(t){return t==="y"?"height":"width"}function Yo(t){return["top","bottom"].includes(gn(t))?"y":"x"}function _l(t){return Jf(Yo(t))}function yp(t,e,o){o===void 0&&(o=!1);const n=co(t),i=_l(t),r=gl(i);let l=i==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=Ti(l)),[l,Ti(l)]}function wp(t){const e=Ti(t);return[xr(t),e,xr(e)]}function xr(t){return t.replace(/start|end/g,e=>vp[e])}function kp(t,e,o){const n=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return o?e?i:n:e?n:i;case"left":case"right":return e?r:l;default:return[]}}function Cp(t,e,o,n){const i=co(t);let r=kp(gn(t),o==="start",n);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(xr)))),r}function Ti(t){return t.replace(/left|right|bottom|top/g,e=>bp[e])}function Sp(t){return{top:0,right:0,bottom:0,left:0,...t}}function Xf(t){return typeof t!="number"?Sp(t):{top:t,right:t,bottom:t,left:t}}function Ii(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function zl(t,e,o){let{reference:n,floating:i}=t;const r=Yo(e),l=_l(e),a=gl(l),s=gn(e),u=r==="y",f=n.x+n.width/2-i.width/2,c=n.y+n.height/2-i.height/2,d=n[a]/2-i[a]/2;let m;switch(s){case"top":m={x:f,y:n.y-i.height};break;case"bottom":m={x:f,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:c};break;case"left":m={x:n.x-i.width,y:c};break;default:m={x:n.x,y:n.y}}switch(co(e)){case"start":m[l]-=d*(o&&u?-1:1);break;case"end":m[l]+=d*(o&&u?-1:1);break}return m}const Ap=async(t,e,o)=>{const{placement:n="bottom",strategy:i="absolute",middleware:r=[],platform:l}=o,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=zl(u,n,s),d=n,m={},h=0;for(let g=0;g<a.length;g++){const{name:p,fn:w}=a[g],{x:v,y:S,data:j,reset:D}=await w({x:f,y:c,initialPlacement:n,placement:d,strategy:i,middlewareData:m,rects:u,platform:l,elements:{reference:t,floating:e}});f=v??f,c=S??c,m={...m,[p]:{...m[p],...j}},D&&h<=50&&(h++,typeof D=="object"&&(D.placement&&(d=D.placement),D.rects&&(u=D.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:f,y:c}=zl(u,d,s)),g=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:m}};async function bl(t,e){var o;e===void 0&&(e={});const{x:n,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:m=0}=fo(e,t),h=Xf(m),p=a[d?c==="floating"?"reference":"floating":c],w=Ii(await r.getClippingRect({element:(o=await(r.isElement==null?void 0:r.isElement(p)))==null||o?p:p.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),v=c==="floating"?{...l.floating,x:n,y:i}:l.reference,S=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),j=await(r.isElement==null?void 0:r.isElement(S))?await(r.getScale==null?void 0:r.getScale(S))||{x:1,y:1}:{x:1,y:1},D=Ii(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:S,strategy:s}):v);return{top:(w.top-D.top+h.top)/j.y,bottom:(D.bottom-w.bottom+h.bottom)/j.y,left:(w.left-D.left+h.left)/j.x,right:(D.right-w.right+h.right)/j.x}}const Tp=t=>({name:"arrow",options:t,async fn(e){const{x:o,y:n,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=fo(t,e)||{};if(u==null)return{};const c=Xf(f),d={x:o,y:n},m=_l(i),h=gl(m),g=await l.getDimensions(u),p=m==="y",w=p?"top":"left",v=p?"bottom":"right",S=p?"clientHeight":"clientWidth",j=r.reference[h]+r.reference[m]-d[m]-r.floating[h],D=d[m]-r.reference[m],F=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let P=F?F[S]:0;(!P||!await(l.isElement==null?void 0:l.isElement(F)))&&(P=a.floating[S]||r.floating[h]);const N=j/2-D/2,R=P/2-g[h]/2-1,q=pn(c[w],R),O=pn(c[v],R),k=q,A=P-g[h]-O,E=P/2-g[h]/2+N,B=Hr(k,E,A),L=!s.arrow&&co(i)!=null&&E!==B&&r.reference[h]/2-(E<k?q:O)-g[h]/2<0,J=L?E<k?E-k:E-A:0;return{[m]:d[m]+J,data:{[m]:B,centerOffset:E-B-J,...L&&{alignmentOffset:J}},reset:L}}}),Ip=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var o,n;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:g=!0,...p}=fo(t,e);if((o=r.arrow)!=null&&o.alignmentOffset)return{};const w=gn(i),v=gn(a)===a,S=await(s.isRTL==null?void 0:s.isRTL(u.floating)),j=d||(v||!g?[Ti(a)]:wp(a));!d&&h!=="none"&&j.push(...Cp(a,g,h,S));const D=[a,...j],F=await bl(e,p),P=[];let N=((n=r.flip)==null?void 0:n.overflows)||[];if(f&&P.push(F[w]),c){const k=yp(i,l,S);P.push(F[k[0]],F[k[1]])}if(N=[...N,{placement:i,overflows:P}],!P.every(k=>k<=0)){var R,q;const k=(((R=r.flip)==null?void 0:R.index)||0)+1,A=D[k];if(A)return{data:{index:k,overflows:N},reset:{placement:A}};let E=(q=N.filter(B=>B.overflows[0]<=0).sort((B,L)=>B.overflows[1]-L.overflows[1])[0])==null?void 0:q.placement;if(!E)switch(m){case"bestFit":{var O;const B=(O=N.map(L=>[L.placement,L.overflows.filter(J=>J>0).reduce((J,z)=>J+z,0)]).sort((L,J)=>L[1]-J[1])[0])==null?void 0:O[0];B&&(E=B);break}case"initialPlacement":E=a;break}if(i!==E)return{reset:{placement:E}}}return{}}}};async function Mp(t,e){const{placement:o,platform:n,elements:i}=t,r=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=gn(o),a=co(o),s=Yo(o)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=fo(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:h}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof h=="number"&&(m=a==="end"?h*-1:h),s?{x:m*f,y:d*u}:{x:d*u,y:m*f}}const Op=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var o,n;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await Mp(e,t);return l===((o=a.offset)==null?void 0:o.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},Np=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:o,y:n,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:p=>{let{x:w,y:v}=p;return{x:w,y:v}}},...s}=fo(t,e),u={x:o,y:n},f=await bl(e,s),c=Yo(gn(i)),d=Jf(c);let m=u[d],h=u[c];if(r){const p=d==="y"?"top":"left",w=d==="y"?"bottom":"right",v=m+f[p],S=m-f[w];m=Hr(v,m,S)}if(l){const p=c==="y"?"top":"left",w=c==="y"?"bottom":"right",v=h+f[p],S=h-f[w];h=Hr(v,h,S)}const g=a.fn({...e,[d]:m,[c]:h});return{...g,data:{x:g.x-o,y:g.y-n}}}}},Pp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:o,rects:n,platform:i,elements:r}=e,{apply:l=()=>{},...a}=fo(t,e),s=await bl(e,a),u=gn(o),f=co(o),c=Yo(o)==="y",{width:d,height:m}=n.floating;let h,g;u==="top"||u==="bottom"?(h=u,g=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(g=u,h=f==="end"?"top":"bottom");const p=m-s[h],w=d-s[g],v=!e.middlewareData.shift;let S=p,j=w;if(c){const F=d-s.left-s.right;j=f||v?pn(w,F):F}else{const F=m-s.top-s.bottom;S=f||v?pn(p,F):F}if(v&&!f){const F=wt(s.left,0),P=wt(s.right,0),N=wt(s.top,0),R=wt(s.bottom,0);c?j=d-2*(F!==0||P!==0?F+P:wt(s.left,s.right)):S=m-2*(N!==0||R!==0?N+R:wt(s.top,s.bottom))}await l({...e,availableWidth:j,availableHeight:S});const D=await i.getDimensions(r.floating);return d!==D.width||m!==D.height?{reset:{rects:!0}}:{}}}};function _n(t){return Zf(t)?(t.nodeName||"").toLowerCase():"#document"}function kt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tn(t){var e;return(e=(Zf(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Zf(t){return t instanceof Node||t instanceof kt(t).Node}function Qt(t){return t instanceof Element||t instanceof kt(t).Element}function Gt(t){return t instanceof HTMLElement||t instanceof kt(t).HTMLElement}function es(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof kt(t).ShadowRoot}function Uo(t){const{overflow:e,overflowX:o,overflowY:n,display:i}=Mt(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(i)}function Ep(t){return["table","td","th"].includes(_n(t))}function vl(t){const e=yl(),o=Mt(t);return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!e&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!e&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function Rp(t){let e=oo(t);for(;Gt(e)&&!Qi(e);){if(vl(e))return e;e=oo(e)}return null}function yl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qi(t){return["html","body","#document"].includes(_n(t))}function Mt(t){return kt(t).getComputedStyle(t)}function zi(t){return Qt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function oo(t){if(_n(t)==="html")return t;const e=t.assignedSlot||t.parentNode||es(t)&&t.host||tn(t);return es(e)?e.host:e}function Qf(t){const e=oo(t);return Qi(e)?t.ownerDocument?t.ownerDocument.body:t.body:Gt(e)&&Uo(e)?e:Qf(e)}function Bo(t,e,o){var n;e===void 0&&(e=[]),o===void 0&&(o=!0);const i=Qf(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),l=kt(i);return r?e.concat(l,l.visualViewport||[],Uo(i)?i:[],l.frameElement&&o?Bo(l.frameElement):[]):e.concat(i,Bo(i,[],o))}function zf(t){const e=Mt(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Gt(t),r=i?t.offsetWidth:o,l=i?t.offsetHeight:n,a=Ai(o)!==r||Ai(n)!==l;return a&&(o=r,n=l),{width:o,height:n,$:a}}function wl(t){return Qt(t)?t:t.contextElement}function Zn(t){const e=wl(t);if(!Gt(e))return hn(1);const o=e.getBoundingClientRect(),{width:n,height:i,$:r}=zf(e);let l=(r?Ai(o.width):o.width)/n,a=(r?Ai(o.height):o.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const $p=hn(0);function ec(t){const e=kt(t);return!yl()||!e.visualViewport?$p:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Lp(t,e,o){return e===void 0&&(e=!1),!o||e&&o!==kt(t)?!1:e}function Nn(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);const i=t.getBoundingClientRect(),r=wl(t);let l=hn(1);e&&(n?Qt(n)&&(l=Zn(n)):l=Zn(t));const a=Lp(r,o,n)?ec(r):hn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=kt(r),m=n&&Qt(n)?kt(n):n;let h=d,g=h.frameElement;for(;g&&n&&m!==h;){const p=Zn(g),w=g.getBoundingClientRect(),v=Mt(g),S=w.left+(g.clientLeft+parseFloat(v.paddingLeft))*p.x,j=w.top+(g.clientTop+parseFloat(v.paddingTop))*p.y;s*=p.x,u*=p.y,f*=p.x,c*=p.y,s+=S,u+=j,h=kt(g),g=h.frameElement}}return Ii({width:f,height:c,x:s,y:u})}const Dp=[":popover-open",":modal"];function tc(t){return Dp.some(e=>{try{return t.matches(e)}catch{return!1}})}function jp(t){let{elements:e,rect:o,offsetParent:n,strategy:i}=t;const r=i==="fixed",l=tn(n),a=e?tc(e.floating):!1;if(n===l||a&&r)return o;let s={scrollLeft:0,scrollTop:0},u=hn(1);const f=hn(0),c=Gt(n);if((c||!c&&!r)&&((_n(n)!=="body"||Uo(l))&&(s=zi(n)),Gt(n))){const d=Nn(n);u=Zn(n),f.x=d.x+n.clientLeft,f.y=d.y+n.clientTop}return{width:o.width*u.x,height:o.height*u.y,x:o.x*u.x-s.scrollLeft*u.x+f.x,y:o.y*u.y-s.scrollTop*u.y+f.y}}function Fp(t){return Array.from(t.getClientRects())}function nc(t){return Nn(tn(t)).left+zi(t).scrollLeft}function Bp(t){const e=tn(t),o=zi(t),n=t.ownerDocument.body,i=wt(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),r=wt(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-o.scrollLeft+nc(t);const a=-o.scrollTop;return Mt(n).direction==="rtl"&&(l+=wt(e.clientWidth,n.clientWidth)-i),{width:i,height:r,x:l,y:a}}function qp(t,e){const o=kt(t),n=tn(t),i=o.visualViewport;let r=n.clientWidth,l=n.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=yl();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function Gp(t,e){const o=Nn(t,!0,e==="fixed"),n=o.top+t.clientTop,i=o.left+t.clientLeft,r=Gt(t)?Zn(t):hn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=n*r.y;return{width:l,height:a,x:s,y:u}}function ts(t,e,o){let n;if(e==="viewport")n=qp(t,o);else if(e==="document")n=Bp(tn(t));else if(Qt(e))n=Gp(e,o);else{const i=ec(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return Ii(n)}function oc(t,e){const o=oo(t);return o===e||!Qt(o)||Qi(o)?!1:Mt(o).position==="fixed"||oc(o,e)}function Hp(t,e){const o=e.get(t);if(o)return o;let n=Bo(t,[],!1).filter(a=>Qt(a)&&_n(a)!=="body"),i=null;const r=Mt(t).position==="fixed";let l=r?oo(t):t;for(;Qt(l)&&!Qi(l);){const a=Mt(l),s=vl(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Uo(l)&&!s&&oc(t,l))?n=n.filter(f=>f!==l):i=a,l=oo(l)}return e.set(t,n),n}function xp(t){let{element:e,boundary:o,rootBoundary:n,strategy:i}=t;const l=[...o==="clippingAncestors"?Hp(e,this._c):[].concat(o),n],a=l[0],s=l.reduce((u,f)=>{const c=ts(e,f,i);return u.top=wt(c.top,u.top),u.right=pn(c.right,u.right),u.bottom=pn(c.bottom,u.bottom),u.left=wt(c.left,u.left),u},ts(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function Vp(t){const{width:e,height:o}=zf(t);return{width:e,height:o}}function Wp(t,e,o){const n=Gt(e),i=tn(e),r=o==="fixed",l=Nn(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=hn(0);if(n||!n&&!r)if((_n(e)!=="body"||Uo(i))&&(a=zi(e)),n){const c=Nn(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=nc(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function ns(t,e){return!Gt(t)||Mt(t).position==="fixed"?null:e?e(t):t.offsetParent}function ic(t,e){const o=kt(t);if(!Gt(t)||tc(t))return o;let n=ns(t,e);for(;n&&Ep(n)&&Mt(n).position==="static";)n=ns(n,e);return n&&(_n(n)==="html"||_n(n)==="body"&&Mt(n).position==="static"&&!vl(n))?o:n||Rp(t)||o}const Yp=async function(t){const e=this.getOffsetParent||ic,o=this.getDimensions;return{reference:Wp(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await o(t.floating)}}};function Up(t){return Mt(t).direction==="rtl"}const Kp={convertOffsetParentRelativeRectToViewportRelativeRect:jp,getDocumentElement:tn,getClippingRect:xp,getOffsetParent:ic,getElementRects:Yp,getClientRects:Fp,getDimensions:Vp,getScale:Zn,isElement:Qt,isRTL:Up};function Jp(t,e){let o=null,n;const i=tn(t);function r(){var a;clearTimeout(n),(a=o)==null||a.disconnect(),o=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const m=Zo(f),h=Zo(i.clientWidth-(u+c)),g=Zo(i.clientHeight-(f+d)),p=Zo(u),v={rootMargin:-m+"px "+-h+"px "+-g+"px "+-p+"px",threshold:wt(0,pn(1,s))||1};let S=!0;function j(D){const F=D[0].intersectionRatio;if(F!==s){if(!S)return l();F?l(!1,F):n=setTimeout(()=>{l(!1,1e-7)},100)}S=!1}try{o=new IntersectionObserver(j,{...v,root:i.ownerDocument})}catch{o=new IntersectionObserver(j,v)}o.observe(t)}return l(!0),r}function Xp(t,e,o,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=n,u=wl(t),f=i||r?[...u?Bo(u):[],...Bo(e)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",o,{passive:!0}),r&&w.addEventListener("resize",o)});const c=u&&a?Jp(u,o):null;let d=-1,m=null;l&&(m=new ResizeObserver(w=>{let[v]=w;v&&v.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),o()}),u&&!s&&m.observe(u),m.observe(e));let h,g=s?Nn(t):null;s&&p();function p(){const w=Nn(t);g&&(w.x!==g.x||w.y!==g.y||w.width!==g.width||w.height!==g.height)&&o(),g=w,h=requestAnimationFrame(p)}return o(),()=>{var w;f.forEach(v=>{i&&v.removeEventListener("scroll",o),r&&v.removeEventListener("resize",o)}),c==null||c(),(w=m)==null||w.disconnect(),m=null,s&&cancelAnimationFrame(h)}}const Zp=Np,Qp=Ip,zp=Pp,eh=Tp,th=(t,e,o)=>{const n=new Map,i={platform:Kp,...o},r={...i.platform,_c:n};return Ap(t,e,{...i,platform:r})},nh={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},oh={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function ih(t,e,o={}){if(!e||!t||o===null)return{destroy:Xe};const n={...nh,...o},i=e.querySelector("[data-arrow=true]"),r=[];n.flip&&r.push(Qp({boundary:n.boundary,padding:n.overflowPadding}));const l=bt(i)?i.offsetHeight/2:0;if(n.gutter||n.offset){const s=n.gutter?{mainAxis:n.gutter}:n.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(Op(s))}r.push(Zp({boundary:n.boundary,crossAxis:n.overlap,padding:n.overflowPadding})),i&&r.push(eh({element:i,padding:8})),r.push(zp({padding:n.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){n.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),n.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=n;th(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:n.strategy,top:`${d}px`,left:`${c}px`}),bt(i)&&f.middlewareData.arrow){const{x:m,y:h}=f.middlewareData.arrow,g=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:m!=null?`${m}px`:"",top:h!=null?`${h}px`:"",[g]:`calc(100% - ${l}px)`,transform:oh[g],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:n.strategy}),{destroy:Xp(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var rc=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Mi=rc.join(","),lc=typeof Element>"u",Pn=lc?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Oi=!lc&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Ni=function t(e,o){var n;o===void 0&&(o=!0);var i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),r=i===""||i==="true",l=r||o&&e&&t(e.parentNode);return l},rh=function(e){var o,n=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"contenteditable");return n===""||n==="true"},sc=function(e,o,n){if(Ni(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Mi));return o&&Pn.call(e,Mi)&&i.unshift(e),i=i.filter(n),i},ac=function t(e,o,n){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!Ni(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,n);n.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=Pn.call(l,Mi);f&&n.filter(l)&&(o||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(l),d=!Ni(c,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(l));if(c&&d){var m=t(c===!0?l.children:c.children,!0,n);n.flatten?i.push.apply(i,m):i.push({scopeParent:l,candidates:m})}else r.unshift.apply(r,l.children)}}return i},uc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},wn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||rh(e))&&!uc(e)?0:e.tabIndex},lh=function(e,o){var n=wn(e);return n<0&&o&&!uc(e)?0:n},sh=function(e,o){return e.tabIndex===o.tabIndex?e.documentOrder-o.documentOrder:e.tabIndex-o.tabIndex},fc=function(e){return e.tagName==="INPUT"},ah=function(e){return fc(e)&&e.type==="hidden"},uh=function(e){var o=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return o},fh=function(e,o){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===o)return e[n]},ch=function(e){if(!e.name)return!0;var o=e.form||Oi(e),n=function(a){return o.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(e.name));else try{i=n(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=fh(i,e.form);return!r||r===e},dh=function(e){return fc(e)&&e.type==="radio"},mh=function(e){return dh(e)&&!ch(e)},ph=function(e){var o,n=e&&Oi(e),i=(o=n)===null||o===void 0?void 0:o.host,r=!1;if(n&&n!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;n=Oi(i),i=(u=n)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},os=function(e){var o=e.getBoundingClientRect(),n=o.width,i=o.height;return n===0&&i===0},hh=function(e,o){var n=o.displayCheck,i=o.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Pn.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Pn.call(l,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=Oi(e);if(s&&!s.shadowRoot&&i(s)===!0)return os(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(ph(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return os(e);return!1},gh=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var o=e.parentElement;o;){if(o.tagName==="FIELDSET"&&o.disabled){for(var n=0;n<o.children.length;n++){var i=o.children.item(n);if(i.tagName==="LEGEND")return Pn.call(o,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}o=o.parentElement}return!1},Pi=function(e,o){return!(o.disabled||Ni(o)||ah(o)||hh(o,e)||uh(o)||gh(o))},Vr=function(e,o){return!(mh(o)||wn(o)<0||!Pi(e,o))},_h=function(e){var o=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(o)||o>=0)},bh=function t(e){var o=[],n=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=lh(a,l),u=l?t(i.candidates):a;s===0?l?o.push.apply(o,u):o.push(a):n.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),n.sort(sh).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(o)},vh=function(e,o){o=o||{};var n;return o.getShadowRoot?n=ac([e],o.includeContainer,{filter:Vr.bind(null,o),flatten:!1,getShadowRoot:o.getShadowRoot,shadowRootFilter:_h}):n=sc(e,o.includeContainer,Vr.bind(null,o)),bh(n)},yh=function(e,o){o=o||{};var n;return o.getShadowRoot?n=ac([e],o.includeContainer,{filter:Pi.bind(null,o),flatten:!0,getShadowRoot:o.getShadowRoot}):n=sc(e,o.includeContainer,Pi.bind(null,o)),n},Hn=function(e,o){if(o=o||{},!e)throw new Error("No node provided");return Pn.call(e,Mi)===!1?!1:Vr(o,e)},wh=rc.concat("iframe").join(","),gr=function(e,o){if(o=o||{},!e)throw new Error("No node provided");return Pn.call(e,wh)===!1?!1:Pi(o,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function is(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),o.push.apply(o,n)}return o}function rs(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?is(Object(o),!0).forEach(function(n){kh(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):is(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function kh(t,e,o){return e=Sh(e),e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function Ch(t,e){if(typeof t!="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var n=o.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sh(t){var e=Ch(t,"string");return typeof e=="symbol"?e:String(e)}var ls={activateTrap:function(e,o){if(e.length>0){var n=e[e.length-1];n!==o&&n.pause()}var i=e.indexOf(o);i===-1||e.splice(i,1),e.push(o)},deactivateTrap:function(e,o){var n=e.indexOf(o);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},Ah=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Th=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Lo=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Ih=function(e){return Lo(e)&&!e.shiftKey},Mh=function(e){return Lo(e)&&e.shiftKey},ss=function(e){return setTimeout(e,0)},as=function(e,o){var n=-1;return e.every(function(i,r){return o(i)?(n=r,!1):!0}),n},Co=function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,n):e},Qo=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Oh=[],Nh=function(e,o){var n=(o==null?void 0:o.document)||document,i=(o==null?void 0:o.trapStack)||Oh,r=rs({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Ih,isKeyBackward:Mh},o),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(k,A,E){return k&&k[A]!==void 0?k[A]:r[E||A]},u=function(k,A){var E=typeof(A==null?void 0:A.composedPath)=="function"?A.composedPath():void 0;return l.containerGroups.findIndex(function(B){var L=B.container,J=B.tabbableNodes;return L.contains(k)||(E==null?void 0:E.includes(L))||J.find(function(z){return z===k})})},f=function(k){var A=r[k];if(typeof A=="function"){for(var E=arguments.length,B=new Array(E>1?E-1:0),L=1;L<E;L++)B[L-1]=arguments[L];A=A.apply(void 0,B)}if(A===!0&&(A=void 0),!A){if(A===void 0||A===!1)return A;throw new Error("`".concat(k,"` was specified but was not a node, or did not return a node"))}var J=A;if(typeof A=="string"&&(J=n.querySelector(A),!J))throw new Error("`".concat(k,"` as selector refers to no known node"));return J},c=function(){var k=f("initialFocus");if(k===!1)return!1;if(k===void 0||!gr(k,r.tabbableOptions))if(u(n.activeElement)>=0)k=n.activeElement;else{var A=l.tabbableGroups[0],E=A&&A.firstTabbableNode;k=E||f("fallbackFocus")}if(!k)throw new Error("Your focus-trap needs to have at least one focusable element");return k},d=function(){if(l.containerGroups=l.containers.map(function(k){var A=vh(k,r.tabbableOptions),E=yh(k,r.tabbableOptions),B=A.length>0?A[0]:void 0,L=A.length>0?A[A.length-1]:void 0,J=E.find(function(ne){return Hn(ne)}),z=E.slice().reverse().find(function(ne){return Hn(ne)}),X=!!A.find(function(ne){return wn(ne)>0});return{container:k,tabbableNodes:A,focusableNodes:E,posTabIndexesFound:X,firstTabbableNode:B,lastTabbableNode:L,firstDomTabbableNode:J,lastDomTabbableNode:z,nextTabbableNode:function(Z){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ye=A.indexOf(Z);return ye<0?te?E.slice(E.indexOf(Z)+1).find(function(ae){return Hn(ae)}):E.slice(0,E.indexOf(Z)).reverse().find(function(ae){return Hn(ae)}):A[ye+(te?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(k){return k.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(k){return k.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function O(k){var A=k.activeElement;if(A)return A.shadowRoot&&A.shadowRoot.activeElement!==null?O(A.shadowRoot):A},h=function O(k){if(k!==!1&&k!==m(document)){if(!k||!k.focus){O(c());return}k.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=k,Ah(k)&&k.select()}},g=function(k){var A=f("setReturnFocus",k);return A||(A===!1?!1:k)},p=function(k){var A=k.target,E=k.event,B=k.isBackward,L=B===void 0?!1:B;A=A||Qo(E),d();var J=null;if(l.tabbableGroups.length>0){var z=u(A,E),X=z>=0?l.containerGroups[z]:void 0;if(z<0)L?J=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:J=l.tabbableGroups[0].firstTabbableNode;else if(L){var ne=as(l.tabbableGroups,function(je){var qe=je.firstTabbableNode;return A===qe});if(ne<0&&(X.container===A||gr(A,r.tabbableOptions)&&!Hn(A,r.tabbableOptions)&&!X.nextTabbableNode(A,!1))&&(ne=z),ne>=0){var Z=ne===0?l.tabbableGroups.length-1:ne-1,te=l.tabbableGroups[Z];J=wn(A)>=0?te.lastTabbableNode:te.lastDomTabbableNode}else Lo(E)||(J=X.nextTabbableNode(A,!1))}else{var ye=as(l.tabbableGroups,function(je){var qe=je.lastTabbableNode;return A===qe});if(ye<0&&(X.container===A||gr(A,r.tabbableOptions)&&!Hn(A,r.tabbableOptions)&&!X.nextTabbableNode(A))&&(ye=z),ye>=0){var ae=ye===l.tabbableGroups.length-1?0:ye+1,ie=l.tabbableGroups[ae];J=wn(A)>=0?ie.firstTabbableNode:ie.firstDomTabbableNode}else Lo(E)||(J=X.nextTabbableNode(A))}}else J=f("fallbackFocus");return J},w=function(k){var A=Qo(k);if(!(u(A,k)>=0)){if(Co(r.clickOutsideDeactivates,k)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Co(r.allowOutsideClick,k)||k.preventDefault()}},v=function(k){var A=Qo(k),E=u(A,k)>=0;if(E||A instanceof Document)E&&(l.mostRecentlyFocusedNode=A);else{k.stopImmediatePropagation();var B,L=!0;if(l.mostRecentlyFocusedNode)if(wn(l.mostRecentlyFocusedNode)>0){var J=u(l.mostRecentlyFocusedNode),z=l.containerGroups[J].tabbableNodes;if(z.length>0){var X=z.findIndex(function(ne){return ne===l.mostRecentlyFocusedNode});X>=0&&(r.isKeyForward(l.recentNavEvent)?X+1<z.length&&(B=z[X+1],L=!1):X-1>=0&&(B=z[X-1],L=!1))}}else l.containerGroups.some(function(ne){return ne.tabbableNodes.some(function(Z){return wn(Z)>0})})||(L=!1);else L=!1;L&&(B=p({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),h(B||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},S=function(k){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=k;var E=p({event:k,isBackward:A});E&&(Lo(k)&&k.preventDefault(),h(E))},j=function(k){if(Th(k)&&Co(r.escapeDeactivates,k)!==!1){k.preventDefault(),a.deactivate();return}(r.isKeyForward(k)||r.isKeyBackward(k))&&S(k,r.isKeyBackward(k))},D=function(k){var A=Qo(k);u(A,k)>=0||Co(r.clickOutsideDeactivates,k)||Co(r.allowOutsideClick,k)||(k.preventDefault(),k.stopImmediatePropagation())},F=function(){if(l.active)return ls.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?ss(function(){h(c())}):h(c()),n.addEventListener("focusin",v,!0),n.addEventListener("mousedown",w,{capture:!0,passive:!1}),n.addEventListener("touchstart",w,{capture:!0,passive:!1}),n.addEventListener("click",D,{capture:!0,passive:!1}),n.addEventListener("keydown",j,{capture:!0,passive:!1}),a},P=function(){if(l.active)return n.removeEventListener("focusin",v,!0),n.removeEventListener("mousedown",w,!0),n.removeEventListener("touchstart",w,!0),n.removeEventListener("click",D,!0),n.removeEventListener("keydown",j,!0),a},N=function(k){var A=k.some(function(E){var B=Array.from(E.removedNodes);return B.some(function(L){return L===l.mostRecentlyFocusedNode})});A&&h(c())},R=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(N):void 0,q=function(){R&&(R.disconnect(),l.active&&!l.paused&&l.containers.map(function(k){R.observe(k,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(k){if(l.active)return this;var A=s(k,"onActivate"),E=s(k,"onPostActivate"),B=s(k,"checkCanFocusTrap");B||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=n.activeElement,A==null||A();var L=function(){B&&d(),F(),q(),E==null||E()};return B?(B(l.containers.concat()).then(L,L),this):(L(),this)},deactivate:function(k){if(!l.active)return this;var A=rs({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},k);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,P(),l.active=!1,l.paused=!1,q(),ls.deactivateTrap(i,a);var E=s(A,"onDeactivate"),B=s(A,"onPostDeactivate"),L=s(A,"checkCanReturnFocus"),J=s(A,"returnFocus","returnFocusOnDeactivate");E==null||E();var z=function(){ss(function(){J&&h(g(l.nodeFocusedBeforeActivation)),B==null||B()})};return J&&L?(L(g(l.nodeFocusedBeforeActivation)).then(z,z),this):(z(),this)},pause:function(k){if(l.paused||!l.active)return this;var A=s(k,"onPause"),E=s(k,"onPostPause");return l.paused=!0,A==null||A(),P(),q(),E==null||E(),this},unpause:function(k){if(!l.paused||!l.active)return this;var A=s(k,"onUnpause"),E=s(k,"onPostUnpause");return l.paused=!1,A==null||A(),d(),F(),q(),E==null||E(),this},updateContainerElements:function(k){var A=[].concat(k).filter(Boolean);return l.containers=A.map(function(E){return typeof E=="string"?n.querySelector(E):E}),l.active&&d(),q(),this}},a.updateContainerElements(e),a};function Ph(t={}){let e;const{immediate:o,...n}=t,i=Ve(!1),r=Ve(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=Nh(c,{...n,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),o&&l(),{destroy(){a(),e=void 0}}),hasFocus:jl(i),isPaused:jl(r),activate:l,deactivate:a,pause:s,unpause:u}}const zo=[];function Eh(t,e){let o=Xe;function n(){const r=zo.indexOf(t);r>=0&&zo.splice(r,1)}function i(r){o();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;pl(100).then(()=>{l?zo.push(t):n()});function f(){return Ym(zo)===t}function c(){f()&&a&&(a(),n())}function d(h){const g=h.target;Ji(g)&&g&&f()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation())}function m(h){s!=null&&s(h)&&f()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation(),c())}o=Rh(t,{onInteractOutsideStart:d,onInteractOutside:u?m:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){n(),o()}}}const cc=(t,e="body")=>{let o;if(!bt(e)&&typeof e!="string")return{destroy:Xe};async function n(r){if(e=r,typeof e=="string"){if(o=document.querySelector(e),o===null&&(await ul(),o=document.querySelector(e)),o===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)o=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",o.appendChild(t),t.hidden=!1}function i(){t.remove()}return n(e),{update:n,destroy:i}};function Rh(t,e){let o=Xe,n=!1,i=!1,r=!1;function l(u){o();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function m(p){f&&us(p,t)&&(c==null||c(p));const w=p.target;Ji(w)&&dc(t,w)&&(i=!0),n=!0}function h(p){f==null||f(p)}const g=$h(t);if(typeof PointerEvent<"u"){const p=w=>{a(w)&&h(w),s()};o=Bt(dt(g,"pointerdown",m,!0),dt(g,"pointerup",p,!0))}else{const p=v=>{r?r=!1:a(v)&&h(v),s()},w=v=>{r=!0,a(v)&&h(v),s()};o=Bt(dt(g,"mousedown",m,!0),dt(g,"mouseup",p,!0),dt(g,"touchstart",m,!0),dt(g,"touchend",w,!0))}}function a(u){return!!(n&&!i&&us(u,t))}function s(){n=!1,i=!1}return l(e),{update:l,destroy:o}}function us(t,e){if("button"in t&&t.button>0)return!1;const o=t.target;if(!Ji(o))return!1;const n=o.ownerDocument;return!n||!n.documentElement.contains(o)?!1:e&&!dc(e,o)}function dc(t,e){return t===e||t.contains(e)}function $h(t){return(t==null?void 0:t.ownerDocument)??document}An(!1),An(!1),An(void 0);function Lh(){return{elements:{root:ft("label",{action:e=>({destroy:ht(e,"mousedown",n=>{!n.defaultPrevented&&n.detail>1&&n.preventDefault()})})})}}}const{name:vn}=Ki("dialog"),Dh={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},jh=["content","title","description"];function mc(t){const e={...Dh,...t},o=On(Xi(e,"ids")),{preventScroll:n,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=o,d=Zt.writable(null),m=On({...hl(jh),...e.ids}),h=e.open??Ve(e.defaultOpen),g=Zi(h,e==null?void 0:e.onOpenChange),p=en([g,s],([O,k])=>O||k);let w=Xe;function v(O){const k=O.currentTarget,A=O.currentTarget;!bt(k)||!bt(A)||(g.set(!0),d.set(A))}function S(){g.set(!1),Zl({prop:f.get(),defaultEl:d.get()})}const j=ft(vn("trigger"),{stores:[g],returned:([O])=>({"aria-haspopup":"dialog","aria-expanded":O,type:"button"}),action:O=>({destroy:Bt(ht(O,"click",A=>{v(A)}),ht(O,"keydown",A=>{A.key!==lt.ENTER&&A.key!==lt.SPACE||(A.preventDefault(),v(A))}))})}),D=ft(vn("overlay"),{stores:[p,g],returned:([O,k])=>({hidden:O?void 0:!0,tabindex:-1,style:dn({display:O?void 0:"none"}),"aria-hidden":!0,"data-state":k?"open":"closed"}),action:O=>{let k=Xe;if(i.get()){const A=Ql(O,{handler:()=>{S()}});A&&A.destroy&&(k=A.destroy)}return{destroy(){k()}}}}),F=ft(vn("content"),{stores:[p,m.content,m.description,m.title,g],returned:([O,k,A,E,B])=>({id:k,role:l.get(),"aria-describedby":A,"aria-labelledby":E,"aria-modal":O?"true":void 0,"data-state":B?"open":"closed",tabindex:-1,hidden:O?void 0:!0,style:dn({display:O?void 0:"none"})}),action:O=>{let k=Xe,A=Xe;const E=Bt(St([g],([B])=>{if(!B)return;const L=Ph({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:O});k=L.activate,A=L.deactivate;const J=L.useFocusTrap(O);return J&&J.destroy?J.destroy:L.deactivate}),St([r,g],([B,L])=>Eh(O,{open:L,closeOnInteractOutside:B,onClose(){S()},shouldCloseOnInteractOutside(J){var z;return(z=c.get())==null||z(J),!J.defaultPrevented}}).destroy),St([i],([B])=>{if(!B)return Xe;const L=Ql(O,{handler:()=>{S()}});return L&&L.destroy?L.destroy:Xe}),St([p],([B])=>{ul().then(()=>{B?k():A()})}));return{destroy:()=>{w(),E()}}}}),P=ft(vn("portalled"),{stores:a,returned:O=>({"data-portal":Vf(O)}),action:O=>{const k=St([a],([A])=>{if(A===null)return Xe;const E=Kf(O,A);if(E===null)return Xe;const B=cc(O,E);return B&&B.destroy?B.destroy:Xe});return{destroy(){k()}}}}),N=ft(vn("title"),{stores:[m.title],returned:([O])=>({id:O})}),R=ft(vn("description"),{stores:[m.description],returned:([O])=>({id:O})}),q=ft(vn("close"),{returned:()=>({type:"button"}),action:O=>({destroy:Bt(ht(O,"click",()=>{S()}),ht(O,"keydown",A=>{A.key!==lt.SPACE&&A.key!==lt.ENTER||(A.preventDefault(),S())}))})});return St([g,n],([O,k])=>{if(Fo){if(k&&O&&(w=pp()),O){const A=document.getElementById(m.content.get());Zl({prop:u.get(),defaultEl:A})}return()=>{s.get()||w()}}}),{ids:m,elements:{content:F,trigger:j,title:N,description:R,overlay:D,close:q,portalled:P},states:{open:g},options:o}}const Fh={defaultValue:0,max:100},{name:Bh}=Ki("progress"),qh=t=>{const e={...Fh,...t},o=On(Xi(e,"value")),{max:n}=o,i=e.value??Ve(e.defaultValue),r=Zi(i,e==null?void 0:e.onValueChange);return{elements:{root:ft(Bh(),{stores:[r,n],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:o}},Gh={orientation:"horizontal",decorative:!1},Hh=t=>{const e={...Gh,...t},o=On(e),{orientation:n,decorative:i}=o;return{elements:{root:ft("separator",{stores:[n,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:o}},xh={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:ei}=Ki("slider"),Vh=t=>{const e={...xh,...t},o=On(Xi(e,"value","onValueChange","defaultValue")),{min:n,max:i,step:r,orientation:l,dir:a,disabled:s}=o,u=e.value??Ve(e.defaultValue),f=Zi(u,e==null?void 0:e.onValueChange),c=Zt(Ve(!1)),d=Zt(Ve(0)),m=Zt(Ve(null)),h=hl(["root"]),g=(P,N)=>{f.update(R=>{if(!R)return[P];if(R[N]===P)return R;const q=[...R],O=q[N]>P?-1:1;function k(){q[N]=q[N+O],q[N+O]=P;const L=p();L&&(L[N+O].focus(),m.set({thumb:L[N+O],index:N+O}))}if(O===-1&&P<q[N-1])return k(),q;if(O===1&&P>q[N+1])return k(),q;const A=n.get(),E=i.get(),B=r.get();return q[N]=hr(P,A,E,B),q})},p=()=>{const P=mr(h.root);return P?Array.from(P.querySelectorAll('[data-melt-part="thumb"]')).filter(N=>bt(N)):null},w=en([n,i],([P,N])=>R=>(R-P)/(N-P)*100),v=Zt.derived([l,a],([P,N])=>P==="horizontal"?N==="rtl"?"rl":"lr":N==="rtl"?"tb":"bt"),S=ft(ei(),{stores:[s,l,a],returned:([P,N,R])=>({dir:R,disabled:dr(P),"data-disabled":dr(P),"data-orientation":N,style:P?void 0:`touch-action: ${N==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":h.root})}),j=ft(ei("range"),{stores:[f,v,w],returned:([P,N,R])=>{const q=P.length>1?R(Math.min(...P)??0):0,O=100-R(Math.max(...P)??0),k={position:"absolute"};switch(N){case"lr":{k.left=`${q}%`,k.right=`${O}%`;break}case"rl":{k.right=`${q}%`,k.left=`${O}%`;break}case"bt":{k.bottom=`${q}%`,k.top=`${O}%`;break}case"tb":{k.top=`${q}%`,k.bottom=`${O}%`;break}}return{style:dn(k)}}}),D=Kl(ei("thumb"),{stores:[f,w,n,i,s,l,v],returned:([P,N,R,q,O,k,A])=>Array.from({length:P.length||1},(B,L)=>{d.get()<P.length&&d.update(Z=>Z+1);const z=P[L],X=`${N(z)}%`,ne={position:"absolute"};switch(A){case"lr":{ne.left=X,ne.translate="-50% 0";break}case"rl":{ne.right=X,ne.translate="50% 0";break}case"bt":{ne.bottom=X,ne.translate="0 50%";break}case"tb":{ne.top=X,ne.translate="0 -50%";break}}return{role:"slider","aria-valuemin":R,"aria-valuemax":q,"aria-valuenow":z,"aria-disabled":dr(O),"aria-orientation":k,"data-melt-part":"thumb","data-value":z,style:dn(ne),tabindex:O?-1:0}}),action:P=>({destroy:ht(P,"keydown",R=>{if(s.get())return;const q=R.currentTarget;if(!bt(q))return;const O=p();if(!(O!=null&&O.length))return;const k=O.indexOf(q);if(d.set(k),![lt.ARROW_LEFT,lt.ARROW_RIGHT,lt.ARROW_UP,lt.ARROW_DOWN,lt.HOME,lt.END].includes(R.key))return;R.preventDefault();const A=n.get(),E=i.get(),B=r.get(),L=f.get(),J=l.get(),z=v.get(),X=L[k];switch(R.key){case lt.HOME:{g(A,k);break}case lt.END:{g(E,k);break}case lt.ARROW_LEFT:{if(J!=="horizontal")break;R.metaKey?g(z==="rl"?E:A,k):z==="rl"&&X<E?g(X+B,k):z==="lr"&&X>A&&g(X-B,k);break}case lt.ARROW_RIGHT:{if(J!=="horizontal")break;R.metaKey?g(z==="rl"?A:E,k):z==="rl"&&X>A?g(X-B,k):z==="lr"&&X<E&&g(X+B,k);break}case lt.ARROW_UP:{R.metaKey?g(z==="tb"?A:E,k):z==="tb"&&X>A?g(X-B,k):z!=="tb"&&X<E&&g(X+B,k);break}case lt.ARROW_DOWN:{R.metaKey?g(z==="tb"?E:A,k):z==="tb"&&X<E?g(X+B,k):z!=="tb"&&X>A&&g(X-B,k);break}}})})}),F=Kl(ei("tick"),{stores:[f,n,i,r,v],returned:([P,N,R,q,O])=>{const k=R-N;let A=Math.ceil(k/q);return k%q==0&&A++,Array.from({length:A},(E,B)=>{const L=`${B*(q/(R-N))*100}%`,J=B===0,z=B===A-1,X=J?0:z?-100:-50,ne={position:"absolute"};switch(O){case"lr":{ne.left=L,ne.translate=`${X}% 0`;break}case"rl":{ne.right=L,ne.translate=`${-X}% 0`;break}case"bt":{ne.bottom=L,ne.translate=`0 ${-X}%`;break}case"tb":{ne.top=L,ne.translate=`0 ${X}%`;break}}const Z=N+B*q;return{"data-bounded":(P.length===1?Z<=P[0]:P[0]<=Z&&Z<=P[P.length-1])?!0:void 0,"data-value":Z,style:dn(ne)}})}});return St([S,n,i,s,l,v,r],([P,N,R,q,O,k,A])=>{if(!Fo||q)return;const E=(ne,Z,te,ye)=>{const ie=(ne-te)/(ye-te)*(R-N)+N;if(ie<N)g(N,Z);else if(ie>R)g(R,Z);else{const je=A,qe=N,Ue=Math.floor((ie-qe)/je),rt=qe+Ue*je+je/2,_=qe+(Ue+1)*je+je/2,H=ie>=rt&&ie<_?(Ue+1)*je+qe:Ue*je+qe;H<=R&&g(H,Z)}},B=ne=>{const Z=p();if(!Z)return;Z.forEach(ie=>ie.blur());const te=Z.map(ie=>{if(O==="horizontal"){const{left:je,right:qe}=ie.getBoundingClientRect();return Math.abs(ne.clientX-(je+qe)/2)}else{const{top:je,bottom:qe}=ie.getBoundingClientRect();return Math.abs(ne.clientY-(je+qe)/2)}}),ye=Z[te.indexOf(Math.min(...te))],ae=Z.indexOf(ye);return{thumb:ye,index:ae}},L=ne=>{if(!c.get())return;ne.preventDefault(),ne.stopPropagation();const Z=mr(P["data-melt-id"]),te=m.get();if(!Z||!te)return;te.thumb.focus();const{left:ye,right:ae,top:ie,bottom:je}=Z.getBoundingClientRect();switch(k){case"lr":{E(ne.clientX,te.index,ye,ae);break}case"rl":{E(ne.clientX,te.index,ae,ye);break}case"bt":{E(ne.clientY,te.index,je,ie);break}case"tb":{E(ne.clientY,te.index,ie,je);break}}},J=ne=>{if(ne.button!==0)return;const Z=mr(P["data-melt-id"]),te=B(ne);if(!te||!Z)return;const ye=ne.target;!bt(ye)||!Z.contains(ye)||(ne.preventDefault(),m.set(te),te.thumb.focus(),c.set(!0),L(ne))},z=()=>{c.set(!1)},X=Bt(dt(document,"pointerdown",J),dt(document,"pointerup",z),dt(document,"pointerleave",z),dt(document,"pointermove",L));return()=>{X()}}),St([r,n,i,f],function([N,R,q,O]){const k=E=>hr(E,R,q,N)===E,A=E=>hr(E,R,q,N);O.some(E=>!k(E))&&f.update(E=>E.map(A))}),{elements:{root:S,thumbs:D,range:j,ticks:F},states:{value:f},options:o}},Wh={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:_r}=Ki("tooltip"),ti=new Map,Yh=["trigger","content"];function Uh(t){const e={...Wh,...t},o=On(Xi(e,"open","ids")),{positioning:n,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=o,m=e.open??Ve(e.defaultOpen),h=Zi(m,e==null?void 0:e.onOpenChange),g=Ve(null),p=On({...hl(Yh),...e.ids});let w=!1;const v=k=>Fo?document.getElementById(p[k].get()):null;let S=null,j=null;function D(k){j&&(window.clearTimeout(j),j=null),S||(S=window.setTimeout(()=>{h.set(!0),g.update(A=>A??k),S=null},l.get()))}function F(k){if(S&&(window.clearTimeout(S),S=null),k&&O){g.set("pointer");return}j||(j=window.setTimeout(()=>{h.set(!1),g.set(null),k&&(w=!1),j=null},a.get()))}const P=en([h,s],([k,A])=>k||A),N=ft(_r("trigger"),{stores:[p.content,p.trigger,h],returned:([k,A,E])=>({"aria-describedby":k,id:A,"data-state":E?"open":"closed"}),action:k=>{const A=B=>{f.get()&&B.key===lt.ESCAPE&&(S&&(window.clearTimeout(S),S=null),h.set(!1))};return{destroy:Bt(ht(k,"pointerdown",()=>{r.get()&&(h.set(!1),w=!0,S&&(window.clearTimeout(S),S=null))}),ht(k,"pointerenter",B=>{Jl(B)||D("pointer")}),ht(k,"pointerleave",B=>{Jl(B)||S&&(window.clearTimeout(S),S=null)}),ht(k,"focus",()=>{w||D("focus")}),ht(k,"blur",async()=>{await pl(0),F(!0)}),ht(k,"keydown",A),dt(document,"keydown",A))}}}),R=ft(_r("content"),{stores:[P,h,u,p.content],returned:([k,A,E,B])=>({role:"tooltip",hidden:k?void 0:!0,tabindex:-1,style:dn({display:k?void 0:"none"}),id:B,"data-portal":Vf(E),"data-state":A?"open":"closed"}),action:k=>{let A=Xe,E=Xe;const B=St([P,n,u],([z,X,ne])=>{const Z=v("trigger");if(!z||!Z){E(),A();return}if(A=ih(Z,k,X).destroy,ne===null){E();return}const ye=Kf(k,ne);if(ye){const ae=cc(k,ye);ae&&ae.destroy&&(E=ae.destroy)}});function L(z){if(!h.get())return;const X=z.target;if(!Ji(X)&&!Um(X))return;const ne=v("trigger");ne&&X.contains(ne)&&F()}const J=Bt(ht(k,"pointerenter",()=>D("pointer")),ht(k,"pointerdown",()=>D("pointer")),dt(window,"scroll",L,{capture:!0}));return{destroy(){J(),E(),A(),B()}}}}),q=ft(_r("arrow"),{stores:i,returned:k=>({"data-arrow":!0,style:dn({position:"absolute",width:`var(--arrow-size, ${k}px)`,height:`var(--arrow-size, ${k}px)`})})});let O=!1;return St(h,k=>{const A=d.get();if(A===void 0||A===!1)return;if(!k){ti.get(A)===h&&ti.delete(A);return}const E=ti.get(A);E==null||E.set(!1),ti.set(A,h)}),St([h,g],([k,A])=>{if(!(!k||!Fo))return Bt(dt(document,"mousemove",E=>{const B=v("content"),L=v("trigger");if(!B||!L)return;const J=c.get()?[L]:[L,B],z=fp(J);O=cp({x:E.clientX,y:E.clientY},z),A==="pointer"&&(O||F())}))}),{ids:p,elements:{trigger:N,content:R,arrow:q},states:{open:h},options:o}}function Ln(t,e){const o={};return e.forEach(n=>{o[n]={[`data-${t}-${n}`]:""}}),n=>o[n]}function Dn(){const t=Id();return e=>{const{originalEvent:o}=e.detail,{cancelable:n}=e,i=o.type;t(i,{originalEvent:o,currentTarget:o.currentTarget},{cancelable:n})||e.preventDefault()}}function mo(t){const e={};for(const o in t){const n=t[o];n!==void 0&&(e[o]=n)}return e}function En(t){return function(e,o){if(o===void 0)return;const n=t[e];n&&n.set(o)}}function pc(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function Kh(t){const{NAME:e,PARTS:o}=pc(),n=Ln(e,o),i=mc({...mo(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:n,updateOption:En(i.options)};return Yi(e,r),{...r,updateOption:En(r.options),getAttrs:n}}function jn(){const{NAME:t}=pc();return Ui(t)}const Jh=t=>({ids:t&1}),fs=t=>({ids:t[0]});function Xh(t){let e;const o=t[12].default,n=ge(o,t,t[11],fs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,[r]){n&&n.p&&(!e||r&2049)&&be(n,o,i,i[11],e?_e(o,i[11],r,Jh):ve(i[11]),fs)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function Zh(t,e,o){let n,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:h=void 0}=e;const{states:{open:g},updateOption:p,ids:w}=Kh({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:h,onOpenChange:({next:S})=>(f!==S&&(c==null||c(S),o(2,f=S)),S)}),v=en([w.content,w.description,w.title],([S,j,D])=>({content:S,description:j,title:D}));return se(t,v,S=>o(0,n=S)),t.$$set=S=>{"preventScroll"in S&&o(3,l=S.preventScroll),"closeOnEscape"in S&&o(4,a=S.closeOnEscape),"closeOnOutsideClick"in S&&o(5,s=S.closeOnOutsideClick),"portal"in S&&o(6,u=S.portal),"open"in S&&o(2,f=S.open),"onOpenChange"in S&&o(7,c=S.onOpenChange),"openFocus"in S&&o(8,d=S.openFocus),"closeFocus"in S&&o(9,m=S.closeFocus),"onOutsideClick"in S&&o(10,h=S.onOutsideClick),"$$scope"in S&&o(11,r=S.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&g.set(f),t.$$.dirty&8&&p("preventScroll",l),t.$$.dirty&16&&p("closeOnEscape",a),t.$$.dirty&32&&p("closeOnOutsideClick",s),t.$$.dirty&64&&p("portal",u),t.$$.dirty&256&&p("openFocus",d),t.$$.dirty&512&&p("closeFocus",m),t.$$.dirty&1024&&p("onOutsideClick",h)},[n,v,f,l,a,s,u,c,d,m,h,r,i]}class Qh extends pe{constructor(e){super(),me(this,e,Zh,Xh,de,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const zh=t=>({builder:t&8}),cs=t=>({builder:t[3]}),eg=t=>({builder:t&8}),ds=t=>({builder:t[3]});function tg(t){let e=t[1],o,n,i=t[1]&&br(t);return{c(){i&&i.c(),o=Re()},m(r,l){i&&i.m(r,l),I(r,o,l),n=!0},p(r,l){r[1]?e?de(e,r[1])?(i.d(1),i=br(r),e=r[1],i.c(),i.m(o.parentNode,o)):i.p(r,l):(i=br(r),e=r[1],i.c(),i.m(o.parentNode,o)):e&&(i.d(1),i=null,e=r[1])},i(r){n||(y(i,r),n=!0)},o(r){C(i,r),n=!1},d(r){r&&T(o),i&&i.d(r)}}}function ng(t){let e;const o=t[9].default,n=ge(o,t,t[8],ds);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&264)&&be(n,o,i,i[8],e?_e(o,i[8],r,eg):ve(i[8]),ds)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function br(t){let e,o,n,i;const r=t[9].default,l=ge(r,t,t[8],cs);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M(t[1]),l&&l.c(),mn(t[1])(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[10](e),o=!0,n||(i=Be(t[3].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&264)&&be(l,r,u,u[8],o?_e(r,u[8],f,zh):ve(u[8]),cs),mn(u[1])(e,s=we(a,[f&8&&u[3],f&32&&u[5]]))},i(u){o||(y(l,u),o=!0)},o(u){C(l,u),o=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),n=!1,i()}}}function og(t){let e,o,n,i;const r=[ng,tg],l=[];function a(s,u){return s[2]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Re()},m(s,u){l[e].m(s,u),I(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),l[e].d(s)}}}function ig(t,e,o){let n;const i=["level","asChild","id","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:h,getAttrs:g}=jn();se(t,m,v=>o(7,l=v));const p=g("title");function w(v){Ne[v?"unshift":"push"](()=>{d=v,o(0,d)})}return t.$$set=v=>{e=Q(Q({},e),Ee(v)),o(5,r=ue(e,i)),"level"in v&&o(1,u=v.level),"asChild"in v&&o(2,f=v.asChild),"id"in v&&o(6,c=v.id),"el"in v&&o(0,d=v.el),"$$scope"in v&&o(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&h.title.set(c),t.$$.dirty&128&&o(3,n=l),t.$$.dirty&8&&Object.assign(n,p)},[d,u,f,n,m,r,c,l,s,a,w]}let rg=class extends pe{constructor(e){super(),me(this,e,ig,og,de,{level:1,asChild:2,id:6,el:0})}};const lg=t=>({builder:t&4}),ms=t=>({builder:t[2]}),sg=t=>({builder:t&4}),ps=t=>({builder:t[2]});function ag(t){let e,o,n,i;const r=t[8].default,l=ge(r,t,t[7],ms);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("button"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),o=!0,n||(i=[Be(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],n=!0)},p(u,f){l&&l.p&&(!o||f&132)&&be(l,r,u,u[7],o?_e(r,u[7],f,lg):ve(u[7]),ms),fe(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){o||(y(l,u),o=!0)},o(u){C(l,u),o=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),n=!1,xe(i)}}}function ug(t){let e;const o=t[8].default,n=ge(o,t,t[7],ps);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&132)&&be(n,o,i,i[7],e?_e(o,i[7],r,sg):ve(i[7]),ps)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function fg(t){let e,o,n,i;const r=[ug,ag],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Re()},m(s,u){l[e].m(s,u),I(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),l[e].d(s)}}}function cg(t,e,o){let n;const i=["asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=jn();se(t,c,p=>o(6,l=p));const m=Dn(),h=d("action");function g(p){Ne[p?"unshift":"push"](()=>{f=p,o(0,f)})}return t.$$set=p=>{e=Q(Q({},e),Ee(p)),o(5,r=ue(e,i)),"asChild"in p&&o(1,u=p.asChild),"el"in p&&o(0,f=p.el),"$$scope"in p&&o(7,s=p.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,h)},[f,u,n,c,m,r,l,s,a,g]}let dg=class extends pe{constructor(e){super(),me(this,e,cg,fg,de,{asChild:1,el:0})}};const mg=t=>({builder:t&4}),hs=t=>({builder:t[2]}),pg=t=>({builder:t&4}),gs=t=>({builder:t[2]});function hg(t){let e,o,n,i;const r=t[8].default,l=ge(r,t,t[7],hs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("button"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),o=!0,n||(i=[Be(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],n=!0)},p(u,f){l&&l.p&&(!o||f&132)&&be(l,r,u,u[7],o?_e(r,u[7],f,mg):ve(u[7]),hs),fe(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){o||(y(l,u),o=!0)},o(u){C(l,u),o=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),n=!1,xe(i)}}}function gg(t){let e;const o=t[8].default,n=ge(o,t,t[7],gs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&132)&&be(n,o,i,i[7],e?_e(o,i[7],r,pg):ve(i[7]),gs)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function _g(t){let e,o,n,i;const r=[gg,hg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Re()},m(s,u){l[e].m(s,u),I(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),l[e].d(s)}}}function bg(t,e,o){let n;const i=["asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=jn();se(t,c,p=>o(6,l=p));const m=Dn(),h=d("cancel");function g(p){Ne[p?"unshift":"push"](()=>{f=p,o(0,f)})}return t.$$set=p=>{e=Q(Q({},e),Ee(p)),o(5,r=ue(e,i)),"asChild"in p&&o(1,u=p.asChild),"el"in p&&o(0,f=p.el),"$$scope"in p&&o(7,s=p.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,h)},[f,u,n,c,m,r,l,s,a,g]}let vg=class extends pe{constructor(e){super(),me(this,e,bg,_g,de,{asChild:1,el:0})}};const yg=t=>({builder:t&4}),_s=t=>({builder:t[2]}),wg=t=>({builder:t&4}),bs=t=>({builder:t[2]});function kg(t){let e,o,n,i;const r=t[7].default,l=ge(r,t,t[6],_s);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("div"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[8](e),o=!0,n||(i=Be(t[2].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&68)&&be(l,r,u,u[6],o?_e(r,u[6],f,yg):ve(u[6]),_s),fe(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){o||(y(l,u),o=!0)},o(u){C(l,u),o=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),n=!1,i()}}}function Cg(t){let e;const o=t[7].default,n=ge(o,t,t[6],bs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&68)&&be(n,o,i,i[6],e?_e(o,i[6],r,wg):ve(i[6]),bs)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function Sg(t){let e,o,n,i;const r=[Cg,kg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Re()},m(s,u){l[e].m(s,u),I(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),l[e].d(s)}}}function Ag(t,e,o){let n;const i=["asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=jn();se(t,c,g=>o(5,l=g));const m=d("portal");function h(g){Ne[g?"unshift":"push"](()=>{f=g,o(0,f)})}return t.$$set=g=>{e=Q(Q({},e),Ee(g)),o(4,r=ue(e,i)),"asChild"in g&&o(1,u=g.asChild),"el"in g&&o(0,f=g.el),"$$scope"in g&&o(6,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,m)},[f,u,n,c,r,l,s,a,h]}let Tg=class extends pe{constructor(e){super(),me(this,e,Ag,Sg,de,{asChild:1,el:0})}};const Ig=t=>({builder:t[0]&256}),vs=t=>({builder:t[8]}),Mg=t=>({builder:t[0]&256}),ys=t=>({builder:t[8]}),Og=t=>({builder:t[0]&256}),ws=t=>({builder:t[8]}),Ng=t=>({builder:t[0]&256}),ks=t=>({builder:t[8]}),Pg=t=>({builder:t[0]&256}),Cs=t=>({builder:t[8]}),Eg=t=>({builder:t[0]&256}),Ss=t=>({builder:t[8]});function Rg(t){let e,o,n,i;const r=t[16].default,l=ge(r,t,t[15],vs);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("div"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[56](e),o=!0,n||(i=[Be(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],n=!0)},p(u,f){l&&l.p&&(!o||f[0]&33024)&&be(l,r,u,u[15],o?_e(r,u[15],f,Ig):ve(u[15]),vs),fe(e,s=we(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){o||(y(l,u),o=!0)},o(u){C(l,u),o=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),n=!1,xe(i)}}}function $g(t){let e,o,n,i,r;const l=t[16].default,a=ge(l,t,t[15],ys);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=M("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[55](e),n=!0,i||(r=[Be(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&33024)&&be(a,l,t,t[15],n?_e(l,t[15],c,Mg):ve(t[15]),ys),fe(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){n||(y(a,f),o&&o.end(1),n=!0)},o(f){C(a,f),f&&(o=Vt(e,t[5],t[6])),n=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&o&&o.end(),i=!1,xe(r)}}}function Lg(t){let e,o,n,i,r;const l=t[16].default,a=ge(l,t,t[15],ws);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=M("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[54](e),n=!0,i||(r=[Be(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&33024)&&be(a,l,t,t[15],n?_e(l,t[15],c,Og):ve(t[15]),ws),fe(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){n||(y(a,f),f&&(o||ze(()=>{o=xt(e,t[3],t[4]),o.start()})),n=!0)},o(f){C(a,f),n=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,xe(r)}}}function Dg(t){let e,o,n,i,r,l;const a=t[16].default,s=ge(a,t,t[15],ks);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=M("div"),s&&s.c(),fe(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Be(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&be(s,a,t,t[15],i?_e(a,t[15],d,Ng):ve(t[15]),ks),fe(e,f=we(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(y(s,c),c&&ze(()=>{i&&(n&&n.end(1),o=xt(e,t[3],t[4]),o.start())}),i=!0)},o(c){C(s,c),o&&o.invalidate(),c&&(n=Vt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&n&&n.end(),r=!1,xe(l)}}}function jg(t){let e,o,n,i,r;const l=t[16].default,a=ge(l,t,t[15],Cs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=M("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[52](e),n=!0,i||(r=[Be(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&33024)&&be(a,l,t,t[15],n?_e(l,t[15],c,Pg):ve(t[15]),Cs),fe(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){n||(y(a,f),f&&ze(()=>{n&&(o||(o=gt(e,t[1],t[2],!0)),o.run(1))}),n=!0)},o(f){C(a,f),f&&(o||(o=gt(e,t[1],t[2],!1)),o.run(0)),n=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&o&&o.end(),i=!1,xe(r)}}}function Fg(t){let e;const o=t[16].default,n=ge(o,t,t[15],Ss);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r[0]&33024)&&be(n,o,i,i[15],e?_e(o,i[15],r,Eg):ve(i[15]),Ss)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function Bg(t){let e,o,n,i;const r=[Fg,jg,Dg,Lg,$g,Rg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(o=l[e]=r[e](t)),{c(){o&&o.c(),n=Re()},m(s,u){~e&&l[e].m(s,u),I(s,n,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(o&&(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me()),~e?(o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n)):o=null)},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),~e&&l[e].d(s)}}}function qg(t,e,o){let n;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=ue(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:g=void 0}=e,{id:p=void 0}=e,{asChild:w=!1}=e,{el:v=void 0}=e;const{elements:{content:S},states:{open:j},ids:D,getAttrs:F}=jn();se(t,S,x=>o(14,l=x)),se(t,j,x=>o(9,a=x));const P=F("content");function N(x){re.call(this,t,x)}function R(x){re.call(this,t,x)}function q(x){re.call(this,t,x)}function O(x){re.call(this,t,x)}function k(x){re.call(this,t,x)}function A(x){re.call(this,t,x)}function E(x){re.call(this,t,x)}function B(x){re.call(this,t,x)}function L(x){re.call(this,t,x)}function J(x){re.call(this,t,x)}function z(x){re.call(this,t,x)}function X(x){re.call(this,t,x)}function ne(x){re.call(this,t,x)}function Z(x){re.call(this,t,x)}function te(x){re.call(this,t,x)}function ye(x){re.call(this,t,x)}function ae(x){re.call(this,t,x)}function ie(x){re.call(this,t,x)}function je(x){re.call(this,t,x)}function qe(x){re.call(this,t,x)}function Ue(x){re.call(this,t,x)}function rt(x){re.call(this,t,x)}function _(x){re.call(this,t,x)}function H(x){re.call(this,t,x)}function V(x){re.call(this,t,x)}function le(x){re.call(this,t,x)}function he(x){re.call(this,t,x)}function Se(x){re.call(this,t,x)}function Pe(x){re.call(this,t,x)}function $e(x){re.call(this,t,x)}function We(x){re.call(this,t,x)}function Le(x){re.call(this,t,x)}function Ce(x){re.call(this,t,x)}function Ye(x){re.call(this,t,x)}function or(x){re.call(this,t,x)}function ir(x){Ne[x?"unshift":"push"](()=>{v=x,o(0,v)})}function rr(x){Ne[x?"unshift":"push"](()=>{v=x,o(0,v)})}function lr(x){Ne[x?"unshift":"push"](()=>{v=x,o(0,v)})}function sr(x){Ne[x?"unshift":"push"](()=>{v=x,o(0,v)})}function ar(x){Ne[x?"unshift":"push"](()=>{v=x,o(0,v)})}return t.$$set=x=>{e=Q(Q({},e),Ee(x)),o(12,r=ue(e,i)),"transition"in x&&o(1,f=x.transition),"transitionConfig"in x&&o(2,c=x.transitionConfig),"inTransition"in x&&o(3,d=x.inTransition),"inTransitionConfig"in x&&o(4,m=x.inTransitionConfig),"outTransition"in x&&o(5,h=x.outTransition),"outTransitionConfig"in x&&o(6,g=x.outTransitionConfig),"id"in x&&o(13,p=x.id),"asChild"in x&&o(7,w=x.asChild),"el"in x&&o(0,v=x.el),"$$scope"in x&&o(15,u=x.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&p&&D.content.set(p),t.$$.dirty[0]&16384&&o(8,n=l),t.$$.dirty[0]&256&&Object.assign(n,P)},[v,f,c,d,m,h,g,w,n,a,S,j,r,p,l,u,s,N,R,q,O,k,A,E,B,L,J,z,X,ne,Z,te,ye,ae,ie,je,qe,Ue,rt,_,H,V,le,he,Se,Pe,$e,We,Le,Ce,Ye,or,ir,rr,lr,sr,ar]}let Gg=class extends pe{constructor(e){super(),me(this,e,qg,Bg,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const Hg=t=>({builder:t&256}),As=t=>({builder:t[8]});function xg(t){let e,o,n,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=M("div"),fe(e,r)},m(l,a){I(l,e,a),t[20](e),o||(n=Be(t[8].action(e)),o=!0)},p(l,a){fe(e,r=we(i,[a&256&&l[8],a&4096&&l[12]]))},i:Te,o:Te,d(l){l&&T(e),t[20](null),o=!1,n()}}}function Vg(t){let e,o,n,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=M("div"),fe(e,a)},m(s,u){I(s,e,u),t[19](e),n=!0,i||(r=Be(t[8].action(e)),i=!0)},p(s,u){t=s,fe(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){n||(o&&o.end(1),n=!0)},o(s){s&&(o=Vt(e,t[5],t[6])),n=!1},d(s){s&&T(e),t[19](null),s&&o&&o.end(),i=!1,r()}}}function Wg(t){let e,o,n,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=M("div"),fe(e,l)},m(a,s){I(a,e,s),t[18](e),n||(i=Be(t[8].action(e)),n=!0)},p(a,s){t=a,fe(e,l=we(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(o||ze(()=>{o=xt(e,t[3],t[4]),o.start()}))},o:Te,d(a){a&&T(e),t[18](null),n=!1,i()}}}function Yg(t){let e,o,n,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("div"),fe(e,s)},m(u,f){I(u,e,f),t[17](e),i=!0,r||(l=Be(t[8].action(e)),r=!0)},p(u,f){t=u,fe(e,s=we(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&ze(()=>{i&&(n&&n.end(1),o=xt(e,t[3],t[4]),o.start())}),i=!0)},o(u){o&&o.invalidate(),u&&(n=Vt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[17](null),u&&n&&n.end(),r=!1,l()}}}function Ug(t){let e,o,n,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=M("div"),fe(e,a)},m(s,u){I(s,e,u),t[16](e),n=!0,i||(r=Be(t[8].action(e)),i=!0)},p(s,u){t=s,fe(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){n||(s&&ze(()=>{n&&(o||(o=gt(e,t[1],t[2],!0)),o.run(1))}),n=!0)},o(s){s&&(o||(o=gt(e,t[1],t[2],!1)),o.run(0)),n=!1},d(s){s&&T(e),t[16](null),s&&o&&o.end(),i=!1,r()}}}function Kg(t){let e;const o=t[15].default,n=ge(o,t,t[14],As);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&16640)&&be(n,o,i,i[14],e?_e(o,i[14],r,Hg):ve(i[14]),As)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function Jg(t){let e,o,n,i;const r=[Kg,Ug,Yg,Wg,Vg,xg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(o=l[e]=r[e](t)),{c(){o&&o.c(),n=Re()},m(s,u){~e&&l[e].m(s,u),I(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(o&&(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me()),~e?(o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n)):o=null)},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),~e&&l[e].d(s)}}}function Xg(t,e,o){let n;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ue(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:g=void 0}=e,{asChild:p=!1}=e,{el:w=void 0}=e;const{elements:{overlay:v},states:{open:S},getAttrs:j}=jn();se(t,v,O=>o(13,l=O)),se(t,S,O=>o(9,a=O));const D=j("overlay");function F(O){Ne[O?"unshift":"push"](()=>{w=O,o(0,w)})}function P(O){Ne[O?"unshift":"push"](()=>{w=O,o(0,w)})}function N(O){Ne[O?"unshift":"push"](()=>{w=O,o(0,w)})}function R(O){Ne[O?"unshift":"push"](()=>{w=O,o(0,w)})}function q(O){Ne[O?"unshift":"push"](()=>{w=O,o(0,w)})}return t.$$set=O=>{e=Q(Q({},e),Ee(O)),o(12,r=ue(e,i)),"transition"in O&&o(1,f=O.transition),"transitionConfig"in O&&o(2,c=O.transitionConfig),"inTransition"in O&&o(3,d=O.inTransition),"inTransitionConfig"in O&&o(4,m=O.inTransitionConfig),"outTransition"in O&&o(5,h=O.outTransition),"outTransitionConfig"in O&&o(6,g=O.outTransitionConfig),"asChild"in O&&o(7,p=O.asChild),"el"in O&&o(0,w=O.el),"$$scope"in O&&o(14,u=O.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&o(8,n=l),t.$$.dirty&256&&Object.assign(n,D)},[w,f,c,d,m,h,g,p,n,a,v,S,r,l,u,s,F,P,N,R,q]}let Zg=class extends pe{constructor(e){super(),me(this,e,Xg,Jg,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Qg=t=>({builder:t&4}),Ts=t=>({builder:t[2]}),zg=t=>({builder:t&4}),Is=t=>({builder:t[2]});function e_(t){let e,o,n,i;const r=t[8].default,l=ge(r,t,t[7],Ts);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("div"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[9](e),o=!0,n||(i=Be(t[2].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&132)&&be(l,r,u,u[7],o?_e(r,u[7],f,Qg):ve(u[7]),Ts),fe(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){o||(y(l,u),o=!0)},o(u){C(l,u),o=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),n=!1,i()}}}function t_(t){let e;const o=t[8].default,n=ge(o,t,t[7],Is);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&132)&&be(n,o,i,i[7],e?_e(o,i[7],r,zg):ve(i[7]),Is)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function n_(t){let e,o,n,i;const r=[t_,e_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Re()},m(s,u){l[e].m(s,u),I(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),l[e].d(s)}}}function o_(t,e,o){let n;const i=["asChild","id","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:h}=jn();se(t,d,w=>o(6,l=w));const g=h("description");function p(w){Ne[w?"unshift":"push"](()=>{c=w,o(0,c)})}return t.$$set=w=>{e=Q(Q({},e),Ee(w)),o(4,r=ue(e,i)),"asChild"in w&&o(1,u=w.asChild),"id"in w&&o(5,f=w.id),"el"in w&&o(0,c=w.el),"$$scope"in w&&o(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,g)},[c,u,n,d,r,f,l,s,a,p]}let i_=class extends pe{constructor(e){super(),me(this,e,o_,n_,de,{asChild:1,id:5,el:0})}};function r_(t,e){const o=[];return e.builders.forEach(n=>{const i=n.action(t);i&&o.push(i)}),{destroy:()=>{o.forEach(n=>{n.destroy&&n.destroy()})}}}function Ms(t){const e={};return t.forEach(o=>{Object.keys(o).forEach(n=>{n!=="action"&&(e[n]=o[n])})}),e}function l_(t){let e=t[1]?"a":"button",o,n,i=(t[1]?"a":"button")&&vr(t);return{c(){i&&i.c(),o=Re()},m(r,l){i&&i.m(r,l),I(r,o,l),n=!0},p(r,l){r[1],e?de(e,r[1]?"a":"button")?(i.d(1),i=vr(r),e=r[1]?"a":"button",i.c(),i.m(o.parentNode,o)):i.p(r,l):(i=vr(r),e=r[1]?"a":"button",i.c(),i.m(o.parentNode,o))},i(r){n||(y(i,r),n=!0)},o(r){C(i,r),n=!1},d(r){r&&T(o),i&&i.d(r)}}}function s_(t){let e=t[1]?"a":"button",o,n,i=(t[1]?"a":"button")&&yr(t);return{c(){i&&i.c(),o=Re()},m(r,l){i&&i.m(r,l),I(r,o,l),n=!0},p(r,l){r[1],e?de(e,r[1]?"a":"button")?(i.d(1),i=yr(r),e=r[1]?"a":"button",i.c(),i.m(o.parentNode,o)):i.p(r,l):(i=yr(r),e=r[1]?"a":"button",i.c(),i.m(o.parentNode,o))},i(r){n||(y(i,r),n=!0)},o(r){C(i,r),n=!1},d(r){r&&T(o),i&&i.d(r)}}}function vr(t){let e,o,n,i,r;const l=t[7].default,a=ge(l,t,t[6],null);let s=[{type:o=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=M(t[1]?"a":"button"),a&&a.c(),mn(t[1]?"a":"button")(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),n=!0,i||(r=[ee(e,"click",t[14]),ee(e,"change",t[15]),ee(e,"keydown",t[16]),ee(e,"keyup",t[17]),ee(e,"mouseenter",t[18]),ee(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!n||c&64)&&be(a,l,f,f[6],n?_e(l,f[6],c,null):ve(f[6]),null),mn(f[1]?"a":"button")(e,u=we(s,[(!n||c&6&&o!==(o=f[1]?void 0:f[2]))&&{type:o},(!n||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){n||(y(a,f),n=!0)},o(f){C(a,f),n=!1},d(f){f&&T(e),a&&a.d(f),i=!1,xe(r)}}}function yr(t){let e,o,n,i,r,l;const a=t[7].default,s=ge(a,t,t[6],null);let u=[{type:o=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},Ms(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=M(t[1]?"a":"button"),s&&s.c(),mn(t[1]?"a":"button")(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[ee(e,"click",t[8]),ee(e,"change",t[9]),ee(e,"keydown",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseenter",t[12]),ee(e,"mouseleave",t[13]),Be(n=r_.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&be(s,a,c,c[6],i?_e(a,c[6],d,null):ve(c[6]),null),mn(c[1]?"a":"button")(e,f=we(u,[(!i||d&6&&o!==(o=c[1]?void 0:c[2]))&&{type:o},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&Ms(c[3]),d&32&&c[5],c[4]])),n&&Lt(n.update)&&d&8&&n.update.call(null,{builders:c[3]})},i(c){i||(y(s,c),i=!0)},o(c){C(s,c),i=!1},d(c){c&&T(e),s&&s.d(c),t[20](null),r=!1,xe(l)}}}function a_(t){let e,o,n,i;const r=[s_,l_],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Re()},m(s,u){l[e].m(s,u),I(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),l[e].d(s)}}}function u_(t,e,o){const n=["href","type","builders","el"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(R){re.call(this,t,R)}function m(R){re.call(this,t,R)}function h(R){re.call(this,t,R)}function g(R){re.call(this,t,R)}function p(R){re.call(this,t,R)}function w(R){re.call(this,t,R)}function v(R){re.call(this,t,R)}function S(R){re.call(this,t,R)}function j(R){re.call(this,t,R)}function D(R){re.call(this,t,R)}function F(R){re.call(this,t,R)}function P(R){re.call(this,t,R)}function N(R){Ne[R?"unshift":"push"](()=>{f=R,o(0,f)})}return t.$$set=R=>{e=Q(Q({},e),Ee(R)),o(5,i=ue(e,n)),"href"in R&&o(1,a=R.href),"type"in R&&o(2,s=R.type),"builders"in R&&o(3,u=R.builders),"el"in R&&o(0,f=R.el),"$$scope"in R&&o(6,l=R.$$scope)},[f,a,s,u,c,i,l,r,d,m,h,g,p,w,v,S,j,D,F,P,N]}let f_=class extends pe{constructor(e){super(),me(this,e,u_,a_,de,{href:1,type:2,builders:3,el:0})}};function c_(t){return(e={})=>d_(t,e)}function d_(t,e){const n={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:m_(n.side,n.align),offset:{...i.offset,mainAxis:n.sideOffset,crossAxis:n.alignOffset},gutter:0,sameWidth:n.sameWidth,flip:n.avoidCollisions,overflowPadding:n.collisionPadding,boundary:n.collisionBoundary,fitViewport:n.fitViewport,strategy:n.strategy,overlap:n.overlap}))}function m_(t,e){return e==="center"?t:`${t}-${e}`}function p_(){return{NAME:"separator",PARTS:["root"]}}function h_(t){const{NAME:e,PARTS:o}=p_(),n=Ln(e,o),i={...Hh(mo(t)),getAttrs:n};return{...i,updateOption:En(i.options)}}const g_=t=>({builder:t&4}),Os=t=>({builder:t[2]});function __(t){let e,o,n,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=M("div"),fe(e,r)},m(l,a){I(l,e,a),t[10](e),o||(n=Be(t[2].action(e)),o=!0)},p(l,a){fe(e,r=we(i,[a&4&&l[2],a&16&&l[4]]))},i:Te,o:Te,d(l){l&&T(e),t[10](null),o=!1,n()}}}function b_(t){let e;const o=t[9].default,n=ge(o,t,t[8],Os);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&260)&&be(n,o,i,i[8],e?_e(o,i[8],r,g_):ve(i[8]),Os)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function v_(t){let e,o,n,i;const r=[b_,__],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Re()},m(s,u){l[e].m(s,u),I(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),l[e].d(s)}}}function y_(t,e,o){let n;const i=["orientation","decorative","asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:m},updateOption:h,getAttrs:g}=h_({orientation:u,decorative:f});se(t,m,v=>o(7,l=v));const p=g("root");function w(v){Ne[v?"unshift":"push"](()=>{d=v,o(0,d)})}return t.$$set=v=>{e=Q(Q({},e),Ee(v)),o(4,r=ue(e,i)),"orientation"in v&&o(5,u=v.orientation),"decorative"in v&&o(6,f=v.decorative),"asChild"in v&&o(1,c=v.asChild),"el"in v&&o(0,d=v.el),"$$scope"in v&&o(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&h("orientation",u),t.$$.dirty&64&&h("decorative",f),t.$$.dirty&128&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,p)},[d,c,n,m,r,u,f,l,s,a,w]}let w_=class extends pe{constructor(e){super(),me(this,e,y_,v_,de,{orientation:5,decorative:6,asChild:1,el:0})}};function hc(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function k_(t){const{NAME:e,PARTS:o}=hc(),n=Ln(e,o),i={...mc({...mo(t),role:"dialog",forceVisible:!0}),getAttrs:n};return Yi(e,i),{...i,updateOption:En(i.options)}}function po(){const{NAME:t}=hc();return Ui(t)}const C_=t=>({ids:t&1}),Ns=t=>({ids:t[0]});function S_(t){let e;const o=t[12].default,n=ge(o,t,t[11],Ns);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,[r]){n&&n.p&&(!e||r&2049)&&be(n,o,i,i[11],e?_e(o,i[11],r,C_):ve(i[11]),Ns)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function A_(t,e,o){let n,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:h=void 0}=e;const{states:{open:g},updateOption:p,ids:w}=k_({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:h,onOpenChange:({next:S})=>(f!==S&&(c==null||c(S),o(2,f=S)),S)}),v=en([w.content,w.description,w.title],([S,j,D])=>({content:S,description:j,title:D}));return se(t,v,S=>o(0,n=S)),t.$$set=S=>{"preventScroll"in S&&o(3,l=S.preventScroll),"closeOnEscape"in S&&o(4,a=S.closeOnEscape),"closeOnOutsideClick"in S&&o(5,s=S.closeOnOutsideClick),"portal"in S&&o(6,u=S.portal),"open"in S&&o(2,f=S.open),"onOpenChange"in S&&o(7,c=S.onOpenChange),"openFocus"in S&&o(8,d=S.openFocus),"closeFocus"in S&&o(9,m=S.closeFocus),"onOutsideClick"in S&&o(10,h=S.onOutsideClick),"$$scope"in S&&o(11,r=S.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&g.set(f),t.$$.dirty&8&&p("preventScroll",l),t.$$.dirty&16&&p("closeOnEscape",a),t.$$.dirty&32&&p("closeOnOutsideClick",s),t.$$.dirty&64&&p("portal",u),t.$$.dirty&256&&p("openFocus",d),t.$$.dirty&512&&p("closeFocus",m),t.$$.dirty&1024&&p("onOutsideClick",h)},[n,v,f,l,a,s,u,c,d,m,h,r,i]}class T_ extends pe{constructor(e){super(),me(this,e,A_,S_,de,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const I_=t=>({builder:t&8}),Ps=t=>({builder:t[3]}),M_=t=>({builder:t&8}),Es=t=>({builder:t[3]});function O_(t){let e=t[1],o,n,i=t[1]&&wr(t);return{c(){i&&i.c(),o=Re()},m(r,l){i&&i.m(r,l),I(r,o,l),n=!0},p(r,l){r[1]?e?de(e,r[1])?(i.d(1),i=wr(r),e=r[1],i.c(),i.m(o.parentNode,o)):i.p(r,l):(i=wr(r),e=r[1],i.c(),i.m(o.parentNode,o)):e&&(i.d(1),i=null,e=r[1])},i(r){n||(y(i,r),n=!0)},o(r){C(i,r),n=!1},d(r){r&&T(o),i&&i.d(r)}}}function N_(t){let e;const o=t[9].default,n=ge(o,t,t[8],Es);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&264)&&be(n,o,i,i[8],e?_e(o,i[8],r,M_):ve(i[8]),Es)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function wr(t){let e,o,n,i;const r=t[9].default,l=ge(r,t,t[8],Ps);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M(t[1]),l&&l.c(),mn(t[1])(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[10](e),o=!0,n||(i=Be(t[3].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&264)&&be(l,r,u,u[8],o?_e(r,u[8],f,I_):ve(u[8]),Ps),mn(u[1])(e,s=we(a,[f&8&&u[3],f&32&&u[5]]))},i(u){o||(y(l,u),o=!0)},o(u){C(l,u),o=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),n=!1,i()}}}function P_(t){let e,o,n,i;const r=[N_,O_],l=[];function a(s,u){return s[2]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Re()},m(s,u){l[e].m(s,u),I(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),l[e].d(s)}}}function E_(t,e,o){let n;const i=["level","asChild","id","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:h,getAttrs:g}=po();se(t,m,v=>o(7,l=v));const p=g("title");function w(v){Ne[v?"unshift":"push"](()=>{d=v,o(0,d)})}return t.$$set=v=>{e=Q(Q({},e),Ee(v)),o(5,r=ue(e,i)),"level"in v&&o(1,u=v.level),"asChild"in v&&o(2,f=v.asChild),"id"in v&&o(6,c=v.id),"el"in v&&o(0,d=v.el),"$$scope"in v&&o(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&h.title.set(c),t.$$.dirty&128&&o(3,n=l),t.$$.dirty&8&&Object.assign(n,p)},[d,u,f,n,m,r,c,l,s,a,w]}let R_=class extends pe{constructor(e){super(),me(this,e,E_,P_,de,{level:1,asChild:2,id:6,el:0})}};const $_=t=>({builder:t&4}),Rs=t=>({builder:t[2]}),L_=t=>({builder:t&4}),$s=t=>({builder:t[2]});function D_(t){let e,o,n,i;const r=t[8].default,l=ge(r,t,t[7],Rs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("button"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),o=!0,n||(i=[Be(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],n=!0)},p(u,f){l&&l.p&&(!o||f&132)&&be(l,r,u,u[7],o?_e(r,u[7],f,$_):ve(u[7]),Rs),fe(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){o||(y(l,u),o=!0)},o(u){C(l,u),o=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),n=!1,xe(i)}}}function j_(t){let e;const o=t[8].default,n=ge(o,t,t[7],$s);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&132)&&be(n,o,i,i[7],e?_e(o,i[7],r,L_):ve(i[7]),$s)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function F_(t){let e,o,n,i;const r=[j_,D_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Re()},m(s,u){l[e].m(s,u),I(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),l[e].d(s)}}}function B_(t,e,o){let n;const i=["asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=po();se(t,c,p=>o(6,l=p));const m=Dn(),h=d("close");function g(p){Ne[p?"unshift":"push"](()=>{f=p,o(0,f)})}return t.$$set=p=>{e=Q(Q({},e),Ee(p)),o(5,r=ue(e,i)),"asChild"in p&&o(1,u=p.asChild),"el"in p&&o(0,f=p.el),"$$scope"in p&&o(7,s=p.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,h)},[f,u,n,c,m,r,l,s,a,g]}class q_ extends pe{constructor(e){super(),me(this,e,B_,F_,de,{asChild:1,el:0})}}const G_=t=>({builder:t&4}),Ls=t=>({builder:t[2]}),H_=t=>({builder:t&4}),Ds=t=>({builder:t[2]});function x_(t){let e,o,n,i;const r=t[7].default,l=ge(r,t,t[6],Ls);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("div"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[8](e),o=!0,n||(i=Be(t[2].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&68)&&be(l,r,u,u[6],o?_e(r,u[6],f,G_):ve(u[6]),Ls),fe(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){o||(y(l,u),o=!0)},o(u){C(l,u),o=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),n=!1,i()}}}function V_(t){let e;const o=t[7].default,n=ge(o,t,t[6],Ds);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&68)&&be(n,o,i,i[6],e?_e(o,i[6],r,H_):ve(i[6]),Ds)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function W_(t){let e,o,n,i;const r=[V_,x_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Re()},m(s,u){l[e].m(s,u),I(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),l[e].d(s)}}}function Y_(t,e,o){let n;const i=["asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=po();se(t,c,g=>o(5,l=g));const m=d("portal");function h(g){Ne[g?"unshift":"push"](()=>{f=g,o(0,f)})}return t.$$set=g=>{e=Q(Q({},e),Ee(g)),o(4,r=ue(e,i)),"asChild"in g&&o(1,u=g.asChild),"el"in g&&o(0,f=g.el),"$$scope"in g&&o(6,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,m)},[f,u,n,c,r,l,s,a,h]}let U_=class extends pe{constructor(e){super(),me(this,e,Y_,W_,de,{asChild:1,el:0})}};const K_=t=>({builder:t[0]&256}),js=t=>({builder:t[8]}),J_=t=>({builder:t[0]&256}),Fs=t=>({builder:t[8]}),X_=t=>({builder:t[0]&256}),Bs=t=>({builder:t[8]}),Z_=t=>({builder:t[0]&256}),qs=t=>({builder:t[8]}),Q_=t=>({builder:t[0]&256}),Gs=t=>({builder:t[8]}),z_=t=>({builder:t[0]&256}),Hs=t=>({builder:t[8]});function e0(t){let e,o,n,i;const r=t[16].default,l=ge(r,t,t[15],js);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("div"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[56](e),o=!0,n||(i=[Be(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],n=!0)},p(u,f){l&&l.p&&(!o||f[0]&33024)&&be(l,r,u,u[15],o?_e(r,u[15],f,K_):ve(u[15]),js),fe(e,s=we(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){o||(y(l,u),o=!0)},o(u){C(l,u),o=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),n=!1,xe(i)}}}function t0(t){let e,o,n,i,r;const l=t[16].default,a=ge(l,t,t[15],Fs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=M("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[55](e),n=!0,i||(r=[Be(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&33024)&&be(a,l,t,t[15],n?_e(l,t[15],c,J_):ve(t[15]),Fs),fe(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){n||(y(a,f),o&&o.end(1),n=!0)},o(f){C(a,f),f&&(o=Vt(e,t[5],t[6])),n=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&o&&o.end(),i=!1,xe(r)}}}function n0(t){let e,o,n,i,r;const l=t[16].default,a=ge(l,t,t[15],Bs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=M("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[54](e),n=!0,i||(r=[Be(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&33024)&&be(a,l,t,t[15],n?_e(l,t[15],c,X_):ve(t[15]),Bs),fe(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){n||(y(a,f),f&&(o||ze(()=>{o=xt(e,t[3],t[4]),o.start()})),n=!0)},o(f){C(a,f),n=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,xe(r)}}}function o0(t){let e,o,n,i,r,l;const a=t[16].default,s=ge(a,t,t[15],qs);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=M("div"),s&&s.c(),fe(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Be(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&be(s,a,t,t[15],i?_e(a,t[15],d,Z_):ve(t[15]),qs),fe(e,f=we(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(y(s,c),c&&ze(()=>{i&&(n&&n.end(1),o=xt(e,t[3],t[4]),o.start())}),i=!0)},o(c){C(s,c),o&&o.invalidate(),c&&(n=Vt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&n&&n.end(),r=!1,xe(l)}}}function i0(t){let e,o,n,i,r;const l=t[16].default,a=ge(l,t,t[15],Gs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=M("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[52](e),n=!0,i||(r=[Be(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&33024)&&be(a,l,t,t[15],n?_e(l,t[15],c,Q_):ve(t[15]),Gs),fe(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){n||(y(a,f),f&&ze(()=>{n&&(o||(o=gt(e,t[1],t[2],!0)),o.run(1))}),n=!0)},o(f){C(a,f),f&&(o||(o=gt(e,t[1],t[2],!1)),o.run(0)),n=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&o&&o.end(),i=!1,xe(r)}}}function r0(t){let e;const o=t[16].default,n=ge(o,t,t[15],Hs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r[0]&33024)&&be(n,o,i,i[15],e?_e(o,i[15],r,z_):ve(i[15]),Hs)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function l0(t){let e,o,n,i;const r=[r0,i0,o0,n0,t0,e0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(o=l[e]=r[e](t)),{c(){o&&o.c(),n=Re()},m(s,u){~e&&l[e].m(s,u),I(s,n,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(o&&(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me()),~e?(o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n)):o=null)},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),~e&&l[e].d(s)}}}function s0(t,e,o){let n;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=ue(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:g=void 0}=e,{asChild:p=!1}=e,{id:w=void 0}=e,{el:v=void 0}=e;const{elements:{content:S},states:{open:j},ids:D,getAttrs:F}=po();se(t,S,x=>o(14,l=x)),se(t,j,x=>o(9,a=x));const P=F("content");function N(x){re.call(this,t,x)}function R(x){re.call(this,t,x)}function q(x){re.call(this,t,x)}function O(x){re.call(this,t,x)}function k(x){re.call(this,t,x)}function A(x){re.call(this,t,x)}function E(x){re.call(this,t,x)}function B(x){re.call(this,t,x)}function L(x){re.call(this,t,x)}function J(x){re.call(this,t,x)}function z(x){re.call(this,t,x)}function X(x){re.call(this,t,x)}function ne(x){re.call(this,t,x)}function Z(x){re.call(this,t,x)}function te(x){re.call(this,t,x)}function ye(x){re.call(this,t,x)}function ae(x){re.call(this,t,x)}function ie(x){re.call(this,t,x)}function je(x){re.call(this,t,x)}function qe(x){re.call(this,t,x)}function Ue(x){re.call(this,t,x)}function rt(x){re.call(this,t,x)}function _(x){re.call(this,t,x)}function H(x){re.call(this,t,x)}function V(x){re.call(this,t,x)}function le(x){re.call(this,t,x)}function he(x){re.call(this,t,x)}function Se(x){re.call(this,t,x)}function Pe(x){re.call(this,t,x)}function $e(x){re.call(this,t,x)}function We(x){re.call(this,t,x)}function Le(x){re.call(this,t,x)}function Ce(x){re.call(this,t,x)}function Ye(x){re.call(this,t,x)}function or(x){re.call(this,t,x)}function ir(x){Ne[x?"unshift":"push"](()=>{v=x,o(0,v)})}function rr(x){Ne[x?"unshift":"push"](()=>{v=x,o(0,v)})}function lr(x){Ne[x?"unshift":"push"](()=>{v=x,o(0,v)})}function sr(x){Ne[x?"unshift":"push"](()=>{v=x,o(0,v)})}function ar(x){Ne[x?"unshift":"push"](()=>{v=x,o(0,v)})}return t.$$set=x=>{e=Q(Q({},e),Ee(x)),o(12,r=ue(e,i)),"transition"in x&&o(1,f=x.transition),"transitionConfig"in x&&o(2,c=x.transitionConfig),"inTransition"in x&&o(3,d=x.inTransition),"inTransitionConfig"in x&&o(4,m=x.inTransitionConfig),"outTransition"in x&&o(5,h=x.outTransition),"outTransitionConfig"in x&&o(6,g=x.outTransitionConfig),"asChild"in x&&o(7,p=x.asChild),"id"in x&&o(13,w=x.id),"el"in x&&o(0,v=x.el),"$$scope"in x&&o(15,u=x.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&w&&D.content.set(w),t.$$.dirty[0]&16384&&o(8,n=l),t.$$.dirty[0]&256&&Object.assign(n,P)},[v,f,c,d,m,h,g,p,n,a,S,j,r,w,l,u,s,N,R,q,O,k,A,E,B,L,J,z,X,ne,Z,te,ye,ae,ie,je,qe,Ue,rt,_,H,V,le,he,Se,Pe,$e,We,Le,Ce,Ye,or,ir,rr,lr,sr,ar]}let a0=class extends pe{constructor(e){super(),me(this,e,s0,l0,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const u0=t=>({builder:t&256}),xs=t=>({builder:t[8]});function f0(t){let e,o,n,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=M("div"),fe(e,r)},m(l,a){I(l,e,a),t[25](e),o||(n=[Be(t[8].action(e)),ee(e,"mouseup",t[20])],o=!0)},p(l,a){fe(e,r=we(i,[a&256&&l[8],a&4096&&l[12]]))},i:Te,o:Te,d(l){l&&T(e),t[25](null),o=!1,xe(n)}}}function c0(t){let e,o,n,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=M("div"),fe(e,a)},m(s,u){I(s,e,u),t[24](e),n=!0,i||(r=[Be(t[8].action(e)),ee(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,fe(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){n||(o&&o.end(1),n=!0)},o(s){s&&(o=Vt(e,t[5],t[6])),n=!1},d(s){s&&T(e),t[24](null),s&&o&&o.end(),i=!1,xe(r)}}}function d0(t){let e,o,n,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=M("div"),fe(e,l)},m(a,s){I(a,e,s),t[23](e),n||(i=[Be(t[8].action(e)),ee(e,"mouseup",t[18])],n=!0)},p(a,s){t=a,fe(e,l=we(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(o||ze(()=>{o=xt(e,t[3],t[4]),o.start()}))},o:Te,d(a){a&&T(e),t[23](null),n=!1,xe(i)}}}function m0(t){let e,o,n,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("div"),fe(e,s)},m(u,f){I(u,e,f),t[22](e),i=!0,r||(l=[Be(t[8].action(e)),ee(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,fe(e,s=we(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&ze(()=>{i&&(n&&n.end(1),o=xt(e,t[3],t[4]),o.start())}),i=!0)},o(u){o&&o.invalidate(),u&&(n=Vt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[22](null),u&&n&&n.end(),r=!1,xe(l)}}}function p0(t){let e,o,n,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=M("div"),fe(e,a)},m(s,u){I(s,e,u),t[21](e),n=!0,i||(r=[ee(e,"mouseup",t[16]),Be(t[8].action(e))],i=!0)},p(s,u){t=s,fe(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){n||(s&&ze(()=>{n&&(o||(o=gt(e,t[1],t[2],!0)),o.run(1))}),n=!0)},o(s){s&&(o||(o=gt(e,t[1],t[2],!1)),o.run(0)),n=!1},d(s){s&&T(e),t[21](null),s&&o&&o.end(),i=!1,xe(r)}}}function h0(t){let e;const o=t[15].default,n=ge(o,t,t[14],xs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&16640)&&be(n,o,i,i[14],e?_e(o,i[14],r,u0):ve(i[14]),xs)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function g0(t){let e,o,n,i;const r=[h0,p0,m0,d0,c0,f0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(o=l[e]=r[e](t)),{c(){o&&o.c(),n=Re()},m(s,u){~e&&l[e].m(s,u),I(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(o&&(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me()),~e?(o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n)):o=null)},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),~e&&l[e].d(s)}}}function _0(t,e,o){let n;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ue(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:g=void 0}=e,{asChild:p=!1}=e,{el:w=void 0}=e;const{elements:{overlay:v},states:{open:S},getAttrs:j}=po();se(t,v,L=>o(13,l=L)),se(t,S,L=>o(9,a=L));const D=j("overlay");function F(L){re.call(this,t,L)}function P(L){re.call(this,t,L)}function N(L){re.call(this,t,L)}function R(L){re.call(this,t,L)}function q(L){re.call(this,t,L)}function O(L){Ne[L?"unshift":"push"](()=>{w=L,o(0,w)})}function k(L){Ne[L?"unshift":"push"](()=>{w=L,o(0,w)})}function A(L){Ne[L?"unshift":"push"](()=>{w=L,o(0,w)})}function E(L){Ne[L?"unshift":"push"](()=>{w=L,o(0,w)})}function B(L){Ne[L?"unshift":"push"](()=>{w=L,o(0,w)})}return t.$$set=L=>{e=Q(Q({},e),Ee(L)),o(12,r=ue(e,i)),"transition"in L&&o(1,f=L.transition),"transitionConfig"in L&&o(2,c=L.transitionConfig),"inTransition"in L&&o(3,d=L.inTransition),"inTransitionConfig"in L&&o(4,m=L.inTransitionConfig),"outTransition"in L&&o(5,h=L.outTransition),"outTransitionConfig"in L&&o(6,g=L.outTransitionConfig),"asChild"in L&&o(7,p=L.asChild),"el"in L&&o(0,w=L.el),"$$scope"in L&&o(14,u=L.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&o(8,n=l),t.$$.dirty&256&&Object.assign(n,D)},[w,f,c,d,m,h,g,p,n,a,v,S,r,l,u,s,F,P,N,R,q,O,k,A,E,B]}let b0=class extends pe{constructor(e){super(),me(this,e,_0,g0,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const v0=t=>({builder:t&4}),Vs=t=>({builder:t[2]}),y0=t=>({builder:t&4}),Ws=t=>({builder:t[2]});function w0(t){let e,o,n,i;const r=t[8].default,l=ge(r,t,t[7],Vs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("div"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[9](e),o=!0,n||(i=Be(t[2].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&132)&&be(l,r,u,u[7],o?_e(r,u[7],f,v0):ve(u[7]),Vs),fe(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){o||(y(l,u),o=!0)},o(u){C(l,u),o=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),n=!1,i()}}}function k0(t){let e;const o=t[8].default,n=ge(o,t,t[7],Ws);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&132)&&be(n,o,i,i[7],e?_e(o,i[7],r,y0):ve(i[7]),Ws)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function C0(t){let e,o,n,i;const r=[k0,w0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Re()},m(s,u){l[e].m(s,u),I(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),l[e].d(s)}}}function S0(t,e,o){let n;const i=["asChild","id","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:h}=po();se(t,d,w=>o(6,l=w));const g=h("description");function p(w){Ne[w?"unshift":"push"](()=>{c=w,o(0,c)})}return t.$$set=w=>{e=Q(Q({},e),Ee(w)),o(4,r=ue(e,i)),"asChild"in w&&o(1,u=w.asChild),"id"in w&&o(5,f=w.id),"el"in w&&o(0,c=w.el),"$$scope"in w&&o(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,g)},[c,u,n,d,r,f,l,s,a,p]}let A0=class extends pe{constructor(e){super(),me(this,e,S0,C0,de,{asChild:1,id:5,el:0})}};function T0(){const t="label",o=Ln(t,["root"]);return{NAME:t,getAttrs:o}}const I0=t=>({builder:t&4}),Ys=t=>({builder:t[2]}),M0=t=>({builder:t&4}),Us=t=>({builder:t[2]});function O0(t){let e,o,n,i;const r=t[8].default,l=ge(r,t,t[7],Ys);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("label"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[9](e),o=!0,n||(i=[Be(t[2].action(e)),ee(e,"m-mousedown",t[4])],n=!0)},p(u,f){l&&l.p&&(!o||f&132)&&be(l,r,u,u[7],o?_e(r,u[7],f,I0):ve(u[7]),Ys),fe(e,s=we(a,[f&4&&u[2],f&32&&u[5]]))},i(u){o||(y(l,u),o=!0)},o(u){C(l,u),o=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),n=!1,xe(i)}}}function N0(t){let e;const o=t[8].default,n=ge(o,t,t[7],Us);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&132)&&be(n,o,i,i[7],e?_e(o,i[7],r,M0):ve(i[7]),Us)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function P0(t){let e,o,n,i;const r=[N0,O0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Re()},m(s,u){l[e].m(s,u),I(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),l[e].d(s)}}}function E0(t,e,o){let n;const i=["asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=Lh();se(t,c,p=>o(6,l=p));const d=Dn(),{getAttrs:m}=T0(),h=m("root");function g(p){Ne[p?"unshift":"push"](()=>{f=p,o(0,f)})}return t.$$set=p=>{e=Q(Q({},e),Ee(p)),o(5,r=ue(e,i)),"asChild"in p&&o(1,u=p.asChild),"el"in p&&o(0,f=p.el),"$$scope"in p&&o(7,s=p.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,h)},[f,u,n,c,d,r,l,s,a,g]}let R0=class extends pe{constructor(e){super(),me(this,e,E0,P0,de,{asChild:1,el:0})}};function $0(){return{NAME:"progress",PARTS:["root"]}}function L0(t){const{NAME:e,PARTS:o}=$0(),n=Ln(e,o),i={...qh(mo(t)),getAttrs:n};return{...i,updateOption:En(i.options)}}const D0=t=>({builder:t&4}),Ks=t=>({builder:t[2]}),j0=t=>({builder:t&4}),Js=t=>({builder:t[2]});function F0(t){let e,o,n,i;const r=t[10].default,l=ge(r,t,t[9],Ks);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("div"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[11](e),o=!0,n||(i=Be(t[2].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&516)&&be(l,r,u,u[9],o?_e(r,u[9],f,D0):ve(u[9]),Ks),fe(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){o||(y(l,u),o=!0)},o(u){C(l,u),o=!1},d(u){u&&T(e),l&&l.d(u),t[11](null),n=!1,i()}}}function B0(t){let e;const o=t[10].default,n=ge(o,t,t[9],Js);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&516)&&be(n,o,i,i[9],e?_e(o,i[9],r,j0):ve(i[9]),Js)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function q0(t){let e,o,n,i;const r=[B0,F0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Re()},m(s,u){l[e].m(s,u),I(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),l[e].d(s)}}}function G0(t,e,o){let n;const i=["max","value","onValueChange","asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:m=void 0}=e;const{elements:{root:h},states:{value:g},updateOption:p,getAttrs:w}=L0({max:u,defaultValue:f,onValueChange:({next:j})=>(c==null||c(j),o(5,f=j),j)});se(t,h,j=>o(8,l=j));const v=w("root");function S(j){Ne[j?"unshift":"push"](()=>{m=j,o(0,m)})}return t.$$set=j=>{e=Q(Q({},e),Ee(j)),o(4,r=ue(e,i)),"max"in j&&o(6,u=j.max),"value"in j&&o(5,f=j.value),"onValueChange"in j&&o(7,c=j.onValueChange),"asChild"in j&&o(1,d=j.asChild),"el"in j&&o(0,m=j.el),"$$scope"in j&&o(9,s=j.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&g.set(f),t.$$.dirty&64&&p("max",u),t.$$.dirty&256&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,v)},[m,d,n,h,r,f,u,c,l,s,a,S]}let H0=class extends pe{constructor(e){super(),me(this,e,G0,q0,de,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function gc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function x0(t){const{NAME:e,PARTS:o}=gc(),n=Ln(e,o),i={...Vh(mo(t)),getAttrs:n};return Yi(e,i),{...i,updateOption:En(i.options)}}function _c(){const{NAME:t}=gc();return Ui(t)}const V0=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Xs=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),W0=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Zs=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function Y0(t){let e,o,n,i;const r=t[18].default,l=ge(r,t,t[17],Xs);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("span"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[19](e),o=!0,n||(i=Be(t[2].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&131100)&&be(l,r,u,u[17],o?_e(r,u[17],f,V0):ve(u[17]),Xs),fe(e,s=we(a,[f&4&&u[2],f&256&&u[8]]))},i(u){o||(y(l,u),o=!0)},o(u){C(l,u),o=!1},d(u){u&&T(e),l&&l.d(u),t[19](null),n=!1,i()}}}function U0(t){let e;const o=t[18].default,n=ge(o,t,t[17],Zs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&131100)&&be(n,o,i,i[17],e?_e(o,i[17],r,W0):ve(i[17]),Zs)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function K0(t){let e,o,n,i;const r=[U0,Y0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Re()},m(s,u){l[e].m(s,u),I(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),l[e].d(s)}}}function J0(t,e,o){let n;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=ue(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:m=void 0}=e,{step:h=void 0}=e,{orientation:g=void 0}=e,{value:p=void 0}=e,{onValueChange:w=void 0}=e,{asChild:v=!1}=e,{el:S=void 0}=e;const{elements:{root:j,ticks:D,thumbs:F},states:{value:P},updateOption:N,getAttrs:R}=x0({disabled:c,min:d,max:m,step:h,orientation:g,defaultValue:p,onValueChange:({next:k})=>(p!==k&&(w==null||w(k),o(9,p=k)),k)});se(t,j,k=>o(16,l=k)),se(t,D,k=>o(3,a=k)),se(t,F,k=>o(4,s=k));const q=R("root");function O(k){Ne[k?"unshift":"push"](()=>{S=k,o(0,S)})}return t.$$set=k=>{e=Q(Q({},e),Ee(k)),o(8,r=ue(e,i)),"disabled"in k&&o(10,c=k.disabled),"min"in k&&o(11,d=k.min),"max"in k&&o(12,m=k.max),"step"in k&&o(13,h=k.step),"orientation"in k&&o(14,g=k.orientation),"value"in k&&o(9,p=k.value),"onValueChange"in k&&o(15,w=k.onValueChange),"asChild"in k&&o(1,v=k.asChild),"el"in k&&o(0,S=k.el),"$$scope"in k&&o(17,f=k.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&p!==void 0&&P.set(p),t.$$.dirty&1024&&N("disabled",c),t.$$.dirty&2048&&N("min",d),t.$$.dirty&4096&&N("max",m),t.$$.dirty&8192&&N("step",h),t.$$.dirty&16384&&N("orientation",g),t.$$.dirty&65536&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,q)},[S,v,n,a,s,j,D,F,r,p,c,d,m,h,g,w,l,f,u,O]}let X0=class extends pe{constructor(e){super(),me(this,e,J0,K0,de,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const Z0=t=>({builder:t&4}),Qs=t=>({builder:t[2]});function Q0(t){let e,o,n,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=M("span"),fe(e,r)},m(l,a){I(l,e,a),t[8](e),o||(n=Be(t[2].action(e)),o=!0)},p(l,a){fe(e,r=we(i,[a&4&&l[2],a&16&&l[4]]))},i:Te,o:Te,d(l){l&&T(e),t[8](null),o=!1,n()}}}function z0(t){let e;const o=t[7].default,n=ge(o,t,t[6],Qs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&68)&&be(n,o,i,i[6],e?_e(o,i[6],r,Z0):ve(i[6]),Qs)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function e1(t){let e,o,n,i;const r=[z0,Q0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Re()},m(s,u){l[e].m(s,u),I(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),l[e].d(s)}}}function t1(t,e,o){let n;const i=["asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=_c();se(t,c,g=>o(5,l=g));const m=d("range");function h(g){Ne[g?"unshift":"push"](()=>{f=g,o(0,f)})}return t.$$set=g=>{e=Q(Q({},e),Ee(g)),o(4,r=ue(e,i)),"asChild"in g&&o(1,u=g.asChild),"el"in g&&o(0,f=g.el),"$$scope"in g&&o(6,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,m)},[f,u,n,c,r,l,s,a,h]}class n1 extends pe{constructor(e){super(),me(this,e,t1,e1,de,{asChild:1,el:0})}}const o1=t=>({builder:t&4}),zs=t=>({builder:t[2]});function i1(t){let e,o,n,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=M("span"),fe(e,r)},m(l,a){I(l,e,a),t[8](e),o||(n=[Be(t[2].action(e)),ee(e,"m-keydown",t[3])],o=!0)},p(l,a){fe(e,r=we(i,[a&4&&l[2],a&16&&l[4]]))},i:Te,o:Te,d(l){l&&T(e),t[8](null),o=!1,xe(n)}}}function r1(t){let e;const o=t[7].default,n=ge(o,t,t[6],zs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&68)&&be(n,o,i,i[6],e?_e(o,i[6],r,o1):ve(i[6]),zs)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function l1(t){let e,o,n,i;const r=[r1,i1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Re()},m(s,u){l[e].m(s,u),I(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),l[e].d(s)}}}function s1(t,e,o){let n;const i=["asChild","el","thumb"];let r=ue(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=_c(),d=Dn(),m=c("thumb");function h(g){Ne[g?"unshift":"push"](()=>{u=g,o(0,u)})}return t.$$set=g=>{e=Q(Q({},e),Ee(g)),o(4,r=ue(e,i)),"asChild"in g&&o(1,s=g.asChild),"el"in g&&o(0,u=g.el),"thumb"in g&&o(5,f=g.thumb),"$$scope"in g&&o(6,a=g.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&o(2,n=f),t.$$.dirty&4&&Object.assign(n,m)},[u,s,n,d,r,f,a,l,h]}class a1 extends pe{constructor(e){super(),me(this,e,s1,l1,de,{asChild:1,el:0,thumb:5})}}function bc(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function u1(t){const{NAME:e,PARTS:o}=bc(),n=Ln(e,o),i={...Uh({positioning:{placement:"top",gutter:0},openDelay:700,...mo(t),forceVisible:!0}),getAttrs:n};return Yi(e,i),{...i,updateOption:En(i.options)}}function kl(){const{NAME:t}=bc();return Ui(t)}function f1(t){const o={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:n}}=kl();c_(n)({...o})}const c1=t=>({ids:t&1}),ea=t=>({ids:t[0]});function d1(t){let e;const o=t[12].default,n=ge(o,t,t[11],ea);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,[r]){n&&n.p&&(!e||r&2049)&&be(n,o,i,i[11],e?_e(o,i[11],r,c1):ve(i[11]),ea)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function m1(t,e,o){let n,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:m=void 0}=e,{group:h=void 0}=e;const{states:{open:g},updateOption:p,ids:w}=u1({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:m,group:h,onOpenChange:({next:S})=>(c!==S&&(d==null||d(S),o(2,c=S)),S),positioning:{gutter:0,offset:{mainAxis:1}}}),v=en([w.content,w.trigger],([S,j])=>({content:S,trigger:j}));return se(t,v,S=>o(0,n=S)),t.$$set=S=>{"closeOnEscape"in S&&o(3,l=S.closeOnEscape),"portal"in S&&o(4,a=S.portal),"closeOnPointerDown"in S&&o(5,s=S.closeOnPointerDown),"openDelay"in S&&o(6,u=S.openDelay),"closeDelay"in S&&o(7,f=S.closeDelay),"open"in S&&o(2,c=S.open),"onOpenChange"in S&&o(8,d=S.onOpenChange),"disableHoverableContent"in S&&o(9,m=S.disableHoverableContent),"group"in S&&o(10,h=S.group),"$$scope"in S&&o(11,r=S.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&g.set(c),t.$$.dirty&8&&p("closeOnEscape",l),t.$$.dirty&16&&p("portal",a),t.$$.dirty&32&&p("closeOnPointerDown",s),t.$$.dirty&64&&p("openDelay",u),t.$$.dirty&128&&p("closeDelay",f),t.$$.dirty&1024&&p("group",h),t.$$.dirty&512&&p("disableHoverableContent",m)},[n,v,c,l,a,s,u,f,d,m,h,r,i]}class p1 extends pe{constructor(e){super(),me(this,e,m1,d1,de,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const h1=t=>({builder:t[0]&256}),ta=t=>({builder:t[8]}),g1=t=>({builder:t[0]&256}),na=t=>({builder:t[8]}),_1=t=>({builder:t[0]&256}),oa=t=>({builder:t[8]}),b1=t=>({builder:t[0]&256}),ia=t=>({builder:t[8]}),v1=t=>({builder:t[0]&256}),ra=t=>({builder:t[8]}),y1=t=>({builder:t[0]&256}),la=t=>({builder:t[8]});function w1(t){let e,o,n,i;const r=t[28].default,l=ge(r,t,t[27],ta);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("div"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[33](e),o=!0,n||(i=[Be(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],n=!0)},p(u,f){l&&l.p&&(!o||f[0]&134217984)&&be(l,r,u,u[27],o?_e(r,u[27],f,h1):ve(u[27]),ta),fe(e,s=we(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){o||(y(l,u),o=!0)},o(u){C(l,u),o=!1},d(u){u&&T(e),l&&l.d(u),t[33](null),n=!1,xe(i)}}}function k1(t){let e,o,n,i,r;const l=t[28].default,a=ge(l,t,t[27],na);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=M("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[32](e),n=!0,i||(r=[Be(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&134217984)&&be(a,l,t,t[27],n?_e(l,t[27],c,g1):ve(t[27]),na),fe(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){n||(y(a,f),o&&o.end(1),n=!0)},o(f){C(a,f),f&&(o=Vt(e,t[5],t[6])),n=!1},d(f){f&&T(e),a&&a.d(f),t[32](null),f&&o&&o.end(),i=!1,xe(r)}}}function C1(t){let e,o,n,i,r;const l=t[28].default,a=ge(l,t,t[27],oa);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=M("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[31](e),n=!0,i||(r=[Be(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&134217984)&&be(a,l,t,t[27],n?_e(l,t[27],c,_1):ve(t[27]),oa),fe(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){n||(y(a,f),f&&(o||ze(()=>{o=xt(e,t[3],t[4]),o.start()})),n=!0)},o(f){C(a,f),n=!1},d(f){f&&T(e),a&&a.d(f),t[31](null),i=!1,xe(r)}}}function S1(t){let e,o,n,i,r,l;const a=t[28].default,s=ge(a,t,t[27],ia);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=M("div"),s&&s.c(),fe(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[Be(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&be(s,a,t,t[27],i?_e(a,t[27],d,b1):ve(t[27]),ia),fe(e,f=we(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(y(s,c),c&&ze(()=>{i&&(n&&n.end(1),o=xt(e,t[3],t[4]),o.start())}),i=!0)},o(c){C(s,c),o&&o.invalidate(),c&&(n=Vt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[30](null),c&&n&&n.end(),r=!1,xe(l)}}}function A1(t){let e,o,n,i,r;const l=t[28].default,a=ge(l,t,t[27],ra);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=M("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[29](e),n=!0,i||(r=[Be(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&134217984)&&be(a,l,t,t[27],n?_e(l,t[27],c,v1):ve(t[27]),ra),fe(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){n||(y(a,f),f&&ze(()=>{n&&(o||(o=gt(e,t[1],t[2],!0)),o.run(1))}),n=!0)},o(f){C(a,f),f&&(o||(o=gt(e,t[1],t[2],!1)),o.run(0)),n=!1},d(f){f&&T(e),a&&a.d(f),t[29](null),f&&o&&o.end(),i=!1,xe(r)}}}function T1(t){let e;const o=t[28].default,n=ge(o,t,t[27],la);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r[0]&134217984)&&be(n,o,i,i[27],e?_e(o,i[27],r,y1):ve(i[27]),la)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function I1(t){let e,o,n,i;const r=[T1,A1,S1,C1,k1,w1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(o=l[e]=r[e](t)),{c(){o&&o.c(),n=Re()},m(s,u){~e&&l[e].m(s,u),I(s,n,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(o&&(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me()),~e?(o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n)):o=null)},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),~e&&l[e].d(s)}}}function M1(t,e,o){let n;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=ue(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:g=void 0}=e,{asChild:p=!1}=e,{id:w=void 0}=e,{side:v="top"}=e,{align:S="center"}=e,{sideOffset:j=0}=e,{alignOffset:D=0}=e,{collisionPadding:F=8}=e,{avoidCollisions:P=!0}=e,{collisionBoundary:N=void 0}=e,{sameWidth:R=!1}=e,{fitViewport:q=!1}=e,{strategy:O="absolute"}=e,{overlap:k=!1}=e,{el:A=void 0}=e;const{elements:{content:E},states:{open:B},ids:L,getAttrs:J}=kl();se(t,E,ie=>o(26,a=ie)),se(t,B,ie=>o(9,l=ie));const z=Dn(),X=J("content");function ne(ie){Ne[ie?"unshift":"push"](()=>{A=ie,o(0,A)})}function Z(ie){Ne[ie?"unshift":"push"](()=>{A=ie,o(0,A)})}function te(ie){Ne[ie?"unshift":"push"](()=>{A=ie,o(0,A)})}function ye(ie){Ne[ie?"unshift":"push"](()=>{A=ie,o(0,A)})}function ae(ie){Ne[ie?"unshift":"push"](()=>{A=ie,o(0,A)})}return t.$$set=ie=>{e=Q(Q({},e),Ee(ie)),o(13,r=ue(e,i)),"transition"in ie&&o(1,f=ie.transition),"transitionConfig"in ie&&o(2,c=ie.transitionConfig),"inTransition"in ie&&o(3,d=ie.inTransition),"inTransitionConfig"in ie&&o(4,m=ie.inTransitionConfig),"outTransition"in ie&&o(5,h=ie.outTransition),"outTransitionConfig"in ie&&o(6,g=ie.outTransitionConfig),"asChild"in ie&&o(7,p=ie.asChild),"id"in ie&&o(14,w=ie.id),"side"in ie&&o(15,v=ie.side),"align"in ie&&o(16,S=ie.align),"sideOffset"in ie&&o(17,j=ie.sideOffset),"alignOffset"in ie&&o(18,D=ie.alignOffset),"collisionPadding"in ie&&o(19,F=ie.collisionPadding),"avoidCollisions"in ie&&o(20,P=ie.avoidCollisions),"collisionBoundary"in ie&&o(21,N=ie.collisionBoundary),"sameWidth"in ie&&o(22,R=ie.sameWidth),"fitViewport"in ie&&o(23,q=ie.fitViewport),"strategy"in ie&&o(24,O=ie.strategy),"overlap"in ie&&o(25,k=ie.overlap),"el"in ie&&o(0,A=ie.el),"$$scope"in ie&&o(27,u=ie.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&w&&L.content.set(w),t.$$.dirty[0]&67108864&&o(8,n=a),t.$$.dirty[0]&256&&Object.assign(n,X),t.$$.dirty[0]&67076608&&l&&f1({side:v,align:S,sideOffset:j,alignOffset:D,collisionPadding:F,avoidCollisions:P,collisionBoundary:N,sameWidth:R,fitViewport:q,strategy:O,overlap:k})},[A,f,c,d,m,h,g,p,n,l,E,B,z,r,w,v,S,j,D,F,P,N,R,q,O,k,a,u,s,ne,Z,te,ye,ae]}let O1=class extends pe{constructor(e){super(),me(this,e,M1,I1,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const N1=t=>({builder:t&4}),sa=t=>({builder:t[2]}),P1=t=>({builder:t&4}),aa=t=>({builder:t[2]});function E1(t){let e,o,n,i;const r=t[9].default,l=ge(r,t,t[8],sa);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("button"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),o=!0,n||(i=[Be(t[2].action(e)),ee(e,"m-blur",t[4]),ee(e,"m-focus",t[4]),ee(e,"m-keydown",t[4]),ee(e,"m-pointerdown",t[4]),ee(e,"m-pointerenter",t[4]),ee(e,"m-pointerleave",t[4])],n=!0)},p(u,f){l&&l.p&&(!o||f&260)&&be(l,r,u,u[8],o?_e(r,u[8],f,N1):ve(u[8]),sa),fe(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){o||(y(l,u),o=!0)},o(u){C(l,u),o=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),n=!1,xe(i)}}}function R1(t){let e;const o=t[9].default,n=ge(o,t,t[8],aa);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&260)&&be(n,o,i,i[8],e?_e(o,i[8],r,P1):ve(i[8]),aa)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function $1(t){let e,o,n,i;const r=[R1,E1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Re()},m(s,u){l[e].m(s,u),I(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),l[e].d(s)}}}function L1(t,e,o){let n;const i=["asChild","id","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:m,getAttrs:h}=kl();se(t,d,v=>o(7,l=v));const g=Dn(),p=h("trigger");function w(v){Ne[v?"unshift":"push"](()=>{c=v,o(0,c)})}return t.$$set=v=>{e=Q(Q({},e),Ee(v)),o(5,r=ue(e,i)),"asChild"in v&&o(1,u=v.asChild),"id"in v&&o(6,f=v.id),"el"in v&&o(0,c=v.el),"$$scope"in v&&o(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&m.trigger.set(f),t.$$.dirty&128&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,p)},[c,u,n,d,g,r,f,l,s,a,w]}class D1 extends pe{constructor(e){super(),me(this,e,L1,$1,de,{asChild:1,id:6,el:0})}}function j1(t){let e;const o=t[2].default,n=ge(o,t,t[3],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&8)&&be(n,o,i,i[3],e?_e(o,i[3],r,null):ve(i[3]),null)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function F1(t){let e,o;const n=[{class:Fe("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[j1]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new R_({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&3?we(n,[l&1&&{class:Fe("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function B1(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Ee(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(3,l=s.$$scope)},[a,i,r,l]}class nn extends pe{constructor(e){super(),me(this,e,B1,F1,de,{class:0})}}function q1(t){let e;const o=t[1].default,n=ge(o,t,t[2],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&4)&&be(n,o,i,i[2],e?_e(o,i[2],r,null):ve(i[2]),null)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function G1(t){let e,o;const n=[t[0]];let i={$$slots:{default:[q1]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new U_({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&1?we(n,[it(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function H1(t,e,o){const n=[];let i=ue(e,n),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Q(Q({},e),Ee(a)),o(0,i=ue(e,n)),"$$scope"in a&&o(2,l=a.$$scope)},[i,r,l]}class x1 extends pe{constructor(e){super(),me(this,e,H1,G1,de,{})}}function V1(t){let e,o,n;const i=t[3].default,r=ge(i,t,t[2],null);let l=[{class:o=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=M("div"),r&&r.c(),fe(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),n=!0},p(s,[u]){r&&r.p&&(!n||u&4)&&be(r,i,s,s[2],n?_e(i,s[2],u,null):ve(s[2]),null),fe(e,a=we(l,[(!n||u&1&&o!==(o=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:o},u&2&&s[1]]))},i(s){n||(y(r,s),n=!0)},o(s){C(r,s),n=!1},d(s){s&&T(e),r&&r.d(s)}}}function W1(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Ee(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(2,l=s.$$scope)},[a,i,l,r]}class bn extends pe{constructor(e){super(),me(this,e,W1,V1,de,{class:0})}}function Y1(t){let e,o,n;const i=t[3].default,r=ge(i,t,t[2],null);let l=[{class:o=Fe("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=M("div"),r&&r.c(),fe(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),n=!0},p(s,[u]){r&&r.p&&(!n||u&4)&&be(r,i,s,s[2],n?_e(i,s[2],u,null):ve(s[2]),null),fe(e,a=we(l,[(!n||u&1&&o!==(o=Fe("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:o},u&2&&s[1]]))},i(s){n||(y(r,s),n=!0)},o(s){C(r,s),n=!1},d(s){s&&T(e),r&&r.d(s)}}}function U1(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Ee(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(2,l=s.$$scope)},[a,i,l,r]}class on extends pe{constructor(e){super(),me(this,e,U1,Y1,de,{class:0})}}function Ei(t,{delay:e=0,duration:o=400,easing:n=Vi}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:o,easing:n,css:r=>`opacity: ${r*i}`}}function ua(t,{delay:e=0,duration:o=400,easing:n=Hf,axis:i="y"}={}){const r=getComputedStyle(t),l=+r.opacity,a=i==="y"?"height":"width",s=parseFloat(r[a]),u=i==="y"?["top","bottom"]:["left","right"],f=u.map(w=>`${w[0].toUpperCase()}${w.slice(1)}`),c=parseFloat(r[`padding${f[0]}`]),d=parseFloat(r[`padding${f[1]}`]),m=parseFloat(r[`margin${f[0]}`]),h=parseFloat(r[`margin${f[1]}`]),g=parseFloat(r[`border${f[0]}Width`]),p=parseFloat(r[`border${f[1]}Width`]);return{delay:e,duration:o,easing:n,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*l};${a}: ${w*s}px;padding-${u[0]}: ${w*c}px;padding-${u[1]}: ${w*d}px;margin-${u[0]}: ${w*m}px;margin-${u[1]}: ${w*h}px;border-${u[0]}-width: ${w*g}px;border-${u[1]}-width: ${w*p}px;`}}function K1(t){let e,o;const n=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new b0({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&15?we(n,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&it(r[3])]):{};e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function J1(t,e,o){const n=["class","transition","transitionConfig"];let i=ue(e,n),{class:r=void 0}=e,{transition:l=Ei}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Q(Q({},e),Ee(s)),o(3,i=ue(e,n)),"class"in s&&o(0,r=s.class),"transition"in s&&o(1,l=s.transition),"transitionConfig"in s&&o(2,a=s.transitionConfig)},[r,l,a,i]}class X1 extends pe{constructor(e){super(),me(this,e,J1,K1,de,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function ca(t,e,o){const n=t.slice();return n[11]=e[o][0],n[12]=e[o][1],n}function kr(t){let e,o=[t[12]],n={};for(let i=0;i<o.length;i+=1)n=Q(n,o[i]);return{c(){e=Wi(t[11]),pi(e,n)},m(i,r){I(i,e,r)},p(i,r){pi(e,n=we(o,[r&32&&i[12]]))},d(i){i&&T(e)}}}function da(t){let e=t[11],o,n=t[11]&&kr(t);return{c(){n&&n.c(),o=Re()},m(i,r){n&&n.m(i,r),I(i,o,r)},p(i,r){i[11]?e?de(e,i[11])?(n.d(1),n=kr(i),e=i[11],n.c(),n.m(o.parentNode,o)):n.p(i,r):(n=kr(i),e=i[11],n.c(),n.m(o.parentNode,o)):e&&(n.d(1),n=null,e=i[11])},d(i){i&&T(o),n&&n.d(i)}}}function Z1(t){let e,o,n,i,r,l=He(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=da(ca(t,l,d));const s=t[10].default,u=ge(s,t,t[9],null);let f=[fa,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":n=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=Q(c,f[d]);return{c(){e=Wi("svg");for(let d=0;d<a.length;d+=1)a[d].c();o=Re(),u&&u.c(),pi(e,c)},m(d,m){I(d,e,m);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(e,null);b(e,o),u&&u.m(e,null),r=!0},p(d,[m]){if(m&32){l=He(d[5]);let h;for(h=0;h<l.length;h+=1){const g=ca(d,l,h);a[h]?a[h].p(g,m):(a[h]=da(g),a[h].c(),a[h].m(e,o))}for(;h<a.length;h+=1)a[h].d(1);a.length=l.length}u&&u.p&&(!r||m&512)&&be(u,s,d,d[9],r?_e(s,d[9],m,null):ve(d[9]),null),pi(e,c=we(f,[fa,m&128&&d[7],(!r||m&4)&&{width:d[2]},(!r||m&4)&&{height:d[2]},(!r||m&2)&&{stroke:d[1]},(!r||m&28&&n!==(n=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":n},(!r||m&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(y(u,d),r=!0)},o(d){C(u,d),r=!1},d(d){d&&T(e),nt(a,d),u&&u.d(d)}}}function Q1(t,e,o){const n=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const m=(...h)=>h.filter((g,p,w)=>!!g&&w.indexOf(g)===p).join(" ");return t.$$set=h=>{o(8,e=Q(Q({},e),Ee(h))),o(7,i=ue(e,n)),"name"in h&&o(0,a=h.name),"color"in h&&o(1,s=h.color),"size"in h&&o(2,u=h.size),"strokeWidth"in h&&o(3,f=h.strokeWidth),"absoluteStrokeWidth"in h&&o(4,c=h.absoluteStrokeWidth),"iconNode"in h&&o(5,d=h.iconNode),"$$scope"in h&&o(9,l=h.$$scope)},e=Ee(e),[a,s,u,f,c,d,m,i,e,l,r]}class z1 extends pe{constructor(e){super(),me(this,e,Q1,Z1,de,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function eb(t){let e;const o=t[2].default,n=ge(o,t,t[3],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&8)&&be(n,o,i,i[3],e?_e(o,i[3],r,null):ve(i[3]),null)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function tb(t){let e,o;const n=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[eb]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new z1({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&3?we(n,[n[0],l&2&&it(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function nb(t,e,o){let{$$slots:n={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{o(1,e=Q(Q({},e),Ee(l))),"$$scope"in l&&o(3,i=l.$$scope)},e=Ee(e),[r,e,n,i]}class ob extends pe{constructor(e){super(),me(this,e,nb,tb,de,{})}}function ib(t){let e,o,n,i;return e=new ob({props:{class:"h-4 w-4"}}),{c(){U(e.$$.fragment),o=G(),n=M("span"),n.textContent="Close",$(n,"class","sr-only")},m(r,l){W(e,r,l),I(r,o,l),I(r,n,l),i=!0},p:Te,i(r){i||(y(e.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),i=!1},d(r){r&&(T(o),T(n)),Y(e,r)}}}function rb(t){let e,o,n;const i=t[4].default,r=ge(i,t,t[5],null);return o=new q_({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[ib]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=G(),U(o.$$.fragment)},m(l,a){r&&r.m(l,a),I(l,e,a),W(o,l,a),n=!0},p(l,a){r&&r.p&&(!n||a&32)&&be(r,i,l,l[5],n?_e(i,l[5],a,null):ve(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),o.$set(s)},i(l){n||(y(r,l),y(o.$$.fragment,l),n=!0)},o(l){C(r,l),C(o.$$.fragment,l),n=!1},d(l){l&&T(e),r&&r.d(l),Y(o,l)}}}function lb(t){let e,o,n,i;e=new X1({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",t[0])},t[3]];let l={$$slots:{default:[rb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return n=new a0({props:l}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(a,s){W(e,a,s),I(a,o,s),W(n,a,s),i=!0},p(a,s){const u=s&15?we(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",a[0])},s&8&&it(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),n.$set(u)},i(a){i||(y(e.$$.fragment,a),y(n.$$.fragment,a),i=!0)},o(a){C(e.$$.fragment,a),C(n.$$.fragment,a),i=!1},d(a){a&&T(o),Y(e,a),Y(n,a)}}}function sb(t){let e,o;return e=new x1({props:{$$slots:{default:[lb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function ab(t,e,o){const n=["class","transition","transitionConfig"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=uo}=e,{transitionConfig:u={duration:400}}=e;return t.$$set=f=>{e=Q(Q({},e),Ee(f)),o(3,i=ue(e,n)),"class"in f&&o(0,a=f.class),"transition"in f&&o(1,s=f.transition),"transitionConfig"in f&&o(2,u=f.transitionConfig),"$$scope"in f&&o(5,l=f.$$scope)},[a,s,u,i,r,l]}class rn extends pe{constructor(e){super(),me(this,e,ab,sb,de,{class:0,transition:1,transitionConfig:2})}}function ub(t){let e;const o=t[2].default,n=ge(o,t,t[3],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&8)&&be(n,o,i,i[3],e?_e(o,i[3],r,null):ve(i[3]),null)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function fb(t){let e,o;const n=[{class:Fe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[ub]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new A0({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&3?we(n,[l&1&&{class:Fe("text-sm text-muted-foreground",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function cb(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Ee(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(3,l=s.$$scope)},[a,i,r,l]}class Fn extends pe{constructor(e){super(),me(this,e,cb,fb,de,{class:0})}}const ln=T_,fn={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}};function db(t){let e;const o=t[3].default,n=ge(o,t,t[4],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&16)&&be(n,o,i,i[4],e?_e(o,i[4],r,null):ve(i[4]),null)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function mb(t){let e,o;const n=[{class:Fe("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[db]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new rg({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&7?we(n,[l&1&&{class:Fe("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&it(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function pb(t,e,o){const n=["class","level"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=Q(Q({},e),Ee(u)),o(2,i=ue(e,n)),"class"in u&&o(0,a=u.class),"level"in u&&o(1,s=u.level),"$$scope"in u&&o(4,l=u.$$scope)},[a,s,i,r,l]}class vc extends pe{constructor(e){super(),me(this,e,pb,mb,de,{class:0,level:1})}}function hb(t){let e;const o=t[5].default,n=ge(o,t,t[8],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&256)&&be(n,o,i,i[8],e?_e(o,i[8],r,null):ve(i[8]),null)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function gb(t){let e,o;const n=[{builders:t[3]},{class:Fe(io({variant:t[1],size:t[2]}),t[0])},{type:"button"},t[4]];let i={$$slots:{default:[hb]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new f_({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&31?we(n,[l&8&&{builders:r[3]},l&7&&{class:Fe(io({variant:r[1],size:r[2]}),r[0])},n[2],l&16&&it(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function _b(t,e,o){const n=["class","variant","size","builders"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(m){re.call(this,t,m)}function d(m){re.call(this,t,m)}return t.$$set=m=>{e=Q(Q({},e),Ee(m)),o(4,i=ue(e,n)),"class"in m&&o(0,a=m.class),"variant"in m&&o(1,s=m.variant),"size"in m&&o(2,u=m.size),"builders"in m&&o(3,f=m.builders),"$$scope"in m&&o(8,l=m.$$scope)},[a,s,u,f,i,r,c,d,l]}class Ot extends pe{constructor(e){super(),me(this,e,_b,gb,de,{class:0,variant:1,size:2,builders:3})}}var ma=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,yt=t=>!t||typeof t!="object"||Object.keys(t).length===0,bb=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function yc(t,e){t.forEach(function(o){Array.isArray(o)?yc(o,e):e.push(o)})}function wc(t){let e=[];return yc(t,e),e}var kc=(...t)=>wc(t).filter(Boolean),Cc=(t,e)=>{let o={},n=Object.keys(t),i=Object.keys(e);for(let r of n)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?o[r]=Cc(l,a):Array.isArray(l)||Array.isArray(a)?o[r]=kc(a,l):o[r]=a+" "+l}else o[r]=t[r];for(let r of i)n.includes(r)||(o[r]=e[r]);return o},pa=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),vb={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Sc=t=>t||void 0,qo=(...t)=>Sc(wc(t).filter(Boolean).join(" ")),Cr=null,Xt={},Wr=!1,So=(...t)=>e=>e.twMerge?((!Cr||Wr)&&(Wr=!1,Cr=yt(Xt)?Gf:_m({...Xt,extend:{theme:Xt.theme,classGroups:Xt.classGroups,conflictingClassGroupModifiers:Xt.conflictingClassGroupModifiers,conflictingClassGroups:Xt.conflictingClassGroups,...Xt.extend}})),Sc(Cr(qo(t)))):qo(t),ha=(t,e)=>{for(let o in e)t.hasOwnProperty(o)?t[o]=qo(t[o],e[o]):t[o]=e[o];return t},yb=(t,e)=>{let{extend:o=null,slots:n={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...vb,...e},u=o!=null&&o.base?qo(o.base,t==null?void 0:t.base):t==null?void 0:t.base,f=o!=null&&o.variants&&!yt(o.variants)?Cc(i,o.variants):i,c=o!=null&&o.defaultVariants&&!yt(o.defaultVariants)?{...o.defaultVariants,...a}:a;!yt(s.twMergeConfig)&&!bb(s.twMergeConfig,Xt)&&(Wr=!0,Xt=s.twMergeConfig);let d=yt(o==null?void 0:o.slots),m=yt(n)?{}:{base:qo(t==null?void 0:t.base,d&&(o==null?void 0:o.base)),...n},h=d?m:ha({...o==null?void 0:o.slots},yt(m)?{base:t==null?void 0:t.base}:m),g=w=>{if(yt(f)&&yt(n)&&d)return So(u,w==null?void 0:w.class,w==null?void 0:w.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let v=(k,A,E=[],B)=>{let L=E;if(typeof A=="string")L=L.concat(pa(A).split(" ").map(J=>`${k}:${J}`));else if(Array.isArray(A))L=L.concat(A.reduce((J,z)=>J.concat(`${k}:${z}`),[]));else if(typeof A=="object"&&typeof B=="string"){for(let J in A)if(A.hasOwnProperty(J)&&J===B){let z=A[J];if(z&&typeof z=="string"){let X=pa(z);L[B]?L[B]=L[B].concat(X.split(" ").map(ne=>`${k}:${ne}`)):L[B]=X.split(" ").map(ne=>`${k}:${ne}`)}else Array.isArray(z)&&z.length>0&&(L[B]=z.reduce((X,ne)=>X.concat(`${k}:${ne}`),[]))}}return L},S=(k,A=f,E=null,B=null)=>{var L;let J=A[k];if(!J||yt(J))return null;let z=(L=B==null?void 0:B[k])!=null?L:w==null?void 0:w[k];if(z===null)return null;let X=ma(z),ne=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,Z=c==null?void 0:c[k],te=[];if(typeof X=="object"&&ne)for(let[ie,je]of Object.entries(X)){let qe=J[je];if(ie==="initial"){Z=je;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(ie)||(te=v(ie,qe,te,E))}let ye=X!=null&&typeof X!="object"?X:ma(Z),ae=J[ye]||J.false;return typeof te=="object"&&typeof E=="string"&&te[E]?ha(te,ae):te.length>0?(te.push(ae),te):ae},j=()=>f?Object.keys(f).map(k=>S(k,f)):null,D=(k,A)=>{if(!f||typeof f!="object")return null;let E=new Array;for(let B in f){let L=S(B,f,k,A),J=k==="base"&&typeof L=="string"?L:L&&L[k];J&&(E[E.length]=J)}return E},F={};for(let k in w)w[k]!==void 0&&(F[k]=w[k]);let P=(k,A)=>{var E;let B=typeof(w==null?void 0:w[k])=="object"?{[k]:(E=w[k])==null?void 0:E.initial}:{};return{...c,...F,...B,...A}},N=(k=[],A)=>{let E=[];for(let{class:B,className:L,...J}of k){let z=!0;for(let[X,ne]of Object.entries(J)){let Z=P(X,A);if(Array.isArray(ne)){if(!ne.includes(Z[X])){z=!1;break}}else if(Z[X]!==ne){z=!1;break}}z&&(B&&E.push(B),L&&E.push(L))}return E},R=k=>{let A=N(r,k),E=N(o==null?void 0:o.compoundVariants,k);return kc(E,A)},q=k=>{let A=R(k);if(!Array.isArray(A))return A;let E={};for(let B of A)if(typeof B=="string"&&(E.base=So(E.base,B)(s)),typeof B=="object")for(let[L,J]of Object.entries(B))E[L]=So(E[L],J)(s);return E},O=k=>{if(l.length<1)return null;let A={};for(let{slots:E=[],class:B,className:L,...J}of l){if(!yt(J)){let z=!0;for(let X of Object.keys(J)){let ne=P(X,k)[X];if(ne===void 0||(Array.isArray(J[X])?!J[X].includes(ne):J[X]!==ne)){z=!1;break}}if(!z)continue}for(let z of E)A[z]=A[z]||[],A[z].push([B,L])}return A};if(!yt(n)||!d){let k={};if(typeof h=="object"&&!yt(h))for(let A of Object.keys(h))k[A]=E=>{var B,L;return So(h[A],D(A,E),((B=q(E))!=null?B:[])[A],((L=O(E))!=null?L:[])[A],E==null?void 0:E.class,E==null?void 0:E.className)(s)};return k}return So(u,j(),R(),w==null?void 0:w.class,w==null?void 0:w.className)(s)},p=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return g.variantKeys=p(),g.extend=o,g.base=u,g.slots=h,g.variants=f,g.defaultVariants=c,g.compoundSlots=l,g.compoundVariants=r,g};const io=yb({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg- hover:bg-accent hover:text-accent-foreground",secondary:"bg-accent text-accent-foreground hover:bg-accent/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),wb=t=>({builder:t&64}),ga=t=>({builder:t[6]});function kb(t){let e;const o=t[2].default,n=ge(o,t,t[5],ga);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&96)&&be(n,o,i,i[5],e?_e(o,i[5],r,wb):ve(i[5]),ga)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function Cb(t){let e,o;const n=[{class:Fe(io(),t[0])},t[1]];let i={$$slots:{default:[kb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new dg({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&3?we(n,[l&1&&{class:Fe(io(),r[0])},l&2&&it(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function Sb(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){re.call(this,t,f)}function u(f){re.call(this,t,f)}return t.$$set=f=>{e=Q(Q({},e),Ee(f)),o(1,i=ue(e,n)),"class"in f&&o(0,a=f.class),"$$scope"in f&&o(5,l=f.$$scope)},[a,i,r,s,u,l]}class Ac extends pe{constructor(e){super(),me(this,e,Sb,Cb,de,{class:0})}}const Ab=t=>({builder:t&64}),_a=t=>({builder:t[6]});function Tb(t){let e;const o=t[2].default,n=ge(o,t,t[5],_a);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&96)&&be(n,o,i,i[5],e?_e(o,i[5],r,Ab):ve(i[5]),_a)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function Ib(t){let e,o;const n=[{class:Fe(io({variant:"default"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[Tb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new vg({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&3?we(n,[l&1&&{class:Fe(io({variant:"default"}),"mt-2 sm:mt-0",r[0])},l&2&&it(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function Mb(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){re.call(this,t,f)}function u(f){re.call(this,t,f)}return t.$$set=f=>{e=Q(Q({},e),Ee(f)),o(1,i=ue(e,n)),"class"in f&&o(0,a=f.class),"$$scope"in f&&o(5,l=f.$$scope)},[a,i,r,s,u,l]}class Ob extends pe{constructor(e){super(),me(this,e,Mb,Ib,de,{class:0})}}function Nb(t){let e;const o=t[1].default,n=ge(o,t,t[2],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&4)&&be(n,o,i,i[2],e?_e(o,i[2],r,null):ve(i[2]),null)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function Pb(t){let e,o;const n=[t[0]];let i={$$slots:{default:[Nb]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new Tg({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&1?we(n,[it(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function Eb(t,e,o){const n=[];let i=ue(e,n),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Q(Q({},e),Ee(a)),o(0,i=ue(e,n)),"$$scope"in a&&o(2,l=a.$$scope)},[i,r,l]}class Rb extends pe{constructor(e){super(),me(this,e,Eb,Pb,de,{})}}function $b(t){let e,o,n;const i=t[3].default,r=ge(i,t,t[2],null);let l=[{class:o=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=M("div"),r&&r.c(),fe(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),n=!0},p(s,[u]){r&&r.p&&(!n||u&4)&&be(r,i,s,s[2],n?_e(i,s[2],u,null):ve(s[2]),null),fe(e,a=we(l,[(!n||u&1&&o!==(o=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:o},u&2&&s[1]]))},i(s){n||(y(r,s),n=!0)},o(s){C(r,s),n=!1},d(s){s&&T(e),r&&r.d(s)}}}function Lb(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Ee(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(2,l=s.$$scope)},[a,i,l,r]}class Cl extends pe{constructor(e){super(),me(this,e,Lb,$b,de,{class:0})}}function Db(t){let e,o,n;const i=t[3].default,r=ge(i,t,t[2],null);let l=[{class:o=Fe("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=M("div"),r&&r.c(),fe(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),n=!0},p(s,[u]){r&&r.p&&(!n||u&4)&&be(r,i,s,s[2],n?_e(i,s[2],u,null):ve(s[2]),null),fe(e,a=we(l,[(!n||u&1&&o!==(o=Fe("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:o},u&2&&s[1]]))},i(s){n||(y(r,s),n=!0)},o(s){C(r,s),n=!1},d(s){s&&T(e),r&&r.d(s)}}}function jb(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Ee(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(2,l=s.$$scope)},[a,i,l,r]}class Tc extends pe{constructor(e){super(),me(this,e,jb,Db,de,{class:0})}}function Fb(t){let e,o;const n=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new Zg({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&15?we(n,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&it(r[3])]):{};e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function Bb(t,e,o){const n=["class","transition","transitionConfig"];let i=ue(e,n),{class:r=void 0}=e,{transition:l=Ei}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Q(Q({},e),Ee(s)),o(3,i=ue(e,n)),"class"in s&&o(0,r=s.class),"transition"in s&&o(1,l=s.transition),"transitionConfig"in s&&o(2,a=s.transitionConfig)},[r,l,a,i]}class qb extends pe{constructor(e){super(),me(this,e,Bb,Fb,de,{class:0,transition:1,transitionConfig:2})}}function Gb(t){let e;const o=t[4].default,n=ge(o,t,t[5],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&32)&&be(n,o,i,i[5],e?_e(o,i[5],r,null):ve(i[5]),null)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function Hb(t){let e,o,n,i;e=new qb({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:Fe("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[Gb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return n=new Gg({props:l}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(a,s){W(e,a,s),I(a,o,s),W(n,a,s),i=!0},p(a,s){const u=s&15?we(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:Fe("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",a[2])},s&8&&it(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),n.$set(u)},i(a){i||(y(e.$$.fragment,a),y(n.$$.fragment,a),i=!0)},o(a){C(e.$$.fragment,a),C(n.$$.fragment,a),i=!1},d(a){a&&T(o),Y(e,a),Y(n,a)}}}function xb(t){let e,o;return e=new Rb({props:{$$slots:{default:[Hb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Vb(t,e,o){const n=["transition","transitionConfig","class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{transition:a=uo}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=Q(Q({},e),Ee(f)),o(3,i=ue(e,n)),"transition"in f&&o(0,a=f.transition),"transitionConfig"in f&&o(1,s=f.transitionConfig),"class"in f&&o(2,u=f.class),"$$scope"in f&&o(5,l=f.$$scope)},[a,s,u,i,r,l]}class Sl extends pe{constructor(e){super(),me(this,e,Vb,xb,de,{transition:0,transitionConfig:1,class:2})}}function Wb(t){let e;const o=t[2].default,n=ge(o,t,t[3],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&8)&&be(n,o,i,i[3],e?_e(o,i[3],r,null):ve(i[3]),null)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function Yb(t){let e,o;const n=[{class:Fe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Wb]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new i_({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&3?we(n,[l&1&&{class:Fe("text-sm text-muted-foreground",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function Ub(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Ee(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(3,l=s.$$scope)},[a,i,r,l]}class Ic extends pe{constructor(e){super(),me(this,e,Ub,Yb,de,{class:0})}}const Al=Qh;function Kb(t){let e;const o=t[5].default,n=ge(o,t,t[6],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&64)&&be(n,o,i,i[6],e?_e(o,i[6],r,null):ve(i[6]),null)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function Jb(t){let e,o;const n=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:Fe("z-[1000] overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",t[0])},t[4]];let i={$$slots:{default:[Kb]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new O1({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&31?we(n,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:Fe("z-[1000] overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",r[0])},l&16&&it(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function Xb(t,e,o){const n=["class","sideOffset","transition","transitionConfig"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=16}=e,{transition:u=uo}=e,{transitionConfig:f={y:6,duration:100}}=e;return t.$$set=c=>{e=Q(Q({},e),Ee(c)),o(4,i=ue(e,n)),"class"in c&&o(0,a=c.class),"sideOffset"in c&&o(1,s=c.sideOffset),"transition"in c&&o(2,u=c.transition),"transitionConfig"in c&&o(3,f=c.transitionConfig),"$$scope"in c&&o(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class ho extends pe{constructor(e){super(),me(this,e,Xb,Jb,de,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const go=p1,_o=D1;function Zb(t){let e=(t[4].length>0?t[4]:"Why are you hovering here?")+"",o;return{c(){o=K(e)},m(n,i){I(n,o,i)},p(n,i){i&16&&e!==(e=(n[4].length>0?n[4]:"Why are you hovering here?")+"")&&ce(o,e)},d(n){n&&T(o)}}}function Qb(t){let e,o;return{c(){e=M("div"),o=K(t[0])},m(n,i){I(n,e,i),b(e,o)},p(n,i){i&1&&ce(o,n[0])},d(n){n&&T(e)}}}function zb(t){let e,o;return e=new Ot({props:{class:`text-sm flex flex-col py-1.5 
        opacity-`+t[3]+" "+(t[3]<100?"hover:opacity-40":"")+` 
        rounded-xl cursor-pointer transition-all duration-150 
        filter hover:brightness-110
        `+t[2],$$slots:{default:[Qb]},$$scope:{ctx:t}}}),e.$on("click",function(){Lt(t[1])&&t[1].apply(this,arguments)}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){t=n;const r={};i&12&&(r.class=`text-sm flex flex-col py-1.5 
        opacity-`+t[3]+" "+(t[3]<100?"hover:opacity-40":"")+` 
        rounded-xl cursor-pointer transition-all duration-150 
        filter hover:brightness-110
        `+t[2]),i&33&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function ev(t){let e,o,n,i;return e=new ho({props:{$$slots:{default:[Zb]},$$scope:{ctx:t}}}),n=new _o({props:{class:"flex flex-col",$$slots:{default:[zb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),I(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&48&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&47&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),C(n.$$.fragment,r),i=!1},d(r){r&&T(o),Y(e,r),Y(n,r)}}}function tv(t){let e,o;return e=new go({props:{openDelay:t[4].length>0?200:999999,closeDelay:0,$$slots:{default:[ev]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,[i]){const r={};i&16&&(r.openDelay=n[4].length>0?200:999999),i&63&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function nv(t,e,o){let{text:n}=e,{onOpen:i}=e,{styling:r="bg-accent text-accentText"}=e,{opacity:l=100}=e,{onHoverText:a=""}=e;return t.$$set=s=>{"text"in s&&o(0,n=s.text),"onOpen"in s&&o(1,i=s.onOpen),"styling"in s&&o(2,r=s.styling),"opacity"in s&&o(3,l=s.opacity),"onHoverText"in s&&o(4,a=s.onHoverText)},[n,i,r,l,a]}class At extends pe{constructor(e){super(),me(this,e,nv,tv,de,{text:0,onOpen:1,styling:2,opacity:3,onHoverText:4})}}function ba(t,e,o){const n=t.slice();return n[29]=e[o],n}function va(t,e,o){const n=t.slice();return n[32]=e[o],n[34]=o,n}function ov(t){let e;return{c(){e=K("Pause")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function iv(t){let e,o;return e=new nn({props:{class:"text-3xl font-semibold text-accentText",$$slots:{default:[ov]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[1]&16&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function ya(t){let e,o,n=t[32].townInfo.name+"",i,r,l,a=t[32].environment.day+"",s,u,f=st(t[32].townInfo.gold,!1)+"",c,d,m=st(t[32].townInfo.population_count,!1)+"",h,g,p,w,v,S;function j(){return t[17](t[34])}return{c(){e=M("li"),o=M("span"),i=K(n),r=G(),l=M("span"),s=K(a),u=K(" days, "),c=K(f),d=K(" gold, "),h=K(m),g=K(`
                  population`),p=G(),$(o,"class","before:content-['🏠'] before:mr-2"),$(l,"class","text-xs opacity-70 font-mono"),$(e,"class",w="text-sm rounded-sm p-2 flex flex-col "+(t[34]==t[2].selectedGame?"bg-darkerAccent text-accentText cursor-not-allowed":"hover:bg-white hover:text-black cursor-pointer "))},m(D,F){I(D,e,F),b(e,o),b(o,i),b(e,r),b(e,l),b(l,s),b(l,u),b(l,c),b(l,d),b(l,h),b(l,g),b(e,p),v||(S=ee(e,"click",j),v=!0)},p(D,F){t=D,F[0]&2&&n!==(n=t[32].townInfo.name+"")&&ce(i,n),F[0]&2&&a!==(a=t[32].environment.day+"")&&ce(s,a),F[0]&2&&f!==(f=st(t[32].townInfo.gold,!1)+"")&&ce(c,f),F[0]&2&&m!==(m=st(t[32].townInfo.population_count,!1)+"")&&ce(h,m),F[0]&4&&w!==(w="text-sm rounded-sm p-2 flex flex-col "+(t[34]==t[2].selectedGame?"bg-darkerAccent text-accentText cursor-not-allowed":"hover:bg-white hover:text-black cursor-pointer "))&&$(e,"class",w)},d(D){D&&T(e),v=!1,S()}}}function wa(t){let e,o;return e=new At({props:{styling:"bg-black opacity-50 w-min",text:"🔄 New mock town",onOpen:t[21]}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[0]&8&&(r.onOpen=n[21]),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function rv(t){let e,o,n,i,r,l,a,s,u,f,c=He(t[0]),d=[];for(let h=0;h<c.length;h+=1)d[h]=Ca(ba(t,c,h));const m=h=>C(d[h],1,1,()=>{d[h]=null});return{c(){e=M("div"),o=M("h4"),o.textContent=`Achievements (${t[6].length}
              / ${ct.length})`,n=G(),i=M("span"),i.textContent=`Track your progress through towns & complete challenges! Rewards
              for completing achievements can be applied to the current town.`,r=G(),l=M("br"),a=G(),s=M("div"),u=M("div");for(let h=0;h<d.length;h+=1)d[h].c();$(o,"class","underline underline-offset-4"),$(i,"class","text-sm text-gray-400"),$(u,"class","flex flex-col gap-4 overflow-scroll pb-10 scroll-smooth"),$(s,"class","overflow-scroll mt-2 h-[60vh]"),$(e,"class","flex-grow")},m(h,g){I(h,e,g),b(e,o),b(e,n),b(e,i),b(e,r),b(e,l),b(e,a),b(e,s),b(s,u);for(let p=0;p<d.length;p+=1)d[p]&&d[p].m(u,null);f=!0},p(h,g){if(g[0]&4993){c=He(h[0]);let p;for(p=0;p<c.length;p+=1){const w=ba(h,c,p);d[p]?(d[p].p(w,g),y(d[p],1)):(d[p]=Ca(w),d[p].c(),y(d[p],1),d[p].m(u,null))}for(Ie(),p=c.length;p<d.length;p+=1)m(p);Me()}},i(h){if(!f){for(let g=0;g<c.length;g+=1)y(d[g]);f=!0}},o(h){d=d.filter(Boolean);for(let g=0;g<d.length;g+=1)C(d[g]);f=!1},d(h){h&&T(e),nt(d,h)}}}function ka(t){let e,o;function n(){return t[22](t[29])}return e=new At({props:{text:`💰 Collect Prize: $${st(t[29].prize)} gold`,styling:"bg-yellow-300 text-black",onOpen:n}}),{c(){U(e.$$.fragment)},m(i,r){W(e,i,r),o=!0},p(i,r){t=i;const l={};r[0]&1&&(l.text=`💰 Collect Prize: $${st(t[29].prize)} gold`),r[0]&1&&(l.onOpen=n),e.$set(l)},i(i){o||(y(e.$$.fragment,i),o=!0)},o(i){C(e.$$.fragment,i),o=!1},d(i){Y(e,i)}}}function Ca(t){let e,o,n,i,r,l,a=t[29].icon+"",s,u,f=t[29].title+"",c,d,m,h=t[29].requirements+"",g,p,w,v=t[29].description+"",S,j,D,F,P=t[7](t[29].id)+"",N,R,q,O=t[12](t[29].id)&&!t[8](t[29].id),k,A,E,B=O&&ka(t);return{c(){e=M("div"),o=M("div"),n=M("div"),i=M("span"),r=M("div"),l=M("span"),s=K(a),u=G(),c=K(f),d=G(),m=M("div"),g=K(h),p=G(),w=M("div"),S=K(v),j=G(),D=M("div"),F=K("✅ Completed on Day "),N=K(P),q=G(),B&&B.c(),k=G(),$(l,"class","font-semibold text-sm text-nowrap"),$(m,"class","font-thin opacity-75 text-xs text-wrap max-w-[50%]"),$(r,"class","flex flex-row w-[100%] justify-between gap-6 "),$(i,"class","flex flex-row w-[100%]"),$(n,"class","min-w-32 flex"),$(w,"class","opacity-85 text-xs font-light"),$(D,"class",R="pb-2 "+(t[12](t[29].id)?"":"hidden")+" text-xs text-green-400"),$(o,"class","flex-col flex px-3 py-2 gap-1"),$(e,"class",A="flex flex-col gap-3 cursor-default rounded-xl "+(t[12](t[29].id)?"bg-green-700 text-accentText":"bg-gray-500 opacity-35"))},m(L,J){I(L,e,J),b(e,o),b(o,n),b(n,i),b(i,r),b(r,l),b(l,s),b(l,u),b(l,c),b(r,d),b(r,m),b(m,g),b(o,p),b(o,w),b(w,S),b(o,j),b(o,D),b(D,F),b(D,N),b(o,q),B&&B.m(o,null),b(e,k),E=!0},p(L,J){(!E||J[0]&1)&&a!==(a=L[29].icon+"")&&ce(s,a),(!E||J[0]&1)&&f!==(f=L[29].title+"")&&ce(c,f),(!E||J[0]&1)&&h!==(h=L[29].requirements+"")&&ce(g,h),(!E||J[0]&1)&&v!==(v=L[29].description+"")&&ce(S,v),(!E||J[0]&1)&&P!==(P=L[7](L[29].id)+"")&&ce(N,P),(!E||J[0]&1&&R!==(R="pb-2 "+(L[12](L[29].id)?"":"hidden")+" text-xs text-green-400"))&&$(D,"class",R),J[0]&1&&(O=L[12](L[29].id)&&!L[8](L[29].id)),O?B?(B.p(L,J),J[0]&1&&y(B,1)):(B=ka(L),B.c(),y(B,1),B.m(o,null)):B&&(Ie(),C(B,1,1,()=>{B=null}),Me()),(!E||J[0]&1&&A!==(A="flex flex-col gap-3 cursor-default rounded-xl "+(L[12](L[29].id)?"bg-green-700 text-accentText":"bg-gray-500 opacity-35")))&&$(e,"class",A)},i(L){E||(y(B),E=!0)},o(L){C(B),E=!1},d(L){L&&T(e),B&&B.d()}}}function lv(t){let e,o,n,i,r,l,a,s,u,f,c,d,m,h,g,p,w,v,S,j,D,F=t[3].gameSettings.includes("devMode"),P,N,R=localStorage.getItem($t)==null,q;e=new on({props:{$$slots:{default:[iv]},$$scope:{ctx:t}}});let O=He(t[1]),k=[];for(let B=0;B<O.length;B+=1)k[B]=ya(va(t,O,B));c=new At({props:{styling:"font-bold hover:brightness-110 hover:bg-sidebarBackground hover:text-black w-min",text:"+ Build new town",onOpen:t[14]}}),h=new At({props:{styling:"bg-gray-500",text:"💾 Save town file",onOpen:t[10]}}),p=new At({props:{text:"📤 Load town file",styling:"bg-gray-500",onOpen:t[18]}}),v=new At({props:{text:"📲 Share town",styling:"bg-gray-500",onOpen:t[19]}}),j=new At({props:{text:"❌ Delete current town",styling:"bg-red-800",onOpen:t[20]}});let A=F&&wa(t),E=R&&rv(t);return{c(){U(e.$$.fragment),o=G(),n=M("div"),i=M("div"),r=M("div"),l=M("div"),l.textContent="Switch towns",a=G(),s=M("ul");for(let B=0;B<k.length;B+=1)k[B].c();u=G(),f=M("div"),U(c.$$.fragment),d=G(),m=M("div"),U(h.$$.fragment),g=G(),U(p.$$.fragment),w=G(),U(v.$$.fragment),S=G(),U(j.$$.fragment),D=G(),A&&A.c(),P=G(),N=M("div"),E&&E.c(),$(l,"class","text-sm pb-2"),$(s,"class","flex flex-col gap-0"),$(f,"class","flex flex-row justify-end pt-2"),$(r,"class","flex flex-col bg-accent rounded-md p-2 pt-3"),$(m,"class","flex flex-row flex-wrap gap-3"),$(i,"class","flex flex-col flex-grow max-h-[80%] justify-between"),$(N,"class","flex flex-col gap-6 justify-between"),$(n,"class","flex flex-row w-full gap-10 justify-between")},m(B,L){W(e,B,L),I(B,o,L),I(B,n,L),b(n,i),b(i,r),b(r,l),b(r,a),b(r,s);for(let J=0;J<k.length;J+=1)k[J]&&k[J].m(s,null);b(r,u),b(r,f),W(c,f,null),b(i,d),b(i,m),W(h,m,null),b(m,g),W(p,m,null),b(m,w),W(v,m,null),b(m,S),W(j,m,null),b(m,D),A&&A.m(m,null),b(n,P),b(n,N),E&&E.m(N,null),q=!0},p(B,L){const J={};if(L[1]&16&&(J.$$scope={dirty:L,ctx:B}),e.$set(J),L[0]&6){O=He(B[1]);let X;for(X=0;X<O.length;X+=1){const ne=va(B,O,X);k[X]?k[X].p(ne,L):(k[X]=ya(ne),k[X].c(),k[X].m(s,null))}for(;X<k.length;X+=1)k[X].d(1);k.length=O.length}const z={};L[0]&4&&(z.onOpen=B[20]),j.$set(z),L[0]&8&&(F=B[3].gameSettings.includes("devMode")),F?A?(A.p(B,L),L[0]&8&&y(A,1)):(A=wa(B),A.c(),y(A,1),A.m(m,null)):A&&(Ie(),C(A,1,1,()=>{A=null}),Me()),R&&E.p(B,L)},i(B){q||(y(e.$$.fragment,B),y(c.$$.fragment,B),y(h.$$.fragment,B),y(p.$$.fragment,B),y(v.$$.fragment,B),y(j.$$.fragment,B),y(A),y(E),q=!0)},o(B){C(e.$$.fragment,B),C(c.$$.fragment,B),C(h.$$.fragment,B),C(p.$$.fragment,B),C(v.$$.fragment,B),C(j.$$.fragment,B),C(A),C(E),q=!1},d(B){B&&(T(o),T(n)),Y(e,B),nt(k,B),Y(c),Y(h),Y(p),Y(v),Y(j),A&&A.d(),E&&E.d()}}}function sv(t){let e,o;return e=new rn({props:{class:"max-w-[75%] max-h-[100%] flex flex-col justify-between bg-popupBackground text-accentText overflow-scroll",$$slots:{default:[lv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[0]&15|i[1]&16&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function av(t){var n;let e=((n=t[13]())==null?void 0:n.title)+"",o;return{c(){o=K(e)},m(i,r){I(i,o,r)},p:Te,d(i){i&&T(o)}}}function uv(t){let e,o,n,i;return{c(){var r,l,a;e=M("div"),o=M("div"),o.textContent=`${(r=t[13]())==null?void 0:r.icon}`,n=G(),i=M("div"),i.textContent=`${(l=t[13]())==null?void 0:l.description} ${(a=t[13]())==null?void 0:a.requirements}`,$(o,"class","absolute top-4 left-4 text-5xl"),$(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),$(e,"class","flex flex-row align-middle justify-evenly px-6 py-2")},m(r,l){I(r,e,l),b(e,o),b(e,n),b(e,i)},p:Te,d(r){r&&T(e)}}}function fv(t){let e,o,n,i;return e=new vc({props:{class:"text-center text-lg font-bold",$$slots:{default:[av]},$$scope:{ctx:t}}}),n=new Ic({props:{$$slots:{default:[uv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),I(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l[1]&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&16&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),C(n.$$.fragment,r),i=!1},d(r){r&&T(o),Y(e,r),Y(n,r)}}}function cv(t){let e;return{c(){e=K("Close to collect prize")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function dv(t){let e,o;return e=new Ob({props:{$$slots:{default:[cv]},$$scope:{ctx:t}}}),e.$on("click",t[24]),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[1]&16&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function mv(t){let e,o,n,i;return e=new Tc({props:{$$slots:{default:[fv]},$$scope:{ctx:t}}}),n=new Cl({props:{$$slots:{default:[dv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),I(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l[1]&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&32|l[1]&16&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),C(n.$$.fragment,r),i=!1},d(r){r&&T(o),Y(e,r),Y(n,r)}}}function pv(t){let e,o;return e=new Sl({props:{$$slots:{default:[mv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[0]&32|i[1]&16&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function hv(t){let e,o,n,i,r;function l(s){t[23](s)}let a={$$slots:{default:[sv]},$$scope:{ctx:t}};return t[4]!==void 0&&(a.open=t[4]),e=new ln({props:a}),Ne.push(()=>Wt(e,"open",l)),i=new Al({props:{open:t[5],$$slots:{default:[pv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=G(),U(i.$$.fragment)},m(s,u){W(e,s,u),I(s,n,u),W(i,s,u),r=!0},p(s,u){const f={};u[0]&15|u[1]&16&&(f.$$scope={dirty:u,ctx:s}),!o&&u[0]&16&&(o=!0,f.open=s[4],Ht(()=>o=!1)),e.$set(f);const c={};u[0]&32&&(c.open=s[5]),u[0]&32|u[1]&16&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(y(e.$$.fragment,s),y(i.$$.fragment,s),r=!0)},o(s){C(e.$$.fragment,s),C(i.$$.fragment,s),r=!1},d(s){s&&T(n),Y(e,s),Y(i,s)}}}function gv(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function _v(t,e,o){let n,i,r,l,a;se(t,Rt,A=>o(2,n=A)),se(t,Oe,A=>o(3,i=A)),se(t,Tt,A=>o(4,r=A)),se(t,Vl,A=>o(16,l=A)),se(t,Si,A=>o(5,a=A)),fn[i.endGoal],$f[i.difficulty],ct.sort((A,E)=>p(A.id)&&!p(E.id)?-1:!p(A.id)&&p(E.id)?1:0);const u=ct.filter(A=>p(A.id));function f(A){const E=n.achievements.find(B=>B[0]==A);return E==null?0:`${E[1]} in ${E[2]}.`}function c(A){const E=n.achievements.find(B=>B[0]==A);return E==null?!1:E[3]}function d(A){const E=n.achievements.find(L=>L[0]==A);if(E==null)return;const B=ct.find(L=>L.id==A);B!=null&&(Ae(Oe,i.townInfo.gold+=B.prize,i),E[3]=!0,Ae(Rt,n.achievements=n.achievements.map(L=>L[0]==A?E:L),n))}let m=ct;function h(){const A=JSON.stringify(i),E=new Blob([A],{type:"text/plain"}),B=URL.createObjectURL(E),L=document.createElement("a");L.href=B,L.download=`${new Date().toISOString()}.json`,document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(B)}function g(A){const E=A.target.files;if(E==null)return;const B=E[0],L=new FileReader;L.onload=function(J){if(J.target==null)return;const z=J.target.result;if(typeof z=="string"){if(!gv(z)){It.set("Invalid game file");return}jr(JSON.parse(z))}else It.set("Invalid game file: is not String.")},L.readAsText(B)}function p(A){return n.achievements==null?!1:n.achievements.find(E=>E[0]==A)!=null}function w(){Vl.update(A=>!A),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Dm.set("game"));function v(){const A=n.achievements[n.achievements.length-1];if(A!=null)return ct.find(E=>E.id==A[0])}function S(){Ae(Tt,r=!0,r),localStorage.setItem("reset","true"),Ae(Oe,i=null,i),localStorage.removeItem(ot),jr()}let j=[];const D=A=>{xl(A,n)},F=()=>{const A=document.createElement("input");A.type="file",A.onchange=E=>g(E),A.click()},P=async()=>{const A=await wf();navigator.clipboard.writeText(A),alert("Copied to clipboard")},N=async()=>{let A={...n};A.games.splice(n.selectedGame,1),console.log(A),localStorage.setItem(et,JSON.stringify(A)),Rt.set(A),xl(0,A)},R=()=>{Nm(i)},q=A=>{d(A.id);const E=document.getElementById(`collectPrize-${A.id}`);E&&(E.style.display="none")};function O(A){r=A,Tt.set(r)}const k=()=>{Ae(Si,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&65545&&i)if(l)o(0,m=ct);else{o(0,m=[]);for(let A=0;A<ct.length;A++)(!p(ct[A].id)||!c(ct[A].id))&&m.push(ct[A])}if(t.$$.dirty[0]&6){o(1,j=[]);for(let A=0;A<n.games.length;A++)j.push(JSON.parse(n.games[A]))}},[m,j,n,i,r,a,u,f,c,d,h,g,p,v,S,w,l,D,F,P,N,R,q,O,k]}class bv extends pe{constructor(e){super(),me(this,e,_v,hv,de,{toggleShowCompleted:15},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[15]}}function Sa(t,e,o){const n=t.slice();return n[5]=e[o],n}function vv(t){let e;return{c(){e=K("🚨 Plot Disabled Warning")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function yv(t){let e,o;return e=new nn({props:{class:"text-xl font-semibold",$$slots:{default:[vv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&256&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Aa(t){let e,o=t[5]+"",n;return{c(){e=M("li"),n=K(o)},m(i,r){I(i,e,r),b(e,n)},p(i,r){r&1&&o!==(o=i[5]+"")&&ce(n,o)},d(i){i&&T(e)}}}function wv(t){let e;return{c(){e=K("Bulldoze")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function kv(t){let e,o=t[0].plotCost+"",n,i;return{c(){e=K("Snooze ("),n=K(o),i=K(" gold)")},m(r,l){I(r,e,l),I(r,n,l),I(r,i,l)},p(r,l){l&1&&o!==(o=r[0].plotCost+"")&&ce(n,o)},d(r){r&&(T(e),T(n),T(i))}}}function Cv(t){let e,o,n,i;return e=new Ot({props:{variant:"destructive",$$slots:{default:[wv]},$$scope:{ctx:t}}}),e.$on("click",t[3]),n=new Ot({props:{variant:"default",disabled:t[1].townInfo.gold<t[0].plotCost,$$slots:{default:[kv]},$$scope:{ctx:t}}}),n.$on("click",t[2]),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),I(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&3&&(s.disabled=r[1].townInfo.gold<r[0].plotCost),l&257&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),C(n.$$.fragment,r),i=!1},d(r){r&&T(o),Y(e,r),Y(n,r)}}}function Sv(t){let e,o,n,i,r,l=t[0].plotName+"",a,s,u=t[0].location+"",f,c,d,m,h,g,p,w,v,S,j,D,F,P,N,R,q=t[0].plotCost+"",O,k,A,E,B;e=new on({props:{class:"p-4 border-b border-accent/20",$$slots:{default:[yv]},$$scope:{ctx:t}}});let L=He(t[0].missingResources),J=[];for(let z=0;z<L.length;z+=1)J[z]=Aa(Sa(t,L,z));return E=new bn({props:{class:"p-4 border-t border-accent/20 flex justify-end gap-2",$$slots:{default:[Cv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),n=M("div"),i=M("p"),r=K("Your "),a=K(l),s=G(),f=K(u),c=K(" is about to be disabled!"),d=G(),m=M("div"),h=M("p"),h.textContent="Missing Resources:",g=G(),p=M("ul");for(let z=0;z<J.length;z+=1)J[z].c();w=G(),v=M("div"),S=M("p"),S.textContent="You have two options:",j=G(),D=M("ol"),F=M("li"),F.textContent="Bulldoze the plot (free)",P=G(),N=M("li"),R=K("Snooze for 30 days (costs "),O=K(q),k=K(" gold)"),A=G(),U(E.$$.fragment),$(h,"class","font-semibold"),$(p,"class","list-disc list-inside"),$(m,"class","bg-red-500/10 p-3 rounded-md"),$(D,"class","list-decimal list-inside"),$(v,"class","bg-accent/10 p-3 rounded-md"),$(n,"class","p-4 space-y-4")},m(z,X){W(e,z,X),I(z,o,X),I(z,n,X),b(n,i),b(i,r),b(i,a),b(i,s),b(i,f),b(i,c),b(n,d),b(n,m),b(m,h),b(m,g),b(m,p);for(let ne=0;ne<J.length;ne+=1)J[ne]&&J[ne].m(p,null);b(n,w),b(n,v),b(v,S),b(v,j),b(v,D),b(D,F),b(D,P),b(D,N),b(N,R),b(N,O),b(N,k),I(z,A,X),W(E,z,X),B=!0},p(z,X){const ne={};if(X&256&&(ne.$$scope={dirty:X,ctx:z}),e.$set(ne),(!B||X&1)&&l!==(l=z[0].plotName+"")&&ce(a,l),(!B||X&1)&&u!==(u=z[0].location+"")&&ce(f,u),X&1){L=He(z[0].missingResources);let te;for(te=0;te<L.length;te+=1){const ye=Sa(z,L,te);J[te]?J[te].p(ye,X):(J[te]=Aa(ye),J[te].c(),J[te].m(p,null))}for(;te<J.length;te+=1)J[te].d(1);J.length=L.length}(!B||X&1)&&q!==(q=z[0].plotCost+"")&&ce(O,q);const Z={};X&259&&(Z.$$scope={dirty:X,ctx:z}),E.$set(Z)},i(z){B||(y(e.$$.fragment,z),y(E.$$.fragment,z),B=!0)},o(z){C(e.$$.fragment,z),C(E.$$.fragment,z),B=!1},d(z){z&&(T(o),T(n),T(A)),Y(e,z),nt(J,z),Y(E,z)}}}function Av(t){let e,o;return e=new rn({props:{transition:uo,class:"bg-sidebarBackground text-sidebarText max-w-md rounded-md shadow-xl border border-accent",$$slots:{default:[Sv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Tv(t){let e,o,n;function i(l){t[4](l)}let r={$$slots:{default:[Av]},$$scope:{ctx:t}};return t[0].visible!==void 0&&(r.open=t[0].visible),e=new ln({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!o&&a&1&&(o=!0,s.open=l[0].visible,Ht(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function Iv(t,e,o){let n,i;se(t,Ft,s=>o(0,n=s)),se(t,Oe,s=>o(1,i=s));function r(){i.townInfo.gold>=n.plotCost&&(Ae(Oe,i.townInfo.gold-=n.plotCost,i),Ae(Oe,i.plots[n.x][n.y].snoozedUntil=i.environment.day+10,i),Ae(Oe,i.plots[n.x][n.y].disabled=!1,i)),Ae(Ft,n.visible=!1,n)}function l(){console.log("x:",n.x),console.log("y:",n.y),eo(n.x,n.y,i),Ae(Ft,n.visible=!1,n)}function a(s){t.$$.not_equal(n.visible,s)&&(n.visible=s,Ft.set(n))}return[n,i,r,l,a]}class Mv extends pe{constructor(e){super(),me(this,e,Iv,Tv,de,{})}}function Ov(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function Nv(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",o;return{c(){o=K(e)},m(n,i){I(n,o,i)},p(n,i){i&1&&e!==(e=n[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&ce(o,e)},d(n){n&&T(o)}}}function Pv(t){let e;return{c(){e=K("Keep playin'")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function Ev(t){let e,o=t[0].endGameDetails.msg+"",n,i,r,l,a,s,u,f;return u=new Ot({props:{class:"bg-accent",$$slots:{default:[Pv]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=M("span"),n=K(o),i=G(),r=M("br"),l=G(),a=M("br"),s=G(),U(u.$$.fragment),$(e,"class","text-gray-500 text-sm")},m(c,d){I(c,e,d),b(e,n),I(c,i,d),I(c,r,d),I(c,l,d),I(c,a,d),I(c,s,d),W(u,c,d),f=!0},p(c,d){(!f||d&1)&&o!==(o=c[0].endGameDetails.msg+"")&&ce(n,o);const m={};d&16&&(m.$$scope={dirty:d,ctx:c}),u.$set(m)},i(c){f||(y(u.$$.fragment,c),f=!0)},o(c){C(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(i),T(r),T(l),T(a),T(s)),Y(u,c)}}}function Rv(t){let e,o,n,i;return e=new nn({props:{$$slots:{default:[Nv]},$$scope:{ctx:t}}}),n=new Fn({props:{$$slots:{default:[Ev]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),I(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),C(n.$$.fragment,r),i=!1},d(r){r&&T(o),Y(e,r),Y(n,r)}}}function $v(t){let e;return{c(){e=M("span"),e.textContent="Reset the game by pressing P and clicking New Game",$(e,"class","text-gray-500 text-sm")},m(o,n){I(o,e,n)},p:Te,d(o){o&&T(e)}}}function Lv(t){let e,o,n,i;return e=new on({props:{$$slots:{default:[Rv]},$$scope:{ctx:t}}}),n=new bn({props:{$$slots:{default:[$v]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),I(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),C(n.$$.fragment,r),i=!1},d(r){r&&T(o),Y(e,r),Y(n,r)}}}function Dv(t){let e,o;return e=new rn({props:{class:"bg-foregroundDark text-accentText",$$slots:{default:[Lv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function jv(t){let e,o,n;function i(l){t[3](l)}let r={$$slots:{default:[Dv]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new ln({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!o&&a&2&&(o=!0,s.open=l[1],Ht(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function Fv(t,e,o){let n;se(t,Oe,a=>o(0,n=a));let i=!1;function r(){let a=n;a.overtime=!0,Oe.set(a),o(1,i=!1),Tt.set(!1)}function l(a){i=a,o(1,i),o(0,n)}return t.$$.update=()=>{t.$$.dirty&1&&(n.endGameDetails.msg!=""&&n.overtime==!1?o(1,i=!0):o(1,i=!1))},[n,i,r,l]}class Bv extends pe{constructor(e){super(),me(this,e,Fv,jv,de,{})}}function qv(t){let e,o,n,i,r=[{class:o=Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=M("input"),fe(e,l)},m(a,s){I(a,e,s),e.autofocus&&e.focus(),hi(e,t[0]),n||(i=[ee(e,"input",t[17]),ee(e,"blur",t[3]),ee(e,"change",t[4]),ee(e,"click",t[5]),ee(e,"focus",t[6]),ee(e,"focusin",t[7]),ee(e,"focusout",t[8]),ee(e,"keydown",t[9]),ee(e,"keypress",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseover",t[12]),ee(e,"mouseenter",t[13]),ee(e,"mouseleave",t[14]),ee(e,"paste",t[15]),ee(e,"input",t[16])],n=!0)},p(a,[s]){fe(e,l=we(r,[s&2&&o!==(o=Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:o},s&4&&a[2]])),s&1&&e.value!==a[0]&&hi(e,a[0])},i:Te,o:Te,d(a){a&&T(e),n=!1,xe(i)}}}function Gv(t,e,o){const n=["class","value"];let i=ue(e,n),{class:r=void 0}=e,{value:l=void 0}=e;function a(F){re.call(this,t,F)}function s(F){re.call(this,t,F)}function u(F){re.call(this,t,F)}function f(F){re.call(this,t,F)}function c(F){re.call(this,t,F)}function d(F){re.call(this,t,F)}function m(F){re.call(this,t,F)}function h(F){re.call(this,t,F)}function g(F){re.call(this,t,F)}function p(F){re.call(this,t,F)}function w(F){re.call(this,t,F)}function v(F){re.call(this,t,F)}function S(F){re.call(this,t,F)}function j(F){re.call(this,t,F)}function D(){l=this.value,o(0,l)}return t.$$set=F=>{e=Q(Q({},e),Ee(F)),o(2,i=ue(e,n)),"class"in F&&o(1,r=F.class),"value"in F&&o(0,l=F.value)},[l,r,i,a,s,u,f,c,d,m,h,g,p,w,v,S,j,D]}class Hv extends pe{constructor(e){super(),me(this,e,Gv,qv,de,{class:1,value:0})}}function xv(t){let e;const o=t[2].default,n=ge(o,t,t[4],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&16)&&be(n,o,i,i[4],e?_e(o,i[4],r,null):ve(i[4]),null)},i(i){e||(y(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function Vv(t){let e,o;const n=[{class:Fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[xv]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new R0({props:i}),e.$on("mousedown",t[3]),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&3?we(n,[l&1&&{class:Fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&it(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function Wv(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){re.call(this,t,u)}return t.$$set=u=>{e=Q(Q({},e),Ee(u)),o(1,i=ue(e,n)),"class"in u&&o(0,a=u.class),"$$scope"in u&&o(4,l=u.$$scope)},[a,i,r,s,l]}class Sr extends pe{constructor(e){super(),me(this,e,Wv,Vv,de,{class:0})}}function Yv(t){let e;return{c(){e=K("Welcome to Plots!")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function Uv(t){let e;return{c(){e=M("a"),e.textContent="GitHub / Learn how to play",$(e,"href","https://github.com/josephrcox/plots#how-to-play"),$(e,"class","text-accent hover:text-accent/80 text-sm mb-4 hover:underline inline-block"),$(e,"target","_blank")},m(o,n){I(o,e,n)},p:Te,d(o){o&&T(e)}}}function Kv(t){let e,o,n,i;return e=new nn({props:{class:"text-2xl font-semibold",$$slots:{default:[Yv]},$$scope:{ctx:t}}}),n=new Fn({props:{$$slots:{default:[Uv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),I(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&256&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),C(n.$$.fragment,r),i=!1},d(r){r&&T(o),Y(e,r),Y(n,r)}}}function Jv(t){let e;return{c(){e=K("Game Mode")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function Xv(t){let e;return{c(){e=K("Town Name")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function Zv(t){let e;return{c(){e=K("Game Settings")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function Qv(t){let e;return{c(){e=K("Start game")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function zv(t){let e,o=t[1].username+"",n,i,r,l,a,s,u;return l=new Ot({props:{class:"bg-accent hover:bg-accent/80 text-white",$$slots:{default:[Qv]},$$scope:{ctx:t}}}),l.$on("click",t[3]),{c(){e=M("span"),n=K(o),i=G(),r=M("div"),U(l.$$.fragment),$(e,"class","text-xs text-sidebarText/50 hover:text-sidebarText cursor-pointer"),$(r,"class","space-x-2")},m(f,c){I(f,e,c),b(e,n),I(f,i,c),I(f,r,c),W(l,r,null),a=!0,s||(u=ee(e,"click",t[5]),s=!0)},p(f,c){(!a||c&2)&&o!==(o=f[1].username+"")&&ce(n,o);const d={};c&256&&(d.$$scope={dirty:c,ctx:f}),l.$set(d)},i(f){a||(y(l.$$.fragment,f),a=!0)},o(f){C(l.$$.fragment,f),a=!1},d(f){f&&(T(e),T(i),T(r)),Y(l),s=!1,u()}}}function ey(t){let e,o,n,i,r,l,a,s,u,f,c,d,m=(t[0]==="land"?fn.land.description_title:fn.free_play.description_title)+"",h,g,p,w,v,S,j,D,F,P,N,R,q,O,k,A,E,B,L,J,z,X;e=new on({props:{class:"p-4 border-b border-accent/20",$$slots:{default:[Kv]},$$scope:{ctx:t}}});let ne=oy;return l=new Sr({props:{for:"endGoal",class:"text-sm font-medium",$$slots:{default:[Jv]},$$scope:{ctx:t}}}),w=new Sr({props:{for:"townName",class:"text-sm font-medium",$$slots:{default:[Xv]},$$scope:{ctx:t}}}),S=new Hv({props:{id:"townName",class:"w-full p-2 rounded-md border border-accent/20 bg-sidebarBackground text-sidebarText focus:ring-2 focus:ring-accent/50",placeholder:"Will be randomized if left blank"}}),F=new Sr({props:{class:"text-sm font-medium",$$slots:{default:[Zv]},$$scope:{ctx:t}}}),L=new bn({props:{class:"p-4 border-t border-accent/20 flex justify-between items-center",$$slots:{default:[zv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),n=M("div"),i=G(),r=M("div"),U(l.$$.fragment),a=G(),s=M("select"),u=M("option"),u.textContent=`${fn.land.short_title}`,f=M("option"),f.textContent=`${fn.free_play.short_title}`,c=G(),d=M("p"),h=K(m),g=G(),p=M("div"),U(w.$$.fragment),v=G(),U(S.$$.fragment),j=G(),D=M("div"),U(F.$$.fragment),P=G(),N=M("div"),N.innerHTML='<input type="checkbox" id="devMode" class="svelte-1fiuyps"/>',R=G(),q=M("div"),q.innerHTML=`<input type="checkbox" id="tomPetty" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="tomPetty" class="text-sm">The &#39;Tom Petty&#39; mode: If your happiness or health reaches 0, you
            lose 50% of your gold and continue the game. You won&#39;t back down.</label>`,O=G(),k=M("div"),k.innerHTML=`<input type="checkbox" id="casual" checked="" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="casual" class="text-sm">Casual game: Faster and easier overall while exposing more of the
            game mechanics.</label>`,A=G(),E=M("div"),E.innerHTML='<input type="checkbox" id="bagOfHolding" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="bagOfHolding" class="text-sm">Bag of Holding: No resource cap or need to purchase stockpiles.</label>',B=G(),U(L.$$.fragment),u.__value="land",hi(u,u.__value),f.__value="free_play",hi(f,f.__value),$(s,"id","endGoal"),$(s,"class","w-full p-2 rounded-md border border-accent/20 bg-sidebarBackground text-sidebarText focus:ring-2 focus:ring-accent/50"),$(d,"class","text-sm text-sidebarText/80 mt-1"),$(r,"class","space-y-2"),$(p,"class","space-y-2"),$(N,"class","hidden"),$(q,"class","flex items-start space-x-2"),$(k,"class","flex items-start space-x-2"),$(E,"class","flex items-start space-x-2"),$(D,"class","space-y-4"),$(n,"class","p-4 space-y-4")},m(Z,te){W(e,Z,te),I(Z,o,te),I(Z,n,te),b(n,i),b(n,r),W(l,r,null),b(r,a),b(r,s),b(s,u),b(s,f),Dl(s,t[0]),b(r,c),b(r,d),b(d,h),b(n,g),b(n,p),W(w,p,null),b(p,v),W(S,p,null),b(n,j),b(n,D),W(F,D,null),b(D,P),b(D,N),b(D,R),b(D,q),b(D,O),b(D,k),b(D,A),b(D,E),I(Z,B,te),W(L,Z,te),J=!0,z||(X=ee(s,"change",t[4]),z=!0)},p(Z,te){const ye={};te&256&&(ye.$$scope={dirty:te,ctx:Z}),e.$set(ye);const ae={};te&256&&(ae.$$scope={dirty:te,ctx:Z}),l.$set(ae),(!J||te&1)&&Dl(s,Z[0]),(!J||te&1)&&m!==(m=(Z[0]==="land"?fn.land.description_title:fn.free_play.description_title)+"")&&ce(h,m);const ie={};te&256&&(ie.$$scope={dirty:te,ctx:Z}),w.$set(ie);const je={};te&256&&(je.$$scope={dirty:te,ctx:Z}),F.$set(je);const qe={};te&258&&(qe.$$scope={dirty:te,ctx:Z}),L.$set(qe)},i(Z){J||(y(e.$$.fragment,Z),y(ne),y(l.$$.fragment,Z),y(w.$$.fragment,Z),y(S.$$.fragment,Z),y(F.$$.fragment,Z),y(L.$$.fragment,Z),J=!0)},o(Z){C(e.$$.fragment,Z),C(ne),C(l.$$.fragment,Z),C(w.$$.fragment,Z),C(S.$$.fragment,Z),C(F.$$.fragment,Z),C(L.$$.fragment,Z),J=!1},d(Z){Z&&(T(o),T(n),T(B)),Y(e,Z),Y(l),Y(w),Y(S),Y(F),Y(L,Z),z=!1,X()}}}function ty(t){let e,o;return e=new rn({props:{transition:uo,class:"bg-sidebarBackground text-sidebarText max-w-xl rounded-md shadow-xl border border-accent",$$slots:{default:[ey]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function ny(t){let e,o,n;function i(l){t[6](l)}let r={$$slots:{default:[ty]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new ln({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!o&&a&4&&(o=!0,s.open=l[2].visible,Ht(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}const oy=!1;function iy(t,e,o){let n,i;se(t,Rt,f=>o(1,n=f)),se(t,Ro,f=>o(2,i=f)),Tt.set(!1);function r(){const f="1",c=document.getElementById("endGoal").value,d=document.getElementById("townName").value,h=["devMode","tomPetty","casual","bagOfHolding"].filter(w=>document.getElementById(w).checked);Em(f,c,d,h)}let l="free_play";const a=f=>{o(0,l=f.target.value)};function s(){const f=prompt("Enter new username");if(f){let c=n;c.username=f,Lm(c)}}function u(f){t.$$.not_equal(i.visible,f)&&(i.visible=f,Ro.set(i))}return[l,n,i,r,a,s,u]}class ry extends pe{constructor(e){super(),me(this,e,iy,ny,de,{})}}function ly(t){let e;return{c(){e=K("Scoreboard")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function sy(t){let e=t[1].description_title+"",o;return{c(){o=K(e)},m(n,i){I(n,o,i)},p:Te,d(n){n&&T(o)}}}function ay(t){let e,o,n,i;return e=new nn({props:{$$slots:{default:[ly]},$$scope:{ctx:t}}}),n=new Fn({props:{$$slots:{default:[sy]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),I(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),C(n.$$.fragment,r),i=!1},d(r){r&&T(o),Y(e,r),Y(n,r)}}}function uy(t){let e;return{c(){e=K("footer")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function fy(t){let e,o,n,i;return e=new on({props:{$$slots:{default:[ay]},$$scope:{ctx:t}}}),n=new bn({props:{$$slots:{default:[uy]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=K(`
		hi
		`),U(n.$$.fragment)},m(r,l){W(e,r,l),I(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),C(n.$$.fragment,r),i=!1},d(r){r&&T(o),Y(e,r),Y(n,r)}}}function cy(t){let e,o;return e=new rn({props:{$$slots:{default:[fy]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function dy(t){let e,o,n;function i(l){t[3](l)}let r={$$slots:{default:[cy]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new ln({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!o&&a&1&&(o=!0,s.open=l[0],Ht(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function my(t,e,o){let n,i;se(t,Oe,s=>o(2,n=s)),se(t,Ci,s=>o(0,i=s));const l=fn[n.endGoal];$f[n.difficulty];function a(s){i=s,Ci.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,n,a]}class py extends pe{constructor(e){super(),me(this,e,my,dy,de,{})}}function fi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hy(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Mc(t){let e,o,n;t.length!==2?(e=fi,o=(a,s)=>fi(t(a),s),n=(a,s)=>t(a)-s):(e=t===fi||t===hy?t:gy,o=t,n=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;o(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;o(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&n(a[c-1],s)>-n(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function gy(){return 0}function _y(t){return t===null?NaN:+t}const by=Mc(fi),vy=by.right;Mc(_y).center;const yy=Math.sqrt(50),wy=Math.sqrt(10),ky=Math.sqrt(2);function Ri(t,e,o){const n=(e-t)/Math.max(0,o),i=Math.floor(Math.log10(n)),r=n/Math.pow(10,i),l=r>=yy?10:r>=wy?5:r>=ky?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=o&&o<2?Ri(t,e,o*2):[a,s,u]}function Cy(t,e,o){if(e=+e,t=+t,o=+o,!(o>0))return[];if(t===e)return[t];const n=e<t,[i,r,l]=n?Ri(e,t,o):Ri(t,e,o);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(n)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function Yr(t,e,o){return e=+e,t=+t,o=+o,Ri(t,e,o)[2]}function Sy(t,e,o){e=+e,t=+t,o=+o;const n=e<t,i=n?Yr(e,t,o):Yr(t,e,o);return(n?-1:1)*(i<0?1/-i:i)}function Ay(t){return t}var Ar=1,Tr=2,Ur=3,Mo=4,Ta=1e-6;function Ty(t){return"translate("+t+",0)"}function Iy(t){return"translate(0,"+t+")"}function My(t){return e=>+t(e)}function Oy(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),o=>+t(o)+e}function Ny(){return!this.__axis}function Oc(t,e){var o=[],n=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Ar||t===Mo?-1:1,f=t===Mo||t===Tr?"x":"y",c=t===Ar||t===Ur?Ty:Iy;function d(m){var h=n??(e.ticks?e.ticks.apply(e,o):e.domain()),g=i??(e.tickFormat?e.tickFormat.apply(e,o):Ay),p=Math.max(r,0)+a,w=e.range(),v=+w[0]+s,S=+w[w.length-1]+s,j=(e.bandwidth?Oy:My)(e.copy(),s),D=m.selection?m.selection():m,F=D.selectAll(".domain").data([null]),P=D.selectAll(".tick").data(h,e).order(),N=P.exit(),R=P.enter().append("g").attr("class","tick"),q=P.select("line"),O=P.select("text");F=F.merge(F.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),P=P.merge(R),q=q.merge(R.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),O=O.merge(R.append("text").attr("fill","currentColor").attr(f,u*p).attr("dy",t===Ar?"0em":t===Ur?"0.71em":"0.32em")),m!==D&&(F=F.transition(m),P=P.transition(m),q=q.transition(m),O=O.transition(m),N=N.transition(m).attr("opacity",Ta).attr("transform",function(k){return isFinite(k=j(k))?c(k+s):this.getAttribute("transform")}),R.attr("opacity",Ta).attr("transform",function(k){var A=this.parentNode.__axis;return c((A&&isFinite(A=A(k))?A:j(k))+s)})),N.remove(),F.attr("d",t===Mo||t===Tr?l?"M"+u*l+","+v+"H"+s+"V"+S+"H"+u*l:"M"+s+","+v+"V"+S:l?"M"+v+","+u*l+"V"+s+"H"+S+"V"+u*l:"M"+v+","+s+"H"+S),P.attr("opacity",1).attr("transform",function(k){return c(j(k)+s)}),q.attr(f+"2",u*r),O.attr(f,u*p).text(g),D.filter(Ny).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Tr?"start":t===Mo?"end":"middle"),D.each(function(){this.__axis=j})}return d.scale=function(m){return arguments.length?(e=m,d):e},d.ticks=function(){return o=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(o=m==null?[]:Array.from(m),d):o.slice()},d.tickValues=function(m){return arguments.length?(n=m==null?null:Array.from(m),d):n&&n.slice()},d.tickFormat=function(m){return arguments.length?(i=m,d):i},d.tickSize=function(m){return arguments.length?(r=l=+m,d):r},d.tickSizeInner=function(m){return arguments.length?(r=+m,d):r},d.tickSizeOuter=function(m){return arguments.length?(l=+m,d):l},d.tickPadding=function(m){return arguments.length?(a=+m,d):a},d.offset=function(m){return arguments.length?(s=+m,d):s},d}function Py(t){return Oc(Ur,t)}function Ey(t){return Oc(Mo,t)}var Ry={value:()=>{}};function Nc(){for(var t=0,e=arguments.length,o={},n;t<e;++t){if(!(n=arguments[t]+"")||n in o||/[\s.]/.test(n))throw new Error("illegal type: "+n);o[n]=[]}return new ci(o)}function ci(t){this._=t}function $y(t,e){return t.trim().split(/^|\s+/).map(function(o){var n="",i=o.indexOf(".");if(i>=0&&(n=o.slice(i+1),o=o.slice(0,i)),o&&!e.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:n}})}ci.prototype=Nc.prototype={constructor:ci,on:function(t,e){var o=this._,n=$y(t+"",o),i,r=-1,l=n.length;if(arguments.length<2){for(;++r<l;)if((i=(t=n[r]).type)&&(i=Ly(o[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=n[r]).type)o[i]=Ia(o[i],t.name,e);else if(e==null)for(i in o)o[i]=Ia(o[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var o in e)t[o]=e[o].slice();return new ci(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var o=new Array(i),n=0,i,r;n<i;++n)o[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],n=0,i=r.length;n<i;++n)r[n].value.apply(e,o)},apply:function(t,e,o){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,r=n.length;i<r;++i)n[i].value.apply(e,o)}};function Ly(t,e){for(var o=0,n=t.length,i;o<n;++o)if((i=t[o]).name===e)return i.value}function Ia(t,e,o){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=Ry,t=t.slice(0,n).concat(t.slice(n+1));break}return o!=null&&t.push({name:e,value:o}),t}var Kr="http://www.w3.org/1999/xhtml";const Ma={svg:"http://www.w3.org/2000/svg",xhtml:Kr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function er(t){var e=t+="",o=e.indexOf(":");return o>=0&&(e=t.slice(0,o))!=="xmlns"&&(t=t.slice(o+1)),Ma.hasOwnProperty(e)?{space:Ma[e],local:t}:t}function Dy(t){return function(){var e=this.ownerDocument,o=this.namespaceURI;return o===Kr&&e.documentElement.namespaceURI===Kr?e.createElement(t):e.createElementNS(o,t)}}function jy(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Pc(t){var e=er(t);return(e.local?jy:Dy)(e)}function Fy(){}function Tl(t){return t==null?Fy:function(){return this.querySelector(t)}}function By(t){typeof t!="function"&&(t=Tl(t));for(var e=this._groups,o=e.length,n=new Array(o),i=0;i<o;++i)for(var r=e[i],l=r.length,a=n[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new Ct(n,this._parents)}function qy(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Gy(){return[]}function Ec(t){return t==null?Gy:function(){return this.querySelectorAll(t)}}function Hy(t){return function(){return qy(t.apply(this,arguments))}}function xy(t){typeof t=="function"?t=Hy(t):t=Ec(t);for(var e=this._groups,o=e.length,n=[],i=[],r=0;r<o;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(n.push(t.call(s,s.__data__,u,l)),i.push(s));return new Ct(n,i)}function Rc(t){return function(){return this.matches(t)}}function $c(t){return function(e){return e.matches(t)}}var Vy=Array.prototype.find;function Wy(t){return function(){return Vy.call(this.children,t)}}function Yy(){return this.firstElementChild}function Uy(t){return this.select(t==null?Yy:Wy(typeof t=="function"?t:$c(t)))}var Ky=Array.prototype.filter;function Jy(){return Array.from(this.children)}function Xy(t){return function(){return Ky.call(this.children,t)}}function Zy(t){return this.selectAll(t==null?Jy:Xy(typeof t=="function"?t:$c(t)))}function Qy(t){typeof t!="function"&&(t=Rc(t));for(var e=this._groups,o=e.length,n=new Array(o),i=0;i<o;++i)for(var r=e[i],l=r.length,a=n[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Ct(n,this._parents)}function Lc(t){return new Array(t.length)}function zy(){return new Ct(this._enter||this._groups.map(Lc),this._parents)}function $i(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}$i.prototype={constructor:$i,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ew(t){return function(){return t}}function tw(t,e,o,n,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],n[l]=a):o[l]=new $i(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function nw(t,e,o,n,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),m;for(a=0;a<f;++a)(s=e[a])&&(d[a]=m=l.call(s,s.__data__,a,e)+"",u.has(m)?i[a]=s:u.set(m,s));for(a=0;a<c;++a)m=l.call(t,r[a],a,r)+"",(s=u.get(m))?(n[a]=s,s.__data__=r[a],u.delete(m)):o[a]=new $i(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function ow(t){return t.__data__}function iw(t,e){if(!arguments.length)return Array.from(this,ow);var o=e?nw:tw,n=this._parents,i=this._groups;typeof t!="function"&&(t=ew(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=n[u],c=i[u],d=c.length,m=rw(t.call(f,f&&f.__data__,u,n)),h=m.length,g=a[u]=new Array(h),p=l[u]=new Array(h),w=s[u]=new Array(d);o(f,c,g,p,w,m,e);for(var v=0,S=0,j,D;v<h;++v)if(j=g[v]){for(v>=S&&(S=v+1);!(D=p[S])&&++S<h;);j._next=D||null}}return l=new Ct(l,n),l._enter=a,l._exit=s,l}function rw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function lw(){return new Ct(this._exit||this._groups.map(Lc),this._parents)}function sw(t,e,o){var n=this.enter(),i=this,r=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),o==null?r.remove():o(r),n&&i?n.merge(i).order():i}function aw(t){for(var e=t.selection?t.selection():t,o=this._groups,n=e._groups,i=o.length,r=n.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=o[s],f=n[s],c=u.length,d=a[s]=new Array(c),m,h=0;h<c;++h)(m=u[h]||f[h])&&(d[h]=m);for(;s<i;++s)a[s]=o[s];return new Ct(a,this._parents)}function uw(){for(var t=this._groups,e=-1,o=t.length;++e<o;)for(var n=t[e],i=n.length-1,r=n[i],l;--i>=0;)(l=n[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function fw(t){t||(t=cw);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var o=this._groups,n=o.length,i=new Array(n),r=0;r<n;++r){for(var l=o[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new Ct(i,this._parents).order()}function cw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function dw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function mw(){return Array.from(this)}function pw(){for(var t=this._groups,e=0,o=t.length;e<o;++e)for(var n=t[e],i=0,r=n.length;i<r;++i){var l=n[i];if(l)return l}return null}function hw(){let t=0;for(const e of this)++t;return t}function gw(){return!this.node()}function _w(t){for(var e=this._groups,o=0,n=e.length;o<n;++o)for(var i=e[o],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function bw(t){return function(){this.removeAttribute(t)}}function vw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function yw(t,e){return function(){this.setAttribute(t,e)}}function ww(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function kw(t,e){return function(){var o=e.apply(this,arguments);o==null?this.removeAttribute(t):this.setAttribute(t,o)}}function Cw(t,e){return function(){var o=e.apply(this,arguments);o==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,o)}}function Sw(t,e){var o=er(t);if(arguments.length<2){var n=this.node();return o.local?n.getAttributeNS(o.space,o.local):n.getAttribute(o)}return this.each((e==null?o.local?vw:bw:typeof e=="function"?o.local?Cw:kw:o.local?ww:yw)(o,e))}function Dc(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Aw(t){return function(){this.style.removeProperty(t)}}function Tw(t,e,o){return function(){this.style.setProperty(t,e,o)}}function Iw(t,e,o){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,o)}}function Mw(t,e,o){return arguments.length>1?this.each((e==null?Aw:typeof e=="function"?Iw:Tw)(t,e,o??"")):ro(this.node(),t)}function ro(t,e){return t.style.getPropertyValue(e)||Dc(t).getComputedStyle(t,null).getPropertyValue(e)}function Ow(t){return function(){delete this[t]}}function Nw(t,e){return function(){this[t]=e}}function Pw(t,e){return function(){var o=e.apply(this,arguments);o==null?delete this[t]:this[t]=o}}function Ew(t,e){return arguments.length>1?this.each((e==null?Ow:typeof e=="function"?Pw:Nw)(t,e)):this.node()[t]}function jc(t){return t.trim().split(/^|\s+/)}function Il(t){return t.classList||new Fc(t)}function Fc(t){this._node=t,this._names=jc(t.getAttribute("class")||"")}Fc.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Bc(t,e){for(var o=Il(t),n=-1,i=e.length;++n<i;)o.add(e[n])}function qc(t,e){for(var o=Il(t),n=-1,i=e.length;++n<i;)o.remove(e[n])}function Rw(t){return function(){Bc(this,t)}}function $w(t){return function(){qc(this,t)}}function Lw(t,e){return function(){(e.apply(this,arguments)?Bc:qc)(this,t)}}function Dw(t,e){var o=jc(t+"");if(arguments.length<2){for(var n=Il(this.node()),i=-1,r=o.length;++i<r;)if(!n.contains(o[i]))return!1;return!0}return this.each((typeof e=="function"?Lw:e?Rw:$w)(o,e))}function jw(){this.textContent=""}function Fw(t){return function(){this.textContent=t}}function Bw(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function qw(t){return arguments.length?this.each(t==null?jw:(typeof t=="function"?Bw:Fw)(t)):this.node().textContent}function Gw(){this.innerHTML=""}function Hw(t){return function(){this.innerHTML=t}}function xw(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Vw(t){return arguments.length?this.each(t==null?Gw:(typeof t=="function"?xw:Hw)(t)):this.node().innerHTML}function Ww(){this.nextSibling&&this.parentNode.appendChild(this)}function Yw(){return this.each(Ww)}function Uw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Kw(){return this.each(Uw)}function Jw(t){var e=typeof t=="function"?t:Pc(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Xw(){return null}function Zw(t,e){var o=typeof t=="function"?t:Pc(t),n=e==null?Xw:typeof e=="function"?e:Tl(e);return this.select(function(){return this.insertBefore(o.apply(this,arguments),n.apply(this,arguments)||null)})}function Qw(){var t=this.parentNode;t&&t.removeChild(this)}function zw(){return this.each(Qw)}function e2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function t2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function n2(t){return this.select(t?t2:e2)}function o2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function i2(t){return function(e){t.call(this,e,this.__data__)}}function r2(t){return t.trim().split(/^|\s+/).map(function(e){var o="",n=e.indexOf(".");return n>=0&&(o=e.slice(n+1),e=e.slice(0,n)),{type:e,name:o}})}function l2(t){return function(){var e=this.__on;if(e){for(var o=0,n=-1,i=e.length,r;o<i;++o)r=e[o],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++n]=r;++n?e.length=n:delete this.__on}}}function s2(t,e,o){return function(){var n=this.__on,i,r=i2(e);if(n){for(var l=0,a=n.length;l<a;++l)if((i=n[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=o),i.value=e;return}}this.addEventListener(t.type,r,o),i={type:t.type,name:t.name,value:e,listener:r,options:o},n?n.push(i):this.__on=[i]}}function a2(t,e,o){var n=r2(t+""),i,r=n.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=n[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?s2:l2,i=0;i<r;++i)this.each(a(n[i],e,o));return this}function Gc(t,e,o){var n=Dc(t),i=n.CustomEvent;typeof i=="function"?i=new i(e,o):(i=n.document.createEvent("Event"),o?(i.initEvent(e,o.bubbles,o.cancelable),i.detail=o.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function u2(t,e){return function(){return Gc(this,t,e)}}function f2(t,e){return function(){return Gc(this,t,e.apply(this,arguments))}}function c2(t,e){return this.each((typeof e=="function"?f2:u2)(t,e))}function*d2(){for(var t=this._groups,e=0,o=t.length;e<o;++e)for(var n=t[e],i=0,r=n.length,l;i<r;++i)(l=n[i])&&(yield l)}var Hc=[null];function Ct(t,e){this._groups=t,this._parents=e}function Ko(){return new Ct([[document.documentElement]],Hc)}function m2(){return this}Ct.prototype=Ko.prototype={constructor:Ct,select:By,selectAll:xy,selectChild:Uy,selectChildren:Zy,filter:Qy,data:iw,enter:zy,exit:lw,join:sw,merge:aw,selection:m2,order:uw,sort:fw,call:dw,nodes:mw,node:pw,size:hw,empty:gw,each:_w,attr:Sw,style:Mw,property:Ew,classed:Dw,text:qw,html:Vw,raise:Yw,lower:Kw,append:Jw,insert:Zw,remove:zw,clone:n2,datum:o2,on:a2,dispatch:c2,[Symbol.iterator]:d2};function p2(t){return typeof t=="string"?new Ct([[document.querySelector(t)]],[document.documentElement]):new Ct([[t]],Hc)}function Ml(t,e,o){t.prototype=e.prototype=o,o.constructor=t}function xc(t,e){var o=Object.create(t.prototype);for(var n in e)o[n]=e[n];return o}function Jo(){}var Go=.7,Li=1/Go,Qn="\\s*([+-]?\\d+)\\s*",Ho="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h2=/^#([0-9a-f]{3,8})$/,g2=new RegExp(`^rgb\\(${Qn},${Qn},${Qn}\\)$`),_2=new RegExp(`^rgb\\(${qt},${qt},${qt}\\)$`),b2=new RegExp(`^rgba\\(${Qn},${Qn},${Qn},${Ho}\\)$`),v2=new RegExp(`^rgba\\(${qt},${qt},${qt},${Ho}\\)$`),y2=new RegExp(`^hsl\\(${Ho},${qt},${qt}\\)$`),w2=new RegExp(`^hsla\\(${Ho},${qt},${qt},${Ho}\\)$`),Oa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ml(Jo,Rn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Na,formatHex:Na,formatHex8:k2,formatHsl:C2,formatRgb:Pa,toString:Pa});function Na(){return this.rgb().formatHex()}function k2(){return this.rgb().formatHex8()}function C2(){return Vc(this).formatHsl()}function Pa(){return this.rgb().formatRgb()}function Rn(t){var e,o;return t=(t+"").trim().toLowerCase(),(e=h2.exec(t))?(o=e[1].length,e=parseInt(e[1],16),o===6?Ea(e):o===3?new _t(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):o===8?ni(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):o===4?ni(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=g2.exec(t))?new _t(e[1],e[2],e[3],1):(e=_2.exec(t))?new _t(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=b2.exec(t))?ni(e[1],e[2],e[3],e[4]):(e=v2.exec(t))?ni(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=y2.exec(t))?La(e[1],e[2]/100,e[3]/100,1):(e=w2.exec(t))?La(e[1],e[2]/100,e[3]/100,e[4]):Oa.hasOwnProperty(t)?Ea(Oa[t]):t==="transparent"?new _t(NaN,NaN,NaN,0):null}function Ea(t){return new _t(t>>16&255,t>>8&255,t&255,1)}function ni(t,e,o,n){return n<=0&&(t=e=o=NaN),new _t(t,e,o,n)}function S2(t){return t instanceof Jo||(t=Rn(t)),t?(t=t.rgb(),new _t(t.r,t.g,t.b,t.opacity)):new _t}function Jr(t,e,o,n){return arguments.length===1?S2(t):new _t(t,e,o,n??1)}function _t(t,e,o,n){this.r=+t,this.g=+e,this.b=+o,this.opacity=+n}Ml(_t,Jr,xc(Jo,{brighter(t){return t=t==null?Li:Math.pow(Li,t),new _t(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Go:Math.pow(Go,t),new _t(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _t(Tn(this.r),Tn(this.g),Tn(this.b),Di(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ra,formatHex:Ra,formatHex8:A2,formatRgb:$a,toString:$a}));function Ra(){return`#${Cn(this.r)}${Cn(this.g)}${Cn(this.b)}`}function A2(){return`#${Cn(this.r)}${Cn(this.g)}${Cn(this.b)}${Cn((isNaN(this.opacity)?1:this.opacity)*255)}`}function $a(){const t=Di(this.opacity);return`${t===1?"rgb(":"rgba("}${Tn(this.r)}, ${Tn(this.g)}, ${Tn(this.b)}${t===1?")":`, ${t})`}`}function Di(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Tn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Cn(t){return t=Tn(t),(t<16?"0":"")+t.toString(16)}function La(t,e,o,n){return n<=0?t=e=o=NaN:o<=0||o>=1?t=e=NaN:e<=0&&(t=NaN),new Et(t,e,o,n)}function Vc(t){if(t instanceof Et)return new Et(t.h,t.s,t.l,t.opacity);if(t instanceof Jo||(t=Rn(t)),!t)return new Et;if(t instanceof Et)return t;t=t.rgb();var e=t.r/255,o=t.g/255,n=t.b/255,i=Math.min(e,o,n),r=Math.max(e,o,n),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(o-n)/a+(o<n)*6:o===r?l=(n-e)/a+2:l=(e-o)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new Et(l,a,s,t.opacity)}function T2(t,e,o,n){return arguments.length===1?Vc(t):new Et(t,e,o,n??1)}function Et(t,e,o,n){this.h=+t,this.s=+e,this.l=+o,this.opacity=+n}Ml(Et,T2,xc(Jo,{brighter(t){return t=t==null?Li:Math.pow(Li,t),new Et(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Go:Math.pow(Go,t),new Et(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,o=this.l,n=o+(o<.5?o:1-o)*e,i=2*o-n;return new _t(Ir(t>=240?t-240:t+120,i,n),Ir(t,i,n),Ir(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Et(Da(this.h),oi(this.s),oi(this.l),Di(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Di(this.opacity);return`${t===1?"hsl(":"hsla("}${Da(this.h)}, ${oi(this.s)*100}%, ${oi(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Da(t){return t=(t||0)%360,t<0?t+360:t}function oi(t){return Math.max(0,Math.min(1,t||0))}function Ir(t,e,o){return(t<60?e+(o-e)*t/60:t<180?o:t<240?e+(o-e)*(240-t)/60:e)*255}const Ol=t=>()=>t;function I2(t,e){return function(o){return t+o*e}}function M2(t,e,o){return t=Math.pow(t,o),e=Math.pow(e,o)-t,o=1/o,function(n){return Math.pow(t+n*e,o)}}function O2(t){return(t=+t)==1?Wc:function(e,o){return o-e?M2(e,o,t):Ol(isNaN(e)?o:e)}}function Wc(t,e){var o=e-t;return o?I2(t,o):Ol(isNaN(t)?e:t)}const ji=function t(e){var o=O2(e);function n(i,r){var l=o((i=Jr(i)).r,(r=Jr(r)).r),a=o(i.g,r.g),s=o(i.b,r.b),u=Wc(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return n.gamma=t,n}(1);function N2(t,e){e||(e=[]);var o=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(r){for(i=0;i<o;++i)n[i]=t[i]*(1-r)+e[i]*r;return n}}function P2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function E2(t,e){var o=e?e.length:0,n=t?Math.min(o,t.length):0,i=new Array(n),r=new Array(o),l;for(l=0;l<n;++l)i[l]=Nl(t[l],e[l]);for(;l<o;++l)r[l]=e[l];return function(a){for(l=0;l<n;++l)r[l]=i[l](a);return r}}function R2(t,e){var o=new Date;return t=+t,e=+e,function(n){return o.setTime(t*(1-n)+e*n),o}}function Pt(t,e){return t=+t,e=+e,function(o){return t*(1-o)+e*o}}function $2(t,e){var o={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?o[i]=Nl(t[i],e[i]):n[i]=e[i];return function(r){for(i in o)n[i]=o[i](r);return n}}var Xr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mr=new RegExp(Xr.source,"g");function L2(t){return function(){return t}}function D2(t){return function(e){return t(e)+""}}function Yc(t,e){var o=Xr.lastIndex=Mr.lastIndex=0,n,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(n=Xr.exec(t))&&(i=Mr.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[l]?a[l]+=r:a[++l]=r),(n=n[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Pt(n,i)})),o=Mr.lastIndex;return o<e.length&&(r=e.slice(o),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?D2(s[0].x):L2(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function Nl(t,e){var o=typeof e,n;return e==null||o==="boolean"?Ol(e):(o==="number"?Pt:o==="string"?(n=Rn(e))?(e=n,ji):Yc:e instanceof Rn?ji:e instanceof Date?R2:P2(e)?N2:Array.isArray(e)?E2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$2:Pt)(t,e)}function j2(t,e){return t=+t,e=+e,function(o){return Math.round(t*(1-o)+e*o)}}var ja=180/Math.PI,Zr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Uc(t,e,o,n,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*o+e*n)&&(o-=t*s,n-=e*s),(a=Math.sqrt(o*o+n*n))&&(o/=a,n/=a,s/=a),t*n<e*o&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*ja,skewX:Math.atan(s)*ja,scaleX:l,scaleY:a}}var ii;function F2(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Zr:Uc(e.a,e.b,e.c,e.d,e.e,e.f)}function B2(t){return t==null||(ii||(ii=document.createElementNS("http://www.w3.org/2000/svg","g")),ii.setAttribute("transform",t),!(t=ii.transform.baseVal.consolidate()))?Zr:(t=t.matrix,Uc(t.a,t.b,t.c,t.d,t.e,t.f))}function Kc(t,e,o,n){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,m,h){if(u!==c||f!==d){var g=m.push("translate(",null,e,null,o);h.push({i:g-4,x:Pt(u,c)},{i:g-2,x:Pt(f,d)})}else(c||d)&&m.push("translate("+c+e+d+o)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,n)-2,x:Pt(u,f)})):f&&c.push(i(c)+"rotate("+f+n)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,n)-2,x:Pt(u,f)}):f&&c.push(i(c)+"skewX("+f+n)}function s(u,f,c,d,m,h){if(u!==c||f!==d){var g=m.push(i(m)+"scale(",null,",",null,")");h.push({i:g-4,x:Pt(u,c)},{i:g-2,x:Pt(f,d)})}else(c!==1||d!==1)&&m.push(i(m)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(m){for(var h=-1,g=d.length,p;++h<g;)c[(p=d[h]).i]=p.x(m);return c.join("")}}}var q2=Kc(F2,"px, ","px)","deg)"),G2=Kc(B2,", ",")",")"),lo=0,Oo=0,Ao=0,Jc=1e3,Fi,No,Bi=0,$n=0,tr=0,xo=typeof performance=="object"&&performance.now?performance:Date,Xc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Pl(){return $n||(Xc(H2),$n=xo.now()+tr)}function H2(){$n=0}function qi(){this._call=this._time=this._next=null}qi.prototype=Zc.prototype={constructor:qi,restart:function(t,e,o){if(typeof t!="function")throw new TypeError("callback is not a function");o=(o==null?Pl():+o)+(e==null?0:+e),!this._next&&No!==this&&(No?No._next=this:Fi=this,No=this),this._call=t,this._time=o,Qr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qr())}};function Zc(t,e,o){var n=new qi;return n.restart(t,e,o),n}function x2(){Pl(),++lo;for(var t=Fi,e;t;)(e=$n-t._time)>=0&&t._call.call(void 0,e),t=t._next;--lo}function Fa(){$n=(Bi=xo.now())+tr,lo=Oo=0;try{x2()}finally{lo=0,W2(),$n=0}}function V2(){var t=xo.now(),e=t-Bi;e>Jc&&(tr-=e,Bi=t)}function W2(){for(var t,e=Fi,o,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(o=e._next,e._next=null,e=t?t._next=o:Fi=o);No=t,Qr(n)}function Qr(t){if(!lo){Oo&&(Oo=clearTimeout(Oo));var e=t-$n;e>24?(t<1/0&&(Oo=setTimeout(Fa,t-xo.now()-tr)),Ao&&(Ao=clearInterval(Ao))):(Ao||(Bi=xo.now(),Ao=setInterval(V2,Jc)),lo=1,Xc(Fa))}}function Ba(t,e,o){var n=new qi;return e=e==null?0:+e,n.restart(i=>{n.stop(),t(i+e)},e,o),n}var Y2=Nc("start","end","cancel","interrupt"),U2=[],Qc=0,qa=1,zr=2,di=3,Ga=4,el=5,mi=6;function nr(t,e,o,n,i,r){var l=t.__transition;if(!l)t.__transition={};else if(o in l)return;K2(t,o,{name:e,index:n,group:i,on:Y2,tween:U2,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Qc})}function El(t,e){var o=Dt(t,e);if(o.state>Qc)throw new Error("too late; already scheduled");return o}function Yt(t,e){var o=Dt(t,e);if(o.state>di)throw new Error("too late; already running");return o}function Dt(t,e){var o=t.__transition;if(!o||!(o=o[e]))throw new Error("transition not found");return o}function K2(t,e,o){var n=t.__transition,i;n[e]=o,o.timer=Zc(r,0,o.time);function r(u){o.state=qa,o.timer.restart(l,o.delay,o.time),o.delay<=u&&l(u-o.delay)}function l(u){var f,c,d,m;if(o.state!==qa)return s();for(f in n)if(m=n[f],m.name===o.name){if(m.state===di)return Ba(l);m.state===Ga?(m.state=mi,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete n[f]):+f<e&&(m.state=mi,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete n[f])}if(Ba(function(){o.state===di&&(o.state=Ga,o.timer.restart(a,o.delay,o.time),a(u))}),o.state=zr,o.on.call("start",t,t.__data__,o.index,o.group),o.state===zr){for(o.state=di,i=new Array(d=o.tween.length),f=0,c=-1;f<d;++f)(m=o.tween[f].value.call(t,t.__data__,o.index,o.group))&&(i[++c]=m);i.length=c+1}}function a(u){for(var f=u<o.duration?o.ease.call(null,u/o.duration):(o.timer.restart(s),o.state=el,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);o.state===el&&(o.on.call("end",t,t.__data__,o.index,o.group),s())}function s(){o.state=mi,o.timer.stop(),delete n[e];for(var u in n)return;delete t.__transition}}function J2(t,e){var o=t.__transition,n,i,r=!0,l;if(o){e=e==null?null:e+"";for(l in o){if((n=o[l]).name!==e){r=!1;continue}i=n.state>zr&&n.state<el,n.state=mi,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[l]}r&&delete t.__transition}}function X2(t){return this.each(function(){J2(this,t)})}function Z2(t,e){var o,n;return function(){var i=Yt(this,t),r=i.tween;if(r!==o){n=o=r;for(var l=0,a=n.length;l<a;++l)if(n[l].name===e){n=n.slice(),n.splice(l,1);break}}i.tween=n}}function Q2(t,e,o){var n,i;if(typeof o!="function")throw new Error;return function(){var r=Yt(this,t),l=r.tween;if(l!==n){i=(n=l).slice();for(var a={name:e,value:o},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function z2(t,e){var o=this._id;if(t+="",arguments.length<2){for(var n=Dt(this.node(),o).tween,i=0,r=n.length,l;i<r;++i)if((l=n[i]).name===t)return l.value;return null}return this.each((e==null?Z2:Q2)(o,t,e))}function Rl(t,e,o){var n=t._id;return t.each(function(){var i=Yt(this,n);(i.value||(i.value={}))[e]=o.apply(this,arguments)}),function(i){return Dt(i,n).value[e]}}function zc(t,e){var o;return(typeof e=="number"?Pt:e instanceof Rn?ji:(o=Rn(e))?(e=o,ji):Yc)(t,e)}function ek(t){return function(){this.removeAttribute(t)}}function tk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function nk(t,e,o){var n,i=o+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===n?r:r=e(n=l,o)}}function ok(t,e,o){var n,i=o+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===n?r:r=e(n=l,o)}}function ik(t,e,o){var n,i,r;return function(){var l,a=o(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===n&&s===i?r:(i=s,r=e(n=l,a)))}}function rk(t,e,o){var n,i,r;return function(){var l,a=o(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===n&&s===i?r:(i=s,r=e(n=l,a)))}}function lk(t,e){var o=er(t),n=o==="transform"?G2:zc;return this.attrTween(t,typeof e=="function"?(o.local?rk:ik)(o,n,Rl(this,"attr."+t,e)):e==null?(o.local?tk:ek)(o):(o.local?ok:nk)(o,n,e))}function sk(t,e){return function(o){this.setAttribute(t,e.call(this,o))}}function ak(t,e){return function(o){this.setAttributeNS(t.space,t.local,e.call(this,o))}}function uk(t,e){var o,n;function i(){var r=e.apply(this,arguments);return r!==n&&(o=(n=r)&&ak(t,r)),o}return i._value=e,i}function fk(t,e){var o,n;function i(){var r=e.apply(this,arguments);return r!==n&&(o=(n=r)&&sk(t,r)),o}return i._value=e,i}function ck(t,e){var o="attr."+t;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;var n=er(t);return this.tween(o,(n.local?uk:fk)(n,e))}function dk(t,e){return function(){El(this,t).delay=+e.apply(this,arguments)}}function mk(t,e){return e=+e,function(){El(this,t).delay=e}}function pk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?dk:mk)(e,t)):Dt(this.node(),e).delay}function hk(t,e){return function(){Yt(this,t).duration=+e.apply(this,arguments)}}function gk(t,e){return e=+e,function(){Yt(this,t).duration=e}}function _k(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?hk:gk)(e,t)):Dt(this.node(),e).duration}function bk(t,e){if(typeof e!="function")throw new Error;return function(){Yt(this,t).ease=e}}function vk(t){var e=this._id;return arguments.length?this.each(bk(e,t)):Dt(this.node(),e).ease}function yk(t,e){return function(){var o=e.apply(this,arguments);if(typeof o!="function")throw new Error;Yt(this,t).ease=o}}function wk(t){if(typeof t!="function")throw new Error;return this.each(yk(this._id,t))}function kk(t){typeof t!="function"&&(t=Rc(t));for(var e=this._groups,o=e.length,n=new Array(o),i=0;i<o;++i)for(var r=e[i],l=r.length,a=n[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new zt(n,this._parents,this._name,this._id)}function Ck(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,o=t._groups,n=e.length,i=o.length,r=Math.min(n,i),l=new Array(n),a=0;a<r;++a)for(var s=e[a],u=o[a],f=s.length,c=l[a]=new Array(f),d,m=0;m<f;++m)(d=s[m]||u[m])&&(c[m]=d);for(;a<n;++a)l[a]=e[a];return new zt(l,this._parents,this._name,this._id)}function Sk(t){return(t+"").trim().split(/^|\s+/).every(function(e){var o=e.indexOf(".");return o>=0&&(e=e.slice(0,o)),!e||e==="start"})}function Ak(t,e,o){var n,i,r=Sk(e)?El:Yt;return function(){var l=r(this,t),a=l.on;a!==n&&(i=(n=a).copy()).on(e,o),l.on=i}}function Tk(t,e){var o=this._id;return arguments.length<2?Dt(this.node(),o).on.on(t):this.each(Ak(o,t,e))}function Ik(t){return function(){var e=this.parentNode;for(var o in this.__transition)if(+o!==t)return;e&&e.removeChild(this)}}function Mk(){return this.on("end.remove",Ik(this._id))}function Ok(t){var e=this._name,o=this._id;typeof t!="function"&&(t=Tl(t));for(var n=this._groups,i=n.length,r=new Array(i),l=0;l<i;++l)for(var a=n[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,nr(u[d],e,o,d,u,Dt(f,o)));return new zt(r,this._parents,e,o)}function Nk(t){var e=this._name,o=this._id;typeof t!="function"&&(t=Ec(t));for(var n=this._groups,i=n.length,r=[],l=[],a=0;a<i;++a)for(var s=n[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),m,h=Dt(f,o),g=0,p=d.length;g<p;++g)(m=d[g])&&nr(m,e,o,g,d,h);r.push(d),l.push(f)}return new zt(r,l,e,o)}var Pk=Ko.prototype.constructor;function Ek(){return new Pk(this._groups,this._parents)}function Rk(t,e){var o,n,i;return function(){var r=ro(this,t),l=(this.style.removeProperty(t),ro(this,t));return r===l?null:r===o&&l===n?i:i=e(o=r,n=l)}}function ed(t){return function(){this.style.removeProperty(t)}}function $k(t,e,o){var n,i=o+"",r;return function(){var l=ro(this,t);return l===i?null:l===n?r:r=e(n=l,o)}}function Lk(t,e,o){var n,i,r;return function(){var l=ro(this,t),a=o(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),ro(this,t))),l===s?null:l===n&&s===i?r:(i=s,r=e(n=l,a))}}function Dk(t,e){var o,n,i,r="style."+e,l="end."+r,a;return function(){var s=Yt(this,t),u=s.on,f=s.value[r]==null?a||(a=ed(e)):void 0;(u!==o||i!==f)&&(n=(o=u).copy()).on(l,i=f),s.on=n}}function jk(t,e,o){var n=(t+="")=="transform"?q2:zc;return e==null?this.styleTween(t,Rk(t,n)).on("end.style."+t,ed(t)):typeof e=="function"?this.styleTween(t,Lk(t,n,Rl(this,"style."+t,e))).each(Dk(this._id,t)):this.styleTween(t,$k(t,n,e),o).on("end.style."+t,null)}function Fk(t,e,o){return function(n){this.style.setProperty(t,e.call(this,n),o)}}function Bk(t,e,o){var n,i;function r(){var l=e.apply(this,arguments);return l!==i&&(n=(i=l)&&Fk(t,l,o)),n}return r._value=e,r}function qk(t,e,o){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,Bk(t,e,o??""))}function Gk(t){return function(){this.textContent=t}}function Hk(t){return function(){var e=t(this);this.textContent=e??""}}function xk(t){return this.tween("text",typeof t=="function"?Hk(Rl(this,"text",t)):Gk(t==null?"":t+""))}function Vk(t){return function(e){this.textContent=t.call(this,e)}}function Wk(t){var e,o;function n(){var i=t.apply(this,arguments);return i!==o&&(e=(o=i)&&Vk(i)),e}return n._value=t,n}function Yk(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Wk(t))}function Uk(){for(var t=this._name,e=this._id,o=td(),n=this._groups,i=n.length,r=0;r<i;++r)for(var l=n[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=Dt(s,e);nr(s,t,o,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new zt(n,this._parents,t,o)}function Kk(){var t,e,o=this,n=o._id,i=o.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};o.each(function(){var u=Yt(this,n),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var Jk=0;function zt(t,e,o,n){this._groups=t,this._parents=e,this._name=o,this._id=n}function td(){return++Jk}var Kt=Ko.prototype;zt.prototype={constructor:zt,select:Ok,selectAll:Nk,selectChild:Kt.selectChild,selectChildren:Kt.selectChildren,filter:kk,merge:Ck,selection:Ek,transition:Uk,call:Kt.call,nodes:Kt.nodes,node:Kt.node,size:Kt.size,empty:Kt.empty,each:Kt.each,on:Tk,attr:lk,attrTween:ck,style:jk,styleTween:qk,text:xk,textTween:Yk,remove:Mk,tween:z2,delay:pk,duration:_k,ease:vk,easeVarying:wk,end:Kk,[Symbol.iterator]:Kt[Symbol.iterator]};function Xk(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Zk={time:null,delay:0,duration:250,ease:Xk};function Qk(t,e){for(var o;!(o=t.__transition)||!(o=o[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return o}function zk(t){var e,o;t instanceof zt?(e=t._id,t=t._name):(e=td(),(o=Zk).time=Pl(),t=t==null?null:t+"");for(var n=this._groups,i=n.length,r=0;r<i;++r)for(var l=n[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&nr(s,t,e,u,l,o||Qk(s,e));return new zt(n,this._parents,t,e)}Ko.prototype.interrupt=X2;Ko.prototype.transition=zk;const tl=Math.PI,nl=2*tl,yn=1e-6,e5=nl-yn;function nd(t){this._+=t[0];for(let e=1,o=t.length;e<o;++e)this._+=arguments[e]+t[e]}function t5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return nd;const o=10**e;return function(n){this._+=n[0];for(let i=1,r=n.length;i<r;++i)this._+=Math.round(arguments[i]*o)/o+n[i]}}class n5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?nd:t5(e)}moveTo(e,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+o}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,o){this._append`L${this._x1=+e},${this._y1=+o}`}quadraticCurveTo(e,o,n,i){this._append`Q${+e},${+o},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,o,n,i,r,l){this._append`C${+e},${+o},${+n},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,o,n,i,r){if(e=+e,o=+o,n=+n,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=n-e,u=i-o,f=l-e,c=a-o,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=o}`;else if(d>yn)if(!(Math.abs(c*s-u*f)>yn)||!r)this._append`L${this._x1=e},${this._y1=o}`;else{let m=n-l,h=i-a,g=s*s+u*u,p=m*m+h*h,w=Math.sqrt(g),v=Math.sqrt(d),S=r*Math.tan((tl-Math.acos((g+d-p)/(2*w*v)))/2),j=S/v,D=S/w;Math.abs(j-1)>yn&&this._append`L${e+j*f},${o+j*c}`,this._append`A${r},${r},0,0,${+(c*m>f*h)},${this._x1=e+D*s},${this._y1=o+D*u}`}}arc(e,o,n,i,r,l){if(e=+e,o=+o,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),s=n*Math.sin(i),u=e+a,f=o+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>yn||Math.abs(this._y1-f)>yn)&&this._append`L${u},${f}`,n&&(d<0&&(d=d%nl+nl),d>e5?this._append`A${n},${n},0,1,${c},${e-a},${o-s}A${n},${n},0,1,${c},${this._x1=u},${this._y1=f}`:d>yn&&this._append`A${n},${n},0,${+(d>=tl)},${c},${this._x1=e+n*Math.cos(r)},${this._y1=o+n*Math.sin(r)}`)}rect(e,o,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+o}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function o5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Gi(t,e){if((o=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var o,n=t.slice(0,o);return[n.length>1?n[0]+n.slice(2):n,+t.slice(o+1)]}function so(t){return t=Gi(Math.abs(t)),t?t[1]:NaN}function i5(t,e){return function(o,n){for(var i=o.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>n&&(a=Math.max(1,n-s)),r.push(o.substring(i-=a,i+a)),!((s+=a+1)>n));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function r5(t){return function(e){return e.replace(/[0-9]/g,function(o){return t[+o]})}}var l5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hi(t){if(!(e=l5.exec(t)))throw new Error("invalid format: "+t);var e;return new $l({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Hi.prototype=$l.prototype;function $l(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}$l.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function s5(t){e:for(var e=t.length,o=1,n=-1,i;o<e;++o)switch(t[o]){case".":n=i=o;break;case"0":n===0&&(n=o),i=o;break;default:if(!+t[o])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var od;function a5(t,e){var o=Gi(t,e);if(!o)return t+"";var n=o[0],i=o[1],r=i-(od=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return r===l?n:r>l?n+new Array(r-l+1).join("0"):r>0?n.slice(0,r)+"."+n.slice(r):"0."+new Array(1-r).join("0")+Gi(t,Math.max(0,e+r-1))[0]}function Ha(t,e){var o=Gi(t,e);if(!o)return t+"";var n=o[0],i=o[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const xa={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:o5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ha(t*100,e),r:Ha,s:a5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Va(t){return t}var Wa=Array.prototype.map,Ya=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function u5(t){var e=t.grouping===void 0||t.thousands===void 0?Va:i5(Wa.call(t.grouping,Number),t.thousands+""),o=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?Va:r5(Wa.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Hi(c);var d=c.fill,m=c.align,h=c.sign,g=c.symbol,p=c.zero,w=c.width,v=c.comma,S=c.precision,j=c.trim,D=c.type;D==="n"?(v=!0,D="g"):xa[D]||(S===void 0&&(S=12),j=!0,D="g"),(p||d==="0"&&m==="=")&&(p=!0,d="0",m="=");var F=g==="$"?o:g==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",P=g==="$"?n:/[%p]/.test(D)?l:"",N=xa[D],R=/[defgprs%]/.test(D);S=S===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function q(O){var k=F,A=P,E,B,L;if(D==="c")A=N(O)+A,O="";else{O=+O;var J=O<0||1/O<0;if(O=isNaN(O)?s:N(Math.abs(O),S),j&&(O=s5(O)),J&&+O==0&&h!=="+"&&(J=!1),k=(J?h==="("?h:a:h==="-"||h==="("?"":h)+k,A=(D==="s"?Ya[8+od/3]:"")+A+(J&&h==="("?")":""),R){for(E=-1,B=O.length;++E<B;)if(L=O.charCodeAt(E),48>L||L>57){A=(L===46?i+O.slice(E+1):O.slice(E))+A,O=O.slice(0,E);break}}}v&&!p&&(O=e(O,1/0));var z=k.length+O.length+A.length,X=z<w?new Array(w-z+1).join(d):"";switch(v&&p&&(O=e(X+O,X.length?w-A.length:1/0),X=""),m){case"<":O=k+O+A+X;break;case"=":O=k+X+O+A;break;case"^":O=X.slice(0,z=X.length>>1)+k+O+A+X.slice(z);break;default:O=X+k+O+A;break}return r(O)}return q.toString=function(){return c+""},q}function f(c,d){var m=u((c=Hi(c),c.type="f",c)),h=Math.max(-8,Math.min(8,Math.floor(so(d)/3)))*3,g=Math.pow(10,-h),p=Ya[8+h/3];return function(w){return m(g*w)+p}}return{format:u,formatPrefix:f}}var ri,id,rd;f5({thousands:",",grouping:[3],currency:["$",""]});function f5(t){return ri=u5(t),id=ri.format,rd=ri.formatPrefix,ri}function c5(t){return Math.max(0,-so(Math.abs(t)))}function d5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(so(e)/3)))*3-so(Math.abs(t)))}function m5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,so(e)-so(t))+1}function p5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function h5(t){return function(){return t}}function g5(t){return+t}var Ua=[0,1];function Yn(t){return t}function ol(t,e){return(e-=t=+t)?function(o){return(o-t)/e}:h5(isNaN(e)?NaN:.5)}function _5(t,e){var o;return t>e&&(o=t,t=e,e=o),function(n){return Math.max(t,Math.min(e,n))}}function b5(t,e,o){var n=t[0],i=t[1],r=e[0],l=e[1];return i<n?(n=ol(i,n),r=o(l,r)):(n=ol(n,i),r=o(r,l)),function(a){return r(n(a))}}function v5(t,e,o){var n=Math.min(t.length,e.length)-1,i=new Array(n),r=new Array(n),l=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<n;)i[l]=ol(t[l],t[l+1]),r[l]=o(e[l],e[l+1]);return function(a){var s=vy(t,a,1,n)-1;return r[s](i[s](a))}}function y5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function w5(){var t=Ua,e=Ua,o=Nl,n,i,r,l=Yn,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==Yn&&(l=_5(t[0],t[d-1])),a=d>2?v5:b5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(n),e,o)))(n(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(n),Pt)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,g5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),o=j2,f()},c.clamp=function(d){return arguments.length?(l=d?!0:Yn,f()):l!==Yn},c.interpolate=function(d){return arguments.length?(o=d,f()):o},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,m){return n=d,i=m,f()}}function k5(){return w5()(Yn,Yn)}function C5(t,e,o,n){var i=Sy(t,e,o),r;switch(n=Hi(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(r=d5(i,l))&&(n.precision=r),rd(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(r=m5(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=r-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(r=c5(i))&&(n.precision=r-(n.type==="%")*2);break}}return id(n)}function S5(t){var e=t.domain;return t.ticks=function(o){var n=e();return Cy(n[0],n[n.length-1],o??10)},t.tickFormat=function(o,n){var i=e();return C5(i[0],i[i.length-1],o??10,n)},t.nice=function(o){o==null&&(o=10);var n=e(),i=0,r=n.length-1,l=n[i],a=n[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=Yr(l,a,o),u===s)return n[i]=l,n[r]=a,e(n);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function il(){var t=k5();return t.copy=function(){return y5(t,il())},p5.apply(t,arguments),S5(t)}function xn(t){return function(){return t}}function A5(t){let e=3;return t.digits=function(o){if(!arguments.length)return e;if(o==null)e=null;else{const n=Math.floor(o);if(!(n>=0))throw new RangeError(`invalid digits: ${o}`);e=n}return t},()=>new n5(e)}function T5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ld(t){this._context=t}ld.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function I5(t){return new ld(t)}function M5(t){return t[0]}function O5(t){return t[1]}function Or(t,e){var o=xn(!0),n=null,i=I5,r=null,l=A5(a);t=typeof t=="function"?t:t===void 0?M5:xn(t),e=typeof e=="function"?e:e===void 0?O5:xn(e);function a(s){var u,f=(s=T5(s)).length,c,d=!1,m;for(n==null&&(r=i(m=l())),u=0;u<=f;++u)!(u<f&&o(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(m)return r=null,m+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:xn(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:xn(+s),a):e},a.defined=function(s){return arguments.length?(o=typeof s=="function"?s:xn(!!s),a):o},a.curve=function(s){return arguments.length?(i=s,n!=null&&(r=i(n)),a):i},a.context=function(s){return arguments.length?(s==null?n=r=null:r=i(n=s),a):n},a}function Po(t,e,o){this.k=t,this.x=e,this.y=o}Po.prototype={constructor:Po,scale:function(t){return t===1?this:new Po(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Po(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Po.prototype;function N5(t){let e;return{c(){e=Wi("svg"),$(e,"id","line-chart")},m(o,n){I(o,e,n)},p:Te,i:Te,o:Te,d(o){o&&T(e)}}}const Ka=52;function P5(t,e,o){let{data:n=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;Or().x((h,g)=>r(g)).y(h=>l(h)),Wo(()=>{o(1,i=p2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=il().range([0,s]),l=il().range([u,0]),n.length&&f()});function f(){const h=n.length>Ka?n.slice(-Ka):n;c(h),d(h),m()}function c(h){i.selectAll(".line").remove();const g=Or().defined(w=>w>-5).x((w,v)=>r(v)).y(w=>l(w)),p=Or().defined(w=>w<0).x((w,v)=>r(v)).y(w=>l(w));i.append("path").datum(h).attr("class","line positive").attr("d",g).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(h).attr("class","line negative").attr("d",p).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(h){const g=Math.max(0,...h),p=Math.min(0,...h);r.domain([0,h.length-1]),l.domain([p,g]).nice()}function m(h){const g=Py(r).ticks(0),p=Ey(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(g),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(p)}return t.$$set=h=>{"data"in h&&o(0,n=h.data)},t.$$.update=()=>{t.$$.dirty&3&&n&&i&&f()},[n,i]}class E5 extends pe{constructor(e){super(),me(this,e,P5,N5,de,{data:0})}}function R5(t){let e,o=t[1].townInfo.knowledge_points+"",n,i;return{c(){e=K("Manage your Knowledge ("),n=K(o),i=K(" pts)")},m(r,l){I(r,e,l),I(r,n,l),I(r,i,l)},p(r,l){l&2&&o!==(o=r[1].townInfo.knowledge_points+"")&&ce(n,o)},d(r){r&&(T(e),T(n),T(i))}}}function $5(t){let e,o,n,i;return e=new nn({props:{$$slots:{default:[R5]},$$scope:{ctx:t}}}),n=new Fn({}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),I(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&130&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),C(n.$$.fragment,r),i=!1},d(r){r&&T(o),Y(e,r),Y(n,r)}}}function Ja(t){let e,o,n=za(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=M("br"),o=K(`
          (total value: $`),i=K(n),r=K(")")},m(l,a){I(l,e,a),I(l,o,a),I(l,i,a),I(l,r,a)},p(l,a){a&10&&n!==(n=za(l[1].townInfo.knowledge_points*l[3])+"")&&ce(i,n)},d(l){l&&(T(e),T(o),T(i),T(r))}}}function Xa(t){let e;return{c(){e=M("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
          convert.`},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function Za(t){let e,o,n;return o=new Ot({props:{variant:"default",$$slots:{default:[L5]},$$scope:{ctx:t}}}),o.$on("click",t[0]),{c(){e=M("div"),U(o.$$.fragment)},m(i,r){I(i,e,r),W(o,e,null),n=!0},p(i,r){const l={};r&128&&(l.$$scope={dirty:r,ctx:i}),o.$set(l)},i(i){n||(y(o.$$.fragment,i),n=!0)},o(i){C(o.$$.fragment,i),n=!1},d(i){i&&T(e),Y(o)}}}function L5(t){let e;return{c(){e=K("Convert Knowledge to Gold")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function Qa(t){let e;return{c(){e=M("div"),e.textContent="You need a bank to convert knowledge to gold."},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function D5(t){let e,o,n,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,m,h,g,p,w,v,S,j,D;e=new on({props:{$$slots:{default:[$5]},$$scope:{ctx:t}}});let F=t[3]>0&&Ja(t);g=new E5({props:{data:t[2]}});let P=t[3]<0&&Xa(),N=t[1].hasBank&&t[3]>0&&Za(t),R=t[1].hasBank===!1&&Qa();return j=new bn({}),{c(){U(e.$$.fragment),o=G(),n=M("span"),n.textContent="Knowledge is power, unlock it!",i=G(),r=M("div"),l=M("div"),a=K("Market Rate: "),s=M("span"),f=K(u),c=K(" gold"),m=K(`
        per Knowledge Point
        `),F&&F.c(),h=G(),U(g.$$.fragment),p=G(),P&&P.c(),w=G(),N&&N.c(),v=G(),R&&R.c(),S=G(),U(j.$$.fragment),$(n,"class",""),$(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),$(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(q,O){W(e,q,O),I(q,o,O),I(q,n,O),I(q,i,O),I(q,r,O),b(r,l),b(l,a),b(l,s),b(s,f),b(s,c),b(l,m),F&&F.m(l,null),b(r,h),W(g,r,null),b(r,p),P&&P.m(r,null),b(r,w),N&&N.m(r,null),b(r,v),R&&R.m(r,null),I(q,S,O),W(j,q,O),D=!0},p(q,O){const k={};O&130&&(k.$$scope={dirty:O,ctx:q}),e.$set(k),(!D||O&8)&&u!==(u=(q[3]??0)+"")&&ce(f,u),(!D||O&8&&d!==(d=q[3]<0?"text-red-500":"text-green-500"))&&$(s,"class",d),q[3]>0?F?F.p(q,O):(F=Ja(q),F.c(),F.m(l,null)):F&&(F.d(1),F=null);const A={};O&4&&(A.data=q[2]),g.$set(A),q[3]<0?P||(P=Xa(),P.c(),P.m(r,w)):P&&(P.d(1),P=null),q[1].hasBank&&q[3]>0?N?(N.p(q,O),O&10&&y(N,1)):(N=Za(q),N.c(),y(N,1),N.m(r,v)):N&&(Ie(),C(N,1,1,()=>{N=null}),Me()),q[1].hasBank===!1?R||(R=Qa(),R.c(),R.m(r,null)):R&&(R.d(1),R=null)},i(q){D||(y(e.$$.fragment,q),y(g.$$.fragment,q),y(N),y(j.$$.fragment,q),D=!0)},o(q){C(e.$$.fragment,q),C(g.$$.fragment,q),C(N),C(j.$$.fragment,q),D=!1},d(q){q&&(T(o),T(n),T(i),T(r),T(S)),Y(e,q),F&&F.d(),Y(g),P&&P.d(),N&&N.d(),R&&R.d(),Y(j,q)}}}function j5(t){let e,o;return e=new rn({props:{transitionConfig:{duration:0},class:"bg-foreground text-accentText",$$slots:{default:[D5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&142&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function F5(t){let e,o,n;function i(l){t[5](l)}let r={$$slots:{default:[j5]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new ln({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&142&&(s.$$scope={dirty:a,ctx:l}),!o&&a&16&&(o=!0,s.open=l[4],Ht(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function za(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function B5(t,e,o){let n,i;se(t,Oe,u=>o(1,n=u)),se(t,to,u=>o(4,i=u));let r,l=0;function a(){let u=n;n.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,Oe.set(u),localStorage.setItem(ot,JSON.stringify(u))):It.set("You need a bank to convert knowledge to gold.")}function s(u){i=u,to.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&n&&(o(2,r=n.economyAndLaws.knowledge_gold_market_rates),o(3,l=n.economyAndLaws.knowledge_gold_market_rates[n.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,n,r,l,i,s]}class q5 extends pe{constructor(e){super(),me(this,e,B5,F5,de,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const G5=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier.
          Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
          `,cost:5e3,duration:180,effect:t=>(t.townInfo.happiness+=100,t)},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
           We don't really know what that means, but it seems to make people healthier.
          `,cost:8e3,duration:200,effect:t=>(t.townInfo.health+=180,t.townInfo.happiness+=25,t)},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.
          The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
          `,cost:3e3,duration:60,effect:t=>t},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab.
          She hopes nobody will miss it. Your town now has some more money.
          `,cost:15e3,duration:180,effect:t=>(t.townInfo.gold+=Math.floor(Math.random()*35e3),t)},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes.
          We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:t=>(t.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*t.economyAndLaws.max_tax_rate,t)},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach.
          We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:t=>t},{id:"tornado",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather experiment caused about half of the food supply to be sucked into a tornado.
  		The only positive seems to be that the town now knows what a tornado is, and that makes us a bit smarter as a whole.`,cost:7e3,duration:150,effect:t=>(t.townInfo.knowledge_points+=3e3,t.resources.food=Math.floor(t.resources.food/2),t)},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.
          Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:t=>(t.townInfo.gold+=1e4,eu("fishery",t),t)},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools.
          This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:t=>(eu("schoolhouse",t),t)},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took this experiments funding and applied the town for a grant to improve education.
          The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:25e3,duration:45,effect:t=>(t.townInfo.gold+=15e4,t)},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress.
  		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:t=>(t.townInfo.happiness+=75,t)}];function eu(t,e){let o=De(t,e);for(let n=0;n<o.length;n++)eo(o[n].x,o[n].y,e)}function H5(t){let e,o;const n=[{class:Fe("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new w_({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&15?we(n,[l&3&&{class:Fe("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&it(r[3])]):{};e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function x5(t,e,o){const n=["class","orientation","decorative"];let i=ue(e,n),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Ee(s)),o(3,i=ue(e,n)),"class"in s&&o(0,r=s.class),"orientation"in s&&o(1,l=s.orientation),"decorative"in s&&o(2,a=s.decorative)},[r,l,a,i]}class vt extends pe{constructor(e){super(),me(this,e,x5,H5,de,{class:0,orientation:1,decorative:2})}}function tu(t,e,o){const n=t.slice();return n[15]=e[o],n}function V5(t){let e,o=t[1].lab.active_experiment.title+"",n;return{c(){e=K("🎉 Experiment Completed: "),n=K(o)},m(i,r){I(i,e,r),I(i,n,r)},p(i,r){r&2&&o!==(o=i[1].lab.active_experiment.title+"")&&ce(n,o)},d(i){i&&(T(e),T(n))}}}function W5(t){let e,o=t[1].lab.active_experiment.description+"",n;return{c(){e=M("div"),n=K(o),$(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){I(i,e,r),b(e,n)},p(i,r){r&2&&o!==(o=i[1].lab.active_experiment.description+"")&&ce(n,o)},d(i){i&&T(e)}}}function Y5(t){let e,o,n,i;return e=new vc({props:{class:"text-center",$$slots:{default:[V5]},$$scope:{ctx:t}}}),n=new Ic({props:{$$slots:{default:[W5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),I(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),C(n.$$.fragment,r),i=!1},d(r){r&&T(o),Y(e,r),Y(n,r)}}}function U5(t){let e;return{c(){e=K("Thank the scientists")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function K5(t){let e,o;return e=new Ac({props:{$$slots:{default:[U5]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function J5(t){let e,o,n,i;return e=new Tc({props:{$$slots:{default:[Y5]},$$scope:{ctx:t}}}),n=new Cl({props:{$$slots:{default:[K5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),I(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262144&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),C(n.$$.fragment,r),i=!1},d(r){r&&T(o),Y(e,r),Y(n,r)}}}function X5(t){let e,o;return e=new Sl({props:{$$slots:{default:[J5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&262146&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Z5(t){let e;return{c(){e=M("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(o,n){I(o,e,n)},p:Te,d(o){o&&T(e)}}}function Q5(t){let e,o,n,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=M("span"),o=K("You have earned "),n=M("span"),r=K(i),l=K(" XP"),s=K(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),$(n,"class",a=t[1].lab.xp<0?"text-textDanger":"text-primaryText")},m(u,f){I(u,e,f),b(e,o),b(e,n),b(n,r),b(n,l),b(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&ce(r,i),f&2&&a!==(a=u[1].lab.xp<0?"text-textDanger":"text-primaryText")&&$(n,"class",a)},d(u){u&&T(e)}}}function z5(t){let e,o,n,i;return e=new nn({props:{$$slots:{default:[Z5]},$$scope:{ctx:t}}}),n=new Fn({props:{$$slots:{default:[Q5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),I(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&262144&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),C(n.$$.fragment,r),i=!1},d(r){r&&T(o),Y(e,r),Y(n,r)}}}function e3(t){let e;return{c(){e=K("No more experiments available")},m(o,n){I(o,e,n)},p:Te,i:Te,o:Te,d(o){o&&T(e)}}}function t3(t){let e,o,n,i,r=He(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=ou(tu(t,r,s));const a=s=>C(l[s],1,1,()=>{l[s]=null});return{c(){e=M("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,o=G(),n=M("div");for(let s=0;s<l.length;s+=1)l[s].c();$(e,"class","select-none text-sm "),$(n,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){I(s,e,u),I(s,o,u),I(s,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(n,null);i=!0},p(s,u){if(u&19){r=He(s[0]);let f;for(f=0;f<r.length;f+=1){const c=tu(s,r,f);l[f]?(l[f].p(c,u),y(l[f],1)):(l[f]=ou(c),l[f].c(),y(l[f],1),l[f].m(n,null))}for(Ie(),f=r.length;f<l.length;f+=1)a(f);Me()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)y(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)C(l[u]);i=!1},d(s){s&&(T(e),T(o),T(n)),nt(l,s)}}}function n3(t){let e,o=t[1].lab.active_experiment.duration+"",n,i,r,l,a=t[1].lab.active_experiment.duration===0&&iu(t);return{c(){e=K("Currently running an experiment... check back in "),n=K(o),i=K(` days.
      `),a&&a.c(),r=Re()},m(s,u){I(s,e,u),I(s,n,u),I(s,i,u),a&&a.m(s,u),I(s,r,u),l=!0},p(s,u){(!l||u&2)&&o!==(o=s[1].lab.active_experiment.duration+"")&&ce(n,o),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&y(a,1)):(a=iu(s),a.c(),y(a,1),a.m(r.parentNode,r)):a&&(Ie(),C(a,1,1,()=>{a=null}),Me())},i(s){l||(y(a),l=!0)},o(s){C(a),l=!1},d(s){s&&(T(e),T(n),T(i),T(r)),a&&a.d(s)}}}function nu(t){let e,o,n=t[15].id+"",i;return{c(){e=M("span"),o=K("// dev-"),i=K(n),$(e,"class","text-xs text-gray-400")},m(r,l){I(r,e,l),b(e,o),b(e,i)},p(r,l){l&1&&n!==(n=r[15].id+"")&&ce(i,n)},d(r){r&&T(e)}}}function o3(t){let e,o=ru(t[15].cost).split(".")[0]+"",n,i,r,l=t[1].devMode===!0&&nu(t);return{c(){e=K("$"),n=K(o),i=K(` gold

            `),l&&l.c(),r=G()},m(a,s){I(a,e,s),I(a,n,s),I(a,i,s),l&&l.m(a,s),I(a,r,s)},p(a,s){s&1&&o!==(o=ru(a[15].cost).split(".")[0]+"")&&ce(n,o),a[1].devMode===!0?l?l.p(a,s):(l=nu(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(T(e),T(n),T(i),T(r)),l&&l.d(a)}}}function ou(t){let e,o;function n(){return t[11](t[15])}return e=new Ot({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[o3]},$$scope:{ctx:t}}}),e.$on("click",n),{c(){U(e.$$.fragment)},m(i,r){W(e,i,r),o=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&262147&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){o||(y(e.$$.fragment,i),o=!0)},o(i){C(e.$$.fragment,i),o=!1},d(i){Y(e,i)}}}function iu(t){let e,o;return e=new Ot({props:{variant:"outline",$$slots:{default:[i3]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function i3(t){let e;return{c(){e=K("Complete experiment (and face the impact)")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function r3(t){let e;return{c(){e=M("span"),e.textContent="Keep in mind that not all experiments yield positive results.",$(e,"class","text-left text-textDanger")},m(o,n){I(o,e,n)},p:Te,d(o){o&&T(e)}}}function l3(t){let e,o,n,i,r,l,a,s,u,f,c;e=new on({props:{$$slots:{default:[z5]},$$scope:{ctx:t}}}),n=new vt({});const d=[n3,t3,e3],m=[];function h(g,p){return g[1].lab.active_experiment!==null?0:g[0].length>0?1:g[0].length===0?2:-1}return~(r=h(t))&&(l=m[r]=d[r](t)),s=new vt({props:{class:"mt-4"}}),f=new bn({props:{$$slots:{default:[r3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment),i=G(),l&&l.c(),a=G(),U(s.$$.fragment),u=G(),U(f.$$.fragment)},m(g,p){W(e,g,p),I(g,o,p),W(n,g,p),I(g,i,p),~r&&m[r].m(g,p),I(g,a,p),W(s,g,p),I(g,u,p),W(f,g,p),c=!0},p(g,p){const w={};p&262146&&(w.$$scope={dirty:p,ctx:g}),e.$set(w);let v=r;r=h(g),r===v?~r&&m[r].p(g,p):(l&&(Ie(),C(m[v],1,1,()=>{m[v]=null}),Me()),~r?(l=m[r],l?l.p(g,p):(l=m[r]=d[r](g),l.c()),y(l,1),l.m(a.parentNode,a)):l=null);const S={};p&262144&&(S.$$scope={dirty:p,ctx:g}),f.$set(S)},i(g){c||(y(e.$$.fragment,g),y(n.$$.fragment,g),y(l),y(s.$$.fragment,g),y(f.$$.fragment,g),c=!0)},o(g){C(e.$$.fragment,g),C(n.$$.fragment,g),C(l),C(s.$$.fragment,g),C(f.$$.fragment,g),c=!1},d(g){g&&(T(o),T(i),T(a),T(u)),Y(e,g),Y(n,g),~r&&m[r].d(g),Y(s,g),Y(f,g)}}}function s3(t){let e,o;return e=new rn({props:{class:"bg-foreground text-accentText",$$slots:{default:[l3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&262147&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function a3(t){let e,o,n,i,r;e=new Al({props:{open:t[2],$$slots:{default:[X5]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[s3]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),n=new ln({props:a}),Ne.push(()=>Wt(n,"open",l)),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(s,u){W(e,s,u),I(s,o,u),W(n,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&262146&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&262147&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],Ht(()=>i=!1)),n.$set(c)},i(s){r||(y(e.$$.fragment,s),y(n.$$.fragment,s),r=!0)},o(s){C(e.$$.fragment,s),C(n.$$.fragment,s),r=!1},d(s){s&&T(o),Y(e,s),Y(n,s)}}}function ru(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function u3(t,e,o){let n,i;se(t,Oe,v=>o(1,n=v)),se(t,Jn,v=>o(3,i=v));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let v=[],S=G5.filter(j=>!n.lab.past_experiments.some(D=>D.id===j.id));if(S.length===0)return[];for(let j=0;j<3;j++){let D=S[Math.floor(Math.random()*S.length)];D.cost=Math.floor(Math.random()*(D.cost*.35)+D.cost*.8),v.push(D)}return v=v.filter((j,D)=>v.indexOf(j)===D),v=v.filter(j=>j),o(8,u=!0),v}function c(v){if(n.townInfo.gold<v.cost){It.set("You do not have enough gold to purchase this experiment.");return}Ae(Oe,n.townInfo.gold-=v.cost,n),Ae(Oe,n.lab.active_experiment=v,n),n.lab.past_experiments.push(v)}function d(){Ae(Jn,i=!1,i),o(2,s=!0);let v=l.find(j=>j.id===n.lab.active_experiment.id),S=v!=null?v.effect(n):n;Ae(Oe,n=S,n),Ae(Oe,n.lab.active_experiment.duration=-1,n)}function m(){let v=n;v.lab.xp+=Math.round(v.lab.active_experiment.cost*(Math.random()*2+.5)),v.lab.active_experiment=null,o(2,s=!1),Ae(Oe,n=v,n)}const h=()=>{m()},g=()=>{d()},p=v=>{v.cost<n.townInfo.gold&&c(v)};function w(v){i=v,Jn.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(n?(a=!0,o(0,l=u==!1?f():l),(o(7,r=n.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&o(2,s=!0)):a=!1)},[l,n,s,i,c,d,m,r,u,h,g,p,w]}class f3 extends pe{constructor(e){super(),me(this,e,u3,a3,de,{})}}function c3(t){let e,o,n,i,r,l,a,s,u,f=t[0].townInfo.name+"",c,d,m,h,g,p,w,v=t[0].townInfo.population_count+"",S,j,D,F,P,N,R,q,O,k=Math.floor(t[0].environment.day/365)+1+"",A,E,B,L,J,z,X=Math.floor(t[0].environment.day/7)%52+1+"",ne,Z,te,ye,ae,ie=t[1]==0?"⏩ x1":t[1]==1?"⏩ x2":"⏩ x3",je,qe,Ue,rt,_;return o=new At({props:{text:"Pause",onOpen:t[6],styling:"fixed top-2 right-4 opacity-70 bg-gray-600"}}),D=new vt({props:{orientation:"vertical",class:"h-12 bg-gray-600 opacity-50 mx-4"}}),te=new vt({props:{orientation:"vertical",class:"h-12 bg-gray-600 opacity-50 mx-4"}}),{c(){e=M("div"),U(o.$$.fragment),n=G(),i=M("div"),r=M("div"),l=M("div"),a=M("div"),s=M("div"),u=M("div"),c=K(f),d=G(),m=M("div"),h=M("div"),g=M("div"),p=M("span"),w=K("👥 "),S=K(v),j=G(),U(D.$$.fragment),F=G(),P=M("div"),N=M("span"),R=M("span"),R.textContent="Year",q=G(),O=M("span"),A=K(k),E=G(),B=M("span"),L=M("span"),L.textContent="Week",J=G(),z=M("span"),ne=K(X),Z=G(),U(te.$$.fragment),ye=G(),ae=M("span"),je=K(ie),$(u,"class","cursor-pointer w-min whitespace-nowrap text-center select-none font-serif opacity-80"),$(s,"class","cursor-pointer flex flex-row justify-center text-center w-full"),$(a,"class","text-2xl flex flex-row items-center w-full text-center"),$(p,"class","text-sm text-left items-start justify-start w-min flex-nowrap text-nowrap"),$(R,"class","text-xs"),$(O,"class","font-semibold text-xs"),$(N,"class","flex flex-col"),$(L,"class","text-xs"),$(z,"class","font-semibold text-xs"),$(B,"class","flex flex-col"),$(P,"class","flex flex-row justify-start gap-6 align-middle"),$(ae,"class","cursor-pointer text-blue-200 noselect"),pt(ae,"text-blue-200",t[1]==0),pt(ae,"text-yellow-200",t[1]==1),pt(ae,"text-red-200",t[1]==2),$(g,"class","flex align-middle items-center text-accentText flex-row justify-between h-max "),$(h,"class","flex flex-col align-middle w-full justify-center items-center"),$(l,"class","flex flex-col gap-2 justify-center w-full "),$(r,"class","rounded-xl w-full"),$(i,"class","flex justify-between flex-col align-middle items-center w-full"),$(e,"id","header"),$(e,"class",qe="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-1 align-middle border-b-4 border-sidebarBackground "+(t[2].visible?"opacity-70":""))},m(H,V){I(H,e,V),W(o,e,null),b(e,n),b(e,i),b(i,r),b(r,l),b(l,a),b(a,s),b(s,u),b(u,c),b(l,d),b(l,m),b(m,h),b(h,g),b(g,p),b(p,w),b(p,S),b(g,j),W(D,g,null),b(g,F),b(g,P),b(P,N),b(N,R),b(N,q),b(N,O),b(O,A),b(P,E),b(P,B),b(B,L),b(B,J),b(B,z),b(z,ne),b(g,Z),W(te,g,null),b(g,ye),b(g,ae),b(ae,je),Ue=!0,rt||(_=[ee(u,"click",t[4]),ee(ae,"click",t[7])],rt=!0)},p(H,[V]){const le={};V&8&&(le.onOpen=H[6]),o.$set(le),(!Ue||V&1)&&f!==(f=H[0].townInfo.name+"")&&ce(c,f),(!Ue||V&1)&&v!==(v=H[0].townInfo.population_count+"")&&ce(S,v),(!Ue||V&1)&&k!==(k=Math.floor(H[0].environment.day/365)+1+"")&&ce(A,k),(!Ue||V&1)&&X!==(X=Math.floor(H[0].environment.day/7)%52+1+"")&&ce(ne,X),(!Ue||V&2)&&ie!==(ie=H[1]==0?"⏩ x1":H[1]==1?"⏩ x2":"⏩ x3")&&ce(je,ie),(!Ue||V&2)&&pt(ae,"text-blue-200",H[1]==0),(!Ue||V&2)&&pt(ae,"text-yellow-200",H[1]==1),(!Ue||V&2)&&pt(ae,"text-red-200",H[1]==2),(!Ue||V&4&&qe!==(qe="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-1 align-middle border-b-4 border-sidebarBackground "+(H[2].visible?"opacity-70":"")))&&$(e,"class",qe)},i(H){Ue||(y(o.$$.fragment,H),y(D.$$.fragment,H),y(te.$$.fragment,H),Ue=!0)},o(H){C(o.$$.fragment,H),C(D.$$.fragment,H),C(te.$$.fragment,H),Ue=!1},d(H){H&&T(e),Y(o),Y(D),Y(te),rt=!1,xe(_)}}}function d3(t,e,o){let n,i,r,l;se(t,Oe,m=>o(0,n=m)),se(t,To,m=>o(9,i=m)),se(t,Qe,m=>o(2,r=m)),se(t,Tt,m=>o(3,l=m));const a=n.gameSettings.includes("casual")?[150,75,35]:[300,150,70];let s=0;Wo(()=>{n.gameSettings.includes("casual")?Ae(To,i=375,i):Ae(To,i=550,i);const m=setInterval(()=>{Ae(Oe,n.timeSpent+=1e3,n)},1e3);return()=>{clearInterval(m)}});function u(){let m=prompt("Enter a new name for your town (under 200 chars)");if(m&&m.length<200&&m.length>=1){let h=n;h.townInfo.name=m,Oe.set(h),localStorage.setItem(ot,JSON.stringify(h))}}function f(){s==a.length-1?o(1,s=0):o(1,s++,s),Ae(To,i=a[s],i)}const c=()=>Ae(Tt,l=!0,l),d=()=>{localStorage.getItem($t)==null&&f()};return t.$$.update=()=>{t.$$.dirty&1&&n.timeSpent>0&&bm(n.timeSpent)},[n,s,r,l,u,f,c,d]}class m3 extends pe{constructor(e){super(),me(this,e,d3,c3,de,{})}}function p3(t){let e,o,n,i,r,l;return{c(){e=M("div"),i=G(),r=M("span"),l=K(t[4]),$(e,"class",o="h-full w-full flex-1 "+t[3]+" transition-all relative"),$(e,"style",n=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`),$(r,"class","absolute inset-0 flex items-center justify-center text-white text-sm")},m(a,s){I(a,e,s),I(a,i,s),I(a,r,s),b(r,l)},p(a,s){s&8&&o!==(o="h-full w-full flex-1 "+a[3]+" transition-all relative")&&$(e,"class",o),s&6&&n!==(n=`transform: translateX(-${100-100*(a[2]??0)/(a[1]??1)}%)`)&&$(e,"style",n),s&16&&ce(l,a[4])},d(a){a&&(T(e),T(i),T(r))}}}function h3(t){let e,o;const n=[{class:Fe("relative h-6 w-full overflow-hidden  bg-black border border-gray-300",t[0])},t[5]];let i={$$slots:{default:[p3]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new H0({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&33?we(n,[l&1&&{class:Fe("relative h-6 w-full overflow-hidden  bg-black border border-gray-300",r[0])},l&32&&it(r[5])]):{};l&94&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function g3(t,e,o){const n=["class","max","value","color","text"];let i=ue(e,n),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-accent"}=e,{text:u=void 0}=e;return t.$$set=f=>{e=Q(Q({},e),Ee(f)),o(5,i=ue(e,n)),"class"in f&&o(0,r=f.class),"max"in f&&o(1,l=f.max),"value"in f&&o(2,a=f.value),"color"in f&&o(3,s=f.color),"text"in f&&o(4,u=f.text)},[r,l,a,s,u,i]}class _3 extends pe{constructor(e){super(),me(this,e,g3,h3,de,{class:0,max:1,value:2,color:3,text:4})}}function lu(t,e,o){const n=t.slice();return n[19]=e[o],n}function su(t){let e,o=He({length:t[6]}),n=[];for(let i=0;i<o.length;i+=1)n[i]=au(lu(t,o,i));return{c(){e=M("div");for(let i=0;i<n.length;i+=1)n[i].c();$(e,"class","confetti-holder svelte-15ksp55"),pt(e,"rounded",t[9]),pt(e,"cone",t[10]),pt(e,"no-gravity",t[11]),pt(e,"reduced-motion",t[13])},m(i,r){I(i,e,r);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null)},p(i,r){if(r&37375){o=He({length:i[6]});let l;for(l=0;l<o.length;l+=1){const a=lu(i,o,l);n[l]?n[l].p(a,r):(n[l]=au(a),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=o.length}r&512&&pt(e,"rounded",i[9]),r&1024&&pt(e,"cone",i[10]),r&2048&&pt(e,"no-gravity",i[11]),r&8192&&pt(e,"reduced-motion",i[13])},d(i){i&&T(e),nt(n,i)}}}function au(t){let e;return{c(){e=M("div"),$(e,"class","confetti svelte-15ksp55"),Je(e,"--fall-distance",t[8]),Je(e,"--size",t[0]+"px"),Je(e,"--color",t[15]()),Je(e,"--skew",mt(-45,45)+"deg,"+mt(-45,45)+"deg"),Je(e,"--rotation-xyz",mt(-10,10)+", "+mt(-10,10)+", "+mt(-10,10)),Je(e,"--rotation-deg",mt(0,360)+"deg"),Je(e,"--translate-y-multiplier",mt(t[2][0],t[2][1])),Je(e,"--translate-x-multiplier",mt(t[1][0],t[1][1])),Je(e,"--scale",.1*mt(2,10)),Je(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),Je(e,"--transition-delay",mt(t[5][0],t[5][1])+"ms"),Je(e,"--transition-iteration-count",t[4]?"infinite":t[7]),Je(e,"--x-spread",1-t[12])},m(o,n){I(o,e,n)},p(o,n){n&256&&Je(e,"--fall-distance",o[8]),n&1&&Je(e,"--size",o[0]+"px"),n&4&&Je(e,"--translate-y-multiplier",mt(o[2][0],o[2][1])),n&2&&Je(e,"--translate-x-multiplier",mt(o[1][0],o[1][1])),n&24&&Je(e,"--transition-duration",o[4]?`calc(${o[3]}ms * var(--scale))`:`${o[3]}ms`),n&32&&Je(e,"--transition-delay",mt(o[5][0],o[5][1])+"ms"),n&144&&Je(e,"--transition-iteration-count",o[4]?"infinite":o[7]),n&4096&&Je(e,"--x-spread",1-o[12])},d(o){o&&T(e)}}}function b3(t){let e,o=!t[14]&&su(t);return{c(){o&&o.c(),e=Re()},m(n,i){o&&o.m(n,i),I(n,e,i)},p(n,[i]){n[14]?o&&(o.d(1),o=null):o?o.p(n,i):(o=su(n),o.c(),o.m(e.parentNode,e))},i:Te,o:Te,d(n){n&&T(e),o&&o.d(n)}}}function mt(t,e){return Math.random()*(e-t)+t}function v3(t,e,o){let{size:n=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:h=!1}=e,{cone:g=!1}=e,{noGravity:p=!1}=e,{xSpread:w=.15}=e,{destroyOnComplete:v=!0}=e,{disableForReducedMotion:S=!1}=e,j=!1;Wo(()=>{!v||a||d=="infinite"||setTimeout(()=>o(14,j=!0),(l+s[1])*d)});function D(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(mt(u[0],u[1]))}, 75%, 50%)`}return t.$$set=F=>{"size"in F&&o(0,n=F.size),"x"in F&&o(1,i=F.x),"y"in F&&o(2,r=F.y),"duration"in F&&o(3,l=F.duration),"infinite"in F&&o(4,a=F.infinite),"delay"in F&&o(5,s=F.delay),"colorRange"in F&&o(16,u=F.colorRange),"colorArray"in F&&o(17,f=F.colorArray),"amount"in F&&o(6,c=F.amount),"iterationCount"in F&&o(7,d=F.iterationCount),"fallDistance"in F&&o(8,m=F.fallDistance),"rounded"in F&&o(9,h=F.rounded),"cone"in F&&o(10,g=F.cone),"noGravity"in F&&o(11,p=F.noGravity),"xSpread"in F&&o(12,w=F.xSpread),"destroyOnComplete"in F&&o(18,v=F.destroyOnComplete),"disableForReducedMotion"in F&&o(13,S=F.disableForReducedMotion)},[n,i,r,l,a,s,c,d,m,h,g,p,w,S,j,D,u,f,v]}class cn extends pe{constructor(e){super(),me(this,e,v3,b3,de,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function uu(t){let e,o,n,i,r,l,a,s;return e=new cn({props:{cone:!0,x:[-.5,.5]}}),n=new cn({props:{cone:!0,amount:10,x:[-1,-.4],y:[.25,.75],rounded:!0,size:15}}),r=new cn({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new cn({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment),i=G(),U(r.$$.fragment),l=G(),U(a.$$.fragment)},m(u,f){W(e,u,f),I(u,o,f),W(n,u,f),I(u,i,f),W(r,u,f),I(u,l,f),W(a,u,f),s=!0},i(u){s||(y(e.$$.fragment,u),y(n.$$.fragment,u),y(r.$$.fragment,u),y(a.$$.fragment,u),s=!0)},o(u){C(e.$$.fragment,u),C(n.$$.fragment,u),C(r.$$.fragment,u),C(a.$$.fragment,u),s=!1},d(u){u&&(T(o),T(i),T(l)),Y(e,u),Y(n,u),Y(r,u),Y(a,u)}}}function y3(t){let e,o,n,i,r,l=st(t[1].goldReward,!1)+"",a,s,u,f=t[1].message+"",c,d,m,h=t[3]&&t[2].currentTutorialStep==t[0]&&uu();return{c(){e=M("div"),h&&h.c(),o=G(),n=M("span"),i=M("span"),r=K("💰"),a=K(l),s=G(),u=M("span"),c=K(f),$(i,"class","text-[10px] opacity-100 font-mono"),$(n,"class","flex flex-col text-start"),$(e,"class",d="text-sm flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(t[2].currentTutorialStep==t[0]?"opacity-100":t[1].isComplete(t[2])?"opacity-100 text-green-600":"opacity-50"))},m(g,p){I(g,e,p),h&&h.m(e,null),b(e,o),b(e,n),b(n,i),b(i,r),b(i,a),b(n,s),b(n,u),b(u,c),m=!0},p(g,[p]){g[3]&&g[2].currentTutorialStep==g[0]?h?p&13&&y(h,1):(h=uu(),h.c(),y(h,1),h.m(e,o)):h&&(Ie(),C(h,1,1,()=>{h=null}),Me()),(!m||p&2)&&l!==(l=st(g[1].goldReward,!1)+"")&&ce(a,l),(!m||p&2)&&f!==(f=g[1].message+"")&&ce(c,f),(!m||p&7&&d!==(d="text-sm flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(g[2].currentTutorialStep==g[0]?"opacity-100":g[1].isComplete(g[2])?"opacity-100 text-green-600":"opacity-50")))&&$(e,"class",d)},i(g){m||(y(h),m=!0)},o(g){C(h),m=!1},d(g){g&&T(e),h&&h.d()}}}function w3(t,e,o){let n,i;se(t,Oe,a=>o(2,n=a)),se(t,$o,a=>o(3,i=a));let{index:r}=e,{step:l}=e;return t.$$set=a=>{"index"in a&&o(0,r=a.index),"step"in a&&o(1,l=a.step)},[r,l,n,i]}class sd extends pe{constructor(e){super(),me(this,e,w3,y3,de,{index:0,step:1})}}function fu(t,e,o){const n=t.slice();return n[16]=e[o],n[18]=o,n}function cu(t,e,o){const n=t.slice();return n[19]=e[o].icon,n[20]=e[o].name,n[21]=e[o].value,n[22]=e[o].rate,n}function du(t,e,o){const n=t.slice();return n[25]=e[o],n}function mu(t,e,o){const n=t.slice();return n[20]=e[o].name,n[21]=e[o].value,n[28]=e[o].modifier,n[29]=e[o].color,n[30]=e[o].hover,n[31]=e[o].description,n[32]=e[o].max,n}function k3(t){let e,o=t[20]+"",n,i,r,l;return r=new _3({props:{value:t[21],max:t[32]??300,class:"min-w-[80px] max-w-[80px] ",color:t[29],text:`${tt(t[21],0)} / ${tt(t[32],0)}`}}),{c(){e=M("span"),n=K(o),i=G(),U(r.$$.fragment),$(e,"class","text-md pr-2")},m(a,s){I(a,e,s),b(e,n),I(a,i,s),W(r,a,s),l=!0},p(a,s){(!l||s[0]&64)&&o!==(o=a[20]+"")&&ce(n,o);const u={};s[0]&64&&(u.value=a[21]),s[0]&64&&(u.max=a[32]??300),s[0]&64&&(u.color=a[29]),s[0]&64&&(u.text=`${tt(a[21],0)} / ${tt(a[32],0)}`),r.$set(u)},i(a){l||(y(r.$$.fragment,a),l=!0)},o(a){C(r.$$.fragment,a),l=!1},d(a){a&&(T(e),T(i)),Y(r,a)}}}function pu(t){let e,o;return e=new ho({props:{class:"rounded-2xl text-white "+(t[29]??t[10](t[21])),$$slots:{default:[C3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[0]&64&&(r.class="rounded-2xl text-white "+(n[29]??n[10](n[21]))),i[0]&64|i[1]&16&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function C3(t){let e,o,n=t[20]+"",i,r,l=st(t[21],!1)+"",a,s,u=t[32]?`out of ${t[32]}`:"",f,c,d,m,h,g=t[31]+"",p;return d=new vt({props:{class:"mb-2 mt-1"}}),{c(){e=M("div"),o=M("span"),i=K(n),r=K(": "),a=K(l),s=G(),f=K(u),c=G(),U(d.$$.fragment),m=G(),h=M("span"),$(o,"class","text-md"),$(e,"class","flex flex-col justify-between max-w-48")},m(w,v){I(w,e,v),b(e,o),b(o,i),b(o,r),b(o,a),b(o,s),b(o,f),b(e,c),W(d,e,null),b(e,m),b(e,h),h.innerHTML=g,p=!0},p(w,v){(!p||v[0]&64)&&n!==(n=w[20]+"")&&ce(i,n),(!p||v[0]&64)&&l!==(l=st(w[21],!1)+"")&&ce(a,l),(!p||v[0]&64)&&u!==(u=w[32]?`out of ${w[32]}`:"")&&ce(f,u),(!p||v[0]&64)&&g!==(g=w[31]+"")&&(h.innerHTML=g)},i(w){p||(y(d.$$.fragment,w),p=!0)},o(w){C(d.$$.fragment,w),p=!1},d(w){w&&T(e),Y(d)}}}function S3(t){let e,o,n,i;e=new _o({props:{class:"w-full flex flex-row align-middle justify-between text-sm filter hover:brightness-110",$$slots:{default:[k3]},$$scope:{ctx:t}}});let r=t[30]&&pu(t);return{c(){U(e.$$.fragment),o=G(),r&&r.c(),n=Re()},m(l,a){W(e,l,a),I(l,o,a),r&&r.m(l,a),I(l,n,a),i=!0},p(l,a){const s={};a[0]&64|a[1]&16&&(s.$$scope={dirty:a,ctx:l}),e.$set(s),l[30]?r?(r.p(l,a),a[0]&64&&y(r,1)):(r=pu(l),r.c(),y(r,1),r.m(n.parentNode,n)):r&&(Ie(),C(r,1,1,()=>{r=null}),Me())},i(l){i||(y(e.$$.fragment,l),y(r),i=!0)},o(l){C(e.$$.fragment,l),C(r),i=!1},d(l){l&&(T(o),T(n)),Y(e,l),r&&r.d(l)}}}function hu(t){let e,o,n,i;return o=new go({props:{openDelay:400,closeDelay:0,$$slots:{default:[S3]},$$scope:{ctx:t}}}),{c(){e=M("div"),U(o.$$.fragment),n=G(),$(e,"class","flex flex-col gap-1")},m(r,l){I(r,e,l),W(o,e,null),b(e,n),i=!0},p(r,l){const a={};l[0]&64|l[1]&16&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(y(o.$$.fragment,r),i=!0)},o(r){C(o.$$.fragment,r),i=!1},d(r){r&&T(e),Y(o)}}}function A3(t){let e,o,n,i,r,l,a,s,u,f,c,d,m,h,g,p,w,v,S,j,D,F=t[1].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"",P;return{c(){e=M("div"),o=K(`ℹ️ Resources are generated from plots. Generation rate can be
            increased by raising the productivity of the town, at the cost of
            some happiness.
            `),n=M("br"),i=G(),r=M("br"),l=K(`
            There is also a slight bit of randomness as townspeople aren't robots.
            `),a=M("br"),s=G(),u=M("br"),f=G(),c=M("span"),c.textContent="Stockpile plots",d=K(` increase the maximum
            amount of resources you can store.
            `),m=M("br"),h=G(),g=M("br"),p=K(`
            If the cap is 500, then you can store 500 of each resource before the
            cap is reached.
            `),w=M("br"),v=K(`
            Capacity is increased by 2,000 per Stockpile plot.
            `),S=M("br"),j=G(),D=M("span"),P=K(F),$(c,"class","font-bold"),$(D,"class","text-red-800 font-bold"),$(e,"class","text-sm")},m(N,R){I(N,e,R),b(e,o),b(e,n),b(e,i),b(e,r),b(e,l),b(e,a),b(e,s),b(e,u),b(e,f),b(e,c),b(e,d),b(e,m),b(e,h),b(e,g),b(e,p),b(e,w),b(e,v),b(e,S),b(e,j),b(e,D),b(D,P)},p(N,R){R[0]&2&&F!==(F=N[1].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"")&&ce(P,F)},d(N){N&&T(e)}}}function T3(t){let e,o,n,i=t[1].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${st(t[1].resource_capacity,!1)}`,r,l,a,s,u;return s=new ho({props:{class:"text-sm max-h-[200px] overflow-y-scroll",$$slots:{default:[A3]},$$scope:{ctx:t}}}),{c(){e=M("h1"),o=K(`Resources

          `),n=M("div"),r=K(i),a=G(),U(s.$$.fragment),$(n,"class",l="text-xs w-full text-center mb-2 cursor-pointer "+(t[2]==!0?"text-textDanger animate-[wiggle_0.5s_ease-in-out_infinite] font-bold":"")+" "+(t[1].gameSettings.includes("bagOfHolding")?"opacity-30":"")),$(e,"class","text-lg w-full text-center pb-2")},m(f,c){I(f,e,c),b(e,o),b(e,n),b(n,r),I(f,a,c),W(s,f,c),u=!0},p(f,c){(!u||c[0]&2)&&i!==(i=f[1].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${st(f[1].resource_capacity,!1)}`)&&ce(r,i),(!u||c[0]&6&&l!==(l="text-xs w-full text-center mb-2 cursor-pointer "+(f[2]==!0?"text-textDanger animate-[wiggle_0.5s_ease-in-out_infinite] font-bold":"")+" "+(f[1].gameSettings.includes("bagOfHolding")?"opacity-30":"")))&&$(n,"class",l);const d={};c[0]&2|c[1]&16&&(d.$$scope={dirty:c,ctx:f}),s.$set(d)},i(f){u||(y(s.$$.fragment,f),u=!0)},o(f){C(s.$$.fragment,f),u=!1},d(f){f&&(T(e),T(a)),Y(s,f)}}}function I3(t){let e,o;return e=new _o({props:{$$slots:{default:[T3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[0]&6|i[1]&16&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function M3(t){let e,o,n=t[22]+"",i;return{c(){e=M("span"),o=K("+"),i=K(n),$(e,"class","")},m(r,l){I(r,e,l),b(e,o),b(e,i)},p(r,l){l[0]&32&&n!==(n=r[22]+"")&&ce(i,n)},d(r){r&&T(e)}}}function O3(t){let e;return{c(){e=M("span")},m(o,n){I(o,e,n)},p:Te,d(o){o&&T(e)}}}function N3(t){let e,o=t[22]+"",n;return{c(){e=M("span"),n=K(o),$(e,"class","text-textDanger")},m(i,r){I(i,e,r),b(e,n)},p(i,r){r[0]&32&&o!==(o=i[22]+"")&&ce(n,o)},d(i){i&&T(e)}}}function P3(t){let e,o,n=t[22]+"",i;return{c(){e=M("span"),o=K("+"),i=K(n),$(e,"class","text-textHappy")},m(r,l){I(r,e,l),b(e,o),b(e,i)},p(r,l){l[0]&32&&n!==(n=r[22]+"")&&ce(i,n)},d(r){r&&T(e)}}}function E3(t){let e;return{c(){e=M("span"),e.textContent="⚠️ CAP",$(e,"class","text-textDanger")},m(o,n){I(o,e,n)},p:Te,d(o){o&&T(e)}}}function R3(t){let e;return{c(){e=M("span"),$(e,"class","display-none")},m(o,n){I(o,e,n)},p:Te,d(o){o&&T(e)}}}function $3(t){let e,o,n=t[22]+"",i,r;return{c(){e=M("span"),o=K("+"),i=K(n),r=K(" (weekly)"),$(e,"class","text-gray-600")},m(l,a){I(l,e,a),b(e,o),b(e,i),b(e,r)},p(l,a){a[0]&32&&n!==(n=l[22]+"")&&ce(i,n)},d(l){l&&T(e)}}}function L3(t){let e,o=t[22]+"",n,i;return{c(){e=M("span"),n=K(o),i=K(" (weekly)"),$(e,"class","text-textDanger")},m(r,l){I(r,e,l),b(e,n),b(e,i)},p(r,l){l[0]&32&&o!==(o=r[22]+"")&&ce(n,o)},d(r){r&&T(e)}}}function D3(t){let e,o,n=t[22]+"",i,r;return{c(){e=M("span"),o=K("+"),i=K(n),r=K(" (weekly)"),$(e,"class","text-textHappy")},m(l,a){I(l,e,a),b(e,o),b(e,i),b(e,r)},p(l,a){a[0]&32&&n!==(n=l[22]+"")&&ce(i,n)},d(l){l&&T(e)}}}function gu(t){let e,o,n,i,r,l;e=new vt({props:{class:"bg-gray-400"}});let a=He(t[9](t[20])),s=[];for(let u=0;u<a.length;u+=1)s[u]=_u(du(t,a,u));return{c(){U(e.$$.fragment),o=G(),n=M("span"),n.textContent="Required for",i=G(),r=M("div");for(let u=0;u<s.length;u+=1)s[u].c();$(n,"class","text-sm font-semibold"),$(r,"class","grid grid-cols-3 justify-between")},m(u,f){W(e,u,f),I(u,o,f),I(u,n,f),I(u,i,f),I(u,r,f);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(r,null);l=!0},p(u,f){if(f[0]&544){a=He(u[9](u[20]));let c;for(c=0;c<a.length;c+=1){const d=du(u,a,c);s[c]?s[c].p(d,f):(s[c]=_u(d),s[c].c(),s[c].m(r,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(y(e.$$.fragment,u),l=!0)},o(u){C(e.$$.fragment,u),l=!1},d(u){u&&(T(o),T(n),T(i),T(r)),Y(e,u),nt(s,u)}}}function _u(t){let e,o=t[25]+"",n;return{c(){e=M("span"),n=K(o),$(e,"class","text-xs pr-3")},m(i,r){I(i,e,r),b(e,n)},p(i,r){r[0]&32&&o!==(o=i[25]+"")&&ce(n,o)},d(i){i&&T(e)}}}function j3(t){let e,o,n,i=t[19]+"",r,l,a=zn(t[20])+"",s,u,f,c=t[9](t[20]).length>0,d;function m(w,v){return w[22]>0?D3:w[22]<0?L3:w[22]!=null?$3:R3}let h=m(t),g=h(t),p=c&&gu(t);return{c(){e=M("div"),o=M("div"),n=M("span"),r=K(i),l=G(),s=K(a),u=G(),g.c(),f=G(),p&&p.c(),$(n,"class","text-md font-bold"),$(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit rounded-lg text-black")},m(w,v){I(w,e,v),b(e,o),b(o,n),b(n,r),b(n,l),b(n,s),b(o,u),g.m(o,null),b(e,f),p&&p.m(e,null),d=!0},p(w,v){(!d||v[0]&32)&&i!==(i=w[19]+"")&&ce(r,i),(!d||v[0]&32)&&a!==(a=zn(w[20])+"")&&ce(s,a),h===(h=m(w))&&g?g.p(w,v):(g.d(1),g=h(w),g&&(g.c(),g.m(o,null))),v[0]&32&&(c=w[9](w[20]).length>0),c?p?(p.p(w,v),v[0]&32&&y(p,1)):(p=gu(w),p.c(),y(p,1),p.m(e,null)):p&&(Ie(),C(p,1,1,()=>{p=null}),Me())},i(w){d||(y(p),d=!0)},o(w){C(p),d=!1},d(w){w&&T(e),g.d(),p&&p.d()}}}function F3(t){let e,o=t[19]+"",n,i,r=st(parseInt(t[21]),!1)+"",l,a,s,u,f,c;function d(g,p){return g[21]>=g[1].resource_capacity&&g[20]!="gold"?E3:g[22]>0?P3:g[22]<0?N3:g[22]==null?O3:M3}let m=d(t),h=m(t);return f=new ho({props:{$$slots:{default:[j3]},$$scope:{ctx:t}}}),{c(){e=M("span"),n=K(o),i=G(),l=K(r),a=G(),h.c(),u=G(),U(f.$$.fragment),$(e,"class",s="flex flex-row justify-between text-sm "+(t[21]<=0?"text-textDanger font-semibold":""))},m(g,p){I(g,e,p),b(e,n),b(e,i),b(e,l),b(e,a),h.m(e,null),I(g,u,p),W(f,g,p),c=!0},p(g,p){(!c||p[0]&32)&&o!==(o=g[19]+"")&&ce(n,o),(!c||p[0]&32)&&r!==(r=st(parseInt(g[21]),!1)+"")&&ce(l,r),m===(m=d(g))&&h?h.p(g,p):(h.d(1),h=m(g),h&&(h.c(),h.m(e,null))),(!c||p[0]&32&&s!==(s="flex flex-row justify-between text-sm "+(g[21]<=0?"text-textDanger font-semibold":"")))&&$(e,"class",s);const w={};p[0]&32|p[1]&16&&(w.$$scope={dirty:p,ctx:g}),f.$set(w)},i(g){c||(y(f.$$.fragment,g),c=!0)},o(g){C(f.$$.fragment,g),c=!1},d(g){g&&(T(e),T(u)),h.d(),Y(f,g)}}}function B3(t){let e,o,n;return e=new _o({props:{$$slots:{default:[F3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G()},m(i,r){W(e,i,r),I(i,o,r),n=!0},p(i,r){const l={};r[0]&34|r[1]&16&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){n||(y(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){i&&T(o),Y(e,i)}}}function bu(t){let e,o;return e=new go({props:{openDelay:400,closeDelay:0,$$slots:{default:[B3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[0]&34|i[1]&16&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function vu(t){let e,o,n,i,r,l,a,s;return e=new cn({props:{cone:!0,x:[-.5,.5]}}),n=new cn({props:{cone:!0,amount:50,x:[-1,-.4],y:[.25,.75],rounded:!0,size:8}}),r=new cn({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new cn({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment),i=G(),U(r.$$.fragment),l=G(),U(a.$$.fragment)},m(u,f){W(e,u,f),I(u,o,f),W(n,u,f),I(u,i,f),W(r,u,f),I(u,l,f),W(a,u,f),s=!0},i(u){s||(y(e.$$.fragment,u),y(n.$$.fragment,u),y(r.$$.fragment,u),y(a.$$.fragment,u),s=!0)},o(u){C(e.$$.fragment,u),C(n.$$.fragment,u),C(r.$$.fragment,u),C(a.$$.fragment,u),s=!1},d(u){u&&(T(o),T(i),T(l)),Y(e,u),Y(n,u),Y(r,u),Y(a,u)}}}function yu(t){let e,o=t[3]?`Hide ${t[4]} completed`:`Show ${t[4]} completed`,n;return{c(){e=M("span"),n=K(o),$(e,"class","text-xs opacity-65 cursor-pointer pb-2")},m(i,r){I(i,e,r),b(e,n)},p(i,r){r[0]&24&&o!==(o=i[3]?`Hide ${i[4]} completed`:`Show ${i[4]} completed`)&&ce(n,o)},d(i){i&&T(e)}}}function q3(t){let e,o;return e=new sd({props:{index:t[18],step:t[16]}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function G3(t){let e,o;return e=new sd({props:{index:t[18],step:t[16]}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function wu(t){let e,o,n,i,r;const l=[G3,q3],a=[];function s(u,f){return f[0]&2&&(e=null),u[3]||u[18]==u[1].currentTutorialStep?0:(e==null&&(e=!u[16].isComplete(u[1])),e?1:-1)}return~(o=s(t,[-1,-1]))&&(n=a[o]=l[o](t)),{c(){n&&n.c(),i=Re()},m(u,f){~o&&a[o].m(u,f),I(u,i,f),r=!0},p(u,f){let c=o;o=s(u,f),o!==c&&(n&&(Ie(),C(a[c],1,1,()=>{a[c]=null}),Me()),~o?(n=a[o],n||(n=a[o]=l[o](u),n.c()),y(n,1),n.m(i.parentNode,i)):n=null)},i(u){r||(y(n),r=!0)},o(u){C(n),r=!1},d(u){u&&T(i),~o&&a[o].d(u)}}}function H3(t){let e,o,n,i,r,l,a,s,u,f,c,d,m,h,g,p,w,v,S,j,D,F,P,N,R,q=He(t[6]),O=[];for(let Z=0;Z<q.length;Z+=1)O[Z]=hu(mu(t,q,Z));const k=Z=>C(O[Z],1,1,()=>{O[Z]=null});s=new go({props:{openDelay:400,closeDelay:0,$$slots:{default:[I3]},$$scope:{ctx:t}}});let A=He(t[5]),E=[];for(let Z=0;Z<A.length;Z+=1)E[Z]=bu(cu(t,A,Z));const B=Z=>C(E[Z],1,1,()=>{E[Z]=null});let L=t[8]&&vu(),J=t[1].currentTutorialStep>0&&yu(t),z=He(Xn),X=[];for(let Z=0;Z<z.length;Z+=1)X[Z]=wu(fu(t,z,Z));const ne=Z=>C(X[Z],1,1,()=>{X[Z]=null});return{c(){e=M("div"),o=M("div"),n=M("div"),i=M("h1"),i.textContent="Stats",r=G();for(let Z=0;Z<O.length;Z+=1)O[Z].c();l=G(),a=M("div"),U(s.$$.fragment),u=G(),f=M("div"),c=G(),d=M("div"),m=M("div");for(let Z=0;Z<E.length;Z+=1)E[Z].c();h=G(),g=M("div"),p=M("div"),L&&L.c(),w=G(),v=M("h1"),v.textContent="Milestones",S=G(),J&&J.c(),j=G(),D=M("div");for(let Z=0;Z<X.length;Z+=1)X[Z].c();$(i,"class","text-lg w-full text-center pb-1"),$(n,"class","flex flex-col rounded-xl gap-2 w-full"),$(o,"class","flex flex-row w-full pb-6"),$(a,"class","flex flex-row justify-center"),$(f,"class","w-[full] flex flex-row justify-center"),$(m,"class","flex flex-col text-md text-nowrap gap-2"),$(v,"class","text-lg w-full text-center"),$(p,"class","text-lg w-full text-center noselect flex flex-col no-select"),$(D,"class","scroll overflow-y-scroll"),$(d,"class","flex flex-col gap-4 h-full"),$(e,"class",F="bg-sidebarBackground w-[220px] text-sidebarText border-foreground border-4 "+(t[7].visible&&!t[0]?"opacity-0":"")+" z-10 rounded-xl px-2 pt-2 transition-all ease-in-out duration-150 overflow-y-scroll scroll fixed right-3 top-16 sidebar bottom-4")},m(Z,te){I(Z,e,te),b(e,o),b(o,n),b(n,i),b(n,r);for(let ye=0;ye<O.length;ye+=1)O[ye]&&O[ye].m(n,null);b(e,l),b(e,a),W(s,a,null),b(e,u),b(e,f),b(e,c),b(e,d),b(d,m);for(let ye=0;ye<E.length;ye+=1)E[ye]&&E[ye].m(m,null);b(d,h),b(d,g),b(g,p),L&&L.m(p,null),b(p,w),b(p,v),b(p,S),J&&J.m(p,null),b(g,j),b(g,D);for(let ye=0;ye<X.length;ye+=1)X[ye]&&X[ye].m(D,null);P=!0,N||(R=ee(p,"click",t[13]),N=!0)},p(Z,te){if(te[0]&1088){q=He(Z[6]);let ae;for(ae=0;ae<q.length;ae+=1){const ie=mu(Z,q,ae);O[ae]?(O[ae].p(ie,te),y(O[ae],1)):(O[ae]=hu(ie),O[ae].c(),y(O[ae],1),O[ae].m(n,null))}for(Ie(),ae=q.length;ae<O.length;ae+=1)k(ae);Me()}const ye={};if(te[0]&6|te[1]&16&&(ye.$$scope={dirty:te,ctx:Z}),s.$set(ye),te[0]&546){A=He(Z[5]);let ae;for(ae=0;ae<A.length;ae+=1){const ie=cu(Z,A,ae);E[ae]?(E[ae].p(ie,te),y(E[ae],1)):(E[ae]=bu(ie),E[ae].c(),y(E[ae],1),E[ae].m(m,null))}for(Ie(),ae=A.length;ae<E.length;ae+=1)B(ae);Me()}if(Z[8]?L?te[0]&256&&y(L,1):(L=vu(),L.c(),y(L,1),L.m(p,w)):L&&(Ie(),C(L,1,1,()=>{L=null}),Me()),Z[1].currentTutorialStep>0?J?J.p(Z,te):(J=yu(Z),J.c(),J.m(p,null)):J&&(J.d(1),J=null),te[0]&10){z=He(Xn);let ae;for(ae=0;ae<z.length;ae+=1){const ie=fu(Z,z,ae);X[ae]?(X[ae].p(ie,te),y(X[ae],1)):(X[ae]=wu(ie),X[ae].c(),y(X[ae],1),X[ae].m(D,null))}for(Ie(),ae=z.length;ae<X.length;ae+=1)ne(ae);Me()}(!P||te[0]&129&&F!==(F="bg-sidebarBackground w-[220px] text-sidebarText border-foreground border-4 "+(Z[7].visible&&!Z[0]?"opacity-0":"")+" z-10 rounded-xl px-2 pt-2 transition-all ease-in-out duration-150 overflow-y-scroll scroll fixed right-3 top-16 sidebar bottom-4"))&&$(e,"class",F)},i(Z){if(!P){for(let te=0;te<q.length;te+=1)y(O[te]);y(s.$$.fragment,Z);for(let te=0;te<A.length;te+=1)y(E[te]);y(L);for(let te=0;te<z.length;te+=1)y(X[te]);P=!0}},o(Z){O=O.filter(Boolean);for(let te=0;te<O.length;te+=1)C(O[te]);C(s.$$.fragment,Z),E=E.filter(Boolean);for(let te=0;te<E.length;te+=1)C(E[te]);C(L),X=X.filter(Boolean);for(let te=0;te<X.length;te+=1)C(X[te]);P=!1},d(Z){Z&&T(e),nt(O,Z),Y(s),nt(E,Z),L&&L.d(),J&&J.d(),nt(X,Z),N=!1,R()}}}function x3(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function ku(t){let e=0;for(let o=0;o<t.plots.length;o++)for(let n=0;n<t.plots[o].length;n++)t.plots[o][n].active==!0&&t.plots[o][n].type>-1&&e++;return e}function V3(){const t=new Audio("/alert.mp3");t.volume=.5,t.play().catch(e=>console.log("Error playing sound:",e))}function W3(t,e,o){let n,i,r;se(t,Oe,S=>o(1,n=S)),se(t,Qe,S=>o(7,i=S)),se(t,$o,S=>o(8,r=S));let l=!1,a=!1,s=0,u=0,f=!1,{mini:c=!1}=e,d=[];De("city_hall",n).length>0&&d.push({icon:"🧑‍⚖️",name:"bureaucracy",value:n.resources.bureaucracy,rate:n.resource_rate.bureaucracy});function m(S){let j=[];for(let D=0;D<oe.length;D++)(S!="knowledge"&&oe[D].requirements.resources[S]>0||S=="power"&&oe[D].active_costs.power>0||S=="knowledge"&&oe[D].requirements.knowledge>0)&&j.push(oe[D].title);return j}function h(S){return x3(S)?m(S):[]}let g;const p=S=>S===1?"bg-green-500":S>.9?"bg-yellow-500":"bg-red-500",w=S=>S>149?"bg-green-500":S>99?"bg-yellow-500":"bg-red-500",v=()=>{o(3,a=!a)};return t.$$set=S=>{"mini"in S&&o(0,c=S.mini)},t.$$.update=()=>{if(t.$$.dirty[0]&2&&o(4,s=Xn.filter(S=>S.isComplete(n)).length),t.$$.dirty[0]&2&&o(5,d=[{icon:"💰",name:"gold",value:n.townInfo.gold,rate:n.economyAndLaws.weeklyProfit},{icon:"🥕",name:"food",value:n.resources.food,rate:n.resource_rate.food},{icon:"🪵",name:"wood",value:n.resources.wood,rate:n.resource_rate.wood},{icon:"🪨",name:"stone",value:n.resources.stone,rate:n.resource_rate.stone},{icon:"🧠",name:"knowledge",value:n.townInfo.knowledge_points,rate:n.resource_rate.knowledge},{icon:"🧲",name:"metal",value:n.resources.metal,rate:n.resource_rate.metal},{icon:"🔋",name:"power",value:n.resources.power,rate:null}]),t.$$.dirty[0]&2&&o(6,g=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:n.townInfo.happiness,modifier:n.modifiers.happiness,color:w(n.townInfo.happiness),hover:!0,max:300},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:n.townInfo.health,modifier:n.modifiers.health,color:w(n.townInfo.health),hover:!0,max:300},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:n.townInfo.community,modifier:n.modifiers.community,color:w(n.townInfo.community),hover:!0,max:300},{name:"Employment",description:"The number of people employed in your town. Unemployed people are more likely to leave.",value:n.townInfo.employees,modifier:null,color:p(n.townInfo.employees/n.townInfo.population_count),hover:!0,max:n.townInfo.population_count},{name:"🛝 Recreation",description:"Tracker for how many plots you have for recreation, which keeps townspeople happy. <br/><br/>Make sure as your town grows that you build enough 🛝 plots. ",value:n.townInfo.recreation,modifier:null,color:n.townInfo.recreation/ku(n)>=.2?"bg-green-500":"bg-orange-300",hover:!0,max:ku(n)}]),t.$$.dirty[0]&6147){const S=n.resources.food>=n.resource_capacity||n.resources.wood>=n.resource_capacity||n.resources.stone>=n.resource_capacity||n.resources.metal>=n.resource_capacity,j=Date.now();S&&!f&&j-u>3e4&&!c&&!n.gameSettings.includes("bagOfHolding")&&localStorage.getItem($t)==null&&(V3(),o(11,u=j)),o(12,f=S),o(2,l=S)}},[c,n,l,a,s,d,g,i,r,h,w,u,f,v]}class ad extends pe{constructor(e){super(),me(this,e,W3,H3,de,{mini:0},null,[-1,-1])}}function Cu(t,e,o){const n=t.slice();return n[4]=e[o],n[6]=o,n}function Su(t,e,o){const n=t.slice();return n[4]=e[o],n[6]=o,n}function Au(t,e,o){const n=t.slice();return n[4]=e[o],n[6]=o,n}function Tu(t){let e,o,n,i=oe[ke(t[0].id)].title+"",r,l,a,s=oe[ke(t[0].id)].description+"",u,f,c,d,m,h,g,p,w,v=t[3]("💰",oe[ke(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",S,j,D=t[3]("🥕",oe[ke(t[0].id)].requirements.resources.food,t[2].resources.food)+"",F,P,N=t[3]("🧠",oe[ke(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",R,q,O=t[3]("🪵",oe[ke(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",k,A,E=t[3]("🪨",oe[ke(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",B,L,J=t[3]("🧲",oe[ke(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",z,X,ne=t[3]("🔋",oe[ke(t[0].id)].active_costs.power,t[2].resources.power)+"",Z,te,ye=t[3]("🧑‍⚖️",oe[ke(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",ae,ie=oe[ke(t[0].id)].requirements.employees!=0,je,qe=oe[ke(t[0].id)].revenue_per_week!=0,Ue,rt=Object.values(oe[ke(t[0].id)].active_costs).some(qu),_,H=Object.values(oe[ke(t[0].id)].requirements.plots).length>0,V,le=Object.values(oe[ke(t[0].id)].generated_resources).some(Bu)||oe[ke(t[0].id)].knowledge_points_per_month>0,he;d=new vt({props:{class:"bg-accent opacity-25 mt-1 mb-1"}});let Se=ie&&Iu(t),Pe=qe&&Mu(t),$e=rt&&Ou(t),We=H&&Eu(t),Le=le&&Lu(t);return{c(){e=M("div"),o=M("div"),n=M("span"),r=K(i),l=G(),a=M("span"),u=K(s),f=G(),c=M("div"),U(d.$$.fragment),m=G(),h=M("span"),h.textContent="Requirements",g=G(),p=M("div"),w=new Jt(!1),S=G(),j=new Jt(!1),F=G(),P=new Jt(!1),R=G(),q=new Jt(!1),k=G(),A=new Jt(!1),B=G(),L=new Jt(!1),z=G(),X=new Jt(!1),Z=G(),te=new Jt(!1),ae=G(),Se&&Se.c(),je=G(),Pe&&Pe.c(),Ue=G(),$e&&$e.c(),_=G(),We&&We.c(),V=G(),Le&&Le.c(),$(n,"class","text-md"),$(a,"class","text-xs"),$(o,"class","flex flex-col gap-2"),$(h,"class","font-semibold"),w.a=S,j.a=F,P.a=R,q.a=k,A.a=B,L.a=z,X.a=Z,te.a=ae,$(p,"class","flex flex-row gap-1 flex-wrap"),$(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),$(e,"class","p-2 max-w-64")},m(Ce,Ye){I(Ce,e,Ye),b(e,o),b(o,n),b(n,r),b(o,l),b(o,a),b(a,u),b(e,f),b(e,c),W(d,c,null),b(c,m),b(c,h),b(c,g),b(c,p),w.m(v,p),b(p,S),j.m(D,p),b(p,F),P.m(N,p),b(p,R),q.m(O,p),b(p,k),A.m(E,p),b(p,B),L.m(J,p),b(p,z),X.m(ne,p),b(p,Z),te.m(ye,p),b(p,ae),Se&&Se.m(p,null),b(e,je),Pe&&Pe.m(e,null),b(e,Ue),$e&&$e.m(e,null),b(e,_),We&&We.m(e,null),b(e,V),Le&&Le.m(e,null),he=!0},p(Ce,Ye){(!he||Ye&1)&&i!==(i=oe[ke(Ce[0].id)].title+"")&&ce(r,i),(!he||Ye&1)&&s!==(s=oe[ke(Ce[0].id)].description+"")&&ce(u,s),(!he||Ye&5)&&v!==(v=Ce[3]("💰",oe[ke(Ce[0].id)].requirements.gold,Ce[2].townInfo.gold)+"")&&w.p(v),(!he||Ye&5)&&D!==(D=Ce[3]("🥕",oe[ke(Ce[0].id)].requirements.resources.food,Ce[2].resources.food)+"")&&j.p(D),(!he||Ye&5)&&N!==(N=Ce[3]("🧠",oe[ke(Ce[0].id)].requirements.knowledge,Ce[2].townInfo.knowledge_points)+"")&&P.p(N),(!he||Ye&5)&&O!==(O=Ce[3]("🪵",oe[ke(Ce[0].id)].requirements.resources.wood,Ce[2].resources.wood)+"")&&q.p(O),(!he||Ye&5)&&E!==(E=Ce[3]("🪨",oe[ke(Ce[0].id)].requirements.resources.stone,Ce[2].resources.stone)+"")&&A.p(E),(!he||Ye&5)&&J!==(J=Ce[3]("🧲",oe[ke(Ce[0].id)].requirements.resources.metal,Ce[2].resources.metal)+"")&&L.p(J),(!he||Ye&5)&&ne!==(ne=Ce[3]("🔋",oe[ke(Ce[0].id)].active_costs.power,Ce[2].resources.power)+"")&&X.p(ne),(!he||Ye&5)&&ye!==(ye=Ce[3]("🧑‍⚖️",oe[ke(Ce[0].id)].requirements.resources.bureaucracy,Ce[2].resources.bureaucracy)+"")&&te.p(ye),Ye&1&&(ie=oe[ke(Ce[0].id)].requirements.employees!=0),ie?Se?Se.p(Ce,Ye):(Se=Iu(Ce),Se.c(),Se.m(p,null)):Se&&(Se.d(1),Se=null),Ye&1&&(qe=oe[ke(Ce[0].id)].revenue_per_week!=0),qe?Pe?(Pe.p(Ce,Ye),Ye&1&&y(Pe,1)):(Pe=Mu(Ce),Pe.c(),y(Pe,1),Pe.m(e,Ue)):Pe&&(Ie(),C(Pe,1,1,()=>{Pe=null}),Me()),Ye&1&&(rt=Object.values(oe[ke(Ce[0].id)].active_costs).some(qu)),rt?$e?($e.p(Ce,Ye),Ye&1&&y($e,1)):($e=Ou(Ce),$e.c(),y($e,1),$e.m(e,_)):$e&&(Ie(),C($e,1,1,()=>{$e=null}),Me()),Ye&1&&(H=Object.values(oe[ke(Ce[0].id)].requirements.plots).length>0),H?We?(We.p(Ce,Ye),Ye&1&&y(We,1)):(We=Eu(Ce),We.c(),y(We,1),We.m(e,V)):We&&(Ie(),C(We,1,1,()=>{We=null}),Me()),Ye&1&&(le=Object.values(oe[ke(Ce[0].id)].generated_resources).some(Bu)||oe[ke(Ce[0].id)].knowledge_points_per_month>0),le?Le?(Le.p(Ce,Ye),Ye&1&&y(Le,1)):(Le=Lu(Ce),Le.c(),y(Le,1),Le.m(e,null)):Le&&(Ie(),C(Le,1,1,()=>{Le=null}),Me())},i(Ce){he||(y(d.$$.fragment,Ce),y(Pe),y($e),y(We),y(Le),he=!0)},o(Ce){C(d.$$.fragment,Ce),C(Pe),C($e),C(We),C(Le),he=!1},d(Ce){Ce&&T(e),Y(d),Se&&Se.d(),Pe&&Pe.d(),$e&&$e.d(),We&&We.d(),Le&&Le.d()}}}function Iu(t){let e,o,n=oe[ke(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=M("span"),o=K("👥 "),i=K(n),r=K(" employees"),$(e,"class",l=oe[ke(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")},m(a,s){I(a,e,s),b(e,o),b(e,i),b(e,r)},p(a,s){s&1&&n!==(n=oe[ke(a[0].id)].requirements.employees+"")&&ce(i,n),s&7&&l!==(l=oe[ke(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")&&$(e,"class",l)},d(a){a&&T(e)}}}function Mu(t){let e,o,n,i,r,l,a,s=oe[ke(t[0].id)].revenue_per_week+"",u,f;return o=new vt({props:{class:"bg-accent opacity-25 mt-0"}}),{c(){e=M("div"),U(o.$$.fragment),n=G(),i=M("span"),i.textContent="Weekly revenue",r=G(),l=M("span"),a=K("💰 "),u=K(s),$(i,"class","font-semibold"),$(e,"class","flex flex-col gap-1 text-xs")},m(c,d){I(c,e,d),W(o,e,null),b(e,n),b(e,i),b(e,r),b(e,l),b(l,a),b(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=oe[ke(c[0].id)].revenue_per_week+"")&&ce(u,s)},i(c){f||(y(o.$$.fragment,c),f=!0)},o(c){C(o.$$.fragment,c),f=!1},d(c){c&&T(e),Y(o)}}}function Ou(t){let e,o,n,i,r,l;o=new vt({props:{class:"bg-accent opacity-25 mt-2"}});let a=He(Object.keys(oe[ke(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Pu(Au(t,a,u));return{c(){e=M("div"),U(o.$$.fragment),n=G(),i=M("span"),i.textContent="Weekly Costs",r=G();for(let u=0;u<s.length;u+=1)s[u].c();$(i,"class","font-semibold"),$(e,"class","flex flex-col gap-1 text-xs")},m(u,f){I(u,e,f),W(o,e,null),b(e,n),b(e,i),b(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=He(Object.keys(oe[ke(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=Au(u,a,c);s[c]?s[c].p(d,f):(s[c]=Pu(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(y(o.$$.fragment,u),l=!0)},o(u){C(o.$$.fragment,u),l=!1},d(u){u&&T(e),Y(o),nt(s,u)}}}function Nu(t){let e,o=zn(t[4])+"",n,i,r=xi(t[4])+"",l,a,s=-1*Object.values(oe[ke(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=M("span"),n=K(o),i=G(),l=K(r),a=G(),u=K(s),f=G(),$(e,"class",c=Object.values(oe[ke(t[0].id)].active_costs)[t[6]]>0?"text-textDanger":"text-textHappy")},m(d,m){I(d,e,m),b(e,n),b(e,i),b(e,l),b(e,a),b(e,u),b(e,f)},p(d,m){m&1&&o!==(o=zn(d[4])+"")&&ce(n,o),m&1&&r!==(r=xi(d[4])+"")&&ce(l,r),m&1&&s!==(s=-1*Object.values(oe[ke(d[0].id)].active_costs)[d[6]]+"")&&ce(u,s),m&1&&c!==(c=Object.values(oe[ke(d[0].id)].active_costs)[d[6]]>0?"text-textDanger":"text-textHappy")&&$(e,"class",c)},d(d){d&&T(e)}}}function Pu(t){let e=Object.values(oe[ke(t[0].id)].active_costs)[t[6]]!=0,o,n=e&&Nu(t);return{c(){n&&n.c(),o=Re()},m(i,r){n&&n.m(i,r),I(i,o,r)},p(i,r){r&1&&(e=Object.values(oe[ke(i[0].id)].active_costs)[i[6]]!=0),e?n?n.p(i,r):(n=Nu(i),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(i){i&&T(o),n&&n.d(i)}}}function Eu(t){let e,o,n,i,r,l;o=new vt({props:{class:"bg-accent opacity-25 mt-2"}});let a=He(Object.keys(oe[ke(t[0].id)].requirements.plots)),s=[];for(let u=0;u<a.length;u+=1)s[u]=$u(Su(t,a,u));return{c(){e=M("div"),U(o.$$.fragment),n=G(),i=M("span"),i.textContent="Required Plots",r=G();for(let u=0;u<s.length;u+=1)s[u].c();$(i,"class","font-semibold"),$(e,"class","flex flex-col gap-1 text-xs")},m(u,f){I(u,e,f),W(o,e,null),b(e,n),b(e,i),b(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&5){a=He(Object.keys(oe[ke(u[0].id)].requirements.plots));let c;for(c=0;c<a.length;c+=1){const d=Su(u,a,c);s[c]?s[c].p(d,f):(s[c]=$u(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(y(o.$$.fragment,u),l=!0)},o(u){C(o.$$.fragment,u),l=!1},d(u){u&&T(e),Y(o),nt(s,u)}}}function Ru(t){var l;let e,o=((l=ql(Object.values(oe[ke(t[0].id)].requirements.plots)[t[6]]))==null?void 0:l.title)+"",n,i,r;return{c(){e=M("span"),n=K(o),i=G(),$(e,"class",r=De(Object.values(oe[ke(t[0].id)].requirements.plots)[t[6]],t[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")},m(a,s){I(a,e,s),b(e,n),b(e,i)},p(a,s){var u;s&1&&o!==(o=((u=ql(Object.values(oe[ke(a[0].id)].requirements.plots)[a[6]]))==null?void 0:u.title)+"")&&ce(n,o),s&5&&r!==(r=De(Object.values(oe[ke(a[0].id)].requirements.plots)[a[6]],a[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")&&$(e,"class",r)},d(a){a&&T(e)}}}function $u(t){let e=Object.values(oe[ke(t[0].id)].requirements.plots)[t[6]]!=0,o,n=e&&Ru(t);return{c(){n&&n.c(),o=Re()},m(i,r){n&&n.m(i,r),I(i,o,r)},p(i,r){r&1&&(e=Object.values(oe[ke(i[0].id)].requirements.plots)[i[6]]!=0),e?n?n.p(i,r):(n=Ru(i),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(i){i&&T(o),n&&n.d(i)}}}function Lu(t){let e,o,n,i,r,l=oe[ke(t[0].id)].knowledge_points_per_month>0,a,s;o=new vt({props:{class:"bg-accent opacity-25 mt-2"}});let u=l&&Du(t),f=He(Object.keys(oe[ke(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=Fu(Cu(t,f,d));return{c(){e=M("div"),U(o.$$.fragment),n=G(),i=M("span"),i.textContent="Generated Resources",r=G(),u&&u.c(),a=G();for(let d=0;d<c.length;d+=1)c[d].c();$(i,"class","font-semibold"),$(e,"class","flex flex-col gap-1 text-xs")},m(d,m){I(d,e,m),W(o,e,null),b(e,n),b(e,i),b(e,r),u&&u.m(e,null),b(e,a);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(e,null);s=!0},p(d,m){if(m&1&&(l=oe[ke(d[0].id)].knowledge_points_per_month>0),l?u?u.p(d,m):(u=Du(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),m&1){f=He(Object.keys(oe[ke(d[0].id)].generated_resources));let h;for(h=0;h<f.length;h+=1){const g=Cu(d,f,h);c[h]?c[h].p(g,m):(c[h]=Fu(g),c[h].c(),c[h].m(e,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=f.length}},i(d){s||(y(o.$$.fragment,d),s=!0)},o(d){C(o.$$.fragment,d),s=!1},d(d){d&&T(e),Y(o),u&&u.d(),nt(c,d)}}}function Du(t){let e,o,n=Math.round(oe[ke(t[0].id)].knowledge_points_per_month)+"",i,r;return{c(){e=M("span"),o=K("🧠 "),i=K(n),r=K(" (monthly)")},m(l,a){I(l,e,a),b(e,o),b(e,i),b(e,r)},p(l,a){a&1&&n!==(n=Math.round(oe[ke(l[0].id)].knowledge_points_per_month)+"")&&ce(i,n)},d(l){l&&T(e)}}}function ju(t){let e,o=xi(t[4])+"",n,i,r=zn(t[4])+"",l,a,s=Gl(Object.values(oe[ke(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=M("span"),n=K(o),i=G(),l=K(r),a=G(),u=K(s),f=G(),$(e,"class",c=Object.values(oe[ke(t[0].id)].generated_resources)[t[6]]>0?"text-textHappy":"text-textDanger")},m(d,m){I(d,e,m),b(e,n),b(e,i),b(e,l),b(e,a),b(e,u),b(e,f)},p(d,m){m&1&&o!==(o=xi(d[4])+"")&&ce(n,o),m&1&&r!==(r=zn(d[4])+"")&&ce(l,r),m&1&&s!==(s=Gl(Object.values(oe[ke(d[0].id)].generated_resources)[d[6]],!1)+"")&&ce(u,s),m&1&&c!==(c=Object.values(oe[ke(d[0].id)].generated_resources)[d[6]]>0?"text-textHappy":"text-textDanger")&&$(e,"class",c)},d(d){d&&T(e)}}}function Fu(t){let e=Object.values(oe[ke(t[0].id)].generated_resources)[t[6]]!=0,o,n=e&&ju(t);return{c(){n&&n.c(),o=Re()},m(i,r){n&&n.m(i,r),I(i,o,r)},p(i,r){r&1&&(e=Object.values(oe[ke(i[0].id)].generated_resources)[i[6]]!=0),e?n?n.p(i,r):(n=ju(i),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(i){i&&T(o),n&&n.d(i)}}}function Y3(t){let e,o,n=t[0]!=null&&Tu(t);return{c(){n&&n.c(),e=Re()},m(i,r){n&&n.m(i,r),I(i,e,r),o=!0},p(i,[r]){i[0]!=null?n?(n.p(i,r),r&1&&y(n,1)):(n=Tu(i),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(Ie(),C(n,1,1,()=>{n=null}),Me())},i(i){o||(y(n),o=!0)},o(i){C(n),o=!1},d(i){i&&T(e),n&&n.d(i)}}}function xi(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const Bu=t=>t!=0,qu=t=>t!=0;function U3(t,e,o){let n;se(t,Oe,a=>o(2,n=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger border-2 border-red-400 px-2"),f=`<span class='${c}'>${a} ${st(s,!1)}</span>`,f}return t.$$set=a=>{"option"in a&&o(0,i=a.option),"checkRequirements"in a&&o(1,r=a.checkRequirements)},[i,r,n,l]}class ud extends pe{constructor(e){super(),me(this,e,U3,Y3,de,{option:0,checkRequirements:1})}}function Gu(t,e,o){const n=t.slice();return n[19]=e[o],n}function K3(t){let e,o;return{c(){e=M("span"),o=K(t[3]),$(e,"class","text-[11px] text-wrap")},m(n,i){I(n,e,i),b(e,o)},p(n,i){i&8&&ce(o,n[3])},d(n){n&&T(e)}}}function J3(t){let e;return{c(){e=M("span"),e.textContent="Click to bulldoze",$(e,"class","text-[11px] text-wrap text-yellow-300")},m(o,n){I(o,e,n)},p:Te,d(o){o&&T(e)}}}function X3(t){let e,o,n,i,r;return{c(){e=M("span"),o=K(`Hires
              `),n=M("span"),i=K(t[9]),r=K(`

              employees`),$(n,"class",t[10]+" font-medium svelte-1c0sbj7"),$(e,"class","text-[11px] opacity-80")},m(l,a){I(l,e,a),b(e,o),b(e,n),b(n,i),b(e,r)},p:Te,d(l){l&&T(e)}}}function Z3(t){let e;return{c(){e=M("span"),e.textContent=`+💰${st(t[8],!1)}/wk`},m(o,n){I(o,e,n)},p:Te,d(o){o&&T(e)}}}function Q3(t){let e;return{c(){e=M("span"),e.textContent=`🔌${t[11]}`},m(o,n){I(o,e,n)},p:Te,d(o){o&&T(e)}}}function Hu(t){let e,o,n,i,r=He(t[13]()),l=[];for(let a=0;a<r.length;a+=1)l[a]=xu(Gu(t,r,a));return{c(){e=M("div"),o=M("div"),n=M("div"),n.textContent=`${t[4]}`,i=G();for(let a=0;a<l.length;a+=1)l[a].c();$(n,"class","text-white font-bold text-lg mb-2"),$(o,"class","p-2 text-center mt-4"),$(e,"class","absolute inset-0 flex items-start justify-center rounded-xl bg-black/80")},m(a,s){I(a,e,s),b(e,o),b(o,n),b(o,i);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(o,null)},p(a,s){if(s&8192){r=He(a[13]());let u;for(u=0;u<r.length;u+=1){const f=Gu(a,r,u);l[u]?l[u].p(f,s):(l[u]=xu(f),l[u].c(),l[u].m(o,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=r.length}},d(a){a&&T(e),nt(l,a)}}}function xu(t){let e;return{c(){e=M("div"),e.textContent=`${t[19]} `,$(e,"class","text-red-400 font-semibold text-[10px] mb-1")},m(o,n){I(o,e,n)},p:Te,d(o){o&&T(e)}}}function z3(t){let e,o,n,i,r,l,a,s,u,f,c,d,m,h=st(t[6],!1)+"",g,p,w,v,S,j,D,F,P;function N(B,L){if(B[0].selected)return J3;if(B[3])return K3}let R=N(t),q=R&&R(t),O=t[9]&&X3(t),k=t[8]>0&&Z3(t),A=t[11]>0&&Q3(t),E=!t[2].affordable&&!t[0].selected&&Hu(t);return{c(){e=M("div"),o=M("div"),n=M("div"),i=M("span"),i.textContent=`${t[5]}`,r=G(),l=M("span"),l.textContent=`${t[4]}`,a=G(),q&&q.c(),s=G(),u=M("div"),O&&O.c(),f=G(),c=M("div"),d=M("span"),m=K("💰"),g=K(h),p=G(),k&&k.c(),w=G(),v=M("div"),A&&A.c(),j=G(),E&&E.c(),$(i,"class","text-3xl"),$(l,"class","font-medium text-center text-md"),$(n,"class","flex flex-col flex-grow rounded-xl p-2 gap-0 justify-center items-center"),$(d,"class",""+t[7]+" svelte-1c0sbj7"),$(c,"class","flex flex-row justify-between mx-2 text-[11px] font-mono items-center"),$(v,"class","flex flex-row justify-between mx-2 text-[11px] font-mono"),$(u,"class","bg-sidebarBackground text-black rounded-t-lg py-1"),$(o,"class",S="flex flex-col w-36 h-48 min-h-32 min-w-36 rounded-xl text-white drop-shadow-lg border-black border-2 hover:translate-y-[-8px] transition-transform duration-300 ease-in-out z-100 "+(t[0].selected?"border-4 border-white scale-105":"")),Je(o,"background",t[12]),$(e,"class","plotOption relative svelte-1c0sbj7"),$(e,"data-plotoptionid",D=t[0].id)},m(B,L){I(B,e,L),b(e,o),b(o,n),b(n,i),b(n,r),b(n,l),b(n,a),q&&q.m(n,null),b(o,s),b(o,u),O&&O.m(u,null),b(u,f),b(u,c),b(c,d),b(d,m),b(d,g),b(c,p),k&&k.m(c,null),b(u,w),b(u,v),A&&A.m(v,null),b(e,j),E&&E.m(e,null),F||(P=ee(e,"click",function(){Lt(t[2].affordable?t[16]:Vu)&&(t[2].affordable?t[16]:Vu).apply(this,arguments)}),F=!0)},p(B,L){t=B,R===(R=N(t))&&q?q.p(t,L):(q&&q.d(1),q=R&&R(t),q&&(q.c(),q.m(n,null))),t[9]&&O.p(t,L),t[8]>0&&k.p(t,L),t[11]>0&&A.p(t,L),L&1&&S!==(S="flex flex-col w-36 h-48 min-h-32 min-w-36 rounded-xl text-white drop-shadow-lg border-black border-2 hover:translate-y-[-8px] transition-transform duration-300 ease-in-out z-100 "+(t[0].selected?"border-4 border-white scale-105":""))&&$(o,"class",S),!t[2].affordable&&!t[0].selected?E?E.p(t,L):(E=Hu(t),E.c(),E.m(e,null)):E&&(E.d(1),E=null),L&1&&D!==(D=t[0].id)&&$(e,"data-plotoptionid",D)},d(B){B&&T(e),q&&q.d(),O&&O.d(),k&&k.d(),A&&A.d(),E&&E.d(),F=!1,P()}}}function e4(t){let e,o;return e=new ud({props:{option:t[0],checkRequirements:!0}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&1&&(r.option=n[0]),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function t4(t){let e,o,n,i;return e=new _o({props:{$$slots:{default:[z3]},$$scope:{ctx:t}}}),n=new ho({props:{$$slots:{default:[e4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),I(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&4194319&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4194305&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),C(n.$$.fragment,r),i=!1},d(r){r&&T(o),Y(e,r),Y(n,r)}}}function n4(t){let e,o;return e=new go({props:{openDelay:400,closeDelay:0,$$slots:{default:[t4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,[i]){const r={};i&4194319&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}const Vu=()=>{};function o4(t,e,o){let n;se(t,Oe,D=>o(15,n=D));let{option:i}=e,{purchaseCallback:r}=e,{isAffordable:l}=e,a=i.title,s=i.emoji,u=i.requirements.gold,f=n.townInfo.gold<u?"text-red-500 font-semibold":"",c=i.revenue_per_week,d=i.requirements.employees,m=n.townInfo.population_count-n.townInfo.employees<d?"text-red-500 font-semibold":"",h=i.active_costs.power,g=Rr(ke(i.id),!1,5),{count:p=0}=e,w="";const v=Object.entries(i.generated_resources).filter(([D,F])=>F>0).map(([D,F])=>`${F} ${D}`);v.length>0&&(w=`Produces: ${v.join(", ")}`);function S(){const D=[];return l.gold||D.push("Not enough gold"),l.knowledge||D.push("Not enough knowledge"),l.resources||D.push("Missing resources"),l.employees||D.push("Not enough workers"),l.activeCosts||D.push("Can't support active costs"),l.adjacent||D.push("Missing adjacent plots"),l.requiredPlots||D.push("Missing required plots"),D}const j=()=>r(i);return t.$$set=D=>{"option"in D&&o(0,i=D.option),"purchaseCallback"in D&&o(1,r=D.purchaseCallback),"isAffordable"in D&&o(2,l=D.isAffordable),"count"in D&&o(14,p=D.count)},t.$$.update=()=>{t.$$.dirty&32768},[i,r,l,w,a,s,u,f,c,d,m,h,g,S,p,n,j]}class i4 extends pe{constructor(e){super(),me(this,e,o4,n4,de,{option:0,purchaseCallback:1,isAffordable:2,count:14})}}const{Map:r4}=gd;function Wu(t,e,o){const n=t.slice();return n[21]=e[o],n}function Yu(t){let e,o,n,i,r,l,a,s,u,f,c=[],d=new r4,m,h,g,p,w,v,S,j,D=He(t[5].filter(t[11]));const F=P=>P[21].id;for(let P=0;P<D.length;P+=1){let N=Wu(t,D,P),R=F(N);d.set(R,c[P]=Uu(R,N))}return p=new ad({props:{mini:!0}}),{c(){e=M("div"),n=G(),i=M("div"),r=M("div"),l=M("div"),a=M("div"),s=M("div"),u=M("div"),f=M("div");for(let P=0;P<c.length;P+=1)c[P].c();h=G(),g=M("div"),U(p.$$.fragment),$(e,"class","fixed inset-0 bg-black/20 z-[998]"),$(f,"class",m="flex flex-row text-start justify-start items-start flex-wrap py-8 px-8 max-w-[75vw] "+(t[3].isMineralSource,"pt-6 gap-2")+" w-full align-middle"),$(s,"class","flex gap-1 pb-24 overflow-scroll max-h-["+Ku+"]"),$(a,"class","flex flex-row gap-2 justify-start pt-8 flex-grow w-full"),$(r,"class","h-max w-full flex-grow"),$(i,"class","w-[100vw] fixed bottom-0 max-h-["+Ku+"] z-[999] flex flex-row justify-center text-center items-center bg-popupBackground text-sidebarText px-4 shadow-2xl rounded-t-2xl")},m(P,N){I(P,e,N),I(P,n,N),I(P,i,N),b(i,r),b(r,l),b(l,a),b(a,s),b(s,u),b(u,f);for(let R=0;R<c.length;R+=1)c[R]&&c[R].m(f,null);b(i,h),b(i,g),W(p,g,null),v=!0,S||(j=[ee(e,"click",t[10]),ee(a,"click",t[6]),ee(i,"click",vd(t[9]))],S=!0)},p(P,N){N&59&&(D=He(P[5].filter(P[11])),Ie(),c=Pd(c,N,F,1,P,D,d,f,Nd,Uu,null,Wu),Me()),(!v||N&8&&m!==(m="flex flex-row text-start justify-start items-start flex-wrap py-8 px-8 max-w-[75vw] "+(P[3].isMineralSource,"pt-6 gap-2")+" w-full align-middle"))&&$(f,"class",m)},i(P){if(!v){P&&ze(()=>{v&&(o||(o=gt(e,Ei,{duration:200},!0)),o.run(1))});for(let N=0;N<D.length;N+=1)y(c[N]);y(p.$$.fragment,P),P&&ze(()=>{v&&(w||(w=gt(i,ua,{duration:200,axis:"y"},!0)),w.run(1))}),v=!0}},o(P){P&&(o||(o=gt(e,Ei,{duration:200},!1)),o.run(0));for(let N=0;N<c.length;N+=1)C(c[N]);C(p.$$.fragment,P),P&&(w||(w=gt(i,ua,{duration:200,axis:"y"},!1)),w.run(0)),v=!1},d(P){P&&(T(e),T(n),T(i)),P&&o&&o.end();for(let N=0;N<c.length;N+=1)c[N].d();Y(p),P&&w&&w.end(),S=!1,xe(j)}}}function Uu(t,e){let o,n,i;return n=new i4({props:{option:e[21],purchaseCallback:a4,isAffordable:jo(e[21],e[4],e[0],e[1])}}),{key:t,first:null,c(){o=Re(),U(n.$$.fragment),this.first=o},m(r,l){I(r,o,l),W(n,r,l),i=!0},p(r,l){e=r;const a={};l&40&&(a.option=e[21]),l&59&&(a.isAffordable=jo(e[21],e[4],e[0],e[1])),n.$set(a)},i(r){i||(y(n.$$.fragment,r),i=!0)},o(r){C(n.$$.fragment,r),i=!1},d(r){r&&T(o),Y(n,r)}}}function l4(t){let e=t[2]&&localStorage.getItem($t)==null,o,n,i=e&&Yu(t);return{c(){i&&i.c(),o=Re()},m(r,l){i&&i.m(r,l),I(r,o,l),n=!0},p(r,[l]){l&4&&(e=r[2]&&localStorage.getItem($t)==null),e?i?(i.p(r,l),l&4&&y(i,1)):(i=Yu(r),i.c(),y(i,1),i.m(o.parentNode,o)):i&&(Ie(),C(i,1,1,()=>{i=null}),Me())},i(r){n||(y(i),n=!0)},o(r){C(i),n=!1},d(r){r&&T(o),i&&i.d(r)}}}const Ku="50vh";function s4(t,e,o){return t>=0&&t<o.length&&e>=0&&e<o[0].length&&!o[t][e].water&&!o[t][e].disabled}function li(t,e,o,n,i){let r=t+o,l=e+n;for(;r>=0&&r<i.length&&l>=0&&l<i[0].length;){if(s4(r,l,i))return[r,l];r+=o,l+=n}return null}const a4=()=>{};function u4(t,e,o){let n,i,r,l;se(t,Qe,P=>o(3,r=P)),se(t,Oe,P=>o(4,l=P));let{x:a=0}=e,{y:s=0}=e,{open:u=!1}=e,{tooltip:f=""}=e,c=oe,d;const m=new Map;function h(P){return m.has(P)||m.set(P,oe.findIndex(N=>N.id===P)),m.get(P)}function g(P){return l.plots[a][s].type>-1?c[l.plots[a][s].type].id===P.id:!1}function p(P){const N=P.target.closest(".plotOption");if(N){const R=N.dataset.plotoptionid;if(R===l.plots[a][s].typeId){v();return}w(R)}}function w(P){const N=h(P),R=c[N];let q=l;if(jo(R,q,a,s).affordable){if(q.plots[a][s].type!==-1&&eo(a,s,q),o(7,f=""),q.plots[a][s].type=N,q.plots[a][s].active=!0,q.plots[a][s].typeId=R.id,q.townInfo.gold-=R.requirements.gold,q.townInfo.gold=tt(q.townInfo.gold,2),q.townInfo.population_count+=R.immediate_variable_changes.population,q.townInfo.population_max+=R.immediate_variable_changes.population,q.townInfo.happiness+=R.immediate_variable_changes.happiness,q.townInfo.health+=R.immediate_variable_changes.health,q.modifiers.happiness=tt(q.modifiers.happiness*R.purchase_effect_modifiers.happiness,2),q.modifiers.health=tt(q.modifiers.health*R.purchase_effect_modifiers.health,2),q.modifiers.community=tt(q.modifiers.community*R.purchase_effect_modifiers.community,2),q.townInfo.employees+=R.requirements.employees,(q.plotCounts[N]===void 0||q.plotCounts[N]===null)&&(q.plotCounts[N]=0),q.plotCounts[N]++,q.lastChangeDay=q.environment.day,R.requirements.resources!==void 0){const k=R.requirements.resources;q.resources.food-=k.food,q.resources.wood-=k.wood,q.resources.stone-=k.stone,q.resources.metal-=k.metal}switch(R.id){case"city_hall":q.hasCityHall=!0;break;case"bank":q.hasBank=!0;break}xf(q,dl.BUILD_PLOT,{plot_type:R.id,x:a.toString(),y:s.toString(),end_goal:q.endGoal,day:q.environment.day,settings:q.gameSettings.join(",")}),Oe.set(q),localStorage.setItem(ot,JSON.stringify(q));const O=Om(a,s,q);if(O){const[k,A]=O;o(0,a=k),o(1,s=A),Ae(Qe,r.x=k,r),Ae(Qe,r.y=A,r);const E=document.querySelector(`.plot_container[data-x="${k}"][data-y="${A}"]`);if(E){const B=E.getBoundingClientRect(),L=window.innerHeight||d.clientHeight,J=window.innerWidth||d.clientWidth,z=d.scrollTop+B.top-L/2+225,X=d.scrollLeft+B.left-J/2;window.scrollTo({top:z,left:X,behavior:"smooth"}),document.querySelectorAll(".plot_container").forEach(Z=>Z.classList.remove("selected")),E.classList.add("selected")}}}else o(7,f="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(k=>{k.classList.remove("active")})}function v(){document.querySelectorAll(".plotOption").forEach(N=>{N.classList.remove("active")}),eo(a,s,l)}function S(P){if(!u)return;let N=null;switch(P.key.toLowerCase()){case"arrowup":case"w":N=li(r.x,r.y,-1,0,l.plots);break;case"arrowdown":case"s":N=li(r.x,r.y,1,0,l.plots);break;case"arrowleft":case"a":N=li(r.x,r.y,0,-1,l.plots);break;case"arrowright":case"d":N=li(r.x,r.y,0,1,l.plots);break;default:return}if(!N)return;const[R,q]=N;Ae(Qe,r.x=R,r),Ae(Qe,r.y=q,r);const O=document.querySelector(`.plot_container[data-x="${R}"][data-y="${q}"]`);if(O){const k=O.getBoundingClientRect(),A=window.innerHeight||d.clientHeight,E=window.innerWidth||d.clientWidth,B=d.scrollTop+k.top-A/2+225,L=d.scrollLeft+k.left-E/2;window.scrollTo({top:B,left:L,behavior:"smooth"}),document.querySelectorAll(".plot_container").forEach(z=>z.classList.remove("selected")),O.classList.add("selected")}}Wo(()=>{d=document.documentElement||document.body,window.addEventListener("keydown",S)}),Of(()=>{window.removeEventListener("keydown",S)});function j(P){re.call(this,t,P)}const D=()=>Ae(Qe,r.visible=!1,r),F=P=>r.isMineralSource?P.id==="mine":P.id!=="mine";return t.$$set=P=>{"x"in P&&o(0,a=P.x),"y"in P&&o(1,s=P.y),"open"in P&&o(2,u=P.open),"tooltip"in P&&o(7,f=P.tooltip)},t.$$.update=()=>{t.$$.dirty&19&&o(8,n=l?c.map(P=>Object.assign(Object.assign({},P),{affordable:jo(P,l,a,s).affordable,selected:g(P)})):[]),t.$$.dirty&280&&o(5,i=l?(()=>{let P=[...n];if(r.isMineralSource)return P.filter(N=>N.id==="mine");De("tree_farm",l).length===0&&(P=P.filter(N=>["small_homes","farm","tree_farm"].includes(N.id)));for(const[N,R]of Object.entries(Dd))typeof R=="number"&&R>0&&De(N,l).length>=R&&(P=P.filter(q=>q.id!==N));return P.sort((N,R)=>N.selected&&!R.selected?-1:0)})():[])},[a,s,u,r,l,i,p,f,n,j,D,F]}class fd extends pe{constructor(e){super(),me(this,e,u4,l4,de,{x:0,y:1,open:2,tooltip:7})}}function f4(t){let e,o,n;return{c(){e=M("span"),o=K("My liege, if you build a City Hall, you can expand your city "),n=K(t[0]),$(e,"class","text-xs")},m(i,r){I(i,e,r),b(e,o),b(e,n)},p(i,r){r&1&&ce(n,i[0])},i:Te,o:Te,d(i){i&&T(e)}}}function c4(t){let e,o;return e=new Ot({props:{class:"bg-accent h-max rounded-2xl hover:scale-110 transition-transform duration-200 ease-in-out hover:drop-shadow-2xl",$$slots:{default:[d4]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&11&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function d4(t){let e,o,n,i,r,l=t[0].toUpperCase()+"",a,s,u,f,c,d,m,h,g,p,w,v=Math.round(Math.pow(1.7,t[1].kingdom_expansions+5))+"",S,j,D,F;return{c(){e=M("div"),o=K("My liege, you can expand your "),n=M("br"),i=K(`kingdom
        `),r=M("span"),a=K(l),s=K(`
        using
        `),u=M("br"),f=K(`your
        `),c=M("span"),c.textContent="City Hall",d=K("!"),m=M("br"),h=M("br"),g=G(),p=M("span"),w=K("Requires "),S=K(v),j=K(` Guardians
          `),D=M("br"),F=K("to be employed. (see city mgmt menu)"),$(r,"class","font-extrabold text-blue-200"),$(c,"class","text-blue-200 bold"),$(p,"class","opacity-75 text-xs")},m(P,N){I(P,e,N),b(e,o),b(e,n),b(e,i),b(e,r),b(r,a),b(e,s),b(e,u),b(e,f),b(e,c),b(e,d),b(e,m),b(e,h),b(e,g),b(e,p),b(p,w),b(p,S),b(p,j),b(p,D),b(p,F)},p(P,N){N&1&&l!==(l=P[0].toUpperCase()+"")&&ce(a,l),N&2&&v!==(v=Math.round(Math.pow(1.7,P[1].kingdom_expansions+5))+"")&&ce(S,v)},d(P){P&&T(e)}}}function m4(t){let e,o,n,i,r;const l=[c4,f4],a=[];function s(u,f){return f&2&&(o=null),o==null&&(o=De("city_hall",u[1]).length>0),o?0:1}return n=s(t,-1),i=a[n]=l[n](t),{c(){e=M("div"),i.c(),$(e,"class","w-48 h-max")},m(u,f){I(u,e,f),a[n].m(e,null),r=!0},p(u,[f]){let c=n;n=s(u,f),n===c?a[n].p(u,f):(Ie(),C(a[c],1,1,()=>{a[c]=null}),Me(),i=a[n],i?i.p(u,f):(i=a[n]=l[n](u),i.c()),y(i,1),i.m(e,null))},i(u){r||(y(i),r=!0)},o(u){C(i),r=!1},d(u){u&&T(e),a[n].d()}}}function p4(t,e,o){let n;se(t,Oe,l=>o(1,n=l));let{direction:i}=e;const r=()=>{const l=$m(n,i);l&&It.set(l)};return t.$$set=l=>{"direction"in l&&o(0,i=l.direction)},[i,n,r]}class Ju extends pe{constructor(e){super(),me(this,e,p4,m4,de,{direction:0})}}function h4(t){let e;return{c(){e=M("span"),e.textContent="Start here!",$(e,"class","text-md text-black select-none transition-all duration-500 animate-pulse ")},m(o,n){I(o,e,n)},p:Te,d(o){o&&T(e)}}}function g4(t){let e,o,n,i=oe[t[0].type].emoji+"",r,l,a,s,u,f=oe[t[0].type].title+"",c,d,m,h,g;return{c(){e=M("div"),o=M("span"),n=M("span"),r=K(i),l=G(),a=M("br"),s=G(),u=M("span"),c=K(f),$(n,"class","text-lg align-text-top select-none"),$(u,"class",d="text-sm align-text-top "+(oe[t[0].type].id=="mine"?"text-white":"text-black")+" select-none"),$(o,"data-size",m=oe[t[0].type].requirements.size),$(o,"data-x",h=t[0].x),$(o,"data-y",g=t[0].y),$(e,"class","svelte-lm6uio")},m(p,w){I(p,e,w),b(e,o),b(o,n),b(n,r),b(o,l),b(o,a),b(o,s),b(o,u),b(u,c)},p(p,w){w&1&&i!==(i=oe[p[0].type].emoji+"")&&ce(r,i),w&1&&f!==(f=oe[p[0].type].title+"")&&ce(c,f),w&1&&d!==(d="text-sm align-text-top "+(oe[p[0].type].id=="mine"?"text-white":"text-black")+" select-none")&&$(u,"class",d),w&1&&m!==(m=oe[p[0].type].requirements.size)&&$(o,"data-size",m),w&1&&h!==(h=p[0].x)&&$(o,"data-x",h),w&1&&g!==(g=p[0].y)&&$(o,"data-y",g)},d(p){p&&T(e)}}}function Xu(t){let e;return{c(){e=M("span"),e.textContent="🧲",$(e,"class","text-lg")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function Zu(t){let e;return{c(){e=M("span"),e.textContent="👑",$(e,"class","text-lg absolute top-0")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function _4(t){let e,o,n,i=t[7](t[0].x,t[0].y),r,l,a,s,u,f,c,d,m,h,g,p,w,v,S,j;function D(q,O){if(q[0].type>-1)return g4;if(q[0].type==-1&&q[0].x==0&&q[0].y==0)return h4}let F=D(t),P=F&&F(t),N=t[0].mineralSource&&t[0].type==-1&&Xu(),R=i&&Zu();return{c(){e=M("button"),P&&P.c(),o=G(),N&&N.c(),n=G(),R&&R.c(),$(e,"class",r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" svelte-lm6uio"),Je(e,"background-color",t[0].water?"rgba(66, 135, 245, 1)":t[5].x==t[0].x&&t[5].y==t[0].y&&t[5].visible?"white":t[0].mineralSource?"black":Rr(t[0].type,t[2])),$(e,"data-active",l=t[0].active),$(e,"data-hidehoveranimation",a=t[5].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),$(e,"data-id",s=t[0].id),$(e,"data-x",u=t[0].x),$(e,"data-y",f=t[0].y),$(e,"data-optionindex",c=t[0].optionIndex),$(e,"data-canbeupgraded",t[2]),$(e,"data-type",d=t[0].type),$(e,"data-type-id",m=t[0].typeId),$(e,"data-size",h=t[0].type>-1?oe[t[0].type].requirements.size:null),$(e,"data-mineralsource",g=t[0].mineralSource),$(e,"data-water",p=t[0].water),$(e,"data-nearwater",w=In(t[0].x,t[0].y,t[3])),$(e,"data-liegelocation",v=t[7](t[0].x,t[0].y))},m(q,O){I(q,e,O),P&&P.m(e,null),b(e,o),N&&N.m(e,null),b(e,n),R&&R.m(e,null),S||(j=ee(e,"click",function(){Lt(t[0].water?null:t[6]?Hl(t[0].x,t[0].y,t[3]):t[8])&&(t[0].water?null:t[6]?Hl(t[0].x,t[0].y,t[3]):t[8]).apply(this,arguments)}),S=!0)},p(q,O){t=q,F===(F=D(t))&&P?P.p(t,O):(P&&P.d(1),P=F&&F(t),P&&(P.c(),P.m(e,o))),t[0].mineralSource&&t[0].type==-1?N||(N=Xu(),N.c(),N.m(e,n)):N&&(N.d(1),N=null),O&1&&(i=t[7](t[0].x,t[0].y)),i?R||(R=Zu(),R.c(),R.m(e,null)):R&&(R.d(1),R=null),O&7&&r!==(r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" svelte-lm6uio")&&$(e,"class",r),O&37&&Je(e,"background-color",t[0].water?"rgba(66, 135, 245, 1)":t[5].x==t[0].x&&t[5].y==t[0].y&&t[5].visible?"white":t[0].mineralSource?"black":Rr(t[0].type,t[2])),O&1&&l!==(l=t[0].active)&&$(e,"data-active",l),O&33&&a!==(a=t[5].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0)&&$(e,"data-hidehoveranimation",a),O&1&&s!==(s=t[0].id)&&$(e,"data-id",s),O&1&&u!==(u=t[0].x)&&$(e,"data-x",u),O&1&&f!==(f=t[0].y)&&$(e,"data-y",f),O&1&&c!==(c=t[0].optionIndex)&&$(e,"data-optionindex",c),O&4&&$(e,"data-canbeupgraded",t[2]),O&1&&d!==(d=t[0].type)&&$(e,"data-type",d),O&1&&m!==(m=t[0].typeId)&&$(e,"data-type-id",m),O&1&&h!==(h=t[0].type>-1?oe[t[0].type].requirements.size:null)&&$(e,"data-size",h),O&1&&g!==(g=t[0].mineralSource)&&$(e,"data-mineralsource",g),O&1&&p!==(p=t[0].water)&&$(e,"data-water",p),O&9&&w!==(w=In(t[0].x,t[0].y,t[3]))&&$(e,"data-nearwater",w),O&1&&v!==(v=t[7](t[0].x,t[0].y))&&$(e,"data-liegelocation",v)},d(q){q&&T(e),P&&P.d(),N&&N.d(),R&&R.d(),S=!1,j()}}}function Qu(t){let e;return{c(){e=K("Water - Place farms nearby for more food & revenue!")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function zu(t){let e;return{c(){e=M("span"),e.textContent="Near water - Generating more food & revenue!",$(e,"class","text-xs bg-blue-500 text-white px-2 py-3 rounded-2xl text-center")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function ef(t){let e;function o(r,l){return oe[r[0].type].liege_on_plot_hint==null?v4:b4}let n=o(t),i=n(t);return{c(){e=M("span"),i.c(),$(e,"class","text-xs bg-pink-700 text-white px-2 py-3 rounded-2xl text-center")},m(r,l){I(r,e,l),i.m(e,null)},p(r,l){n===(n=o(r))&&i?i.p(r,l):(i.d(1),i=n(r),i&&(i.c(),i.m(e,null)))},d(r){r&&T(e),i.d()}}}function b4(t){let e=oe[t[0].type].liege_on_plot_hint+"",o;return{c(){o=K(e)},m(n,i){I(n,o,i)},p(n,i){i&1&&e!==(e=oe[n[0].type].liege_on_plot_hint+"")&&ce(o,e)},d(n){n&&T(o)}}}function v4(t){let e,o=oe[t[0].type].title+"",n,i;return{c(){e=K("You are hanging out on the "),n=K(o),i=K(` plot, but nothing
            seems to be changing except a revenue boost.`)},m(r,l){I(r,e,l),I(r,n,l),I(r,i,l)},p(r,l){l&1&&o!==(o=oe[r[0].type].title+"")&&ce(n,o)},d(r){r&&(T(e),T(n),T(i))}}}function tf(t){let e,o;return e=new ud({props:{option:t[4],checkRequirements:!1}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&16&&(r.option=n[4]),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function y4(t){let e,o,n=In(t[0].x,t[0].y,t[3]),i,r=Wn(t[0].x,t[0].y,t[3]),l,a,s=t[0].water&&Qu(),u=n&&zu(),f=r&&ef(t),c=t[0].active&&tf(t);return{c(){e=M("div"),s&&s.c(),o=G(),u&&u.c(),i=G(),f&&f.c(),l=G(),c&&c.c(),$(e,"class","flex flex-col gap-2")},m(d,m){I(d,e,m),s&&s.m(e,null),b(e,o),u&&u.m(e,null),b(e,i),f&&f.m(e,null),b(e,l),c&&c.m(e,null),a=!0},p(d,m){d[0].water?s||(s=Qu(),s.c(),s.m(e,o)):s&&(s.d(1),s=null),m&9&&(n=In(d[0].x,d[0].y,d[3])),n?u||(u=zu(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),m&9&&(r=Wn(d[0].x,d[0].y,d[3])),r?f?f.p(d,m):(f=ef(d),f.c(),f.m(e,l)):f&&(f.d(1),f=null),d[0].active?c?(c.p(d,m),m&1&&y(c,1)):(c=tf(d),c.c(),y(c,1),c.m(e,null)):c&&(Ie(),C(c,1,1,()=>{c=null}),Me())},i(d){a||(y(c),a=!0)},o(d){C(c),a=!1},d(d){d&&T(e),s&&s.d(),u&&u.d(),f&&f.d(),c&&c.d()}}}function w4(t){let e,o,n,i;return e=new _o({props:{$$slots:{default:[_4]},$$scope:{ctx:t}}}),n=new ho({props:{class:"max-w-64 rounded-3xl "+(t[0].type<0&&!t[0].water?"hidden":""),$$slots:{default:[y4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),I(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&8303&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class="max-w-64 rounded-3xl "+(r[0].type<0&&!r[0].water?"hidden":"")),l&8217&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),C(n.$$.fragment,r),i=!1},d(r){r&&T(o),Y(e,r),Y(n,r)}}}function k4(t){let e,o;return e=new go({props:{openDelay:400,closeDelay:0,$$slots:{default:[w4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,[i]){const r={};i&8319&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function C4(t,e,o){let n,i,r,l,a,s;se(t,Qe,p=>o(5,n=p)),se(t,Oe,p=>o(3,i=p)),se(t,Tt,p=>o(11,r=p)),se(t,ki,p=>o(12,l=p)),se(t,Ft,p=>o(10,a=p)),se(t,no,p=>o(6,s=p));let{data:u={id:0,active:!1,x:0,y:0,type:-1,styling:"",mineralSource:!1,disabled:!1,water:!1}}=e,f,{classText:c=""}=e,{canBeUpgraded:d=!1}=e;const m=(p,w)=>i.liege_location!=null&&p==i.liege_location[0]&&w==i.liege_location[1];function h(p,w,v){if(localStorage.getItem($t)!=null)return;let S=document.querySelectorAll(".plot_container");if(r==!1)if(!u.active&&!d)Ae(ki,l={},l),Ae(Qe,n.visible=!1,n),S.forEach(j=>{j.classList.remove("selected")});else{w!=null&&v!=null?(Ae(Qe,n.x=w,n),Ae(Qe,n.y=v,n)):(Ae(Qe,n.x=u.x,n),Ae(Qe,n.y=u.y,n)),Ae(Qe,n.isMineralSource=u.mineralSource,n),Ae(Qe,n.visible=!0,n);const j=document.querySelector(`.plot_container[data-id="${u.id}"]`),D=document.documentElement||document.body,F=j.getBoundingClientRect(),P=window.innerHeight||D.clientHeight,N=window.innerWidth||D.clientWidth,R=D.scrollTop+F.top-P/2+225,q=D.scrollLeft+F.left-N/2;window.scrollTo({top:R,left:q,behavior:"smooth"}),S.forEach(O=>{O.classList.remove("selected")}),w!=null&&v!=null?document.querySelector(`.plot_container[data-x="${w}"][data-y="${v}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${u.id}"]`).classList.add("selected")}}function g(p){r==!1&&(Ae(Oe,i.plots[u.x][u.y].type=p,i),Ae(Qe,n.visible=!1,n))}return t.$$set=p=>{"data"in p&&o(0,u=p.data),"classText"in p&&o(1,c=p.classText),"canBeUpgraded"in p&&o(2,d=p.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1033&&(u.type>-1&&o(4,f=oe[u.type]),u.disabled==!0&&a.visible==!1&&(eo(u.x,u.y,i),o(0,u.disabled=!1,u),Ae(Ft,a.visible=!1,a)))},[u,c,d,i,f,n,s,m,h,g,a]}class S4 extends pe{constructor(e){super(),me(this,e,C4,k4,de,{data:0,classText:1,canBeUpgraded:2,changePlotType:9})}get changePlotType(){return this.$$.ctx[9]}}function nf(t,e,o){const n=t.slice();return n[8]=e[o],n[10]=o,n}function of(t,e,o){const n=t.slice();return n[11]=e[o],n}function rf(t){let e,o,n,i,r,l,a,s,u,f,c,d=t[3],m,h,g=He(t[1].plots),p=[];for(let S=0;S<g.length;S+=1)p[S]=sf(nf(t,g,S));const w=S=>C(p[S],1,1,()=>{p[S]=null});a=new Ju({props:{direction:"east"}}),f=new Ju({props:{direction:"south"}});let v=uf(t);return{c(){e=M("div"),o=M("div"),n=M("div"),i=M("div");for(let S=0;S<p.length;S+=1)p[S].c();r=G(),l=M("span"),U(a.$$.fragment),s=G(),u=M("span"),U(f.$$.fragment),c=G(),v.c(),m=Re(),$(i,"class","grid plot_controller svelte-1udphho"),$(n,"class","flex flex-row items-center"),$(o,"style",t[2]),$(o,"id","plotContainerMain"),$(o,"class","items-center h-max flex flex-col pr-80 pb-80  svelte-1udphho"),$(e,"class","flex flex-col")},m(S,j){I(S,e,j),b(e,o),b(o,n),b(n,i);for(let D=0;D<p.length;D+=1)p[D]&&p[D].m(i,null);b(n,r),b(n,l),W(a,l,null),b(o,s),b(o,u),W(f,u,null),I(S,c,j),v.m(S,j),I(S,m,j),h=!0},p(S,j){if(j&3){g=He(S[1].plots);let D;for(D=0;D<g.length;D+=1){const F=nf(S,g,D);p[D]?(p[D].p(F,j),y(p[D],1)):(p[D]=sf(F),p[D].c(),y(p[D],1),p[D].m(i,null))}for(Ie(),D=g.length;D<p.length;D+=1)w(D);Me()}(!h||j&4)&&$(o,"style",S[2]),j&8&&de(d,d=S[3])?(Ie(),C(v,1,1,Te),Me(),v=uf(S),v.c(),y(v,1),v.m(m.parentNode,m)):v.p(S,j)},i(S){if(!h){for(let j=0;j<g.length;j+=1)y(p[j]);y(a.$$.fragment,S),y(f.$$.fragment,S),y(v),h=!0}},o(S){p=p.filter(Boolean);for(let j=0;j<p.length;j+=1)C(p[j]);C(a.$$.fragment,S),C(f.$$.fragment,S),C(v),h=!1},d(S){S&&(T(e),T(c),T(m)),nt(p,S),Y(a),Y(f),v.d(S)}}}function lf(t){let e,o;return e=new S4({props:{classText:"hexagon",data:t[11],canBeUpgraded:yi(t[11].x,t[11].y,t[1])}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&2&&(r.data=n[11]),i&2&&(r.canBeUpgraded=yi(n[11].x,n[11].y,n[1])),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function sf(t){let e,o,n,i,r,l=He(t[8]),a=[];for(let u=0;u<l.length;u+=1)a[u]=lf(of(t,l,u));const s=u=>C(a[u],1,1,()=>{a[u]=null});return{c(){e=M("div");for(let u=0;u<a.length;u+=1)a[u].c();o=G(),$(e,"class","row "+(t[10]%2!==0?"odd-row":"")+" svelte-1udphho")},m(u,f){I(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);b(e,o),n=!0,i||(r=ee(e,"click",t[0]),i=!0)},p(u,f){if(f&2){l=He(u[8]);let c;for(c=0;c<l.length;c+=1){const d=of(u,l,c);a[c]?(a[c].p(d,f),y(a[c],1)):(a[c]=lf(d),a[c].c(),y(a[c],1),a[c].m(e,o))}for(Ie(),c=l.length;c<a.length;c+=1)s(c);Me()}},i(u){if(!n){for(let f=0;f<l.length;f+=1)y(a[f]);n=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)C(a[f]);n=!1},d(u){u&&T(e),nt(a,u),i=!1,r()}}}function af(t){let e,o;return e=new fd({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&16&&(r.x=n[4].x),i&16&&(r.y=n[4].y),i&16&&(r.open=n[4].visible),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function uf(t){let e,o,n=t[4].visible&&af(t);return{c(){n&&n.c(),e=Re()},m(i,r){n&&n.m(i,r),I(i,e,r),o=!0},p(i,r){i[4].visible?n?(n.p(i,r),r&16&&y(n,1)):(n=af(i),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(Ie(),C(n,1,1,()=>{n=null}),Me())},i(i){o||(y(n),o=!0)},o(i){C(n),o=!1},d(i){i&&T(e),n&&n.d(i)}}}function A4(t){let e,o,n=t[1]!=null&&rf(t);return{c(){n&&n.c(),e=Re()},m(i,r){n&&n.m(i,r),I(i,e,r),o=!0},p(i,[r]){i[1]!=null?n?(n.p(i,r),r&2&&y(n,1)):(n=rf(i),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(Ie(),C(n,1,1,()=>{n=null}),Me())},i(i){o||(y(n),o=!0)},o(i){C(n),o=!1},d(i){i&&T(e),n&&n.d(i)}}}const Nr="plotsSize";function T4(t,e,o){let n,i,r;se(t,ki,c=>o(3,n=c)),se(t,Oe,c=>o(1,i=c)),se(t,Qe,c=>o(4,r=c));let l,a=localStorage.getItem(Nr)?parseInt(localStorage.getItem(Nr)):0,s=["margin-left: 300px; margin-top: 200px; scale: 1;","margin-left: 650px; margin-top: 600px; scale: 1.5;","margin-left: -50px; margin-top: -50px; scale: 0.6;"];document.addEventListener("keypress",function(c){c.key==="z"&&(a==s.length-1?o(5,a=0):o(5,a++,a),localStorage.setItem(Nr,a.toString()))}),document.addEventListener("click",function(c){const d=c.target;(d.dataset.x==null&&d.dataset.type!="-1"&&d.dataset.size!=null||d.id=="plotContainerMain"||d.classList.contains("row")||d.classList.contains("grid"))&&Ae(Qe,r.visible=!1,r)});function u(){let c=[];for(let d=0;d<i.plots.length;d++)for(let m=0;m<i.plots.length;m++)yi(d,m,i)&&i.plots[d][m].active==!1&&c.push(i.plots[d][m])}function f(){Ae(ki,n={},n)}return t.$$.update=()=>{t.$$.dirty&2&&i&&u(),t.$$.dirty&32&&o(2,l=s[a])},[f,i,l,n,r,a]}class I4 extends pe{constructor(e){super(),me(this,e,T4,A4,de,{restartModifyPlotMenu:0})}get restartModifyPlotMenu(){return this.$$.ctx[0]}}function ff(t,e,o){const n=t.slice();return n[5]=e[o],n}function cf(t){let e,o;return e=new a1({props:{thumb:t[5],class:"block h-4 w-4  bg-accent focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&16&&(r.thumb=n[5]),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function M4(t){let e,o,n,i,r;o=new n1({props:{class:"absolute h-full bg-primary"}});let l=He(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=cf(ff(t,l,u));const s=u=>C(a[u],1,1,()=>{a[u]=null});return{c(){e=M("span"),U(o.$$.fragment),n=G();for(let u=0;u<a.length;u+=1)a[u].c();i=Re(),$(e,"class","relative h-2 w-full grow overflow-hidden bg-black")},m(u,f){I(u,e,f),W(o,e,null),I(u,n,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);I(u,i,f),r=!0},p(u,f){if(f&16){l=He(u[4]);let c;for(c=0;c<l.length;c+=1){const d=ff(u,l,c);a[c]?(a[c].p(d,f),y(a[c],1)):(a[c]=cf(d),a[c].c(),y(a[c],1),a[c].m(i.parentNode,i))}for(Ie(),c=l.length;c<a.length;c+=1)s(c);Me()}},i(u){if(!r){y(o.$$.fragment,u);for(let f=0;f<l.length;f+=1)y(a[f]);r=!0}},o(u){C(o.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)C(a[f]);r=!1},d(u){u&&(T(e),T(n),T(i)),Y(o),nt(a,u)}}}function O4(t){let e,o,n;const i=[{class:Fe("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[M4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=Q(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new X0({props:l}),Ne.push(()=>Wt(e,"value",r)),{c(){U(e.$$.fragment)},m(a,s){W(e,a,s),n=!0},p(a,[s]){const u=s&6?we(i,[s&2&&{class:Fe("relative flex w-full touch-none select-none items-center",a[1])},s&4&&it(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!o&&s&1&&(o=!0,u.value=a[0],Ht(()=>o=!1)),e.$set(u)},i(a){n||(y(e.$$.fragment,a),n=!0)},o(a){C(e.$$.fragment,a),n=!1},d(a){Y(e,a)}}}function N4(t,e,o){const n=["class","value"];let i=ue(e,n),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,o(0,l)}return t.$$set=s=>{e=Q(Q({},e),Ee(s)),o(2,i=ue(e,n)),"class"in s&&o(1,r=s.class),"value"in s&&o(0,l=s.value)},[l,r,i,a]}class df extends pe{constructor(e){super(),me(this,e,N4,O4,de,{class:1,value:0})}}function mf(t,e,o){const n=t.slice();return n[13]=e[o],n}function pf(t){let e,o,n,i=t[13].day+"",r,l,a,s=t[13].message+"",u,f,c;return{c(){e=M("div"),o=M("p"),n=K("DAY "),r=K(i),l=G(),a=M("p"),u=K(s),f=G(),$(o,"class","font-mono text-[10px]  svelte-1m80q9z"),$(a,"class","text-xs svelte-1m80q9z"),$(e,"class",c="px-2 py-2 rounded-2xl fade-in mb-4 "+(t[13].vibe==Ze.BAD?"bg-white text-textDanger border ":t[13].vibe==Ze.GOOD?"bg-green-300":(t[13].vibe==Ze.NORMAL,"bg-accent"))+" svelte-1m80q9z")},m(d,m){I(d,e,m),b(e,o),b(o,n),b(o,r),b(e,l),b(e,a),b(a,u),b(e,f)},p(d,m){m&1&&i!==(i=d[13].day+"")&&ce(r,i),m&1&&s!==(s=d[13].message+"")&&ce(u,s),m&1&&c!==(c="px-2 py-2 rounded-2xl fade-in mb-4 "+(d[13].vibe==Ze.BAD?"bg-white text-textDanger border ":d[13].vibe==Ze.GOOD?"bg-green-300":(d[13].vibe==Ze.NORMAL,"bg-accent"))+" svelte-1m80q9z")&&$(e,"class",c)},d(d){d&&T(e)}}}function P4(t){let e,o,n,i,r,l,a,s,u,f=tt(t[0].economyAndLaws.tax_rate*100,0)+"",c,d,m,h,g,p,w,v,S,j,D=tt(t[0].townInfo.productivity,0)+"",F,P,N,R,q,O,k,A,E,B,L,J,z,X,ne,Z,te,ye,ae,ie,je,qe,Ue,rt;h=new df({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[7],min:0,max:.5,step:.05,disabled:localStorage.getItem($t)!=null,class:"cursor-pointer w-[75%]"}}),R=new df({props:{value:[t[0].townInfo.productivity],onValueChange:t[6],min:0,max:200,step:5,disabled:localStorage.getItem($t)!=null,class:"cursor-pointer w-[75%]"}}),A=new At({props:{text:t[2]?"Select an active plot!":"👑 Set your location (boost)",onOpen:t[8]}}),B=new At({props:{text:"🧠 Sell Knowledge",onOpen:t[9]}}),J=new At({props:{text:"🏢 Manage City",onOpen:t[10]}}),X=new At({props:{text:t[0].lab.active_experiment!==null?`${t[0].lab.active_experiment.duration}`:"🧪 Manage Lab",onOpen:t[5],opacity:De("lab",t[0]).length>=1?100:30,onHoverText:De("lab",t[0]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."}});let _=He(t[0].townLog),H=[];for(let V=0;V<_.length;V+=1)H[V]=pf(mf(t,_,V));return{c(){e=M("div"),o=M("div"),n=M("div"),i=M("div"),r=M("div"),l=M("div"),a=M("span"),a.textContent="Tax Rate",s=G(),u=M("span"),c=K(f),d=K("%"),m=G(),U(h.$$.fragment),g=G(),p=M("div"),w=M("div"),v=M("span"),v.textContent="Productivity",S=G(),j=M("span"),F=K(D),P=K("%"),N=G(),U(R.$$.fragment),q=G(),O=M("div"),k=M("div"),U(A.$$.fragment),E=G(),U(B.$$.fragment),L=G(),U(J.$$.fragment),z=G(),U(X.$$.fragment),ne=G(),Z=M("div"),te=M("div"),ye=M("h3"),ae=G(),ie=M("div");for(let V=0;V<H.length;V+=1)H[V].c();$(a,"class","text-sm svelte-1m80q9z"),$(u,"class","text-sm svelte-1m80q9z"),$(l,"class","mb-1 svelte-1m80q9z"),$(r,"class","flex flex-col justify-center w-full text-center items-center gap-1 min-h-12 pb-2 rounded-xl svelte-1m80q9z"),$(v,"class","text-sm svelte-1m80q9z"),$(j,"class","text-sm svelte-1m80q9z"),$(w,"class","mb-1 svelte-1m80q9z"),$(p,"class","flex flex-col justify-center w-full text-center items-center gap-2 svelte-1m80q9z"),$(i,"class","flex flex-col gap-2 rounded-xl text-center justify-center mb-2 mt-0 pt-2 svelte-1m80q9z"),$(k,"class","flex flex-col gap-2 svelte-1m80q9z"),$(O,"class","svelte-1m80q9z"),$(ye,"class","text-md cursor-pointer  svelte-1m80q9z"),$(te,"class","flex flex-row gap-2 items-start justify-center pb-2 svelte-1m80q9z"),$(ie,"class","overflow-y-scroll h-[100%] w-[100%] pb-4 scroll-smooth svelte-1m80q9z"),$(Z,"class","svelte-1m80q9z"),$(n,"class","flex flex-col justify-center mx-2 gap-4 svelte-1m80q9z"),$(o,"class","w-[220px] text-sidebarText bg-sidebarBackground overflow-scroll border-foregroundDark border-4 bottom-4 z-10 fixed left-3 py-2 top-16 drop-shadow-xl rounded-xl transition-all duration-300 svelte-1m80q9z"),$(e,"class",je="flex flex-row text-sidebarText bg-sidebarBackground overflow-clip "+(t[1].visible?"opacity-10":"")+" svelte-1m80q9z")},m(V,le){I(V,e,le),b(e,o),b(o,n),b(n,i),b(i,r),b(r,l),b(l,a),b(l,s),b(l,u),b(u,c),b(u,d),b(r,m),W(h,r,null),b(i,g),b(i,p),b(p,w),b(w,v),b(w,S),b(w,j),b(j,F),b(j,P),b(p,N),W(R,p,null),b(n,q),b(n,O),b(O,k),W(A,k,null),b(k,E),W(B,k,null),b(k,L),W(J,k,null),b(k,z),W(X,k,null),b(n,ne),b(n,Z),b(Z,te),b(te,ye),b(Z,ae),b(Z,ie);for(let he=0;he<H.length;he+=1)H[he]&&H[he].m(ie,null);qe=!0,Ue||(rt=ee(ye,"click",t[11]),Ue=!0)},p(V,[le]){(!qe||le&1)&&f!==(f=tt(V[0].economyAndLaws.tax_rate*100,0)+"")&&ce(c,f);const he={};le&1&&(he.value=[V[0].economyAndLaws.tax_rate]),h.$set(he),(!qe||le&1)&&D!==(D=tt(V[0].townInfo.productivity,0)+"")&&ce(F,D);const Se={};le&1&&(Se.value=[V[0].townInfo.productivity]),R.$set(Se);const Pe={};le&4&&(Pe.text=V[2]?"Select an active plot!":"👑 Set your location (boost)"),le&4&&(Pe.onOpen=V[8]),A.$set(Pe);const $e={};le&8&&($e.onOpen=V[9]),B.$set($e);const We={};le&16&&(We.onOpen=V[10]),J.$set(We);const Le={};if(le&1&&(Le.text=V[0].lab.active_experiment!==null?`${V[0].lab.active_experiment.duration}`:"🧪 Manage Lab"),le&1&&(Le.opacity=De("lab",V[0]).length>=1?100:30),le&1&&(Le.onHoverText=De("lab",V[0]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."),X.$set(Le),le&1){_=He(V[0].townLog);let Ce;for(Ce=0;Ce<_.length;Ce+=1){const Ye=mf(V,_,Ce);H[Ce]?H[Ce].p(Ye,le):(H[Ce]=pf(Ye),H[Ce].c(),H[Ce].m(ie,null))}for(;Ce<H.length;Ce+=1)H[Ce].d(1);H.length=_.length}(!qe||le&2&&je!==(je="flex flex-row text-sidebarText bg-sidebarBackground overflow-clip "+(V[1].visible?"opacity-10":"")+" svelte-1m80q9z"))&&$(e,"class",je)},i(V){qe||(y(h.$$.fragment,V),y(R.$$.fragment,V),y(A.$$.fragment,V),y(B.$$.fragment,V),y(J.$$.fragment,V),y(X.$$.fragment,V),qe=!0)},o(V){C(h.$$.fragment,V),C(R.$$.fragment,V),C(A.$$.fragment,V),C(B.$$.fragment,V),C(J.$$.fragment,V),C(X.$$.fragment,V),qe=!1},d(V){V&&T(e),Y(h),Y(R),Y(A),Y(B),Y(J),Y(X),nt(H,V),Ue=!1,rt()}}}function E4(t,e,o){let n,i,r,l,a;se(t,Oe,g=>o(0,n=g)),se(t,Qe,g=>o(1,i=g)),se(t,no,g=>o(2,r=g)),se(t,to,g=>o(3,l=g)),se(t,Mn,g=>o(4,a=g)),localStorage.getItem("mute");function s(){n.hasLab&&Jn.set(!0)}function u(g){let p=n;p.townInfo.productivity=tt(g[0],2),Oe.set(p),localStorage.setItem(ot,JSON.stringify(p))}function f(g){let p=n;p.economyAndLaws.tax_rate=tt(g[0],2),Oe.set(p),localStorage.setItem(ot,JSON.stringify(p))}const c=function(){Ae(no,r=!r,r)},d=function(){Ae(to,l=!l,l)},m=function(){Ae(Mn,a=!a,a)},h=()=>{Ae(Oe,n.townLog=[],n)};return localStorage.getItem("mute"),[n,i,r,l,a,s,u,f,c,d,m,h]}class R4 extends pe{constructor(e){super(),me(this,e,E4,P4,de,{})}}function $4(t){let e,o,n,i,r,l,a,s,u,f,c,d,m;return n=new m3({}),l=new R4({}),s=new I4({}),f=new ad({}),d=new fd({}),{c(){e=M("div"),o=M("div"),U(n.$$.fragment),i=G(),r=M("div"),U(l.$$.fragment),a=G(),U(s.$$.fragment),u=G(),U(f.$$.fragment),c=G(),U(d.$$.fragment),$(r,"class","flex flex-row text-accentText"),$(e,"class","flex flex-col max-h-[100%] justify-between")},m(h,g){I(h,e,g),b(e,o),W(n,o,null),b(e,i),b(e,r),W(l,r,null),b(r,a),W(s,r,null),b(r,u),W(f,r,null),b(r,c),W(d,r,null),m=!0},p:Te,i(h){m||(y(n.$$.fragment,h),y(l.$$.fragment,h),y(s.$$.fragment,h),y(f.$$.fragment,h),y(d.$$.fragment,h),m=!0)},o(h){C(n.$$.fragment,h),C(l.$$.fragment,h),C(s.$$.fragment,h),C(f.$$.fragment,h),C(d.$$.fragment,h),m=!1},d(h){h&&T(e),Y(n),Y(l),Y(s),Y(f),Y(d)}}}class L4 extends pe{constructor(e){super(),me(this,e,null,$4,de,{})}}function D4(t){let e=t[1].townInfo.name+"",o;return{c(){o=K(e)},m(n,i){I(n,o,i)},p(n,i){i&2&&e!==(e=n[1].townInfo.name+"")&&ce(o,e)},d(n){n&&T(o)}}}function j4(t){let e,o,n,i=t[1].townInfo.name+"",r,l,a,s,u,f;return{c(){e=M("span"),o=K("The town of "),n=M("span"),r=K(i),l=K(` has been
          founded!`),a=G(),s=M("span"),s.textContent=`Your goal is to build a great town and keep your people happy. Use the
          milestones on the right side as a guide.`,u=G(),f=M("span"),f.textContent="Start by building a set of homes, some farms, and a tree farm.",$(n,"class","text-accent")},m(c,d){I(c,e,d),b(e,o),b(e,n),b(n,r),b(e,l),I(c,a,d),I(c,s,d),I(c,u,d),I(c,f,d)},p(c,d){d&2&&i!==(i=c[1].townInfo.name+"")&&ce(r,i)},d(c){c&&(T(e),T(a),T(s),T(u),T(f))}}}function F4(t){let e,o,n,i;return e=new nn({props:{class:"text-xl font-semibold text-center",$$slots:{default:[D4]},$$scope:{ctx:t}}}),n=new Fn({props:{class:"text-center mt-2 text-sm text-sidebarText/80 flex flex-col gap-2",$$slots:{default:[j4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),I(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&18&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&18&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),C(n.$$.fragment,r),i=!1},d(r){r&&T(o),Y(e,r),Y(n,r)}}}function B4(t){let e,o,n;return{c(){e=M("button"),e.textContent="Begin",$(e,"class","bg-accent hover:bg-accent/80 text-white px-4 py-2 rounded-md transition-colors")},m(i,r){I(i,e,r),o||(n=ee(e,"click",t[2]),o=!0)},p:Te,d(i){i&&T(e),o=!1,n()}}}function q4(t){let e,o,n,i;return e=new on({props:{$$slots:{default:[F4]},$$scope:{ctx:t}}}),n=new bn({props:{class:"mt-4 flex justify-center",$$slots:{default:[B4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),I(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&18&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),C(n.$$.fragment,r),i=!1},d(r){r&&T(o),Y(e,r),Y(n,r)}}}function G4(t){let e,o;return e=new rn({props:{transition:uo,class:"bg-sidebarBackground text-sidebarText max-w-md rounded-md shadow-xl border border-accent p-4",$$slots:{default:[q4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&19&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function H4(t){let e,o,n;function i(l){t[3](l)}let r={$$slots:{default:[G4]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new ln({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&19&&(s.$$scope={dirty:a,ctx:l}),!o&&a&1&&(o=!0,s.open=l[0],Ht(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function x4(t,e,o){let n,i;se(t,ui,a=>o(0,n=a)),se(t,Oe,a=>o(1,i=a));const r=()=>Ae(ui,n=!1,n);function l(a){n=a,ui.set(n)}return[n,i,r,l]}class V4 extends pe{constructor(e){super(),me(this,e,x4,H4,de,{})}}function hf(t,e,o){const n=t.slice();return n[7]=e[o],n}function W4(t){let e,o,n=t[0].townInfo.name+"",i,r,l,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=M("div"),o=M("span"),i=K(n),r=G(),l=M("span"),a=K("🧑‍⚖️ "),u=K(s),$(e,"class","flex justify-between mr-10")},m(f,c){I(f,e,c),b(e,o),b(o,i),b(e,r),b(e,l),b(l,a),b(l,u)},p(f,c){c&1&&n!==(n=f[0].townInfo.name+"")&&ce(i,n),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&ce(u,s)},d(f){f&&T(e)}}}function gf(t){let e,o,n,i,r,l,a,s,u,f,c,d,m,h,g=t[0].townInfo.guardians+"",p,w,v,S,j,D=t[0].townInfo.population_count-t[0].townInfo.employees+"",F,P,N;return e=new vt({props:{class:"mb-4"}}),d=new Ot({props:{class:`bg-accent rounded-2xl h-min select-none
            `+(t[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[Y4]},$$scope:{ctx:t}}}),d.$on("click",t[2]),v=new Ot({props:{class:`bg-accent rounded-2xl h-min select-none
            
              `+(t[0].townInfo.employees>=t[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[U4]},$$scope:{ctx:t}}}),v.$on("click",t[3]),{c(){U(e.$$.fragment),o=G(),n=M("div"),i=M("span"),i.textContent="Hire Guardians ⚔️",r=G(),l=M("br"),a=G(),s=M("span"),s.textContent=`Guardians work for you and are required to expand your kingdom.
            They do not generate revenue, but still require housing & food.`,u=G(),f=M("div"),c=M("div"),U(d.$$.fragment),m=G(),h=M("span"),p=K(g),w=G(),U(v.$$.fragment),S=G(),j=M("span"),F=K(D),P=K(`
              unemployed available for hire.`),$(i,"class","text-lg font-bold"),$(s,"class","text-sm"),$(h,"class","text-lg font-bold select-none px-2"),$(j,"class","w-max"),$(f,"class","flex flex-row justify-between align-middle items-center pt-2 pb-2 gap-2 "),$(n,"class","w-full")},m(R,q){W(e,R,q),I(R,o,q),I(R,n,q),b(n,i),b(n,r),b(n,l),b(n,a),b(n,s),b(n,u),b(n,f),b(f,c),W(d,c,null),b(c,m),b(c,h),b(h,p),b(c,w),W(v,c,null),b(f,S),b(f,j),b(j,F),b(j,P),N=!0},p(R,q){const O={};q&1&&(O.class=`bg-accent rounded-2xl h-min select-none
            `+(R[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `),q&1024&&(O.$$scope={dirty:q,ctx:R}),d.$set(O),(!N||q&1)&&g!==(g=R[0].townInfo.guardians+"")&&ce(p,g);const k={};q&1&&(k.class=`bg-accent rounded-2xl h-min select-none
            
              `+(R[0].townInfo.employees>=R[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `),q&1024&&(k.$$scope={dirty:q,ctx:R}),v.$set(k),(!N||q&1)&&D!==(D=R[0].townInfo.population_count-R[0].townInfo.employees+"")&&ce(F,D)},i(R){N||(y(e.$$.fragment,R),y(d.$$.fragment,R),y(v.$$.fragment,R),N=!0)},o(R){C(e.$$.fragment,R),C(d.$$.fragment,R),C(v.$$.fragment,R),N=!1},d(R){R&&(T(o),T(n)),Y(e,R),Y(d),Y(v)}}}function Y4(t){let e;return{c(){e=K("-")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function U4(t){let e;return{c(){e=K("+")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function K4(t){let e;return{c(){e=K("Build a City Hall to manage your city.")},m(o,n){I(o,e,n)},p:Te,i:Te,o:Te,d(o){o&&T(e)}}}function J4(t){let e,o,n,i,r=He(Fr),l=[];for(let s=0;s<r.length;s+=1)l[s]=_f(hf(t,r,s));const a=s=>C(l[s],1,1,()=>{l[s]=null});return{c(){e=M("span"),e.textContent="Laws 🧑‍⚖️",o=G();for(let s=0;s<l.length;s+=1)l[s].c();n=Re(),$(e,"class","text-lg font-bold")},m(s,u){I(s,e,u),I(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);I(s,n,u),i=!0},p(s,u){if(u&1){r=He(Fr);let f;for(f=0;f<r.length;f+=1){const c=hf(s,r,f);l[f]?(l[f].p(c,u),y(l[f],1)):(l[f]=_f(c),l[f].c(),y(l[f],1),l[f].m(n.parentNode,n))}for(Ie(),f=r.length;f<l.length;f+=1)a(f);Me()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)y(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)C(l[u]);i=!1},d(s){s&&(T(e),T(o),T(n)),nt(l,s)}}}function X4(t){let e,o=t[7].cost+"",n;return{c(){e=K("Enact for 🧑‍⚖️ "),n=K(o)},m(i,r){I(i,e,r),I(i,n,r)},d(i){i&&(T(e),T(n))}}}function Z4(t){let e;return{c(){e=K("Repeal ❌")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function Q4(t){let e,o;function n(l,a){return a&1&&(e=null),e==null&&(e=!!l[0].economyAndLaws.enacted.includes(l[7].id)),e?Z4:X4}let i=n(t,-1),r=i(t);return{c(){r.c(),o=Re()},m(l,a){r.m(l,a),I(l,o,a)},p(l,a){i!==(i=n(l,a))&&(r.d(1),r=i(l),r&&(r.c(),r.m(o.parentNode,o)))},d(l){l&&T(o),r.d(l)}}}function _f(t){let e,o,n,i,r,l,a;function s(){return t[4](t[7])}return i=new Ot({props:{class:`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `,$$slots:{default:[Q4]},$$scope:{ctx:t}}}),i.$on("click",s),l=new vt({props:{class:"bg-white opacity-30"}}),{c(){e=M("div"),o=M("span"),o.textContent=`${t[7].description}`,n=G(),U(i.$$.fragment),r=G(),U(l.$$.fragment),$(o,"class","text-sm"),$(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){I(u,e,f),b(e,o),b(e,n),W(i,e,null),I(u,r,f),W(l,u,f),a=!0},p(u,f){t=u;const c={};f&1&&(c.class=`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `),f&1025&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(y(i.$$.fragment,u),y(l.$$.fragment,u),a=!0)},o(u){C(i.$$.fragment,u),C(l.$$.fragment,u),a=!1},d(u){u&&(T(e),T(r)),Y(i),Y(l,u)}}}function z4(t){let e,o,n,i,r=De("city_hall",t[0]).length>0,l,a,s,u,f,c,d,m;e=new nn({props:{class:"text-lg",$$slots:{default:[W4]},$$scope:{ctx:t}}}),n=new Fn({props:{class:"w-full "}});let h=r&&gf(t);a=new vt({props:{class:"mb-4"}});const g=[J4,K4],p=[];function w(v,S){return S&1&&(f=null),f==null&&(f=De("city_hall",v[0]).length>0),f?0:1}return c=w(t,-1),d=p[c]=g[c](t),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment),i=G(),h&&h.c(),l=G(),U(a.$$.fragment),s=G(),u=M("div"),d.c(),$(u,"class","w-full")},m(v,S){W(e,v,S),I(v,o,S),W(n,v,S),I(v,i,S),h&&h.m(v,S),I(v,l,S),W(a,v,S),I(v,s,S),I(v,u,S),p[c].m(u,null),m=!0},p(v,S){const j={};S&1025&&(j.$$scope={dirty:S,ctx:v}),e.$set(j),S&1&&(r=De("city_hall",v[0]).length>0),r?h?(h.p(v,S),S&1&&y(h,1)):(h=gf(v),h.c(),y(h,1),h.m(l.parentNode,l)):h&&(Ie(),C(h,1,1,()=>{h=null}),Me());let D=c;c=w(v,S),c===D?p[c].p(v,S):(Ie(),C(p[D],1,1,()=>{p[D]=null}),Me(),d=p[c],d?d.p(v,S):(d=p[c]=g[c](v),d.c()),y(d,1),d.m(u,null))},i(v){m||(y(e.$$.fragment,v),y(n.$$.fragment,v),y(h),y(a.$$.fragment,v),y(d),m=!0)},o(v){C(e.$$.fragment,v),C(n.$$.fragment,v),C(h),C(a.$$.fragment,v),C(d),m=!1},d(v){v&&(T(o),T(i),T(l),T(s),T(u)),Y(e,v),Y(n,v),h&&h.d(v),Y(a,v),p[c].d()}}}function eC(t){let e,o,n,i;return e=new on({props:{$$slots:{default:[z4]},$$scope:{ctx:t}}}),n=new bn({}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),I(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&1025&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),C(n.$$.fragment,r),i=!1},d(r){r&&T(o),Y(e,r),Y(n,r)}}}function tC(t){let e,o;return e=new rn({props:{class:"bg-foreground text-accentText h-[80vh] w-full scroll",$$slots:{default:[eC]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&1025&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function nC(t){let e,o,n;function i(l){t[5](l)}let r={$$slots:{default:[tC]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new ln({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:l}),!o&&a&2&&(o=!0,s.open=l[1],Ht(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function oC(t,e,o){let n,i;se(t,Oe,u=>o(0,n=u)),se(t,Mn,u=>o(1,i=u));const r=()=>{n.townInfo.guardians>0?(Ae(Oe,n.townInfo.guardians-=1,n),Ae(Oe,n.townInfo.employees-=1,n)):It.set("No guardians to fire.")},l=()=>{n.townInfo.employees<n.townInfo.population_count?(Ae(Oe,n.townInfo.guardians+=1,n),Ae(Oe,n.townInfo.employees+=1,n)):It.set("Not enough people.")},a=u=>{n.economyAndLaws.enacted.includes(u.id)?n.economyAndLaws.enacted.splice(n.economyAndLaws.enacted.indexOf(u.id),1):u.cost<=n.resources.bureaucracy?(Ae(Oe,n.resources.bureaucracy-=u.cost,n),n.economyAndLaws.enacted.push(u.id)):It.set("Not enough bureaucracy!")};function s(u){i=u,Mn.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[n,i,r,l,a,s]}class iC extends pe{constructor(e){super(),me(this,e,oC,nC,de,{})}}function rC(t){let e;return{c(){e=K("Got it")},m(o,n){I(o,e,n)},d(o){o&&T(e)}}}function lC(t){let e,o,n,i,r,l,a,s;return r=new Ac({props:{class:"bg-accent hover:scale-105 min-w-[70%] transition-all duration-150 mt-2",$$slots:{default:[rC]},$$scope:{ctx:t}}}),r.$on("click",t[1]),a=new Cl({}),{c(){e=M("span"),o=K("🛎️ "),n=new Jt(!1),i=G(),U(r.$$.fragment),l=G(),U(a.$$.fragment),n.a=null,$(e,"class","whitespace-pre-wrap overflow-scroll text-center sm:whitespace-normal break-all sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center"),Je(e,"max-height","80%")},m(u,f){I(u,e,f),b(e,o),n.m(t[0],e),I(u,i,f),W(r,u,f),I(u,l,f),W(a,u,f),s=!0},p(u,f){(!s||f&1)&&n.p(u[0]);const c={};f&4&&(c.$$scope={dirty:f,ctx:u}),r.$set(c)},i(u){s||(y(r.$$.fragment,u),y(a.$$.fragment,u),s=!0)},o(u){C(r.$$.fragment,u),C(a.$$.fragment,u),s=!1},d(u){u&&(T(e),T(i),T(l)),Y(r,u),Y(a,u)}}}function sC(t){let e,o;return e=new Sl({props:{class:`bg-foregroundDark text-white rounded-input shadow-3xl justify-center items-center flex flex-col py-2 text-lg font-semibold p-2 min-w-96 min-h-36
         sm:rounded-2xl sm:flex sm:flex-col sm:p-6 sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center max-h-[50vh]

         `,$$slots:{default:[lC]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&5&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function aC(t){let e,o;return e=new Al({props:{open:t[0]!="",$$slots:{default:[sC]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,[i]){const r={};i&1&&(r.open=n[0]!=""),i&5&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function uC(t,e,o){let n;return se(t,It,r=>o(0,n=r)),[n,()=>{It.set("")}]}class fC extends pe{constructor(e){super(),me(this,e,uC,aC,de,{})}}function bf(t){let e,o,n,i;const r=[dC,cC],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Re()},m(s,u){l[e].m(s,u),I(s,n,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),C(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){C(o),i=!1},d(s){s&&T(n),l[e].d(s)}}}function cC(t){let e,o,n,i,r,l,a,s,u,f,c,d,m,h,g,p,w,v,S,j,D,F=t[2]==!0&&vf();o=new L4({}),i=new Wm({}),l=new Bv({}),s=new py({}),f=new q5({}),d=new f3({}),h=new iC({}),p=new fC({}),v=new Mv({});let P=t[0].environment.day==0&&t[3]&&yf();return{c(){F&&F.c(),e=G(),U(o.$$.fragment),n=G(),U(i.$$.fragment),r=G(),U(l.$$.fragment),a=G(),U(s.$$.fragment),u=G(),U(f.$$.fragment),c=G(),U(d.$$.fragment),m=G(),U(h.$$.fragment),g=G(),U(p.$$.fragment),w=G(),U(v.$$.fragment),S=G(),P&&P.c(),j=Re()},m(N,R){F&&F.m(N,R),I(N,e,R),W(o,N,R),I(N,n,R),W(i,N,R),I(N,r,R),W(l,N,R),I(N,a,R),W(s,N,R),I(N,u,R),W(f,N,R),I(N,c,R),W(d,N,R),I(N,m,R),W(h,N,R),I(N,g,R),W(p,N,R),I(N,w,R),W(v,N,R),I(N,S,R),P&&P.m(N,R),I(N,j,R),D=!0},p(N,R){N[2]==!0?F?R&4&&y(F,1):(F=vf(),F.c(),y(F,1),F.m(e.parentNode,e)):F&&(Ie(),C(F,1,1,()=>{F=null}),Me()),N[0].environment.day==0&&N[3]?P?R&9&&y(P,1):(P=yf(),P.c(),y(P,1),P.m(j.parentNode,j)):P&&(Ie(),C(P,1,1,()=>{P=null}),Me())},i(N){D||(y(F),y(o.$$.fragment,N),y(i.$$.fragment,N),y(l.$$.fragment,N),y(s.$$.fragment,N),y(f.$$.fragment,N),y(d.$$.fragment,N),y(h.$$.fragment,N),y(p.$$.fragment,N),y(v.$$.fragment,N),y(P),D=!0)},o(N){C(F),C(o.$$.fragment,N),C(i.$$.fragment,N),C(l.$$.fragment,N),C(s.$$.fragment,N),C(f.$$.fragment,N),C(d.$$.fragment,N),C(h.$$.fragment,N),C(p.$$.fragment,N),C(v.$$.fragment,N),C(P),D=!1},d(N){N&&(T(e),T(n),T(r),T(a),T(u),T(c),T(m),T(g),T(w),T(S),T(j)),F&&F.d(N),Y(o,N),Y(i,N),Y(l,N),Y(s,N),Y(f,N),Y(d,N),Y(h,N),Y(p,N),Y(v,N),P&&P.d(N)}}}function dC(t){let e,o;return e=new ry({}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p:Te,i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function vf(t){let e,o;return e=new bv({}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function yf(t){let e,o;return e=new V4({}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function mC(t){let e,o,n=(t[1]||t[0]==null)&&bf(t);return{c(){n&&n.c(),e=Re()},m(i,r){n&&n.m(i,r),I(i,e,r),o=!0},p(i,[r]){i[1]||i[0]==null?n?(n.p(i,r),r&3&&y(n,1)):(n=bf(i),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(Ie(),C(n,1,1,()=>{n=null}),Me())},i(i){o||(y(n),o=!0)},o(i){C(n),o=!1},d(i){i&&T(e),n&&n.d(i)}}}const pC=1e-4;function hC(t,e,o){return{r:Math.round(t.r+(e.r-t.r)*o),g:Math.round(t.g+(e.g-t.g)*o),b:Math.round(t.b+(e.b-t.b)*o)}}function gC(t,e,o){let n,i,r,l,a,s,u,f,c,d,m;se(t,Qe,j=>o(8,n=j)),se(t,Tt,j=>o(2,i=j)),se(t,no,j=>o(4,r=j)),se(t,Ft,j=>o(9,l=j)),se(t,Oe,j=>o(0,a=j)),se(t,Ci,j=>o(10,s=j)),se(t,Mn,j=>o(11,u=j)),se(t,Jn,j=>o(12,f=j)),se(t,to,j=>o(13,c=j)),se(t,Ro,j=>o(14,d=j)),se(t,ui,j=>o(3,m=j));let h=!1;Ov();const g=[{r:85,g:60,b:40},{r:115,g:85,b:55},{r:70,g:100,b:50},{r:120,g:65,b:50}];let p=0,w=1,v=0;function S(){const j=hC(g[p],g[w],v);document.body.style.backgroundColor=`rgb(${j.r}, ${j.g}, ${j.b})`,v+=pC,v>=1&&(v=0,p=w,w=(w+1)%g.length),requestAnimationFrame(S)}return S(),document.addEventListener("keydown",j=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&j.key!=="Escape")return;switch(j.key.toLowerCase()){case"p":case"escape":if(c){Ae(to,c=!1,c);break}if(f){Ae(Jn,f=!1,f);break}if(u){Ae(Mn,u=!1,u);break}if(s){Ae(Ci,s=!1,s);break}if(n.visible){Ae(Qe,n.visible=!1,n);break}if(l.visible){const F=a.plots[l.x][l.y];F.active=!1,F.type=-1,F.disabled=!1,Ae(Ft,l.visible=!1,l);break}if(r){no.set(!1),document.querySelectorAll(".plot_container").forEach(P=>{P.style.cursor=""});break}Tt.set(!i),i&&Ae(Qe,n.visible=!1,n);break}}),t.$$.update=()=>{t.$$.dirty&17&&(a?(Ae(Ro,d.visible=!1,d),o(1,h=!0),r==!0&&document.querySelectorAll(".plot_container").forEach(D=>{D.dataset.canbeupgraded=="true"&&(D.style.cursor="pointer",D.style.cursor="url('https://github.com/josephrcox/plots/raw/main/public/liege_place.cur'), auto")})):(Ae(Ro,d.visible=!0,d),o(1,h=!1)))},[a,h,i,m,r]}class _C extends pe{constructor(e){super(),me(this,e,gC,mC,de,{})}}new _C({target:document.getElementById("app")});
