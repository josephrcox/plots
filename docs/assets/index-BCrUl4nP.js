var ld=Object.defineProperty;var sd=(t,e,n)=>e in t?ld(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var un=(t,e,n)=>(sd(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function ad(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function ud(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function fd(){let t=localStorage.getItem("plots_active_game_db");const e=await ad(t);console.log("http://localhost:5173/plots/?shareId="+e)}const sr=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(sr.shareId!=null||sr.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(ud(sr.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),fd();function Ie(){}const Ki=t=>t;function ee(t,e){for(const n in e)t[n]=e[n];return t}function gf(t){return t()}function El(){return Object.create(null)}function Ve(t){t.forEach(gf)}function Lt(t){return typeof t=="function"}function pe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function cd(t){return Object.keys(t).length===0}function ol(t,...e){if(t==null){for(const o of e)o(void 0);return Ie}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function bf(t){let e;return ol(t,n=>e=n)(),e}function ue(t,e,n){t.$$.on_destroy.push(ol(e,n))}function ge(t,e,n,o){if(t){const i=yf(t,e,n,o);return t[0](i)}}function yf(t,e,n,o){return t[1]&&o?ee(n.ctx.slice(),t[1](o(e))):n.ctx}function be(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function ye(t,e,n,o,i,r){if(i){const l=yf(e,n,o,r);t.p(l,i)}}function ve(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Re(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function de(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Ae(t,e,n){return t.set(n),e}function Ge(t){return t&&Lt(t.destroy)?t.destroy:Ie}const vf=typeof window<"u";let il=vf?()=>window.performance.now():()=>Date.now(),rl=vf?t=>requestAnimationFrame(t):Ie;const Jn=new Set;function wf(t){Jn.forEach(e=>{e.c(t)||(Jn.delete(e),e.f())}),Jn.size!==0&&rl(wf)}function ll(t){let e;return Jn.size===0&&rl(wf),{promise:new Promise(n=>{Jn.add(e={c:t,f:n})}),abort(){Jn.delete(e)}}}const dd=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function b(t,e){t.appendChild(e)}function kf(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function md(t){const e=P("style");return e.textContent="/* empty */",pd(kf(t),e),e.sheet}function pd(t,e){return b(t.head||t,e),e.sheet}function O(t,e,n){t.insertBefore(e,n||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function st(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function P(t){return document.createElement(t)}function Xi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function G(t){return document.createTextNode(t)}function B(){return G(" ")}function Le(){return G("")}function ne(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function hd(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function E(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const _d=["width","height"];function me(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&_d.indexOf(o)===-1?t[o]=e[o]:E(t,o,e[o])}function yi(t,e){for(const n in e)E(t,n,e[n])}function gd(t,e){Object.keys(e).forEach(n=>{bd(t,n,e[n])})}function bd(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:E(t,e,n)}function _n(t){return/-/.test(t)?gd:me}function yd(t){return Array.from(t.childNodes)}function ce(t,e){e=""+e,t.data!==e&&(t.data=e)}function vi(t,e){t.value=e??""}function ze(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function $l(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function ht(t,e,n){t.classList.toggle(e,!!n)}function Cf(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class Jt{constructor(e=!1){un(this,"is_svg",!1);un(this,"e");un(this,"n");un(this,"t");un(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=Xi(n.nodeName):this.e=P(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)O(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(M)}}const wi=new Map;let ki=0;function vd(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function wd(t,e){const n={stylesheet:md(e),rules:{}};return wi.set(t,n),n}function Ci(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let _=0;_<=1;_+=s){const C=e+(n-e)*r(_);u+=_*100+`%{${l(C,1-C)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${vd(f)}_${a}`,d=kf(t),{stylesheet:m,rules:h}=wi.get(d)||wd(d,t);h[c]||(h[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${c} ${o}ms linear ${i}ms 1 both`,ki+=1,c}function Ti(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),ki-=i,ki||kd())}function kd(){rl(()=>{ki||(wi.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&M(e)}),wi.clear())})}let Go;function Fo(t){Go=t}function Xo(){if(!Go)throw new Error("Function called outside component initialization");return Go}function Jo(t){Xo().$$.on_mount.push(t)}function Tf(t){Xo().$$.on_destroy.push(t)}function Cd(){const t=Xo();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=Cf(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function Ji(t,e){return Xo().$$.context.set(t,e),e}function Zi(t){return Xo().$$.context.get(t)}function ae(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const Un=[],Ee=[];let Zn=[];const Or=[],Sf=Promise.resolve();let Pr=!1;function Af(){Pr||(Pr=!0,Sf.then(If))}function sl(){return Af(),Sf}function nt(t){Zn.push(t)}function Wt(t){Or.push(t)}const ar=new Set;let Gn=0;function If(){if(Gn!==0)return;const t=Go;do{try{for(;Gn<Un.length;){const e=Un[Gn];Gn++,Fo(e),Td(e.$$)}}catch(e){throw Un.length=0,Gn=0,e}for(Fo(null),Un.length=0,Gn=0;Ee.length;)Ee.pop()();for(let e=0;e<Zn.length;e+=1){const n=Zn[e];ar.has(n)||(ar.add(n),n())}Zn.length=0}while(Un.length);for(;Or.length;)Or.pop()();Pr=!1,ar.clear(),Fo(t)}function Td(t){if(t.fragment!==null){t.update(),Ve(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(nt)}}function Sd(t){const e=[],n=[];Zn.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),Zn=e}let To;function al(){return To||(To=Promise.resolve(),To.then(()=>{To=null})),To}function In(t,e,n){t.dispatchEvent(Cf(`${e?"intro":"outro"}${n}`))}const di=new Set;let jt;function Me(){jt={r:0,c:[],p:jt}}function Oe(){jt.r||Ve(jt.c),jt=jt.p}function w(t,e){t&&t.i&&(di.delete(t),t.i(e))}function S(t,e,n,o){if(t&&t.o){if(di.has(t))return;di.add(t),jt.c.push(()=>{di.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const ul={duration:0};function Vt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&Ti(t,l)}function f(){const{delay:d=0,duration:m=300,easing:h=Ki,tick:p=Ie,css:_}=i||ul;_&&(l=Ci(t,0,1,m,d,h,_,s++)),p(0,1);const C=il()+d,v=C+m;a&&a.abort(),r=!0,nt(()=>In(t,!0,"start")),a=ll(T=>{if(r){if(T>=v)return p(1,0),In(t,!0,"end"),u(),r=!1;if(T>=C){const L=h((T-C)/m);p(L,1-L)}}return r})}let c=!1;return{start(){c||(c=!0,Ti(t),Lt(i)?(i=i(o),al().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function xt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=jt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=Ki,tick:m=Ie,css:h}=i||ul;h&&(l=Ci(t,1,0,c,f,d,h));const p=il()+f,_=p+c;nt(()=>In(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),ll(C=>{if(r){if(C>=_)return m(0,1),In(t,!1,"end"),--a.r||Ve(a.c),!1;if(C>=p){const v=d((C-p)/c);m(1-v,v)}}return r})}return Lt(i)?al().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&Ti(t,l),r=!1)}}}function gt(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&Ti(t,u)}function d(h,p){const _=h.b-l;return p*=Math.abs(_),{a:l,b:h.b,d:_,duration:p,start:h.start,end:h.start+p,group:h.group}}function m(h){const{delay:p=0,duration:_=300,easing:C=Ki,tick:v=Ie,css:T}=r||ul,L={start:il()+p,b:h};h||(L.group=jt,jt.r+=1),"inert"in t&&(h?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=L:(T&&(c(),u=Ci(t,l,h,_,p,C,T)),h&&v(0,1),a=d(L,_),nt(()=>In(t,h,"start")),ll(D=>{if(s&&D>s.start&&(a=d(s,_),s=null,In(t,a.b,"start"),T&&(c(),u=Ci(t,l,a.b,a.duration,0,C,r.css))),a){if(D>=a.end)v(l=a.b,1-l),In(t,a.b,"end"),s||(a.b?c():--a.group.r||Ve(a.group.c)),a=null;else if(D>=a.start){const j=D-a.start;l=a.a+a.d*C(j/a.duration),v(l,1-l)}}return!!(a||s)}))}return{run(h){Lt(r)?al().then(()=>{r=r({direction:h?"in":"out"}),m(h)}):m(h)},end(){c(),a=s=null}}}function Ye(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ad(t,e){S(t,1,1,()=>{e.delete(t.key)})}function Id(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,m=r.length,h=d;const p={};for(;h--;)p[t[h].key]=h;const _=[],C=new Map,v=new Map,T=[];for(h=m;h--;){const $=c(i,r,h),I=n($);let N=l.get(I);N?T.push(()=>N.p($,e)):(N=u(I,$),N.c()),C.set(I,_[h]=N),I in p&&v.set(I,Math.abs(h-p[I]))}const L=new Set,D=new Set;function j($){w($,1),$.m(a,f),l.set($.key,$),f=$.first,m--}for(;d&&m;){const $=_[m-1],I=t[d-1],N=$.key,q=I.key;$===I?(f=$.first,d--,m--):C.has(q)?!l.has(N)||L.has(N)?j($):D.has(q)?d--:v.get(N)>v.get(q)?(D.add(N),j($)):(L.add(q),d--):(s(I,l),d--)}for(;d--;){const $=t[d];C.has($.key)||s($,l)}for(;m;)j(_[m-1]);return Ve(T),_}function Ce(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function it(t){return typeof t=="object"&&t!==null?t:{}}function Yt(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function Y(t){t&&t.c()}function V(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),nt(()=>{const r=t.$$.on_mount.map(gf).filter(Lt);t.$$.on_destroy?t.$$.on_destroy.push(...r):Ve(r),t.$$.on_mount=[]}),i.forEach(nt)}function x(t,e){const n=t.$$;n.fragment!==null&&(Sd(n.after_update),Ve(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Md(t,e){t.$$.dirty[0]===-1&&(Un.push(t),Af(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function he(t,e,n,o,i,r,l=null,a=[-1]){const s=Go;Fo(t);const u=t.$$={fragment:null,ctx:[],props:r,update:Ie,not_equal:i,bound:El(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:El(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...m)=>{const h=m.length?m[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=h)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](h),f&&Md(t,c)),d}):[],u.update(),f=!0,Ve(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=yd(e.target);u.fragment&&u.fragment.l(c),c.forEach(M)}else u.fragment&&u.fragment.c();e.intro&&w(t.$$.fragment),V(t,e.target,e.anchor),If()}Fo(s)}class _e{constructor(){un(this,"$$");un(this,"$$set")}$destroy(){x(this,1),this.$destroy=Ie}$on(e,n){if(!Lt(n))return Ie;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!cd(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Od="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Od);const Wn=[];function Mn(t,e){return{subscribe:Ue(t,e).subscribe}}function Ue(t,e=Ie){let n;const o=new Set;function i(a){if(pe(t,a)&&(t=a,n)){const s=!Wn.length;for(const u of o)u[1](),Wn.push(u,t);if(s){for(let u=0;u<Wn.length;u+=2)Wn[u][0](Wn[u+1]);Wn.length=0}}}function r(a){i(a(t))}function l(a,s=Ie){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||Ie),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function tn(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Mn(n,(l,a)=>{let s=!1;const u=[];let f=0,c=Ie;const d=()=>{if(f)return;c();const h=e(o?u[0]:u,l,a);r?l(h):c=Lt(h)?h:Ie},m=i.map((h,p)=>ol(h,_=>{u[p]=_,f&=~(1<<p),s&&d()},()=>{f|=1<<p}));return s=!0,d(),function(){Ve(m),c(),s=!1}})}function Rl(t){return{subscribe:t.subscribe.bind(t)}}const Mf={plots:[],timeSpent:0,lastChangeDay:0,townLog:[],currentTutorialStep:0,gameSettings:[],resource_capacity:1e3,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,guardians:0,happiness:150,health:150,recreation:0,community:150,knowledge_points:0,productivity:100},kingdom_expansions:0,resources:{food:150,wood:750,stone:750,metal:5,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1,still_playing:!0},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0},liege_location:null},Pd={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]};var tt=(t=>(t[t.GOOD=0]="GOOD",t[t.BAD=1]="BAD",t[t.NORMAL=2]="NORMAL",t))(tt||{}),Of=(t=>(t.START_GAME="start_game",t.BUILD_PLOT="build_plot",t))(Of||{});const Pf={0:"Easy",1:"Normal",2:"Hard"},Nd={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},le=[{id:"small_homes",emoji:"🏠",title:"Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"large_homes",emoji:"🏡",title:"Large Homes",type:"residential",description:"+32 people",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:350,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.01,health:1,community:1},immediate_variable_changes:{happiness:10,health:0,population:32,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:40,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"farm",emoji:"🥕",title:"Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"tree_farm",emoji:"🌲",title:"Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:10,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"quarry",emoji:"⛏️",title:"Quarry",type:"quarry",description:"Produces stone, small amounts of metal. Isn't great for health. ",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:18,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The workers at the quarry are working harder with the presence of their liege.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"Apothecary",emoji:"🌿",title:"Apothecary",type:"medical",description:"Produces medicine from herbs and plants found in the forest. Increases health overall for a short bit. Fine until you can build a Healing House.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.01,health:1.06,community:1},immediate_variable_changes:{happiness:25,health:70,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"livestock_farm",emoji:"🐄",title:"Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:60,requirements:{gold:600,plots:[],employees:8,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:20,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"The cows are producing more milk and cheese when you are hanging out on the farm.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"stockpile",emoji:"📦",title:"Stockpile",type:"stockpile",description:"Enables you to store more resources. Costs gold weekly.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:220,stone:60,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:15,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"adv_stockpile",emoji:"📦📦",title:"Adv. Stockpile",type:"stockpile",description:"Stores more than a normal Stockpile. Costs more to build & operate.",revenue_per_week:0,requirements:{gold:3e3,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:100,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"bakery",emoji:"🥖",title:"Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:80,requirements:{gold:1800,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:300,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"stables",emoji:"🐴",title:"Stables",type:"recreation",description:"Improves the health of the town and provides recreation.",revenue_per_week:24,requirements:{gold:1700,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:280,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"church",emoji:"⛪️",title:"Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:900,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:1250,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:2,health:1,community:1.3},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"pub",emoji:"🍻",title:"Pub",type:"recreation",description:"Generates knowledge, happiness, community. Isn't great for health.",revenue_per_week:100,knowledge_points_per_month:1,requirements:{gold:2e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.2,health:.97,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1.05}},{id:"village_market",emoji:"🛒",title:"Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:150,requirements:{gold:6e3,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1600,stone:600,metal:5,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:15,wood:35,stone:0,metal:0,bureaucracy:0,food:35},liege_on_plot_hint:"Your presence is helping the market make more money.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"fishery",emoji:"🐠",title:"Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:3500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:2500,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},purchase_effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:130,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your expertise in fishing is helping the town reel in far more fish!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"vineyard",emoji:"🍇",title:"Vineyard",type:"recreation",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:1800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.2,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"water_wheel",emoji:"💧",title:"Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:1600,plots:[],employees:15,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:25,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"adv_water_wheel",emoji:"💧💧",title:"Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:3e3,plots:["blacksmith"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:250,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"adv_farm",emoji:"🌾",title:"Adv. Farm",type:"farm",description:"Uses knowledge and technology to produce more food, with only 1 employee.",revenue_per_week:60,requirements:{gold:750,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:300,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:15,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:180,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:100,wood:0,stone:0,metal:3,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmer to work harder!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"park",emoji:"🎪",title:"Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"village_inn",emoji:"🛌",title:"Village Inn",type:"tourism",description:"Each inn brings more visitors to your town, increasing profits for the Market and other stores.",revenue_per_week:40,requirements:{gold:5500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"schoolhouse",emoji:"🏫",title:"Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:75,requirements:{gold:15e3,plots:["library"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:600,metal:100,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The children seem to be learning worse when you are around, maybe you are a distraction from the teachers.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"blacksmith",emoji:"⚒️",title:"Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:300,requirements:{gold:12500,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:4e3,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:30,wood:0,stone:0,metal:5,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"library",emoji:"📕",title:"Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:10,requirements:{gold:2e3,plots:["village_market"],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:2025,stone:500,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"lumber_mill",emoji:"🏭",title:"Lumber Mill",type:"industrial",description:"Increases wood production by 50%, has to be next to a tree farm, but increases production at all.",revenue_per_week:0,requirements:{gold:12e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:300,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},purchase_effect_modifiers:{happiness:1.2,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:40,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:.96}},{id:"solar_farm",emoji:"☀️",title:"Solar farm",type:"industrial",description:"Produces a lot of power without the need of water. Requires a lot of metal every week.",revenue_per_week:0,requirements:{gold:3e4,plots:["blacksmith","library"],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:750,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:25,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"general_store",emoji:"🛒",title:"General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:750,requirements:{gold:27500,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e4,stone:5e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:2,health:2,community:1.1},immediate_variable_changes:{happiness:50,health:50,population:0,community:50,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:160,wood:0,stone:0,metal:0,bureaucracy:0,food:100},liege_on_plot_hint:"Your experience managing towns is increasing the profits at the general store!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"healing_house",emoji:"🏥",title:"Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:3e4,plots:["mine"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:2e3,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"community_center",emoji:"🫶",title:"Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:16e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:7500,stone:700,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.09,health:1,community:2},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1.05}},{id:"city_hall",emoji:"🗳️",title:"City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a LOT of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:125e3,plots:[],employees:32,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:3250,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1.3},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:5,active_costs:{gold:600,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"mine",emoji:"⛏️",title:"Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:3e4,plots:["blacksmith"],employees:48,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:110,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:.95,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:10,metal:60,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:80,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:.95}},{id:"academy",emoji:"🏫",title:"Academy",type:"education",description:"Produces a lot of knowledge, more than a schoolhouse or library. But freakishly expensive.",revenue_per_week:0,knowledge_points_per_month:400,requirements:{gold:99e3,plots:["lumber_mill","schoolhouse"],employees:24,knowledge:3e3,size:1,xp:0,resources:{food:0,wood:3e3,stone:1600,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:300,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"bank",emoji:"🏦",title:"Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e5,plots:["academy"],employees:32,knowledge:25e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:0,power:100,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"lab",emoji:"🧪",title:"Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:300,requirements:{gold:1e5,plots:["academy"],employees:48,knowledge:15e3,size:1,xp:0,resources:{food:0,wood:0,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:0,power:700,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}}],So={empty_unusable:"rgba(255,255,255,0.50)",empty_buildable:"rgba(239,234,90,1.0)",residential:"rgba(222,118,51,1.0)",farm:"rgba(107,143,73,1.0)",lumber:"rgba(145,116,44,1.0)",business:"rgba(146,115,165,1.0)",recreation:"rgba(82,119,177,1.0)",shop:"rgba(82,119,177,1.0)",tourism:"rgba(216,150,216,1.0)",education:"rgba(153,151,223,1.0)",medical:"rgba(74,91,163,1.0)",bank:"rgba(132,119,190,1.0)",federal:"rgba(132,119,190,1.0)",science:"rgba(74,91,163,1.0)",mine:"rgba(217,135,74,1.0)",quarry:"rgba(134,134,133,1.0)",industrial:"rgba(22, 80, 135,0.8)",stockpile:"rgba(134,134,133,1.0)"};function Nr(t,e=!1,n=22){if(t<0)return t==-1?e?So.empty_buildable:So.empty_unusable:t==-2?So.recreation:So.empty_unusable;const o=le[t];return $d(So[o.type],n)}const Ed={lab:1,city_hall:1,bank:1,community_center:1,inn:1},$d=(t,e=20)=>{const n=(l,a,s)=>{l/=255,a/=255,s/=255;const u=Math.max(l,a,s),f=Math.min(l,a,s);let c=0,d=0,m=(u+f)/2;if(u!==f){const h=u-f;switch(d=m>.5?h/(2-u-f):h/(u+f),u){case l:c=(a-s)/h+(a<s?6:0);break;case a:c=(s-l)/h+2;break;case s:c=(l-a)/h+4;break}c/=6}return[c*360,d,m]},o=(l,a,s,u)=>{const f=Math.min(1,s+u/100);return`hsl(${l}, ${(a*100).toFixed(1)}%, ${(f*100).toFixed(1)}%)`},i=l=>{const a=l.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return a?[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]:null};let r=null;if(t.startsWith("#")){const l=t.replace("#",""),a=parseInt(l,16);r=[a>>16&255,a>>8&255,a&255]}else(t.startsWith("rgba")||t.startsWith("rgb"))&&(r=i(t));if(r){const[l,a,s]=n(r[0],r[1],r[2]);return o(l,a,s,e)}throw new Error("Invalid color format")};function Nf(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Nf(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Rd(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Nf(t))&&(o&&(o+=" "),o+=e);return o}const fl="-";function Ld(t){const e=jd(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split(fl);return a[0]===""&&a.length!==1&&a.shift(),Ef(a,e)||Dd(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function Ef(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?Ef(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(fl);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const Ll=/^\[(.+)\]$/;function Dd(t){if(Ll.test(t)){const e=Ll.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function jd(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return qd(Object.entries(t.classGroups),n).forEach(([r,l])=>{Er(l,o,r,e)}),o}function Er(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Dl(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(Fd(i)){Er(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{Er(l,Dl(e,r),n,o)})})}function Dl(t,e){let n=t;return e.split(fl).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function Fd(t){return t.isThemeGetter}function qd(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function Bd(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const $f="!";function Hd(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let p=0;p<l.length;p++){let _=l[p];if(s===0){if(_===o&&(n||l.slice(p,p+i)===e)){a.push(l.slice(u,p)),u=p+i;continue}if(_==="/"){f=p;continue}}_==="["?s++:_==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith($f),m=d?c.substring(1):c,h=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:h}}}function Gd(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function Wd(t){return{cache:Bd(t.cacheSize),splitModifiers:Hd(t),...Ld(t)}}const Vd=/\s+/;function xd(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(Vd).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const m=Gd(a).join(":");return{isTailwindClass:!0,modifierId:s?m+$f:m,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Yd(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Rf(e))&&(o&&(o+=" "),o+=n);return o}function Rf(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=Rf(t[o]))&&(n&&(n+=" "),n+=e);return n}function $r(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=Wd(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=xd(s,n);return i(s,f),f}return function(){return r(Yd.apply(null,arguments))}}function Qe(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const Lf=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ud=/^\d+\/\d+$/,Kd=new Set(["px","full","screen"]),Xd=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jd=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zd=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Qd=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zd=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Kt(t){return Sn(t)||Kd.has(t)||Ud.test(t)}function fn(t){return ho(t,"length",sm)}function Sn(t){return!!t&&!Number.isNaN(Number(t))}function ti(t){return ho(t,"number",Sn)}function Ao(t){return!!t&&Number.isInteger(Number(t))}function em(t){return t.endsWith("%")&&Sn(t.slice(0,-1))}function We(t){return Lf.test(t)}function cn(t){return Xd.test(t)}const tm=new Set(["length","size","percentage"]);function nm(t){return ho(t,tm,Df)}function om(t){return ho(t,"position",Df)}const im=new Set(["image","url"]);function rm(t){return ho(t,im,um)}function lm(t){return ho(t,"",am)}function Io(){return!0}function ho(t,e,n){const o=Lf.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function sm(t){return Jd.test(t)&&!Zd.test(t)}function Df(){return!1}function am(t){return Qd.test(t)}function um(t){return zd.test(t)}function Rr(){const t=Qe("colors"),e=Qe("spacing"),n=Qe("blur"),o=Qe("brightness"),i=Qe("borderColor"),r=Qe("borderRadius"),l=Qe("borderSpacing"),a=Qe("borderWidth"),s=Qe("contrast"),u=Qe("grayscale"),f=Qe("hueRotate"),c=Qe("invert"),d=Qe("gap"),m=Qe("gradientColorStops"),h=Qe("gradientColorStopPositions"),p=Qe("inset"),_=Qe("margin"),C=Qe("opacity"),v=Qe("padding"),T=Qe("saturate"),L=Qe("scale"),D=Qe("sepia"),j=Qe("skew"),$=Qe("space"),I=Qe("translate"),N=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",We,e],y=()=>[We,e],A=()=>["",Kt,fn],R=()=>["auto",Sn,We],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],K=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",We],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Sn,ti],X=()=>[Sn,We];return{cacheSize:500,separator:":",theme:{colors:[Io],spacing:[Kt,fn],blur:["none","",cn,We],brightness:J(),borderColor:[t],borderRadius:["none","","full",cn,We],borderSpacing:y(),borderWidth:A(),contrast:J(),grayscale:Z(),hueRotate:X(),invert:Z(),gap:y(),gradientColorStops:[t],gradientColorStopPositions:[em,fn],inset:k(),margin:k(),opacity:J(),padding:y(),saturate:J(),scale:J(),sepia:Z(),skew:X(),space:y(),translate:y()},classGroups:{aspect:[{aspect:["auto","square","video",We]}],container:["container"],columns:[{columns:[cn]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),We]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ao,We]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",We]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",Ao,We]}],"grid-cols":[{"grid-cols":[Io]}],"col-start-end":[{col:["auto",{span:["full",Ao,We]},We]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Io]}],"row-start-end":[{row:["auto",{span:[Ao,We]},We]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",We]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",We]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",We,e]}],"min-w":[{"min-w":[We,e,"min","max","fit"]}],"max-w":[{"max-w":[We,e,"none","full","min","max","fit","prose",{screen:[cn]},cn]}],h:[{h:[We,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[We,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[We,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[We,e,"auto","min","max","fit"]}],"font-size":[{text:["base",cn,fn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ti]}],"font-family":[{font:[Io]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",We]}],"line-clamp":[{"line-clamp":["none",Sn,ti]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Kt,We]}],"list-image":[{"list-image":["none",We]}],"list-style-type":[{list:["none","disc","decimal",We]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Kt,fn]}],"underline-offset":[{"underline-offset":["auto",Kt,We]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),om]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:F()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Kt,We]}],"outline-w":[{outline:[Kt,fn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[Kt,fn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",cn,lm]}],"shadow-color":[{shadow:[Io]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":U()}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",cn,We]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[T]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",We]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",We]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",We]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[Ao,We]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",We]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",We]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",We]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Kt,fn,ti]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function fm(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){mi(t,"cacheSize",e),mi(t,"prefix",n),mi(t,"separator",o);for(const l in r)cm(t[l],r[l]);for(const l in i)dm(t[l],i[l]);return t}function mi(t,e,n){n!==void 0&&(t[e]=n)}function cm(t,e){if(e)for(const n in e)mi(t,n,e[n])}function dm(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function mm(t,...e){return typeof t=="function"?$r(Rr,t,...e):$r(()=>fm(Rr(),t),...e)}const jf=$r(Rr);function Ff(t){const e=t-1;return e*e*e+1}function He(...t){return jf(Rd(t))}function pm(t,e,n){const r={...{townName:t.townInfo.name,population:t.townInfo.population_count,gold:t.townInfo.gold,day:t.environment.day*t.environment.year,tick:t.tick},...n};gtag("event",e,r)}const _o=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:Ff}};function ot(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function ur(t){return t<10?"0"+t:t}function hm(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${ur(o)}:${ur(n)}:${ur(e)}`}function Te(t){return le.findIndex(e=>e.id===t)}function jl(t){return le.find(e=>e.id===t)}function Rt(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function no(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Fl(t,e=!0){return t=ot(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function oo(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[l][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&le[n.plots[t][e].type].id=="farm"))return!0}return!1}function _m(t,e=0){let n=t*.95,o=t*1.05;return ot(Math.random()*(o-n)+n,e)}function Si(t,e,n){let o={x:t,y:e};return o.x===0&&o.y===0?!0:[{x:o.x-1,y:o.y},{x:o.x+1,y:o.y},{x:o.x,y:o.y-1},{x:o.x,y:o.y+1}].some(r=>r.x<0||r.x>=n.plots.length||r.y<0||r.y>=n.plots[r.x].length?!1:n.plots[r.x][r.y].active)}function gm(t,e){let n=!0;return t.requirements.gold>e.townInfo.gold&&(n=!1),t.requirements.knowledge!==void 0&&t.requirements.knowledge>e.townInfo.knowledge_points&&(n=!1),t.requirements.plots.length>0&&t.requirements.plots.forEach(o=>{Be(o,e).length===0&&(n=!1)}),n}function bm(t){return le.findIndex(e=>e.id===t)}function Vn(t,e,n,o,i=!1){const r=bm(t),l=le[r];if(i||gm(l,o)){if(o.plots[e][n].type!==-1&&Pn(e,n,o),o.plots[e][n].type=r,o.plots[e][n].active=!0,o.plots[e][n].referencePlot=[],o.plots[e][n].typeId=l.id,o.townInfo.gold-=l.requirements.gold,o.townInfo.gold=ot(o.townInfo.gold,2),o.townInfo.population_count+=l.immediate_variable_changes.population,o.townInfo.population_max+=l.immediate_variable_changes.population,o.townInfo.happiness+=l.immediate_variable_changes.happiness,o.townInfo.health+=l.immediate_variable_changes.health,o.modifiers.happiness=ot(o.modifiers.happiness*l.purchase_effect_modifiers.happiness,2),o.modifiers.health=ot(o.modifiers.health*l.purchase_effect_modifiers.health,2),o.modifiers.community=ot(o.modifiers.community*l.purchase_effect_modifiers.community,2),o.townInfo.employees+=l.requirements.employees,(o.plotCounts[r]===void 0||o.plotCounts[r]===null)&&(o.plotCounts[r]=0),o.plotCounts[r]++,o.lastChangeDay=o.environment.day,l.requirements.resources!==void 0){const a=l.requirements.resources;o.resources.food-=a.food,o.resources.wood-=a.wood,o.resources.stone-=a.stone,o.resources.metal-=a.metal}switch(l.id){case"city_hall":o.hasCityHall=!0;break;case"bank":o.hasBank=!0;break}return o}return o}function ym(t,e,n){if(!n||!n.plots||!n.plots.length)return null;const o=n.plots.length,i=n.plots[0].length;for(let r=1;r<o+i;r++)for(let l=-r;l<=r;l++)for(let a=-r;a<=r;a++){if(Math.abs(l)+Math.abs(a)!==r)continue;const s=t+l,u=e+a;if(!(s<0||s>=o||u<0||u>=i)&&!n.plots[s][u].active&&!n.plots[s][u].mineralSource&&!n.plots[s][u].water&&!n.plots[s][u].disabled&&Si(s,u,n))return[s,u]}return null}function vm(t){let e={...Mf};e.difficulty=1,e.endGoal="land",e.townInfo.name="Mock Town",e.townInfo.gold=Math.random()*5e4+2e4,e.townInfo.happiness=300,e.townInfo.health=300,e.townInfo.knowledge_points=Math.random()*1e3+100,e.modifiers.happiness=1e4,e.modifiers.health=1e4,e.resources.food=Math.random()*1e4+1e3,e.resources.wood=Math.random()*1e4+1e3,e.resources.stone=Math.random()*1e4+1e3,e.resources.metal=Math.random()*1e4+1e3;let n=[];const o=25,i=Math.floor(Math.random()*o/2)+1,r=Math.floor(Math.random()*o/2)+1;for(let l=0;l<o;l++){n.push([]);for(let a=0;a<o;a++){const s=l==i&&a==r?!1:Ai(l,a,o);n[l][a]={id:Math.random().toString(36).substring(2,9),active:!1,x:l,y:a,type:s?-9:-1,typeId:"",mineralSource:s?!1:i===l&&r===a,water:i===l&&r===a?!1:s}}}e.plots=n,Ne.set(e),localStorage.setItem(mt,JSON.stringify(e)),localStorage.reset=!1,e=Vn("small_homes",0,0,e,!0),e=Vn("farm",1,0,e,!0),e=Vn("farm",2,0,e,!0),e=Vn("farm",3,0,e,!0),e=Vn("tree_farm",4,0,e,!0);for(let l=1;l<t.plots.length*t.plots[0].length/2;l++)for(let a=0;a<le.length/2;a++){let s=le[Math.floor(Math.random()*le.length)];t=Vn(s.id,l,a,e,!1)}Ne.set(e),localStorage.setItem(mt,JSON.stringify(e)),localStorage.reset=!1,location.reload()}const mt="plots_active_game_db",io="plots_user_db";function wm(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let Ne=Ue(JSON.parse(localStorage.getItem(mt)||"null")),pn=Ue(JSON.parse(localStorage.getItem(io)||"null"));Cm();function km(t,e,n,o){localStorage.removeItem(mt),Ne.set(null);let i={...Mf};i.gameSettings=o,i.economyAndLaws.max_tax_rate=Nd[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:wm(),i.difficulty=parseInt(t),JSON.parse(localStorage.getItem(io)||"null").username=="dev"&&o.push("devMode"),o.includes("devMode")&&(i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const a=12,s=Math.floor(Math.random()*a/2)+1,u=Math.floor(Math.random()*a/2)+1;for(let f=0;f<a;f++){r.push([]);for(let c=0;c<a;c++){const d=f==s&&c==u?!1:Ai(f,c,a);r[f][c]={id:Math.random().toString(36).substring(2,9),active:!1,x:f,y:c,type:d?-9:-1,typeId:"",mineralSource:d?!1:s===f&&u===c,water:s===f&&u===c?!1:d}}}i.plots=r,localStorage.setItem(mt,JSON.stringify(i)),Ne.set(i),localStorage.reset=!1,pm(i,Of.START_GAME,{difficulty:t,end_goal:e,settings:o.join(",")}),location.reload()}function Ai(t,e,n){let o=.08;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=3),t==0&&e==0&&(o=0),Math.random()<o}function Cm(){if(localStorage.getItem(io)===null){let t=Pd;t.username="click_to_set_username",localStorage.setItem(io,JSON.stringify(t)),pn.set(t)}}function Pn(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].typeId="",n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=le[o].immediate_variable_changes.population,n.townInfo.population_max-=le[o].immediate_variable_changes.population,n.townInfo.employees-=le[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(le[o].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&Pn(r,l,n);n.lastChangeDay=n.environment.day,Ne.set(n),localStorage.setItem(mt,JSON.stringify(n))}function Be(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(le[e.plots[o][i].type].id===t||le[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function Kn(t,e,n){return n.liege_location!=null&&n.liege_location[0]===t&&n.liege_location[1]===e}function Tm(t,e){const n=t.plots.length,o=n>0?t.plots[0].length:0,i=e=="east"?5:0,r=e=="south"?5:0,l=Math.round(Math.pow(1.7,t.kingdom_expansions+5));if(t.townInfo.guardians<l)return`You need ${l-t.townInfo.guardians} more Guardians to expand the kingdom. See the City mgmt menu.`;for(let a=0;a<n;a++)for(let s=o;s<o+i;s++)t.plots[a].push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:"",mineralSource:!1,water:Ai(a,s,n+r),disabled:!1,referencePlot:null});for(let a=n;a<n+r;a++){const s=[];for(let u=0;u<o+i;u++)s.push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:u,type:-1,typeId:"",mineralSource:!1,water:Ai(a,u,n+r)});t.plots.push(s)}t.kingdom_expansions++,Ne.set(t)}function Lr(t=null){localStorage.removeItem(mt),Ne.set(null),t&&(localStorage.setItem(mt,JSON.stringify(t)),Ne.set(t))}function ql(t,e,n){n.liege_location=[t,e],so.set(!1),document.querySelectorAll(".plot_container").forEach(i=>{i.style.cursor=""}),Ne.set(n)}let Ze=Ue({visible:!1,x:0,y:0,isMineralSource:!1}),qo=Ue({visible:!1});function Sm(t){pn.set(t),localStorage.setItem(io,JSON.stringify(t))}let ro=Ue({}),Bo=Ue(!1),Ot=Ue(!1),pi=Ue(!0),Ii=Ue(!1),lo=Ue(!1),Mi=Ue(!1),Qn=Ue(!1),so=Ue(!1),ao=Ue(!1),Ct=Ue(""),Bl=localStorage.getItem("showCompletedAchievements")==="true"?Ue(!0):Ue(!1);localStorage.getItem("showOnlyAffordable")==="true"?Ue(!0):Ue(!1);let Am=localStorage.getItem("pauseMenuTab")==="game"?Ue("game"):Ue("achievements"),Eo=Ue(750),Ft=Ue({visible:!1,plotName:"",location:"",missingResources:[],plotCost:0,x:0,y:0});const Nt={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},ct=[{id:"happy_town",title:"Happy & Healthy Town",description:"",requirements:"Happiness and Health at the max in one of your towns",icon:"😀",check:t=>t.townInfo.happiness>=300&&t.townInfo.health>=300,prize:15e3},{id:"10k",title:"💰 10,000",description:"",requirements:"10,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"50k",title:"💰 50,000",description:"",requirements:"50,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=5e4,prize:1e4},{id:"250k",title:"💰 250,000",description:"",requirements:"250,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"1m",title:"💰 1,000,000",description:"",requirements:"1,000,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=1e6,prize:15e4},{id:"10m",title:"💰 10,000,000",description:"",requirements:"10,000,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=1e7,prize:5e5},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under 50 with >=200 population in one of your towns",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=200,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Reach a monthly profit of $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit*4>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:1e4},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:750},{id:"good_job",title:"Beat 'Fill the grid' game mode",description:"while not in casual mode",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.endGoal==="land"&&!t.gameSettings.includes("casual"),prize:1e4},{id:"great_job",title:"Beat 'Fill the grid' game mode (faster)",description:"in under 5 years, while not in casual mode",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=1825&&t.endGoal==="land"&&!t.gameSettings.includes("casual"),prize:3e4},{id:"superb_job",title:"Beat 'Fill the grid' game mode",description:"while in casual mode",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.endGoal==="land"&&t.gameSettings.includes("casual"),prize:15e3},{id:"pub_knowledge",title:"Street smartz",description:"You get 250 knowledge without building a school or library.",requirements:"Knowledge >= 250 without building a school or library",icon:"🤓",check:t=>Be("small_school",t).length===0&&Be("large_school",t).length===0&&Be("library",t).length===0&&t.townInfo.knowledge_points>=250,prize:5e4}],zn=[{message:"Welcome the first settlers to our village by building a set of homes",isComplete:t=>t.townInfo.population_max>0,goldReward:600},{message:"Start producing food for the villagers",isComplete:t=>Be("farm",t).length>=1,goldReward:400},{message:"Build a tree farm to start producing wood, which is essential for building",isComplete:t=>Be("tree_farm",t).length>=1,goldReward:400},{message:"Build a quarry to start mining stone and metals",isComplete:t=>Be("quarry",t).length>0,goldReward:800},{message:"Settlement: Grow population to 50",isComplete:t=>t.townInfo.population_count>=50,goldReward:1600},{message:"Build a Market or Bakery to sell excess food",isComplete:t=>Be("market",t).length>0||Be("bakery",t).length>0,goldReward:1600},{message:"Complete Year 1",isComplete:t=>t.environment.day>=365,goldReward:4e3},{message:"Village: Grow population to 100",isComplete:t=>t.townInfo.population_count>=100,goldReward:6400},{message:"Increase our weekly revenue to 200 gold",isComplete:t=>t.economyAndLaws.weeklyProfit>=200,goldReward:6400},{message:"Complete Year 2",isComplete:t=>t.environment.day>=365*2,goldReward:4e3},{message:"Hamlet: Grow population to 200",isComplete:t=>t.townInfo.population_count>=200,goldReward:16e3},{message:"Start generating power. Build a Water Wheel or Solar Farm",isComplete:t=>t.resources.power>0,goldReward:8e3},{message:"Small Town: Grow population to 300",isComplete:t=>t.townInfo.population_count>=300,goldReward:2e4},{message:"Generate 300 Knowledge 🧠 from libraries, schools, pubs, and vineyards",isComplete:t=>t.townInfo.knowledge_points>=300,goldReward:4e3},{message:"Build a Mine to boost our metal supply (see the black plot on the map)",isComplete:t=>Be("mine",t).length>0,goldReward:16e3},{message:"Town: Grow our population to 500",isComplete:t=>t.townInfo.population_count>=500,goldReward:2e4},{message:"City: Grow our population to 1000",isComplete:t=>t.townInfo.population_count>=1e3,goldReward:4e4},{message:"Establish a City Hall to advance our town",isComplete:t=>Be("city_hall",t).length>0,goldReward:4e4}];let Mo=function(t){return t.gameSettings.includes("casual")?3:1};const Dr=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:150,weekly_effect:t=>(t.modifiers.happiness*=1.01,t.modifiers.health*=1.01,t.resources.food-=2*Mo(t)*Be("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.02,t.modifiers.health*=1.01),t)},{id:"healthy_mining",description:"Healthy mining. Miners must mine with proper ventilation, but they move like molasses.",cost:250,weekly_effect:t=>(le.find(e=>e.id==="mine"),t.modifiers.health*=1.1,t.resources.stone-=5*Mo(t)*Be("quarry",t).length,t.resources.stone-=7*Mo(t)*Be("mine",t).length,t.resources.metal-=15*Mo(t)*Be("mine",t).length,t)},{id:"complicated_tax_forms",description:"Complicated Tax Forms. You sneak in a clause to charge 5% more in taxes. Now, if you adjust your tax rate 5% higher, they won't be upset. This can be enacted multiple times to stack.",cost:500,weekly_effect:t=>(t.economyAndLaws.max_tax_rate+=.05,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="complicated_tax_forms"),t)},{id:"legalize_it",description:"Legalize it. You legalize a substance that makes people happy, but it also gives them 'the munchies'. Food consumption and happiness go up.",cost:350,weekly_effect:t=>(t.resources.food-=Math.round(.2*Mo(t)*t.townInfo.population_count),t.modifiers.happiness*=1.1,t)},{id:"park_upgrade",description:"Park upgrade. You hold a community forum and add the top 5 things that the people want in their parks. This increases happiness for each park.",cost:350,weekly_effect:t=>(t.townInfo.happiness+=2*Be("park",t).length,t)},{id:"career_politician",description:"Career Politician. You hire a career politician to help you with your town. They cost the town $100 per week, but they earn bureaucracy points faster.",cost:200,weekly_effect:t=>(t.townInfo.gold-=100,t.resources.bureaucracy+=25,t)},{id:"the_big_wood_deal",description:"The Big Wood Deal. This law allows you to sell all of the wood in your town for $5/wood at once. This won't make the town happy, but may be necessary in a pinch. Can be enacted multiple times to sell to other buyers.",cost:500,weekly_effect:t=>(t.townInfo.gold+=5*t.resources.wood,t.resources.wood=0,t.resource_rate.wood=0,t.townInfo.happiness*=.95,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="the_big_wood_deal"),t)},{id:"picky_eating_liege",description:"Picky Eater Liege. There is some food that the town makes that you just really hate. By passing this law, you insist that they sell off that gross food for $1/food every week. You won't make as much food, but you won't have to eat it either.",cost:200,weekly_effect:t=>{const e=Be("farm",t).length*2,n=Math.floor(Math.random()*(.15*e-.05*e)+.05*e);return t.resources.food-=n,t.townInfo.gold+=n,t.townInfo.happiness=.95*t.townInfo.happiness,t}},{id:"stone_statue",description:"Stone Statue. You insist that we use ALL of our stone to build a massive statue. We lose all of our stone, but for some reason, the town has perfect health for a while, I guess.",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=5,t)},{id:"out_of_town",description:"TODO: Out of town. Everyone needs a vacation, right? When this is enacted, EVERYONE must leave the town for 10 days. During this time, no resources are produced, no taxes are collected, and you must take a break from the game.",cost:1e3,weekly_effect:t=>t}],Hl=30;function Im(t){return t=Em(t),t=t,t}function Mm(t){const e=[()=>t.townInfo.happiness<100?"I heard that the town is unhappy. We miss our churches and parks...":"",()=>t.townInfo.health<100?"My kids keep getting sick, probably not enough farms around here!":"",()=>t.townInfo.happiness<50?"I'm thinking of moving out if things don't improve soon!":"",()=>t.townInfo.employees<t.townInfo.population_count?"I am unemployed and I hate it here":"",()=>t.townInfo.knowledge_points<100?"I wish we had more schools!":"",()=>t.economyAndLaws.tax_rate>t.economyAndLaws.max_tax_rate?"I wish the taxes were lower, I could use a break!":"",()=>t.townInfo.productivity>100?"I think we should take a day or two to just be chill, we've been working hard!":"",()=>t.economyAndLaws.tax_rate<t.economyAndLaws.max_tax_rate?"We would probably be ok chipping in more gold for village improvements.":""],n=Math.floor(Math.random()*e.length);return e[n]()}function Om(t,e,n){return t.resource_rate.food=ut(n.food-e.food,0),t.resource_rate.wood=ut(n.wood-e.wood,0),t.resource_rate.stone=ut(n.stone-e.stone,0),t.resource_rate.metal=ut(n.metal-e.metal,0),t.resource_rate.bureaucracy=ut(n.bureaucracy-e.bureaucracy,0),t}function Pm(t){return t.hasBank,t}function Nm(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function Em(t){if(t.townInfo.population_count<t.townInfo.population_max&&t.townInfo.happiness>50){let e=t.townInfo.population_max-t.townInfo.population_count,n=Math.round(t.townInfo.happiness/100*e);t.townInfo.population_count+=n,t.townInfo.population_count>t.townInfo.population_max&&(t.townInfo.population_count=t.townInfo.population_max),t.townInfo.employees+=n,t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count)}if(t.townInfo.happiness<50&&t.townInfo.population_count>0){let e=Math.round((150-t.townInfo.happiness)/5);t.townInfo.population_count-=e,t.townInfo.employees>0&&(t.townInfo.employees-=e)}else t.townInfo.population_count==t.townInfo.population_max;return t}function jr(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function Fr(t){t.townInfo.happiness<0&&(t.townInfo.happiness=0),t.townInfo.health<0&&(t.townInfo.health=0),t.townInfo.community<0&&(t.townInfo.community=0),t.townInfo.gold<0&&(t.townInfo.gold=0),t.townInfo.employees<0&&(t.townInfo.employees=0),t.townInfo.knowledge_points<0&&(t.townInfo.knowledge_points=0),t.townInfo.population_count<0&&(t.townInfo.population_count=0),t.economyAndLaws.weeklyProfit=ut(t.economyAndLaws.weeklyProfit,0),t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count),t.townInfo.gold=ut(t.townInfo.gold,0),t.townInfo.population_count=ut(t.townInfo.population_count,0),t.townInfo.employees=ut(t.townInfo.employees,0),t.townInfo.population_max=ut(t.townInfo.population_max,0),t.townInfo.happiness=ut(t.townInfo.happiness,2),t.townInfo.health=ut(t.townInfo.health,2),t.townInfo.knowledge_points=ut(t.townInfo.knowledge_points,0),t.townInfo.happiness>t.maximums.happiness&&(t.townInfo.happiness=t.maximums.happiness),t.townInfo.health>t.maximums.health&&(t.townInfo.health=t.maximums.health),t.townInfo.community>300&&(t.townInfo.community=300),t.modifiers.happiness<.5&&(t.modifiers.happiness=.5),t.modifiers.health<.5&&(t.modifiers.health=.5),t.modifiers.community<.5&&(t.modifiers.community=.5),t.modifiers.happiness>2&&(t.modifiers.happiness=2),t.modifiers.health>2&&(t.modifiers.health=2),t.modifiers.community>2&&(t.modifiers.community=2);for(let e=0;e<t.plots.length;e++)for(let n=0;n<t.plots[e].length;n++)t.plots[e][n].active==!1&&t.plots[e][n].disabled==!0&&(t.plots[e][n].disabled=!1);return t}function qr(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function at(t,e,n){let o=e.townLog||[];return o.filter(i=>i.message==t).length>0||o.unshift({message:t,day:e.environment.day,vibe:n}),e}function ut(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function $m(t,e,n){let o,i,r,l,a,s;ue(t,Eo,g=>n(7,o=g)),ue(t,Bo,g=>n(8,i=g)),ue(t,Mi,g=>n(9,r=g)),ue(t,Ot,g=>n(10,l=g)),ue(t,pn,g=>n(11,a=g)),ue(t,Ft,g=>n(12,s=g)),ue(t,Ne,g=>n(13,g));function u(g){g=J(g),g=te(g),g=h(g),g=Nm(g),g=X(g),g=T(g);const z={food:g.resources.food,wood:g.resources.wood,stone:g.resources.stone,metal:g.resources.metal,bureaucracy:g.resources.bureaucracy,power:g.resources.power};g=q(g),g=Z(g),g=A(g),g=$e(g),g=N(g);const Q={food:g.resources.food,wood:g.resources.wood,stone:g.resources.stone,metal:g.resources.metal,bureaucracy:g.resources.bureaucracy,power:g.resources.power};return g.environment.day%14===0&&(g=se(g)),g=Om(g,z,Q),g}function f(g){return g=Pm(g),g=v(g),g=oe(g),g=qr(g),g=K(g),g=$(g),g=p(g),g}function c(g){return g=y(g),g=fe(g),g=Fr(g),g=jr(g),g=I(g),g=j(g),g=m(g),g=_(g),g.overtime==!1&&(g=U(g),g=g),g=F(g),g=R(g),g=C(g),g}function d(){Ne.update(g=>{if(g==null||(g.tick++,g.tick%Hl!==0))return g;if(s.visible||l||!g||g.endGameDetails.msg!==""&&g.overtime==!1||g.townInfo.population_count<=0)return console.info("The game is over, or paused. Not running the game loop."),g;try{return g.environment.day+=1,g.environment.day%7===0&&(g=u(g)),g.environment.day%30===0&&(g=f(g)),g.environment.day%90===0&&(g=Im(g)),window.location.search.includes("debug=true")&&console.log(g),g=c(g),g}catch(z){return window.location.hostname==="localhost"&&alert("Error in game loop: "+z),console.error("Error in game loop:",z),g}})}Ne.subscribe(g=>{g&&localStorage.setItem(mt,JSON.stringify(g))}),pn.subscribe(g=>{g&&localStorage.setItem(io,JSON.stringify(g))});function m(g){let z=g.townInfo.population_count-g.townInfo.employees,Q=`${z} people can't find jobs!`;return g.townLog=g.townLog.filter(ie=>!ie.message.includes("people can't find jobs")),z>0&&(g=at(Q,g,tt.BAD)),g}function h(g){let z=!1,Q=!1,ie=!1,re=!1;for(let ke=0;ke<g.plots.length;ke++)for(let Pe=0;Pe<g.plots[ke].length;Pe++)if(g.plots[ke][Pe].active==!0&&g.plots[ke][Pe].type>-1){let je=le[g.plots[ke][Pe].type].id;je=="bank"&&(z=!0),je=="city_hall"&&(ie=!0),(je=="small_hospital"||je=="large_hospital")&&(Q=!0),je=="lab"&&(re=!0)}return g.hasBank=z,g.hasHospital=Q,g.hasCityHall=ie,g.hasLab=re,g}function p(g){let z=0,Q=0;for(let ie=0;ie<g.plots.length;ie++)for(let re=0;re<g.plots[ie].length;re++)if(g.plots[ie][re].active==!0&&g.plots[ie][re].type>-1){let ke=le[g.plots[ie][re].type].type;Q++,(ke=="recreation"||ke=="shop")&&z++}return g.townInfo.recreation=z,Q>40&&(z/Q<.2?(g.modifiers.happiness*.95,g=at("The city is growing and citizens are demanding more recreation, look for plots with 🛝 icons.",g,tt.BAD)):(g.modifiers.happiness*1.03,g=at("The city is growing and citizens are happy with the amount of recreation available.",g,tt.GOOD))),g}function _(g){let z=0;for(let Q=0;Q<g.plots.length;Q++)for(let ie=0;ie<g.plots[Q].length;ie++)if(g.plots[Q][ie].active==!0&&g.plots[Q][ie].type>-1){let ke=le[g.plots[Q][ie].type].requirements.employees;z+=ke}return z!=g.townInfo.employees&&(z>g.townInfo.population_max,g.townInfo.employees=z),g}function C(g){for(let z=0;z<g.plots.length;z++)for(let Q=0;Q<g.plots[z].length;Q++)g.plots[z][Q].active==!0&&(g.plots[z][Q].type=Te(g.plots[z][Q].typeId));return g}function v(g){const z=g.townInfo.productivity;let Q=1;if(z>50&&z<100)Q=1.05;else{if(z==100)return g;z<50?Q=1.3:z>100&&z<125?Q=.95:z>125&&z<150?Q=.9:z>150&&z<175?Q=.85:z>175&&z<200&&(Q=.75)}const ie=g.townInfo.happiness;return g.townInfo.happiness*=Q,Q>1?g=at(`Happiness has gone up by ${Math.round(g.townInfo.happiness/ie*100)}% due to productivity.`,g,tt.GOOD):g=at(`Happiness has gone down by ${100-Math.round(g.townInfo.happiness/ie*100)}% due to productivity.`,g,tt.BAD),g}function T(g){return g.endGameDetails!=null||(g.townInfo.happiness<70&&g.last_warning_happiness+365<g.environment.day&&(Ct.set("Your citizens are very unhappy. You should do something about it."),g.last_warning_happiness=g.environment.day),g.townInfo.health<70&&g.last_warning_health+365<g.environment.day&&(Ct.set("Your citizens are very unhealthy. You should do something about it."),g.last_warning_health=g.environment.day)),g}const L=["Abigail","Elijah","Mabel","Silas","Beatrice","Clarence","Dorothy","Edgar","Florence","George","Harriet","Isaac","Josephine","Levi","Matilda","Nathaniel","Olive","Percy","Quincy","Rose","Samuel","Theodore","Ursula","Vincent","Winifred","Xavier","Yvette","Zachary","Amos","Betsy","Cecil","Delia","Emmett","Fanny","Gideon","Hazel","Irving","Jeannette","Karl","Lucinda","Mortimer","Nettie","Otis","Prudence","Rufus","Sophronia","Titus","Ulysses","Vera","Winston","Xenia","Yolanda","Zeke","Ada","Bernard","Cornelia","Duncan","Esther","Fletcher","Genevieve"],D=["Farmer","Blacksmith","Biscuit Sculptor","Baker","Carpenter","Chicken Whisperer","Fisher","Herbalist","Miner","Mason","Mustache Twirler","Brewer","Butcher","Candlemaker","Cloud Watcher","Dressmaker","Gardener","Hunter","Innkeeper","Jeweler","Locksmith","Miller","Painter","Potter","Quilter","Rancher","Saddler","Tanner","Upholsterer","Vintner","Watchmaker","Wheelwright","Wooly Sock Knitter","Yarn Spinner","Zodiac Interpreter","Archivist","Bookbinder","Cobbler","Dyer","Engraver","Fletcher","Glassblower","Haberdasher","Illuminator","Joiner","Knitter","Lace Maker","Mapmaker","Navigator","Orchardist","Potion Tester","Quarryman","Roofer","Soapmaker","Tobacconist","Undertaker","Victualler","Wainwright","Xylographer","Yeoman","Pumpkin Carver","Mud Pie Maker","Folk Tale Teller","Leaf Collector","Sunset Chaser","Dream Interpreter","Star Gazer"];function j(g){if(g.gameSettings.includes("bagOfHolding"))return g.resource_capacity=972024,g;let z=Be("stockpile",g).length,Q=Be("adv_stockpile",g).length,ie=1e3+z*2e3+Q*12e3;return g.resource_capacity=ie,Object.keys(g.resources).forEach(re=>{g.resources[re]>ie&&(g.resources[re]=ie)}),g}function $(g){for(let z=0;z<g.plots.length;z++)for(let Q=0;Q<g.plots[z].length;Q++)if(Kn(z,Q,g)&&g.plots[z][Q].active==!0&&le[g.plots[z][Q].type].type=="residential"&&Math.random()<.99){let ie=`👑🏠 ${L[Math.floor(Math.random()*L.length)]} the ${D[Math.floor(Math.random()*D.length)]}: `,re=Mm(g);ie+=re,re!=""&&(g=at(ie,g,tt.NORMAL))}return g}function I(g){let z=0;for(let Q=0;Q<g.plots.length;Q++)for(let ie=0;ie<g.plots[Q].length;ie++)if(g.plots[Q][ie].active==!0&&g.plots[Q][ie].type>-1){let re=le[g.plots[Q][ie].type].type;(re=="recreation"||re=="shop")&&z++}return g.townInfo.recreation=z,g}function N(g){const z=g.townInfo.population_count;return g.resources.food<z?(g.modifiers.happiness*=.95,g.modifiers.health*=.95,g=at("There isn't enough food for everyone!",g,tt.BAD),g.resources.food=0):(g.townLog=g.townLog.filter(ie=>!ie.message.includes("There isn't enough food for everyone!")),g.resources.food-=z),g.resources.food=Math.round(g.resources.food),g}function q(g){const z=g.townInfo.productivity;let Q=1;z<50?Q=.5:z>50&&z<100?Q=.75:z==100?Q=1:z>100&&z<125?Q=1.25:z>125&&z<150?Q=1.75:z>150&&z<175?Q=3:z>175&&z<200&&(Q=5);const ie=g.gameSettings.includes("casual")?2.2:1;Q*=ie,Q=_m(Q,2),Q*=g.townInfo.community>150?1.2:g.townInfo.community<100?.85:1;let re=Be("lumber_mill",g).length*1.5;re===0&&(re=1);for(let ke=0;ke<g.plots.length;ke++)for(let Pe=0;Pe<g.plots[ke].length;Pe++)if(g.plots[ke][Pe].active==!0&&g.plots[ke][Pe].type>-1&&g.plots[ke][Pe].disabled==!1){let je=oo(ke,Pe,g),xe=Kn(ke,Pe,g)?2:1,De=le[g.plots[ke][Pe].type];De.generated_resources!=null&&(g.resources.food+=Math.round(De.generated_resources.food*Q)*(je?2:1)*xe,g.resources.wood+=Math.round(De.generated_resources.wood*Q*re)*xe,g.resources.stone+=Math.round(De.generated_resources.stone*Q)*xe,g.resources.metal+=Math.round(De.generated_resources.metal*Q)*xe,g.resources.bureaucracy+=Math.round(De.generated_resources.bureaucracy*Q)*xe)}return g.resources.food=Math.round(g.resources.food),g.resources.wood=Math.round(g.resources.wood),g.resources.stone=Math.round(g.resources.stone),g.resources.metal=Math.round(g.resources.metal),g.resources.bureaucracy=Math.round(g.resources.bureaucracy),g}var k;(function(g){g.food="food",g.wood="wood",g.stone="stone",g.metal="metal",g.bureaucracy="bureaucracy"})(k||(k={}));function y(g){for(let z=0;z<g.plots.length;z++)for(let Q=0;Q<g.plots[z].length;Q++)if(g.plots[z][Q].active&&g.plots[z][Q].type>-1&&!g.plots[z][Q].disabled){let ie=le[g.plots[z][Q].type];if(ie.type=="residential")continue;let re=!1,ke=[];const Pe=g.plots[z][Q].snoozedUntil&&g.environment.day<=(g.plots[z][Q].snoozedUntil||0);Object.keys(ie.active_costs).forEach((je,xe)=>{let De=Object.values(ie.active_costs)[xe];De=De/7,je!="power"&&(je=="gold"?g.townInfo.gold<De&&(re=!0,ke.push(`💰${De-g.townInfo.gold} gold`)):g.resources[je]<De?(re=!0,ke.push(`${De-g.resources[je]} ${je}`)):Pe||(g.resources[je]-=De))}),re&&!Pe&&(Ft.set({visible:!0,plotName:ie.title,location:`at (${Q}, ${z})`,missingResources:ke,plotCost:ie.requirements.gold,x:z,y:Q}),g.plots[z][Q].disabled=!0),g.plots[z][Q].disabled=!Pe&&re}else g.plots[z][Q].active||(g.plots[z][Q].disabled=!1);return g}function A(g){let z=0;for(let Q=0;Q<g.plots.length;Q++)for(let ie=0;ie<g.plots[Q].length;ie++)if(g.plots[Q][ie].active==!0&&g.plots[Q][ie].type>-1){let re=le[g.plots[Q][ie].type];re.active_costs.power!=0&&(z-=re.active_costs.power),re.generated_resources.power!=0&&(z+=re.generated_resources.power)}return g.resources.power=z,g.resources.power<0&&(g.modifiers.happiness*.98,g.townInfo.happiness-=5,g=at("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.",g,tt.BAD)),g}function R(g){if(g.gameSettings.includes("devMode"))return g;let z=a;for(let Q=0;Q<ct.length;Q++)z.achievements.find(ie=>ie[0]==ct[Q].id)==null&&ct[Q].check(g)&&(z.achievements.push([ct[Q].id,g.environment.day,g.townInfo.name]),Ae(Ot,l=!0,l),Ae(Mi,r=!0,r));return pn.update(()=>z),g}let W=!1;function F(g){if(W||g.currentTutorialStep>=zn.length)return g;for(let z=g.currentTutorialStep;z<g.currentTutorialStep+1;z++)if(zn[z].isComplete(g)){Ae(Bo,i=!0,i),W=!0,g.townInfo.gold+=zn[z].goldReward,setTimeout(()=>{Ae(Bo,i=!1,i),g.currentTutorialStep++,W=!1},6e3);break}return g}function U(g){return g.gameSettings.includes("tomPetty")&&(g.townInfo.happiness<=3||g.townInfo.health<=3)?(g.townInfo.happiness=300,g.modifiers.happiness=1,g.townInfo.health=300,g.modifiers.health=1,g.townInfo.gold=ut(g.townInfo.gold*.5,0),alert("Since you are playing in Tom Petty mode, you have been given another chance. All it took was 50% of your gold. Good luck!"),g):(g.townInfo.happiness<=3&&(g.townInfo.happiness=0,g.endGameDetails={msg:Nt.happiness_zero,win:!1,still_playing:!1}),g.townInfo.health<=3&&(g.townInfo.health=3,g.endGameDetails={msg:Nt.health_zero,win:!1,still_playing:!1}),g.townInfo.population_count<=0&&g.townInfo.population_max>0&&(g.townInfo.population_count=0,g.endGameDetails={msg:Nt.population_zero,win:!1,still_playing:!1}),g)}function K(g){let z=g.townInfo.population_count-g.townInfo.employees;if(g.gameSettings.includes("casual")&&Math.random()<.75)return g;if(z>0){let Q=z*.2;Q>10&&(Q=10),g.townInfo.happiness-=Q,g=at(z+Nt.unemployment_num,g,tt.BAD)}else g.townLog=g.townLog.filter(Q=>!Q.message.includes(Nt.unemployment_num));return g}function Z(g){for(let z=0;z<g.economyAndLaws.enacted.length;z++){let Q=Dr.find(ie=>ie.id==g.economyAndLaws.enacted[z]);Q!=null&&Q.weekly_effect!=null&&(g=Q.weekly_effect(g))}return g}function te(g){let z=g.townInfo.health,Q=0;return z>50||z<Math.random()*50&&(z<25?(g=at(Nt.sickAndDying,g,tt.BAD),g.townInfo.happiness-=10,Q=Math.round(g.townInfo.population_count*.1)):(g=at(Nt.sickAndLeaving,g,tt.BAD),g.townInfo.happiness-=5,Q=Math.round(g.townInfo.population_count*.05)),g.townInfo.population_count-=Q,g.townInfo.employees-=Q),g}function J(g){const z=Math.random();if(g.economyAndLaws.tax_rate>g.economyAndLaws.max_tax_rate&&g.townInfo.population_count>0){let Q=1;g.hasBank&&(Q=2);const ie=g.difficulty==0?.7:g.difficulty==1?.4:.2;z<ie&&g.economyAndLaws.tax_rate>g.economyAndLaws.max_tax_rate*2*Q?(g.modifiers.happiness-=.02,g=at(Nt.very_high_tax_rate+"  ("+g.economyAndLaws.tax_rate+"%)",g,tt.BAD)):(g.modifiers.happiness-=.01,g=at(Nt.high_tax_rate+"  ("+g.economyAndLaws.tax_rate*100+"%)",g,tt.BAD))}return g}function X(g){if(g.modifiers.happiness>1){let Q=g.modifiers.happiness-1;g.modifiers.happiness-=Q*.3,g.modifiers.happiness<1.02&&(g.modifiers.happiness=1)}if(g.modifiers.community>1){let Q=g.modifiers.community-1;g.modifiers.community-=Q*.3,g.modifiers.community<1.02&&(g.modifiers.community=1)}if(g.modifiers.health>1)if(Be("healing_house",g).length>0){g=at(Nt.hospital_advantage,g,tt.GOOD);let Q=g.modifiers.health-1;g.modifiers.health-=Q*Be("healing_house",g).length?.03:.06,g.modifiers.health<1.02&&(g.modifiers.health=1)}else{let Q=g.modifiers.health-1;g.modifiers.health-=Q*.3,g.modifiers.health<1.02&&(g.modifiers.health=1)}else Be("healing_house",g).length>0&&(g.modifiers.health+=.8,g.townInfo.health+=Math.floor(Math.random()*10)+5);return g}function fe(g){g.economyAndLaws.weeklyProfit=0;for(let z=0;z<g.plots.length;z++)for(let Q=0;Q<g.plots[z].length;Q++)if(g.plots[z][Q].active==!0&&g.plots[z][Q].type>-1){const ie=le[g.plots[z][Q].type];let re=Fe(ie.revenue_per_week,g,ie.type,z,Q)*(g.townInfo.productivity/100)/7,ke=oo(z,Q,g);const Pe=g.gameSettings.includes("casual")&&re>0?3:1;re*=Pe,re*=ke?2:1,g.townInfo.gold+=re,g.economyAndLaws.weeklyProfit+=re*7}return g}function se(g){for(let z=0;z<g.plots.length;z++)for(let Q=0;Q<g.plots[z].length;Q++)if(g.plots[z][Q].active==!0&&g.plots[z][Q].type>-1){const ie=le[g.plots[z][Q].type];g.townInfo.happiness*=ie.purchase_effect_modifiers.happiness,g.townInfo.health*=ie.purchase_effect_modifiers.health,g.townInfo.community*=ie.purchase_effect_modifiers.community}return g.townInfo.happiness*=g.modifiers.happiness,g.townInfo.health*=g.modifiers.health,g.townInfo.community*=g.modifiers.community,g}function oe(g){return g.gameSettings.includes("casual")&&Math.random()<.75||Be("mine",g).length>0&&(g.townInfo.health-=7,Be("healing_house",g).length==0&&(g=at("The mine is actively hurting the health of the town. A Healing House can counteract this.",g,tt.BAD))),g}function $e(g){let z=0;for(let Q=0;Q<g.plots.length;Q++)for(let ie=0;ie<g.plots[Q].length;ie++)if(g.plots[Q][ie].active==!0&&g.plots[Q][ie].type>-1){let re=le[g.plots[Q][ie].type],ke=Kn(Q,ie,g)?.75:1;re.knowledge_points_per_month!=null&&(g.townInfo.knowledge_points+=Math.round(re.knowledge_points_per_month*ke/4),z+=re.knowledge_points_per_month*ke/4)}return g.resource_rate.knowledge=ut(z,0),g}function Fe(g,z,Q,ie,re){let ke=z.townInfo.happiness/100;ke>2?ke=2:ke<.75&&(ke=.75),z.townInfo.community>150?ke*=1.1:z.townInfo.community<100&&(ke*=.8);let Pe=Be("village_inn",z).length;Q=="shop"&&Pe>0&&(ke*=1.35*Pe),Kn(ie,re,z)&&(ke*=1.5);let xe=le[z.plots[ie][re].type].active_costs.gold,De=Math.round(g*z.economyAndLaws.tax_rate*(z.townInfo.population_count/z.townInfo.population_max)*ke*(z.economyAndLaws.enacted.includes("tax_free")?-1:1)-xe);return ut(De,0)}return Jo(async()=>{for(;;)localStorage.reset=="true"&&(Lr(),localStorage.setItem("reset","false")),d(),await new Promise(g=>setTimeout(g,o/Hl))}),[d,jr,Fr,X,qr]}class Rm extends _e{constructor(e){super(),he(this,e,$m,null,pe,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return jr}get _fixVariables(){return Fr}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return qr}}function Lm(t){return t[t.length-1]}function hn(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function fr(t){return t?!0:void 0}hn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function qf(t){if(t!==null)return t}function Gl(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function cr(t){if(!Wo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return yt(e)?e:null}const $o=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),Wl=t=>typeof t=="function";ft("empty");function ft(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return tn(n,a=>{const s=i(a);if(Wl(s)){const u=(...f)=>$o({...s(...f),[`data-melt-${t}`]:"",action:o??et});return u.action=o??et,u}return $o({...s,[`data-melt-${t}`]:"",action:o??et})});{const a=i,s=a==null?void 0:a();if(Wl(s)){const u=(...f)=>$o({...s(...f),[`data-melt-${t}`]:"",action:o??et});return u.action=o??et,Gl(u)}return Gl($o({...s,[`data-melt-${t}`]:"",action:o??et}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function Vl(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=tn(n,a=>o(a).map(s=>$o({...s,[`data-melt-${t}`]:"",action:i??et}))),l=i??(()=>{});return l.subscribe=r,l}function Qi(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const Wo=typeof document<"u",Bf=t=>typeof t=="function";function Dm(t){return t instanceof Document}function zi(t){return t instanceof Element}function yt(t){return t instanceof HTMLElement}function xl(t){return t.pointerType==="touch"}function jm(t){return t!==null&&typeof t=="object"}function Fm(t){return jm(t)&&"subscribe"in t}function Bt(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function et(){}function dt(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function _t(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=Bm(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function qm(t){const e=t.currentTarget;if(!yt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function Bm(t){return e=>{const n=qm(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function er(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function Qt(t){return{...t,get:()=>bf(t)}}Qt.writable=function(t){const e=Ue(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};Qt.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const tr=(t,e)=>{const n=Qt(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function cl(t){return new Promise(e=>setTimeout(e,t))}let Hm="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Gm=(t=21)=>{let e="",n=t;for(;n--;)e+=Hm[Math.random()*64|0];return e};function Wm(){return Gm(10)}function dl(t){return t.reduce((e,n)=>(e[n]=Wm(),e),{})}const lt={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Hf=()=>typeof window<"u";function Vm(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Gf=t=>Hf()&&t.test(Vm().toLowerCase()),xm=()=>Hf()&&!!navigator.maxTouchPoints,Ym=()=>Gf(/^mac/)&&!xm(),Um=()=>Gf(/mac|iphone|ipad|ipod/i),Km=()=>Um()&&!Ym();function Xm(t){const e=t.slice();return e.sort(Zm),Jm(e)}function Jm(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function Zm(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function Qm(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function zm(t){const e=t.flatMap(n=>Qm(n));return Xm(e)}function ep(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const dr="data-melt-scroll-lock";function Yl(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function tp(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function np(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function op(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(dr))return et;i.setAttribute(dr,"");const l=n.innerWidth-o.clientWidth,a=()=>tp(o,"--scrollbar-width",`${l}px`),s=np(o),u=n.getComputedStyle(i)[s],f=()=>Yl(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:m,scrollY:h,visualViewport:p}=n,_=(p==null?void 0:p.offsetLeft)??0,C=(p==null?void 0:p.offsetTop)??0,v=Yl(i,{position:"fixed",overflow:"hidden",top:`${-(h-Math.floor(C))}px`,left:`${-(m-Math.floor(_))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{v==null||v(),n.scrollTo(m,h)}},d=[a(),Km()?c():f()];return()=>{d.forEach(m=>m==null?void 0:m()),i.removeAttribute(dr)}}const ip=t=>{try{Tf(t)}catch{return t}};function Mt(t,e){let n;const o=tn(t,r=>{n==null||n(),n=e(r)}).subscribe(et),i=()=>{o(),n==null||n()};return ip(i),i}function Nn(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=Qt(Ue(i))}),e}function rp(t){let e=t.parentElement;for(;yt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Wf(t,e){return e!==void 0?e:rp(t)==="body"?document.body:null}async function Ul(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([cl(1),sl]),e===void 0){n==null||n.focus();return}const o=Bf(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!yt(i))return;i.focus()}else yt(o)&&o.focus()}function mr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}Mn(void 0,t=>{function e(o){t(o),t(void 0)}return dt(document,"pointerup",e,{passive:!1,capture:!0})});const lp=Mn(void 0,t=>{function e(o){o&&o.key===lt.ESCAPE&&t(o),t(void 0)}return dt(document,"keydown",e,{passive:!1})}),Kl=(t,e={})=>{let n=et;function o(i={}){n();const r={enabled:!0,...i},l=Fm(r.enabled)?r.enabled:Mn(r.enabled);n=Bt(lp.subscribe(a=>{var u;if(!a||!bf(l))return;const s=a.target;if(!(!yt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(Bf(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Mt(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},gn=Math.min,kt=Math.max,Oi=Math.round,ni=Math.floor,bn=t=>({x:t,y:t}),sp={left:"right",right:"left",bottom:"top",top:"bottom"},ap={start:"end",end:"start"};function Br(t,e,n){return kt(t,gn(e,n))}function go(t,e){return typeof t=="function"?t(e):t}function yn(t){return t.split("-")[0]}function bo(t){return t.split("-")[1]}function Vf(t){return t==="x"?"y":"x"}function ml(t){return t==="y"?"height":"width"}function Zo(t){return["top","bottom"].includes(yn(t))?"y":"x"}function pl(t){return Vf(Zo(t))}function up(t,e,n){n===void 0&&(n=!1);const o=bo(t),i=pl(t),r=ml(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=Pi(l)),[l,Pi(l)]}function fp(t){const e=Pi(t);return[Hr(t),e,Hr(e)]}function Hr(t){return t.replace(/start|end/g,e=>ap[e])}function cp(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function dp(t,e,n,o){const i=bo(t);let r=cp(yn(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(Hr)))),r}function Pi(t){return t.replace(/left|right|bottom|top/g,e=>sp[e])}function mp(t){return{top:0,right:0,bottom:0,left:0,...t}}function xf(t){return typeof t!="number"?mp(t):{top:t,right:t,bottom:t,left:t}}function Ni(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Xl(t,e,n){let{reference:o,floating:i}=t;const r=Zo(e),l=pl(e),a=ml(l),s=yn(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let m;switch(s){case"top":m={x:f,y:o.y-i.height};break;case"bottom":m={x:f,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:c};break;case"left":m={x:o.x-i.width,y:c};break;default:m={x:o.x,y:o.y}}switch(bo(e)){case"start":m[l]-=d*(n&&u?-1:1);break;case"end":m[l]+=d*(n&&u?-1:1);break}return m}const pp=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=Xl(u,o,s),d=o,m={},h=0;for(let p=0;p<a.length;p++){const{name:_,fn:C}=a[p],{x:v,y:T,data:L,reset:D}=await C({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:m,rects:u,platform:l,elements:{reference:t,floating:e}});f=v??f,c=T??c,m={...m,[_]:{...m[_],...L}},D&&h<=50&&(h++,typeof D=="object"&&(D.placement&&(d=D.placement),D.rects&&(u=D.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:f,y:c}=Xl(u,d,s)),p=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:m}};async function hl(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:m=0}=go(e,t),h=xf(m),_=a[d?c==="floating"?"reference":"floating":c],C=Ni(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(_)))==null||n?_:_.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),v=c==="floating"?{...l.floating,x:o,y:i}:l.reference,T=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),L=await(r.isElement==null?void 0:r.isElement(T))?await(r.getScale==null?void 0:r.getScale(T))||{x:1,y:1}:{x:1,y:1},D=Ni(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:T,strategy:s}):v);return{top:(C.top-D.top+h.top)/L.y,bottom:(D.bottom-C.bottom+h.bottom)/L.y,left:(C.left-D.left+h.left)/L.x,right:(D.right-C.right+h.right)/L.x}}const hp=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=go(t,e)||{};if(u==null)return{};const c=xf(f),d={x:n,y:o},m=pl(i),h=ml(m),p=await l.getDimensions(u),_=m==="y",C=_?"top":"left",v=_?"bottom":"right",T=_?"clientHeight":"clientWidth",L=r.reference[h]+r.reference[m]-d[m]-r.floating[h],D=d[m]-r.reference[m],j=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let $=j?j[T]:0;(!$||!await(l.isElement==null?void 0:l.isElement(j)))&&($=a.floating[T]||r.floating[h]);const I=L/2-D/2,N=$/2-p[h]/2-1,q=gn(c[C],N),k=gn(c[v],N),y=q,A=$-p[h]-k,R=$/2-p[h]/2+I,W=Br(y,R,A),F=!s.arrow&&bo(i)!=null&&R!==W&&r.reference[h]/2-(R<y?q:k)-p[h]/2<0,U=F?R<y?R-y:R-A:0;return{[m]:d[m]+U,data:{[m]:W,centerOffset:R-W-U,...F&&{alignmentOffset:U}},reset:F}}}),_p=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:p=!0,..._}=go(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const C=yn(i),v=yn(a)===a,T=await(s.isRTL==null?void 0:s.isRTL(u.floating)),L=d||(v||!p?[Pi(a)]:fp(a));!d&&h!=="none"&&L.push(...dp(a,p,h,T));const D=[a,...L],j=await hl(e,_),$=[];let I=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&$.push(j[C]),c){const y=up(i,l,T);$.push(j[y[0]],j[y[1]])}if(I=[...I,{placement:i,overflows:$}],!$.every(y=>y<=0)){var N,q;const y=(((N=r.flip)==null?void 0:N.index)||0)+1,A=D[y];if(A)return{data:{index:y,overflows:I},reset:{placement:A}};let R=(q=I.filter(W=>W.overflows[0]<=0).sort((W,F)=>W.overflows[1]-F.overflows[1])[0])==null?void 0:q.placement;if(!R)switch(m){case"bestFit":{var k;const W=(k=I.map(F=>[F.placement,F.overflows.filter(U=>U>0).reduce((U,K)=>U+K,0)]).sort((F,U)=>F[1]-U[1])[0])==null?void 0:k[0];W&&(R=W);break}case"initialPlacement":R=a;break}if(i!==R)return{reset:{placement:R}}}return{}}}};async function gp(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=yn(n),a=bo(n),s=Zo(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=go(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:h}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof h=="number"&&(m=a==="end"?h*-1:h),s?{x:m*f,y:d*u}:{x:d*u,y:m*f}}const bp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await gp(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},yp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:_=>{let{x:C,y:v}=_;return{x:C,y:v}}},...s}=go(t,e),u={x:n,y:o},f=await hl(e,s),c=Zo(yn(i)),d=Vf(c);let m=u[d],h=u[c];if(r){const _=d==="y"?"top":"left",C=d==="y"?"bottom":"right",v=m+f[_],T=m-f[C];m=Br(v,m,T)}if(l){const _=c==="y"?"top":"left",C=c==="y"?"bottom":"right",v=h+f[_],T=h-f[C];h=Br(v,h,T)}const p=a.fn({...e,[d]:m,[c]:h});return{...p,data:{x:p.x-n,y:p.y-o}}}}},vp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=go(t,e),s=await hl(e,a),u=yn(n),f=bo(n),c=Zo(n)==="y",{width:d,height:m}=o.floating;let h,p;u==="top"||u==="bottom"?(h=u,p=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(p=u,h=f==="end"?"top":"bottom");const _=m-s[h],C=d-s[p],v=!e.middlewareData.shift;let T=_,L=C;if(c){const j=d-s.left-s.right;L=f||v?gn(C,j):j}else{const j=m-s.top-s.bottom;T=f||v?gn(_,j):j}if(v&&!f){const j=kt(s.left,0),$=kt(s.right,0),I=kt(s.top,0),N=kt(s.bottom,0);c?L=d-2*(j!==0||$!==0?j+$:kt(s.left,s.right)):T=m-2*(I!==0||N!==0?I+N:kt(s.top,s.bottom))}await l({...e,availableWidth:L,availableHeight:T});const D=await i.getDimensions(r.floating);return d!==D.width||m!==D.height?{reset:{rects:!0}}:{}}}};function vn(t){return Yf(t)?(t.nodeName||"").toLowerCase():"#document"}function Tt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function nn(t){var e;return(e=(Yf(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Yf(t){return t instanceof Node||t instanceof Tt(t).Node}function zt(t){return t instanceof Element||t instanceof Tt(t).Element}function Gt(t){return t instanceof HTMLElement||t instanceof Tt(t).HTMLElement}function Jl(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tt(t).ShadowRoot}function Qo(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Pt(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function wp(t){return["table","td","th"].includes(vn(t))}function _l(t){const e=gl(),n=Pt(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function kp(t){let e=uo(t);for(;Gt(e)&&!nr(e);){if(_l(e))return e;e=uo(e)}return null}function gl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function nr(t){return["html","body","#document"].includes(vn(t))}function Pt(t){return Tt(t).getComputedStyle(t)}function or(t){return zt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function uo(t){if(vn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Jl(t)&&t.host||nn(t);return Jl(e)?e.host:e}function Uf(t){const e=uo(t);return nr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Gt(e)&&Qo(e)?e:Uf(e)}function Vo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Uf(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=Tt(i);return r?e.concat(l,l.visualViewport||[],Qo(i)?i:[],l.frameElement&&n?Vo(l.frameElement):[]):e.concat(i,Vo(i,[],n))}function Kf(t){const e=Pt(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Gt(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=Oi(n)!==r||Oi(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function bl(t){return zt(t)?t:t.contextElement}function eo(t){const e=bl(t);if(!Gt(e))return bn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=Kf(e);let l=(r?Oi(n.width):n.width)/o,a=(r?Oi(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const Cp=bn(0);function Xf(t){const e=Tt(t);return!gl()||!e.visualViewport?Cp:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Tp(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tt(t)?!1:e}function En(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=bl(t);let l=bn(1);e&&(o?zt(o)&&(l=eo(o)):l=eo(t));const a=Tp(r,n,o)?Xf(r):bn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=Tt(r),m=o&&zt(o)?Tt(o):o;let h=d,p=h.frameElement;for(;p&&o&&m!==h;){const _=eo(p),C=p.getBoundingClientRect(),v=Pt(p),T=C.left+(p.clientLeft+parseFloat(v.paddingLeft))*_.x,L=C.top+(p.clientTop+parseFloat(v.paddingTop))*_.y;s*=_.x,u*=_.y,f*=_.x,c*=_.y,s+=T,u+=L,h=Tt(p),p=h.frameElement}}return Ni({width:f,height:c,x:s,y:u})}const Sp=[":popover-open",":modal"];function Jf(t){return Sp.some(e=>{try{return t.matches(e)}catch{return!1}})}function Ap(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=nn(o),a=e?Jf(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=bn(1);const f=bn(0),c=Gt(o);if((c||!c&&!r)&&((vn(o)!=="body"||Qo(l))&&(s=or(o)),Gt(o))){const d=En(o);u=eo(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function Ip(t){return Array.from(t.getClientRects())}function Zf(t){return En(nn(t)).left+or(t).scrollLeft}function Mp(t){const e=nn(t),n=or(t),o=t.ownerDocument.body,i=kt(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=kt(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+Zf(t);const a=-n.scrollTop;return Pt(o).direction==="rtl"&&(l+=kt(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function Op(t,e){const n=Tt(t),o=nn(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=gl();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function Pp(t,e){const n=En(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=Gt(t)?eo(t):bn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function Zl(t,e,n){let o;if(e==="viewport")o=Op(t,n);else if(e==="document")o=Mp(nn(t));else if(zt(e))o=Pp(e,n);else{const i=Xf(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return Ni(o)}function Qf(t,e){const n=uo(t);return n===e||!zt(n)||nr(n)?!1:Pt(n).position==="fixed"||Qf(n,e)}function Np(t,e){const n=e.get(t);if(n)return n;let o=Vo(t,[],!1).filter(a=>zt(a)&&vn(a)!=="body"),i=null;const r=Pt(t).position==="fixed";let l=r?uo(t):t;for(;zt(l)&&!nr(l);){const a=Pt(l),s=_l(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Qo(l)&&!s&&Qf(t,l))?o=o.filter(f=>f!==l):i=a,l=uo(l)}return e.set(t,o),o}function Ep(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?Np(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=Zl(e,f,i);return u.top=kt(c.top,u.top),u.right=gn(c.right,u.right),u.bottom=gn(c.bottom,u.bottom),u.left=kt(c.left,u.left),u},Zl(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function $p(t){const{width:e,height:n}=Kf(t);return{width:e,height:n}}function Rp(t,e,n){const o=Gt(e),i=nn(e),r=n==="fixed",l=En(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=bn(0);if(o||!o&&!r)if((vn(e)!=="body"||Qo(i))&&(a=or(e)),o){const c=En(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=Zf(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function Ql(t,e){return!Gt(t)||Pt(t).position==="fixed"?null:e?e(t):t.offsetParent}function zf(t,e){const n=Tt(t);if(!Gt(t)||Jf(t))return n;let o=Ql(t,e);for(;o&&wp(o)&&Pt(o).position==="static";)o=Ql(o,e);return o&&(vn(o)==="html"||vn(o)==="body"&&Pt(o).position==="static"&&!_l(o))?n:o||kp(t)||n}const Lp=async function(t){const e=this.getOffsetParent||zf,n=this.getDimensions;return{reference:Rp(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function Dp(t){return Pt(t).direction==="rtl"}const jp={convertOffsetParentRelativeRectToViewportRelativeRect:Ap,getDocumentElement:nn,getClippingRect:Ep,getOffsetParent:zf,getElementRects:Lp,getClientRects:Ip,getDimensions:$p,getScale:eo,isElement:zt,isRTL:Dp};function Fp(t,e){let n=null,o;const i=nn(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const m=ni(f),h=ni(i.clientWidth-(u+c)),p=ni(i.clientHeight-(f+d)),_=ni(u),v={rootMargin:-m+"px "+-h+"px "+-p+"px "+-_+"px",threshold:kt(0,gn(1,s))||1};let T=!0;function L(D){const j=D[0].intersectionRatio;if(j!==s){if(!T)return l();j?l(!1,j):o=setTimeout(()=>{l(!1,1e-7)},100)}T=!1}try{n=new IntersectionObserver(L,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(L,v)}n.observe(t)}return l(!0),r}function qp(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=bl(t),f=i||r?[...u?Vo(u):[],...Vo(e)]:[];f.forEach(C=>{i&&C.addEventListener("scroll",n,{passive:!0}),r&&C.addEventListener("resize",n)});const c=u&&a?Fp(u,n):null;let d=-1,m=null;l&&(m=new ResizeObserver(C=>{let[v]=C;v&&v.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var T;(T=m)==null||T.observe(e)})),n()}),u&&!s&&m.observe(u),m.observe(e));let h,p=s?En(t):null;s&&_();function _(){const C=En(t);p&&(C.x!==p.x||C.y!==p.y||C.width!==p.width||C.height!==p.height)&&n(),p=C,h=requestAnimationFrame(_)}return n(),()=>{var C;f.forEach(v=>{i&&v.removeEventListener("scroll",n),r&&v.removeEventListener("resize",n)}),c==null||c(),(C=m)==null||C.disconnect(),m=null,s&&cancelAnimationFrame(h)}}const Bp=yp,Hp=_p,Gp=vp,Wp=hp,Vp=(t,e,n)=>{const o=new Map,i={platform:jp,...n},r={...i.platform,_c:o};return pp(t,e,{...i,platform:r})},xp={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},Yp={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Up(t,e,n={}){if(!e||!t||n===null)return{destroy:et};const o={...xp,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push(Hp({boundary:o.boundary,padding:o.overflowPadding}));const l=yt(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(bp(s))}r.push(Bp({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(Wp({element:i,padding:8})),r.push(Gp({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;Vp(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),yt(i)&&f.middlewareData.arrow){const{x:m,y:h}=f.middlewareData.arrow,p=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:m!=null?`${m}px`:"",top:h!=null?`${h}px`:"",[p]:`calc(100% - ${l}px)`,transform:Yp[p],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:qp(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var ec=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ei=ec.join(","),tc=typeof Element>"u",$n=tc?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,$i=!tc&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Ri=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},Kp=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},nc=function(e,n,o){if(Ri(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Ei));return n&&$n.call(e,Ei)&&i.unshift(e),i=i.filter(o),i},oc=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!Ri(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=$n.call(l,Ei);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!Ri(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var m=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,m):i.push({scopeParent:l,candidates:m})}else r.unshift.apply(r,l.children)}}return i},ic=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Tn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Kp(e))&&!ic(e)?0:e.tabIndex},Xp=function(e,n){var o=Tn(e);return o<0&&n&&!ic(e)?0:o},Jp=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},rc=function(e){return e.tagName==="INPUT"},Zp=function(e){return rc(e)&&e.type==="hidden"},Qp=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},zp=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},eh=function(e){if(!e.name)return!0;var n=e.form||$i(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=zp(i,e.form);return!r||r===e},th=function(e){return rc(e)&&e.type==="radio"},nh=function(e){return th(e)&&!eh(e)},oh=function(e){var n,o=e&&$i(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=$i(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},zl=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},ih=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=$n.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if($n.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=$i(e);if(s&&!s.shadowRoot&&i(s)===!0)return zl(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(oh(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return zl(e);return!1},rh=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return $n.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},Li=function(e,n){return!(n.disabled||Ri(n)||Zp(n)||ih(n,e)||Qp(n)||rh(n))},Gr=function(e,n){return!(nh(n)||Tn(n)<0||!Li(e,n))},lh=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},sh=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=Xp(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(Jp).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},ah=function(e,n){n=n||{};var o;return n.getShadowRoot?o=oc([e],n.includeContainer,{filter:Gr.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:lh}):o=nc(e,n.includeContainer,Gr.bind(null,n)),sh(o)},uh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=oc([e],n.includeContainer,{filter:Li.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=nc(e,n.includeContainer,Li.bind(null,n)),o},xn=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return $n.call(e,Ei)===!1?!1:Gr(n,e)},fh=ec.concat("iframe").join(","),pr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return $n.call(e,fh)===!1?!1:Li(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function es(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function ts(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?es(Object(n),!0).forEach(function(o){ch(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):es(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function ch(t,e,n){return e=mh(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dh(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mh(t){var e=dh(t,"string");return typeof e=="symbol"?e:String(e)}var ns={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},ph=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},hh=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Ho=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},_h=function(e){return Ho(e)&&!e.shiftKey},gh=function(e){return Ho(e)&&e.shiftKey},os=function(e){return setTimeout(e,0)},is=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},Oo=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},oi=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},bh=[],yh=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||bh,r=ts({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:_h,isKeyBackward:gh},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(y,A,R){return y&&y[A]!==void 0?y[A]:r[R||A]},u=function(y,A){var R=typeof(A==null?void 0:A.composedPath)=="function"?A.composedPath():void 0;return l.containerGroups.findIndex(function(W){var F=W.container,U=W.tabbableNodes;return F.contains(y)||(R==null?void 0:R.includes(F))||U.find(function(K){return K===y})})},f=function(y){var A=r[y];if(typeof A=="function"){for(var R=arguments.length,W=new Array(R>1?R-1:0),F=1;F<R;F++)W[F-1]=arguments[F];A=A.apply(void 0,W)}if(A===!0&&(A=void 0),!A){if(A===void 0||A===!1)return A;throw new Error("`".concat(y,"` was specified but was not a node, or did not return a node"))}var U=A;if(typeof A=="string"&&(U=o.querySelector(A),!U))throw new Error("`".concat(y,"` as selector refers to no known node"));return U},c=function(){var y=f("initialFocus");if(y===!1)return!1;if(y===void 0||!pr(y,r.tabbableOptions))if(u(o.activeElement)>=0)y=o.activeElement;else{var A=l.tabbableGroups[0],R=A&&A.firstTabbableNode;y=R||f("fallbackFocus")}if(!y)throw new Error("Your focus-trap needs to have at least one focusable element");return y},d=function(){if(l.containerGroups=l.containers.map(function(y){var A=ah(y,r.tabbableOptions),R=uh(y,r.tabbableOptions),W=A.length>0?A[0]:void 0,F=A.length>0?A[A.length-1]:void 0,U=R.find(function(te){return xn(te)}),K=R.slice().reverse().find(function(te){return xn(te)}),Z=!!A.find(function(te){return Tn(te)>0});return{container:y,tabbableNodes:A,focusableNodes:R,posTabIndexesFound:Z,firstTabbableNode:W,lastTabbableNode:F,firstDomTabbableNode:U,lastDomTabbableNode:K,nextTabbableNode:function(J){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,fe=A.indexOf(J);return fe<0?X?R.slice(R.indexOf(J)+1).find(function(se){return xn(se)}):R.slice(0,R.indexOf(J)).reverse().find(function(se){return xn(se)}):A[fe+(X?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(y){return y.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(y){return y.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function k(y){var A=y.activeElement;if(A)return A.shadowRoot&&A.shadowRoot.activeElement!==null?k(A.shadowRoot):A},h=function k(y){if(y!==!1&&y!==m(document)){if(!y||!y.focus){k(c());return}y.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=y,ph(y)&&y.select()}},p=function(y){var A=f("setReturnFocus",y);return A||(A===!1?!1:y)},_=function(y){var A=y.target,R=y.event,W=y.isBackward,F=W===void 0?!1:W;A=A||oi(R),d();var U=null;if(l.tabbableGroups.length>0){var K=u(A,R),Z=K>=0?l.containerGroups[K]:void 0;if(K<0)F?U=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:U=l.tabbableGroups[0].firstTabbableNode;else if(F){var te=is(l.tabbableGroups,function($e){var Fe=$e.firstTabbableNode;return A===Fe});if(te<0&&(Z.container===A||pr(A,r.tabbableOptions)&&!xn(A,r.tabbableOptions)&&!Z.nextTabbableNode(A,!1))&&(te=K),te>=0){var J=te===0?l.tabbableGroups.length-1:te-1,X=l.tabbableGroups[J];U=Tn(A)>=0?X.lastTabbableNode:X.lastDomTabbableNode}else Ho(R)||(U=Z.nextTabbableNode(A,!1))}else{var fe=is(l.tabbableGroups,function($e){var Fe=$e.lastTabbableNode;return A===Fe});if(fe<0&&(Z.container===A||pr(A,r.tabbableOptions)&&!xn(A,r.tabbableOptions)&&!Z.nextTabbableNode(A))&&(fe=K),fe>=0){var se=fe===l.tabbableGroups.length-1?0:fe+1,oe=l.tabbableGroups[se];U=Tn(A)>=0?oe.firstTabbableNode:oe.firstDomTabbableNode}else Ho(R)||(U=Z.nextTabbableNode(A))}}else U=f("fallbackFocus");return U},C=function(y){var A=oi(y);if(!(u(A,y)>=0)){if(Oo(r.clickOutsideDeactivates,y)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Oo(r.allowOutsideClick,y)||y.preventDefault()}},v=function(y){var A=oi(y),R=u(A,y)>=0;if(R||A instanceof Document)R&&(l.mostRecentlyFocusedNode=A);else{y.stopImmediatePropagation();var W,F=!0;if(l.mostRecentlyFocusedNode)if(Tn(l.mostRecentlyFocusedNode)>0){var U=u(l.mostRecentlyFocusedNode),K=l.containerGroups[U].tabbableNodes;if(K.length>0){var Z=K.findIndex(function(te){return te===l.mostRecentlyFocusedNode});Z>=0&&(r.isKeyForward(l.recentNavEvent)?Z+1<K.length&&(W=K[Z+1],F=!1):Z-1>=0&&(W=K[Z-1],F=!1))}}else l.containerGroups.some(function(te){return te.tabbableNodes.some(function(J){return Tn(J)>0})})||(F=!1);else F=!1;F&&(W=_({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),h(W||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},T=function(y){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=y;var R=_({event:y,isBackward:A});R&&(Ho(y)&&y.preventDefault(),h(R))},L=function(y){if(hh(y)&&Oo(r.escapeDeactivates,y)!==!1){y.preventDefault(),a.deactivate();return}(r.isKeyForward(y)||r.isKeyBackward(y))&&T(y,r.isKeyBackward(y))},D=function(y){var A=oi(y);u(A,y)>=0||Oo(r.clickOutsideDeactivates,y)||Oo(r.allowOutsideClick,y)||(y.preventDefault(),y.stopImmediatePropagation())},j=function(){if(l.active)return ns.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?os(function(){h(c())}):h(c()),o.addEventListener("focusin",v,!0),o.addEventListener("mousedown",C,{capture:!0,passive:!1}),o.addEventListener("touchstart",C,{capture:!0,passive:!1}),o.addEventListener("click",D,{capture:!0,passive:!1}),o.addEventListener("keydown",L,{capture:!0,passive:!1}),a},$=function(){if(l.active)return o.removeEventListener("focusin",v,!0),o.removeEventListener("mousedown",C,!0),o.removeEventListener("touchstart",C,!0),o.removeEventListener("click",D,!0),o.removeEventListener("keydown",L,!0),a},I=function(y){var A=y.some(function(R){var W=Array.from(R.removedNodes);return W.some(function(F){return F===l.mostRecentlyFocusedNode})});A&&h(c())},N=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(I):void 0,q=function(){N&&(N.disconnect(),l.active&&!l.paused&&l.containers.map(function(y){N.observe(y,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(y){if(l.active)return this;var A=s(y,"onActivate"),R=s(y,"onPostActivate"),W=s(y,"checkCanFocusTrap");W||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,A==null||A();var F=function(){W&&d(),j(),q(),R==null||R()};return W?(W(l.containers.concat()).then(F,F),this):(F(),this)},deactivate:function(y){if(!l.active)return this;var A=ts({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},y);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,$(),l.active=!1,l.paused=!1,q(),ns.deactivateTrap(i,a);var R=s(A,"onDeactivate"),W=s(A,"onPostDeactivate"),F=s(A,"checkCanReturnFocus"),U=s(A,"returnFocus","returnFocusOnDeactivate");R==null||R();var K=function(){os(function(){U&&h(p(l.nodeFocusedBeforeActivation)),W==null||W()})};return U&&F?(F(p(l.nodeFocusedBeforeActivation)).then(K,K),this):(K(),this)},pause:function(y){if(l.paused||!l.active)return this;var A=s(y,"onPause"),R=s(y,"onPostPause");return l.paused=!0,A==null||A(),$(),q(),R==null||R(),this},unpause:function(y){if(!l.paused||!l.active)return this;var A=s(y,"onUnpause"),R=s(y,"onPostUnpause");return l.paused=!1,A==null||A(),d(),j(),q(),R==null||R(),this},updateContainerElements:function(y){var A=[].concat(y).filter(Boolean);return l.containers=A.map(function(R){return typeof R=="string"?o.querySelector(R):R}),l.active&&d(),q(),this}},a.updateContainerElements(e),a};function vh(t={}){let e;const{immediate:n,...o}=t,i=Ue(!1),r=Ue(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=yh(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:Rl(i),isPaused:Rl(r),activate:l,deactivate:a,pause:s,unpause:u}}const ii=[];function wh(t,e){let n=et;function o(){const r=ii.indexOf(t);r>=0&&ii.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;cl(100).then(()=>{l?ii.push(t):o()});function f(){return Lm(ii)===t}function c(){f()&&a&&(a(),o())}function d(h){const p=h.target;zi(p)&&p&&f()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation())}function m(h){s!=null&&s(h)&&f()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation(),c())}n=kh(t,{onInteractOutsideStart:d,onInteractOutside:u?m:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const lc=(t,e="body")=>{let n;if(!yt(e)&&typeof e!="string")return{destroy:et};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await sl(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function kh(t,e){let n=et,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function m(_){f&&rs(_,t)&&(c==null||c(_));const C=_.target;zi(C)&&sc(t,C)&&(i=!0),o=!0}function h(_){f==null||f(_)}const p=Ch(t);if(typeof PointerEvent<"u"){const _=C=>{a(C)&&h(C),s()};n=Bt(dt(p,"pointerdown",m,!0),dt(p,"pointerup",_,!0))}else{const _=v=>{r?r=!1:a(v)&&h(v),s()},C=v=>{r=!0,a(v)&&h(v),s()};n=Bt(dt(p,"mousedown",m,!0),dt(p,"mouseup",_,!0),dt(p,"touchstart",m,!0),dt(p,"touchend",C,!0))}}function a(u){return!!(o&&!i&&rs(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function rs(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!zi(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!sc(e,n)}function sc(t,e){return t===e||t.contains(e)}function Ch(t){return(t==null?void 0:t.ownerDocument)??document}Mn(!1),Mn(!1),Mn(void 0);function Th(){return{elements:{root:ft("label",{action:e=>({destroy:_t(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:kn}=Qi("dialog"),Sh={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},Ah=["content","title","description"];function ac(t){const e={...Sh,...t},n=Nn(er(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=Qt.writable(null),m=Nn({...dl(Ah),...e.ids}),h=e.open??Ue(e.defaultOpen),p=tr(h,e==null?void 0:e.onOpenChange),_=tn([p,s],([k,y])=>k||y);let C=et;function v(k){const y=k.currentTarget,A=k.currentTarget;!yt(y)||!yt(A)||(p.set(!0),d.set(A))}function T(){p.set(!1),Ul({prop:f.get(),defaultEl:d.get()})}const L=ft(kn("trigger"),{stores:[p],returned:([k])=>({"aria-haspopup":"dialog","aria-expanded":k,type:"button"}),action:k=>({destroy:Bt(_t(k,"click",A=>{v(A)}),_t(k,"keydown",A=>{A.key!==lt.ENTER&&A.key!==lt.SPACE||(A.preventDefault(),v(A))}))})}),D=ft(kn("overlay"),{stores:[_,p],returned:([k,y])=>({hidden:k?void 0:!0,tabindex:-1,style:hn({display:k?void 0:"none"}),"aria-hidden":!0,"data-state":y?"open":"closed"}),action:k=>{let y=et;if(i.get()){const A=Kl(k,{handler:()=>{T()}});A&&A.destroy&&(y=A.destroy)}return{destroy(){y()}}}}),j=ft(kn("content"),{stores:[_,m.content,m.description,m.title,p],returned:([k,y,A,R,W])=>({id:y,role:l.get(),"aria-describedby":A,"aria-labelledby":R,"aria-modal":k?"true":void 0,"data-state":W?"open":"closed",tabindex:-1,hidden:k?void 0:!0,style:hn({display:k?void 0:"none"})}),action:k=>{let y=et,A=et;const R=Bt(Mt([p],([W])=>{if(!W)return;const F=vh({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:k});y=F.activate,A=F.deactivate;const U=F.useFocusTrap(k);return U&&U.destroy?U.destroy:F.deactivate}),Mt([r,p],([W,F])=>wh(k,{open:F,closeOnInteractOutside:W,onClose(){T()},shouldCloseOnInteractOutside(U){var K;return(K=c.get())==null||K(U),!U.defaultPrevented}}).destroy),Mt([i],([W])=>{if(!W)return et;const F=Kl(k,{handler:()=>{T()}});return F&&F.destroy?F.destroy:et}),Mt([_],([W])=>{sl().then(()=>{W?y():A()})}));return{destroy:()=>{C(),R()}}}}),$=ft(kn("portalled"),{stores:a,returned:k=>({"data-portal":qf(k)}),action:k=>{const y=Mt([a],([A])=>{if(A===null)return et;const R=Wf(k,A);if(R===null)return et;const W=lc(k,R);return W&&W.destroy?W.destroy:et});return{destroy(){y()}}}}),I=ft(kn("title"),{stores:[m.title],returned:([k])=>({id:k})}),N=ft(kn("description"),{stores:[m.description],returned:([k])=>({id:k})}),q=ft(kn("close"),{returned:()=>({type:"button"}),action:k=>({destroy:Bt(_t(k,"click",()=>{T()}),_t(k,"keydown",A=>{A.key!==lt.SPACE&&A.key!==lt.ENTER||(A.preventDefault(),T())}))})});return Mt([p,o],([k,y])=>{if(Wo){if(y&&k&&(C=op()),k){const A=document.getElementById(m.content.get());Ul({prop:u.get(),defaultEl:A})}return()=>{s.get()||C()}}}),{ids:m,elements:{content:j,trigger:L,title:I,description:N,overlay:D,close:q,portalled:$},states:{open:p},options:n}}const Ih={defaultValue:0,max:100},{name:Mh}=Qi("progress"),Oh=t=>{const e={...Ih,...t},n=Nn(er(e,"value")),{max:o}=n,i=e.value??Ue(e.defaultValue),r=tr(i,e==null?void 0:e.onValueChange);return{elements:{root:ft(Mh(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},Ph={orientation:"horizontal",decorative:!1},Nh=t=>{const e={...Ph,...t},n=Nn(e),{orientation:o,decorative:i}=n;return{elements:{root:ft("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},Eh={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:ri}=Qi("slider"),$h=t=>{const e={...Eh,...t},n=Nn(er(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??Ue(e.defaultValue),f=tr(u,e==null?void 0:e.onValueChange),c=Qt(Ue(!1)),d=Qt(Ue(0)),m=Qt(Ue(null)),h=dl(["root"]),p=($,I)=>{f.update(N=>{if(!N)return[$];if(N[I]===$)return N;const q=[...N],k=q[I]>$?-1:1;function y(){q[I]=q[I+k],q[I+k]=$;const F=_();F&&(F[I+k].focus(),m.set({thumb:F[I+k],index:I+k}))}if(k===-1&&$<q[I-1])return y(),q;if(k===1&&$>q[I+1])return y(),q;const A=o.get(),R=i.get(),W=r.get();return q[I]=mr($,A,R,W),q})},_=()=>{const $=cr(h.root);return $?Array.from($.querySelectorAll('[data-melt-part="thumb"]')).filter(I=>yt(I)):null},C=tn([o,i],([$,I])=>N=>(N-$)/(I-$)*100),v=Qt.derived([l,a],([$,I])=>$==="horizontal"?I==="rtl"?"rl":"lr":I==="rtl"?"tb":"bt"),T=ft(ri(),{stores:[s,l,a],returned:([$,I,N])=>({dir:N,disabled:fr($),"data-disabled":fr($),"data-orientation":I,style:$?void 0:`touch-action: ${I==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":h.root})}),L=ft(ri("range"),{stores:[f,v,C],returned:([$,I,N])=>{const q=$.length>1?N(Math.min(...$)??0):0,k=100-N(Math.max(...$)??0),y={position:"absolute"};switch(I){case"lr":{y.left=`${q}%`,y.right=`${k}%`;break}case"rl":{y.right=`${q}%`,y.left=`${k}%`;break}case"bt":{y.bottom=`${q}%`,y.top=`${k}%`;break}case"tb":{y.top=`${q}%`,y.bottom=`${k}%`;break}}return{style:hn(y)}}}),D=Vl(ri("thumb"),{stores:[f,C,o,i,s,l,v],returned:([$,I,N,q,k,y,A])=>Array.from({length:$.length||1},(W,F)=>{d.get()<$.length&&d.update(J=>J+1);const K=$[F],Z=`${I(K)}%`,te={position:"absolute"};switch(A){case"lr":{te.left=Z,te.translate="-50% 0";break}case"rl":{te.right=Z,te.translate="50% 0";break}case"bt":{te.bottom=Z,te.translate="0 50%";break}case"tb":{te.top=Z,te.translate="0 -50%";break}}return{role:"slider","aria-valuemin":N,"aria-valuemax":q,"aria-valuenow":K,"aria-disabled":fr(k),"aria-orientation":y,"data-melt-part":"thumb","data-value":K,style:hn(te),tabindex:k?-1:0}}),action:$=>({destroy:_t($,"keydown",N=>{if(s.get())return;const q=N.currentTarget;if(!yt(q))return;const k=_();if(!(k!=null&&k.length))return;const y=k.indexOf(q);if(d.set(y),![lt.ARROW_LEFT,lt.ARROW_RIGHT,lt.ARROW_UP,lt.ARROW_DOWN,lt.HOME,lt.END].includes(N.key))return;N.preventDefault();const A=o.get(),R=i.get(),W=r.get(),F=f.get(),U=l.get(),K=v.get(),Z=F[y];switch(N.key){case lt.HOME:{p(A,y);break}case lt.END:{p(R,y);break}case lt.ARROW_LEFT:{if(U!=="horizontal")break;N.metaKey?p(K==="rl"?R:A,y):K==="rl"&&Z<R?p(Z+W,y):K==="lr"&&Z>A&&p(Z-W,y);break}case lt.ARROW_RIGHT:{if(U!=="horizontal")break;N.metaKey?p(K==="rl"?A:R,y):K==="rl"&&Z>A?p(Z-W,y):K==="lr"&&Z<R&&p(Z+W,y);break}case lt.ARROW_UP:{N.metaKey?p(K==="tb"?A:R,y):K==="tb"&&Z>A?p(Z-W,y):K!=="tb"&&Z<R&&p(Z+W,y);break}case lt.ARROW_DOWN:{N.metaKey?p(K==="tb"?R:A,y):K==="tb"&&Z<R?p(Z+W,y):K!=="tb"&&Z>A&&p(Z-W,y);break}}})})}),j=Vl(ri("tick"),{stores:[f,o,i,r,v],returned:([$,I,N,q,k])=>{const y=N-I;let A=Math.ceil(y/q);return y%q==0&&A++,Array.from({length:A},(R,W)=>{const F=`${W*(q/(N-I))*100}%`,U=W===0,K=W===A-1,Z=U?0:K?-100:-50,te={position:"absolute"};switch(k){case"lr":{te.left=F,te.translate=`${Z}% 0`;break}case"rl":{te.right=F,te.translate=`${-Z}% 0`;break}case"bt":{te.bottom=F,te.translate=`0 ${-Z}%`;break}case"tb":{te.top=F,te.translate=`0 ${Z}%`;break}}const J=I+W*q;return{"data-bounded":($.length===1?J<=$[0]:$[0]<=J&&J<=$[$.length-1])?!0:void 0,"data-value":J,style:hn(te)}})}});return Mt([T,o,i,s,l,v,r],([$,I,N,q,k,y,A])=>{if(!Wo||q)return;const R=(te,J,X,fe)=>{const oe=(te-X)/(fe-X)*(N-I)+I;if(oe<I)p(I,J);else if(oe>N)p(N,J);else{const $e=A,Fe=I,g=Math.floor((oe-Fe)/$e),z=Fe+g*$e+$e/2,Q=Fe+(g+1)*$e+$e/2,ie=oe>=z&&oe<Q?(g+1)*$e+Fe:g*$e+Fe;ie<=N&&p(ie,J)}},W=te=>{const J=_();if(!J)return;J.forEach(oe=>oe.blur());const X=J.map(oe=>{if(k==="horizontal"){const{left:$e,right:Fe}=oe.getBoundingClientRect();return Math.abs(te.clientX-($e+Fe)/2)}else{const{top:$e,bottom:Fe}=oe.getBoundingClientRect();return Math.abs(te.clientY-($e+Fe)/2)}}),fe=J[X.indexOf(Math.min(...X))],se=J.indexOf(fe);return{thumb:fe,index:se}},F=te=>{if(!c.get())return;te.preventDefault(),te.stopPropagation();const J=cr($["data-melt-id"]),X=m.get();if(!J||!X)return;X.thumb.focus();const{left:fe,right:se,top:oe,bottom:$e}=J.getBoundingClientRect();switch(y){case"lr":{R(te.clientX,X.index,fe,se);break}case"rl":{R(te.clientX,X.index,se,fe);break}case"bt":{R(te.clientY,X.index,$e,oe);break}case"tb":{R(te.clientY,X.index,oe,$e);break}}},U=te=>{if(te.button!==0)return;const J=cr($["data-melt-id"]),X=W(te);if(!X||!J)return;const fe=te.target;!yt(fe)||!J.contains(fe)||(te.preventDefault(),m.set(X),X.thumb.focus(),c.set(!0),F(te))},K=()=>{c.set(!1)},Z=Bt(dt(document,"pointerdown",U),dt(document,"pointerup",K),dt(document,"pointerleave",K),dt(document,"pointermove",F));return()=>{Z()}}),Mt([r,o,i,f],function([I,N,q,k]){const y=R=>mr(R,N,q,I)===R,A=R=>mr(R,N,q,I);k.some(R=>!y(R))&&f.update(R=>R.map(A))}),{elements:{root:T,thumbs:D,range:L,ticks:j},states:{value:f},options:n}},Rh={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:hr}=Qi("tooltip"),li=new Map,Lh=["trigger","content"];function Dh(t){const e={...Rh,...t},n=Nn(er(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,m=e.open??Ue(e.defaultOpen),h=tr(m,e==null?void 0:e.onOpenChange),p=Ue(null),_=Nn({...dl(Lh),...e.ids});let C=!1;const v=y=>Wo?document.getElementById(_[y].get()):null;let T=null,L=null;function D(y){L&&(window.clearTimeout(L),L=null),T||(T=window.setTimeout(()=>{h.set(!0),p.update(A=>A??y),T=null},l.get()))}function j(y){if(T&&(window.clearTimeout(T),T=null),y&&k){p.set("pointer");return}L||(L=window.setTimeout(()=>{h.set(!1),p.set(null),y&&(C=!1),L=null},a.get()))}const $=tn([h,s],([y,A])=>y||A),I=ft(hr("trigger"),{stores:[_.content,_.trigger,h],returned:([y,A,R])=>({"aria-describedby":y,id:A,"data-state":R?"open":"closed"}),action:y=>{const A=W=>{f.get()&&W.key===lt.ESCAPE&&(T&&(window.clearTimeout(T),T=null),h.set(!1))};return{destroy:Bt(_t(y,"pointerdown",()=>{r.get()&&(h.set(!1),C=!0,T&&(window.clearTimeout(T),T=null))}),_t(y,"pointerenter",W=>{xl(W)||D("pointer")}),_t(y,"pointerleave",W=>{xl(W)||T&&(window.clearTimeout(T),T=null)}),_t(y,"focus",()=>{C||D("focus")}),_t(y,"blur",async()=>{await cl(0),j(!0)}),_t(y,"keydown",A),dt(document,"keydown",A))}}}),N=ft(hr("content"),{stores:[$,h,u,_.content],returned:([y,A,R,W])=>({role:"tooltip",hidden:y?void 0:!0,tabindex:-1,style:hn({display:y?void 0:"none"}),id:W,"data-portal":qf(R),"data-state":A?"open":"closed"}),action:y=>{let A=et,R=et;const W=Mt([$,o,u],([K,Z,te])=>{const J=v("trigger");if(!K||!J){R(),A();return}if(A=Up(J,y,Z).destroy,te===null){R();return}const fe=Wf(y,te);if(fe){const se=lc(y,fe);se&&se.destroy&&(R=se.destroy)}});function F(K){if(!h.get())return;const Z=K.target;if(!zi(Z)&&!Dm(Z))return;const te=v("trigger");te&&Z.contains(te)&&j()}const U=Bt(_t(y,"pointerenter",()=>D("pointer")),_t(y,"pointerdown",()=>D("pointer")),dt(window,"scroll",F,{capture:!0}));return{destroy(){U(),R(),A(),W()}}}}),q=ft(hr("arrow"),{stores:i,returned:y=>({"data-arrow":!0,style:hn({position:"absolute",width:`var(--arrow-size, ${y}px)`,height:`var(--arrow-size, ${y}px)`})})});let k=!1;return Mt(h,y=>{const A=d.get();if(A===void 0||A===!1)return;if(!y){li.get(A)===h&&li.delete(A);return}const R=li.get(A);R==null||R.set(!1),li.set(A,h)}),Mt([h,p],([y,A])=>{if(!(!y||!Wo))return Bt(dt(document,"mousemove",R=>{const W=v("content"),F=v("trigger");if(!W||!F)return;const U=c.get()?[F]:[F,W],K=zm(U);k=ep({x:R.clientX,y:R.clientY},K),A==="pointer"&&(k||j())}))}),{ids:_,elements:{trigger:I,content:N,arrow:q},states:{open:h},options:n}}function jn(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Fn(){const t=Cd();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function yo(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function Rn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function uc(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function jh(t){const{NAME:e,PARTS:n}=uc(),o=jn(e,n),i=ac({...yo(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:Rn(i.options)};return Ji(e,r),{...r,updateOption:Rn(r.options),getAttrs:o}}function qn(){const{NAME:t}=uc();return Zi(t)}const Fh=t=>({ids:t&1}),ls=t=>({ids:t[0]});function qh(t){let e;const n=t[12].default,o=ge(n,t,t[11],ls);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&ye(o,n,i,i[11],e?be(n,i[11],r,Fh):ve(i[11]),ls)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Bh(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:h=void 0}=e;const{states:{open:p},updateOption:_,ids:C}=jh({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:h,onOpenChange:({next:T})=>(f!==T&&(c==null||c(T),n(2,f=T)),T)}),v=tn([C.content,C.description,C.title],([T,L,D])=>({content:T,description:L,title:D}));return ue(t,v,T=>n(0,o=T)),t.$$set=T=>{"preventScroll"in T&&n(3,l=T.preventScroll),"closeOnEscape"in T&&n(4,a=T.closeOnEscape),"closeOnOutsideClick"in T&&n(5,s=T.closeOnOutsideClick),"portal"in T&&n(6,u=T.portal),"open"in T&&n(2,f=T.open),"onOpenChange"in T&&n(7,c=T.onOpenChange),"openFocus"in T&&n(8,d=T.openFocus),"closeFocus"in T&&n(9,m=T.closeFocus),"onOutsideClick"in T&&n(10,h=T.onOutsideClick),"$$scope"in T&&n(11,r=T.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&p.set(f),t.$$.dirty&8&&_("preventScroll",l),t.$$.dirty&16&&_("closeOnEscape",a),t.$$.dirty&32&&_("closeOnOutsideClick",s),t.$$.dirty&64&&_("portal",u),t.$$.dirty&256&&_("openFocus",d),t.$$.dirty&512&&_("closeFocus",m),t.$$.dirty&1024&&_("onOutsideClick",h)},[o,v,f,l,a,s,u,c,d,m,h,r,i]}class Hh extends _e{constructor(e){super(),he(this,e,Bh,qh,pe,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const Gh=t=>({builder:t&8}),ss=t=>({builder:t[3]}),Wh=t=>({builder:t&8}),as=t=>({builder:t[3]});function Vh(t){let e=t[1],n,o,i=t[1]&&_r(t);return{c(){i&&i.c(),n=Le()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1]?e?pe(e,r[1])?(i.d(1),i=_r(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=_r(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(w(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&M(n),i&&i.d(r)}}}function xh(t){let e;const n=t[9].default,o=ge(n,t,t[8],as);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&ye(o,n,i,i[8],e?be(n,i[8],r,Wh):ve(i[8]),as)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function _r(t){let e,n,o,i;const r=t[9].default,l=ge(r,t,t[8],ss);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=ee(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),_n(t[1])(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=Ge(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&ye(l,r,u,u[8],n?be(r,u[8],f,Gh):ve(u[8]),ss),_n(u[1])(e,s=Ce(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(w(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[10](null),o=!1,i()}}}function Yh(t){let e,n,o,i;const r=[xh,Vh],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Uh(t,e,n){let o;const i=["level","asChild","id","el"];let r=de(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:h,getAttrs:p}=qn();ue(t,m,v=>n(7,l=v));const _=p("title");function C(v){Ee[v?"unshift":"push"](()=>{d=v,n(0,d)})}return t.$$set=v=>{e=ee(ee({},e),Re(v)),n(5,r=de(e,i)),"level"in v&&n(1,u=v.level),"asChild"in v&&n(2,f=v.asChild),"id"in v&&n(6,c=v.id),"el"in v&&n(0,d=v.el),"$$scope"in v&&n(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&h.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,_)},[d,u,f,o,m,r,c,l,s,a,C]}let Kh=class extends _e{constructor(e){super(),he(this,e,Uh,Yh,pe,{level:1,asChild:2,id:6,el:0})}};const Xh=t=>({builder:t&4}),us=t=>({builder:t[2]}),Jh=t=>({builder:t&4}),fs=t=>({builder:t[2]});function Zh(t){let e,n,o,i;const r=t[8].default,l=ge(r,t,t[7],us);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=ee(s,a[u]);return{c(){e=P("button"),l&&l.c(),me(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Ge(t[2].action(e)),ne(e,"m-click",t[4]),ne(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ye(l,r,u,u[7],n?be(r,u[7],f,Xh):ve(u[7]),us),me(e,s=Ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(w(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,Ve(i)}}}function Qh(t){let e;const n=t[8].default,o=ge(n,t,t[7],fs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ye(o,n,i,i[7],e?be(n,i[7],r,Jh):ve(i[7]),fs)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function zh(t){let e,n,o,i;const r=[Qh,Zh],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function e_(t,e,n){let o;const i=["asChild","el"];let r=de(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=qn();ue(t,c,_=>n(6,l=_));const m=Fn(),h=d("action");function p(_){Ee[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=ee(ee({},e),Re(_)),n(5,r=de(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(7,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,m,r,l,s,a,p]}let t_=class extends _e{constructor(e){super(),he(this,e,e_,zh,pe,{asChild:1,el:0})}};const n_=t=>({builder:t&4}),cs=t=>({builder:t[2]}),o_=t=>({builder:t&4}),ds=t=>({builder:t[2]});function i_(t){let e,n,o,i;const r=t[8].default,l=ge(r,t,t[7],cs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=ee(s,a[u]);return{c(){e=P("button"),l&&l.c(),me(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Ge(t[2].action(e)),ne(e,"m-click",t[4]),ne(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ye(l,r,u,u[7],n?be(r,u[7],f,n_):ve(u[7]),cs),me(e,s=Ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(w(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,Ve(i)}}}function r_(t){let e;const n=t[8].default,o=ge(n,t,t[7],ds);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ye(o,n,i,i[7],e?be(n,i[7],r,o_):ve(i[7]),ds)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function l_(t){let e,n,o,i;const r=[r_,i_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function s_(t,e,n){let o;const i=["asChild","el"];let r=de(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=qn();ue(t,c,_=>n(6,l=_));const m=Fn(),h=d("cancel");function p(_){Ee[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=ee(ee({},e),Re(_)),n(5,r=de(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(7,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,m,r,l,s,a,p]}let a_=class extends _e{constructor(e){super(),he(this,e,s_,l_,pe,{asChild:1,el:0})}};const u_=t=>({builder:t&4}),ms=t=>({builder:t[2]}),f_=t=>({builder:t&4}),ps=t=>({builder:t[2]});function c_(t){let e,n,o,i;const r=t[7].default,l=ge(r,t,t[6],ms);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=ee(s,a[u]);return{c(){e=P("div"),l&&l.c(),me(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&ye(l,r,u,u[6],n?be(r,u[6],f,u_):ve(u[6]),ms),me(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(w(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[8](null),o=!1,i()}}}function d_(t){let e;const n=t[7].default,o=ge(n,t,t[6],ps);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&ye(o,n,i,i[6],e?be(n,i[6],r,f_):ve(i[6]),ps)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function m_(t){let e,n,o,i;const r=[d_,c_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function p_(t,e,n){let o;const i=["asChild","el"];let r=de(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=qn();ue(t,c,p=>n(5,l=p));const m=d("portal");function h(p){Ee[p?"unshift":"push"](()=>{f=p,n(0,f)})}return t.$$set=p=>{e=ee(ee({},e),Re(p)),n(4,r=de(e,i)),"asChild"in p&&n(1,u=p.asChild),"el"in p&&n(0,f=p.el),"$$scope"in p&&n(6,s=p.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,h]}let h_=class extends _e{constructor(e){super(),he(this,e,p_,m_,pe,{asChild:1,el:0})}};const __=t=>({builder:t[0]&256}),hs=t=>({builder:t[8]}),g_=t=>({builder:t[0]&256}),_s=t=>({builder:t[8]}),b_=t=>({builder:t[0]&256}),gs=t=>({builder:t[8]}),y_=t=>({builder:t[0]&256}),bs=t=>({builder:t[8]}),v_=t=>({builder:t[0]&256}),ys=t=>({builder:t[8]}),w_=t=>({builder:t[0]&256}),vs=t=>({builder:t[8]});function k_(t){let e,n,o,i;const r=t[16].default,l=ge(r,t,t[15],hs);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=ee(s,a[u]);return{c(){e=P("div"),l&&l.c(),me(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[Ge(t[8].action(e)),ne(e,"pointerdown",t[45]),ne(e,"pointermove",t[46]),ne(e,"pointerup",t[47]),ne(e,"touchend",t[48]),ne(e,"touchstart",t[49]),ne(e,"touchcancel",t[50]),ne(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&ye(l,r,u,u[15],n?be(r,u[15],f,__):ve(u[15]),hs),me(e,s=Ce(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(w(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[56](null),o=!1,Ve(i)}}}function C_(t){let e,n,o,i,r;const l=t[16].default,a=ge(l,t,t[15],_s);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=ee(u,s[f]);return{c(){e=P("div"),a&&a.c(),me(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[Ge(t[8].action(e)),ne(e,"pointerdown",t[38]),ne(e,"pointermove",t[39]),ne(e,"pointerup",t[40]),ne(e,"touchend",t[41]),ne(e,"touchstart",t[42]),ne(e,"touchcancel",t[43]),ne(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ye(a,l,t,t[15],o?be(l,t[15],c,g_):ve(t[15]),_s),me(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(w(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=xt(e,t[5],t[6])),o=!1},d(f){f&&M(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,Ve(r)}}}function T_(t){let e,n,o,i,r;const l=t[16].default,a=ge(l,t,t[15],gs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=ee(u,s[f]);return{c(){e=P("div"),a&&a.c(),me(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[Ge(t[8].action(e)),ne(e,"pointerdown",t[31]),ne(e,"pointermove",t[32]),ne(e,"pointerup",t[33]),ne(e,"touchend",t[34]),ne(e,"touchstart",t[35]),ne(e,"touchcancel",t[36]),ne(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ye(a,l,t,t[15],o?be(l,t[15],c,b_):ve(t[15]),gs),me(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(w(a,f),f&&(n||nt(()=>{n=Vt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&M(e),a&&a.d(f),t[54](null),i=!1,Ve(r)}}}function S_(t){let e,n,o,i,r,l;const a=t[16].default,s=ge(a,t,t[15],bs);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=ee(f,u[c]);return{c(){e=P("div"),s&&s.c(),me(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Ge(t[8].action(e)),ne(e,"pointerdown",t[24]),ne(e,"pointermove",t[25]),ne(e,"pointerup",t[26]),ne(e,"touchend",t[27]),ne(e,"touchstart",t[28]),ne(e,"touchcancel",t[29]),ne(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&ye(s,a,t,t[15],i?be(a,t[15],d,y_):ve(t[15]),bs),me(e,f=Ce(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(w(s,c),c&&nt(()=>{i&&(o&&o.end(1),n=Vt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=xt(e,t[5],t[6])),i=!1},d(c){c&&M(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,Ve(l)}}}function A_(t){let e,n,o,i,r;const l=t[16].default,a=ge(l,t,t[15],ys);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=ee(u,s[f]);return{c(){e=P("div"),a&&a.c(),me(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[Ge(t[8].action(e)),ne(e,"pointerdown",t[17]),ne(e,"pointermove",t[18]),ne(e,"pointerup",t[19]),ne(e,"touchend",t[20]),ne(e,"touchstart",t[21]),ne(e,"touchcancel",t[22]),ne(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ye(a,l,t,t[15],o?be(l,t[15],c,v_):ve(t[15]),ys),me(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(w(a,f),f&&nt(()=>{o&&(n||(n=gt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=gt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&M(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,Ve(r)}}}function I_(t){let e;const n=t[16].default,o=ge(n,t,t[15],vs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&ye(o,n,i,i[15],e?be(n,i[15],r,w_):ve(i[15]),vs)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function M_(t){let e,n,o,i;const r=[I_,A_,S_,T_,C_,k_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Le()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function O_(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=de(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:p=void 0}=e,{id:_=void 0}=e,{asChild:C=!1}=e,{el:v=void 0}=e;const{elements:{content:T},states:{open:L},ids:D,getAttrs:j}=qn();ue(t,T,H=>n(14,l=H)),ue(t,L,H=>n(9,a=H));const $=j("content");function I(H){ae.call(this,t,H)}function N(H){ae.call(this,t,H)}function q(H){ae.call(this,t,H)}function k(H){ae.call(this,t,H)}function y(H){ae.call(this,t,H)}function A(H){ae.call(this,t,H)}function R(H){ae.call(this,t,H)}function W(H){ae.call(this,t,H)}function F(H){ae.call(this,t,H)}function U(H){ae.call(this,t,H)}function K(H){ae.call(this,t,H)}function Z(H){ae.call(this,t,H)}function te(H){ae.call(this,t,H)}function J(H){ae.call(this,t,H)}function X(H){ae.call(this,t,H)}function fe(H){ae.call(this,t,H)}function se(H){ae.call(this,t,H)}function oe(H){ae.call(this,t,H)}function $e(H){ae.call(this,t,H)}function Fe(H){ae.call(this,t,H)}function g(H){ae.call(this,t,H)}function z(H){ae.call(this,t,H)}function Q(H){ae.call(this,t,H)}function ie(H){ae.call(this,t,H)}function re(H){ae.call(this,t,H)}function ke(H){ae.call(this,t,H)}function Pe(H){ae.call(this,t,H)}function je(H){ae.call(this,t,H)}function xe(H){ae.call(this,t,H)}function De(H){ae.call(this,t,H)}function Ke(H){ae.call(this,t,H)}function Xe(H){ae.call(this,t,H)}function we(H){ae.call(this,t,H)}function qe(H){ae.call(this,t,H)}function Hn(H){ae.call(this,t,H)}function an(H){Ee[H?"unshift":"push"](()=>{v=H,n(0,v)})}function It(H){Ee[H?"unshift":"push"](()=>{v=H,n(0,v)})}function rt(H){Ee[H?"unshift":"push"](()=>{v=H,n(0,v)})}function Se(H){Ee[H?"unshift":"push"](()=>{v=H,n(0,v)})}function Je(H){Ee[H?"unshift":"push"](()=>{v=H,n(0,v)})}return t.$$set=H=>{e=ee(ee({},e),Re(H)),n(12,r=de(e,i)),"transition"in H&&n(1,f=H.transition),"transitionConfig"in H&&n(2,c=H.transitionConfig),"inTransition"in H&&n(3,d=H.inTransition),"inTransitionConfig"in H&&n(4,m=H.inTransitionConfig),"outTransition"in H&&n(5,h=H.outTransition),"outTransitionConfig"in H&&n(6,p=H.outTransitionConfig),"id"in H&&n(13,_=H.id),"asChild"in H&&n(7,C=H.asChild),"el"in H&&n(0,v=H.el),"$$scope"in H&&n(15,u=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&_&&D.content.set(_),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,$)},[v,f,c,d,m,h,p,C,o,a,T,L,r,_,l,u,s,I,N,q,k,y,A,R,W,F,U,K,Z,te,J,X,fe,se,oe,$e,Fe,g,z,Q,ie,re,ke,Pe,je,xe,De,Ke,Xe,we,qe,Hn,an,It,rt,Se,Je]}let P_=class extends _e{constructor(e){super(),he(this,e,O_,M_,pe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const N_=t=>({builder:t&256}),ws=t=>({builder:t[8]});function E_(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=ee(r,i[l]);return{c(){e=P("div"),me(e,r)},m(l,a){O(l,e,a),t[20](e),n||(o=Ge(t[8].action(e)),n=!0)},p(l,a){me(e,r=Ce(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ie,o:Ie,d(l){l&&M(e),t[20](null),n=!1,o()}}}function $_(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=ee(a,l[s]);return{c(){e=P("div"),me(e,a)},m(s,u){O(s,e,u),t[19](e),o=!0,i||(r=Ge(t[8].action(e)),i=!0)},p(s,u){t=s,me(e,a=Ce(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=xt(e,t[5],t[6])),o=!1},d(s){s&&M(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function R_(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=ee(l,r[a]);return{c(){e=P("div"),me(e,l)},m(a,s){O(a,e,s),t[18](e),o||(i=Ge(t[8].action(e)),o=!0)},p(a,s){t=a,me(e,l=Ce(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||nt(()=>{n=Vt(e,t[3],t[4]),n.start()}))},o:Ie,d(a){a&&M(e),t[18](null),o=!1,i()}}}function L_(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=ee(s,a[u]);return{c(){e=P("div"),me(e,s)},m(u,f){O(u,e,f),t[17](e),i=!0,r||(l=Ge(t[8].action(e)),r=!0)},p(u,f){t=u,me(e,s=Ce(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&nt(()=>{i&&(o&&o.end(1),n=Vt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=xt(e,t[5],t[6])),i=!1},d(u){u&&M(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function D_(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=ee(a,l[s]);return{c(){e=P("div"),me(e,a)},m(s,u){O(s,e,u),t[16](e),o=!0,i||(r=Ge(t[8].action(e)),i=!0)},p(s,u){t=s,me(e,a=Ce(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&nt(()=>{o&&(n||(n=gt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=gt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&M(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function j_(t){let e;const n=t[15].default,o=ge(n,t,t[14],ws);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&ye(o,n,i,i[14],e?be(n,i[14],r,N_):ve(i[14]),ws)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function F_(t){let e,n,o,i;const r=[j_,D_,L_,R_,$_,E_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Le()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function q_(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=de(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:p=void 0}=e,{asChild:_=!1}=e,{el:C=void 0}=e;const{elements:{overlay:v},states:{open:T},getAttrs:L}=qn();ue(t,v,k=>n(13,l=k)),ue(t,T,k=>n(9,a=k));const D=L("overlay");function j(k){Ee[k?"unshift":"push"](()=>{C=k,n(0,C)})}function $(k){Ee[k?"unshift":"push"](()=>{C=k,n(0,C)})}function I(k){Ee[k?"unshift":"push"](()=>{C=k,n(0,C)})}function N(k){Ee[k?"unshift":"push"](()=>{C=k,n(0,C)})}function q(k){Ee[k?"unshift":"push"](()=>{C=k,n(0,C)})}return t.$$set=k=>{e=ee(ee({},e),Re(k)),n(12,r=de(e,i)),"transition"in k&&n(1,f=k.transition),"transitionConfig"in k&&n(2,c=k.transitionConfig),"inTransition"in k&&n(3,d=k.inTransition),"inTransitionConfig"in k&&n(4,m=k.inTransitionConfig),"outTransition"in k&&n(5,h=k.outTransition),"outTransitionConfig"in k&&n(6,p=k.outTransitionConfig),"asChild"in k&&n(7,_=k.asChild),"el"in k&&n(0,C=k.el),"$$scope"in k&&n(14,u=k.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,D)},[C,f,c,d,m,h,p,_,o,a,v,T,r,l,u,s,j,$,I,N,q]}let B_=class extends _e{constructor(e){super(),he(this,e,q_,F_,pe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const H_=t=>({builder:t&4}),ks=t=>({builder:t[2]}),G_=t=>({builder:t&4}),Cs=t=>({builder:t[2]});function W_(t){let e,n,o,i;const r=t[8].default,l=ge(r,t,t[7],ks);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=ee(s,a[u]);return{c(){e=P("div"),l&&l.c(),me(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ye(l,r,u,u[7],n?be(r,u[7],f,H_):ve(u[7]),ks),me(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(w(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,i()}}}function V_(t){let e;const n=t[8].default,o=ge(n,t,t[7],Cs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ye(o,n,i,i[7],e?be(n,i[7],r,G_):ve(i[7]),Cs)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function x_(t){let e,n,o,i;const r=[V_,W_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Y_(t,e,n){let o;const i=["asChild","id","el"];let r=de(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:h}=qn();ue(t,d,C=>n(6,l=C));const p=h("description");function _(C){Ee[C?"unshift":"push"](()=>{c=C,n(0,c)})}return t.$$set=C=>{e=ee(ee({},e),Re(C)),n(4,r=de(e,i)),"asChild"in C&&n(1,u=C.asChild),"id"in C&&n(5,f=C.id),"el"in C&&n(0,c=C.el),"$$scope"in C&&n(7,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[c,u,o,d,r,f,l,s,a,_]}let U_=class extends _e{constructor(e){super(),he(this,e,Y_,x_,pe,{asChild:1,id:5,el:0})}};function K_(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function Ts(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function X_(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&gr(t);return{c(){i&&i.c(),n=Le()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1],e?pe(e,r[1]?"a":"button")?(i.d(1),i=gr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=gr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(w(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&M(n),i&&i.d(r)}}}function J_(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&br(t);return{c(){i&&i.c(),n=Le()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1],e?pe(e,r[1]?"a":"button")?(i.d(1),i=br(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=br(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(w(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&M(n),i&&i.d(r)}}}function gr(t){let e,n,o,i,r;const l=t[7].default,a=ge(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=ee(u,s[f]);return{c(){e=P(t[1]?"a":"button"),a&&a.c(),_n(t[1]?"a":"button")(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),o=!0,i||(r=[ne(e,"click",t[14]),ne(e,"change",t[15]),ne(e,"keydown",t[16]),ne(e,"keyup",t[17]),ne(e,"mouseenter",t[18]),ne(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&ye(a,l,f,f[6],o?be(l,f[6],c,null):ve(f[6]),null),_n(f[1]?"a":"button")(e,u=Ce(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(w(a,f),o=!0)},o(f){S(a,f),o=!1},d(f){f&&M(e),a&&a.d(f),i=!1,Ve(r)}}}function br(t){let e,n,o,i,r,l;const a=t[7].default,s=ge(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},Ts(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=ee(f,u[c]);return{c(){e=P(t[1]?"a":"button"),s&&s.c(),_n(t[1]?"a":"button")(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[ne(e,"click",t[8]),ne(e,"change",t[9]),ne(e,"keydown",t[10]),ne(e,"keyup",t[11]),ne(e,"mouseenter",t[12]),ne(e,"mouseleave",t[13]),Ge(o=K_.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&ye(s,a,c,c[6],i?be(a,c[6],d,null):ve(c[6]),null),_n(c[1]?"a":"button")(e,f=Ce(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&Ts(c[3]),d&32&&c[5],c[4]])),o&&Lt(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(w(s,c),i=!0)},o(c){S(s,c),i=!1},d(c){c&&M(e),s&&s.d(c),t[20](null),r=!1,Ve(l)}}}function Z_(t){let e,n,o,i;const r=[J_,X_],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Q_(t,e,n){const o=["href","type","builders","el"];let i=de(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(N){ae.call(this,t,N)}function m(N){ae.call(this,t,N)}function h(N){ae.call(this,t,N)}function p(N){ae.call(this,t,N)}function _(N){ae.call(this,t,N)}function C(N){ae.call(this,t,N)}function v(N){ae.call(this,t,N)}function T(N){ae.call(this,t,N)}function L(N){ae.call(this,t,N)}function D(N){ae.call(this,t,N)}function j(N){ae.call(this,t,N)}function $(N){ae.call(this,t,N)}function I(N){Ee[N?"unshift":"push"](()=>{f=N,n(0,f)})}return t.$$set=N=>{e=ee(ee({},e),Re(N)),n(5,i=de(e,o)),"href"in N&&n(1,a=N.href),"type"in N&&n(2,s=N.type),"builders"in N&&n(3,u=N.builders),"el"in N&&n(0,f=N.el),"$$scope"in N&&n(6,l=N.$$scope)},[f,a,s,u,c,i,l,r,d,m,h,p,_,C,v,T,L,D,j,$,I]}let z_=class extends _e{constructor(e){super(),he(this,e,Q_,Z_,pe,{href:1,type:2,builders:3,el:0})}};function e0(t){return(e={})=>t0(t,e)}function t0(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:n0(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function n0(t,e){return e==="center"?t:`${t}-${e}`}function o0(){return{NAME:"separator",PARTS:["root"]}}function i0(t){const{NAME:e,PARTS:n}=o0(),o=jn(e,n),i={...Nh(yo(t)),getAttrs:o};return{...i,updateOption:Rn(i.options)}}const r0=t=>({builder:t&4}),Ss=t=>({builder:t[2]});function l0(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=ee(r,i[l]);return{c(){e=P("div"),me(e,r)},m(l,a){O(l,e,a),t[10](e),n||(o=Ge(t[2].action(e)),n=!0)},p(l,a){me(e,r=Ce(i,[a&4&&l[2],a&16&&l[4]]))},i:Ie,o:Ie,d(l){l&&M(e),t[10](null),n=!1,o()}}}function s0(t){let e;const n=t[9].default,o=ge(n,t,t[8],Ss);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&ye(o,n,i,i[8],e?be(n,i[8],r,r0):ve(i[8]),Ss)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function a0(t){let e,n,o,i;const r=[s0,l0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function u0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=de(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:m},updateOption:h,getAttrs:p}=i0({orientation:u,decorative:f});ue(t,m,v=>n(7,l=v));const _=p("root");function C(v){Ee[v?"unshift":"push"](()=>{d=v,n(0,d)})}return t.$$set=v=>{e=ee(ee({},e),Re(v)),n(4,r=de(e,i)),"orientation"in v&&n(5,u=v.orientation),"decorative"in v&&n(6,f=v.decorative),"asChild"in v&&n(1,c=v.asChild),"el"in v&&n(0,d=v.el),"$$scope"in v&&n(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&h("orientation",u),t.$$.dirty&64&&h("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[d,c,o,m,r,u,f,l,s,a,C]}let f0=class extends _e{constructor(e){super(),he(this,e,u0,a0,pe,{orientation:5,decorative:6,asChild:1,el:0})}};function fc(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function c0(t){const{NAME:e,PARTS:n}=fc(),o=jn(e,n),i={...ac({...yo(t),role:"dialog",forceVisible:!0}),getAttrs:o};return Ji(e,i),{...i,updateOption:Rn(i.options)}}function vo(){const{NAME:t}=fc();return Zi(t)}const d0=t=>({ids:t&1}),As=t=>({ids:t[0]});function m0(t){let e;const n=t[12].default,o=ge(n,t,t[11],As);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&ye(o,n,i,i[11],e?be(n,i[11],r,d0):ve(i[11]),As)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function p0(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:h=void 0}=e;const{states:{open:p},updateOption:_,ids:C}=c0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:h,onOpenChange:({next:T})=>(f!==T&&(c==null||c(T),n(2,f=T)),T)}),v=tn([C.content,C.description,C.title],([T,L,D])=>({content:T,description:L,title:D}));return ue(t,v,T=>n(0,o=T)),t.$$set=T=>{"preventScroll"in T&&n(3,l=T.preventScroll),"closeOnEscape"in T&&n(4,a=T.closeOnEscape),"closeOnOutsideClick"in T&&n(5,s=T.closeOnOutsideClick),"portal"in T&&n(6,u=T.portal),"open"in T&&n(2,f=T.open),"onOpenChange"in T&&n(7,c=T.onOpenChange),"openFocus"in T&&n(8,d=T.openFocus),"closeFocus"in T&&n(9,m=T.closeFocus),"onOutsideClick"in T&&n(10,h=T.onOutsideClick),"$$scope"in T&&n(11,r=T.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&p.set(f),t.$$.dirty&8&&_("preventScroll",l),t.$$.dirty&16&&_("closeOnEscape",a),t.$$.dirty&32&&_("closeOnOutsideClick",s),t.$$.dirty&64&&_("portal",u),t.$$.dirty&256&&_("openFocus",d),t.$$.dirty&512&&_("closeFocus",m),t.$$.dirty&1024&&_("onOutsideClick",h)},[o,v,f,l,a,s,u,c,d,m,h,r,i]}class h0 extends _e{constructor(e){super(),he(this,e,p0,m0,pe,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const _0=t=>({builder:t&8}),Is=t=>({builder:t[3]}),g0=t=>({builder:t&8}),Ms=t=>({builder:t[3]});function b0(t){let e=t[1],n,o,i=t[1]&&yr(t);return{c(){i&&i.c(),n=Le()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1]?e?pe(e,r[1])?(i.d(1),i=yr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=yr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(w(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&M(n),i&&i.d(r)}}}function y0(t){let e;const n=t[9].default,o=ge(n,t,t[8],Ms);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&ye(o,n,i,i[8],e?be(n,i[8],r,g0):ve(i[8]),Ms)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function yr(t){let e,n,o,i;const r=t[9].default,l=ge(r,t,t[8],Is);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=ee(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),_n(t[1])(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=Ge(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&ye(l,r,u,u[8],n?be(r,u[8],f,_0):ve(u[8]),Is),_n(u[1])(e,s=Ce(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(w(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[10](null),o=!1,i()}}}function v0(t){let e,n,o,i;const r=[y0,b0],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function w0(t,e,n){let o;const i=["level","asChild","id","el"];let r=de(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:h,getAttrs:p}=vo();ue(t,m,v=>n(7,l=v));const _=p("title");function C(v){Ee[v?"unshift":"push"](()=>{d=v,n(0,d)})}return t.$$set=v=>{e=ee(ee({},e),Re(v)),n(5,r=de(e,i)),"level"in v&&n(1,u=v.level),"asChild"in v&&n(2,f=v.asChild),"id"in v&&n(6,c=v.id),"el"in v&&n(0,d=v.el),"$$scope"in v&&n(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&h.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,_)},[d,u,f,o,m,r,c,l,s,a,C]}let k0=class extends _e{constructor(e){super(),he(this,e,w0,v0,pe,{level:1,asChild:2,id:6,el:0})}};const C0=t=>({builder:t&4}),Os=t=>({builder:t[2]}),T0=t=>({builder:t&4}),Ps=t=>({builder:t[2]});function S0(t){let e,n,o,i;const r=t[8].default,l=ge(r,t,t[7],Os);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=ee(s,a[u]);return{c(){e=P("button"),l&&l.c(),me(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Ge(t[2].action(e)),ne(e,"m-click",t[4]),ne(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ye(l,r,u,u[7],n?be(r,u[7],f,C0):ve(u[7]),Os),me(e,s=Ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(w(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,Ve(i)}}}function A0(t){let e;const n=t[8].default,o=ge(n,t,t[7],Ps);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ye(o,n,i,i[7],e?be(n,i[7],r,T0):ve(i[7]),Ps)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function I0(t){let e,n,o,i;const r=[A0,S0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function M0(t,e,n){let o;const i=["asChild","el"];let r=de(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=vo();ue(t,c,_=>n(6,l=_));const m=Fn(),h=d("close");function p(_){Ee[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=ee(ee({},e),Re(_)),n(5,r=de(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(7,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,m,r,l,s,a,p]}class O0 extends _e{constructor(e){super(),he(this,e,M0,I0,pe,{asChild:1,el:0})}}const P0=t=>({builder:t&4}),Ns=t=>({builder:t[2]}),N0=t=>({builder:t&4}),Es=t=>({builder:t[2]});function E0(t){let e,n,o,i;const r=t[7].default,l=ge(r,t,t[6],Ns);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=ee(s,a[u]);return{c(){e=P("div"),l&&l.c(),me(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&ye(l,r,u,u[6],n?be(r,u[6],f,P0):ve(u[6]),Ns),me(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(w(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[8](null),o=!1,i()}}}function $0(t){let e;const n=t[7].default,o=ge(n,t,t[6],Es);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&ye(o,n,i,i[6],e?be(n,i[6],r,N0):ve(i[6]),Es)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function R0(t){let e,n,o,i;const r=[$0,E0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function L0(t,e,n){let o;const i=["asChild","el"];let r=de(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=vo();ue(t,c,p=>n(5,l=p));const m=d("portal");function h(p){Ee[p?"unshift":"push"](()=>{f=p,n(0,f)})}return t.$$set=p=>{e=ee(ee({},e),Re(p)),n(4,r=de(e,i)),"asChild"in p&&n(1,u=p.asChild),"el"in p&&n(0,f=p.el),"$$scope"in p&&n(6,s=p.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,h]}let D0=class extends _e{constructor(e){super(),he(this,e,L0,R0,pe,{asChild:1,el:0})}};const j0=t=>({builder:t[0]&256}),$s=t=>({builder:t[8]}),F0=t=>({builder:t[0]&256}),Rs=t=>({builder:t[8]}),q0=t=>({builder:t[0]&256}),Ls=t=>({builder:t[8]}),B0=t=>({builder:t[0]&256}),Ds=t=>({builder:t[8]}),H0=t=>({builder:t[0]&256}),js=t=>({builder:t[8]}),G0=t=>({builder:t[0]&256}),Fs=t=>({builder:t[8]});function W0(t){let e,n,o,i;const r=t[16].default,l=ge(r,t,t[15],$s);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=ee(s,a[u]);return{c(){e=P("div"),l&&l.c(),me(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[Ge(t[8].action(e)),ne(e,"pointerdown",t[45]),ne(e,"pointermove",t[46]),ne(e,"pointerup",t[47]),ne(e,"touchend",t[48]),ne(e,"touchstart",t[49]),ne(e,"touchcancel",t[50]),ne(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&ye(l,r,u,u[15],n?be(r,u[15],f,j0):ve(u[15]),$s),me(e,s=Ce(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(w(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[56](null),o=!1,Ve(i)}}}function V0(t){let e,n,o,i,r;const l=t[16].default,a=ge(l,t,t[15],Rs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=ee(u,s[f]);return{c(){e=P("div"),a&&a.c(),me(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[Ge(t[8].action(e)),ne(e,"pointerdown",t[38]),ne(e,"pointermove",t[39]),ne(e,"pointerup",t[40]),ne(e,"touchend",t[41]),ne(e,"touchstart",t[42]),ne(e,"touchcancel",t[43]),ne(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ye(a,l,t,t[15],o?be(l,t[15],c,F0):ve(t[15]),Rs),me(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(w(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=xt(e,t[5],t[6])),o=!1},d(f){f&&M(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,Ve(r)}}}function x0(t){let e,n,o,i,r;const l=t[16].default,a=ge(l,t,t[15],Ls);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=ee(u,s[f]);return{c(){e=P("div"),a&&a.c(),me(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[Ge(t[8].action(e)),ne(e,"pointerdown",t[31]),ne(e,"pointermove",t[32]),ne(e,"pointerup",t[33]),ne(e,"touchend",t[34]),ne(e,"touchstart",t[35]),ne(e,"touchcancel",t[36]),ne(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ye(a,l,t,t[15],o?be(l,t[15],c,q0):ve(t[15]),Ls),me(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(w(a,f),f&&(n||nt(()=>{n=Vt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&M(e),a&&a.d(f),t[54](null),i=!1,Ve(r)}}}function Y0(t){let e,n,o,i,r,l;const a=t[16].default,s=ge(a,t,t[15],Ds);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=ee(f,u[c]);return{c(){e=P("div"),s&&s.c(),me(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Ge(t[8].action(e)),ne(e,"pointerdown",t[24]),ne(e,"pointermove",t[25]),ne(e,"pointerup",t[26]),ne(e,"touchend",t[27]),ne(e,"touchstart",t[28]),ne(e,"touchcancel",t[29]),ne(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&ye(s,a,t,t[15],i?be(a,t[15],d,B0):ve(t[15]),Ds),me(e,f=Ce(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(w(s,c),c&&nt(()=>{i&&(o&&o.end(1),n=Vt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=xt(e,t[5],t[6])),i=!1},d(c){c&&M(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,Ve(l)}}}function U0(t){let e,n,o,i,r;const l=t[16].default,a=ge(l,t,t[15],js);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=ee(u,s[f]);return{c(){e=P("div"),a&&a.c(),me(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[Ge(t[8].action(e)),ne(e,"pointerdown",t[17]),ne(e,"pointermove",t[18]),ne(e,"pointerup",t[19]),ne(e,"touchend",t[20]),ne(e,"touchstart",t[21]),ne(e,"touchcancel",t[22]),ne(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ye(a,l,t,t[15],o?be(l,t[15],c,H0):ve(t[15]),js),me(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(w(a,f),f&&nt(()=>{o&&(n||(n=gt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=gt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&M(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,Ve(r)}}}function K0(t){let e;const n=t[16].default,o=ge(n,t,t[15],Fs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&ye(o,n,i,i[15],e?be(n,i[15],r,G0):ve(i[15]),Fs)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function X0(t){let e,n,o,i;const r=[K0,U0,Y0,x0,V0,W0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Le()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function J0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=de(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:p=void 0}=e,{asChild:_=!1}=e,{id:C=void 0}=e,{el:v=void 0}=e;const{elements:{content:T},states:{open:L},ids:D,getAttrs:j}=vo();ue(t,T,H=>n(14,l=H)),ue(t,L,H=>n(9,a=H));const $=j("content");function I(H){ae.call(this,t,H)}function N(H){ae.call(this,t,H)}function q(H){ae.call(this,t,H)}function k(H){ae.call(this,t,H)}function y(H){ae.call(this,t,H)}function A(H){ae.call(this,t,H)}function R(H){ae.call(this,t,H)}function W(H){ae.call(this,t,H)}function F(H){ae.call(this,t,H)}function U(H){ae.call(this,t,H)}function K(H){ae.call(this,t,H)}function Z(H){ae.call(this,t,H)}function te(H){ae.call(this,t,H)}function J(H){ae.call(this,t,H)}function X(H){ae.call(this,t,H)}function fe(H){ae.call(this,t,H)}function se(H){ae.call(this,t,H)}function oe(H){ae.call(this,t,H)}function $e(H){ae.call(this,t,H)}function Fe(H){ae.call(this,t,H)}function g(H){ae.call(this,t,H)}function z(H){ae.call(this,t,H)}function Q(H){ae.call(this,t,H)}function ie(H){ae.call(this,t,H)}function re(H){ae.call(this,t,H)}function ke(H){ae.call(this,t,H)}function Pe(H){ae.call(this,t,H)}function je(H){ae.call(this,t,H)}function xe(H){ae.call(this,t,H)}function De(H){ae.call(this,t,H)}function Ke(H){ae.call(this,t,H)}function Xe(H){ae.call(this,t,H)}function we(H){ae.call(this,t,H)}function qe(H){ae.call(this,t,H)}function Hn(H){ae.call(this,t,H)}function an(H){Ee[H?"unshift":"push"](()=>{v=H,n(0,v)})}function It(H){Ee[H?"unshift":"push"](()=>{v=H,n(0,v)})}function rt(H){Ee[H?"unshift":"push"](()=>{v=H,n(0,v)})}function Se(H){Ee[H?"unshift":"push"](()=>{v=H,n(0,v)})}function Je(H){Ee[H?"unshift":"push"](()=>{v=H,n(0,v)})}return t.$$set=H=>{e=ee(ee({},e),Re(H)),n(12,r=de(e,i)),"transition"in H&&n(1,f=H.transition),"transitionConfig"in H&&n(2,c=H.transitionConfig),"inTransition"in H&&n(3,d=H.inTransition),"inTransitionConfig"in H&&n(4,m=H.inTransitionConfig),"outTransition"in H&&n(5,h=H.outTransition),"outTransitionConfig"in H&&n(6,p=H.outTransitionConfig),"asChild"in H&&n(7,_=H.asChild),"id"in H&&n(13,C=H.id),"el"in H&&n(0,v=H.el),"$$scope"in H&&n(15,u=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&C&&D.content.set(C),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,$)},[v,f,c,d,m,h,p,_,o,a,T,L,r,C,l,u,s,I,N,q,k,y,A,R,W,F,U,K,Z,te,J,X,fe,se,oe,$e,Fe,g,z,Q,ie,re,ke,Pe,je,xe,De,Ke,Xe,we,qe,Hn,an,It,rt,Se,Je]}let Z0=class extends _e{constructor(e){super(),he(this,e,J0,X0,pe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const Q0=t=>({builder:t&256}),qs=t=>({builder:t[8]});function z0(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=ee(r,i[l]);return{c(){e=P("div"),me(e,r)},m(l,a){O(l,e,a),t[25](e),n||(o=[Ge(t[8].action(e)),ne(e,"mouseup",t[20])],n=!0)},p(l,a){me(e,r=Ce(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ie,o:Ie,d(l){l&&M(e),t[25](null),n=!1,Ve(o)}}}function eg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=ee(a,l[s]);return{c(){e=P("div"),me(e,a)},m(s,u){O(s,e,u),t[24](e),o=!0,i||(r=[Ge(t[8].action(e)),ne(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,me(e,a=Ce(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=xt(e,t[5],t[6])),o=!1},d(s){s&&M(e),t[24](null),s&&n&&n.end(),i=!1,Ve(r)}}}function tg(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=ee(l,r[a]);return{c(){e=P("div"),me(e,l)},m(a,s){O(a,e,s),t[23](e),o||(i=[Ge(t[8].action(e)),ne(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,me(e,l=Ce(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||nt(()=>{n=Vt(e,t[3],t[4]),n.start()}))},o:Ie,d(a){a&&M(e),t[23](null),o=!1,Ve(i)}}}function ng(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=ee(s,a[u]);return{c(){e=P("div"),me(e,s)},m(u,f){O(u,e,f),t[22](e),i=!0,r||(l=[Ge(t[8].action(e)),ne(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,me(e,s=Ce(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&nt(()=>{i&&(o&&o.end(1),n=Vt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=xt(e,t[5],t[6])),i=!1},d(u){u&&M(e),t[22](null),u&&o&&o.end(),r=!1,Ve(l)}}}function og(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=ee(a,l[s]);return{c(){e=P("div"),me(e,a)},m(s,u){O(s,e,u),t[21](e),o=!0,i||(r=[ne(e,"mouseup",t[16]),Ge(t[8].action(e))],i=!0)},p(s,u){t=s,me(e,a=Ce(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&nt(()=>{o&&(n||(n=gt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=gt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&M(e),t[21](null),s&&n&&n.end(),i=!1,Ve(r)}}}function ig(t){let e;const n=t[15].default,o=ge(n,t,t[14],qs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&ye(o,n,i,i[14],e?be(n,i[14],r,Q0):ve(i[14]),qs)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function rg(t){let e,n,o,i;const r=[ig,og,ng,tg,eg,z0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Le()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function lg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=de(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:p=void 0}=e,{asChild:_=!1}=e,{el:C=void 0}=e;const{elements:{overlay:v},states:{open:T},getAttrs:L}=vo();ue(t,v,F=>n(13,l=F)),ue(t,T,F=>n(9,a=F));const D=L("overlay");function j(F){ae.call(this,t,F)}function $(F){ae.call(this,t,F)}function I(F){ae.call(this,t,F)}function N(F){ae.call(this,t,F)}function q(F){ae.call(this,t,F)}function k(F){Ee[F?"unshift":"push"](()=>{C=F,n(0,C)})}function y(F){Ee[F?"unshift":"push"](()=>{C=F,n(0,C)})}function A(F){Ee[F?"unshift":"push"](()=>{C=F,n(0,C)})}function R(F){Ee[F?"unshift":"push"](()=>{C=F,n(0,C)})}function W(F){Ee[F?"unshift":"push"](()=>{C=F,n(0,C)})}return t.$$set=F=>{e=ee(ee({},e),Re(F)),n(12,r=de(e,i)),"transition"in F&&n(1,f=F.transition),"transitionConfig"in F&&n(2,c=F.transitionConfig),"inTransition"in F&&n(3,d=F.inTransition),"inTransitionConfig"in F&&n(4,m=F.inTransitionConfig),"outTransition"in F&&n(5,h=F.outTransition),"outTransitionConfig"in F&&n(6,p=F.outTransitionConfig),"asChild"in F&&n(7,_=F.asChild),"el"in F&&n(0,C=F.el),"$$scope"in F&&n(14,u=F.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,D)},[C,f,c,d,m,h,p,_,o,a,v,T,r,l,u,s,j,$,I,N,q,k,y,A,R,W]}let sg=class extends _e{constructor(e){super(),he(this,e,lg,rg,pe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const ag=t=>({builder:t&4}),Bs=t=>({builder:t[2]}),ug=t=>({builder:t&4}),Hs=t=>({builder:t[2]});function fg(t){let e,n,o,i;const r=t[8].default,l=ge(r,t,t[7],Bs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=ee(s,a[u]);return{c(){e=P("div"),l&&l.c(),me(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ye(l,r,u,u[7],n?be(r,u[7],f,ag):ve(u[7]),Bs),me(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(w(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,i()}}}function cg(t){let e;const n=t[8].default,o=ge(n,t,t[7],Hs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ye(o,n,i,i[7],e?be(n,i[7],r,ug):ve(i[7]),Hs)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function dg(t){let e,n,o,i;const r=[cg,fg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function mg(t,e,n){let o;const i=["asChild","id","el"];let r=de(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:h}=vo();ue(t,d,C=>n(6,l=C));const p=h("description");function _(C){Ee[C?"unshift":"push"](()=>{c=C,n(0,c)})}return t.$$set=C=>{e=ee(ee({},e),Re(C)),n(4,r=de(e,i)),"asChild"in C&&n(1,u=C.asChild),"id"in C&&n(5,f=C.id),"el"in C&&n(0,c=C.el),"$$scope"in C&&n(7,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[c,u,o,d,r,f,l,s,a,_]}let pg=class extends _e{constructor(e){super(),he(this,e,mg,dg,pe,{asChild:1,id:5,el:0})}};function hg(){const t="label",n=jn(t,["root"]);return{NAME:t,getAttrs:n}}const _g=t=>({builder:t&4}),Gs=t=>({builder:t[2]}),gg=t=>({builder:t&4}),Ws=t=>({builder:t[2]});function bg(t){let e,n,o,i;const r=t[8].default,l=ge(r,t,t[7],Gs);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=ee(s,a[u]);return{c(){e=P("label"),l&&l.c(),me(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[Ge(t[2].action(e)),ne(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ye(l,r,u,u[7],n?be(r,u[7],f,_g):ve(u[7]),Gs),me(e,s=Ce(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(w(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,Ve(i)}}}function yg(t){let e;const n=t[8].default,o=ge(n,t,t[7],Ws);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ye(o,n,i,i[7],e?be(n,i[7],r,gg):ve(i[7]),Ws)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function vg(t){let e,n,o,i;const r=[yg,bg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function wg(t,e,n){let o;const i=["asChild","el"];let r=de(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=Th();ue(t,c,_=>n(6,l=_));const d=Fn(),{getAttrs:m}=hg(),h=m("root");function p(_){Ee[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=ee(ee({},e),Re(_)),n(5,r=de(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(7,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,d,r,l,s,a,p]}let kg=class extends _e{constructor(e){super(),he(this,e,wg,vg,pe,{asChild:1,el:0})}};function Cg(){return{NAME:"progress",PARTS:["root"]}}function Tg(t){const{NAME:e,PARTS:n}=Cg(),o=jn(e,n),i={...Oh(yo(t)),getAttrs:o};return{...i,updateOption:Rn(i.options)}}const Sg=t=>({builder:t&4}),Vs=t=>({builder:t[2]}),Ag=t=>({builder:t&4}),xs=t=>({builder:t[2]});function Ig(t){let e,n,o,i;const r=t[10].default,l=ge(r,t,t[9],Vs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=ee(s,a[u]);return{c(){e=P("div"),l&&l.c(),me(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&ye(l,r,u,u[9],n?be(r,u[9],f,Sg):ve(u[9]),Vs),me(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(w(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[11](null),o=!1,i()}}}function Mg(t){let e;const n=t[10].default,o=ge(n,t,t[9],xs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&ye(o,n,i,i[9],e?be(n,i[9],r,Ag):ve(i[9]),xs)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Og(t){let e,n,o,i;const r=[Mg,Ig],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Pg(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=de(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:m=void 0}=e;const{elements:{root:h},states:{value:p},updateOption:_,getAttrs:C}=Tg({max:u,defaultValue:f,onValueChange:({next:L})=>(c==null||c(L),n(5,f=L),L)});ue(t,h,L=>n(8,l=L));const v=C("root");function T(L){Ee[L?"unshift":"push"](()=>{m=L,n(0,m)})}return t.$$set=L=>{e=ee(ee({},e),Re(L)),n(4,r=de(e,i)),"max"in L&&n(6,u=L.max),"value"in L&&n(5,f=L.value),"onValueChange"in L&&n(7,c=L.onValueChange),"asChild"in L&&n(1,d=L.asChild),"el"in L&&n(0,m=L.el),"$$scope"in L&&n(9,s=L.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&p.set(f),t.$$.dirty&64&&_("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,v)},[m,d,o,h,r,f,u,c,l,s,a,T]}let Ng=class extends _e{constructor(e){super(),he(this,e,Pg,Og,pe,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function cc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function Eg(t){const{NAME:e,PARTS:n}=cc(),o=jn(e,n),i={...$h(yo(t)),getAttrs:o};return Ji(e,i),{...i,updateOption:Rn(i.options)}}function dc(){const{NAME:t}=cc();return Zi(t)}const $g=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Ys=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),Rg=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Us=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function Lg(t){let e,n,o,i;const r=t[18].default,l=ge(r,t,t[17],Ys);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=ee(s,a[u]);return{c(){e=P("span"),l&&l.c(),me(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&ye(l,r,u,u[17],n?be(r,u[17],f,$g):ve(u[17]),Ys),me(e,s=Ce(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(w(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[19](null),o=!1,i()}}}function Dg(t){let e;const n=t[18].default,o=ge(n,t,t[17],Us);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&ye(o,n,i,i[17],e?be(n,i[17],r,Rg):ve(i[17]),Us)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function jg(t){let e,n,o,i;const r=[Dg,Lg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Fg(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=de(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:m=void 0}=e,{step:h=void 0}=e,{orientation:p=void 0}=e,{value:_=void 0}=e,{onValueChange:C=void 0}=e,{asChild:v=!1}=e,{el:T=void 0}=e;const{elements:{root:L,ticks:D,thumbs:j},states:{value:$},updateOption:I,getAttrs:N}=Eg({disabled:c,min:d,max:m,step:h,orientation:p,defaultValue:_,onValueChange:({next:y})=>(_!==y&&(C==null||C(y),n(9,_=y)),y)});ue(t,L,y=>n(16,l=y)),ue(t,D,y=>n(3,a=y)),ue(t,j,y=>n(4,s=y));const q=N("root");function k(y){Ee[y?"unshift":"push"](()=>{T=y,n(0,T)})}return t.$$set=y=>{e=ee(ee({},e),Re(y)),n(8,r=de(e,i)),"disabled"in y&&n(10,c=y.disabled),"min"in y&&n(11,d=y.min),"max"in y&&n(12,m=y.max),"step"in y&&n(13,h=y.step),"orientation"in y&&n(14,p=y.orientation),"value"in y&&n(9,_=y.value),"onValueChange"in y&&n(15,C=y.onValueChange),"asChild"in y&&n(1,v=y.asChild),"el"in y&&n(0,T=y.el),"$$scope"in y&&n(17,f=y.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&_!==void 0&&$.set(_),t.$$.dirty&1024&&I("disabled",c),t.$$.dirty&2048&&I("min",d),t.$$.dirty&4096&&I("max",m),t.$$.dirty&8192&&I("step",h),t.$$.dirty&16384&&I("orientation",p),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,q)},[T,v,o,a,s,L,D,j,r,_,c,d,m,h,p,C,l,f,u,k]}let qg=class extends _e{constructor(e){super(),he(this,e,Fg,jg,pe,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const Bg=t=>({builder:t&4}),Ks=t=>({builder:t[2]});function Hg(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=ee(r,i[l]);return{c(){e=P("span"),me(e,r)},m(l,a){O(l,e,a),t[8](e),n||(o=Ge(t[2].action(e)),n=!0)},p(l,a){me(e,r=Ce(i,[a&4&&l[2],a&16&&l[4]]))},i:Ie,o:Ie,d(l){l&&M(e),t[8](null),n=!1,o()}}}function Gg(t){let e;const n=t[7].default,o=ge(n,t,t[6],Ks);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&ye(o,n,i,i[6],e?be(n,i[6],r,Bg):ve(i[6]),Ks)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Wg(t){let e,n,o,i;const r=[Gg,Hg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Vg(t,e,n){let o;const i=["asChild","el"];let r=de(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=dc();ue(t,c,p=>n(5,l=p));const m=d("range");function h(p){Ee[p?"unshift":"push"](()=>{f=p,n(0,f)})}return t.$$set=p=>{e=ee(ee({},e),Re(p)),n(4,r=de(e,i)),"asChild"in p&&n(1,u=p.asChild),"el"in p&&n(0,f=p.el),"$$scope"in p&&n(6,s=p.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,h]}class xg extends _e{constructor(e){super(),he(this,e,Vg,Wg,pe,{asChild:1,el:0})}}const Yg=t=>({builder:t&4}),Xs=t=>({builder:t[2]});function Ug(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=ee(r,i[l]);return{c(){e=P("span"),me(e,r)},m(l,a){O(l,e,a),t[8](e),n||(o=[Ge(t[2].action(e)),ne(e,"m-keydown",t[3])],n=!0)},p(l,a){me(e,r=Ce(i,[a&4&&l[2],a&16&&l[4]]))},i:Ie,o:Ie,d(l){l&&M(e),t[8](null),n=!1,Ve(o)}}}function Kg(t){let e;const n=t[7].default,o=ge(n,t,t[6],Xs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&ye(o,n,i,i[6],e?be(n,i[6],r,Yg):ve(i[6]),Xs)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Xg(t){let e,n,o,i;const r=[Kg,Ug],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Jg(t,e,n){let o;const i=["asChild","el","thumb"];let r=de(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=dc(),d=Fn(),m=c("thumb");function h(p){Ee[p?"unshift":"push"](()=>{u=p,n(0,u)})}return t.$$set=p=>{e=ee(ee({},e),Re(p)),n(4,r=de(e,i)),"asChild"in p&&n(1,s=p.asChild),"el"in p&&n(0,u=p.el),"thumb"in p&&n(5,f=p.thumb),"$$scope"in p&&n(6,a=p.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,m)},[u,s,o,d,r,f,a,l,h]}class Zg extends _e{constructor(e){super(),he(this,e,Jg,Xg,pe,{asChild:1,el:0,thumb:5})}}function mc(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function Qg(t){const{NAME:e,PARTS:n}=mc(),o=jn(e,n),i={...Dh({positioning:{placement:"top",gutter:0},openDelay:700,...yo(t),forceVisible:!0}),getAttrs:o};return Ji(e,i),{...i,updateOption:Rn(i.options)}}function yl(){const{NAME:t}=mc();return Zi(t)}function zg(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=yl();e0(o)({...n})}const e1=t=>({ids:t&1}),Js=t=>({ids:t[0]});function t1(t){let e;const n=t[12].default,o=ge(n,t,t[11],Js);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&ye(o,n,i,i[11],e?be(n,i[11],r,e1):ve(i[11]),Js)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function n1(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:m=void 0}=e,{group:h=void 0}=e;const{states:{open:p},updateOption:_,ids:C}=Qg({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:m,group:h,onOpenChange:({next:T})=>(c!==T&&(d==null||d(T),n(2,c=T)),T),positioning:{gutter:0,offset:{mainAxis:1}}}),v=tn([C.content,C.trigger],([T,L])=>({content:T,trigger:L}));return ue(t,v,T=>n(0,o=T)),t.$$set=T=>{"closeOnEscape"in T&&n(3,l=T.closeOnEscape),"portal"in T&&n(4,a=T.portal),"closeOnPointerDown"in T&&n(5,s=T.closeOnPointerDown),"openDelay"in T&&n(6,u=T.openDelay),"closeDelay"in T&&n(7,f=T.closeDelay),"open"in T&&n(2,c=T.open),"onOpenChange"in T&&n(8,d=T.onOpenChange),"disableHoverableContent"in T&&n(9,m=T.disableHoverableContent),"group"in T&&n(10,h=T.group),"$$scope"in T&&n(11,r=T.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&p.set(c),t.$$.dirty&8&&_("closeOnEscape",l),t.$$.dirty&16&&_("portal",a),t.$$.dirty&32&&_("closeOnPointerDown",s),t.$$.dirty&64&&_("openDelay",u),t.$$.dirty&128&&_("closeDelay",f),t.$$.dirty&1024&&_("group",h),t.$$.dirty&512&&_("disableHoverableContent",m)},[o,v,c,l,a,s,u,f,d,m,h,r,i]}class o1 extends _e{constructor(e){super(),he(this,e,n1,t1,pe,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const i1=t=>({builder:t[0]&256}),Zs=t=>({builder:t[8]}),r1=t=>({builder:t[0]&256}),Qs=t=>({builder:t[8]}),l1=t=>({builder:t[0]&256}),zs=t=>({builder:t[8]}),s1=t=>({builder:t[0]&256}),ea=t=>({builder:t[8]}),a1=t=>({builder:t[0]&256}),ta=t=>({builder:t[8]}),u1=t=>({builder:t[0]&256}),na=t=>({builder:t[8]});function f1(t){let e,n,o,i;const r=t[28].default,l=ge(r,t,t[27],Zs);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=ee(s,a[u]);return{c(){e=P("div"),l&&l.c(),me(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[Ge(t[8].action(e)),ne(e,"m-pointerdown",t[12]),ne(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&ye(l,r,u,u[27],n?be(r,u[27],f,i1):ve(u[27]),Zs),me(e,s=Ce(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(w(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[33](null),o=!1,Ve(i)}}}function c1(t){let e,n,o,i,r;const l=t[28].default,a=ge(l,t,t[27],Qs);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=ee(u,s[f]);return{c(){e=P("div"),a&&a.c(),me(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[Ge(t[8].action(e)),ne(e,"m-pointerdown",t[12]),ne(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&ye(a,l,t,t[27],o?be(l,t[27],c,r1):ve(t[27]),Qs),me(e,u=Ce(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(w(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=xt(e,t[5],t[6])),o=!1},d(f){f&&M(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,Ve(r)}}}function d1(t){let e,n,o,i,r;const l=t[28].default,a=ge(l,t,t[27],zs);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=ee(u,s[f]);return{c(){e=P("div"),a&&a.c(),me(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[Ge(t[8].action(e)),ne(e,"m-pointerdown",t[12]),ne(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&ye(a,l,t,t[27],o?be(l,t[27],c,l1):ve(t[27]),zs),me(e,u=Ce(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(w(a,f),f&&(n||nt(()=>{n=Vt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&M(e),a&&a.d(f),t[31](null),i=!1,Ve(r)}}}function m1(t){let e,n,o,i,r,l;const a=t[28].default,s=ge(a,t,t[27],ea);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=ee(f,u[c]);return{c(){e=P("div"),s&&s.c(),me(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[Ge(t[8].action(e)),ne(e,"m-pointerdown",t[12]),ne(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&ye(s,a,t,t[27],i?be(a,t[27],d,s1):ve(t[27]),ea),me(e,f=Ce(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(w(s,c),c&&nt(()=>{i&&(o&&o.end(1),n=Vt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=xt(e,t[5],t[6])),i=!1},d(c){c&&M(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,Ve(l)}}}function p1(t){let e,n,o,i,r;const l=t[28].default,a=ge(l,t,t[27],ta);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=ee(u,s[f]);return{c(){e=P("div"),a&&a.c(),me(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[Ge(t[8].action(e)),ne(e,"m-pointerdown",t[12]),ne(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&ye(a,l,t,t[27],o?be(l,t[27],c,a1):ve(t[27]),ta),me(e,u=Ce(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(w(a,f),f&&nt(()=>{o&&(n||(n=gt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=gt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&M(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,Ve(r)}}}function h1(t){let e;const n=t[28].default,o=ge(n,t,t[27],na);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&ye(o,n,i,i[27],e?be(n,i[27],r,u1):ve(i[27]),na)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function _1(t){let e,n,o,i;const r=[h1,p1,m1,d1,c1,f1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Le()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function g1(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=de(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:p=void 0}=e,{asChild:_=!1}=e,{id:C=void 0}=e,{side:v="top"}=e,{align:T="center"}=e,{sideOffset:L=0}=e,{alignOffset:D=0}=e,{collisionPadding:j=8}=e,{avoidCollisions:$=!0}=e,{collisionBoundary:I=void 0}=e,{sameWidth:N=!1}=e,{fitViewport:q=!1}=e,{strategy:k="absolute"}=e,{overlap:y=!1}=e,{el:A=void 0}=e;const{elements:{content:R},states:{open:W},ids:F,getAttrs:U}=yl();ue(t,R,oe=>n(26,a=oe)),ue(t,W,oe=>n(9,l=oe));const K=Fn(),Z=U("content");function te(oe){Ee[oe?"unshift":"push"](()=>{A=oe,n(0,A)})}function J(oe){Ee[oe?"unshift":"push"](()=>{A=oe,n(0,A)})}function X(oe){Ee[oe?"unshift":"push"](()=>{A=oe,n(0,A)})}function fe(oe){Ee[oe?"unshift":"push"](()=>{A=oe,n(0,A)})}function se(oe){Ee[oe?"unshift":"push"](()=>{A=oe,n(0,A)})}return t.$$set=oe=>{e=ee(ee({},e),Re(oe)),n(13,r=de(e,i)),"transition"in oe&&n(1,f=oe.transition),"transitionConfig"in oe&&n(2,c=oe.transitionConfig),"inTransition"in oe&&n(3,d=oe.inTransition),"inTransitionConfig"in oe&&n(4,m=oe.inTransitionConfig),"outTransition"in oe&&n(5,h=oe.outTransition),"outTransitionConfig"in oe&&n(6,p=oe.outTransitionConfig),"asChild"in oe&&n(7,_=oe.asChild),"id"in oe&&n(14,C=oe.id),"side"in oe&&n(15,v=oe.side),"align"in oe&&n(16,T=oe.align),"sideOffset"in oe&&n(17,L=oe.sideOffset),"alignOffset"in oe&&n(18,D=oe.alignOffset),"collisionPadding"in oe&&n(19,j=oe.collisionPadding),"avoidCollisions"in oe&&n(20,$=oe.avoidCollisions),"collisionBoundary"in oe&&n(21,I=oe.collisionBoundary),"sameWidth"in oe&&n(22,N=oe.sameWidth),"fitViewport"in oe&&n(23,q=oe.fitViewport),"strategy"in oe&&n(24,k=oe.strategy),"overlap"in oe&&n(25,y=oe.overlap),"el"in oe&&n(0,A=oe.el),"$$scope"in oe&&n(27,u=oe.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&C&&F.content.set(C),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,Z),t.$$.dirty[0]&67076608&&l&&zg({side:v,align:T,sideOffset:L,alignOffset:D,collisionPadding:j,avoidCollisions:$,collisionBoundary:I,sameWidth:N,fitViewport:q,strategy:k,overlap:y})},[A,f,c,d,m,h,p,_,o,l,R,W,K,r,C,v,T,L,D,j,$,I,N,q,k,y,a,u,s,te,J,X,fe,se]}let b1=class extends _e{constructor(e){super(),he(this,e,g1,_1,pe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const y1=t=>({builder:t&4}),oa=t=>({builder:t[2]}),v1=t=>({builder:t&4}),ia=t=>({builder:t[2]});function w1(t){let e,n,o,i;const r=t[9].default,l=ge(r,t,t[8],oa);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=ee(s,a[u]);return{c(){e=P("button"),l&&l.c(),me(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[Ge(t[2].action(e)),ne(e,"m-blur",t[4]),ne(e,"m-focus",t[4]),ne(e,"m-keydown",t[4]),ne(e,"m-pointerdown",t[4]),ne(e,"m-pointerenter",t[4]),ne(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&ye(l,r,u,u[8],n?be(r,u[8],f,y1):ve(u[8]),oa),me(e,s=Ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(w(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[10](null),o=!1,Ve(i)}}}function k1(t){let e;const n=t[9].default,o=ge(n,t,t[8],ia);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&ye(o,n,i,i[8],e?be(n,i[8],r,v1):ve(i[8]),ia)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function C1(t){let e,n,o,i;const r=[k1,w1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function T1(t,e,n){let o;const i=["asChild","id","el"];let r=de(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:m,getAttrs:h}=yl();ue(t,d,v=>n(7,l=v));const p=Fn(),_=h("trigger");function C(v){Ee[v?"unshift":"push"](()=>{c=v,n(0,c)})}return t.$$set=v=>{e=ee(ee({},e),Re(v)),n(5,r=de(e,i)),"asChild"in v&&n(1,u=v.asChild),"id"in v&&n(6,f=v.id),"el"in v&&n(0,c=v.el),"$$scope"in v&&n(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&m.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,p,r,f,l,s,a,C]}class S1 extends _e{constructor(e){super(),he(this,e,T1,C1,pe,{asChild:1,id:6,el:0})}}function A1(t){let e;const n=t[2].default,o=ge(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&ye(o,n,i,i[3],e?be(n,i[3],r,null):ve(i[3]),null)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function I1(t){let e,n;const o=[{class:He("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[A1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=ee(i,o[r]);return e=new k0({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:He("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function M1(t,e,n){const o=["class"];let i=de(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=ee(ee({},e),Re(s)),n(1,i=de(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class on extends _e{constructor(e){super(),he(this,e,M1,I1,pe,{class:0})}}function O1(t){let e;const n=t[1].default,o=ge(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&ye(o,n,i,i[2],e?be(n,i[2],r,null):ve(i[2]),null)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function P1(t){let e,n;const o=[t[0]];let i={$$slots:{default:[O1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=ee(i,o[r]);return e=new D0({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&1?Ce(o,[it(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function N1(t,e,n){const o=[];let i=de(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=ee(ee({},e),Re(a)),n(0,i=de(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class E1 extends _e{constructor(e){super(),he(this,e,N1,P1,pe,{})}}function $1(t){let e,n,o;const i=t[3].default,r=ge(i,t,t[2],null);let l=[{class:n=He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=ee(a,l[s]);return{c(){e=P("div"),r&&r.c(),me(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&ye(r,i,s,s[2],o?be(i,s[2],u,null):ve(s[2]),null),me(e,a=Ce(l,[(!o||u&1&&n!==(n=He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(w(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&M(e),r&&r.d(s)}}}function R1(t,e,n){const o=["class"];let i=de(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=ee(ee({},e),Re(s)),n(1,i=de(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class wn extends _e{constructor(e){super(),he(this,e,R1,$1,pe,{class:0})}}function L1(t){let e,n,o;const i=t[3].default,r=ge(i,t,t[2],null);let l=[{class:n=He("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=ee(a,l[s]);return{c(){e=P("div"),r&&r.c(),me(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&ye(r,i,s,s[2],o?be(i,s[2],u,null):ve(s[2]),null),me(e,a=Ce(l,[(!o||u&1&&n!==(n=He("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(w(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&M(e),r&&r.d(s)}}}function D1(t,e,n){const o=["class"];let i=de(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=ee(ee({},e),Re(s)),n(1,i=de(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class rn extends _e{constructor(e){super(),he(this,e,D1,L1,pe,{class:0})}}function Di(t,{delay:e=0,duration:n=400,easing:o=Ki}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function ra(t,{delay:e=0,duration:n=400,easing:o=Ff,axis:i="y"}={}){const r=getComputedStyle(t),l=+r.opacity,a=i==="y"?"height":"width",s=parseFloat(r[a]),u=i==="y"?["top","bottom"]:["left","right"],f=u.map(C=>`${C[0].toUpperCase()}${C.slice(1)}`),c=parseFloat(r[`padding${f[0]}`]),d=parseFloat(r[`padding${f[1]}`]),m=parseFloat(r[`margin${f[0]}`]),h=parseFloat(r[`margin${f[1]}`]),p=parseFloat(r[`border${f[0]}Width`]),_=parseFloat(r[`border${f[1]}Width`]);return{delay:e,duration:n,easing:o,css:C=>`overflow: hidden;opacity: ${Math.min(C*20,1)*l};${a}: ${C*s}px;padding-${u[0]}: ${C*c}px;padding-${u[1]}: ${C*d}px;margin-${u[0]}: ${C*m}px;margin-${u[1]}: ${C*h}px;border-${u[0]}-width: ${C*p}px;border-${u[1]}-width: ${C*_}px;`}}function j1(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:He("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=ee(i,o[r]);return e=new sg({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&15?Ce(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:He("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&it(r[3])]):{};e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function F1(t,e,n){const o=["class","transition","transitionConfig"];let i=de(e,o),{class:r=void 0}=e,{transition:l=Di}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=ee(ee({},e),Re(s)),n(3,i=de(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class q1 extends _e{constructor(e){super(),he(this,e,F1,j1,pe,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function sa(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function vr(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=ee(o,n[i]);return{c(){e=Xi(t[11]),yi(e,o)},m(i,r){O(i,e,r)},p(i,r){yi(e,o=Ce(n,[r&32&&i[12]]))},d(i){i&&M(e)}}}function aa(t){let e=t[11],n,o=t[11]&&vr(t);return{c(){o&&o.c(),n=Le()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){i[11]?e?pe(e,i[11])?(o.d(1),o=vr(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=vr(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&M(n),o&&o.d(i)}}}function B1(t){let e,n,o,i,r,l=Ye(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=aa(sa(t,l,d));const s=t[10].default,u=ge(s,t,t[9],null);let f=[la,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=ee(c,f[d]);return{c(){e=Xi("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=Le(),u&&u.c(),yi(e,c)},m(d,m){O(d,e,m);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(e,null);b(e,n),u&&u.m(e,null),r=!0},p(d,[m]){if(m&32){l=Ye(d[5]);let h;for(h=0;h<l.length;h+=1){const p=sa(d,l,h);a[h]?a[h].p(p,m):(a[h]=aa(p),a[h].c(),a[h].m(e,n))}for(;h<a.length;h+=1)a[h].d(1);a.length=l.length}u&&u.p&&(!r||m&512)&&ye(u,s,d,d[9],r?be(s,d[9],m,null):ve(d[9]),null),yi(e,c=Ce(f,[la,m&128&&d[7],(!r||m&4)&&{width:d[2]},(!r||m&4)&&{height:d[2]},(!r||m&2)&&{stroke:d[1]},(!r||m&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||m&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(w(u,d),r=!0)},o(d){S(u,d),r=!1},d(d){d&&M(e),st(a,d),u&&u.d(d)}}}function H1(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=de(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const m=(...h)=>h.filter((p,_,C)=>!!p&&C.indexOf(p)===_).join(" ");return t.$$set=h=>{n(8,e=ee(ee({},e),Re(h))),n(7,i=de(e,o)),"name"in h&&n(0,a=h.name),"color"in h&&n(1,s=h.color),"size"in h&&n(2,u=h.size),"strokeWidth"in h&&n(3,f=h.strokeWidth),"absoluteStrokeWidth"in h&&n(4,c=h.absoluteStrokeWidth),"iconNode"in h&&n(5,d=h.iconNode),"$$scope"in h&&n(9,l=h.$$scope)},e=Re(e),[a,s,u,f,c,d,m,i,e,l,r]}class G1 extends _e{constructor(e){super(),he(this,e,H1,B1,pe,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function W1(t){let e;const n=t[2].default,o=ge(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&ye(o,n,i,i[3],e?be(n,i[3],r,null):ve(i[3]),null)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function V1(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[W1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=ee(i,o[r]);return e=new G1({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[o[0],l&2&&it(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function x1(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=ee(ee({},e),Re(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=Re(e),[r,e,o,i]}class Y1 extends _e{constructor(e){super(),he(this,e,x1,V1,pe,{})}}function U1(t){let e,n,o,i;return e=new Y1({props:{class:"h-4 w-4"}}),{c(){Y(e.$$.fragment),n=B(),o=P("span"),o.textContent="Close",E(o,"class","sr-only")},m(r,l){V(e,r,l),O(r,n,l),O(r,o,l),i=!0},p:Ie,i(r){i||(w(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(M(n),M(o)),x(e,r)}}}function K1(t){let e,n,o;const i=t[4].default,r=ge(i,t,t[5],null);return n=new O0({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[U1]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=B(),Y(n.$$.fragment)},m(l,a){r&&r.m(l,a),O(l,e,a),V(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&ye(r,i,l,l[5],o?be(i,l[5],a,null):ve(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(w(r,l),w(n.$$.fragment,l),o=!0)},o(l){S(r,l),S(n.$$.fragment,l),o=!1},d(l){l&&M(e),r&&r.d(l),x(n,l)}}}function X1(t){let e,n,o,i;e=new q1({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",t[0])},t[3]];let l={$$slots:{default:[K1]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=ee(l,r[a]);return o=new Z0({props:l}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment)},m(a,s){V(e,a,s),O(a,n,s),V(o,a,s),i=!0},p(a,s){const u=s&15?Ce(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",a[0])},s&8&&it(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(w(e.$$.fragment,a),w(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&M(n),x(e,a),x(o,a)}}}function J1(t){let e,n;return e=new E1({props:{$$slots:{default:[X1]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Z1(t,e,n){const o=["class","transition","transitionConfig"];let i=de(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=_o}=e,{transitionConfig:u={duration:400}}=e;return t.$$set=f=>{e=ee(ee({},e),Re(f)),n(3,i=de(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class ln extends _e{constructor(e){super(),he(this,e,Z1,J1,pe,{class:0,transition:1,transitionConfig:2})}}function Q1(t){let e;const n=t[2].default,o=ge(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&ye(o,n,i,i[3],e?be(n,i[3],r,null):ve(i[3]),null)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function z1(t){let e,n;const o=[{class:He("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Q1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=ee(i,o[r]);return e=new pg({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:He("text-sm text-muted-foreground",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function eb(t,e,n){const o=["class"];let i=de(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=ee(ee({},e),Re(s)),n(1,i=de(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Bn extends _e{constructor(e){super(),he(this,e,eb,z1,pe,{class:0})}}const sn=h0,dn={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}};function tb(t){let e;const n=t[3].default,o=ge(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&ye(o,n,i,i[4],e?be(n,i[4],r,null):ve(i[4]),null)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function nb(t){let e,n;const o=[{class:He("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[tb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=ee(i,o[r]);return e=new Kh({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&7?Ce(o,[l&1&&{class:He("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&it(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function ob(t,e,n){const o=["class","level"];let i=de(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=ee(ee({},e),Re(u)),n(2,i=de(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class pc extends _e{constructor(e){super(),he(this,e,ob,nb,pe,{class:0,level:1})}}function ib(t){let e;const n=t[5].default,o=ge(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&ye(o,n,i,i[8],e?be(n,i[8],r,null):ve(i[8]),null)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function rb(t){let e,n;const o=[{builders:t[3]},{class:He(fo({variant:t[1],size:t[2]}),t[0])},{type:"button"},t[4]];let i={$$slots:{default:[ib]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=ee(i,o[r]);return e=new z_({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&31?Ce(o,[l&8&&{builders:r[3]},l&7&&{class:He(fo({variant:r[1],size:r[2]}),r[0])},o[2],l&16&&it(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function lb(t,e,n){const o=["class","variant","size","builders"];let i=de(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(m){ae.call(this,t,m)}function d(m){ae.call(this,t,m)}return t.$$set=m=>{e=ee(ee({},e),Re(m)),n(4,i=de(e,o)),"class"in m&&n(0,a=m.class),"variant"in m&&n(1,s=m.variant),"size"in m&&n(2,u=m.size),"builders"in m&&n(3,f=m.builders),"$$scope"in m&&n(8,l=m.$$scope)},[a,s,u,f,i,r,c,d,l]}class St extends _e{constructor(e){super(),he(this,e,lb,rb,pe,{class:0,variant:1,size:2,builders:3})}}var ua=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,wt=t=>!t||typeof t!="object"||Object.keys(t).length===0,sb=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function hc(t,e){t.forEach(function(n){Array.isArray(n)?hc(n,e):e.push(n)})}function _c(t){let e=[];return hc(t,e),e}var gc=(...t)=>_c(t).filter(Boolean),bc=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=bc(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=gc(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},fa=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),ab={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},yc=t=>t||void 0,xo=(...t)=>yc(_c(t).filter(Boolean).join(" ")),wr=null,Zt={},Wr=!1,Po=(...t)=>e=>e.twMerge?((!wr||Wr)&&(Wr=!1,wr=wt(Zt)?jf:mm({...Zt,extend:{theme:Zt.theme,classGroups:Zt.classGroups,conflictingClassGroupModifiers:Zt.conflictingClassGroupModifiers,conflictingClassGroups:Zt.conflictingClassGroups,...Zt.extend}})),yc(wr(xo(t)))):xo(t),ca=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=xo(t[n],e[n]):t[n]=e[n];return t},ub=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...ab,...e},u=n!=null&&n.base?xo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!wt(n.variants)?bc(i,n.variants):i,c=n!=null&&n.defaultVariants&&!wt(n.defaultVariants)?{...n.defaultVariants,...a}:a;!wt(s.twMergeConfig)&&!sb(s.twMergeConfig,Zt)&&(Wr=!0,Zt=s.twMergeConfig);let d=wt(n==null?void 0:n.slots),m=wt(o)?{}:{base:xo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},h=d?m:ca({...n==null?void 0:n.slots},wt(m)?{base:t==null?void 0:t.base}:m),p=C=>{if(wt(f)&&wt(o)&&d)return Po(u,C==null?void 0:C.class,C==null?void 0:C.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let v=(y,A,R=[],W)=>{let F=R;if(typeof A=="string")F=F.concat(fa(A).split(" ").map(U=>`${y}:${U}`));else if(Array.isArray(A))F=F.concat(A.reduce((U,K)=>U.concat(`${y}:${K}`),[]));else if(typeof A=="object"&&typeof W=="string"){for(let U in A)if(A.hasOwnProperty(U)&&U===W){let K=A[U];if(K&&typeof K=="string"){let Z=fa(K);F[W]?F[W]=F[W].concat(Z.split(" ").map(te=>`${y}:${te}`)):F[W]=Z.split(" ").map(te=>`${y}:${te}`)}else Array.isArray(K)&&K.length>0&&(F[W]=K.reduce((Z,te)=>Z.concat(`${y}:${te}`),[]))}}return F},T=(y,A=f,R=null,W=null)=>{var F;let U=A[y];if(!U||wt(U))return null;let K=(F=W==null?void 0:W[y])!=null?F:C==null?void 0:C[y];if(K===null)return null;let Z=ua(K),te=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,J=c==null?void 0:c[y],X=[];if(typeof Z=="object"&&te)for(let[oe,$e]of Object.entries(Z)){let Fe=U[$e];if(oe==="initial"){J=$e;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(oe)||(X=v(oe,Fe,X,R))}let fe=Z!=null&&typeof Z!="object"?Z:ua(J),se=U[fe]||U.false;return typeof X=="object"&&typeof R=="string"&&X[R]?ca(X,se):X.length>0?(X.push(se),X):se},L=()=>f?Object.keys(f).map(y=>T(y,f)):null,D=(y,A)=>{if(!f||typeof f!="object")return null;let R=new Array;for(let W in f){let F=T(W,f,y,A),U=y==="base"&&typeof F=="string"?F:F&&F[y];U&&(R[R.length]=U)}return R},j={};for(let y in C)C[y]!==void 0&&(j[y]=C[y]);let $=(y,A)=>{var R;let W=typeof(C==null?void 0:C[y])=="object"?{[y]:(R=C[y])==null?void 0:R.initial}:{};return{...c,...j,...W,...A}},I=(y=[],A)=>{let R=[];for(let{class:W,className:F,...U}of y){let K=!0;for(let[Z,te]of Object.entries(U)){let J=$(Z,A);if(Array.isArray(te)){if(!te.includes(J[Z])){K=!1;break}}else if(J[Z]!==te){K=!1;break}}K&&(W&&R.push(W),F&&R.push(F))}return R},N=y=>{let A=I(r,y),R=I(n==null?void 0:n.compoundVariants,y);return gc(R,A)},q=y=>{let A=N(y);if(!Array.isArray(A))return A;let R={};for(let W of A)if(typeof W=="string"&&(R.base=Po(R.base,W)(s)),typeof W=="object")for(let[F,U]of Object.entries(W))R[F]=Po(R[F],U)(s);return R},k=y=>{if(l.length<1)return null;let A={};for(let{slots:R=[],class:W,className:F,...U}of l){if(!wt(U)){let K=!0;for(let Z of Object.keys(U)){let te=$(Z,y)[Z];if(te===void 0||(Array.isArray(U[Z])?!U[Z].includes(te):U[Z]!==te)){K=!1;break}}if(!K)continue}for(let K of R)A[K]=A[K]||[],A[K].push([W,F])}return A};if(!wt(o)||!d){let y={};if(typeof h=="object"&&!wt(h))for(let A of Object.keys(h))y[A]=R=>{var W,F;return Po(h[A],D(A,R),((W=q(R))!=null?W:[])[A],((F=k(R))!=null?F:[])[A],R==null?void 0:R.class,R==null?void 0:R.className)(s)};return y}return Po(u,L(),N(),C==null?void 0:C.class,C==null?void 0:C.className)(s)},_=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return p.variantKeys=_(),p.extend=n,p.base=u,p.slots=h,p.variants=f,p.defaultVariants=c,p.compoundSlots=l,p.compoundVariants=r,p};const fo=ub({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg- hover:bg-accent hover:text-accent-foreground",secondary:"bg-accent text-accent-foreground hover:bg-accent/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),fb=t=>({builder:t&64}),da=t=>({builder:t[6]});function cb(t){let e;const n=t[2].default,o=ge(n,t,t[5],da);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&ye(o,n,i,i[5],e?be(n,i[5],r,fb):ve(i[5]),da)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function db(t){let e,n;const o=[{class:He(fo(),t[0])},t[1]];let i={$$slots:{default:[cb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=ee(i,o[r]);return e=new t_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:He(fo(),r[0])},l&2&&it(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function mb(t,e,n){const o=["class"];let i=de(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){ae.call(this,t,f)}function u(f){ae.call(this,t,f)}return t.$$set=f=>{e=ee(ee({},e),Re(f)),n(1,i=de(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class vc extends _e{constructor(e){super(),he(this,e,mb,db,pe,{class:0})}}const pb=t=>({builder:t&64}),ma=t=>({builder:t[6]});function hb(t){let e;const n=t[2].default,o=ge(n,t,t[5],ma);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&ye(o,n,i,i[5],e?be(n,i[5],r,pb):ve(i[5]),ma)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function _b(t){let e,n;const o=[{class:He(fo({variant:"default"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[hb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=ee(i,o[r]);return e=new a_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:He(fo({variant:"default"}),"mt-2 sm:mt-0",r[0])},l&2&&it(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function gb(t,e,n){const o=["class"];let i=de(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){ae.call(this,t,f)}function u(f){ae.call(this,t,f)}return t.$$set=f=>{e=ee(ee({},e),Re(f)),n(1,i=de(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class bb extends _e{constructor(e){super(),he(this,e,gb,_b,pe,{class:0})}}function yb(t){let e;const n=t[1].default,o=ge(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&ye(o,n,i,i[2],e?be(n,i[2],r,null):ve(i[2]),null)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function vb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[yb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=ee(i,o[r]);return e=new h_({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&1?Ce(o,[it(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function wb(t,e,n){const o=[];let i=de(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=ee(ee({},e),Re(a)),n(0,i=de(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class kb extends _e{constructor(e){super(),he(this,e,wb,vb,pe,{})}}function Cb(t){let e,n,o;const i=t[3].default,r=ge(i,t,t[2],null);let l=[{class:n=He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=ee(a,l[s]);return{c(){e=P("div"),r&&r.c(),me(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&ye(r,i,s,s[2],o?be(i,s[2],u,null):ve(s[2]),null),me(e,a=Ce(l,[(!o||u&1&&n!==(n=He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(w(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&M(e),r&&r.d(s)}}}function Tb(t,e,n){const o=["class"];let i=de(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=ee(ee({},e),Re(s)),n(1,i=de(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class vl extends _e{constructor(e){super(),he(this,e,Tb,Cb,pe,{class:0})}}function Sb(t){let e,n,o;const i=t[3].default,r=ge(i,t,t[2],null);let l=[{class:n=He("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=ee(a,l[s]);return{c(){e=P("div"),r&&r.c(),me(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&ye(r,i,s,s[2],o?be(i,s[2],u,null):ve(s[2]),null),me(e,a=Ce(l,[(!o||u&1&&n!==(n=He("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(w(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&M(e),r&&r.d(s)}}}function Ab(t,e,n){const o=["class"];let i=de(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=ee(ee({},e),Re(s)),n(1,i=de(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class wc extends _e{constructor(e){super(),he(this,e,Ab,Sb,pe,{class:0})}}function Ib(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:He("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=ee(i,o[r]);return e=new B_({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&15?Ce(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:He("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&it(r[3])]):{};e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function Mb(t,e,n){const o=["class","transition","transitionConfig"];let i=de(e,o),{class:r=void 0}=e,{transition:l=Di}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=ee(ee({},e),Re(s)),n(3,i=de(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class Ob extends _e{constructor(e){super(),he(this,e,Mb,Ib,pe,{class:0,transition:1,transitionConfig:2})}}function Pb(t){let e;const n=t[4].default,o=ge(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&ye(o,n,i,i[5],e?be(n,i[5],r,null):ve(i[5]),null)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Nb(t){let e,n,o,i;e=new Ob({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:He("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[Pb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=ee(l,r[a]);return o=new P_({props:l}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment)},m(a,s){V(e,a,s),O(a,n,s),V(o,a,s),i=!0},p(a,s){const u=s&15?Ce(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:He("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",a[2])},s&8&&it(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(w(e.$$.fragment,a),w(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&M(n),x(e,a),x(o,a)}}}function Eb(t){let e,n;return e=new kb({props:{$$slots:{default:[Nb]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function $b(t,e,n){const o=["transition","transitionConfig","class"];let i=de(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=_o}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=ee(ee({},e),Re(f)),n(3,i=de(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class wl extends _e{constructor(e){super(),he(this,e,$b,Eb,pe,{transition:0,transitionConfig:1,class:2})}}function Rb(t){let e;const n=t[2].default,o=ge(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&ye(o,n,i,i[3],e?be(n,i[3],r,null):ve(i[3]),null)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Lb(t){let e,n;const o=[{class:He("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Rb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=ee(i,o[r]);return e=new U_({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:He("text-sm text-muted-foreground",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function Db(t,e,n){const o=["class"];let i=de(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=ee(ee({},e),Re(s)),n(1,i=de(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class kc extends _e{constructor(e){super(),he(this,e,Db,Lb,pe,{class:0})}}const kl=Hh;function jb(t){let e;const n=t[5].default,o=ge(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&ye(o,n,i,i[6],e?be(n,i[6],r,null):ve(i[6]),null)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Fb(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:He("z-[1000] overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",t[0])},t[4]];let i={$$slots:{default:[jb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=ee(i,o[r]);return e=new b1({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&31?Ce(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:He("z-[1000] overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",r[0])},l&16&&it(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function qb(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=de(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=16}=e,{transition:u=_o}=e,{transitionConfig:f={y:6,duration:100}}=e;return t.$$set=c=>{e=ee(ee({},e),Re(c)),n(4,i=de(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class wo extends _e{constructor(e){super(),he(this,e,qb,Fb,pe,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const ko=o1,Co=S1;function Bb(t){let e=(t[4].length>0?t[4]:"Why are you hovering here?")+"",n;return{c(){n=G(e)},m(o,i){O(o,n,i)},p(o,i){i&16&&e!==(e=(o[4].length>0?o[4]:"Why are you hovering here?")+"")&&ce(n,e)},d(o){o&&M(n)}}}function Hb(t){let e,n;return{c(){e=P("div"),n=G(t[0])},m(o,i){O(o,e,i),b(e,n)},p(o,i){i&1&&ce(n,o[0])},d(o){o&&M(e)}}}function Gb(t){let e,n;return e=new St({props:{class:`text-sm flex flex-col  cursor-pointer py-1.5 rounded-xl bg-accent text-accentText
  `+t[2]+" cursor-pointer opacity-"+t[3]+" "+(t[3]<100?"hover:opacity-40":"")+` transition-all duration-150 filter hover:brightness-110
  `,$$slots:{default:[Hb]},$$scope:{ctx:t}}}),e.$on("click",function(){Lt(t[1])&&t[1].apply(this,arguments)}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){t=o;const r={};i&12&&(r.class=`text-sm flex flex-col  cursor-pointer py-1.5 rounded-xl bg-accent text-accentText
  `+t[2]+" cursor-pointer opacity-"+t[3]+" "+(t[3]<100?"hover:opacity-40":"")+` transition-all duration-150 filter hover:brightness-110
  `),i&33&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Wb(t){let e,n,o,i;return e=new wo({props:{$$slots:{default:[Bb]},$$scope:{ctx:t}}}),o=new Co({props:{class:"flex flex-col ",$$slots:{default:[Gb]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&48&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&47&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function Vb(t){let e,n;return e=new ko({props:{openDelay:t[4].length>0?200:999999,closeDelay:0,$$slots:{default:[Wb]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,[i]){const r={};i&16&&(r.openDelay=o[4].length>0?200:999999),i&63&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function xb(t,e,n){let{text:o}=e,{onOpen:i}=e,{styling:r="bg-accent text-accentText"}=e,{opacity:l=100}=e,{onHoverText:a=""}=e;return t.$$set=s=>{"text"in s&&n(0,o=s.text),"onOpen"in s&&n(1,i=s.onOpen),"styling"in s&&n(2,r=s.styling),"opacity"in s&&n(3,l=s.opacity),"onHoverText"in s&&n(4,a=s.onHoverText)},[o,i,r,l,a]}class qt extends _e{constructor(e){super(),he(this,e,xb,Vb,pe,{text:0,onOpen:1,styling:2,opacity:3,onHoverText:4})}}function pa(t,e,n){const o=t.slice();return o[25]=e[n],o}function ha(t,e,n){const o=t.slice();return o[28]=e[n],o}function Yb(t){let e;return{c(){e=G("Pause Menu")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Ub(t){let e,n,o,i;return e=new on({props:{class:"text-3xl font-semibold text-accentText",$$slots:{default:[Yb]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=B(),o=P("span"),o.textContent="Unpause any time by pressing 'P'"},m(r,l){V(e,r,l),O(r,n,l),O(r,o,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(w(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(M(n),M(o)),x(e,r)}}}function _a(t){let e,n,o,i,r,l=JSON.stringify(t[4].requirements[t[1].difficulty].population_count)+"",a,s,u=JSON.stringify(t[1].townInfo.population_count)+"",f,c,d,m,h=JSON.stringify(t[4].requirements[t[1].difficulty].happiness)+"",p,_,C=JSON.stringify(t[1].townInfo.happiness)+"",v,T,L,D,j=JSON.stringify(t[4].requirements[t[1].difficulty].employment*100)+"",$,I,N=JSON.stringify((t[1].townInfo.employees/t[1].townInfo.population_count||0)*100)+"",q,k,y,A,R,W=JSON.stringify(t[4].requirements[t[1].difficulty].health)+"",F,U,K=JSON.stringify(t[1].townInfo.health)+"",Z,te,J,X,fe=JSON.stringify(t[4].requirements[t[1].difficulty].knowledge)+"",se,oe,$e=JSON.stringify(t[1].townInfo.knowledge_points)+"",Fe,g,z;function Q(Se,Je){return Se[1].townInfo.population_count>=Se[4].requirements[Se[1].difficulty].population_count?Xb:Kb}let ie=Q(t),re=ie(t);function ke(Se,Je){return Se[1].townInfo.happiness>=Se[4].requirements[Se[1].difficulty].happiness?Zb:Jb}let Pe=ke(t),je=Pe(t);function xe(Se,Je){return Se[1].townInfo.employees/Se[1].townInfo.population_count>=Se[4].requirements[Se[1].difficulty].employment?zb:Qb}let De=xe(t),Ke=De(t);function Xe(Se,Je){return Se[1].townInfo.health>=Se[4].requirements[Se[1].difficulty].health?ty:ey}let we=Xe(t),qe=we(t);function Hn(Se,Je){return Se[1].townInfo.knowledge_points>=Se[4].requirements[Se[1].difficulty].knowledge?oy:ny}let an=Hn(t),It=an(t),rt=t[4].requirements[t[1].difficulty].required_plots!=null&&t[4].requirements[t[1].difficulty].required_plots.length>0&&ga(t);return{c(){e=P("div"),e.textContent=`With your difficulty (${t[5]}), you must also have:`,n=B(),o=P("ul"),i=P("li"),re.c(),r=G(`
                  Population: `),a=G(l),s=G(" - Currently at "),f=G(u),c=B(),d=P("li"),je.c(),m=G(`
                  Happiness: `),p=G(h),_=G(" - Currently at "),v=G(C),T=B(),L=P("li"),Ke.c(),D=G(`
                  Employment: `),$=G(j),I=G("% - Currently at "),q=G(N),k=G("%"),y=B(),A=P("li"),qe.c(),R=G(`
                  Health: `),F=G(W),U=G(" - Currently at "),Z=G(K),te=B(),J=P("li"),It.c(),X=G(`
                  Knowledge: `),se=G(fe),oe=G(" - Currently at "),Fe=G($e),g=B(),rt&&rt.c(),z=Le(),E(e,"class","leading-relaxed text-sm"),E(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(Se,Je){O(Se,e,Je),O(Se,n,Je),O(Se,o,Je),b(o,i),re.m(i,null),b(i,r),b(i,a),b(i,s),b(i,f),b(o,c),b(o,d),je.m(d,null),b(d,m),b(d,p),b(d,_),b(d,v),b(o,T),b(o,L),Ke.m(L,null),b(L,D),b(L,$),b(L,I),b(L,q),b(L,k),b(o,y),b(o,A),qe.m(A,null),b(A,R),b(A,F),b(A,U),b(A,Z),b(o,te),b(o,J),It.m(J,null),b(J,X),b(J,se),b(J,oe),b(J,Fe),O(Se,g,Je),rt&&rt.m(Se,Je),O(Se,z,Je)},p(Se,Je){ie!==(ie=Q(Se))&&(re.d(1),re=ie(Se),re&&(re.c(),re.m(i,r))),Je[0]&2&&l!==(l=JSON.stringify(Se[4].requirements[Se[1].difficulty].population_count)+"")&&ce(a,l),Je[0]&2&&u!==(u=JSON.stringify(Se[1].townInfo.population_count)+"")&&ce(f,u),Pe!==(Pe=ke(Se))&&(je.d(1),je=Pe(Se),je&&(je.c(),je.m(d,m))),Je[0]&2&&h!==(h=JSON.stringify(Se[4].requirements[Se[1].difficulty].happiness)+"")&&ce(p,h),Je[0]&2&&C!==(C=JSON.stringify(Se[1].townInfo.happiness)+"")&&ce(v,C),De!==(De=xe(Se))&&(Ke.d(1),Ke=De(Se),Ke&&(Ke.c(),Ke.m(L,D))),Je[0]&2&&j!==(j=JSON.stringify(Se[4].requirements[Se[1].difficulty].employment*100)+"")&&ce($,j),Je[0]&2&&N!==(N=JSON.stringify((Se[1].townInfo.employees/Se[1].townInfo.population_count||0)*100)+"")&&ce(q,N),we!==(we=Xe(Se))&&(qe.d(1),qe=we(Se),qe&&(qe.c(),qe.m(A,R))),Je[0]&2&&W!==(W=JSON.stringify(Se[4].requirements[Se[1].difficulty].health)+"")&&ce(F,W),Je[0]&2&&K!==(K=JSON.stringify(Se[1].townInfo.health)+"")&&ce(Z,K),an!==(an=Hn(Se))&&(It.d(1),It=an(Se),It&&(It.c(),It.m(J,X))),Je[0]&2&&fe!==(fe=JSON.stringify(Se[4].requirements[Se[1].difficulty].knowledge)+"")&&ce(se,fe),Je[0]&2&&$e!==($e=JSON.stringify(Se[1].townInfo.knowledge_points)+"")&&ce(Fe,$e),Se[4].requirements[Se[1].difficulty].required_plots!=null&&Se[4].requirements[Se[1].difficulty].required_plots.length>0?rt?rt.p(Se,Je):(rt=ga(Se),rt.c(),rt.m(z.parentNode,z)):rt&&(rt.d(1),rt=null)},d(Se){Se&&(M(e),M(n),M(o),M(g),M(z)),re.d(),je.d(),Ke.d(),qe.d(),It.d(),rt&&rt.d(Se)}}}function Kb(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Xb(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Jb(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Zb(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Qb(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function zb(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ey(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ty(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ny(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function oy(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ga(t){let e,n,o,i=Ye(t[4].requirements[t[1].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=ba(ha(t,i,l));return{c(){e=P("br"),n=G(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=Le()},m(l,a){O(l,e,a),O(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);O(l,o,a)},p(l,a){if(a[0]&18){i=Ye(l[4].requirements[l[1].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=ha(l,i,s);r[s]?r[s].p(u,a):(r[s]=ba(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(M(e),M(n),M(o)),st(r,l)}}}function iy(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ry(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ba(t){let e,n,o,i,r=t[28]+"",l,a;function s(c,d){return d[0]&2&&(o=null),o==null&&(o=Be(c[28],c[1]).length>0),o?ry:iy}let u=s(t,[-1,-1]),f=u(t);return{c(){e=P("div"),n=P("li"),f.c(),i=B(),l=G(r),a=B(),E(e,"class","text-sm")},m(c,d){O(c,e,d),b(e,n),f.m(n,null),b(n,i),b(n,l),b(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d[0]&2&&r!==(r=c[28]+"")&&ce(l,r)},d(c){c&&M(e),f.d()}}}function ya(t){let e,n;return e=new qt({props:{styling:"bg-black opacity-50 w-min",text:"🔄 New mock town",onOpen:t[18]}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i[0]&2&&(r.onOpen=o[18]),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function va(t){let e,n;function o(){return t[19](t[25])}return e=new qt({props:{text:`💰 Collect Prize: $${ka(t[25].prize)} gold`,styling:"bg-yellow-300 text-black",onOpen:o}}),{c(){Y(e.$$.fragment)},m(i,r){V(e,i,r),n=!0},p(i,r){t=i;const l={};r[0]&1&&(l.text=`💰 Collect Prize: $${ka(t[25].prize)} gold`),r[0]&1&&(l.onOpen=o),e.$set(l)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function wa(t){let e,n,o,i,r,l,a=t[25].title+"",s,u,f,c=t[25].requirements+"",d,m,h,p=t[25].icon+"",_,C,v,T=t[25].description+"",L,D,j,$,I=t[7](t[25].id)+"",N,q,k,y=t[12](t[25].id)&&!t[8](t[25].id),A,R,W,F=y&&va(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("span"),r=P("div"),l=P("span"),s=G(a),u=B(),f=P("div"),d=G(c),m=B(),h=P("div"),_=G(p),C=B(),v=P("div"),L=G(T),D=B(),j=P("div"),$=G("✅ Completed on Day "),N=G(I),k=B(),F&&F.c(),A=B(),E(l,"class","font-semibold text-lg"),E(f,"class","font-thin opacity-75 text-xs"),E(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),E(h,"class","text-2xl pr-1 break-inside-avoid "),E(i,"class","flex flex-row justify-between w-[100%]"),E(o,"class","min-w-32 flex"),E(v,"class","opacity-85 text-xs font-light"),E(j,"class",q="pb-2 "+(t[12](t[25].id)?"":"hidden")+" text-xs text-green-400"),E(n,"class","flex-col flex px-3 py-2 gap-0"),E(e,"class",R="flex flex-col gap-3 cursor-default rounded-xl "+(t[12](t[25].id)?"bg-green-700 text-accentText":"bg-gray-500 opacity-35"))},m(U,K){O(U,e,K),b(e,n),b(n,o),b(o,i),b(i,r),b(r,l),b(l,s),b(r,u),b(r,f),b(f,d),b(i,m),b(i,h),b(h,_),b(n,C),b(n,v),b(v,L),b(n,D),b(n,j),b(j,$),b(j,N),b(n,k),F&&F.m(n,null),b(e,A),W=!0},p(U,K){(!W||K[0]&1)&&a!==(a=U[25].title+"")&&ce(s,a),(!W||K[0]&1)&&c!==(c=U[25].requirements+"")&&ce(d,c),(!W||K[0]&1)&&p!==(p=U[25].icon+"")&&ce(_,p),(!W||K[0]&1)&&T!==(T=U[25].description+"")&&ce(L,T),(!W||K[0]&1)&&I!==(I=U[7](U[25].id)+"")&&ce(N,I),(!W||K[0]&1&&q!==(q="pb-2 "+(U[12](U[25].id)?"":"hidden")+" text-xs text-green-400"))&&E(j,"class",q),K[0]&1&&(y=U[12](U[25].id)&&!U[8](U[25].id)),y?F?(F.p(U,K),K[0]&1&&w(F,1)):(F=va(U),F.c(),w(F,1),F.m(n,null)):F&&(Me(),S(F,1,1,()=>{F=null}),Oe()),(!W||K[0]&1&&R!==(R="flex flex-col gap-3 cursor-default rounded-xl "+(U[12](U[25].id)?"bg-green-700 text-accentText":"bg-gray-500 opacity-35")))&&E(e,"class",R)},i(U){W||(w(F),W=!0)},o(U){S(F),W=!1},d(U){U&&M(e),F&&F.d()}}}function ly(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,p,_,C,v,T=t[1].gameSettings.includes("devMode"),L,D,j,$,I,N,q,k,y,A,R,W,F;e=new rn({props:{$$slots:{default:[Ub]},$$scope:{ctx:t}}});let U=t[1].endGoal=="land"&&_a(t);m=new qt({props:{styling:"w-min",text:"💾 Save Game",onOpen:t[10]}}),p=new qt({props:{styling:"w-min",text:"📤 Load Game",onOpen:t[17]}}),C=new qt({props:{styling:"bg-black opacity-50 w-min",text:"🔄 New Game",onOpen:t[14]}});let K=T&&ya(t),Z=Ye(t[0]),te=[];for(let X=0;X<Z.length;X+=1)te[X]=wa(pa(t,Z,X));const J=X=>S(te[X],1,1,()=>{te[X]=null});return{c(){Y(e.$$.fragment),n=B(),o=P("div"),i=P("div"),r=P("div"),l=P("h4"),l.textContent="This game",a=B(),s=P("span"),s.textContent=`${t[4].description_title}`,u=B(),f=P("div"),U&&U.c(),c=B(),d=P("div"),Y(m.$$.fragment),h=B(),Y(p.$$.fragment),_=B(),Y(C.$$.fragment),v=B(),K&&K.c(),L=B(),D=P("div"),j=P("h4"),j.textContent=`Your achievement (${t[6].length}
          / ${ct.length})`,$=B(),I=P("span"),I.textContent="Track your progress through games & complete challenges!",N=B(),q=P("br"),k=B(),y=P("div"),A=P("div");for(let X=0;X<te.length;X+=1)te[X].c();R=B(),W=P("span"),W.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,E(l,"class","text-xl font-semibold mb-2"),E(s,"class","text-sm text-accentText opacity-75"),E(f,"class","mt-6 gap-0 py-0 text-accentText opacity-75 text-sm"),E(r,"class","flex-col h-max max-w-[80%]"),E(d,"class","flex flex-row gap-3"),E(i,"class","flex flex-col gap-6 justify-between"),E(j,"class","underline underline-offset-4"),E(I,"class","text-sm text-gray-400"),E(A,"class","flex flex-col gap-4 overflow-scroll pb-10 scroll-smooth"),E(y,"class","overflow-scroll mt-2 h-[60vh]"),E(W,"class","text-sm text-yellow-400"),E(D,"class","flex-grow"),E(o,"class","flex flex-row w-full gap-10justify-between")},m(X,fe){V(e,X,fe),O(X,n,fe),O(X,o,fe),b(o,i),b(i,r),b(r,l),b(r,a),b(r,s),b(r,u),b(r,f),U&&U.m(f,null),b(i,c),b(i,d),V(m,d,null),b(d,h),V(p,d,null),b(d,_),V(C,d,null),b(d,v),K&&K.m(d,null),b(o,L),b(o,D),b(D,j),b(D,$),b(D,I),b(D,N),b(D,q),b(D,k),b(D,y),b(y,A);for(let se=0;se<te.length;se+=1)te[se]&&te[se].m(A,null);b(D,R),b(D,W),F=!0},p(X,fe){const se={};if(fe[1]&1&&(se.$$scope={dirty:fe,ctx:X}),e.$set(se),X[1].endGoal=="land"?U?U.p(X,fe):(U=_a(X),U.c(),U.m(f,null)):U&&(U.d(1),U=null),fe[0]&2&&(T=X[1].gameSettings.includes("devMode")),T?K?(K.p(X,fe),fe[0]&2&&w(K,1)):(K=ya(X),K.c(),w(K,1),K.m(d,null)):K&&(Me(),S(K,1,1,()=>{K=null}),Oe()),fe[0]&4993){Z=Ye(X[0]);let oe;for(oe=0;oe<Z.length;oe+=1){const $e=pa(X,Z,oe);te[oe]?(te[oe].p($e,fe),w(te[oe],1)):(te[oe]=wa($e),te[oe].c(),w(te[oe],1),te[oe].m(A,null))}for(Me(),oe=Z.length;oe<te.length;oe+=1)J(oe);Oe()}},i(X){if(!F){w(e.$$.fragment,X),w(m.$$.fragment,X),w(p.$$.fragment,X),w(C.$$.fragment,X),w(K);for(let fe=0;fe<Z.length;fe+=1)w(te[fe]);F=!0}},o(X){S(e.$$.fragment,X),S(m.$$.fragment,X),S(p.$$.fragment,X),S(C.$$.fragment,X),S(K),te=te.filter(Boolean);for(let fe=0;fe<te.length;fe+=1)S(te[fe]);F=!1},d(X){X&&(M(n),M(o)),x(e,X),U&&U.d(),x(m),x(p),x(C),K&&K.d(),st(te,X)}}}function sy(t){let e,n;return e=new ln({props:{class:"max-w-[50%] flex flex-col justify-between bg-popupBackground text-accentText",$$slots:{default:[ly]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i[0]&3|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function ay(t){var o;let e=((o=t[13]())==null?void 0:o.title)+"",n;return{c(){n=G(e)},m(i,r){O(i,n,r)},p:Ie,d(i){i&&M(n)}}}function uy(t){let e,n,o,i;return{c(){var r,l,a;e=P("div"),n=P("div"),n.textContent=`${(r=t[13]())==null?void 0:r.icon}`,o=B(),i=P("div"),i.textContent=`${(l=t[13]())==null?void 0:l.description} ${(a=t[13]())==null?void 0:a.requirements}`,E(n,"class","absolute top-4 left-4 text-5xl"),E(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),E(e,"class","flex flex-row align-middle justify-evenly px-6 py-2")},m(r,l){O(r,e,l),b(e,n),b(e,o),b(e,i)},p:Ie,d(r){r&&M(e)}}}function fy(t){let e,n,o,i;return e=new pc({props:{class:"text-center text-lg font-bold",$$slots:{default:[ay]},$$scope:{ctx:t}}}),o=new kc({props:{$$slots:{default:[uy]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function cy(t){let e;return{c(){e=G("Close to collect prize")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function dy(t){let e,n;return e=new bb({props:{$$slots:{default:[cy]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function my(t){let e,n,o,i;return e=new wc({props:{$$slots:{default:[fy]},$$scope:{ctx:t}}}),o=new vl({props:{$$slots:{default:[dy]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&8|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function py(t){let e,n;return e=new wl({props:{$$slots:{default:[my]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i[0]&8|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function hy(t){let e,n,o,i,r;function l(s){t[20](s)}let a={$$slots:{default:[sy]},$$scope:{ctx:t}};return t[2]!==void 0&&(a.open=t[2]),e=new sn({props:a}),Ee.push(()=>Yt(e,"open",l)),i=new kl({props:{open:t[3],$$slots:{default:[py]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),o=B(),Y(i.$$.fragment)},m(s,u){V(e,s,u),O(s,o,u),V(i,s,u),r=!0},p(s,u){const f={};u[0]&3|u[1]&1&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&4&&(n=!0,f.open=s[2],Wt(()=>n=!1)),e.$set(f);const c={};u[0]&8&&(c.open=s[3]),u[0]&8|u[1]&1&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(w(e.$$.fragment,s),w(i.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(i.$$.fragment,s),r=!1},d(s){s&&M(o),x(e,s),x(i,s)}}}function ka(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function _y(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function gy(t,e,n){let o,i,r,l,a;ue(t,Ne,k=>n(1,o=k)),ue(t,Ot,k=>n(2,i=k)),ue(t,pn,k=>n(23,r=k)),ue(t,Bl,k=>n(16,l=k)),ue(t,Mi,k=>n(3,a=k));const u=dn[o.endGoal],f=Pf[o.difficulty]||0;ct.sort((k,y)=>v(k.id)&&!v(y.id)?-1:!v(k.id)&&v(y.id)?1:0);const c=ct.filter(k=>v(k.id));function d(k){const y=r.achievements.find(A=>A[0]==k);return y==null?0:`${y[1]} in ${y[2]}.`}function m(k){const y=r.achievements.find(A=>A[0]==k);return y==null?!1:y[3]}function h(k){const y=r.achievements.find(R=>R[0]==k);if(y==null)return;const A=ct.find(R=>R.id==k);A!=null&&(Ae(Ne,o.townInfo.gold+=A.prize,o),y[3]=!0,Ae(pn,r.achievements=r.achievements.map(R=>R[0]==k?y:R),r))}let p=ct;function _(){const k=JSON.stringify(o),y=new Blob([k],{type:"text/plain"}),A=URL.createObjectURL(y),R=document.createElement("a");R.href=A,R.download=`${new Date().toISOString()}.json`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(A)}function C(k){const y=k.target.files;if(y==null)return;const A=y[0],R=new FileReader;R.onload=function(W){if(W.target==null)return;const F=W.target.result;if(typeof F=="string"){if(!_y(F)){Ct.set("Invalid game file");return}Lr(JSON.parse(F))}else Ct.set("Invalid game file: is not String.")},R.readAsText(A)}function v(k){return r.achievements==null?!1:r.achievements.find(y=>y[0]==k)!=null}function T(){Bl.update(k=>!k),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Am.set("game"));function L(){const k=r.achievements[r.achievements.length-1];if(k!=null)return ct.find(y=>y.id==k[0])}function D(){Ae(Ot,i=!0,i),localStorage.setItem("reset","true"),Ae(Ne,o=null,o),localStorage.removeItem(mt),Lr()}const j=()=>{const k=document.createElement("input");k.type="file",k.onchange=y=>C(y),k.click()},$=()=>{vm(o)},I=k=>{h(k.id);const y=document.getElementById(`collectPrize-${k.id}`);y&&(y.style.display="none")};function N(k){i=k,Ot.set(i)}const q=()=>{Ae(Mi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&65539&&o)if(l)n(0,p=ct);else{n(0,p=[]);for(let k=0;k<ct.length;k++)(!v(ct[k].id)||!m(ct[k].id))&&p.push(ct[k])}},[p,o,i,a,u,f,c,d,m,h,_,C,v,L,D,T,l,j,$,I,N,q]}class by extends _e{constructor(e){super(),he(this,e,gy,hy,pe,{toggleShowCompleted:15},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[15]}}function Ca(t,e,n){const o=t.slice();return o[5]=e[n],o}function yy(t){let e;return{c(){e=G("🚨 Plot Disabled Warning")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function vy(t){let e,n;return e=new on({props:{class:"text-xl font-semibold",$$slots:{default:[yy]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&256&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Ta(t){let e,n=t[5]+"",o;return{c(){e=P("li"),o=G(n)},m(i,r){O(i,e,r),b(e,o)},p(i,r){r&1&&n!==(n=i[5]+"")&&ce(o,n)},d(i){i&&M(e)}}}function wy(t){let e;return{c(){e=G("Bulldoze")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ky(t){let e,n=t[0].plotCost+"",o,i;return{c(){e=G("Snooze ("),o=G(n),i=G(" gold)")},m(r,l){O(r,e,l),O(r,o,l),O(r,i,l)},p(r,l){l&1&&n!==(n=r[0].plotCost+"")&&ce(o,n)},d(r){r&&(M(e),M(o),M(i))}}}function Cy(t){let e,n,o,i;return e=new St({props:{variant:"destructive",$$slots:{default:[wy]},$$scope:{ctx:t}}}),e.$on("click",t[3]),o=new St({props:{variant:"default",disabled:t[1].townInfo.gold<t[0].plotCost,$$slots:{default:[ky]},$$scope:{ctx:t}}}),o.$on("click",t[2]),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&3&&(s.disabled=r[1].townInfo.gold<r[0].plotCost),l&257&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function Ty(t){let e,n,o,i,r,l=t[0].plotName+"",a,s,u=t[0].location+"",f,c,d,m,h,p,_,C,v,T,L,D,j,$,I,N,q=t[0].plotCost+"",k,y,A,R,W;e=new rn({props:{class:"p-4 border-b border-accent/20",$$slots:{default:[vy]},$$scope:{ctx:t}}});let F=Ye(t[0].missingResources),U=[];for(let K=0;K<F.length;K+=1)U[K]=Ta(Ca(t,F,K));return R=new wn({props:{class:"p-4 border-t border-accent/20 flex justify-end gap-2",$$slots:{default:[Cy]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=B(),o=P("div"),i=P("p"),r=G("Your "),a=G(l),s=B(),f=G(u),c=G(" is about to be disabled!"),d=B(),m=P("div"),h=P("p"),h.textContent="Missing Resources:",p=B(),_=P("ul");for(let K=0;K<U.length;K+=1)U[K].c();C=B(),v=P("div"),T=P("p"),T.textContent="You have two options:",L=B(),D=P("ol"),j=P("li"),j.textContent="Bulldoze the plot (free)",$=B(),I=P("li"),N=G("Snooze for 30 days (costs "),k=G(q),y=G(" gold)"),A=B(),Y(R.$$.fragment),E(h,"class","font-semibold"),E(_,"class","list-disc list-inside"),E(m,"class","bg-red-500/10 p-3 rounded-md"),E(D,"class","list-decimal list-inside"),E(v,"class","bg-accent/10 p-3 rounded-md"),E(o,"class","p-4 space-y-4")},m(K,Z){V(e,K,Z),O(K,n,Z),O(K,o,Z),b(o,i),b(i,r),b(i,a),b(i,s),b(i,f),b(i,c),b(o,d),b(o,m),b(m,h),b(m,p),b(m,_);for(let te=0;te<U.length;te+=1)U[te]&&U[te].m(_,null);b(o,C),b(o,v),b(v,T),b(v,L),b(v,D),b(D,j),b(D,$),b(D,I),b(I,N),b(I,k),b(I,y),O(K,A,Z),V(R,K,Z),W=!0},p(K,Z){const te={};if(Z&256&&(te.$$scope={dirty:Z,ctx:K}),e.$set(te),(!W||Z&1)&&l!==(l=K[0].plotName+"")&&ce(a,l),(!W||Z&1)&&u!==(u=K[0].location+"")&&ce(f,u),Z&1){F=Ye(K[0].missingResources);let X;for(X=0;X<F.length;X+=1){const fe=Ca(K,F,X);U[X]?U[X].p(fe,Z):(U[X]=Ta(fe),U[X].c(),U[X].m(_,null))}for(;X<U.length;X+=1)U[X].d(1);U.length=F.length}(!W||Z&1)&&q!==(q=K[0].plotCost+"")&&ce(k,q);const J={};Z&259&&(J.$$scope={dirty:Z,ctx:K}),R.$set(J)},i(K){W||(w(e.$$.fragment,K),w(R.$$.fragment,K),W=!0)},o(K){S(e.$$.fragment,K),S(R.$$.fragment,K),W=!1},d(K){K&&(M(n),M(o),M(A)),x(e,K),st(U,K),x(R,K)}}}function Sy(t){let e,n;return e=new ln({props:{transition:_o,class:"bg-sidebarBackground text-sidebarText max-w-md rounded-md shadow-xl border border-accent",$$slots:{default:[Ty]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Ay(t){let e,n,o;function i(l){t[4](l)}let r={$$slots:{default:[Sy]},$$scope:{ctx:t}};return t[0].visible!==void 0&&(r.open=t[0].visible),e=new sn({props:r}),Ee.push(()=>Yt(e,"open",i)),{c(){Y(e.$$.fragment)},m(l,a){V(e,l,a),o=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0].visible,Wt(()=>n=!1)),e.$set(s)},i(l){o||(w(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function Iy(t,e,n){let o,i;ue(t,Ft,s=>n(0,o=s)),ue(t,Ne,s=>n(1,i=s));function r(){i.townInfo.gold>=o.plotCost&&(Ae(Ne,i.townInfo.gold-=o.plotCost,i),Ae(Ne,i.plots[o.x][o.y].snoozedUntil=i.environment.day+10,i),Ae(Ne,i.plots[o.x][o.y].disabled=!1,i)),Ae(Ft,o.visible=!1,o)}function l(){console.log("x:",o.x),console.log("y:",o.y),Pn(o.x,o.y,i),Ae(Ft,o.visible=!1,o)}function a(s){t.$$.not_equal(o.visible,s)&&(o.visible=s,Ft.set(o))}return[o,i,r,l,a]}class My extends _e{constructor(e){super(),he(this,e,Iy,Ay,pe,{})}}function Oy(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function Py(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=G(e)},m(o,i){O(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&ce(n,e)},d(o){o&&M(n)}}}function Ny(t){let e;return{c(){e=G("Keep playin'")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Ey(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new St({props:{class:"bg-accent",$$slots:{default:[Ny]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=P("span"),o=G(n),i=B(),r=P("br"),l=B(),a=P("br"),s=B(),Y(u.$$.fragment),E(e,"class","text-gray-500 text-sm")},m(c,d){O(c,e,d),b(e,o),O(c,i,d),O(c,r,d),O(c,l,d),O(c,a,d),O(c,s,d),V(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&ce(o,n);const m={};d&16&&(m.$$scope={dirty:d,ctx:c}),u.$set(m)},i(c){f||(w(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(M(e),M(i),M(r),M(l),M(a),M(s)),x(u,c)}}}function $y(t){let e,n,o,i;return e=new on({props:{$$slots:{default:[Py]},$$scope:{ctx:t}}}),o=new Bn({props:{$$slots:{default:[Ey]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function Ry(t){let e;return{c(){e=P("span"),e.textContent="Reset the game by pressing P and clicking New Game",E(e,"class","text-gray-500 text-sm")},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function Ly(t){let e,n,o,i;return e=new rn({props:{$$slots:{default:[$y]},$$scope:{ctx:t}}}),o=new wn({props:{$$slots:{default:[Ry]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function Dy(t){let e,n;return e=new ln({props:{class:"bg-foregroundDark text-accentText",$$slots:{default:[Ly]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function jy(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Dy]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new sn({props:r}),Ee.push(()=>Yt(e,"open",i)),{c(){Y(e.$$.fragment)},m(l,a){V(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Wt(()=>n=!1)),e.$set(s)},i(l){o||(w(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function Fy(t,e,n){let o;ue(t,Ne,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,Ne.set(a),n(1,i=!1),Ot.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class qy extends _e{constructor(e){super(),he(this,e,Fy,jy,pe,{})}}function By(t){let e,n,o,i,r=[{class:n=He("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=ee(l,r[a]);return{c(){e=P("input"),me(e,l)},m(a,s){O(a,e,s),e.autofocus&&e.focus(),vi(e,t[0]),o||(i=[ne(e,"input",t[17]),ne(e,"blur",t[3]),ne(e,"change",t[4]),ne(e,"click",t[5]),ne(e,"focus",t[6]),ne(e,"focusin",t[7]),ne(e,"focusout",t[8]),ne(e,"keydown",t[9]),ne(e,"keypress",t[10]),ne(e,"keyup",t[11]),ne(e,"mouseover",t[12]),ne(e,"mouseenter",t[13]),ne(e,"mouseleave",t[14]),ne(e,"paste",t[15]),ne(e,"input",t[16])],o=!0)},p(a,[s]){me(e,l=Ce(r,[s&2&&n!==(n=He("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&vi(e,a[0])},i:Ie,o:Ie,d(a){a&&M(e),o=!1,Ve(i)}}}function Hy(t,e,n){const o=["class","value"];let i=de(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a(j){ae.call(this,t,j)}function s(j){ae.call(this,t,j)}function u(j){ae.call(this,t,j)}function f(j){ae.call(this,t,j)}function c(j){ae.call(this,t,j)}function d(j){ae.call(this,t,j)}function m(j){ae.call(this,t,j)}function h(j){ae.call(this,t,j)}function p(j){ae.call(this,t,j)}function _(j){ae.call(this,t,j)}function C(j){ae.call(this,t,j)}function v(j){ae.call(this,t,j)}function T(j){ae.call(this,t,j)}function L(j){ae.call(this,t,j)}function D(){l=this.value,n(0,l)}return t.$$set=j=>{e=ee(ee({},e),Re(j)),n(2,i=de(e,o)),"class"in j&&n(1,r=j.class),"value"in j&&n(0,l=j.value)},[l,r,i,a,s,u,f,c,d,m,h,p,_,C,v,T,L,D]}class Gy extends _e{constructor(e){super(),he(this,e,Hy,By,pe,{class:1,value:0})}}function Wy(t){let e;const n=t[2].default,o=ge(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&ye(o,n,i,i[4],e?be(n,i[4],r,null):ve(i[4]),null)},i(i){e||(w(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Vy(t){let e,n;const o=[{class:He("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[Wy]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=ee(i,o[r]);return e=new kg({props:i}),e.$on("mousedown",t[3]),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:He("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&it(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function xy(t,e,n){const o=["class"];let i=de(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){ae.call(this,t,u)}return t.$$set=u=>{e=ee(ee({},e),Re(u)),n(1,i=de(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class kr extends _e{constructor(e){super(),he(this,e,xy,Vy,pe,{class:0})}}function Yy(t){let e;return{c(){e=G("Welcome to Plots!")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Uy(t){let e;return{c(){e=P("a"),e.textContent="GitHub / Learn how to play",E(e,"href","https://github.com/josephrcox/plots#how-to-play"),E(e,"class","text-accent hover:text-accent/80 text-sm mb-4 hover:underline inline-block"),E(e,"target","_blank")},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function Ky(t){let e,n,o,i;return e=new on({props:{class:"text-2xl font-semibold",$$slots:{default:[Yy]},$$scope:{ctx:t}}}),o=new Bn({props:{$$slots:{default:[Uy]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&256&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function Xy(t){let e;return{c(){e=G("Game Mode")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Jy(t){let e;return{c(){e=G("Town Name")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Zy(t){let e;return{c(){e=G("Game Settings")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Qy(t){let e;return{c(){e=G("Reset user")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function zy(t){let e;return{c(){e=G("Start game")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ev(t){let e,n=t[1].username+"",o,i,r,l,a,s,u,f,c;return l=new St({props:{variant:"outline",class:"border-accent/20 hover:bg-accent/10",$$slots:{default:[Qy]},$$scope:{ctx:t}}}),l.$on("click",t[5]),s=new St({props:{class:"bg-accent hover:bg-accent/80 text-white",$$slots:{default:[zy]},$$scope:{ctx:t}}}),s.$on("click",t[3]),{c(){e=P("span"),o=G(n),i=B(),r=P("div"),Y(l.$$.fragment),a=B(),Y(s.$$.fragment),E(e,"class","text-xs text-sidebarText/50 hover:text-sidebarText cursor-pointer"),E(r,"class","space-x-2")},m(d,m){O(d,e,m),b(e,o),O(d,i,m),O(d,r,m),V(l,r,null),b(r,a),V(s,r,null),u=!0,f||(c=ne(e,"click",t[6]),f=!0)},p(d,m){(!u||m&2)&&n!==(n=d[1].username+"")&&ce(o,n);const h={};m&256&&(h.$$scope={dirty:m,ctx:d}),l.$set(h);const p={};m&256&&(p.$$scope={dirty:m,ctx:d}),s.$set(p)},i(d){u||(w(l.$$.fragment,d),w(s.$$.fragment,d),u=!0)},o(d){S(l.$$.fragment,d),S(s.$$.fragment,d),u=!1},d(d){d&&(M(e),M(i),M(r)),x(l),x(s),f=!1,c()}}}function tv(t){let e,n,o,i,r,l,a,s,u,f,c,d,m=(t[0]==="land"?dn.land.description_title:dn.free_play.description_title)+"",h,p,_,C,v,T,L,D,j,$,I,N,q,k,y,A,R,W,F,U,K,Z;e=new rn({props:{class:"p-4 border-b border-accent/20",$$slots:{default:[Ky]},$$scope:{ctx:t}}});let te=iv;return l=new kr({props:{for:"endGoal",class:"text-sm font-medium",$$slots:{default:[Xy]},$$scope:{ctx:t}}}),C=new kr({props:{for:"townName",class:"text-sm font-medium",$$slots:{default:[Jy]},$$scope:{ctx:t}}}),T=new Gy({props:{id:"townName",class:"w-full p-2 rounded-md border border-accent/20 bg-sidebarBackground text-sidebarText focus:ring-2 focus:ring-accent/50",placeholder:"Will be randomized if left blank"}}),j=new kr({props:{class:"text-sm font-medium",$$slots:{default:[Zy]},$$scope:{ctx:t}}}),F=new wn({props:{class:"p-4 border-t border-accent/20 flex justify-between items-center",$$slots:{default:[ev]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=B(),o=P("div"),i=B(),r=P("div"),Y(l.$$.fragment),a=B(),s=P("select"),u=P("option"),u.textContent=`${dn.land.short_title}`,f=P("option"),f.textContent=`${dn.free_play.short_title}`,c=B(),d=P("p"),h=G(m),p=B(),_=P("div"),Y(C.$$.fragment),v=B(),Y(T.$$.fragment),L=B(),D=P("div"),Y(j.$$.fragment),$=B(),I=P("div"),I.innerHTML='<input type="checkbox" id="devMode" class="svelte-1fiuyps"/>',N=B(),q=P("div"),q.innerHTML=`<input type="checkbox" id="tomPetty" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="tomPetty" class="text-sm">The &#39;Tom Petty&#39; mode: If your happiness or health reaches 0, you
            lose 50% of your gold and continue the game. You won&#39;t back down.</label>`,k=B(),y=P("div"),y.innerHTML=`<input type="checkbox" id="casual" checked="" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="casual" class="text-sm">Casual game: Faster and easier overall while exposing more of the
            game mechanics.</label>`,A=B(),R=P("div"),R.innerHTML='<input type="checkbox" id="bagOfHolding" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="bagOfHolding" class="text-sm">Bag of Holding: No resource cap or need to purchase stockpiles.</label>',W=B(),Y(F.$$.fragment),u.__value="land",vi(u,u.__value),f.__value="free_play",vi(f,f.__value),E(s,"id","endGoal"),E(s,"class","w-full p-2 rounded-md border border-accent/20 bg-sidebarBackground text-sidebarText focus:ring-2 focus:ring-accent/50"),E(d,"class","text-sm text-sidebarText/80 mt-1"),E(r,"class","space-y-2"),E(_,"class","space-y-2"),E(I,"class","hidden"),E(q,"class","flex items-start space-x-2"),E(y,"class","flex items-start space-x-2"),E(R,"class","flex items-start space-x-2"),E(D,"class","space-y-4"),E(o,"class","p-4 space-y-4")},m(J,X){V(e,J,X),O(J,n,X),O(J,o,X),b(o,i),b(o,r),V(l,r,null),b(r,a),b(r,s),b(s,u),b(s,f),$l(s,t[0]),b(r,c),b(r,d),b(d,h),b(o,p),b(o,_),V(C,_,null),b(_,v),V(T,_,null),b(o,L),b(o,D),V(j,D,null),b(D,$),b(D,I),b(D,N),b(D,q),b(D,k),b(D,y),b(D,A),b(D,R),O(J,W,X),V(F,J,X),U=!0,K||(Z=ne(s,"change",t[4]),K=!0)},p(J,X){const fe={};X&256&&(fe.$$scope={dirty:X,ctx:J}),e.$set(fe);const se={};X&256&&(se.$$scope={dirty:X,ctx:J}),l.$set(se),(!U||X&1)&&$l(s,J[0]),(!U||X&1)&&m!==(m=(J[0]==="land"?dn.land.description_title:dn.free_play.description_title)+"")&&ce(h,m);const oe={};X&256&&(oe.$$scope={dirty:X,ctx:J}),C.$set(oe);const $e={};X&256&&($e.$$scope={dirty:X,ctx:J}),j.$set($e);const Fe={};X&258&&(Fe.$$scope={dirty:X,ctx:J}),F.$set(Fe)},i(J){U||(w(e.$$.fragment,J),w(te),w(l.$$.fragment,J),w(C.$$.fragment,J),w(T.$$.fragment,J),w(j.$$.fragment,J),w(F.$$.fragment,J),U=!0)},o(J){S(e.$$.fragment,J),S(te),S(l.$$.fragment,J),S(C.$$.fragment,J),S(T.$$.fragment,J),S(j.$$.fragment,J),S(F.$$.fragment,J),U=!1},d(J){J&&(M(n),M(o),M(W)),x(e,J),x(l),x(C),x(T),x(j),x(F,J),K=!1,Z()}}}function nv(t){let e,n;return e=new ln({props:{transition:_o,class:"bg-sidebarBackground text-sidebarText max-w-xl rounded-md shadow-xl border border-accent",$$slots:{default:[tv]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function ov(t){let e,n,o;function i(l){t[7](l)}let r={$$slots:{default:[nv]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new sn({props:r}),Ee.push(()=>Yt(e,"open",i)),{c(){Y(e.$$.fragment)},m(l,a){V(e,l,a),o=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,Wt(()=>n=!1)),e.$set(s)},i(l){o||(w(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}const iv=!1;function rv(t,e,n){let o,i;ue(t,pn,c=>n(1,o=c)),ue(t,qo,c=>n(2,i=c)),Ot.set(!1);function r(){const c="1",d=document.getElementById("endGoal").value,m=document.getElementById("townName").value,p=["devMode","tomPetty","casual","bagOfHolding"].filter(v=>document.getElementById(v).checked);km(c,d,m,p)}let l="free_play";const a=c=>{n(0,l=c.target.value)};function s(){Ct.set("Deleted :)"),localStorage.clear(),window.location.href=""}function u(){const c=prompt("Enter new username");if(c){let d=o;d.username=c,Sm(d)}}function f(c){t.$$.not_equal(i.visible,c)&&(i.visible=c,qo.set(i))}return[l,o,i,r,a,s,u,f]}class lv extends _e{constructor(e){super(),he(this,e,rv,ov,pe,{})}}function sv(t){let e;return{c(){e=G("Scoreboard")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function av(t){let e=t[1].description_title+"",n;return{c(){n=G(e)},m(o,i){O(o,n,i)},p:Ie,d(o){o&&M(n)}}}function uv(t){let e,n,o,i;return e=new on({props:{$$slots:{default:[sv]},$$scope:{ctx:t}}}),o=new Bn({props:{$$slots:{default:[av]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function fv(t){let e;return{c(){e=G("footer")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function cv(t){let e,n,o,i;return e=new rn({props:{$$slots:{default:[uv]},$$scope:{ctx:t}}}),o=new wn({props:{$$slots:{default:[fv]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=G(`
		hi
		`),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function dv(t){let e,n;return e=new ln({props:{$$slots:{default:[cv]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function mv(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[dv]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new sn({props:r}),Ee.push(()=>Yt(e,"open",i)),{c(){Y(e.$$.fragment)},m(l,a){V(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Wt(()=>n=!1)),e.$set(s)},i(l){o||(w(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function pv(t,e,n){let o,i;ue(t,Ne,s=>n(2,o=s)),ue(t,Ii,s=>n(0,i=s));const l=dn[o.endGoal];Pf[o.difficulty];function a(s){i=s,Ii.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class hv extends _e{constructor(e){super(),he(this,e,pv,mv,pe,{})}}function hi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _v(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Cc(t){let e,n,o;t.length!==2?(e=hi,n=(a,s)=>hi(t(a),s),o=(a,s)=>t(a)-s):(e=t===hi||t===_v?t:gv,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function gv(){return 0}function bv(t){return t===null?NaN:+t}const yv=Cc(hi),vv=yv.right;Cc(bv).center;const wv=Math.sqrt(50),kv=Math.sqrt(10),Cv=Math.sqrt(2);function ji(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=wv?10:r>=kv?5:r>=Cv?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?ji(t,e,n*2):[a,s,u]}function Tv(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?ji(e,t,n):ji(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function Vr(t,e,n){return e=+e,t=+t,n=+n,ji(t,e,n)[2]}function Sv(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?Vr(e,t,n):Vr(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function Av(t){return t}var Cr=1,Tr=2,xr=3,Ro=4,Sa=1e-6;function Iv(t){return"translate("+t+",0)"}function Mv(t){return"translate(0,"+t+")"}function Ov(t){return e=>+t(e)}function Pv(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Nv(){return!this.__axis}function Tc(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Cr||t===Ro?-1:1,f=t===Ro||t===Tr?"x":"y",c=t===Cr||t===xr?Iv:Mv;function d(m){var h=o??(e.ticks?e.ticks.apply(e,n):e.domain()),p=i??(e.tickFormat?e.tickFormat.apply(e,n):Av),_=Math.max(r,0)+a,C=e.range(),v=+C[0]+s,T=+C[C.length-1]+s,L=(e.bandwidth?Pv:Ov)(e.copy(),s),D=m.selection?m.selection():m,j=D.selectAll(".domain").data([null]),$=D.selectAll(".tick").data(h,e).order(),I=$.exit(),N=$.enter().append("g").attr("class","tick"),q=$.select("line"),k=$.select("text");j=j.merge(j.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(N),q=q.merge(N.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),k=k.merge(N.append("text").attr("fill","currentColor").attr(f,u*_).attr("dy",t===Cr?"0em":t===xr?"0.71em":"0.32em")),m!==D&&(j=j.transition(m),$=$.transition(m),q=q.transition(m),k=k.transition(m),I=I.transition(m).attr("opacity",Sa).attr("transform",function(y){return isFinite(y=L(y))?c(y+s):this.getAttribute("transform")}),N.attr("opacity",Sa).attr("transform",function(y){var A=this.parentNode.__axis;return c((A&&isFinite(A=A(y))?A:L(y))+s)})),I.remove(),j.attr("d",t===Ro||t===Tr?l?"M"+u*l+","+v+"H"+s+"V"+T+"H"+u*l:"M"+s+","+v+"V"+T:l?"M"+v+","+u*l+"V"+s+"H"+T+"V"+u*l:"M"+v+","+s+"H"+T),$.attr("opacity",1).attr("transform",function(y){return c(L(y)+s)}),q.attr(f+"2",u*r),k.attr(f,u*_).text(p),D.filter(Nv).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Tr?"start":t===Ro?"end":"middle"),D.each(function(){this.__axis=L})}return d.scale=function(m){return arguments.length?(e=m,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),d):n.slice()},d.tickValues=function(m){return arguments.length?(o=m==null?null:Array.from(m),d):o&&o.slice()},d.tickFormat=function(m){return arguments.length?(i=m,d):i},d.tickSize=function(m){return arguments.length?(r=l=+m,d):r},d.tickSizeInner=function(m){return arguments.length?(r=+m,d):r},d.tickSizeOuter=function(m){return arguments.length?(l=+m,d):l},d.tickPadding=function(m){return arguments.length?(a=+m,d):a},d.offset=function(m){return arguments.length?(s=+m,d):s},d}function Ev(t){return Tc(xr,t)}function $v(t){return Tc(Ro,t)}var Rv={value:()=>{}};function Sc(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new _i(n)}function _i(t){this._=t}function Lv(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}_i.prototype=Sc.prototype={constructor:_i,on:function(t,e){var n=this._,o=Lv(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=Dv(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=Aa(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Aa(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new _i(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function Dv(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function Aa(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=Rv,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var Yr="http://www.w3.org/1999/xhtml";const Ia={svg:"http://www.w3.org/2000/svg",xhtml:Yr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ir(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ia.hasOwnProperty(e)?{space:Ia[e],local:t}:t}function jv(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Yr&&e.documentElement.namespaceURI===Yr?e.createElement(t):e.createElementNS(n,t)}}function Fv(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ac(t){var e=ir(t);return(e.local?Fv:jv)(e)}function qv(){}function Cl(t){return t==null?qv:function(){return this.querySelector(t)}}function Bv(t){typeof t!="function"&&(t=Cl(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new At(o,this._parents)}function Hv(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Gv(){return[]}function Ic(t){return t==null?Gv:function(){return this.querySelectorAll(t)}}function Wv(t){return function(){return Hv(t.apply(this,arguments))}}function Vv(t){typeof t=="function"?t=Wv(t):t=Ic(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new At(o,i)}function Mc(t){return function(){return this.matches(t)}}function Oc(t){return function(e){return e.matches(t)}}var xv=Array.prototype.find;function Yv(t){return function(){return xv.call(this.children,t)}}function Uv(){return this.firstElementChild}function Kv(t){return this.select(t==null?Uv:Yv(typeof t=="function"?t:Oc(t)))}var Xv=Array.prototype.filter;function Jv(){return Array.from(this.children)}function Zv(t){return function(){return Xv.call(this.children,t)}}function Qv(t){return this.selectAll(t==null?Jv:Zv(typeof t=="function"?t:Oc(t)))}function zv(t){typeof t!="function"&&(t=Mc(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new At(o,this._parents)}function Pc(t){return new Array(t.length)}function ew(){return new At(this._enter||this._groups.map(Pc),this._parents)}function Fi(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Fi.prototype={constructor:Fi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function tw(t){return function(){return t}}function nw(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new Fi(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function ow(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),m;for(a=0;a<f;++a)(s=e[a])&&(d[a]=m=l.call(s,s.__data__,a,e)+"",u.has(m)?i[a]=s:u.set(m,s));for(a=0;a<c;++a)m=l.call(t,r[a],a,r)+"",(s=u.get(m))?(o[a]=s,s.__data__=r[a],u.delete(m)):n[a]=new Fi(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function iw(t){return t.__data__}function rw(t,e){if(!arguments.length)return Array.from(this,iw);var n=e?ow:nw,o=this._parents,i=this._groups;typeof t!="function"&&(t=tw(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,m=lw(t.call(f,f&&f.__data__,u,o)),h=m.length,p=a[u]=new Array(h),_=l[u]=new Array(h),C=s[u]=new Array(d);n(f,c,p,_,C,m,e);for(var v=0,T=0,L,D;v<h;++v)if(L=p[v]){for(v>=T&&(T=v+1);!(D=_[T])&&++T<h;);L._next=D||null}}return l=new At(l,o),l._enter=a,l._exit=s,l}function lw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function sw(){return new At(this._exit||this._groups.map(Pc),this._parents)}function aw(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function uw(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),m,h=0;h<c;++h)(m=u[h]||f[h])&&(d[h]=m);for(;s<i;++s)a[s]=n[s];return new At(a,this._parents)}function fw(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function cw(t){t||(t=dw);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new At(i,this._parents).order()}function dw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function mw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function pw(){return Array.from(this)}function hw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function _w(){let t=0;for(const e of this)++t;return t}function gw(){return!this.node()}function bw(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function yw(t){return function(){this.removeAttribute(t)}}function vw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ww(t,e){return function(){this.setAttribute(t,e)}}function kw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Cw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Tw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Sw(t,e){var n=ir(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?vw:yw:typeof e=="function"?n.local?Tw:Cw:n.local?kw:ww)(n,e))}function Nc(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Aw(t){return function(){this.style.removeProperty(t)}}function Iw(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Mw(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function Ow(t,e,n){return arguments.length>1?this.each((e==null?Aw:typeof e=="function"?Mw:Iw)(t,e,n??"")):co(this.node(),t)}function co(t,e){return t.style.getPropertyValue(e)||Nc(t).getComputedStyle(t,null).getPropertyValue(e)}function Pw(t){return function(){delete this[t]}}function Nw(t,e){return function(){this[t]=e}}function Ew(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function $w(t,e){return arguments.length>1?this.each((e==null?Pw:typeof e=="function"?Ew:Nw)(t,e)):this.node()[t]}function Ec(t){return t.trim().split(/^|\s+/)}function Tl(t){return t.classList||new $c(t)}function $c(t){this._node=t,this._names=Ec(t.getAttribute("class")||"")}$c.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Rc(t,e){for(var n=Tl(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function Lc(t,e){for(var n=Tl(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function Rw(t){return function(){Rc(this,t)}}function Lw(t){return function(){Lc(this,t)}}function Dw(t,e){return function(){(e.apply(this,arguments)?Rc:Lc)(this,t)}}function jw(t,e){var n=Ec(t+"");if(arguments.length<2){for(var o=Tl(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Dw:e?Rw:Lw)(n,e))}function Fw(){this.textContent=""}function qw(t){return function(){this.textContent=t}}function Bw(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Hw(t){return arguments.length?this.each(t==null?Fw:(typeof t=="function"?Bw:qw)(t)):this.node().textContent}function Gw(){this.innerHTML=""}function Ww(t){return function(){this.innerHTML=t}}function Vw(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function xw(t){return arguments.length?this.each(t==null?Gw:(typeof t=="function"?Vw:Ww)(t)):this.node().innerHTML}function Yw(){this.nextSibling&&this.parentNode.appendChild(this)}function Uw(){return this.each(Yw)}function Kw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Xw(){return this.each(Kw)}function Jw(t){var e=typeof t=="function"?t:Ac(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Zw(){return null}function Qw(t,e){var n=typeof t=="function"?t:Ac(t),o=e==null?Zw:typeof e=="function"?e:Cl(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function zw(){var t=this.parentNode;t&&t.removeChild(this)}function e2(){return this.each(zw)}function t2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function n2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function o2(t){return this.select(t?n2:t2)}function i2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function r2(t){return function(e){t.call(this,e,this.__data__)}}function l2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function s2(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function a2(t,e,n){return function(){var o=this.__on,i,r=r2(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function u2(t,e,n){var o=l2(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?a2:s2,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function Dc(t,e,n){var o=Nc(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function f2(t,e){return function(){return Dc(this,t,e)}}function c2(t,e){return function(){return Dc(this,t,e.apply(this,arguments))}}function d2(t,e){return this.each((typeof e=="function"?c2:f2)(t,e))}function*m2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var jc=[null];function At(t,e){this._groups=t,this._parents=e}function zo(){return new At([[document.documentElement]],jc)}function p2(){return this}At.prototype=zo.prototype={constructor:At,select:Bv,selectAll:Vv,selectChild:Kv,selectChildren:Qv,filter:zv,data:rw,enter:ew,exit:sw,join:aw,merge:uw,selection:p2,order:fw,sort:cw,call:mw,nodes:pw,node:hw,size:_w,empty:gw,each:bw,attr:Sw,style:Ow,property:$w,classed:jw,text:Hw,html:xw,raise:Uw,lower:Xw,append:Jw,insert:Qw,remove:e2,clone:o2,datum:i2,on:u2,dispatch:d2,[Symbol.iterator]:m2};function h2(t){return typeof t=="string"?new At([[document.querySelector(t)]],[document.documentElement]):new At([[t]],jc)}function Sl(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Fc(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function ei(){}var Yo=.7,qi=1/Yo,to="\\s*([+-]?\\d+)\\s*",Uo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_2=/^#([0-9a-f]{3,8})$/,g2=new RegExp(`^rgb\\(${to},${to},${to}\\)$`),b2=new RegExp(`^rgb\\(${Ht},${Ht},${Ht}\\)$`),y2=new RegExp(`^rgba\\(${to},${to},${to},${Uo}\\)$`),v2=new RegExp(`^rgba\\(${Ht},${Ht},${Ht},${Uo}\\)$`),w2=new RegExp(`^hsl\\(${Uo},${Ht},${Ht}\\)$`),k2=new RegExp(`^hsla\\(${Uo},${Ht},${Ht},${Uo}\\)$`),Ma={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sl(ei,Ln,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Oa,formatHex:Oa,formatHex8:C2,formatHsl:T2,formatRgb:Pa,toString:Pa});function Oa(){return this.rgb().formatHex()}function C2(){return this.rgb().formatHex8()}function T2(){return qc(this).formatHsl()}function Pa(){return this.rgb().formatRgb()}function Ln(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=_2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Na(e):n===3?new bt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?si(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?si(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=g2.exec(t))?new bt(e[1],e[2],e[3],1):(e=b2.exec(t))?new bt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=y2.exec(t))?si(e[1],e[2],e[3],e[4]):(e=v2.exec(t))?si(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=w2.exec(t))?Ra(e[1],e[2]/100,e[3]/100,1):(e=k2.exec(t))?Ra(e[1],e[2]/100,e[3]/100,e[4]):Ma.hasOwnProperty(t)?Na(Ma[t]):t==="transparent"?new bt(NaN,NaN,NaN,0):null}function Na(t){return new bt(t>>16&255,t>>8&255,t&255,1)}function si(t,e,n,o){return o<=0&&(t=e=n=NaN),new bt(t,e,n,o)}function S2(t){return t instanceof ei||(t=Ln(t)),t?(t=t.rgb(),new bt(t.r,t.g,t.b,t.opacity)):new bt}function Ur(t,e,n,o){return arguments.length===1?S2(t):new bt(t,e,n,o??1)}function bt(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}Sl(bt,Ur,Fc(ei,{brighter(t){return t=t==null?qi:Math.pow(qi,t),new bt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yo:Math.pow(Yo,t),new bt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new bt(On(this.r),On(this.g),On(this.b),Bi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ea,formatHex:Ea,formatHex8:A2,formatRgb:$a,toString:$a}));function Ea(){return`#${An(this.r)}${An(this.g)}${An(this.b)}`}function A2(){return`#${An(this.r)}${An(this.g)}${An(this.b)}${An((isNaN(this.opacity)?1:this.opacity)*255)}`}function $a(){const t=Bi(this.opacity);return`${t===1?"rgb(":"rgba("}${On(this.r)}, ${On(this.g)}, ${On(this.b)}${t===1?")":`, ${t})`}`}function Bi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function On(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function An(t){return t=On(t),(t<16?"0":"")+t.toString(16)}function Ra(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $t(t,e,n,o)}function qc(t){if(t instanceof $t)return new $t(t.h,t.s,t.l,t.opacity);if(t instanceof ei||(t=Ln(t)),!t)return new $t;if(t instanceof $t)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new $t(l,a,s,t.opacity)}function I2(t,e,n,o){return arguments.length===1?qc(t):new $t(t,e,n,o??1)}function $t(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}Sl($t,I2,Fc(ei,{brighter(t){return t=t==null?qi:Math.pow(qi,t),new $t(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yo:Math.pow(Yo,t),new $t(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new bt(Sr(t>=240?t-240:t+120,i,o),Sr(t,i,o),Sr(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new $t(La(this.h),ai(this.s),ai(this.l),Bi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Bi(this.opacity);return`${t===1?"hsl(":"hsla("}${La(this.h)}, ${ai(this.s)*100}%, ${ai(this.l)*100}%${t===1?")":`, ${t})`}`}}));function La(t){return t=(t||0)%360,t<0?t+360:t}function ai(t){return Math.max(0,Math.min(1,t||0))}function Sr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Al=t=>()=>t;function M2(t,e){return function(n){return t+n*e}}function O2(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function P2(t){return(t=+t)==1?Bc:function(e,n){return n-e?O2(e,n,t):Al(isNaN(e)?n:e)}}function Bc(t,e){var n=e-t;return n?M2(t,n):Al(isNaN(t)?e:t)}const Hi=function t(e){var n=P2(e);function o(i,r){var l=n((i=Ur(i)).r,(r=Ur(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=Bc(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function N2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function E2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $2(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=Il(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function R2(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function Et(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function L2(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Il(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var Kr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ar=new RegExp(Kr.source,"g");function D2(t){return function(){return t}}function j2(t){return function(e){return t(e)+""}}function Hc(t,e){var n=Kr.lastIndex=Ar.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=Kr.exec(t))&&(i=Ar.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Et(o,i)})),n=Ar.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?j2(s[0].x):D2(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function Il(t,e){var n=typeof e,o;return e==null||n==="boolean"?Al(e):(n==="number"?Et:n==="string"?(o=Ln(e))?(e=o,Hi):Hc:e instanceof Ln?Hi:e instanceof Date?R2:E2(e)?N2:Array.isArray(e)?$2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?L2:Et)(t,e)}function F2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Da=180/Math.PI,Xr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Gc(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*Da,skewX:Math.atan(s)*Da,scaleX:l,scaleY:a}}var ui;function q2(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Xr:Gc(e.a,e.b,e.c,e.d,e.e,e.f)}function B2(t){return t==null||(ui||(ui=document.createElementNS("http://www.w3.org/2000/svg","g")),ui.setAttribute("transform",t),!(t=ui.transform.baseVal.consolidate()))?Xr:(t=t.matrix,Gc(t.a,t.b,t.c,t.d,t.e,t.f))}function Wc(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,m,h){if(u!==c||f!==d){var p=m.push("translate(",null,e,null,n);h.push({i:p-4,x:Et(u,c)},{i:p-2,x:Et(f,d)})}else(c||d)&&m.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:Et(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:Et(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,m,h){if(u!==c||f!==d){var p=m.push(i(m)+"scale(",null,",",null,")");h.push({i:p-4,x:Et(u,c)},{i:p-2,x:Et(f,d)})}else(c!==1||d!==1)&&m.push(i(m)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(m){for(var h=-1,p=d.length,_;++h<p;)c[(_=d[h]).i]=_.x(m);return c.join("")}}}var H2=Wc(q2,"px, ","px)","deg)"),G2=Wc(B2,", ",")",")"),mo=0,Lo=0,No=0,Vc=1e3,Gi,Do,Wi=0,Dn=0,rr=0,Ko=typeof performance=="object"&&performance.now?performance:Date,xc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ml(){return Dn||(xc(W2),Dn=Ko.now()+rr)}function W2(){Dn=0}function Vi(){this._call=this._time=this._next=null}Vi.prototype=Yc.prototype={constructor:Vi,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ml():+n)+(e==null?0:+e),!this._next&&Do!==this&&(Do?Do._next=this:Gi=this,Do=this),this._call=t,this._time=n,Jr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Jr())}};function Yc(t,e,n){var o=new Vi;return o.restart(t,e,n),o}function V2(){Ml(),++mo;for(var t=Gi,e;t;)(e=Dn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--mo}function ja(){Dn=(Wi=Ko.now())+rr,mo=Lo=0;try{V2()}finally{mo=0,Y2(),Dn=0}}function x2(){var t=Ko.now(),e=t-Wi;e>Vc&&(rr-=e,Wi=t)}function Y2(){for(var t,e=Gi,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Gi=n);Do=t,Jr(o)}function Jr(t){if(!mo){Lo&&(Lo=clearTimeout(Lo));var e=t-Dn;e>24?(t<1/0&&(Lo=setTimeout(ja,t-Ko.now()-rr)),No&&(No=clearInterval(No))):(No||(Wi=Ko.now(),No=setInterval(x2,Vc)),mo=1,xc(ja))}}function Fa(t,e,n){var o=new Vi;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var U2=Sc("start","end","cancel","interrupt"),K2=[],Uc=0,qa=1,Zr=2,gi=3,Ba=4,Qr=5,bi=6;function lr(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;X2(t,n,{name:e,index:o,group:i,on:U2,tween:K2,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Uc})}function Ol(t,e){var n=Dt(t,e);if(n.state>Uc)throw new Error("too late; already scheduled");return n}function Ut(t,e){var n=Dt(t,e);if(n.state>gi)throw new Error("too late; already running");return n}function Dt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function X2(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=Yc(r,0,n.time);function r(u){n.state=qa,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,m;if(n.state!==qa)return s();for(f in o)if(m=o[f],m.name===n.name){if(m.state===gi)return Fa(l);m.state===Ba?(m.state=bi,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete o[f]):+f<e&&(m.state=bi,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete o[f])}if(Fa(function(){n.state===gi&&(n.state=Ba,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Zr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Zr){for(n.state=gi,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(m=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=m);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Qr,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===Qr&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=bi,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function J2(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>Zr&&o.state<Qr,o.state=bi,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function Z2(t){return this.each(function(){J2(this,t)})}function Q2(t,e){var n,o;return function(){var i=Ut(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function z2(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=Ut(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function ek(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=Dt(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?Q2:z2)(n,t,e))}function Pl(t,e,n){var o=t._id;return t.each(function(){var i=Ut(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Dt(i,o).value[e]}}function Kc(t,e){var n;return(typeof e=="number"?Et:e instanceof Ln?Hi:(n=Ln(e))?(e=n,Hi):Hc)(t,e)}function tk(t){return function(){this.removeAttribute(t)}}function nk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ok(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function ik(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function rk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function lk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function sk(t,e){var n=ir(t),o=n==="transform"?G2:Kc;return this.attrTween(t,typeof e=="function"?(n.local?lk:rk)(n,o,Pl(this,"attr."+t,e)):e==null?(n.local?nk:tk)(n):(n.local?ik:ok)(n,o,e))}function ak(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function uk(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function fk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&uk(t,r)),n}return i._value=e,i}function ck(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&ak(t,r)),n}return i._value=e,i}function dk(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=ir(t);return this.tween(n,(o.local?fk:ck)(o,e))}function mk(t,e){return function(){Ol(this,t).delay=+e.apply(this,arguments)}}function pk(t,e){return e=+e,function(){Ol(this,t).delay=e}}function hk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?mk:pk)(e,t)):Dt(this.node(),e).delay}function _k(t,e){return function(){Ut(this,t).duration=+e.apply(this,arguments)}}function gk(t,e){return e=+e,function(){Ut(this,t).duration=e}}function bk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?_k:gk)(e,t)):Dt(this.node(),e).duration}function yk(t,e){if(typeof e!="function")throw new Error;return function(){Ut(this,t).ease=e}}function vk(t){var e=this._id;return arguments.length?this.each(yk(e,t)):Dt(this.node(),e).ease}function wk(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ut(this,t).ease=n}}function kk(t){if(typeof t!="function")throw new Error;return this.each(wk(this._id,t))}function Ck(t){typeof t!="function"&&(t=Mc(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new en(o,this._parents,this._name,this._id)}function Tk(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,m=0;m<f;++m)(d=s[m]||u[m])&&(c[m]=d);for(;a<o;++a)l[a]=e[a];return new en(l,this._parents,this._name,this._id)}function Sk(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ak(t,e,n){var o,i,r=Sk(e)?Ol:Ut;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function Ik(t,e){var n=this._id;return arguments.length<2?Dt(this.node(),n).on.on(t):this.each(Ak(n,t,e))}function Mk(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Ok(){return this.on("end.remove",Mk(this._id))}function Pk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Cl(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,lr(u[d],e,n,d,u,Dt(f,n)));return new en(r,this._parents,e,n)}function Nk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ic(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),m,h=Dt(f,n),p=0,_=d.length;p<_;++p)(m=d[p])&&lr(m,e,n,p,d,h);r.push(d),l.push(f)}return new en(r,l,e,n)}var Ek=zo.prototype.constructor;function $k(){return new Ek(this._groups,this._parents)}function Rk(t,e){var n,o,i;return function(){var r=co(this,t),l=(this.style.removeProperty(t),co(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function Xc(t){return function(){this.style.removeProperty(t)}}function Lk(t,e,n){var o,i=n+"",r;return function(){var l=co(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function Dk(t,e,n){var o,i,r;return function(){var l=co(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),co(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function jk(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=Ut(this,t),u=s.on,f=s.value[r]==null?a||(a=Xc(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function Fk(t,e,n){var o=(t+="")=="transform"?H2:Kc;return e==null?this.styleTween(t,Rk(t,o)).on("end.style."+t,Xc(t)):typeof e=="function"?this.styleTween(t,Dk(t,o,Pl(this,"style."+t,e))).each(jk(this._id,t)):this.styleTween(t,Lk(t,o,e),n).on("end.style."+t,null)}function qk(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function Bk(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&qk(t,l,n)),o}return r._value=e,r}function Hk(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,Bk(t,e,n??""))}function Gk(t){return function(){this.textContent=t}}function Wk(t){return function(){var e=t(this);this.textContent=e??""}}function Vk(t){return this.tween("text",typeof t=="function"?Wk(Pl(this,"text",t)):Gk(t==null?"":t+""))}function xk(t){return function(e){this.textContent=t.call(this,e)}}function Yk(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&xk(i)),e}return o._value=t,o}function Uk(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Yk(t))}function Kk(){for(var t=this._name,e=this._id,n=Jc(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=Dt(s,e);lr(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new en(o,this._parents,t,n)}function Xk(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=Ut(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var Jk=0;function en(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function Jc(){return++Jk}var Xt=zo.prototype;en.prototype={constructor:en,select:Pk,selectAll:Nk,selectChild:Xt.selectChild,selectChildren:Xt.selectChildren,filter:Ck,merge:Tk,selection:$k,transition:Kk,call:Xt.call,nodes:Xt.nodes,node:Xt.node,size:Xt.size,empty:Xt.empty,each:Xt.each,on:Ik,attr:sk,attrTween:dk,style:Fk,styleTween:Hk,text:Vk,textTween:Uk,remove:Ok,tween:ek,delay:hk,duration:bk,ease:vk,easeVarying:kk,end:Xk,[Symbol.iterator]:Xt[Symbol.iterator]};function Zk(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Qk={time:null,delay:0,duration:250,ease:Zk};function zk(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function e5(t){var e,n;t instanceof en?(e=t._id,t=t._name):(e=Jc(),(n=Qk).time=Ml(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&lr(s,t,e,u,l,n||zk(s,e));return new en(o,this._parents,t,e)}zo.prototype.interrupt=Z2;zo.prototype.transition=e5;const zr=Math.PI,el=2*zr,Cn=1e-6,t5=el-Cn;function Zc(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function n5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Zc;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class o5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Zc:n5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Cn)if(!(Math.abs(c*s-u*f)>Cn)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let m=o-l,h=i-a,p=s*s+u*u,_=m*m+h*h,C=Math.sqrt(p),v=Math.sqrt(d),T=r*Math.tan((zr-Math.acos((p+d-_)/(2*C*v)))/2),L=T/v,D=T/C;Math.abs(L-1)>Cn&&this._append`L${e+L*f},${n+L*c}`,this._append`A${r},${r},0,0,${+(c*m>f*h)},${this._x1=e+D*s},${this._y1=n+D*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Cn||Math.abs(this._y1-f)>Cn)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%el+el),d>t5?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>Cn&&this._append`A${o},${o},0,${+(d>=zr)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function i5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function po(t){return t=xi(Math.abs(t)),t?t[1]:NaN}function r5(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function l5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var s5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yi(t){if(!(e=s5.exec(t)))throw new Error("invalid format: "+t);var e;return new Nl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Yi.prototype=Nl.prototype;function Nl(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Nl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function a5(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var Qc;function u5(t,e){var n=xi(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(Qc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+xi(t,Math.max(0,e+r-1))[0]}function Ha(t,e){var n=xi(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const Ga={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:i5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ha(t*100,e),r:Ha,s:u5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Wa(t){return t}var Va=Array.prototype.map,xa=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function f5(t){var e=t.grouping===void 0||t.thousands===void 0?Wa:r5(Va.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?Wa:l5(Va.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Yi(c);var d=c.fill,m=c.align,h=c.sign,p=c.symbol,_=c.zero,C=c.width,v=c.comma,T=c.precision,L=c.trim,D=c.type;D==="n"?(v=!0,D="g"):Ga[D]||(T===void 0&&(T=12),L=!0,D="g"),(_||d==="0"&&m==="=")&&(_=!0,d="0",m="=");var j=p==="$"?n:p==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",$=p==="$"?o:/[%p]/.test(D)?l:"",I=Ga[D],N=/[defgprs%]/.test(D);T=T===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function q(k){var y=j,A=$,R,W,F;if(D==="c")A=I(k)+A,k="";else{k=+k;var U=k<0||1/k<0;if(k=isNaN(k)?s:I(Math.abs(k),T),L&&(k=a5(k)),U&&+k==0&&h!=="+"&&(U=!1),y=(U?h==="("?h:a:h==="-"||h==="("?"":h)+y,A=(D==="s"?xa[8+Qc/3]:"")+A+(U&&h==="("?")":""),N){for(R=-1,W=k.length;++R<W;)if(F=k.charCodeAt(R),48>F||F>57){A=(F===46?i+k.slice(R+1):k.slice(R))+A,k=k.slice(0,R);break}}}v&&!_&&(k=e(k,1/0));var K=y.length+k.length+A.length,Z=K<C?new Array(C-K+1).join(d):"";switch(v&&_&&(k=e(Z+k,Z.length?C-A.length:1/0),Z=""),m){case"<":k=y+k+A+Z;break;case"=":k=y+Z+k+A;break;case"^":k=Z.slice(0,K=Z.length>>1)+y+k+A+Z.slice(K);break;default:k=Z+y+k+A;break}return r(k)}return q.toString=function(){return c+""},q}function f(c,d){var m=u((c=Yi(c),c.type="f",c)),h=Math.max(-8,Math.min(8,Math.floor(po(d)/3)))*3,p=Math.pow(10,-h),_=xa[8+h/3];return function(C){return m(p*C)+_}}return{format:u,formatPrefix:f}}var fi,zc,ed;c5({thousands:",",grouping:[3],currency:["$",""]});function c5(t){return fi=f5(t),zc=fi.format,ed=fi.formatPrefix,fi}function d5(t){return Math.max(0,-po(Math.abs(t)))}function m5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(po(e)/3)))*3-po(Math.abs(t)))}function p5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,po(e)-po(t))+1}function h5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function _5(t){return function(){return t}}function g5(t){return+t}var Ya=[0,1];function Xn(t){return t}function tl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:_5(isNaN(e)?NaN:.5)}function b5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function y5(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=tl(i,o),r=n(l,r)):(o=tl(o,i),r=n(r,l)),function(a){return r(o(a))}}function v5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=tl(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=vv(t,a,1,o)-1;return r[s](i[s](a))}}function w5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function k5(){var t=Ya,e=Ya,n=Il,o,i,r,l=Xn,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==Xn&&(l=b5(t[0],t[d-1])),a=d>2?v5:y5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),Et)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,g5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=F2,f()},c.clamp=function(d){return arguments.length?(l=d?!0:Xn,f()):l!==Xn},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,m){return o=d,i=m,f()}}function C5(){return k5()(Xn,Xn)}function T5(t,e,n,o){var i=Sv(t,e,n),r;switch(o=Yi(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=m5(i,l))&&(o.precision=r),ed(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=p5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=d5(i))&&(o.precision=r-(o.type==="%")*2);break}}return zc(o)}function S5(t){var e=t.domain;return t.ticks=function(n){var o=e();return Tv(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return T5(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=Vr(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function nl(){var t=C5();return t.copy=function(){return w5(t,nl())},h5.apply(t,arguments),S5(t)}function Yn(t){return function(){return t}}function A5(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new o5(e)}function I5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function td(t){this._context=t}td.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function M5(t){return new td(t)}function O5(t){return t[0]}function P5(t){return t[1]}function Ir(t,e){var n=Yn(!0),o=null,i=M5,r=null,l=A5(a);t=typeof t=="function"?t:t===void 0?O5:Yn(t),e=typeof e=="function"?e:e===void 0?P5:Yn(e);function a(s){var u,f=(s=I5(s)).length,c,d=!1,m;for(o==null&&(r=i(m=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(m)return r=null,m+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:Yn(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:Yn(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Yn(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function jo(t,e,n){this.k=t,this.x=e,this.y=n}jo.prototype={constructor:jo,scale:function(t){return t===1?this:new jo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new jo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};jo.prototype;function N5(t){let e;return{c(){e=Xi("svg"),E(e,"id","line-chart")},m(n,o){O(n,e,o)},p:Ie,i:Ie,o:Ie,d(n){n&&M(e)}}}const Ua=52;function E5(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;Ir().x((h,p)=>r(p)).y(h=>l(h)),Jo(()=>{n(1,i=h2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=nl().range([0,s]),l=nl().range([u,0]),o.length&&f()});function f(){const h=o.length>Ua?o.slice(-Ua):o;c(h),d(h),m()}function c(h){i.selectAll(".line").remove();const p=Ir().defined(C=>C>-5).x((C,v)=>r(v)).y(C=>l(C)),_=Ir().defined(C=>C<0).x((C,v)=>r(v)).y(C=>l(C));i.append("path").datum(h).attr("class","line positive").attr("d",p).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(h).attr("class","line negative").attr("d",_).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(h){const p=Math.max(0,...h),_=Math.min(0,...h);r.domain([0,h.length-1]),l.domain([_,p]).nice()}function m(h){const p=Ev(r).ticks(0),_=$v(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(p),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(_)}return t.$$set=h=>{"data"in h&&n(0,o=h.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class $5 extends _e{constructor(e){super(),he(this,e,E5,N5,pe,{data:0})}}function R5(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=G("Manage your Knowledge ("),o=G(n),i=G(" pts)")},m(r,l){O(r,e,l),O(r,o,l),O(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&ce(o,n)},d(r){r&&(M(e),M(o),M(i))}}}function L5(t){let e,n,o,i;return e=new on({props:{$$slots:{default:[R5]},$$scope:{ctx:t}}}),o=new Bn({}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&130&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function Ka(t){let e,n,o=Qa(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=P("br"),n=G(`
          (total value: $`),i=G(o),r=G(")")},m(l,a){O(l,e,a),O(l,n,a),O(l,i,a),O(l,r,a)},p(l,a){a&10&&o!==(o=Qa(l[1].townInfo.knowledge_points*l[3])+"")&&ce(i,o)},d(l){l&&(M(e),M(n),M(i),M(r))}}}function Xa(t){let e;return{c(){e=P("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
          convert.`},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Ja(t){let e,n,o;return n=new St({props:{variant:"default",$$slots:{default:[D5]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=P("div"),Y(n.$$.fragment)},m(i,r){O(i,e,r),V(n,e,null),o=!0},p(i,r){const l={};r&128&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(w(n.$$.fragment,i),o=!0)},o(i){S(n.$$.fragment,i),o=!1},d(i){i&&M(e),x(n)}}}function D5(t){let e;return{c(){e=G("Convert Knowledge to Gold")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Za(t){let e;return{c(){e=P("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function j5(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,m,h,p,_,C,v,T,L,D;e=new rn({props:{$$slots:{default:[L5]},$$scope:{ctx:t}}});let j=t[3]>0&&Ka(t);p=new $5({props:{data:t[2]}});let $=t[3]<0&&Xa(),I=t[1].hasBank&&t[3]>0&&Ja(t),N=t[1].hasBank===!1&&Za();return L=new wn({}),{c(){Y(e.$$.fragment),n=B(),o=P("span"),o.textContent="Knowledge is power, unlock it!",i=B(),r=P("div"),l=P("div"),a=G("Market Rate: "),s=P("span"),f=G(u),c=G(" gold"),m=G(`
        per Knowledge Point
        `),j&&j.c(),h=B(),Y(p.$$.fragment),_=B(),$&&$.c(),C=B(),I&&I.c(),v=B(),N&&N.c(),T=B(),Y(L.$$.fragment),E(o,"class",""),E(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),E(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(q,k){V(e,q,k),O(q,n,k),O(q,o,k),O(q,i,k),O(q,r,k),b(r,l),b(l,a),b(l,s),b(s,f),b(s,c),b(l,m),j&&j.m(l,null),b(r,h),V(p,r,null),b(r,_),$&&$.m(r,null),b(r,C),I&&I.m(r,null),b(r,v),N&&N.m(r,null),O(q,T,k),V(L,q,k),D=!0},p(q,k){const y={};k&130&&(y.$$scope={dirty:k,ctx:q}),e.$set(y),(!D||k&8)&&u!==(u=(q[3]??0)+"")&&ce(f,u),(!D||k&8&&d!==(d=q[3]<0?"text-red-500":"text-green-500"))&&E(s,"class",d),q[3]>0?j?j.p(q,k):(j=Ka(q),j.c(),j.m(l,null)):j&&(j.d(1),j=null);const A={};k&4&&(A.data=q[2]),p.$set(A),q[3]<0?$||($=Xa(),$.c(),$.m(r,C)):$&&($.d(1),$=null),q[1].hasBank&&q[3]>0?I?(I.p(q,k),k&10&&w(I,1)):(I=Ja(q),I.c(),w(I,1),I.m(r,v)):I&&(Me(),S(I,1,1,()=>{I=null}),Oe()),q[1].hasBank===!1?N||(N=Za(),N.c(),N.m(r,null)):N&&(N.d(1),N=null)},i(q){D||(w(e.$$.fragment,q),w(p.$$.fragment,q),w(I),w(L.$$.fragment,q),D=!0)},o(q){S(e.$$.fragment,q),S(p.$$.fragment,q),S(I),S(L.$$.fragment,q),D=!1},d(q){q&&(M(n),M(o),M(i),M(r),M(T)),x(e,q),j&&j.d(),x(p),$&&$.d(),I&&I.d(),N&&N.d(),x(L,q)}}}function F5(t){let e,n;return e=new ln({props:{transitionConfig:{duration:0},class:"bg-foreground text-accentText",$$slots:{default:[j5]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&142&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function q5(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[F5]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new sn({props:r}),Ee.push(()=>Yt(e,"open",i)),{c(){Y(e.$$.fragment)},m(l,a){V(e,l,a),o=!0},p(l,[a]){const s={};a&142&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],Wt(()=>n=!1)),e.$set(s)},i(l){o||(w(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function Qa(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function B5(t,e,n){let o,i;ue(t,Ne,u=>n(1,o=u)),ue(t,lo,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,Ne.set(u),localStorage.setItem(mt,JSON.stringify(u))):Ct.set("You need a bank to convert knowledge to gold.")}function s(u){i=u,lo.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class H5 extends _e{constructor(e){super(),he(this,e,B5,q5,pe,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const G5=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier.
          Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
          `,cost:5e3,duration:180,effect:t=>(t.townInfo.happiness+=100,t)},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
           We don't really know what that means, but it seems to make people healthier.
          `,cost:8e3,duration:200,effect:t=>(t.townInfo.health+=180,t.townInfo.happiness+=25,t)},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.
          The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
          `,cost:3e3,duration:60,effect:t=>t},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab.
          She hopes nobody will miss it. Your town now has some more money.
          `,cost:15e3,duration:180,effect:t=>(t.townInfo.gold+=Math.floor(Math.random()*35e3),t)},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes.
          We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:t=>(t.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*t.economyAndLaws.max_tax_rate,t)},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach.
          We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:t=>t},{id:"tornado",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather experiment caused about half of the food supply to be sucked into a tornado.
  		The only positive seems to be that the town now knows what a tornado is, and that makes us a bit smarter as a whole.`,cost:7e3,duration:150,effect:t=>(t.townInfo.knowledge_points+=3e3,t.resources.food=Math.floor(t.resources.food/2),t)},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.
          Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:t=>(t.townInfo.gold+=1e4,za("fishery",t),t)},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools.
          This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:t=>(za("schoolhouse",t),t)},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took this experiments funding and applied the town for a grant to improve education.
          The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:25e3,duration:45,effect:t=>(t.townInfo.gold+=15e4,t)},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress.
  		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:t=>(t.townInfo.happiness+=75,t)}];function za(t,e){let n=Be(t,e);for(let o=0;o<n.length;o++)Pn(n[o].x,n[o].y,e)}function W5(t){let e,n;const o=[{class:He("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=ee(i,o[r]);return e=new f0({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&15?Ce(o,[l&3&&{class:He("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&it(r[3])]):{};e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function V5(t,e,n){const o=["class","orientation","decorative"];let i=de(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=ee(ee({},e),Re(s)),n(3,i=de(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class vt extends _e{constructor(e){super(),he(this,e,V5,W5,pe,{class:0,orientation:1,decorative:2})}}function eu(t,e,n){const o=t.slice();return o[15]=e[n],o}function x5(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=G("🎉 Experiment Completed: "),o=G(n)},m(i,r){O(i,e,r),O(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&ce(o,n)},d(i){i&&(M(e),M(o))}}}function Y5(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=P("div"),o=G(n),E(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){O(i,e,r),b(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&ce(o,n)},d(i){i&&M(e)}}}function U5(t){let e,n,o,i;return e=new pc({props:{class:"text-center",$$slots:{default:[x5]},$$scope:{ctx:t}}}),o=new kc({props:{$$slots:{default:[Y5]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function K5(t){let e;return{c(){e=G("Thank the scientists")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function X5(t){let e,n;return e=new vc({props:{$$slots:{default:[K5]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function J5(t){let e,n,o,i;return e=new wc({props:{$$slots:{default:[U5]},$$scope:{ctx:t}}}),o=new vl({props:{$$slots:{default:[X5]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262144&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function Z5(t){let e,n;return e=new wl({props:{$$slots:{default:[J5]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&262146&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Q5(t){let e;return{c(){e=P("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function z5(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=P("span"),n=G("You have earned "),o=P("span"),r=G(i),l=G(" XP"),s=G(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),E(o,"class",a=t[1].lab.xp<0?"text-textDanger":"text-primaryText")},m(u,f){O(u,e,f),b(e,n),b(e,o),b(o,r),b(o,l),b(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&ce(r,i),f&2&&a!==(a=u[1].lab.xp<0?"text-textDanger":"text-primaryText")&&E(o,"class",a)},d(u){u&&M(e)}}}function e3(t){let e,n,o,i;return e=new on({props:{$$slots:{default:[Q5]},$$scope:{ctx:t}}}),o=new Bn({props:{$$slots:{default:[z5]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&262144&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function t3(t){let e;return{c(){e=G("No more experiments available")},m(n,o){O(n,e,o)},p:Ie,i:Ie,o:Ie,d(n){n&&M(e)}}}function n3(t){let e,n,o,i,r=Ye(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=nu(eu(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=P("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=B(),o=P("div");for(let s=0;s<l.length;s+=1)l[s].c();E(e,"class","select-none text-sm "),E(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){O(s,e,u),O(s,n,u),O(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=Ye(s[0]);let f;for(f=0;f<r.length;f+=1){const c=eu(s,r,f);l[f]?(l[f].p(c,u),w(l[f],1)):(l[f]=nu(c),l[f].c(),w(l[f],1),l[f].m(o,null))}for(Me(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)w(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(M(e),M(n),M(o)),st(l,s)}}}function o3(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&ou(t);return{c(){e=G("Currently running an experiment... check back in "),o=G(n),i=G(` days.
      `),a&&a.c(),r=Le()},m(s,u){O(s,e,u),O(s,o,u),O(s,i,u),a&&a.m(s,u),O(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&ce(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&w(a,1)):(a=ou(s),a.c(),w(a,1),a.m(r.parentNode,r)):a&&(Me(),S(a,1,1,()=>{a=null}),Oe())},i(s){l||(w(a),l=!0)},o(s){S(a),l=!1},d(s){s&&(M(e),M(o),M(i),M(r)),a&&a.d(s)}}}function tu(t){let e,n,o=t[15].id+"",i;return{c(){e=P("span"),n=G("// dev-"),i=G(o),E(e,"class","text-xs text-gray-400")},m(r,l){O(r,e,l),b(e,n),b(e,i)},p(r,l){l&1&&o!==(o=r[15].id+"")&&ce(i,o)},d(r){r&&M(e)}}}function i3(t){let e,n=iu(t[15].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&tu(t);return{c(){e=G("$"),o=G(n),i=G(` gold

            `),l&&l.c(),r=B()},m(a,s){O(a,e,s),O(a,o,s),O(a,i,s),l&&l.m(a,s),O(a,r,s)},p(a,s){s&1&&n!==(n=iu(a[15].cost).split(".")[0]+"")&&ce(o,n),a[1].devMode===!0?l?l.p(a,s):(l=tu(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(M(e),M(o),M(i),M(r)),l&&l.d(a)}}}function nu(t){let e,n;function o(){return t[11](t[15])}return e=new St({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[i3]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){Y(e.$$.fragment)},m(i,r){V(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&262147&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function ou(t){let e,n;return e=new St({props:{variant:"outline",$$slots:{default:[r3]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function r3(t){let e;return{c(){e=G("Complete experiment (and face the impact)")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function l3(t){let e;return{c(){e=P("span"),e.textContent="Keep in mind that not all experiments yield positive results.",E(e,"class","text-left text-textDanger")},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function s3(t){let e,n,o,i,r,l,a,s,u,f,c;e=new rn({props:{$$slots:{default:[e3]},$$scope:{ctx:t}}}),o=new vt({});const d=[o3,n3,t3],m=[];function h(p,_){return p[1].lab.active_experiment!==null?0:p[0].length>0?1:p[0].length===0?2:-1}return~(r=h(t))&&(l=m[r]=d[r](t)),s=new vt({props:{class:"mt-4"}}),f=new wn({props:{$$slots:{default:[l3]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment),i=B(),l&&l.c(),a=B(),Y(s.$$.fragment),u=B(),Y(f.$$.fragment)},m(p,_){V(e,p,_),O(p,n,_),V(o,p,_),O(p,i,_),~r&&m[r].m(p,_),O(p,a,_),V(s,p,_),O(p,u,_),V(f,p,_),c=!0},p(p,_){const C={};_&262146&&(C.$$scope={dirty:_,ctx:p}),e.$set(C);let v=r;r=h(p),r===v?~r&&m[r].p(p,_):(l&&(Me(),S(m[v],1,1,()=>{m[v]=null}),Oe()),~r?(l=m[r],l?l.p(p,_):(l=m[r]=d[r](p),l.c()),w(l,1),l.m(a.parentNode,a)):l=null);const T={};_&262144&&(T.$$scope={dirty:_,ctx:p}),f.$set(T)},i(p){c||(w(e.$$.fragment,p),w(o.$$.fragment,p),w(l),w(s.$$.fragment,p),w(f.$$.fragment,p),c=!0)},o(p){S(e.$$.fragment,p),S(o.$$.fragment,p),S(l),S(s.$$.fragment,p),S(f.$$.fragment,p),c=!1},d(p){p&&(M(n),M(i),M(a),M(u)),x(e,p),x(o,p),~r&&m[r].d(p),x(s,p),x(f,p)}}}function a3(t){let e,n;return e=new ln({props:{class:"bg-foreground text-accentText",$$slots:{default:[s3]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&262147&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function u3(t){let e,n,o,i,r;e=new kl({props:{open:t[2],$$slots:{default:[Z5]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[a3]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new sn({props:a}),Ee.push(()=>Yt(o,"open",l)),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment)},m(s,u){V(e,s,u),O(s,n,u),V(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&262146&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&262147&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],Wt(()=>i=!1)),o.$set(c)},i(s){r||(w(e.$$.fragment,s),w(o.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(o.$$.fragment,s),r=!1},d(s){s&&M(n),x(e,s),x(o,s)}}}function iu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function f3(t,e,n){let o,i;ue(t,Ne,v=>n(1,o=v)),ue(t,Qn,v=>n(3,i=v));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let v=[],T=G5.filter(L=>!o.lab.past_experiments.some(D=>D.id===L.id));if(T.length===0)return[];for(let L=0;L<3;L++){let D=T[Math.floor(Math.random()*T.length)];D.cost=Math.floor(Math.random()*(D.cost*.35)+D.cost*.8),v.push(D)}return v=v.filter((L,D)=>v.indexOf(L)===D),v=v.filter(L=>L),n(8,u=!0),v}function c(v){if(o.townInfo.gold<v.cost){Ct.set("You do not have enough gold to purchase this experiment.");return}Ae(Ne,o.townInfo.gold-=v.cost,o),Ae(Ne,o.lab.active_experiment=v,o),o.lab.past_experiments.push(v)}function d(){Ae(Qn,i=!1,i),n(2,s=!0);let v=l.find(L=>L.id===o.lab.active_experiment.id),T=v!=null?v.effect(o):o;Ae(Ne,o=T,o),Ae(Ne,o.lab.active_experiment.duration=-1,o)}function m(){let v=o;v.lab.xp+=Math.round(v.lab.active_experiment.cost*(Math.random()*2+.5)),v.lab.active_experiment=null,n(2,s=!1),Ae(Ne,o=v,o)}const h=()=>{m()},p=()=>{d()},_=v=>{v.cost<o.townInfo.gold&&c(v)};function C(v){i=v,Qn.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,m,r,u,h,p,_,C]}class c3 extends _e{constructor(e){super(),he(this,e,f3,u3,pe,{})}}function d3(t){let e,n,o,i,r,l,a,s,u,f=t[0].townInfo.name+"",c,d,m,h,p,_,C,v=t[0].townInfo.population_count+"",T,L,D,j,$,I,N,q,k,y=Math.floor(t[0].environment.day/365)+1+"",A,R,W,F,U,K,Z=Math.floor(t[0].environment.day/7)%52+1+"",te,J,X,fe,se,oe=t[1]==0?"⏩ x1":t[1]==1?"⏩ x2":"⏩ x3",$e,Fe,g,z,Q;return n=new qt({props:{text:"Pause",onOpen:t[6],styling:"fixed top-2 right-4 opacity-70 bg-gray-600"}}),D=new vt({props:{orientation:"vertical",class:"h-12 bg-gray-600 opacity-50 mx-4"}}),X=new vt({props:{orientation:"vertical",class:"h-12 bg-gray-600 opacity-50 mx-4"}}),{c(){e=P("div"),Y(n.$$.fragment),o=B(),i=P("div"),r=P("div"),l=P("div"),a=P("div"),s=P("div"),u=P("div"),c=G(f),d=B(),m=P("div"),h=P("div"),p=P("div"),_=P("span"),C=G("👥 "),T=G(v),L=B(),Y(D.$$.fragment),j=B(),$=P("div"),I=P("span"),N=P("span"),N.textContent="Year",q=B(),k=P("span"),A=G(y),R=B(),W=P("span"),F=P("span"),F.textContent="Week",U=B(),K=P("span"),te=G(Z),J=B(),Y(X.$$.fragment),fe=B(),se=P("span"),$e=G(oe),E(u,"class","cursor-pointer w-min whitespace-nowrap text-center select-none font-serif opacity-80"),E(s,"class","cursor-pointer flex flex-row justify-center text-center w-full"),E(a,"class","text-2xl flex flex-row items-center w-full text-center"),E(_,"class","text-sm text-left items-start justify-start w-min flex-nowrap text-nowrap"),E(N,"class","text-xs"),E(k,"class","font-semibold text-xs"),E(I,"class","flex flex-col"),E(F,"class","text-xs"),E(K,"class","font-semibold text-xs"),E(W,"class","flex flex-col"),E($,"class","flex flex-row justify-start gap-6 align-middle"),E(se,"class","cursor-pointer text-blue-200 noselect"),ht(se,"text-blue-200",t[1]==0),ht(se,"text-yellow-200",t[1]==1),ht(se,"text-red-200",t[1]==2),E(p,"class","flex align-middle items-center text-accentText flex-row justify-between h-max "),E(h,"class","flex flex-col align-middle w-full justify-center items-center"),E(l,"class","flex flex-col gap-2 justify-center w-full "),E(r,"class","rounded-xl w-full"),E(i,"class","flex justify-between flex-col align-middle items-center w-full"),E(e,"id","header"),E(e,"class",Fe="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-1 align-middle border-b-4 border-sidebarBackground "+(t[2].visible?"opacity-70":""))},m(ie,re){O(ie,e,re),V(n,e,null),b(e,o),b(e,i),b(i,r),b(r,l),b(l,a),b(a,s),b(s,u),b(u,c),b(l,d),b(l,m),b(m,h),b(h,p),b(p,_),b(_,C),b(_,T),b(p,L),V(D,p,null),b(p,j),b(p,$),b($,I),b(I,N),b(I,q),b(I,k),b(k,A),b($,R),b($,W),b(W,F),b(W,U),b(W,K),b(K,te),b(p,J),V(X,p,null),b(p,fe),b(p,se),b(se,$e),g=!0,z||(Q=[ne(u,"click",t[4]),ne(se,"click",t[7])],z=!0)},p(ie,[re]){const ke={};re&8&&(ke.onOpen=ie[6]),n.$set(ke),(!g||re&1)&&f!==(f=ie[0].townInfo.name+"")&&ce(c,f),(!g||re&1)&&v!==(v=ie[0].townInfo.population_count+"")&&ce(T,v),(!g||re&1)&&y!==(y=Math.floor(ie[0].environment.day/365)+1+"")&&ce(A,y),(!g||re&1)&&Z!==(Z=Math.floor(ie[0].environment.day/7)%52+1+"")&&ce(te,Z),(!g||re&2)&&oe!==(oe=ie[1]==0?"⏩ x1":ie[1]==1?"⏩ x2":"⏩ x3")&&ce($e,oe),(!g||re&2)&&ht(se,"text-blue-200",ie[1]==0),(!g||re&2)&&ht(se,"text-yellow-200",ie[1]==1),(!g||re&2)&&ht(se,"text-red-200",ie[1]==2),(!g||re&4&&Fe!==(Fe="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-1 align-middle border-b-4 border-sidebarBackground "+(ie[2].visible?"opacity-70":"")))&&E(e,"class",Fe)},i(ie){g||(w(n.$$.fragment,ie),w(D.$$.fragment,ie),w(X.$$.fragment,ie),g=!0)},o(ie){S(n.$$.fragment,ie),S(D.$$.fragment,ie),S(X.$$.fragment,ie),g=!1},d(ie){ie&&M(e),x(n),x(D),x(X),z=!1,Ve(Q)}}}function m3(t,e,n){let o,i,r,l;ue(t,Ne,m=>n(0,o=m)),ue(t,Eo,m=>n(9,i=m)),ue(t,Ze,m=>n(2,r=m)),ue(t,Ot,m=>n(3,l=m));const a=o.gameSettings.includes("casual")?[150,75,35]:[300,150,70];let s=0;Jo(()=>{o.gameSettings.includes("casual")?Ae(Eo,i=375,i):Ae(Eo,i=550,i);const m=setInterval(()=>{Ae(Ne,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(m)}});function u(){let m=prompt("Enter a new name for your town (under 200 chars)");if(m&&m.length<200&&m.length>=1){let h=o;h.townInfo.name=m,Ne.set(h),localStorage.setItem(mt,JSON.stringify(h))}}function f(){s==a.length-1?n(1,s=0):n(1,s++,s),Ae(Eo,i=a[s],i)}const c=()=>Ae(Ot,l=!0,l),d=()=>{f()};return t.$$.update=()=>{t.$$.dirty&1&&o.timeSpent>0&&hm(o.timeSpent)},[o,s,r,l,u,f,c,d]}class p3 extends _e{constructor(e){super(),he(this,e,m3,d3,pe,{})}}function h3(t){let e,n,o,i,r,l;return{c(){e=P("div"),i=B(),r=P("span"),l=G(t[4]),E(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all relative"),E(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`),E(r,"class","absolute inset-0 flex items-center justify-center text-white text-sm")},m(a,s){O(a,e,s),O(a,i,s),O(a,r,s),b(r,l)},p(a,s){s&8&&n!==(n="h-full w-full flex-1 "+a[3]+" transition-all relative")&&E(e,"class",n),s&6&&o!==(o=`transform: translateX(-${100-100*(a[2]??0)/(a[1]??1)}%)`)&&E(e,"style",o),s&16&&ce(l,a[4])},d(a){a&&(M(e),M(i),M(r))}}}function _3(t){let e,n;const o=[{class:He("relative h-6 w-full overflow-hidden  bg-black border border-gray-300",t[0])},t[5]];let i={$$slots:{default:[h3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=ee(i,o[r]);return e=new Ng({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&33?Ce(o,[l&1&&{class:He("relative h-6 w-full overflow-hidden  bg-black border border-gray-300",r[0])},l&32&&it(r[5])]):{};l&94&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function g3(t,e,n){const o=["class","max","value","color","text"];let i=de(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-accent"}=e,{text:u=void 0}=e;return t.$$set=f=>{e=ee(ee({},e),Re(f)),n(5,i=de(e,o)),"class"in f&&n(0,r=f.class),"max"in f&&n(1,l=f.max),"value"in f&&n(2,a=f.value),"color"in f&&n(3,s=f.color),"text"in f&&n(4,u=f.text)},[r,l,a,s,u,i]}class b3 extends _e{constructor(e){super(),he(this,e,g3,_3,pe,{class:0,max:1,value:2,color:3,text:4})}}function ru(t,e,n){const o=t.slice();return o[19]=e[n],o}function lu(t){let e,n=Ye({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=su(ru(t,n,i));return{c(){e=P("div");for(let i=0;i<o.length;i+=1)o[i].c();E(e,"class","confetti-holder svelte-15ksp55"),ht(e,"rounded",t[9]),ht(e,"cone",t[10]),ht(e,"no-gravity",t[11]),ht(e,"reduced-motion",t[13])},m(i,r){O(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=Ye({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=ru(i,n,l);o[l]?o[l].p(a,r):(o[l]=su(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&ht(e,"rounded",i[9]),r&1024&&ht(e,"cone",i[10]),r&2048&&ht(e,"no-gravity",i[11]),r&8192&&ht(e,"reduced-motion",i[13])},d(i){i&&M(e),st(o,i)}}}function su(t){let e;return{c(){e=P("div"),E(e,"class","confetti svelte-15ksp55"),ze(e,"--fall-distance",t[8]),ze(e,"--size",t[0]+"px"),ze(e,"--color",t[15]()),ze(e,"--skew",pt(-45,45)+"deg,"+pt(-45,45)+"deg"),ze(e,"--rotation-xyz",pt(-10,10)+", "+pt(-10,10)+", "+pt(-10,10)),ze(e,"--rotation-deg",pt(0,360)+"deg"),ze(e,"--translate-y-multiplier",pt(t[2][0],t[2][1])),ze(e,"--translate-x-multiplier",pt(t[1][0],t[1][1])),ze(e,"--scale",.1*pt(2,10)),ze(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),ze(e,"--transition-delay",pt(t[5][0],t[5][1])+"ms"),ze(e,"--transition-iteration-count",t[4]?"infinite":t[7]),ze(e,"--x-spread",1-t[12])},m(n,o){O(n,e,o)},p(n,o){o&256&&ze(e,"--fall-distance",n[8]),o&1&&ze(e,"--size",n[0]+"px"),o&4&&ze(e,"--translate-y-multiplier",pt(n[2][0],n[2][1])),o&2&&ze(e,"--translate-x-multiplier",pt(n[1][0],n[1][1])),o&24&&ze(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&ze(e,"--transition-delay",pt(n[5][0],n[5][1])+"ms"),o&144&&ze(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&ze(e,"--x-spread",1-n[12])},d(n){n&&M(e)}}}function y3(t){let e,n=!t[14]&&lu(t);return{c(){n&&n.c(),e=Le()},m(o,i){n&&n.m(o,i),O(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=lu(o),n.c(),n.m(e.parentNode,e))},i:Ie,o:Ie,d(o){o&&M(e),n&&n.d(o)}}}function pt(t,e){return Math.random()*(e-t)+t}function v3(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:h=!1}=e,{cone:p=!1}=e,{noGravity:_=!1}=e,{xSpread:C=.15}=e,{destroyOnComplete:v=!0}=e,{disableForReducedMotion:T=!1}=e,L=!1;Jo(()=>{!v||a||d=="infinite"||setTimeout(()=>n(14,L=!0),(l+s[1])*d)});function D(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(pt(u[0],u[1]))}, 75%, 50%)`}return t.$$set=j=>{"size"in j&&n(0,o=j.size),"x"in j&&n(1,i=j.x),"y"in j&&n(2,r=j.y),"duration"in j&&n(3,l=j.duration),"infinite"in j&&n(4,a=j.infinite),"delay"in j&&n(5,s=j.delay),"colorRange"in j&&n(16,u=j.colorRange),"colorArray"in j&&n(17,f=j.colorArray),"amount"in j&&n(6,c=j.amount),"iterationCount"in j&&n(7,d=j.iterationCount),"fallDistance"in j&&n(8,m=j.fallDistance),"rounded"in j&&n(9,h=j.rounded),"cone"in j&&n(10,p=j.cone),"noGravity"in j&&n(11,_=j.noGravity),"xSpread"in j&&n(12,C=j.xSpread),"destroyOnComplete"in j&&n(18,v=j.destroyOnComplete),"disableForReducedMotion"in j&&n(13,T=j.disableForReducedMotion)},[o,i,r,l,a,s,c,d,m,h,p,_,C,T,L,D,u,f,v]}class mn extends _e{constructor(e){super(),he(this,e,v3,y3,pe,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function au(t){let e,n,o,i,r,l,a,s;return e=new mn({props:{cone:!0,x:[-.5,.5]}}),o=new mn({props:{cone:!0,amount:10,x:[-1,-.4],y:[.25,.75],rounded:!0,size:15}}),r=new mn({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new mn({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment),i=B(),Y(r.$$.fragment),l=B(),Y(a.$$.fragment)},m(u,f){V(e,u,f),O(u,n,f),V(o,u,f),O(u,i,f),V(r,u,f),O(u,l,f),V(a,u,f),s=!0},i(u){s||(w(e.$$.fragment,u),w(o.$$.fragment,u),w(r.$$.fragment,u),w(a.$$.fragment,u),s=!0)},o(u){S(e.$$.fragment,u),S(o.$$.fragment,u),S(r.$$.fragment,u),S(a.$$.fragment,u),s=!1},d(u){u&&(M(n),M(i),M(l)),x(e,u),x(o,u),x(r,u),x(a,u)}}}function w3(t){let e,n,o,i,r,l=Rt(t[1].goldReward,!1)+"",a,s,u,f=t[1].message+"",c,d,m,h=t[3]&&t[2].currentTutorialStep==t[0]&&au();return{c(){e=P("div"),h&&h.c(),n=B(),o=P("span"),i=P("span"),r=G("💰"),a=G(l),s=B(),u=P("span"),c=G(f),E(i,"class","text-[10px] opacity-100 font-mono"),E(o,"class","flex flex-col text-start"),E(e,"class",d="text-sm flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(t[2].currentTutorialStep==t[0]?"opacity-100":t[1].isComplete(t[2])?"opacity-100 text-green-600":"opacity-50"))},m(p,_){O(p,e,_),h&&h.m(e,null),b(e,n),b(e,o),b(o,i),b(i,r),b(i,a),b(o,s),b(o,u),b(u,c),m=!0},p(p,[_]){p[3]&&p[2].currentTutorialStep==p[0]?h?_&13&&w(h,1):(h=au(),h.c(),w(h,1),h.m(e,n)):h&&(Me(),S(h,1,1,()=>{h=null}),Oe()),(!m||_&2)&&l!==(l=Rt(p[1].goldReward,!1)+"")&&ce(a,l),(!m||_&2)&&f!==(f=p[1].message+"")&&ce(c,f),(!m||_&7&&d!==(d="text-sm flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(p[2].currentTutorialStep==p[0]?"opacity-100":p[1].isComplete(p[2])?"opacity-100 text-green-600":"opacity-50")))&&E(e,"class",d)},i(p){m||(w(h),m=!0)},o(p){S(h),m=!1},d(p){p&&M(e),h&&h.d()}}}function k3(t,e,n){let o,i;ue(t,Ne,a=>n(2,o=a)),ue(t,Bo,a=>n(3,i=a));let{index:r}=e,{step:l}=e;return t.$$set=a=>{"index"in a&&n(0,r=a.index),"step"in a&&n(1,l=a.step)},[r,l,o,i]}class nd extends _e{constructor(e){super(),he(this,e,k3,w3,pe,{index:0,step:1})}}function uu(t,e,n){const o=t.slice();return o[16]=e[n],o[18]=n,o}function fu(t,e,n){const o=t.slice();return o[19]=e[n].icon,o[20]=e[n].name,o[21]=e[n].value,o[22]=e[n].rate,o}function cu(t,e,n){const o=t.slice();return o[25]=e[n],o}function du(t,e,n){const o=t.slice();return o[20]=e[n].name,o[21]=e[n].value,o[28]=e[n].modifier,o[29]=e[n].color,o[30]=e[n].hover,o[31]=e[n].description,o[32]=e[n].max,o}function C3(t){let e,n=t[20]+"",o,i,r,l;return r=new b3({props:{value:t[21],max:t[32]??300,class:"min-w-[80px] max-w-[80px] ",color:t[29],text:`${ot(t[21],0)} / ${ot(t[32],0)}`}}),{c(){e=P("span"),o=G(n),i=B(),Y(r.$$.fragment),E(e,"class","text-md pr-2")},m(a,s){O(a,e,s),b(e,o),O(a,i,s),V(r,a,s),l=!0},p(a,s){(!l||s[0]&64)&&n!==(n=a[20]+"")&&ce(o,n);const u={};s[0]&64&&(u.value=a[21]),s[0]&64&&(u.max=a[32]??300),s[0]&64&&(u.color=a[29]),s[0]&64&&(u.text=`${ot(a[21],0)} / ${ot(a[32],0)}`),r.$set(u)},i(a){l||(w(r.$$.fragment,a),l=!0)},o(a){S(r.$$.fragment,a),l=!1},d(a){a&&(M(e),M(i)),x(r,a)}}}function mu(t){let e,n;return e=new wo({props:{class:"rounded-2xl text-white "+(t[29]??t[10](t[21])),$$slots:{default:[T3]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i[0]&64&&(r.class="rounded-2xl text-white "+(o[29]??o[10](o[21]))),i[0]&64|i[1]&16&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function T3(t){let e,n,o=t[20]+"",i,r,l=Rt(t[21],!1)+"",a,s,u=t[32]?`out of ${t[32]}`:"",f,c,d,m,h,p=t[31]+"",_;return d=new vt({props:{class:"mb-2 mt-1"}}),{c(){e=P("div"),n=P("span"),i=G(o),r=G(": "),a=G(l),s=B(),f=G(u),c=B(),Y(d.$$.fragment),m=B(),h=P("span"),E(n,"class","text-md"),E(e,"class","flex flex-col justify-between max-w-48")},m(C,v){O(C,e,v),b(e,n),b(n,i),b(n,r),b(n,a),b(n,s),b(n,f),b(e,c),V(d,e,null),b(e,m),b(e,h),h.innerHTML=p,_=!0},p(C,v){(!_||v[0]&64)&&o!==(o=C[20]+"")&&ce(i,o),(!_||v[0]&64)&&l!==(l=Rt(C[21],!1)+"")&&ce(a,l),(!_||v[0]&64)&&u!==(u=C[32]?`out of ${C[32]}`:"")&&ce(f,u),(!_||v[0]&64)&&p!==(p=C[31]+"")&&(h.innerHTML=p)},i(C){_||(w(d.$$.fragment,C),_=!0)},o(C){S(d.$$.fragment,C),_=!1},d(C){C&&M(e),x(d)}}}function S3(t){let e,n,o,i;e=new Co({props:{class:"w-full flex flex-row align-middle justify-between text-sm filter hover:brightness-110",$$slots:{default:[C3]},$$scope:{ctx:t}}});let r=t[30]&&mu(t);return{c(){Y(e.$$.fragment),n=B(),r&&r.c(),o=Le()},m(l,a){V(e,l,a),O(l,n,a),r&&r.m(l,a),O(l,o,a),i=!0},p(l,a){const s={};a[0]&64|a[1]&16&&(s.$$scope={dirty:a,ctx:l}),e.$set(s),l[30]?r?(r.p(l,a),a[0]&64&&w(r,1)):(r=mu(l),r.c(),w(r,1),r.m(o.parentNode,o)):r&&(Me(),S(r,1,1,()=>{r=null}),Oe())},i(l){i||(w(e.$$.fragment,l),w(r),i=!0)},o(l){S(e.$$.fragment,l),S(r),i=!1},d(l){l&&(M(n),M(o)),x(e,l),r&&r.d(l)}}}function pu(t){let e,n,o,i;return n=new ko({props:{openDelay:400,closeDelay:0,$$slots:{default:[S3]},$$scope:{ctx:t}}}),{c(){e=P("div"),Y(n.$$.fragment),o=B(),E(e,"class","flex flex-col gap-1")},m(r,l){O(r,e,l),V(n,e,null),b(e,o),i=!0},p(r,l){const a={};l[0]&64|l[1]&16&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(w(n.$$.fragment,r),i=!0)},o(r){S(n.$$.fragment,r),i=!1},d(r){r&&M(e),x(n)}}}function A3(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,p,_,C,v,T,L,D,j=t[1].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"",$;return{c(){e=P("div"),n=G(`ℹ️ Resources are generated from plots. Generation rate can be
            increased by raising the productivity of the town, at the cost of
            some happiness.
            `),o=P("br"),i=B(),r=P("br"),l=G(`
            There is also a slight bit of randomness as townspeople aren't robots.
            `),a=P("br"),s=B(),u=P("br"),f=B(),c=P("span"),c.textContent="Stockpile plots",d=G(` increase the maximum
            amount of resources you can store.
            `),m=P("br"),h=B(),p=P("br"),_=G(`
            If the cap is 500, then you can store 500 of each resource before the
            cap is reached.
            `),C=P("br"),v=G(`
            Capacity is increased by 2,000 per Stockpile plot.
            `),T=P("br"),L=B(),D=P("span"),$=G(j),E(c,"class","font-bold"),E(D,"class","text-red-800 font-bold"),E(e,"class","text-sm")},m(I,N){O(I,e,N),b(e,n),b(e,o),b(e,i),b(e,r),b(e,l),b(e,a),b(e,s),b(e,u),b(e,f),b(e,c),b(e,d),b(e,m),b(e,h),b(e,p),b(e,_),b(e,C),b(e,v),b(e,T),b(e,L),b(e,D),b(D,$)},p(I,N){N[0]&2&&j!==(j=I[1].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"")&&ce($,j)},d(I){I&&M(e)}}}function I3(t){let e,n,o,i=t[1].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${Rt(t[1].resource_capacity,!1)}`,r,l,a,s,u;return s=new wo({props:{class:"text-sm max-h-[200px] overflow-y-scroll",$$slots:{default:[A3]},$$scope:{ctx:t}}}),{c(){e=P("h1"),n=G(`Resources

          `),o=P("div"),r=G(i),a=B(),Y(s.$$.fragment),E(o,"class",l="text-xs w-full text-center mb-2 cursor-pointer "+(t[2]==!0?"text-textDanger animate-[wiggle_0.5s_ease-in-out_infinite] font-bold":"")+" "+(t[1].gameSettings.includes("bagOfHolding")?"opacity-30":"")),E(e,"class","text-lg w-full text-center pb-2")},m(f,c){O(f,e,c),b(e,n),b(e,o),b(o,r),O(f,a,c),V(s,f,c),u=!0},p(f,c){(!u||c[0]&2)&&i!==(i=f[1].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${Rt(f[1].resource_capacity,!1)}`)&&ce(r,i),(!u||c[0]&6&&l!==(l="text-xs w-full text-center mb-2 cursor-pointer "+(f[2]==!0?"text-textDanger animate-[wiggle_0.5s_ease-in-out_infinite] font-bold":"")+" "+(f[1].gameSettings.includes("bagOfHolding")?"opacity-30":"")))&&E(o,"class",l);const d={};c[0]&2|c[1]&16&&(d.$$scope={dirty:c,ctx:f}),s.$set(d)},i(f){u||(w(s.$$.fragment,f),u=!0)},o(f){S(s.$$.fragment,f),u=!1},d(f){f&&(M(e),M(a)),x(s,f)}}}function M3(t){let e,n;return e=new Co({props:{$$slots:{default:[I3]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&16&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function O3(t){let e,n,o=t[22]+"",i;return{c(){e=P("span"),n=G("+"),i=G(o),E(e,"class","")},m(r,l){O(r,e,l),b(e,n),b(e,i)},p(r,l){l[0]&32&&o!==(o=r[22]+"")&&ce(i,o)},d(r){r&&M(e)}}}function P3(t){let e;return{c(){e=P("span")},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function N3(t){let e,n=t[22]+"",o;return{c(){e=P("span"),o=G(n),E(e,"class","text-textDanger")},m(i,r){O(i,e,r),b(e,o)},p(i,r){r[0]&32&&n!==(n=i[22]+"")&&ce(o,n)},d(i){i&&M(e)}}}function E3(t){let e,n,o=t[22]+"",i;return{c(){e=P("span"),n=G("+"),i=G(o),E(e,"class","text-textHappy")},m(r,l){O(r,e,l),b(e,n),b(e,i)},p(r,l){l[0]&32&&o!==(o=r[22]+"")&&ce(i,o)},d(r){r&&M(e)}}}function $3(t){let e;return{c(){e=P("span"),e.textContent="⚠️ CAP",E(e,"class","text-textDanger")},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function R3(t){let e;return{c(){e=P("span"),E(e,"class","display-none")},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function L3(t){let e,n,o=t[22]+"",i,r;return{c(){e=P("span"),n=G("+"),i=G(o),r=G(" (weekly)"),E(e,"class","text-gray-600")},m(l,a){O(l,e,a),b(e,n),b(e,i),b(e,r)},p(l,a){a[0]&32&&o!==(o=l[22]+"")&&ce(i,o)},d(l){l&&M(e)}}}function D3(t){let e,n=t[22]+"",o,i;return{c(){e=P("span"),o=G(n),i=G(" (weekly)"),E(e,"class","text-textDanger")},m(r,l){O(r,e,l),b(e,o),b(e,i)},p(r,l){l[0]&32&&n!==(n=r[22]+"")&&ce(o,n)},d(r){r&&M(e)}}}function j3(t){let e,n,o=t[22]+"",i,r;return{c(){e=P("span"),n=G("+"),i=G(o),r=G(" (weekly)"),E(e,"class","text-textHappy")},m(l,a){O(l,e,a),b(e,n),b(e,i),b(e,r)},p(l,a){a[0]&32&&o!==(o=l[22]+"")&&ce(i,o)},d(l){l&&M(e)}}}function hu(t){let e,n,o,i,r,l;e=new vt({props:{class:"bg-gray-400"}});let a=Ye(t[9](t[20])),s=[];for(let u=0;u<a.length;u+=1)s[u]=_u(cu(t,a,u));return{c(){Y(e.$$.fragment),n=B(),o=P("span"),o.textContent="Required for",i=B(),r=P("div");for(let u=0;u<s.length;u+=1)s[u].c();E(o,"class","text-sm font-semibold"),E(r,"class","grid grid-cols-3 justify-between")},m(u,f){V(e,u,f),O(u,n,f),O(u,o,f),O(u,i,f),O(u,r,f);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(r,null);l=!0},p(u,f){if(f[0]&544){a=Ye(u[9](u[20]));let c;for(c=0;c<a.length;c+=1){const d=cu(u,a,c);s[c]?s[c].p(d,f):(s[c]=_u(d),s[c].c(),s[c].m(r,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(w(e.$$.fragment,u),l=!0)},o(u){S(e.$$.fragment,u),l=!1},d(u){u&&(M(n),M(o),M(i),M(r)),x(e,u),st(s,u)}}}function _u(t){let e,n=t[25]+"",o;return{c(){e=P("span"),o=G(n),E(e,"class","text-xs pr-3")},m(i,r){O(i,e,r),b(e,o)},p(i,r){r[0]&32&&n!==(n=i[25]+"")&&ce(o,n)},d(i){i&&M(e)}}}function F3(t){let e,n,o,i=t[19]+"",r,l,a=no(t[20])+"",s,u,f,c=t[9](t[20]).length>0,d;function m(C,v){return C[22]>0?j3:C[22]<0?D3:C[22]!=null?L3:R3}let h=m(t),p=h(t),_=c&&hu(t);return{c(){e=P("div"),n=P("div"),o=P("span"),r=G(i),l=B(),s=G(a),u=B(),p.c(),f=B(),_&&_.c(),E(o,"class","text-md font-bold"),E(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit rounded-lg text-black")},m(C,v){O(C,e,v),b(e,n),b(n,o),b(o,r),b(o,l),b(o,s),b(n,u),p.m(n,null),b(e,f),_&&_.m(e,null),d=!0},p(C,v){(!d||v[0]&32)&&i!==(i=C[19]+"")&&ce(r,i),(!d||v[0]&32)&&a!==(a=no(C[20])+"")&&ce(s,a),h===(h=m(C))&&p?p.p(C,v):(p.d(1),p=h(C),p&&(p.c(),p.m(n,null))),v[0]&32&&(c=C[9](C[20]).length>0),c?_?(_.p(C,v),v[0]&32&&w(_,1)):(_=hu(C),_.c(),w(_,1),_.m(e,null)):_&&(Me(),S(_,1,1,()=>{_=null}),Oe())},i(C){d||(w(_),d=!0)},o(C){S(_),d=!1},d(C){C&&M(e),p.d(),_&&_.d()}}}function q3(t){let e,n=t[19]+"",o,i,r=Rt(parseInt(t[21]),!1)+"",l,a,s,u,f,c;function d(p,_){return p[21]>=p[1].resource_capacity&&p[20]!="gold"?$3:p[22]>0?E3:p[22]<0?N3:p[22]==null?P3:O3}let m=d(t),h=m(t);return f=new wo({props:{$$slots:{default:[F3]},$$scope:{ctx:t}}}),{c(){e=P("span"),o=G(n),i=B(),l=G(r),a=B(),h.c(),u=B(),Y(f.$$.fragment),E(e,"class",s="flex flex-row justify-between text-sm "+(t[21]<=0?"text-textDanger font-semibold":""))},m(p,_){O(p,e,_),b(e,o),b(e,i),b(e,l),b(e,a),h.m(e,null),O(p,u,_),V(f,p,_),c=!0},p(p,_){(!c||_[0]&32)&&n!==(n=p[19]+"")&&ce(o,n),(!c||_[0]&32)&&r!==(r=Rt(parseInt(p[21]),!1)+"")&&ce(l,r),m===(m=d(p))&&h?h.p(p,_):(h.d(1),h=m(p),h&&(h.c(),h.m(e,null))),(!c||_[0]&32&&s!==(s="flex flex-row justify-between text-sm "+(p[21]<=0?"text-textDanger font-semibold":"")))&&E(e,"class",s);const C={};_[0]&32|_[1]&16&&(C.$$scope={dirty:_,ctx:p}),f.$set(C)},i(p){c||(w(f.$$.fragment,p),c=!0)},o(p){S(f.$$.fragment,p),c=!1},d(p){p&&(M(e),M(u)),h.d(),x(f,p)}}}function B3(t){let e,n,o;return e=new Co({props:{$$slots:{default:[q3]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=B()},m(i,r){V(e,i,r),O(i,n,r),o=!0},p(i,r){const l={};r[0]&34|r[1]&16&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(w(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){i&&M(n),x(e,i)}}}function gu(t){let e,n;return e=new ko({props:{openDelay:400,closeDelay:0,$$slots:{default:[B3]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i[0]&34|i[1]&16&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function bu(t){let e,n,o,i,r,l,a,s;return e=new mn({props:{cone:!0,x:[-.5,.5]}}),o=new mn({props:{cone:!0,amount:50,x:[-1,-.4],y:[.25,.75],rounded:!0,size:15}}),r=new mn({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new mn({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment),i=B(),Y(r.$$.fragment),l=B(),Y(a.$$.fragment)},m(u,f){V(e,u,f),O(u,n,f),V(o,u,f),O(u,i,f),V(r,u,f),O(u,l,f),V(a,u,f),s=!0},i(u){s||(w(e.$$.fragment,u),w(o.$$.fragment,u),w(r.$$.fragment,u),w(a.$$.fragment,u),s=!0)},o(u){S(e.$$.fragment,u),S(o.$$.fragment,u),S(r.$$.fragment,u),S(a.$$.fragment,u),s=!1},d(u){u&&(M(n),M(i),M(l)),x(e,u),x(o,u),x(r,u),x(a,u)}}}function yu(t){let e,n=t[3]?`Hide ${t[4]} completed`:`Show ${t[4]} completed`,o;return{c(){e=P("span"),o=G(n),E(e,"class","text-xs opacity-65 cursor-pointer pb-2")},m(i,r){O(i,e,r),b(e,o)},p(i,r){r[0]&24&&n!==(n=i[3]?`Hide ${i[4]} completed`:`Show ${i[4]} completed`)&&ce(o,n)},d(i){i&&M(e)}}}function H3(t){let e,n;return e=new nd({props:{index:t[18],step:t[16]}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function G3(t){let e,n;return e=new nd({props:{index:t[18],step:t[16]}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function vu(t){let e,n,o,i,r;const l=[G3,H3],a=[];function s(u,f){return f[0]&2&&(e=null),u[3]||u[18]==u[1].currentTutorialStep?0:(e==null&&(e=!u[16].isComplete(u[1])),e?1:-1)}return~(n=s(t,[-1,-1]))&&(o=a[n]=l[n](t)),{c(){o&&o.c(),i=Le()},m(u,f){~n&&a[n].m(u,f),O(u,i,f),r=!0},p(u,f){let c=n;n=s(u,f),n!==c&&(o&&(Me(),S(a[c],1,1,()=>{a[c]=null}),Oe()),~n?(o=a[n],o||(o=a[n]=l[n](u),o.c()),w(o,1),o.m(i.parentNode,i)):o=null)},i(u){r||(w(o),r=!0)},o(u){S(o),r=!1},d(u){u&&M(i),~n&&a[n].d(u)}}}function W3(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,p,_,C,v,T,L,D,j,$,I,N,q=Ye(t[6]),k=[];for(let J=0;J<q.length;J+=1)k[J]=pu(du(t,q,J));const y=J=>S(k[J],1,1,()=>{k[J]=null});s=new ko({props:{openDelay:400,closeDelay:0,$$slots:{default:[M3]},$$scope:{ctx:t}}});let A=Ye(t[5]),R=[];for(let J=0;J<A.length;J+=1)R[J]=gu(fu(t,A,J));const W=J=>S(R[J],1,1,()=>{R[J]=null});let F=t[8]&&bu(),U=t[1].currentTutorialStep>0&&yu(t),K=Ye(zn),Z=[];for(let J=0;J<K.length;J+=1)Z[J]=vu(uu(t,K,J));const te=J=>S(Z[J],1,1,()=>{Z[J]=null});return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("h1"),i.textContent="Stats",r=B();for(let J=0;J<k.length;J+=1)k[J].c();l=B(),a=P("div"),Y(s.$$.fragment),u=B(),f=P("div"),c=B(),d=P("div"),m=P("div");for(let J=0;J<R.length;J+=1)R[J].c();h=B(),p=P("div"),_=P("div"),F&&F.c(),C=B(),v=P("h1"),v.textContent="Milestones",T=B(),U&&U.c(),L=B(),D=P("div");for(let J=0;J<Z.length;J+=1)Z[J].c();E(i,"class","text-lg w-full text-center pb-1"),E(o,"class","flex flex-col rounded-xl gap-2 w-full"),E(n,"class","flex flex-row w-full pb-6"),E(a,"class","flex flex-row justify-center"),E(f,"class","w-[full] flex flex-row justify-center"),E(m,"class","flex flex-col text-md text-nowrap gap-2"),E(v,"class","text-lg w-full text-center"),E(_,"class","text-lg w-full text-center noselect flex flex-col no-select"),E(D,"class","scroll overflow-y-scroll"),E(d,"class","flex flex-col gap-4 h-full"),E(e,"class",j="bg-sidebarBackground w-[220px] text-sidebarText border-foreground border-4 "+(t[7].visible&&!t[0]?"opacity-0":"")+" z-10 rounded-xl px-2 pt-2 transition-all ease-in-out duration-150 overflow-y-scroll scroll "+(t[0]?"bottom-4 pb-48 fixed right-3 h-2/3":"fixed right-3 top-16 sidebar bottom-4"))},m(J,X){O(J,e,X),b(e,n),b(n,o),b(o,i),b(o,r);for(let fe=0;fe<k.length;fe+=1)k[fe]&&k[fe].m(o,null);b(e,l),b(e,a),V(s,a,null),b(e,u),b(e,f),b(e,c),b(e,d),b(d,m);for(let fe=0;fe<R.length;fe+=1)R[fe]&&R[fe].m(m,null);b(d,h),b(d,p),b(p,_),F&&F.m(_,null),b(_,C),b(_,v),b(_,T),U&&U.m(_,null),b(p,L),b(p,D);for(let fe=0;fe<Z.length;fe+=1)Z[fe]&&Z[fe].m(D,null);$=!0,I||(N=ne(_,"click",t[13]),I=!0)},p(J,X){if(X[0]&1088){q=Ye(J[6]);let se;for(se=0;se<q.length;se+=1){const oe=du(J,q,se);k[se]?(k[se].p(oe,X),w(k[se],1)):(k[se]=pu(oe),k[se].c(),w(k[se],1),k[se].m(o,null))}for(Me(),se=q.length;se<k.length;se+=1)y(se);Oe()}const fe={};if(X[0]&6|X[1]&16&&(fe.$$scope={dirty:X,ctx:J}),s.$set(fe),X[0]&546){A=Ye(J[5]);let se;for(se=0;se<A.length;se+=1){const oe=fu(J,A,se);R[se]?(R[se].p(oe,X),w(R[se],1)):(R[se]=gu(oe),R[se].c(),w(R[se],1),R[se].m(m,null))}for(Me(),se=A.length;se<R.length;se+=1)W(se);Oe()}if(J[8]?F?X[0]&256&&w(F,1):(F=bu(),F.c(),w(F,1),F.m(_,C)):F&&(Me(),S(F,1,1,()=>{F=null}),Oe()),J[1].currentTutorialStep>0?U?U.p(J,X):(U=yu(J),U.c(),U.m(_,null)):U&&(U.d(1),U=null),X[0]&10){K=Ye(zn);let se;for(se=0;se<K.length;se+=1){const oe=uu(J,K,se);Z[se]?(Z[se].p(oe,X),w(Z[se],1)):(Z[se]=vu(oe),Z[se].c(),w(Z[se],1),Z[se].m(D,null))}for(Me(),se=K.length;se<Z.length;se+=1)te(se);Oe()}(!$||X[0]&129&&j!==(j="bg-sidebarBackground w-[220px] text-sidebarText border-foreground border-4 "+(J[7].visible&&!J[0]?"opacity-0":"")+" z-10 rounded-xl px-2 pt-2 transition-all ease-in-out duration-150 overflow-y-scroll scroll "+(J[0]?"bottom-4 pb-48 fixed right-3 h-2/3":"fixed right-3 top-16 sidebar bottom-4")))&&E(e,"class",j)},i(J){if(!$){for(let X=0;X<q.length;X+=1)w(k[X]);w(s.$$.fragment,J);for(let X=0;X<A.length;X+=1)w(R[X]);w(F);for(let X=0;X<K.length;X+=1)w(Z[X]);$=!0}},o(J){k=k.filter(Boolean);for(let X=0;X<k.length;X+=1)S(k[X]);S(s.$$.fragment,J),R=R.filter(Boolean);for(let X=0;X<R.length;X+=1)S(R[X]);S(F),Z=Z.filter(Boolean);for(let X=0;X<Z.length;X+=1)S(Z[X]);$=!1},d(J){J&&M(e),st(k,J),x(s),st(R,J),F&&F.d(),U&&U.d(),st(Z,J),I=!1,N()}}}function V3(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function wu(t){let e=0;for(let n=0;n<t.plots.length;n++)for(let o=0;o<t.plots[n].length;o++)t.plots[n][o].active==!0&&t.plots[n][o].type>-1&&e++;return e}function x3(){const t=new Audio("/alert.mp3");t.volume=.5,t.play().catch(e=>console.log("Error playing sound:",e))}function Y3(t,e,n){let o,i,r;ue(t,Ne,T=>n(1,o=T)),ue(t,Ze,T=>n(7,i=T)),ue(t,Bo,T=>n(8,r=T));let l=!1,a=!1,s=0,u=0,f=!1,{mini:c=!1}=e,d=[];Be("city_hall",o).length>0&&d.push({icon:"🧑‍⚖️",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy});function m(T){let L=[];for(let D=0;D<le.length;D++)(T!="knowledge"&&le[D].requirements.resources[T]>0||T=="power"&&le[D].active_costs.power>0||T=="knowledge"&&le[D].requirements.knowledge>0)&&L.push(le[D].title);return L}function h(T){return V3(T)?m(T):[]}let p;const _=T=>T===1?"bg-green-500":T>.9?"bg-yellow-500":"bg-red-500",C=T=>T>149?"bg-green-500":T>99?"bg-yellow-500":"bg-red-500",v=()=>{n(3,a=!a)};return t.$$set=T=>{"mini"in T&&n(0,c=T.mini)},t.$$.update=()=>{if(t.$$.dirty[0]&2&&n(4,s=zn.filter(T=>T.isComplete(o)).length),t.$$.dirty[0]&2&&n(5,d=[{icon:"💰",name:"gold",value:o.townInfo.gold,rate:o.economyAndLaws.weeklyProfit},{icon:"🥕",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"🪵",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"🪨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"🧠",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"🧲",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"🔋",name:"power",value:o.resources.power,rate:null}]),t.$$.dirty[0]&2&&n(6,p=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:o.townInfo.happiness,modifier:o.modifiers.happiness,color:C(o.townInfo.happiness),hover:!0,max:300},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:o.townInfo.health,modifier:o.modifiers.health,color:C(o.townInfo.health),hover:!0,max:300},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:o.townInfo.community,modifier:o.modifiers.community,color:C(o.townInfo.community),hover:!0,max:300},{name:"Employment",description:"The number of people employed in your town. Unemployed people are more likely to leave.",value:o.townInfo.employees,modifier:null,color:_(o.townInfo.employees/o.townInfo.population_count),hover:!0,max:o.townInfo.population_count},{name:"🛝 Recreation",description:"Tracker for how many plots you have for recreation, which keeps townspeople happy. <br/><br/>Make sure as your town grows that you build enough 🛝 plots. ",value:o.townInfo.recreation,modifier:null,color:o.townInfo.recreation/wu(o)>=.2?"bg-green-500":"bg-orange-300",hover:!0,max:wu(o)}]),t.$$.dirty[0]&6147){const T=o.resources.food>=o.resource_capacity||o.resources.wood>=o.resource_capacity||o.resources.stone>=o.resource_capacity||o.resources.metal>=o.resource_capacity,L=Date.now();T&&!f&&L-u>3e4&&!c&&!o.gameSettings.includes("bagOfHolding")&&(x3(),n(11,u=L)),n(12,f=T),n(2,l=T)}},[c,o,l,a,s,d,p,i,r,h,C,u,f,v]}class od extends _e{constructor(e){super(),he(this,e,Y3,W3,pe,{mini:0},null,[-1,-1])}}function ku(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Cu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Tu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Su(t){let e,n,o,i=le[Te(t[0].id)].title+"",r,l,a,s=le[Te(t[0].id)].description+"",u,f,c,d,m,h,p,_,C,v=t[3]("💰",le[Te(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",T,L,D=t[3]("🥕",le[Te(t[0].id)].requirements.resources.food,t[2].resources.food)+"",j,$,I=t[3]("🧠",le[Te(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",N,q,k=t[3]("🪵",le[Te(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",y,A,R=t[3]("🪨",le[Te(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",W,F,U=t[3]("🧲",le[Te(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",K,Z,te=t[3]("🔋",le[Te(t[0].id)].active_costs.power,t[2].resources.power)+"",J,X,fe=t[3]("🧑‍⚖️",le[Te(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",se,oe=le[Te(t[0].id)].requirements.employees!=0,$e,Fe=le[Te(t[0].id)].revenue_per_week!=0,g,z=Object.values(le[Te(t[0].id)].active_costs).some(qu),Q,ie=Object.values(le[Te(t[0].id)].requirements.plots).length>0,re,ke=Object.values(le[Te(t[0].id)].generated_resources).some(Fu)||le[Te(t[0].id)].knowledge_points_per_month>0,Pe;d=new vt({props:{class:"bg-accent opacity-25 mt-1 mb-1"}});let je=oe&&Au(t),xe=Fe&&Iu(t),De=z&&Mu(t),Ke=ie&&Nu(t),Xe=ke&&Ru(t);return{c(){e=P("div"),n=P("div"),o=P("span"),r=G(i),l=B(),a=P("span"),u=G(s),f=B(),c=P("div"),Y(d.$$.fragment),m=B(),h=P("span"),h.textContent="Requirements",p=B(),_=P("div"),C=new Jt(!1),T=B(),L=new Jt(!1),j=B(),$=new Jt(!1),N=B(),q=new Jt(!1),y=B(),A=new Jt(!1),W=B(),F=new Jt(!1),K=B(),Z=new Jt(!1),J=B(),X=new Jt(!1),se=B(),je&&je.c(),$e=B(),xe&&xe.c(),g=B(),De&&De.c(),Q=B(),Ke&&Ke.c(),re=B(),Xe&&Xe.c(),E(o,"class","text-md"),E(a,"class","text-xs"),E(n,"class","flex flex-col gap-2"),E(h,"class","font-semibold"),C.a=T,L.a=j,$.a=N,q.a=y,A.a=W,F.a=K,Z.a=J,X.a=se,E(_,"class","flex flex-row gap-1 flex-wrap"),E(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),E(e,"class","p-2 max-w-64")},m(we,qe){O(we,e,qe),b(e,n),b(n,o),b(o,r),b(n,l),b(n,a),b(a,u),b(e,f),b(e,c),V(d,c,null),b(c,m),b(c,h),b(c,p),b(c,_),C.m(v,_),b(_,T),L.m(D,_),b(_,j),$.m(I,_),b(_,N),q.m(k,_),b(_,y),A.m(R,_),b(_,W),F.m(U,_),b(_,K),Z.m(te,_),b(_,J),X.m(fe,_),b(_,se),je&&je.m(_,null),b(e,$e),xe&&xe.m(e,null),b(e,g),De&&De.m(e,null),b(e,Q),Ke&&Ke.m(e,null),b(e,re),Xe&&Xe.m(e,null),Pe=!0},p(we,qe){(!Pe||qe&1)&&i!==(i=le[Te(we[0].id)].title+"")&&ce(r,i),(!Pe||qe&1)&&s!==(s=le[Te(we[0].id)].description+"")&&ce(u,s),(!Pe||qe&5)&&v!==(v=we[3]("💰",le[Te(we[0].id)].requirements.gold,we[2].townInfo.gold)+"")&&C.p(v),(!Pe||qe&5)&&D!==(D=we[3]("🥕",le[Te(we[0].id)].requirements.resources.food,we[2].resources.food)+"")&&L.p(D),(!Pe||qe&5)&&I!==(I=we[3]("🧠",le[Te(we[0].id)].requirements.knowledge,we[2].townInfo.knowledge_points)+"")&&$.p(I),(!Pe||qe&5)&&k!==(k=we[3]("🪵",le[Te(we[0].id)].requirements.resources.wood,we[2].resources.wood)+"")&&q.p(k),(!Pe||qe&5)&&R!==(R=we[3]("🪨",le[Te(we[0].id)].requirements.resources.stone,we[2].resources.stone)+"")&&A.p(R),(!Pe||qe&5)&&U!==(U=we[3]("🧲",le[Te(we[0].id)].requirements.resources.metal,we[2].resources.metal)+"")&&F.p(U),(!Pe||qe&5)&&te!==(te=we[3]("🔋",le[Te(we[0].id)].active_costs.power,we[2].resources.power)+"")&&Z.p(te),(!Pe||qe&5)&&fe!==(fe=we[3]("🧑‍⚖️",le[Te(we[0].id)].requirements.resources.bureaucracy,we[2].resources.bureaucracy)+"")&&X.p(fe),qe&1&&(oe=le[Te(we[0].id)].requirements.employees!=0),oe?je?je.p(we,qe):(je=Au(we),je.c(),je.m(_,null)):je&&(je.d(1),je=null),qe&1&&(Fe=le[Te(we[0].id)].revenue_per_week!=0),Fe?xe?(xe.p(we,qe),qe&1&&w(xe,1)):(xe=Iu(we),xe.c(),w(xe,1),xe.m(e,g)):xe&&(Me(),S(xe,1,1,()=>{xe=null}),Oe()),qe&1&&(z=Object.values(le[Te(we[0].id)].active_costs).some(qu)),z?De?(De.p(we,qe),qe&1&&w(De,1)):(De=Mu(we),De.c(),w(De,1),De.m(e,Q)):De&&(Me(),S(De,1,1,()=>{De=null}),Oe()),qe&1&&(ie=Object.values(le[Te(we[0].id)].requirements.plots).length>0),ie?Ke?(Ke.p(we,qe),qe&1&&w(Ke,1)):(Ke=Nu(we),Ke.c(),w(Ke,1),Ke.m(e,re)):Ke&&(Me(),S(Ke,1,1,()=>{Ke=null}),Oe()),qe&1&&(ke=Object.values(le[Te(we[0].id)].generated_resources).some(Fu)||le[Te(we[0].id)].knowledge_points_per_month>0),ke?Xe?(Xe.p(we,qe),qe&1&&w(Xe,1)):(Xe=Ru(we),Xe.c(),w(Xe,1),Xe.m(e,null)):Xe&&(Me(),S(Xe,1,1,()=>{Xe=null}),Oe())},i(we){Pe||(w(d.$$.fragment,we),w(xe),w(De),w(Ke),w(Xe),Pe=!0)},o(we){S(d.$$.fragment,we),S(xe),S(De),S(Ke),S(Xe),Pe=!1},d(we){we&&M(e),x(d),je&&je.d(),xe&&xe.d(),De&&De.d(),Ke&&Ke.d(),Xe&&Xe.d()}}}function Au(t){let e,n,o=le[Te(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=P("span"),n=G("👥 "),i=G(o),r=G(" employees"),E(e,"class",l=le[Te(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")},m(a,s){O(a,e,s),b(e,n),b(e,i),b(e,r)},p(a,s){s&1&&o!==(o=le[Te(a[0].id)].requirements.employees+"")&&ce(i,o),s&7&&l!==(l=le[Te(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")&&E(e,"class",l)},d(a){a&&M(e)}}}function Iu(t){let e,n,o,i,r,l,a,s=le[Te(t[0].id)].revenue_per_week+"",u,f;return n=new vt({props:{class:"bg-accent opacity-25 mt-0"}}),{c(){e=P("div"),Y(n.$$.fragment),o=B(),i=P("span"),i.textContent="Weekly revenue",r=B(),l=P("span"),a=G("💰 "),u=G(s),E(i,"class","font-semibold"),E(e,"class","flex flex-col gap-1 text-xs")},m(c,d){O(c,e,d),V(n,e,null),b(e,o),b(e,i),b(e,r),b(e,l),b(l,a),b(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=le[Te(c[0].id)].revenue_per_week+"")&&ce(u,s)},i(c){f||(w(n.$$.fragment,c),f=!0)},o(c){S(n.$$.fragment,c),f=!1},d(c){c&&M(e),x(n)}}}function Mu(t){let e,n,o,i,r,l;n=new vt({props:{class:"bg-accent opacity-25 mt-2"}});let a=Ye(Object.keys(le[Te(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Pu(Tu(t,a,u));return{c(){e=P("div"),Y(n.$$.fragment),o=B(),i=P("span"),i.textContent="Weekly Costs",r=B();for(let u=0;u<s.length;u+=1)s[u].c();E(i,"class","font-semibold"),E(e,"class","flex flex-col gap-1 text-xs")},m(u,f){O(u,e,f),V(n,e,null),b(e,o),b(e,i),b(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ye(Object.keys(le[Te(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=Tu(u,a,c);s[c]?s[c].p(d,f):(s[c]=Pu(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(w(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&M(e),x(n),st(s,u)}}}function Ou(t){let e,n=no(t[4])+"",o,i,r=Ui(t[4])+"",l,a,s=-1*Object.values(le[Te(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=P("span"),o=G(n),i=B(),l=G(r),a=B(),u=G(s),f=B(),E(e,"class",c=Object.values(le[Te(t[0].id)].active_costs)[t[6]]>0?"text-textDanger":"text-textHappy")},m(d,m){O(d,e,m),b(e,o),b(e,i),b(e,l),b(e,a),b(e,u),b(e,f)},p(d,m){m&1&&n!==(n=no(d[4])+"")&&ce(o,n),m&1&&r!==(r=Ui(d[4])+"")&&ce(l,r),m&1&&s!==(s=-1*Object.values(le[Te(d[0].id)].active_costs)[d[6]]+"")&&ce(u,s),m&1&&c!==(c=Object.values(le[Te(d[0].id)].active_costs)[d[6]]>0?"text-textDanger":"text-textHappy")&&E(e,"class",c)},d(d){d&&M(e)}}}function Pu(t){let e=Object.values(le[Te(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&Ou(t);return{c(){o&&o.c(),n=Le()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){r&1&&(e=Object.values(le[Te(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=Ou(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&M(n),o&&o.d(i)}}}function Nu(t){let e,n,o,i,r,l;n=new vt({props:{class:"bg-accent opacity-25 mt-2"}});let a=Ye(Object.keys(le[Te(t[0].id)].requirements.plots)),s=[];for(let u=0;u<a.length;u+=1)s[u]=$u(Cu(t,a,u));return{c(){e=P("div"),Y(n.$$.fragment),o=B(),i=P("span"),i.textContent="Required Plots",r=B();for(let u=0;u<s.length;u+=1)s[u].c();E(i,"class","font-semibold"),E(e,"class","flex flex-col gap-1 text-xs")},m(u,f){O(u,e,f),V(n,e,null),b(e,o),b(e,i),b(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&5){a=Ye(Object.keys(le[Te(u[0].id)].requirements.plots));let c;for(c=0;c<a.length;c+=1){const d=Cu(u,a,c);s[c]?s[c].p(d,f):(s[c]=$u(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(w(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&M(e),x(n),st(s,u)}}}function Eu(t){var l;let e,n=((l=jl(Object.values(le[Te(t[0].id)].requirements.plots)[t[6]]))==null?void 0:l.title)+"",o,i,r;return{c(){e=P("span"),o=G(n),i=B(),E(e,"class",r=Be(Object.values(le[Te(t[0].id)].requirements.plots)[t[6]],t[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")},m(a,s){O(a,e,s),b(e,o),b(e,i)},p(a,s){var u;s&1&&n!==(n=((u=jl(Object.values(le[Te(a[0].id)].requirements.plots)[a[6]]))==null?void 0:u.title)+"")&&ce(o,n),s&5&&r!==(r=Be(Object.values(le[Te(a[0].id)].requirements.plots)[a[6]],a[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")&&E(e,"class",r)},d(a){a&&M(e)}}}function $u(t){let e=Object.values(le[Te(t[0].id)].requirements.plots)[t[6]]!=0,n,o=e&&Eu(t);return{c(){o&&o.c(),n=Le()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){r&1&&(e=Object.values(le[Te(i[0].id)].requirements.plots)[i[6]]!=0),e?o?o.p(i,r):(o=Eu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&M(n),o&&o.d(i)}}}function Ru(t){let e,n,o,i,r,l=le[Te(t[0].id)].knowledge_points_per_month>0,a,s;n=new vt({props:{class:"bg-accent opacity-25 mt-2"}});let u=l&&Lu(t),f=Ye(Object.keys(le[Te(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=ju(ku(t,f,d));return{c(){e=P("div"),Y(n.$$.fragment),o=B(),i=P("span"),i.textContent="Generated Resources",r=B(),u&&u.c(),a=B();for(let d=0;d<c.length;d+=1)c[d].c();E(i,"class","font-semibold"),E(e,"class","flex flex-col gap-1 text-xs")},m(d,m){O(d,e,m),V(n,e,null),b(e,o),b(e,i),b(e,r),u&&u.m(e,null),b(e,a);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(e,null);s=!0},p(d,m){if(m&1&&(l=le[Te(d[0].id)].knowledge_points_per_month>0),l?u?u.p(d,m):(u=Lu(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),m&1){f=Ye(Object.keys(le[Te(d[0].id)].generated_resources));let h;for(h=0;h<f.length;h+=1){const p=ku(d,f,h);c[h]?c[h].p(p,m):(c[h]=ju(p),c[h].c(),c[h].m(e,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=f.length}},i(d){s||(w(n.$$.fragment,d),s=!0)},o(d){S(n.$$.fragment,d),s=!1},d(d){d&&M(e),x(n),u&&u.d(),st(c,d)}}}function Lu(t){let e,n,o=Math.round(le[Te(t[0].id)].knowledge_points_per_month)+"",i,r;return{c(){e=P("span"),n=G("🧠 "),i=G(o),r=G(" (monthly)")},m(l,a){O(l,e,a),b(e,n),b(e,i),b(e,r)},p(l,a){a&1&&o!==(o=Math.round(le[Te(l[0].id)].knowledge_points_per_month)+"")&&ce(i,o)},d(l){l&&M(e)}}}function Du(t){let e,n=Ui(t[4])+"",o,i,r=no(t[4])+"",l,a,s=Fl(Object.values(le[Te(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=P("span"),o=G(n),i=B(),l=G(r),a=B(),u=G(s),f=B(),E(e,"class",c=Object.values(le[Te(t[0].id)].generated_resources)[t[6]]>0?"text-textHappy":"text-textDanger")},m(d,m){O(d,e,m),b(e,o),b(e,i),b(e,l),b(e,a),b(e,u),b(e,f)},p(d,m){m&1&&n!==(n=Ui(d[4])+"")&&ce(o,n),m&1&&r!==(r=no(d[4])+"")&&ce(l,r),m&1&&s!==(s=Fl(Object.values(le[Te(d[0].id)].generated_resources)[d[6]],!1)+"")&&ce(u,s),m&1&&c!==(c=Object.values(le[Te(d[0].id)].generated_resources)[d[6]]>0?"text-textHappy":"text-textDanger")&&E(e,"class",c)},d(d){d&&M(e)}}}function ju(t){let e=Object.values(le[Te(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&Du(t);return{c(){o&&o.c(),n=Le()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){r&1&&(e=Object.values(le[Te(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=Du(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&M(n),o&&o.d(i)}}}function U3(t){let e,n,o=t[0]!=null&&Su(t);return{c(){o&&o.c(),e=Le()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&w(o,1)):(o=Su(i),o.c(),w(o,1),o.m(e.parentNode,e)):o&&(Me(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(w(o),n=!0)},o(i){S(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}function Ui(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const Fu=t=>t!=0,qu=t=>t!=0;function K3(t,e,n){let o;ue(t,Ne,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger border-2 border-red-400 px-2"),f=`<span class='${c}'>${a} ${Rt(s,!1)}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class id extends _e{constructor(e){super(),he(this,e,K3,U3,pe,{option:0,checkRequirements:1})}}function X3(t){let e,n;return{c(){e=P("span"),n=G(t[3]),E(e,"class","text-[11px] text-wrap")},m(o,i){O(o,e,i),b(e,n)},p(o,i){i&8&&ce(n,o[3])},d(o){o&&M(e)}}}function J3(t){let e;return{c(){e=P("span"),e.textContent="Click to bulldoze",E(e,"class","text-[11px] text-wrap text-yellow-300")},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function Z3(t){let e,n,o,i,r;return{c(){e=P("span"),n=G(`Hires
              `),o=P("span"),i=G(t[9]),r=G(`

              employees`),E(o,"class",t[10]+" font-medium"),E(e,"class","text-[11px] opacity-80")},m(l,a){O(l,e,a),b(e,n),b(e,o),b(o,i),b(e,r)},p:Ie,d(l){l&&M(e)}}}function Q3(t){let e;return{c(){e=P("span"),e.textContent=`+💰${Rt(t[8],!1)}/wk`},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function z3(t){let e;return{c(){e=P("span"),e.textContent=`🔌${t[11]}`},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function e4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h=Rt(t[6],!1)+"",p,_,C,v,T,L,D,j;function $(A,R){if(A[0].selected)return J3;if(A[3])return X3}let I=$(t),N=I&&I(t),q=t[9]&&Z3(t),k=t[8]>0&&Q3(t),y=t[11]>0&&z3(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("span"),i.textContent=`${t[5]}`,r=B(),l=P("span"),l.textContent=`${t[4]}`,a=B(),N&&N.c(),s=B(),u=P("div"),q&&q.c(),f=B(),c=P("div"),d=P("span"),m=G("💰"),p=G(h),_=B(),k&&k.c(),C=B(),v=P("div"),y&&y.c(),E(i,"class","text-3xl"),E(l,"class","font-medium text-center text-md"),E(o,"class","flex flex-col flex-grow rounded-xl p-2 gap-0 justify-center items-center"),E(d,"class",""+t[7]),E(c,"class","flex flex-row justify-between mx-2 text-[11px] font-mono items-center"),E(v,"class","flex flex-row justify-between mx-2 text-[11px] font-mono"),E(u,"class","bg-sidebarBackground text-black rounded-t-lg py-1"),E(n,"class",T="flex flex-col w-36 h-48 min-h-32 min-w-36 rounded-xl text-white drop-shadow-lg border-black border-2 hover:translate-y-[-8px] transition-transform duration-300 ease-in-out z-100 "+(t[2]||t[0].selected?"cursor-pointer":"cursor-not-allowed opacity-30")+" "+(t[0].selected?"border-4 border-white scale-105":"")),ze(n,"background",t[12]),E(e,"class","plotOption"),E(e,"data-plotoptionid",L=t[0].id)},m(A,R){O(A,e,R),b(e,n),b(n,o),b(o,i),b(o,r),b(o,l),b(o,a),N&&N.m(o,null),b(n,s),b(n,u),q&&q.m(u,null),b(u,f),b(u,c),b(c,d),b(d,m),b(d,p),b(c,_),k&&k.m(c,null),b(u,C),b(u,v),y&&y.m(v,null),D||(j=ne(e,"click",function(){Lt(t[2]?t[15]:Bu)&&(t[2]?t[15]:Bu).apply(this,arguments)}),D=!0)},p(A,R){t=A,I===(I=$(t))&&N?N.p(t,R):(N&&N.d(1),N=I&&I(t),N&&(N.c(),N.m(o,null))),t[9]&&q.p(t,R),t[8]>0&&k.p(t,R),t[11]>0&&y.p(t,R),R&5&&T!==(T="flex flex-col w-36 h-48 min-h-32 min-w-36 rounded-xl text-white drop-shadow-lg border-black border-2 hover:translate-y-[-8px] transition-transform duration-300 ease-in-out z-100 "+(t[2]||t[0].selected?"cursor-pointer":"cursor-not-allowed opacity-30")+" "+(t[0].selected?"border-4 border-white scale-105":""))&&E(n,"class",T),R&1&&L!==(L=t[0].id)&&E(e,"data-plotoptionid",L)},d(A){A&&M(e),N&&N.d(),q&&q.d(),k&&k.d(),y&&y.d(),D=!1,j()}}}function t4(t){let e,n;return e=new id({props:{option:t[0],checkRequirements:!0}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&1&&(r.option=o[0]),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function n4(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[e4]},$$scope:{ctx:t}}}),o=new wo({props:{$$slots:{default:[t4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&262159&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262145&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function o4(t){let e,n;return e=new ko({props:{openDelay:400,closeDelay:0,$$slots:{default:[n4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,[i]){const r={};i&262159&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}const Bu=()=>{};function i4(t,e,n){let o;ue(t,Ne,L=>n(14,o=L));let{option:i}=e,{purchaseCallback:r}=e,{canPurchase:l}=e,a=i.title,s=i.emoji,u=i.requirements.gold,f=o.townInfo.gold<u?"text-red-500 font-semibold":"",c=i.revenue_per_week,d=i.requirements.employees,m=o.townInfo.population_count-o.townInfo.employees<d?"text-red-500 font-semibold":"",h=i.active_costs.power,p=Nr(Te(i.id),!1,5),{count:_=0}=e,C="";const v=Object.entries(i.generated_resources).filter(([L,D])=>D>0).map(([L,D])=>`${D} ${L}`);v.length>0&&(C=`Produces: ${v.join(", ")}`);const T=()=>r(i);return t.$$set=L=>{"option"in L&&n(0,i=L.option),"purchaseCallback"in L&&n(1,r=L.purchaseCallback),"canPurchase"in L&&n(2,l=L.canPurchase),"count"in L&&n(13,_=L.count)},t.$$.update=()=>{t.$$.dirty&16384},[i,r,l,C,a,s,u,f,c,d,m,h,p,_,o,T]}class r4 extends _e{constructor(e){super(),he(this,e,i4,o4,pe,{option:0,purchaseCallback:1,canPurchase:2,count:13})}}const{Map:l4}=dd;function Hu(t,e,n){const o=t.slice();return o[23]=e[n],o}function Gu(t){let e,n,o,i,r,l,a,s,u,f,c=[],d=new l4,m,h,p,_,C,v,T,L,D=Ye(t[2].filter(t[11]));const j=$=>$[23].id;for(let $=0;$<D.length;$+=1){let I=Hu(t,D,$),N=j(I);d.set(N,c[$]=Wu(N,I))}return _=new od({props:{mini:!0}}),{c(){e=P("div"),o=B(),i=P("div"),r=P("div"),l=P("div"),a=P("div"),s=P("div"),u=P("div"),f=P("div");for(let $=0;$<c.length;$+=1)c[$].c();h=B(),p=P("div"),Y(_.$$.fragment),E(e,"class","fixed inset-0 bg-black/20 z-[998]"),E(f,"class",m="flex flex-row text-start justify-start items-start flex-wrap py-8 px-8 "+(t[1].isMineralSource,"pt-6 gap-2")+" w-full align-middle"),E(s,"class","flex gap-1 pb-24 overflow-scroll max-h-["+Vu+"]"),E(a,"class","flex flex-row gap-2 justify-start pt-8 flex-grow w-full"),E(r,"class","h-max w-full flex-grow"),E(i,"class","w-[100vw] fixed bottom-0 max-h-["+Vu+"] z-[999] flex flex-row justify-center text-center items-center bg-popupBackground text-sidebarText px-4 shadow-2xl rounded-t-2xl")},m($,I){O($,e,I),O($,o,I),O($,i,I),b(i,r),b(r,l),b(l,a),b(a,s),b(s,u),b(u,f);for(let N=0;N<c.length;N+=1)c[N]&&c[N].m(f,null);b(i,h),b(i,p),V(_,p,null),v=!0,T||(L=[ne(e,"click",t[10]),ne(a,"click",t[3]),ne(i,"click",hd(t[9]))],T=!0)},p($,I){I&6&&(D=Ye($[2].filter($[11])),Me(),c=Id(c,I,j,1,$,D,d,f,Ad,Wu,null,Hu),Oe()),(!v||I&2&&m!==(m="flex flex-row text-start justify-start items-start flex-wrap py-8 px-8 "+($[1].isMineralSource,"pt-6 gap-2")+" w-full align-middle"))&&E(f,"class",m)},i($){if(!v){$&&nt(()=>{v&&(n||(n=gt(e,Di,{duration:200},!0)),n.run(1))});for(let I=0;I<D.length;I+=1)w(c[I]);w(_.$$.fragment,$),$&&nt(()=>{v&&(C||(C=gt(i,ra,{duration:200,axis:"y"},!0)),C.run(1))}),v=!0}},o($){$&&(n||(n=gt(e,Di,{duration:200},!1)),n.run(0));for(let I=0;I<c.length;I+=1)S(c[I]);S(_.$$.fragment,$),$&&(C||(C=gt(i,ra,{duration:200,axis:"y"},!1)),C.run(0)),v=!1},d($){$&&(M(e),M(o),M(i)),$&&n&&n.end();for(let I=0;I<c.length;I+=1)c[I].d();x(_),$&&C&&C.end(),T=!1,Ve(L)}}}function Wu(t,e){let n,o,i;return o=new r4({props:{option:e[23],purchaseCallback:u4,canPurchase:e[23].affordable??!1}}),{key:t,first:null,c(){n=Le(),Y(o.$$.fragment),this.first=n},m(r,l){O(r,n,l),V(o,r,l),i=!0},p(r,l){e=r;const a={};l&6&&(a.option=e[23]),l&6&&(a.canPurchase=e[23].affordable??!1),o.$set(a)},i(r){i||(w(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(o,r)}}}function s4(t){let e,n,o=t[0]&&Gu(t);return{c(){o&&o.c(),e=Le()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[0]?o?(o.p(i,r),r&1&&w(o,1)):(o=Gu(i),o.c(),w(o,1),o.m(e.parentNode,e)):o&&(Me(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(w(o),n=!0)},o(i){S(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}const Vu="50vh";function a4(t,e,n){return t>=0&&t<n.length&&e>=0&&e<n[0].length&&!n[t][e].water&&!n[t][e].disabled}function ci(t,e,n,o,i){let r=t+n,l=e+o;for(;r>=0&&r<i.length&&l>=0&&l<i[0].length;){if(a4(r,l,i))return[r,l];r+=n,l+=o}return null}const u4=()=>{};function f4(t,e,n){let o,i,r,l;ue(t,Ze,I=>n(1,r=I)),ue(t,Ne,I=>n(8,l=I));let{x:a=0}=e,{y:s=0}=e,{open:u=!1}=e,{tooltip:f=""}=e,c=le,d;const m=new Map;function h(I){return m.has(I)||m.set(I,le.findIndex(N=>N.id===I)),m.get(I)}function p(I){return l.plots[a][s].type>-1?c[l.plots[a][s].type].id===I.id:!1}function _(I,N){let q=!0,k=!0;I.requirements.gold>N.townInfo.gold&&(q=!1,k=!1),I.requirements.knowledge!==void 0&&I.requirements.knowledge>N.townInfo.knowledge_points&&(q=!1,k=!1),I.requirements.resources!==void 0&&Object.keys(I.requirements.resources).forEach(A=>{I.requirements.resources[A]!=0&&l.resources[A]<I.requirements.resources[A]&&(q=!1,k=!1)});let y=N.townInfo.population_count-N.townInfo.employees;if(I.requirements.employees!==void 0&&I.requirements.employees>0){const A=N.plots[a][s];if(A.type!==-1){const W=c[A.type].requirements.employees||0;k&&I.requirements.employees<=W?q=!0:I.requirements.employees>y+W&&(q=!1)}else I.requirements.employees>y&&(q=!1)}return I.active_costs!==void 0&&(I.active_costs.gold>N.townInfo.gold||I.active_costs.power>N.resources.power||I.active_costs.wood>N.resources.wood||I.active_costs.stone>N.resources.stone||I.active_costs.metal>N.resources.metal||I.active_costs.bureaucracy>N.resources.bureaucracy||I.active_costs.food>N.resources.food)&&(q=!1,k=!1),I.requirements.plots.length>0&&I.requirements.plots.forEach(A=>{Be(A,N).length===0&&(q=!1,k=!1)}),q}function C(I){const N=I.target.closest(".plotOption");if(N){const q=N.dataset.plotoptionid;if(q===l.plots[a][s].typeId){T();return}v(q)}}function v(I){const N=h(I),q=c[N];let k=l;if(_(q,k)){if(k.plots[a][s].type!==-1&&Pn(a,s,k),n(6,f=""),k.plots[a][s].type=N,k.plots[a][s].active=!0,k.plots[a][s].referencePlot=[],k.plots[a][s].typeId=q.id,k.townInfo.gold-=q.requirements.gold,k.townInfo.gold=ot(k.townInfo.gold,2),k.townInfo.population_count+=q.immediate_variable_changes.population,k.townInfo.population_max+=q.immediate_variable_changes.population,k.townInfo.happiness+=q.immediate_variable_changes.happiness,k.townInfo.health+=q.immediate_variable_changes.health,k.modifiers.happiness=ot(k.modifiers.happiness*q.purchase_effect_modifiers.happiness,2),k.modifiers.health=ot(k.modifiers.health*q.purchase_effect_modifiers.health,2),k.modifiers.community=ot(k.modifiers.community*q.purchase_effect_modifiers.community,2),k.townInfo.employees+=q.requirements.employees,(k.plotCounts[N]===void 0||k.plotCounts[N]===null)&&(k.plotCounts[N]=0),k.plotCounts[N]++,k.lastChangeDay=k.environment.day,q.requirements.resources!==void 0){const A=q.requirements.resources;k.resources.food-=A.food,k.resources.wood-=A.wood,k.resources.stone-=A.stone,k.resources.metal-=A.metal}switch(q.id){case"city_hall":k.hasCityHall=!0;break;case"bank":k.hasBank=!0;break}Ne.set(k),localStorage.setItem(mt,JSON.stringify(k));const y=ym(a,s,k);if(y){const[A,R]=y;n(4,a=A),n(5,s=R),Ae(Ze,r.x=A,r),Ae(Ze,r.y=R,r);const W=document.querySelector(`.plot_container[data-x="${A}"][data-y="${R}"]`);if(W){const F=W.getBoundingClientRect(),U=window.innerHeight||d.clientHeight,K=window.innerWidth||d.clientWidth,Z=d.scrollTop+F.top-U/2+225,te=d.scrollLeft+F.left-K/2;window.scrollTo({top:Z,left:te,behavior:"smooth"}),document.querySelectorAll(".plot_container").forEach(X=>X.classList.remove("selected")),W.classList.add("selected")}}}else n(6,f="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(A=>{A.classList.remove("active")})}function T(){document.querySelectorAll(".plotOption").forEach(N=>{N.classList.remove("active")}),Pn(a,s,l)}function L(I){if(!u)return;let N=null;switch(I.key.toLowerCase()){case"arrowup":case"w":N=ci(r.x,r.y,-1,0,l.plots);break;case"arrowdown":case"s":N=ci(r.x,r.y,1,0,l.plots);break;case"arrowleft":case"a":N=ci(r.x,r.y,0,-1,l.plots);break;case"arrowright":case"d":N=ci(r.x,r.y,0,1,l.plots);break;default:return}if(!N)return;const[q,k]=N;Ae(Ze,r.x=q,r),Ae(Ze,r.y=k,r);const y=document.querySelector(`.plot_container[data-x="${q}"][data-y="${k}"]`);if(y){const A=y.getBoundingClientRect(),R=window.innerHeight||d.clientHeight,W=window.innerWidth||d.clientWidth,F=d.scrollTop+A.top-R/2+225,U=d.scrollLeft+A.left-W/2;window.scrollTo({top:F,left:U,behavior:"smooth"}),document.querySelectorAll(".plot_container").forEach(Z=>Z.classList.remove("selected")),y.classList.add("selected")}}Jo(()=>{d=document.documentElement||document.body,window.addEventListener("keydown",L)}),Tf(()=>{window.removeEventListener("keydown",L)});function D(I){ae.call(this,t,I)}const j=()=>Ae(Ze,r.visible=!1,r),$=I=>r.isMineralSource?I.id==="mine":I.id!=="mine";return t.$$set=I=>{"x"in I&&n(4,a=I.x),"y"in I&&n(5,s=I.y),"open"in I&&n(0,u=I.open),"tooltip"in I&&n(6,f=I.tooltip)},t.$$.update=()=>{t.$$.dirty&256&&n(7,o=l?c.map(I=>Object.assign(Object.assign({},I),{affordable:_(I,l),selected:p(I)})):[]),t.$$.dirty&386&&n(2,i=l?(()=>{let I=[...o];if(r.isMineralSource)return I.filter(N=>N.id==="mine");Be("tree_farm",l).length===0&&(I=I.filter(N=>["small_homes","farm","tree_farm"].includes(N.id)));for(const[N,q]of Object.entries(Ed))typeof q=="number"&&q>0&&Be(N,l).length>=q&&(I=I.filter(k=>k.id!==N));return I.sort((N,q)=>N.selected&&!q.selected?-1:0)})():[])},[u,r,i,C,a,s,f,o,l,D,j,$]}class rd extends _e{constructor(e){super(),he(this,e,f4,s4,pe,{x:4,y:5,open:0,tooltip:6})}}function c4(t){let e,n,o;return{c(){e=P("span"),n=G("My liege, if you build a City Hall, you can expand your city "),o=G(t[0]),E(e,"class","text-xs")},m(i,r){O(i,e,r),b(e,n),b(e,o)},p(i,r){r&1&&ce(o,i[0])},i:Ie,o:Ie,d(i){i&&M(e)}}}function d4(t){let e,n;return e=new St({props:{class:"bg-accent h-max rounded-2xl hover:scale-110 transition-transform duration-200 ease-in-out hover:drop-shadow-2xl",$$slots:{default:[m4]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&11&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function m4(t){let e,n,o,i,r,l=t[0].toUpperCase()+"",a,s,u,f,c,d,m,h,p,_,C,v=Math.round(Math.pow(1.7,t[1].kingdom_expansions+5))+"",T,L,D,j;return{c(){e=P("div"),n=G("My liege, you can expand your "),o=P("br"),i=G(`kingdom
        `),r=P("span"),a=G(l),s=G(`
        using
        `),u=P("br"),f=G(`your
        `),c=P("span"),c.textContent="City Hall",d=G("!"),m=P("br"),h=P("br"),p=B(),_=P("span"),C=G("Requires "),T=G(v),L=G(` Guardians
          `),D=P("br"),j=G("to be employed. (see city mgmt menu)"),E(r,"class","font-extrabold text-blue-200"),E(c,"class","text-blue-200 bold"),E(_,"class","opacity-75 text-xs")},m($,I){O($,e,I),b(e,n),b(e,o),b(e,i),b(e,r),b(r,a),b(e,s),b(e,u),b(e,f),b(e,c),b(e,d),b(e,m),b(e,h),b(e,p),b(e,_),b(_,C),b(_,T),b(_,L),b(_,D),b(_,j)},p($,I){I&1&&l!==(l=$[0].toUpperCase()+"")&&ce(a,l),I&2&&v!==(v=Math.round(Math.pow(1.7,$[1].kingdom_expansions+5))+"")&&ce(T,v)},d($){$&&M(e)}}}function p4(t){let e,n,o,i,r;const l=[d4,c4],a=[];function s(u,f){return f&2&&(n=null),n==null&&(n=Be("city_hall",u[1]).length>0),n?0:1}return o=s(t,-1),i=a[o]=l[o](t),{c(){e=P("div"),i.c(),E(e,"class","w-48 h-max")},m(u,f){O(u,e,f),a[o].m(e,null),r=!0},p(u,[f]){let c=o;o=s(u,f),o===c?a[o].p(u,f):(Me(),S(a[c],1,1,()=>{a[c]=null}),Oe(),i=a[o],i?i.p(u,f):(i=a[o]=l[o](u),i.c()),w(i,1),i.m(e,null))},i(u){r||(w(i),r=!0)},o(u){S(i),r=!1},d(u){u&&M(e),a[o].d()}}}function h4(t,e,n){let o;ue(t,Ne,l=>n(1,o=l));let{direction:i}=e;const r=()=>{const l=Tm(o,i);l&&Ct.set(l)};return t.$$set=l=>{"direction"in l&&n(0,i=l.direction)},[i,o,r]}class xu extends _e{constructor(e){super(),he(this,e,h4,p4,pe,{direction:0})}}function _4(t){let e;return{c(){e=P("span"),e.textContent="Start here!",E(e,"class","text-md text-black select-none transition-all duration-500 animate-pulse ")},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function g4(t){let e,n,o,i=le[t[0].type].emoji+"",r,l,a,s,u,f=le[t[0].type].title+"",c,d,m,h;return{c(){e=P("div"),n=P("span"),o=P("span"),r=G(i),l=B(),a=P("br"),s=B(),u=P("span"),c=G(f),E(o,"class","text-lg align-text-top select-none"),E(u,"class","text-sm align-text-top text-black select-none"),E(n,"data-size",d=le[t[0].type].requirements.size),E(n,"data-x",m=t[0].x),E(n,"data-y",h=t[0].y),E(e,"class","svelte-lm6uio")},m(p,_){O(p,e,_),b(e,n),b(n,o),b(o,r),b(n,l),b(n,a),b(n,s),b(n,u),b(u,c)},p(p,_){_&1&&i!==(i=le[p[0].type].emoji+"")&&ce(r,i),_&1&&f!==(f=le[p[0].type].title+"")&&ce(c,f),_&1&&d!==(d=le[p[0].type].requirements.size)&&E(n,"data-size",d),_&1&&m!==(m=p[0].x)&&E(n,"data-x",m),_&1&&h!==(h=p[0].y)&&E(n,"data-y",h)},d(p){p&&M(e)}}}function Yu(t){let e;return{c(){e=P("span"),e.textContent="🧲",E(e,"class","text-lg")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Uu(t){let e;return{c(){e=P("span"),e.textContent="👑",E(e,"class","text-lg absolute top-0")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function b4(t){let e,n,o,i=t[7](t[0].x,t[0].y),r,l,a,s,u,f,c,d,m,h,p,_,C,v,T,L,D,j;function $(y,A){if(y[0].type>-1)return g4;if(y[0].type==-1&&y[0].x==0&&y[0].y==0)return _4}let I=$(t),N=I&&I(t),q=t[0].mineralSource&&t[0].type==-1&&Yu(),k=i&&Uu();return{c(){e=P("button"),N&&N.c(),n=B(),q&&q.c(),o=B(),k&&k.c(),E(e,"class",r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" svelte-lm6uio"),ze(e,"background-color",t[0].water?"rgba(66, 135, 245, 1)":t[5].x==t[0].x&&t[5].y==t[0].y&&t[5].visible?"white":t[0].mineralSource?"black":Nr(t[0].type,t[2])),E(e,"data-active",l=t[0].active),E(e,"data-hidehoveranimation",a=t[5].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),E(e,"data-id",s=t[0].id),E(e,"data-x",u=t[0].x),E(e,"data-y",f=t[0].y),E(e,"data-optionindex",c=t[0].optionIndex),E(e,"data-canbeupgraded",t[2]),E(e,"data-type",d=t[0].type),E(e,"data-type-id",m=t[0].typeId),E(e,"data-refplotx",h=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),E(e,"data-refploty",p=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),E(e,"data-size",_=t[0].type>-1?le[t[0].type].requirements.size:null),E(e,"data-mineralsource",C=t[0].mineralSource),E(e,"data-water",v=t[0].water),E(e,"data-nearwater",T=oo(t[0].x,t[0].y,t[3])),E(e,"data-liegelocation",L=t[7](t[0].x,t[0].y))},m(y,A){O(y,e,A),N&&N.m(e,null),b(e,n),q&&q.m(e,null),b(e,o),k&&k.m(e,null),D||(j=ne(e,"click",function(){Lt(t[0].water?null:t[6]?ql(t[0].x,t[0].y,t[3]):t[8])&&(t[0].water?null:t[6]?ql(t[0].x,t[0].y,t[3]):t[8]).apply(this,arguments)}),D=!0)},p(y,A){t=y,I===(I=$(t))&&N?N.p(t,A):(N&&N.d(1),N=I&&I(t),N&&(N.c(),N.m(e,n))),t[0].mineralSource&&t[0].type==-1?q||(q=Yu(),q.c(),q.m(e,o)):q&&(q.d(1),q=null),A&1&&(i=t[7](t[0].x,t[0].y)),i?k||(k=Uu(),k.c(),k.m(e,null)):k&&(k.d(1),k=null),A&7&&r!==(r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" svelte-lm6uio")&&E(e,"class",r),A&37&&ze(e,"background-color",t[0].water?"rgba(66, 135, 245, 1)":t[5].x==t[0].x&&t[5].y==t[0].y&&t[5].visible?"white":t[0].mineralSource?"black":Nr(t[0].type,t[2])),A&1&&l!==(l=t[0].active)&&E(e,"data-active",l),A&33&&a!==(a=t[5].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0)&&E(e,"data-hidehoveranimation",a),A&1&&s!==(s=t[0].id)&&E(e,"data-id",s),A&1&&u!==(u=t[0].x)&&E(e,"data-x",u),A&1&&f!==(f=t[0].y)&&E(e,"data-y",f),A&1&&c!==(c=t[0].optionIndex)&&E(e,"data-optionindex",c),A&4&&E(e,"data-canbeupgraded",t[2]),A&1&&d!==(d=t[0].type)&&E(e,"data-type",d),A&1&&m!==(m=t[0].typeId)&&E(e,"data-type-id",m),A&1&&h!==(h=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null)&&E(e,"data-refplotx",h),A&1&&p!==(p=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null)&&E(e,"data-refploty",p),A&1&&_!==(_=t[0].type>-1?le[t[0].type].requirements.size:null)&&E(e,"data-size",_),A&1&&C!==(C=t[0].mineralSource)&&E(e,"data-mineralsource",C),A&1&&v!==(v=t[0].water)&&E(e,"data-water",v),A&9&&T!==(T=oo(t[0].x,t[0].y,t[3]))&&E(e,"data-nearwater",T),A&1&&L!==(L=t[7](t[0].x,t[0].y))&&E(e,"data-liegelocation",L)},d(y){y&&M(e),N&&N.d(),q&&q.d(),k&&k.d(),D=!1,j()}}}function Ku(t){let e;return{c(){e=G("Water - Place farms nearby for more food & revenue!")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Xu(t){let e;return{c(){e=P("span"),e.textContent="Near water - Generating more food & revenue!",E(e,"class","text-xs bg-blue-500 text-white px-2 py-3 rounded-2xl text-center")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Ju(t){let e;function n(r,l){return le[r[0].type].liege_on_plot_hint==null?v4:y4}let o=n(t),i=o(t);return{c(){e=P("span"),i.c(),E(e,"class","text-xs bg-pink-700 text-white px-2 py-3 rounded-2xl text-center")},m(r,l){O(r,e,l),i.m(e,null)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i.d(1),i=o(r),i&&(i.c(),i.m(e,null)))},d(r){r&&M(e),i.d()}}}function y4(t){let e=le[t[0].type].liege_on_plot_hint+"",n;return{c(){n=G(e)},m(o,i){O(o,n,i)},p(o,i){i&1&&e!==(e=le[o[0].type].liege_on_plot_hint+"")&&ce(n,e)},d(o){o&&M(n)}}}function v4(t){let e,n=le[t[0].type].title+"",o,i;return{c(){e=G("You are hanging out on the "),o=G(n),i=G(` plot, but nothing
            seems to be changing except a revenue boost.`)},m(r,l){O(r,e,l),O(r,o,l),O(r,i,l)},p(r,l){l&1&&n!==(n=le[r[0].type].title+"")&&ce(o,n)},d(r){r&&(M(e),M(o),M(i))}}}function Zu(t){let e,n;return e=new id({props:{option:t[4],checkRequirements:!1}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.option=o[4]),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function w4(t){let e,n,o=oo(t[0].x,t[0].y,t[3]),i,r=Kn(t[0].x,t[0].y,t[3]),l,a,s=t[0].water&&Ku(),u=o&&Xu(),f=r&&Ju(t),c=t[0].active&&Zu(t);return{c(){e=P("div"),s&&s.c(),n=B(),u&&u.c(),i=B(),f&&f.c(),l=B(),c&&c.c(),E(e,"class","flex flex-col gap-2")},m(d,m){O(d,e,m),s&&s.m(e,null),b(e,n),u&&u.m(e,null),b(e,i),f&&f.m(e,null),b(e,l),c&&c.m(e,null),a=!0},p(d,m){d[0].water?s||(s=Ku(),s.c(),s.m(e,n)):s&&(s.d(1),s=null),m&9&&(o=oo(d[0].x,d[0].y,d[3])),o?u||(u=Xu(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),m&9&&(r=Kn(d[0].x,d[0].y,d[3])),r?f?f.p(d,m):(f=Ju(d),f.c(),f.m(e,l)):f&&(f.d(1),f=null),d[0].active?c?(c.p(d,m),m&1&&w(c,1)):(c=Zu(d),c.c(),w(c,1),c.m(e,null)):c&&(Me(),S(c,1,1,()=>{c=null}),Oe())},i(d){a||(w(c),a=!0)},o(d){S(c),a=!1},d(d){d&&M(e),s&&s.d(),u&&u.d(),f&&f.d(),c&&c.d()}}}function k4(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[b4]},$$scope:{ctx:t}}}),o=new wo({props:{class:"max-w-64 rounded-3xl "+(t[0].type<0&&!t[0].water?"hidden":""),$$slots:{default:[w4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&8303&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class="max-w-64 rounded-3xl "+(r[0].type<0&&!r[0].water?"hidden":"")),l&8217&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function C4(t){let e,n;return e=new ko({props:{openDelay:400,closeDelay:0,$$slots:{default:[k4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,[i]){const r={};i&8319&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function T4(t,e,n){let o,i,r,l,a,s;ue(t,Ze,_=>n(5,o=_)),ue(t,Ne,_=>n(3,i=_)),ue(t,Ot,_=>n(11,r=_)),ue(t,ro,_=>n(12,l=_)),ue(t,Ft,_=>n(10,a=_)),ue(t,so,_=>n(6,s=_));let{data:u={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,f,{classText:c=""}=e,{canBeUpgraded:d=!1}=e;const m=(_,C)=>i.liege_location!=null&&_==i.liege_location[0]&&C==i.liege_location[1];function h(_,C,v){let T=document.querySelectorAll(".plot_container");if(r==!1){if(u.referencePlot!=null&&u.referencePlot[0]!==null&&C==null&&v==null&&u.referencePlot[1]!==void 0)return h(_,u.referencePlot[0],u.referencePlot[1]);if(!u.active&&!d)Ae(ro,l={},l),Ae(Ze,o.visible=!1,o),T.forEach(L=>{L.classList.remove("selected")});else{C!=null&&v!=null?(Ae(Ze,o.x=C,o),Ae(Ze,o.y=v,o)):(Ae(Ze,o.x=u.x,o),Ae(Ze,o.y=u.y,o)),Ae(Ze,o.isMineralSource=u.mineralSource,o),Ae(Ze,o.visible=!0,o);const L=document.querySelector(`.plot_container[data-id="${u.id}"]`),D=document.documentElement||document.body,j=L.getBoundingClientRect(),$=window.innerHeight||D.clientHeight,I=window.innerWidth||D.clientWidth,N=D.scrollTop+j.top-$/2+225,q=D.scrollLeft+j.left-I/2;window.scrollTo({top:N,left:q,behavior:"smooth"}),T.forEach(k=>{k.classList.remove("selected")}),C!=null&&v!=null?document.querySelector(`.plot_container[data-x="${C}"][data-y="${v}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${u.id}"]`).classList.add("selected")}}}function p(_){r==!1&&(Ae(Ne,i.plots[u.x][u.y].type=_,i),Ae(Ze,o.visible=!1,o))}return t.$$set=_=>{"data"in _&&n(0,u=_.data),"classText"in _&&n(1,c=_.classText),"canBeUpgraded"in _&&n(2,d=_.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1033&&(u.type>-1&&n(4,f=le[u.type]),u.disabled==!0&&a.visible==!1&&(Pn(u.x,u.y,i),n(0,u.disabled=!1,u),Ae(Ft,a.visible=!1,a)))},[u,c,d,i,f,o,s,m,h,p,a]}class S4 extends _e{constructor(e){super(),he(this,e,T4,C4,pe,{data:0,classText:1,canBeUpgraded:2,changePlotType:9})}get changePlotType(){return this.$$.ctx[9]}}function Qu(t,e,n){const o=t.slice();return o[8]=e[n],o[10]=n,o}function zu(t,e,n){const o=t.slice();return o[11]=e[n],o}function ef(t){let e,n,o,i,r,l,a,s,u,f,c,d=t[3],m,h,p=Ye(t[1].plots),_=[];for(let T=0;T<p.length;T+=1)_[T]=nf(Qu(t,p,T));const C=T=>S(_[T],1,1,()=>{_[T]=null});a=new xu({props:{direction:"east"}}),f=new xu({props:{direction:"south"}});let v=rf(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("div");for(let T=0;T<_.length;T+=1)_[T].c();r=B(),l=P("span"),Y(a.$$.fragment),s=B(),u=P("span"),Y(f.$$.fragment),c=B(),v.c(),m=Le(),E(i,"class","grid plot_controller svelte-1udphho"),E(o,"class","flex flex-row items-center"),E(n,"style",t[2]),E(n,"id","plotContainerMain"),E(n,"class","items-center h-max flex flex-col pr-80 pb-80  svelte-1udphho"),E(e,"class","flex flex-col")},m(T,L){O(T,e,L),b(e,n),b(n,o),b(o,i);for(let D=0;D<_.length;D+=1)_[D]&&_[D].m(i,null);b(o,r),b(o,l),V(a,l,null),b(n,s),b(n,u),V(f,u,null),O(T,c,L),v.m(T,L),O(T,m,L),h=!0},p(T,L){if(L&3){p=Ye(T[1].plots);let D;for(D=0;D<p.length;D+=1){const j=Qu(T,p,D);_[D]?(_[D].p(j,L),w(_[D],1)):(_[D]=nf(j),_[D].c(),w(_[D],1),_[D].m(i,null))}for(Me(),D=p.length;D<_.length;D+=1)C(D);Oe()}(!h||L&4)&&E(n,"style",T[2]),L&8&&pe(d,d=T[3])?(Me(),S(v,1,1,Ie),Oe(),v=rf(T),v.c(),w(v,1),v.m(m.parentNode,m)):v.p(T,L)},i(T){if(!h){for(let L=0;L<p.length;L+=1)w(_[L]);w(a.$$.fragment,T),w(f.$$.fragment,T),w(v),h=!0}},o(T){_=_.filter(Boolean);for(let L=0;L<_.length;L+=1)S(_[L]);S(a.$$.fragment,T),S(f.$$.fragment,T),S(v),h=!1},d(T){T&&(M(e),M(c),M(m)),st(_,T),x(a),x(f),v.d(T)}}}function tf(t){let e,n;return e=new S4({props:{classText:"hexagon",data:t[11],canBeUpgraded:Si(t[11].x,t[11].y,t[1])}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&2&&(r.data=o[11]),i&2&&(r.canBeUpgraded=Si(o[11].x,o[11].y,o[1])),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function nf(t){let e,n,o,i,r,l=Ye(t[8]),a=[];for(let u=0;u<l.length;u+=1)a[u]=tf(zu(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=P("div");for(let u=0;u<a.length;u+=1)a[u].c();n=B(),E(e,"class","row "+(t[10]%2!==0?"odd-row":"")+" svelte-1udphho")},m(u,f){O(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);b(e,n),o=!0,i||(r=ne(e,"click",t[0]),i=!0)},p(u,f){if(f&2){l=Ye(u[8]);let c;for(c=0;c<l.length;c+=1){const d=zu(u,l,c);a[c]?(a[c].p(d,f),w(a[c],1)):(a[c]=tf(d),a[c].c(),w(a[c],1),a[c].m(e,n))}for(Me(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)w(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);o=!1},d(u){u&&M(e),st(a,u),i=!1,r()}}}function of(t){let e,n;return e=new rd({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.x=o[4].x),i&16&&(r.y=o[4].y),i&16&&(r.open=o[4].visible),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function rf(t){let e,n,o=t[4].visible&&of(t);return{c(){o&&o.c(),e=Le()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,r){i[4].visible?o?(o.p(i,r),r&16&&w(o,1)):(o=of(i),o.c(),w(o,1),o.m(e.parentNode,e)):o&&(Me(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(w(o),n=!0)},o(i){S(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}function A4(t){let e,n,o=t[1]!=null&&ef(t);return{c(){o&&o.c(),e=Le()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[1]!=null?o?(o.p(i,r),r&2&&w(o,1)):(o=ef(i),o.c(),w(o,1),o.m(e.parentNode,e)):o&&(Me(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(w(o),n=!0)},o(i){S(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}const Mr="plotsSize";function I4(t,e,n){let o,i,r;ue(t,ro,c=>n(3,o=c)),ue(t,Ne,c=>n(1,i=c)),ue(t,Ze,c=>n(4,r=c));let l,a=localStorage.getItem(Mr)?parseInt(localStorage.getItem(Mr)):0,s=["margin-left: 300px; margin-top: 200px; scale: 1;","margin-left: 650px; margin-top: 600px; scale: 1.5;","margin-left: -50px; margin-top: -50px; scale: 0.6;"];document.addEventListener("keypress",function(c){c.key==="z"&&(a==s.length-1?n(5,a=0):n(5,a++,a),localStorage.setItem(Mr,a.toString()))}),document.addEventListener("click",function(c){const d=c.target;(d.dataset.x==null&&d.dataset.type!="-1"&&d.dataset.size!=null||d.id=="plotContainerMain"||d.classList.contains("row")||d.classList.contains("grid"))&&Ae(Ze,r.visible=!1,r)});function u(){let c=[];for(let d=0;d<i.plots.length;d++)for(let m=0;m<i.plots.length;m++)Si(d,m,i)&&i.plots[d][m].active==!1&&c.push(i.plots[d][m])}function f(){Ae(ro,o={},o)}return t.$$.update=()=>{t.$$.dirty&2&&i&&u(),t.$$.dirty&32&&n(2,l=s[a])},[f,i,l,o,r,a]}class M4 extends _e{constructor(e){super(),he(this,e,I4,A4,pe,{restartModifyPlotMenu:0})}get restartModifyPlotMenu(){return this.$$.ctx[0]}}function lf(t,e,n){const o=t.slice();return o[5]=e[n],o}function sf(t){let e,n;return e=new Zg({props:{thumb:t[5],class:"block h-4 w-4  bg-accent focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function O4(t){let e,n,o,i,r;n=new xg({props:{class:"absolute h-full bg-primary"}});let l=Ye(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=sf(lf(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=P("span"),Y(n.$$.fragment),o=B();for(let u=0;u<a.length;u+=1)a[u].c();i=Le(),E(e,"class","relative h-2 w-full grow overflow-hidden bg-black")},m(u,f){O(u,e,f),V(n,e,null),O(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);O(u,i,f),r=!0},p(u,f){if(f&16){l=Ye(u[4]);let c;for(c=0;c<l.length;c+=1){const d=lf(u,l,c);a[c]?(a[c].p(d,f),w(a[c],1)):(a[c]=sf(d),a[c].c(),w(a[c],1),a[c].m(i.parentNode,i))}for(Me(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!r){w(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)w(a[f]);r=!0}},o(u){S(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);r=!1},d(u){u&&(M(e),M(o),M(i)),x(n),st(a,u)}}}function P4(t){let e,n,o;const i=[{class:He("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[O4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=ee(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new qg({props:l}),Ee.push(()=>Yt(e,"value",r)),{c(){Y(e.$$.fragment)},m(a,s){V(e,a,s),o=!0},p(a,[s]){const u=s&6?Ce(i,[s&2&&{class:He("relative flex w-full touch-none select-none items-center",a[1])},s&4&&it(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],Wt(()=>n=!1)),e.$set(u)},i(a){o||(w(e.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),o=!1},d(a){x(e,a)}}}function N4(t,e,n){const o=["class","value"];let i=de(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=ee(ee({},e),Re(s)),n(2,i=de(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class af extends _e{constructor(e){super(),he(this,e,N4,P4,pe,{class:1,value:0})}}function uf(t,e,n){const o=t.slice();return o[13]=e[n],o}function ff(t){let e,n,o,i=t[13].day+"",r,l,a,s=t[13].message+"",u,f,c;return{c(){e=P("div"),n=P("p"),o=G("DAY "),r=G(i),l=B(),a=P("p"),u=G(s),f=B(),E(n,"class","font-mono text-[10px]  svelte-1m80q9z"),E(a,"class","text-xs svelte-1m80q9z"),E(e,"class",c="px-2 py-2 rounded-2xl fade-in mb-4 "+(t[13].vibe==tt.BAD?"bg-white text-textDanger border ":t[13].vibe==tt.GOOD?"bg-green-300":(t[13].vibe==tt.NORMAL,"bg-accent"))+" svelte-1m80q9z")},m(d,m){O(d,e,m),b(e,n),b(n,o),b(n,r),b(e,l),b(e,a),b(a,u),b(e,f)},p(d,m){m&1&&i!==(i=d[13].day+"")&&ce(r,i),m&1&&s!==(s=d[13].message+"")&&ce(u,s),m&1&&c!==(c="px-2 py-2 rounded-2xl fade-in mb-4 "+(d[13].vibe==tt.BAD?"bg-white text-textDanger border ":d[13].vibe==tt.GOOD?"bg-green-300":(d[13].vibe==tt.NORMAL,"bg-accent"))+" svelte-1m80q9z")&&E(e,"class",c)},d(d){d&&M(e)}}}function E4(t){let e,n,o,i,r,l,a,s,u,f=ot(t[0].economyAndLaws.tax_rate*100,0)+"",c,d,m,h,p,_,C,v,T,L,D=ot(t[0].townInfo.productivity,0)+"",j,$,I,N,q,k,y,A,R,W,F,U,K,Z,te,J,X,fe,se,oe,$e,Fe,g,z;h=new af({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[7],min:0,max:.5,step:.05,class:"cursor-pointer w-[75%]"}}),N=new af({props:{value:[t[0].townInfo.productivity],onValueChange:t[6],min:0,max:200,step:5,class:"cursor-pointer w-[75%]"}}),A=new qt({props:{text:t[2]?"Select an active plot!":"👑 Set your location (boost)",onOpen:t[8]}}),W=new qt({props:{text:"🧠 Sell Knowledge",onOpen:t[9]}}),U=new qt({props:{text:"🏢 Manage City",onOpen:t[10]}}),Z=new qt({props:{text:t[0].lab.active_experiment!==null?`${t[0].lab.active_experiment.duration}`:"🧪 Manage Lab",onOpen:t[5],opacity:Be("lab",t[0]).length>=1?100:30,onHoverText:Be("lab",t[0]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."}});let Q=Ye(t[0].townLog),ie=[];for(let re=0;re<Q.length;re+=1)ie[re]=ff(uf(t,Q,re));return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("div"),r=P("div"),l=P("div"),a=P("span"),a.textContent="Tax Rate",s=B(),u=P("span"),c=G(f),d=G("%"),m=B(),Y(h.$$.fragment),p=B(),_=P("div"),C=P("div"),v=P("span"),v.textContent="Productivity",T=B(),L=P("span"),j=G(D),$=G("%"),I=B(),Y(N.$$.fragment),q=B(),k=P("div"),y=P("div"),Y(A.$$.fragment),R=B(),Y(W.$$.fragment),F=B(),Y(U.$$.fragment),K=B(),Y(Z.$$.fragment),te=B(),J=P("div"),X=P("div"),fe=P("h3"),se=B(),oe=P("div");for(let re=0;re<ie.length;re+=1)ie[re].c();E(a,"class","text-sm svelte-1m80q9z"),E(u,"class","text-sm svelte-1m80q9z"),E(l,"class","mb-1 svelte-1m80q9z"),E(r,"class","flex flex-col justify-center w-full text-center items-center gap-1 min-h-12 pb-2 rounded-xl svelte-1m80q9z"),E(v,"class","text-sm svelte-1m80q9z"),E(L,"class","text-sm svelte-1m80q9z"),E(C,"class","mb-1 svelte-1m80q9z"),E(_,"class","flex flex-col justify-center w-full text-center items-center gap-2 svelte-1m80q9z"),E(i,"class","flex flex-col gap-2 rounded-xl text-center justify-center mb-2 mt-0 pt-2 svelte-1m80q9z"),E(y,"class","flex flex-col gap-2 svelte-1m80q9z"),E(k,"class","svelte-1m80q9z"),E(fe,"class","text-md cursor-pointer  svelte-1m80q9z"),E(X,"class","flex flex-row gap-2 items-start justify-center pb-2 svelte-1m80q9z"),E(oe,"class","overflow-y-scroll h-[100%] w-[100%] pb-4 scroll-smooth svelte-1m80q9z"),E(J,"class","svelte-1m80q9z"),E(o,"class","flex flex-col justify-center mx-2 gap-4 svelte-1m80q9z"),E(n,"class","w-[220px] text-sidebarText bg-sidebarBackground overflow-scroll border-foregroundDark border-4 bottom-4 z-10 fixed left-3 py-2 top-16 drop-shadow-xl rounded-xl transition-all duration-300 svelte-1m80q9z"),E(e,"class",$e="flex flex-row text-sidebarText bg-sidebarBackground overflow-clip "+(t[1].visible?"opacity-10":"")+" svelte-1m80q9z")},m(re,ke){O(re,e,ke),b(e,n),b(n,o),b(o,i),b(i,r),b(r,l),b(l,a),b(l,s),b(l,u),b(u,c),b(u,d),b(r,m),V(h,r,null),b(i,p),b(i,_),b(_,C),b(C,v),b(C,T),b(C,L),b(L,j),b(L,$),b(_,I),V(N,_,null),b(o,q),b(o,k),b(k,y),V(A,y,null),b(y,R),V(W,y,null),b(y,F),V(U,y,null),b(y,K),V(Z,y,null),b(o,te),b(o,J),b(J,X),b(X,fe),b(J,se),b(J,oe);for(let Pe=0;Pe<ie.length;Pe+=1)ie[Pe]&&ie[Pe].m(oe,null);Fe=!0,g||(z=ne(fe,"click",t[11]),g=!0)},p(re,[ke]){(!Fe||ke&1)&&f!==(f=ot(re[0].economyAndLaws.tax_rate*100,0)+"")&&ce(c,f);const Pe={};ke&1&&(Pe.value=[re[0].economyAndLaws.tax_rate]),h.$set(Pe),(!Fe||ke&1)&&D!==(D=ot(re[0].townInfo.productivity,0)+"")&&ce(j,D);const je={};ke&1&&(je.value=[re[0].townInfo.productivity]),N.$set(je);const xe={};ke&4&&(xe.text=re[2]?"Select an active plot!":"👑 Set your location (boost)"),ke&4&&(xe.onOpen=re[8]),A.$set(xe);const De={};ke&8&&(De.onOpen=re[9]),W.$set(De);const Ke={};ke&16&&(Ke.onOpen=re[10]),U.$set(Ke);const Xe={};if(ke&1&&(Xe.text=re[0].lab.active_experiment!==null?`${re[0].lab.active_experiment.duration}`:"🧪 Manage Lab"),ke&1&&(Xe.opacity=Be("lab",re[0]).length>=1?100:30),ke&1&&(Xe.onHoverText=Be("lab",re[0]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."),Z.$set(Xe),ke&1){Q=Ye(re[0].townLog);let we;for(we=0;we<Q.length;we+=1){const qe=uf(re,Q,we);ie[we]?ie[we].p(qe,ke):(ie[we]=ff(qe),ie[we].c(),ie[we].m(oe,null))}for(;we<ie.length;we+=1)ie[we].d(1);ie.length=Q.length}(!Fe||ke&2&&$e!==($e="flex flex-row text-sidebarText bg-sidebarBackground overflow-clip "+(re[1].visible?"opacity-10":"")+" svelte-1m80q9z"))&&E(e,"class",$e)},i(re){Fe||(w(h.$$.fragment,re),w(N.$$.fragment,re),w(A.$$.fragment,re),w(W.$$.fragment,re),w(U.$$.fragment,re),w(Z.$$.fragment,re),Fe=!0)},o(re){S(h.$$.fragment,re),S(N.$$.fragment,re),S(A.$$.fragment,re),S(W.$$.fragment,re),S(U.$$.fragment,re),S(Z.$$.fragment,re),Fe=!1},d(re){re&&M(e),x(h),x(N),x(A),x(W),x(U),x(Z),st(ie,re),g=!1,z()}}}function $4(t,e,n){let o,i,r,l,a;ue(t,Ne,p=>n(0,o=p)),ue(t,Ze,p=>n(1,i=p)),ue(t,so,p=>n(2,r=p)),ue(t,lo,p=>n(3,l=p)),ue(t,ao,p=>n(4,a=p)),localStorage.getItem("mute");function s(){o.hasLab&&Qn.set(!0)}function u(p){let _=o;_.townInfo.productivity=ot(p[0],2),Ne.set(_),localStorage.setItem(mt,JSON.stringify(_))}function f(p){let _=o;_.economyAndLaws.tax_rate=ot(p[0],2),Ne.set(_),localStorage.setItem(mt,JSON.stringify(_))}const c=function(){Ae(so,r=!r,r)},d=function(){Ae(lo,l=!l,l)},m=function(){Ae(ao,a=!a,a)},h=()=>{Ae(Ne,o.townLog=[],o)};return localStorage.getItem("mute"),[o,i,r,l,a,s,u,f,c,d,m,h]}class R4 extends _e{constructor(e){super(),he(this,e,$4,E4,pe,{})}}function L4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m;return o=new p3({}),l=new R4({}),s=new M4({}),f=new od({}),d=new rd({}),{c(){e=P("div"),n=P("div"),Y(o.$$.fragment),i=B(),r=P("div"),Y(l.$$.fragment),a=B(),Y(s.$$.fragment),u=B(),Y(f.$$.fragment),c=B(),Y(d.$$.fragment),E(r,"class","flex flex-row text-accentText"),E(e,"class","flex flex-col max-h-[100%] justify-between")},m(h,p){O(h,e,p),b(e,n),V(o,n,null),b(e,i),b(e,r),V(l,r,null),b(r,a),V(s,r,null),b(r,u),V(f,r,null),b(r,c),V(d,r,null),m=!0},p:Ie,i(h){m||(w(o.$$.fragment,h),w(l.$$.fragment,h),w(s.$$.fragment,h),w(f.$$.fragment,h),w(d.$$.fragment,h),m=!0)},o(h){S(o.$$.fragment,h),S(l.$$.fragment,h),S(s.$$.fragment,h),S(f.$$.fragment,h),S(d.$$.fragment,h),m=!1},d(h){h&&M(e),x(o),x(l),x(s),x(f),x(d)}}}class D4 extends _e{constructor(e){super(),he(this,e,null,L4,pe,{})}}function j4(t){let e=t[1].townInfo.name+"",n;return{c(){n=G(e)},m(o,i){O(o,n,i)},p(o,i){i&2&&e!==(e=o[1].townInfo.name+"")&&ce(n,e)},d(o){o&&M(n)}}}function F4(t){let e,n,o,i=t[1].townInfo.name+"",r,l,a,s,u,f;return{c(){e=P("span"),n=G("The town of "),o=P("span"),r=G(i),l=G(` has been
          founded!`),a=B(),s=P("span"),s.textContent=`Your goal is to build a great town and keep your people happy. Use the
          milestones on the right side as a guide.`,u=B(),f=P("span"),f.textContent="Start by building a set of homes, some farms, and a tree farm.",E(o,"class","text-accent")},m(c,d){O(c,e,d),b(e,n),b(e,o),b(o,r),b(e,l),O(c,a,d),O(c,s,d),O(c,u,d),O(c,f,d)},p(c,d){d&2&&i!==(i=c[1].townInfo.name+"")&&ce(r,i)},d(c){c&&(M(e),M(a),M(s),M(u),M(f))}}}function q4(t){let e,n,o,i;return e=new on({props:{class:"text-xl font-semibold text-center",$$slots:{default:[j4]},$$scope:{ctx:t}}}),o=new Bn({props:{class:"text-center mt-2 text-sm text-sidebarText/80 flex flex-col gap-2",$$slots:{default:[F4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&18&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&18&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function B4(t){let e,n,o;return{c(){e=P("button"),e.textContent="Begin",E(e,"class","bg-accent hover:bg-accent/80 text-white px-4 py-2 rounded-md transition-colors")},m(i,r){O(i,e,r),n||(o=ne(e,"click",t[2]),n=!0)},p:Ie,d(i){i&&M(e),n=!1,o()}}}function H4(t){let e,n,o,i;return e=new rn({props:{$$slots:{default:[q4]},$$scope:{ctx:t}}}),o=new wn({props:{class:"mt-4 flex justify-center",$$slots:{default:[B4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&18&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function G4(t){let e,n;return e=new ln({props:{transition:_o,class:"bg-sidebarBackground text-sidebarText max-w-md rounded-md shadow-xl border border-accent p-4",$$slots:{default:[H4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&19&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function W4(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[G4]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new sn({props:r}),Ee.push(()=>Yt(e,"open",i)),{c(){Y(e.$$.fragment)},m(l,a){V(e,l,a),o=!0},p(l,[a]){const s={};a&19&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Wt(()=>n=!1)),e.$set(s)},i(l){o||(w(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function V4(t,e,n){let o,i;ue(t,pi,a=>n(0,o=a)),ue(t,Ne,a=>n(1,i=a));const r=()=>Ae(pi,o=!1,o);function l(a){o=a,pi.set(o)}return[o,i,r,l]}class x4 extends _e{constructor(e){super(),he(this,e,V4,W4,pe,{})}}function cf(t,e,n){const o=t.slice();return o[7]=e[n],o}function Y4(t){let e,n,o=t[0].townInfo.name+"",i,r,l,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=P("div"),n=P("span"),i=G(o),r=B(),l=P("span"),a=G("🧑‍⚖️ "),u=G(s),E(e,"class","flex justify-between mr-10")},m(f,c){O(f,e,c),b(e,n),b(n,i),b(e,r),b(e,l),b(l,a),b(l,u)},p(f,c){c&1&&o!==(o=f[0].townInfo.name+"")&&ce(i,o),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&ce(u,s)},d(f){f&&M(e)}}}function df(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,p=t[0].townInfo.guardians+"",_,C,v,T,L,D=t[0].townInfo.population_count-t[0].townInfo.employees+"",j,$,I;return e=new vt({props:{class:"mb-4"}}),d=new St({props:{class:`bg-accent rounded-2xl h-min select-none
            `+(t[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[U4]},$$scope:{ctx:t}}}),d.$on("click",t[2]),v=new St({props:{class:`bg-accent rounded-2xl h-min select-none
            
              `+(t[0].townInfo.employees>=t[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[K4]},$$scope:{ctx:t}}}),v.$on("click",t[3]),{c(){Y(e.$$.fragment),n=B(),o=P("div"),i=P("span"),i.textContent="Hire Guardians ⚔️",r=B(),l=P("br"),a=B(),s=P("span"),s.textContent=`Guardians work for you and are required to expand your kingdom.
            They do not generate revenue, but still require housing & food.`,u=B(),f=P("div"),c=P("div"),Y(d.$$.fragment),m=B(),h=P("span"),_=G(p),C=B(),Y(v.$$.fragment),T=B(),L=P("span"),j=G(D),$=G(`
              unemployed available for hire.`),E(i,"class","text-lg font-bold"),E(s,"class","text-sm"),E(h,"class","text-lg font-bold select-none px-2"),E(L,"class","w-max"),E(f,"class","flex flex-row justify-between align-middle items-center pt-2 pb-2 gap-2 "),E(o,"class","w-full")},m(N,q){V(e,N,q),O(N,n,q),O(N,o,q),b(o,i),b(o,r),b(o,l),b(o,a),b(o,s),b(o,u),b(o,f),b(f,c),V(d,c,null),b(c,m),b(c,h),b(h,_),b(c,C),V(v,c,null),b(f,T),b(f,L),b(L,j),b(L,$),I=!0},p(N,q){const k={};q&1&&(k.class=`bg-accent rounded-2xl h-min select-none
            `+(N[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `),q&1024&&(k.$$scope={dirty:q,ctx:N}),d.$set(k),(!I||q&1)&&p!==(p=N[0].townInfo.guardians+"")&&ce(_,p);const y={};q&1&&(y.class=`bg-accent rounded-2xl h-min select-none
            
              `+(N[0].townInfo.employees>=N[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `),q&1024&&(y.$$scope={dirty:q,ctx:N}),v.$set(y),(!I||q&1)&&D!==(D=N[0].townInfo.population_count-N[0].townInfo.employees+"")&&ce(j,D)},i(N){I||(w(e.$$.fragment,N),w(d.$$.fragment,N),w(v.$$.fragment,N),I=!0)},o(N){S(e.$$.fragment,N),S(d.$$.fragment,N),S(v.$$.fragment,N),I=!1},d(N){N&&(M(n),M(o)),x(e,N),x(d),x(v)}}}function U4(t){let e;return{c(){e=G("-")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function K4(t){let e;return{c(){e=G("+")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function X4(t){let e;return{c(){e=G("Build a City Hall to manage your city.")},m(n,o){O(n,e,o)},p:Ie,i:Ie,o:Ie,d(n){n&&M(e)}}}function J4(t){let e,n,o,i,r=Ye(Dr),l=[];for(let s=0;s<r.length;s+=1)l[s]=mf(cf(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=P("span"),e.textContent="Laws 🧑‍⚖️",n=B();for(let s=0;s<l.length;s+=1)l[s].c();o=Le(),E(e,"class","text-lg font-bold")},m(s,u){O(s,e,u),O(s,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);O(s,o,u),i=!0},p(s,u){if(u&1){r=Ye(Dr);let f;for(f=0;f<r.length;f+=1){const c=cf(s,r,f);l[f]?(l[f].p(c,u),w(l[f],1)):(l[f]=mf(c),l[f].c(),w(l[f],1),l[f].m(o.parentNode,o))}for(Me(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)w(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(M(e),M(n),M(o)),st(l,s)}}}function Z4(t){let e,n=t[7].cost+"",o;return{c(){e=G("Enact for 🧑‍⚖️ "),o=G(n)},m(i,r){O(i,e,r),O(i,o,r)},d(i){i&&(M(e),M(o))}}}function Q4(t){let e;return{c(){e=G("Repeal ❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function z4(t){let e,n;function o(l,a){return a&1&&(e=null),e==null&&(e=!!l[0].economyAndLaws.enacted.includes(l[7].id)),e?Q4:Z4}let i=o(t,-1),r=i(t);return{c(){r.c(),n=Le()},m(l,a){r.m(l,a),O(l,n,a)},p(l,a){i!==(i=o(l,a))&&(r.d(1),r=i(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&M(n),r.d(l)}}}function mf(t){let e,n,o,i,r,l,a;function s(){return t[4](t[7])}return i=new St({props:{class:`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `,$$slots:{default:[z4]},$$scope:{ctx:t}}}),i.$on("click",s),l=new vt({props:{class:"bg-white opacity-30"}}),{c(){e=P("div"),n=P("span"),n.textContent=`${t[7].description}`,o=B(),Y(i.$$.fragment),r=B(),Y(l.$$.fragment),E(n,"class","text-sm"),E(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){O(u,e,f),b(e,n),b(e,o),V(i,e,null),O(u,r,f),V(l,u,f),a=!0},p(u,f){t=u;const c={};f&1&&(c.class=`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `),f&1025&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(w(i.$$.fragment,u),w(l.$$.fragment,u),a=!0)},o(u){S(i.$$.fragment,u),S(l.$$.fragment,u),a=!1},d(u){u&&(M(e),M(r)),x(i),x(l,u)}}}function eC(t){let e,n,o,i,r=Be("city_hall",t[0]).length>0,l,a,s,u,f,c,d,m;e=new on({props:{class:"text-lg",$$slots:{default:[Y4]},$$scope:{ctx:t}}}),o=new Bn({props:{class:"w-full "}});let h=r&&df(t);a=new vt({props:{class:"mb-4"}});const p=[J4,X4],_=[];function C(v,T){return T&1&&(f=null),f==null&&(f=Be("city_hall",v[0]).length>0),f?0:1}return c=C(t,-1),d=_[c]=p[c](t),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment),i=B(),h&&h.c(),l=B(),Y(a.$$.fragment),s=B(),u=P("div"),d.c(),E(u,"class","w-full")},m(v,T){V(e,v,T),O(v,n,T),V(o,v,T),O(v,i,T),h&&h.m(v,T),O(v,l,T),V(a,v,T),O(v,s,T),O(v,u,T),_[c].m(u,null),m=!0},p(v,T){const L={};T&1025&&(L.$$scope={dirty:T,ctx:v}),e.$set(L),T&1&&(r=Be("city_hall",v[0]).length>0),r?h?(h.p(v,T),T&1&&w(h,1)):(h=df(v),h.c(),w(h,1),h.m(l.parentNode,l)):h&&(Me(),S(h,1,1,()=>{h=null}),Oe());let D=c;c=C(v,T),c===D?_[c].p(v,T):(Me(),S(_[D],1,1,()=>{_[D]=null}),Oe(),d=_[c],d?d.p(v,T):(d=_[c]=p[c](v),d.c()),w(d,1),d.m(u,null))},i(v){m||(w(e.$$.fragment,v),w(o.$$.fragment,v),w(h),w(a.$$.fragment,v),w(d),m=!0)},o(v){S(e.$$.fragment,v),S(o.$$.fragment,v),S(h),S(a.$$.fragment,v),S(d),m=!1},d(v){v&&(M(n),M(i),M(l),M(s),M(u)),x(e,v),x(o,v),h&&h.d(v),x(a,v),_[c].d()}}}function tC(t){let e,n,o,i;return e=new rn({props:{$$slots:{default:[eC]},$$scope:{ctx:t}}}),o=new wn({}),{c(){Y(e.$$.fragment),n=B(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&1025&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function nC(t){let e,n;return e=new ln({props:{class:"bg-foreground text-accentText h-[80vh] w-full scroll",$$slots:{default:[tC]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&1025&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function oC(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[nC]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new sn({props:r}),Ee.push(()=>Yt(e,"open",i)),{c(){Y(e.$$.fragment)},m(l,a){V(e,l,a),o=!0},p(l,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Wt(()=>n=!1)),e.$set(s)},i(l){o||(w(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function iC(t,e,n){let o,i;ue(t,Ne,u=>n(0,o=u)),ue(t,ao,u=>n(1,i=u));const r=()=>{o.townInfo.guardians>0?(Ae(Ne,o.townInfo.guardians-=1,o),Ae(Ne,o.townInfo.employees-=1,o)):Ct.set("No guardians to fire.")},l=()=>{o.townInfo.employees<o.townInfo.population_count?(Ae(Ne,o.townInfo.guardians+=1,o),Ae(Ne,o.townInfo.employees+=1,o)):Ct.set("Not enough people.")},a=u=>{o.economyAndLaws.enacted.includes(u.id)?o.economyAndLaws.enacted.splice(o.economyAndLaws.enacted.indexOf(u.id),1):u.cost<=o.resources.bureaucracy?(Ae(Ne,o.resources.bureaucracy-=u.cost,o),o.economyAndLaws.enacted.push(u.id)):Ct.set("Not enough bureaucracy!")};function s(u){i=u,ao.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[o,i,r,l,a,s]}class rC extends _e{constructor(e){super(),he(this,e,iC,oC,pe,{})}}function lC(t){let e;return{c(){e=G("Got it")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function sC(t){let e,n,o,i,r,l,a,s;return r=new vc({props:{class:"bg-accent hover:scale-105 min-w-[70%] transition-all duration-150 mt-2",$$slots:{default:[lC]},$$scope:{ctx:t}}}),r.$on("click",t[1]),a=new vl({}),{c(){e=P("span"),n=G("🛎️ "),o=new Jt(!1),i=B(),Y(r.$$.fragment),l=B(),Y(a.$$.fragment),o.a=null,E(e,"class","whitespace-pre-wrap overflow-scroll text-center sm:whitespace-normal break-all sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center"),ze(e,"max-height","80%")},m(u,f){O(u,e,f),b(e,n),o.m(t[0],e),O(u,i,f),V(r,u,f),O(u,l,f),V(a,u,f),s=!0},p(u,f){(!s||f&1)&&o.p(u[0]);const c={};f&4&&(c.$$scope={dirty:f,ctx:u}),r.$set(c)},i(u){s||(w(r.$$.fragment,u),w(a.$$.fragment,u),s=!0)},o(u){S(r.$$.fragment,u),S(a.$$.fragment,u),s=!1},d(u){u&&(M(e),M(i),M(l)),x(r,u),x(a,u)}}}function aC(t){let e,n;return e=new wl({props:{class:`bg-foregroundDark text-white rounded-input shadow-3xl justify-center items-center flex flex-col py-2 text-lg font-semibold p-2 min-w-96 min-h-36
         sm:rounded-2xl sm:flex sm:flex-col sm:p-6 sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center max-h-[50vh]

         `,$$slots:{default:[sC]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function uC(t){let e,n;return e=new kl({props:{open:t[0]!="",$$slots:{default:[aC]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,[i]){const r={};i&1&&(r.open=o[0]!=""),i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function fC(t,e,n){let o;return ue(t,Ct,r=>n(0,o=r)),[o,()=>{Ct.set("")}]}class cC extends _e{constructor(e){super(),he(this,e,fC,uC,pe,{})}}function pf(t){let e,n,o,i;const r=[mC,dC],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function dC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,p,_,C,v,T,L,D,j=t[2]==!0&&hf();n=new D4({}),i=new Rm({}),l=new qy({}),s=new hv({}),f=new H5({}),d=new c3({}),h=new rC({}),_=new cC({}),v=new My({});let $=t[0].environment.day==0&&t[3]&&_f();return{c(){j&&j.c(),e=B(),Y(n.$$.fragment),o=B(),Y(i.$$.fragment),r=B(),Y(l.$$.fragment),a=B(),Y(s.$$.fragment),u=B(),Y(f.$$.fragment),c=B(),Y(d.$$.fragment),m=B(),Y(h.$$.fragment),p=B(),Y(_.$$.fragment),C=B(),Y(v.$$.fragment),T=B(),$&&$.c(),L=Le()},m(I,N){j&&j.m(I,N),O(I,e,N),V(n,I,N),O(I,o,N),V(i,I,N),O(I,r,N),V(l,I,N),O(I,a,N),V(s,I,N),O(I,u,N),V(f,I,N),O(I,c,N),V(d,I,N),O(I,m,N),V(h,I,N),O(I,p,N),V(_,I,N),O(I,C,N),V(v,I,N),O(I,T,N),$&&$.m(I,N),O(I,L,N),D=!0},p(I,N){I[2]==!0?j?N&4&&w(j,1):(j=hf(),j.c(),w(j,1),j.m(e.parentNode,e)):j&&(Me(),S(j,1,1,()=>{j=null}),Oe()),I[0].environment.day==0&&I[3]?$?N&9&&w($,1):($=_f(),$.c(),w($,1),$.m(L.parentNode,L)):$&&(Me(),S($,1,1,()=>{$=null}),Oe())},i(I){D||(w(j),w(n.$$.fragment,I),w(i.$$.fragment,I),w(l.$$.fragment,I),w(s.$$.fragment,I),w(f.$$.fragment,I),w(d.$$.fragment,I),w(h.$$.fragment,I),w(_.$$.fragment,I),w(v.$$.fragment,I),w($),D=!0)},o(I){S(j),S(n.$$.fragment,I),S(i.$$.fragment,I),S(l.$$.fragment,I),S(s.$$.fragment,I),S(f.$$.fragment,I),S(d.$$.fragment,I),S(h.$$.fragment,I),S(_.$$.fragment,I),S(v.$$.fragment,I),S($),D=!1},d(I){I&&(M(e),M(o),M(r),M(a),M(u),M(c),M(m),M(p),M(C),M(T),M(L)),j&&j.d(I),x(n,I),x(i,I),x(l,I),x(s,I),x(f,I),x(d,I),x(h,I),x(_,I),x(v,I),$&&$.d(I)}}}function mC(t){let e,n;return e=new lv({}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p:Ie,i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function hf(t){let e,n;return e=new by({}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function _f(t){let e,n;return e=new x4({}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function pC(t){let e,n,o=(t[1]||t[0]==null)&&pf(t);return{c(){o&&o.c(),e=Le()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&w(o,1)):(o=pf(i),o.c(),w(o,1),o.m(e.parentNode,e)):o&&(Me(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(w(o),n=!0)},o(i){S(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}const hC=1e-4;function _C(t,e,n){return{r:Math.round(t.r+(e.r-t.r)*n),g:Math.round(t.g+(e.g-t.g)*n),b:Math.round(t.b+(e.b-t.b)*n)}}function gC(t,e,n){let o,i,r,l,a,s,u,f,c,d,m,h;ue(t,ro,$=>n(10,o=$)),ue(t,Ze,$=>n(11,i=$)),ue(t,Ot,$=>n(2,r=$)),ue(t,Ne,$=>n(0,l=$)),ue(t,so,$=>n(5,a=$)),ue(t,Ft,$=>n(12,s=$)),ue(t,Ii,$=>n(13,u=$)),ue(t,ao,$=>n(14,f=$)),ue(t,Qn,$=>n(15,c=$)),ue(t,lo,$=>n(16,d=$)),ue(t,qo,$=>n(17,m=$)),ue(t,pi,$=>n(3,h=$));let p=!1;Oy();let _=!1;const C=[{r:85,g:60,b:40},{r:115,g:85,b:55},{r:70,g:100,b:50},{r:120,g:65,b:50}];let v=0,T=1,L=0;function D(){const $=_C(C[v],C[T],L);document.body.style.backgroundColor=`rgb(${$.r}, ${$.g}, ${$.b})`,L+=hC,L>=1&&(L=0,v=T,T=(T+1)%C.length),requestAnimationFrame(D)}D(),document.addEventListener("keydown",$=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&$.key!=="Escape")return;switch($.key.toLowerCase()){case"p":case"escape":if(d){Ae(lo,d=!1,d);break}if(c){Ae(Qn,c=!1,c);break}if(f){Ae(ao,f=!1,f);break}if(u){Ae(Ii,u=!1,u);break}if(i.visible){Ae(Ze,i.visible=!1,i);break}if(s.visible){const N=l.plots[s.x][s.y];N.active=!1,N.type=-1,N.disabled=!1,Ae(Ft,s.visible=!1,s);break}if(a){so.set(!1),document.querySelectorAll(".plot_container").forEach(q=>{q.style.cursor=""});break}Ot.set(!r),r&&Ae(Ze,i.visible=!1,i);break}});function j($,I,N){if(_==!0)switch(N){case"up":I-=2;break;case"down":I+=1;break;case"left":$-=2;break;case"right":$+=1;break}$<0?$=0:$>l.plots.length&&($=l.plots.length),I<0?I=0:I>l.plots.length&&(I=l.plots.length);let q=document.querySelectorAll(".plot_container"),k;if(q.forEach(y=>{y.dataset.x=="$x"&&y.dataset.y=="$y"&&(k=y)}),r==!1){if(k.dataset.canBeUpgraded==="true"?Ae(Ze,i.visible=!0,i):Ae(Ze,i.visible=!1,i),k.dataset.refPlotX!==void 0&&k.dataset.refPlotY!=""?(_=!0,q.forEach(y=>{y.dataset.x==k.dataset.refPlotX&&y.dataset.y==k.dataset.refPlotY&&(k=y,$=parseInt(k.dataset.x),I=parseInt(k.dataset.y))})):_=!1,k.dataset.size!=="1"&&k.dataset.size!==void 0&&(_=!0),Ae(Ze,i.x=$,i),Ae(Ze,i.y=I,i),q.forEach(y=>{y.classList.remove("selected"),y.style.fontWeight=""}),k.classList.add("selected"),_){let y="4px solid #00800045";k.classList.remove("selected"),k.style.borderTop=y,k.style.borderLeft=y,k.style.fontWeight="600",q.forEach(A=>{const R=parseInt(`${A.dataset.x}`),W=parseInt(`${A.dataset.y}`);R==$+1&&W==I&&(A.style.borderLeft=y,A.style.borderBottom=y),R==$&&W==I+1&&(A.style.borderTop=y,A.style.borderRight=y),R==$+1&&W==I+1&&(A.style.borderBottom=y,A.style.borderRight=y)})}k.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Ae(ro,o={},o)}}return t.$$.update=()=>{t.$$.dirty&33&&(l?(Ae(qo,m.visible=!1,m),n(1,p=!0),a==!0&&document.querySelectorAll(".plot_container").forEach(I=>{I.dataset.canbeupgraded=="true"&&(I.style.cursor="pointer",I.style.cursor="url('https://github.com/josephrcox/plots/raw/main/public/liege_place.cur'), auto")})):(Ae(qo,m.visible=!0,m),n(1,p=!1)))},[l,p,r,h,j,a]}class bC extends _e{constructor(e){super(),he(this,e,gC,pC,pe,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new bC({target:document.getElementById("app")});
