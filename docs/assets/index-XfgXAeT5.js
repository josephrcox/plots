var ud=Object.defineProperty;var fd=(t,e,n)=>e in t?ud(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var fn=(t,e,n)=>(fd(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function cd(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function dd(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function yf(){let t=localStorage.getItem("plots_active_game_db");const e=await cd(t);return window.location.hostname=="localhost"?"http://localhost:5173/?shareId="+e:"http://plots.jsph.cx/?shareId="+e}const ar=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(ar.shareId!=null||ar.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(dd(ar.shareId));localStorage.setItem("plots_temp_game_db",JSON.stringify(t)),console.log("DECRYPED DATA",t)}else localStorage.removeItem("plots_temp_game_db"),console.log("COMPRESSING GAME TO SHARE"),yf();function Ie(){}const Xi=t=>t;function Q(t,e){for(const n in e)t[n]=e[n];return t}function vf(t){return t()}function Rl(){return Object.create(null)}function Ve(t){t.forEach(vf)}function jt(t){return typeof t=="function"}function me(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function md(t){return Object.keys(t).length===0}function il(t,...e){if(t==null){for(const o of e)o(void 0);return Ie}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function wf(t){let e;return il(t,n=>e=n)(),e}function ue(t,e,n){t.$$.on_destroy.push(il(e,n))}function ge(t,e,n,o){if(t){const i=kf(t,e,n,o);return t[0](i)}}function kf(t,e,n,o){return t[1]&&o?Q(n.ctx.slice(),t[1](o(e))):n.ctx}function be(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function ye(t,e,n,o,i,r){if(i){const l=kf(e,n,o,r);t.p(l,i)}}function ve(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function $e(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function ce(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Ae(t,e,n){return t.set(n),e}function Ge(t){return t&&jt(t.destroy)?t.destroy:Ie}const Cf=typeof window<"u";let rl=Cf?()=>window.performance.now():()=>Date.now(),ll=Cf?t=>requestAnimationFrame(t):Ie;const Zn=new Set;function Sf(t){Zn.forEach(e=>{e.c(t)||(Zn.delete(e),e.f())}),Zn.size!==0&&ll(Sf)}function sl(t){let e;return Zn.size===0&&ll(Sf),{promise:new Promise(n=>{Zn.add(e={c:t,f:n})}),abort(){Zn.delete(e)}}}const pd=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function y(t,e){t.appendChild(e)}function Tf(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function hd(t){const e=P("style");return e.textContent="/* empty */",_d(Tf(t),e),e.sheet}function _d(t,e){return y(t.head||t,e),e.sheet}function O(t,e,n){t.insertBefore(e,n||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function st(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function P(t){return document.createElement(t)}function Ji(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function W(t){return document.createTextNode(t)}function H(){return W(" ")}function Re(){return W("")}function te(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function gd(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function E(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const bd=["width","height"];function de(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&bd.indexOf(o)===-1?t[o]=e[o]:E(t,o,e[o])}function vi(t,e){for(const n in e)E(t,n,e[n])}function yd(t,e){Object.keys(e).forEach(n=>{vd(t,n,e[n])})}function vd(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:E(t,e,n)}function gn(t){return/-/.test(t)?yd:de}function wd(t){return Array.from(t.childNodes)}function fe(t,e){e=""+e,t.data!==e&&(t.data=e)}function wi(t,e){t.value=e??""}function ze(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Ll(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function ht(t,e,n){t.classList.toggle(e,!!n)}function Af(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class Zt{constructor(e=!1){fn(this,"is_svg",!1);fn(this,"e");fn(this,"n");fn(this,"t");fn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=Ji(n.nodeName):this.e=P(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)O(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(M)}}const ki=new Map;let Ci=0;function kd(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Cd(t,e){const n={stylesheet:hd(e),rules:{}};return ki.set(t,n),n}function Si(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let _=0;_<=1;_+=s){const k=e+(n-e)*r(_);u+=_*100+`%{${l(k,1-k)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${kd(f)}_${a}`,d=Tf(t),{stylesheet:m,rules:p}=ki.get(d)||Cd(d,t);p[c]||(p[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${c} ${o}ms linear ${i}ms 1 both`,Ci+=1,c}function Ti(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),Ci-=i,Ci||Sd())}function Sd(){ll(()=>{Ci||(ki.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&M(e)}),ki.clear())})}let Wo;function qo(t){Wo=t}function Jo(){if(!Wo)throw new Error("Function called outside component initialization");return Wo}function Zo(t){Jo().$$.on_mount.push(t)}function If(t){Jo().$$.on_destroy.push(t)}function Td(){const t=Jo();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=Af(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function Zi(t,e){return Jo().$$.context.set(t,e),e}function Qi(t){return Jo().$$.context.get(t)}function se(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const Kn=[],Ee=[];let Qn=[];const Pr=[],Mf=Promise.resolve();let Nr=!1;function Of(){Nr||(Nr=!0,Mf.then(Pf))}function al(){return Of(),Mf}function nt(t){Qn.push(t)}function Vt(t){Pr.push(t)}const ur=new Set;let Wn=0;function Pf(){if(Wn!==0)return;const t=Wo;do{try{for(;Wn<Kn.length;){const e=Kn[Wn];Wn++,qo(e),Ad(e.$$)}}catch(e){throw Kn.length=0,Wn=0,e}for(qo(null),Kn.length=0,Wn=0;Ee.length;)Ee.pop()();for(let e=0;e<Qn.length;e+=1){const n=Qn[e];ur.has(n)||(ur.add(n),n())}Qn.length=0}while(Kn.length);for(;Pr.length;)Pr.pop()();Nr=!1,ur.clear(),qo(t)}function Ad(t){if(t.fragment!==null){t.update(),Ve(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(nt)}}function Id(t){const e=[],n=[];Qn.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),Qn=e}let To;function ul(){return To||(To=Promise.resolve(),To.then(()=>{To=null})),To}function Mn(t,e,n){t.dispatchEvent(Af(`${e?"intro":"outro"}${n}`))}const mi=new Set;let qt;function Me(){qt={r:0,c:[],p:qt}}function Oe(){qt.r||Ve(qt.c),qt=qt.p}function w(t,e){t&&t.i&&(mi.delete(t),t.i(e))}function T(t,e,n,o){if(t&&t.o){if(mi.has(t))return;mi.add(t),qt.c.push(()=>{mi.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const fl={duration:0};function xt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&Ti(t,l)}function f(){const{delay:d=0,duration:m=300,easing:p=Xi,tick:h=Ie,css:_}=i||fl;_&&(l=Si(t,0,1,m,d,p,_,s++)),h(0,1);const k=rl()+d,v=k+m;a&&a.abort(),r=!0,nt(()=>Mn(t,!0,"start")),a=sl(S=>{if(r){if(S>=v)return h(1,0),Mn(t,!0,"end"),u(),r=!1;if(S>=k){const L=p((S-k)/m);h(L,1-L)}}return r})}let c=!1;return{start(){c||(c=!0,Ti(t),jt(i)?(i=i(o),ul().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function Yt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=qt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=Xi,tick:m=Ie,css:p}=i||fl;p&&(l=Si(t,1,0,c,f,d,p));const h=rl()+f,_=h+c;nt(()=>Mn(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),sl(k=>{if(r){if(k>=_)return m(0,1),Mn(t,!1,"end"),--a.r||Ve(a.c),!1;if(k>=h){const v=d((k-h)/c);m(1-v,v)}}return r})}return jt(i)?ul().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&Ti(t,l),r=!1)}}}function gt(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&Ti(t,u)}function d(p,h){const _=p.b-l;return h*=Math.abs(_),{a:l,b:p.b,d:_,duration:h,start:p.start,end:p.start+h,group:p.group}}function m(p){const{delay:h=0,duration:_=300,easing:k=Xi,tick:v=Ie,css:S}=r||fl,L={start:rl()+h,b:p};p||(L.group=qt,qt.r+=1),"inert"in t&&(p?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=L:(S&&(c(),u=Si(t,l,p,_,h,k,S)),p&&v(0,1),a=d(L,_),nt(()=>Mn(t,p,"start")),sl(j=>{if(s&&j>s.start&&(a=d(s,_),s=null,Mn(t,a.b,"start"),S&&(c(),u=Si(t,l,a.b,a.duration,0,k,r.css))),a){if(j>=a.end)v(l=a.b,1-l),Mn(t,a.b,"end"),s||(a.b?c():--a.group.r||Ve(a.group.c)),a=null;else if(j>=a.start){const F=j-a.start;l=a.a+a.d*k(F/a.duration),v(l,1-l)}}return!!(a||s)}))}return{run(p){jt(r)?ul().then(()=>{r=r({direction:p?"in":"out"}),m(p)}):m(p)},end(){c(),a=s=null}}}function Ye(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Md(t,e){T(t,1,1,()=>{e.delete(t.key)})}function Od(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,m=r.length,p=d;const h={};for(;p--;)h[t[p].key]=p;const _=[],k=new Map,v=new Map,S=[];for(p=m;p--;){const $=c(i,r,p),I=n($);let N=l.get(I);N?S.push(()=>N.p($,e)):(N=u(I,$),N.c()),k.set(I,_[p]=N),I in h&&v.set(I,Math.abs(p-h[I]))}const L=new Set,j=new Set;function F($){w($,1),$.m(a,f),l.set($.key,$),f=$.first,m--}for(;d&&m;){const $=_[m-1],I=t[d-1],N=$.key,q=I.key;$===I?(f=$.first,d--,m--):k.has(q)?!l.has(N)||L.has(N)?F($):j.has(q)?d--:v.get(N)>v.get(q)?(j.add(N),F($)):(L.add(q),d--):(s(I,l),d--)}for(;d--;){const $=t[d];k.has($.key)||s($,l)}for(;m;)F(_[m-1]);return Ve(S),_}function Ce(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function it(t){return typeof t=="object"&&t!==null?t:{}}function Ut(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function Y(t){t&&t.c()}function V(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),nt(()=>{const r=t.$$.on_mount.map(vf).filter(jt);t.$$.on_destroy?t.$$.on_destroy.push(...r):Ve(r),t.$$.on_mount=[]}),i.forEach(nt)}function x(t,e){const n=t.$$;n.fragment!==null&&(Id(n.after_update),Ve(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Pd(t,e){t.$$.dirty[0]===-1&&(Kn.push(t),Of(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function pe(t,e,n,o,i,r,l=null,a=[-1]){const s=Wo;qo(t);const u=t.$$={fragment:null,ctx:[],props:r,update:Ie,not_equal:i,bound:Rl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Rl(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...m)=>{const p=m.length?m[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=p)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](p),f&&Pd(t,c)),d}):[],u.update(),f=!0,Ve(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=wd(e.target);u.fragment&&u.fragment.l(c),c.forEach(M)}else u.fragment&&u.fragment.c();e.intro&&w(t.$$.fragment),V(t,e.target,e.anchor),Pf()}qo(s)}class he{constructor(){fn(this,"$$");fn(this,"$$set")}$destroy(){x(this,1),this.$destroy=Ie}$on(e,n){if(!jt(n))return Ie;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!md(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Nd="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Nd);const Vn=[];function On(t,e){return{subscribe:Ue(t,e).subscribe}}function Ue(t,e=Ie){let n;const o=new Set;function i(a){if(me(t,a)&&(t=a,n)){const s=!Vn.length;for(const u of o)u[1](),Vn.push(u,t);if(s){for(let u=0;u<Vn.length;u+=2)Vn[u][0](Vn[u+1]);Vn.length=0}}}function r(a){i(a(t))}function l(a,s=Ie){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||Ie),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function nn(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return On(n,(l,a)=>{let s=!1;const u=[];let f=0,c=Ie;const d=()=>{if(f)return;c();const p=e(o?u[0]:u,l,a);r?l(p):c=jt(p)?p:Ie},m=i.map((p,h)=>il(p,_=>{u[h]=_,f&=~(1<<h),s&&d()},()=>{f|=1<<h}));return s=!0,d(),function(){Ve(m),c(),s=!1}})}function Dl(t){return{subscribe:t.subscribe.bind(t)}}const Nf={plots:[],timeSpent:0,lastChangeDay:0,townLog:[],currentTutorialStep:0,gameSettings:[],resource_capacity:1e3,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,guardians:0,happiness:150,health:150,recreation:0,community:150,knowledge_points:0,productivity:100},kingdom_expansions:0,resources:{food:150,wood:750,stone:750,metal:5,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1,still_playing:!0},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0},liege_location:null},Ed={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]};var tt=(t=>(t[t.GOOD=0]="GOOD",t[t.BAD=1]="BAD",t[t.NORMAL=2]="NORMAL",t))(tt||{}),cl=(t=>(t.START_GAME="start_game",t.BUILD_PLOT="build_plot",t))(cl||{});const Ef={0:"Easy",1:"Normal",2:"Hard"},$d={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},le=[{id:"small_homes",emoji:"🏠",title:"Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"large_homes",emoji:"🏡",title:"Large Homes",type:"residential",description:"+32 people",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:350,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.01,health:1,community:1},immediate_variable_changes:{happiness:10,health:0,population:32,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:40,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"farm",emoji:"🥕",title:"Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"tree_farm",emoji:"🌲",title:"Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:10,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"quarry",emoji:"⛏️",title:"Quarry",type:"quarry",description:"Produces stone, small amounts of metal. Isn't great for health. ",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:18,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The workers at the quarry are working harder with the presence of their liege.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"Apothecary",emoji:"🌿",title:"Apothecary",type:"medical",description:"Produces medicine from herbs and plants found in the forest. Increases health overall for a short bit. Fine until you can build a Healing House.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.01,health:1.06,community:1},immediate_variable_changes:{happiness:25,health:70,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"livestock_farm",emoji:"🐄",title:"Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:60,requirements:{gold:600,plots:[],employees:8,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:20,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"The cows are producing more milk and cheese when you are hanging out on the farm.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"stockpile",emoji:"📦",title:"Stockpile",type:"stockpile",description:"Enables you to store more resources. Costs gold weekly.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:220,stone:60,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:15,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"adv_stockpile",emoji:"📦📦",title:"Adv. Stockpile",type:"stockpile",description:"Stores more than a normal Stockpile. Costs more to build & operate.",revenue_per_week:0,requirements:{gold:3e3,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:100,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"bakery",emoji:"🥖",title:"Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:80,requirements:{gold:1800,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:300,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"stables",emoji:"🐴",title:"Stables",type:"recreation",description:"Improves the health of the town and provides recreation.",revenue_per_week:24,requirements:{gold:1700,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:280,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"church",emoji:"⛪️",title:"Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:900,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:1250,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:2,health:1,community:1.3},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"pub",emoji:"🍻",title:"Pub",type:"recreation",description:"Generates knowledge, happiness, community. Isn't great for health.",revenue_per_week:100,knowledge_points_per_month:1,requirements:{gold:2e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.2,health:.97,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1.05}},{id:"village_market",emoji:"🛒",title:"Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:150,requirements:{gold:6e3,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1600,stone:600,metal:5,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:15,wood:35,stone:0,metal:0,bureaucracy:0,food:35},liege_on_plot_hint:"Your presence is helping the market make more money.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"fishery",emoji:"🐠",title:"Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:3500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:2500,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},purchase_effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:130,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your expertise in fishing is helping the town reel in far more fish!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"vineyard",emoji:"🍇",title:"Vineyard",type:"recreation",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:1800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.2,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"water_wheel",emoji:"💧",title:"Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:1600,plots:[],employees:15,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:25,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"adv_water_wheel",emoji:"💧💧",title:"Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:3e3,plots:["blacksmith"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:250,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"adv_farm",emoji:"🌾",title:"Adv. Farm",type:"farm",description:"Uses knowledge and technology to produce more food, with only 1 employee.",revenue_per_week:60,requirements:{gold:750,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:300,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:15,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:180,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:100,wood:0,stone:0,metal:3,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmer to work harder!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"park",emoji:"🎪",title:"Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"village_inn",emoji:"🛌",title:"Village Inn",type:"tourism",description:"Each inn brings more visitors to your town, increasing profits for the Market and other stores.",revenue_per_week:40,requirements:{gold:5500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"schoolhouse",emoji:"🏫",title:"Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:75,requirements:{gold:15e3,plots:["library"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:600,metal:100,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The children seem to be learning worse when you are around, maybe you are a distraction from the teachers.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"blacksmith",emoji:"⚒️",title:"Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:300,requirements:{gold:12500,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:4e3,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:30,wood:0,stone:0,metal:5,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"library",emoji:"📕",title:"Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:10,requirements:{gold:2e3,plots:["village_market"],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:2025,stone:500,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"lumber_mill",emoji:"🏭",title:"Lumber Mill",type:"industrial",description:"Increases wood production by 50%, has to be next to a tree farm, but increases production at all.",revenue_per_week:0,requirements:{gold:12e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:300,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},purchase_effect_modifiers:{happiness:1.2,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:40,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:.96}},{id:"solar_farm",emoji:"☀️",title:"Solar farm",type:"industrial",description:"Produces a lot of power without the need of water. Requires a lot of metal every week.",revenue_per_week:0,requirements:{gold:3e4,plots:["blacksmith","library"],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:750,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:25,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"general_store",emoji:"🛒",title:"General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:750,requirements:{gold:27500,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e4,stone:5e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:2,health:2,community:1.1},immediate_variable_changes:{happiness:50,health:50,population:0,community:50,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:160,wood:0,stone:0,metal:0,bureaucracy:0,food:100},liege_on_plot_hint:"Your experience managing towns is increasing the profits at the general store!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"healing_house",emoji:"🏥",title:"Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:3e4,plots:["mine"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:2e3,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"community_center",emoji:"🫶",title:"Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:16e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:7500,stone:700,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.09,health:1,community:2},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1.05}},{id:"city_hall",emoji:"🗳️",title:"City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a LOT of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:125e3,plots:[],employees:32,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:3250,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1.3},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:5,active_costs:{gold:600,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"mine",emoji:"⛏️",title:"Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:3e4,plots:["blacksmith"],employees:48,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:110,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:.95,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:10,metal:60,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:80,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:.95}},{id:"academy",emoji:"🏫",title:"Academy",type:"education",description:"Produces a lot of knowledge, more than a schoolhouse or library. But freakishly expensive.",revenue_per_week:0,knowledge_points_per_month:400,requirements:{gold:99e3,plots:["lumber_mill","schoolhouse"],employees:24,knowledge:3e3,size:1,xp:0,resources:{food:0,wood:3e3,stone:1600,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:300,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"bank",emoji:"🏦",title:"Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e5,plots:["academy"],employees:32,knowledge:25e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:0,power:100,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"lab",emoji:"🧪",title:"Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:300,requirements:{gold:1e5,plots:["academy"],employees:48,knowledge:15e3,size:1,xp:0,resources:{food:0,wood:0,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:0,power:700,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}}],Ao={empty_unusable:"rgba(255,255,255,0.50)",empty_buildable:"rgba(239,234,90,1.0)",residential:"rgba(222,118,51,1.0)",farm:"rgba(107,143,73,1.0)",lumber:"rgba(145,116,44,1.0)",business:"rgba(146,115,165,1.0)",recreation:"rgba(82,119,177,1.0)",shop:"rgba(82,119,177,1.0)",tourism:"rgba(216,150,216,1.0)",education:"rgba(153,151,223,1.0)",medical:"rgba(74,91,163,1.0)",bank:"rgba(132,119,190,1.0)",federal:"rgba(132,119,190,1.0)",science:"rgba(74,91,163,1.0)",mine:"rgba(217,135,74,1.0)",quarry:"rgba(134,134,133,1.0)",industrial:"rgba(22, 80, 135,0.8)",stockpile:"rgba(134,134,133,1.0)"};function Er(t,e=!1,n=22){if(t<0)return t==-1?e?Ao.empty_buildable:Ao.empty_unusable:t==-2?Ao.recreation:Ao.empty_unusable;const o=le[t];return Ld(Ao[o.type],n)}const Rd={lab:1,city_hall:1,bank:1,community_center:1,inn:1},Ld=(t,e=20)=>{const n=(l,a,s)=>{l/=255,a/=255,s/=255;const u=Math.max(l,a,s),f=Math.min(l,a,s);let c=0,d=0,m=(u+f)/2;if(u!==f){const p=u-f;switch(d=m>.5?p/(2-u-f):p/(u+f),u){case l:c=(a-s)/p+(a<s?6:0);break;case a:c=(s-l)/p+2;break;case s:c=(l-a)/p+4;break}c/=6}return[c*360,d,m]},o=(l,a,s,u)=>{const f=Math.min(1,s+u/100);return`hsl(${l}, ${(a*100).toFixed(1)}%, ${(f*100).toFixed(1)}%)`},i=l=>{const a=l.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return a?[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]:null};let r=null;if(t.startsWith("#")){const l=t.replace("#",""),a=parseInt(l,16);r=[a>>16&255,a>>8&255,a&255]}else(t.startsWith("rgba")||t.startsWith("rgb"))&&(r=i(t));if(r){const[l,a,s]=n(r[0],r[1],r[2]);return o(l,a,s,e)}throw new Error("Invalid color format")};function $f(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$f(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Dd(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$f(t))&&(o&&(o+=" "),o+=e);return o}const dl="-";function jd(t){const e=qd(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split(dl);return a[0]===""&&a.length!==1&&a.shift(),Rf(a,e)||Fd(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function Rf(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?Rf(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(dl);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const jl=/^\[(.+)\]$/;function Fd(t){if(jl.test(t)){const e=jl.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function qd(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return Hd(Object.entries(t.classGroups),n).forEach(([r,l])=>{$r(l,o,r,e)}),o}function $r(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Fl(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(Bd(i)){$r(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{$r(l,Fl(e,r),n,o)})})}function Fl(t,e){let n=t;return e.split(dl).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function Bd(t){return t.isThemeGetter}function Hd(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function Gd(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const Lf="!";function Wd(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let h=0;h<l.length;h++){let _=l[h];if(s===0){if(_===o&&(n||l.slice(h,h+i)===e)){a.push(l.slice(u,h)),u=h+i;continue}if(_==="/"){f=h;continue}}_==="["?s++:_==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(Lf),m=d?c.substring(1):c,p=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:p}}}function Vd(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function xd(t){return{cache:Gd(t.cacheSize),splitModifiers:Wd(t),...jd(t)}}const Yd=/\s+/;function Ud(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(Yd).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const m=Vd(a).join(":");return{isTailwindClass:!0,modifierId:s?m+Lf:m,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Kd(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Df(e))&&(o&&(o+=" "),o+=n);return o}function Df(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=Df(t[o]))&&(n&&(n+=" "),n+=e);return n}function Rr(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=xd(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=Ud(s,n);return i(s,f),f}return function(){return r(Kd.apply(null,arguments))}}function Qe(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const jf=/^\[(?:([a-z-]+):)?(.+)\]$/i,Xd=/^\d+\/\d+$/,Jd=new Set(["px","full","screen"]),Zd=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qd=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zd=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,em=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Xt(t){return An(t)||Jd.has(t)||Xd.test(t)}function cn(t){return _o(t,"length",um)}function An(t){return!!t&&!Number.isNaN(Number(t))}function ni(t){return _o(t,"number",An)}function Io(t){return!!t&&Number.isInteger(Number(t))}function nm(t){return t.endsWith("%")&&An(t.slice(0,-1))}function We(t){return jf.test(t)}function dn(t){return Zd.test(t)}const om=new Set(["length","size","percentage"]);function im(t){return _o(t,om,Ff)}function rm(t){return _o(t,"position",Ff)}const lm=new Set(["image","url"]);function sm(t){return _o(t,lm,cm)}function am(t){return _o(t,"",fm)}function Mo(){return!0}function _o(t,e,n){const o=jf.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function um(t){return Qd.test(t)&&!zd.test(t)}function Ff(){return!1}function fm(t){return em.test(t)}function cm(t){return tm.test(t)}function Lr(){const t=Qe("colors"),e=Qe("spacing"),n=Qe("blur"),o=Qe("brightness"),i=Qe("borderColor"),r=Qe("borderRadius"),l=Qe("borderSpacing"),a=Qe("borderWidth"),s=Qe("contrast"),u=Qe("grayscale"),f=Qe("hueRotate"),c=Qe("invert"),d=Qe("gap"),m=Qe("gradientColorStops"),p=Qe("gradientColorStopPositions"),h=Qe("inset"),_=Qe("margin"),k=Qe("opacity"),v=Qe("padding"),S=Qe("saturate"),L=Qe("scale"),j=Qe("sepia"),F=Qe("skew"),$=Qe("space"),I=Qe("translate"),N=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",We,e],b=()=>[We,e],C=()=>["",Xt,cn],R=()=>["auto",An,We],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],X=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",We],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[An,ni],ee=()=>[An,We];return{cacheSize:500,separator:":",theme:{colors:[Mo],spacing:[Xt,cn],blur:["none","",dn,We],brightness:K(),borderColor:[t],borderRadius:["none","","full",dn,We],borderSpacing:b(),borderWidth:C(),contrast:K(),grayscale:z(),hueRotate:ee(),invert:z(),gap:b(),gradientColorStops:[t],gradientColorStopPositions:[nm,cn],inset:A(),margin:A(),opacity:K(),padding:b(),saturate:K(),scale:K(),sepia:z(),skew:ee(),space:b(),translate:b()},classGroups:{aspect:[{aspect:["auto","square","video",We]}],container:["container"],columns:[{columns:[dn]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),We]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Io,We]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",We]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Io,We]}],"grid-cols":[{"grid-cols":[Mo]}],"col-start-end":[{col:["auto",{span:["full",Io,We]},We]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Mo]}],"row-start-end":[{row:["auto",{span:[Io,We]},We]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",We]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",We]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",We,e]}],"min-w":[{"min-w":[We,e,"min","max","fit"]}],"max-w":[{"max-w":[We,e,"none","full","min","max","fit","prose",{screen:[dn]},dn]}],h:[{h:[We,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[We,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[We,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[We,e,"auto","min","max","fit"]}],"font-size":[{text:["base",dn,cn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ni]}],"font-family":[{font:[Mo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",We]}],"line-clamp":[{"line-clamp":["none",An,ni]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xt,We]}],"list-image":[{"list-image":["none",We]}],"list-style-type":[{list:["none","disc","decimal",We]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xt,cn]}],"underline-offset":[{"underline-offset":["auto",Xt,We]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),rm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",im]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:D()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[Xt,We]}],"outline-w":[{outline:[Xt,cn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[Xt,cn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",dn,am]}],"shadow-color":[{shadow:[Mo]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":U()}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",dn,We]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[S]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",We]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",We]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",We]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[Io,We]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",We]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",We]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",We]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xt,cn,ni]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function dm(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){pi(t,"cacheSize",e),pi(t,"prefix",n),pi(t,"separator",o);for(const l in r)mm(t[l],r[l]);for(const l in i)pm(t[l],i[l]);return t}function pi(t,e,n){n!==void 0&&(t[e]=n)}function mm(t,e){if(e)for(const n in e)pi(t,n,e[n])}function pm(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function hm(t,...e){return typeof t=="function"?Rr(Lr,t,...e):Rr(()=>dm(Lr(),t),...e)}const qf=Rr(Lr);function Bf(t){const e=t-1;return e*e*e+1}function He(...t){return qf(Dd(t))}function Hf(t,e,n){const r={...{townName:t.townInfo.name,population:t.townInfo.population_count,gold:t.townInfo.gold,day:t.environment.day*t.environment.year,tick:t.tick},...n};console.log("event",e,r),gtag("event",e,r)}const go=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:Bf}};function ot(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function fr(t){return t<10?"0"+t:t}function _m(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${fr(o)}:${fr(n)}:${fr(e)}`}function Se(t){return le.findIndex(e=>e.id===t)}function ql(t){return le.find(e=>e.id===t)}function Dt(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function oo(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Bl(t,e=!0){return t=ot(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function io(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[l][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&le[n.plots[t][e].type].id=="farm"))return!0}return!1}function gm(t,e=0){let n=t*.95,o=t*1.05;return ot(Math.random()*(o-n)+n,e)}function Ai(t,e,n){let o={x:t,y:e};return o.x===0&&o.y===0?!0:[{x:o.x-1,y:o.y},{x:o.x+1,y:o.y},{x:o.x,y:o.y-1},{x:o.x,y:o.y+1}].some(r=>r.x<0||r.x>=n.plots.length||r.y<0||r.y>=n.plots[r.x].length?!1:n.plots[r.x][r.y].active)}function bm(t,e){let n=!0;return t.requirements.gold>e.townInfo.gold&&(n=!1),t.requirements.knowledge!==void 0&&t.requirements.knowledge>e.townInfo.knowledge_points&&(n=!1),t.requirements.plots.length>0&&t.requirements.plots.forEach(o=>{Be(o,e).length===0&&(n=!1)}),n}function ym(t){return le.findIndex(e=>e.id===t)}function xn(t,e,n,o,i=!1){const r=ym(t),l=le[r];if(i||bm(l,o)){if(o.plots[e][n].type!==-1&&Nn(e,n,o),o.plots[e][n].type=r,o.plots[e][n].active=!0,o.plots[e][n].referencePlot=[],o.plots[e][n].typeId=l.id,o.townInfo.gold-=l.requirements.gold,o.townInfo.gold=ot(o.townInfo.gold,2),o.townInfo.population_count+=l.immediate_variable_changes.population,o.townInfo.population_max+=l.immediate_variable_changes.population,o.townInfo.happiness+=l.immediate_variable_changes.happiness,o.townInfo.health+=l.immediate_variable_changes.health,o.modifiers.happiness=ot(o.modifiers.happiness*l.purchase_effect_modifiers.happiness,2),o.modifiers.health=ot(o.modifiers.health*l.purchase_effect_modifiers.health,2),o.modifiers.community=ot(o.modifiers.community*l.purchase_effect_modifiers.community,2),o.townInfo.employees+=l.requirements.employees,(o.plotCounts[r]===void 0||o.plotCounts[r]===null)&&(o.plotCounts[r]=0),o.plotCounts[r]++,o.lastChangeDay=o.environment.day,l.requirements.resources!==void 0){const a=l.requirements.resources;o.resources.food-=a.food,o.resources.wood-=a.wood,o.resources.stone-=a.stone,o.resources.metal-=a.metal}switch(l.id){case"city_hall":o.hasCityHall=!0;break;case"bank":o.hasBank=!0;break}return o}return o}function vm(t,e,n){if(!n||!n.plots||!n.plots.length)return null;const o=n.plots.length,i=n.plots[0].length;for(let r=1;r<o+i;r++)for(let l=-r;l<=r;l++)for(let a=-r;a<=r;a++){if(Math.abs(l)+Math.abs(a)!==r)continue;const s=t+l,u=e+a;if(!(s<0||s>=o||u<0||u>=i)&&!n.plots[s][u].active&&!n.plots[s][u].mineralSource&&!n.plots[s][u].water&&!n.plots[s][u].disabled&&Ai(s,u,n))return[s,u]}return null}function wm(t){let e={...Nf};e.difficulty=1,e.endGoal="land",e.townInfo.name="Mock Town",e.townInfo.gold=Math.random()*5e4+2e4,e.townInfo.happiness=300,e.townInfo.health=300,e.townInfo.knowledge_points=Math.random()*1e3+100,e.modifiers.happiness=1e4,e.modifiers.health=1e4,e.resources.food=Math.random()*1e4+1e3,e.resources.wood=Math.random()*1e4+1e3,e.resources.stone=Math.random()*1e4+1e3,e.resources.metal=Math.random()*1e4+1e3;let n=[];const o=25,i=Math.floor(Math.random()*o/2)+1,r=Math.floor(Math.random()*o/2)+1;for(let l=0;l<o;l++){n.push([]);for(let a=0;a<o;a++){const s=l==i&&a==r?!1:Ii(l,a,o);n[l][a]={id:Math.random().toString(36).substring(2,9),active:!1,x:l,y:a,type:s?-9:-1,typeId:"",mineralSource:s?!1:i===l&&r===a,water:i===l&&r===a?!1:s}}}e.plots=n,Ne.set(e),localStorage.setItem(mt,JSON.stringify(e)),localStorage.reset=!1,e=xn("small_homes",0,0,e,!0),e=xn("farm",1,0,e,!0),e=xn("farm",2,0,e,!0),e=xn("farm",3,0,e,!0),e=xn("tree_farm",4,0,e,!0);for(let l=1;l<t.plots.length*t.plots[0].length/2;l++)for(let a=0;a<le.length/2;a++){let s=le[Math.floor(Math.random()*le.length)];t=xn(s.id,l,a,e,!1)}Ne.set(e),localStorage.setItem(mt,JSON.stringify(e)),localStorage.reset=!1,location.reload()}const mt="plots_active_game_db",ro="plots_user_db",Tt="plots_temp_game_db";function km(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let Ne=Ue(JSON.parse(localStorage.getItem(Tt)||localStorage.getItem(mt)||"null")),hn=Ue(JSON.parse(localStorage.getItem(ro)||"null"));Sm();function Cm(t,e,n,o){localStorage.removeItem(mt),Ne.set(null);let i={...Nf};i.gameSettings=o,i.economyAndLaws.max_tax_rate=$d[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:km(),i.difficulty=parseInt(t),JSON.parse(localStorage.getItem(ro)||"null").username=="dev"&&o.push("devMode"),o.includes("devMode")&&(i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const a=12,s=Math.floor(Math.random()*a/2)+1,u=Math.floor(Math.random()*a/2)+1;for(let f=0;f<a;f++){r.push([]);for(let c=0;c<a;c++){const d=f==s&&c==u?!1:Ii(f,c,a);r[f][c]={id:Math.random().toString(36).substring(2,9),active:!1,x:f,y:c,type:d?-9:-1,typeId:"",mineralSource:d?!1:s===f&&u===c,water:s===f&&u===c?!1:d}}}i.plots=r,localStorage.setItem(mt,JSON.stringify(i)),Ne.set(i),localStorage.reset=!1,Hf(i,cl.START_GAME,{difficulty:t,end_goal:e,settings:o.join(",")}),location.reload()}function Ii(t,e,n){let o=.08;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=3),t==0&&e==0&&(o=0),Math.random()<o}function Sm(){if(localStorage.getItem(ro)===null){let t=Ed;t.username="click_to_set_username",localStorage.setItem(ro,JSON.stringify(t)),hn.set(t)}}function Nn(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].typeId="",n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=le[o].immediate_variable_changes.population,n.townInfo.population_max-=le[o].immediate_variable_changes.population,n.townInfo.employees-=le[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(le[o].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&Nn(r,l,n);n.lastChangeDay=n.environment.day,Ne.set(n),localStorage.setItem(mt,JSON.stringify(n))}function Be(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(le[e.plots[o][i].type].id===t||le[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function Xn(t,e,n){return n.liege_location!=null&&n.liege_location[0]===t&&n.liege_location[1]===e}function Tm(t,e){const n=t.plots.length,o=n>0?t.plots[0].length:0,i=e=="east"?5:0,r=e=="south"?5:0,l=Math.round(Math.pow(1.7,t.kingdom_expansions+5));if(t.townInfo.guardians<l)return`You need ${l-t.townInfo.guardians} more Guardians to expand the kingdom. See the City mgmt menu.`;for(let a=0;a<n;a++)for(let s=o;s<o+i;s++)t.plots[a].push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:"",mineralSource:!1,water:Ii(a,s,n+r),disabled:!1,referencePlot:null});for(let a=n;a<n+r;a++){const s=[];for(let u=0;u<o+i;u++)s.push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:u,type:-1,typeId:"",mineralSource:!1,water:Ii(a,u,n+r)});t.plots.push(s)}t.kingdom_expansions++,Ne.set(t)}function Dr(t=null){localStorage.removeItem(mt),Ne.set(null),t&&(localStorage.setItem(mt,JSON.stringify(t)),Ne.set(t))}function Hl(t,e,n){n.liege_location=[t,e],ao.set(!1),document.querySelectorAll(".plot_container").forEach(i=>{i.style.cursor=""}),Ne.set(n)}let Ze=Ue({visible:!1,x:0,y:0,isMineralSource:!1}),Bo=Ue({visible:!1});function Am(t){hn.set(t),localStorage.setItem(ro,JSON.stringify(t))}let lo=Ue({}),Ho=Ue(!1),Pt=Ue(!1),hi=Ue(!0),Mi=Ue(!1),so=Ue(!1),Oi=Ue(!1),zn=Ue(!1),ao=Ue(!1),uo=Ue(!1),Ct=Ue(""),Gl=localStorage.getItem("showCompletedAchievements")==="true"?Ue(!0):Ue(!1);localStorage.getItem("showOnlyAffordable")==="true"?Ue(!0):Ue(!1);let Im=localStorage.getItem("pauseMenuTab")==="game"?Ue("game"):Ue("achievements"),$o=Ue(750),Bt=Ue({visible:!1,plotName:"",location:"",missingResources:[],plotCost:0,x:0,y:0});const Et={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},ct=[{id:"happy_town",title:"Happy & Healthy Town",description:"",requirements:"Happiness and Health at the max in one of your towns",icon:"😀",check:t=>t.townInfo.happiness>=300&&t.townInfo.health>=300,prize:15e3},{id:"10k",title:"💰 10,000",description:"",requirements:"10,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"50k",title:"💰 50,000",description:"",requirements:"50,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=5e4,prize:1e4},{id:"250k",title:"💰 250,000",description:"",requirements:"250,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"1m",title:"💰 1,000,000",description:"",requirements:"1,000,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=1e6,prize:15e4},{id:"10m",title:"💰 10,000,000",description:"",requirements:"10,000,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=1e7,prize:5e5},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under 50 with >=200 population in one of your towns",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=200,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Reach a monthly profit of $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit*4>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:1e4},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:750},{id:"good_job",title:"Beat 'Fill the grid' game mode",description:"while not in casual mode",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.endGoal==="land"&&!t.gameSettings.includes("casual"),prize:1e4},{id:"great_job",title:"Beat 'Fill the grid' game mode (faster)",description:"in under 5 years, while not in casual mode",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=1825&&t.endGoal==="land"&&!t.gameSettings.includes("casual"),prize:3e4},{id:"superb_job",title:"Beat 'Fill the grid' game mode",description:"while in casual mode",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.endGoal==="land"&&t.gameSettings.includes("casual"),prize:15e3},{id:"pub_knowledge",title:"Street smartz",description:"You get 250 knowledge without building a school or library.",requirements:"Knowledge >= 250 without building a school or library",icon:"🤓",check:t=>Be("small_school",t).length===0&&Be("large_school",t).length===0&&Be("library",t).length===0&&t.townInfo.knowledge_points>=250,prize:5e4}],eo=[{message:"Welcome the first settlers to our village by building a set of homes",isComplete:t=>t.townInfo.population_max>0,goldReward:600},{message:"Start producing food for the villagers",isComplete:t=>Be("farm",t).length>=1,goldReward:400},{message:"Build a tree farm to start producing wood, which is essential for building",isComplete:t=>Be("tree_farm",t).length>=1,goldReward:400},{message:"Build a quarry to start mining stone and metals",isComplete:t=>Be("quarry",t).length>0,goldReward:800},{message:"Settlement: Grow population to 50",isComplete:t=>t.townInfo.population_count>=50,goldReward:1600},{message:"Build a Market or Bakery to sell excess food",isComplete:t=>Be("market",t).length>0||Be("bakery",t).length>0,goldReward:1600},{message:"Complete Year 1",isComplete:t=>t.environment.day>=365,goldReward:4e3},{message:"Village: Grow population to 100",isComplete:t=>t.townInfo.population_count>=100,goldReward:6400},{message:"Increase our weekly revenue to 200 gold",isComplete:t=>t.economyAndLaws.weeklyProfit>=200,goldReward:6400},{message:"Complete Year 2",isComplete:t=>t.environment.day>=365*2,goldReward:4e3},{message:"Hamlet: Grow population to 200",isComplete:t=>t.townInfo.population_count>=200,goldReward:16e3},{message:"Start generating power. Build a Water Wheel or Solar Farm",isComplete:t=>t.resources.power>0,goldReward:8e3},{message:"Small Town: Grow population to 300",isComplete:t=>t.townInfo.population_count>=300,goldReward:2e4},{message:"Generate 300 Knowledge 🧠 from libraries, schools, pubs, and vineyards",isComplete:t=>t.townInfo.knowledge_points>=300,goldReward:4e3},{message:"Build a Mine to boost our metal supply (see the black plot on the map)",isComplete:t=>Be("mine",t).length>0,goldReward:16e3},{message:"Town: Grow our population to 500",isComplete:t=>t.townInfo.population_count>=500,goldReward:2e4},{message:"City: Grow our population to 1000",isComplete:t=>t.townInfo.population_count>=1e3,goldReward:4e4},{message:"Establish a City Hall to advance our town",isComplete:t=>Be("city_hall",t).length>0,goldReward:4e4}];let Oo=function(t){return t.gameSettings.includes("casual")?3:1};const jr=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:150,weekly_effect:t=>(t.modifiers.happiness*=1.01,t.modifiers.health*=1.01,t.resources.food-=2*Oo(t)*Be("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.02,t.modifiers.health*=1.01),t)},{id:"healthy_mining",description:"Healthy mining. Miners must mine with proper ventilation, but they move like molasses.",cost:250,weekly_effect:t=>(le.find(e=>e.id==="mine"),t.modifiers.health*=1.1,t.resources.stone-=5*Oo(t)*Be("quarry",t).length,t.resources.stone-=7*Oo(t)*Be("mine",t).length,t.resources.metal-=15*Oo(t)*Be("mine",t).length,t)},{id:"complicated_tax_forms",description:"Complicated Tax Forms. You sneak in a clause to charge 5% more in taxes. Now, if you adjust your tax rate 5% higher, they won't be upset. This can be enacted multiple times to stack.",cost:500,weekly_effect:t=>(t.economyAndLaws.max_tax_rate+=.05,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="complicated_tax_forms"),t)},{id:"legalize_it",description:"Legalize it. You legalize a substance that makes people happy, but it also gives them 'the munchies'. Food consumption and happiness go up.",cost:350,weekly_effect:t=>(t.resources.food-=Math.round(.2*Oo(t)*t.townInfo.population_count),t.modifiers.happiness*=1.1,t)},{id:"park_upgrade",description:"Park upgrade. You hold a community forum and add the top 5 things that the people want in their parks. This increases happiness for each park.",cost:350,weekly_effect:t=>(t.townInfo.happiness+=2*Be("park",t).length,t)},{id:"career_politician",description:"Career Politician. You hire a career politician to help you with your town. They cost the town $100 per week, but they earn bureaucracy points faster.",cost:200,weekly_effect:t=>(t.townInfo.gold-=100,t.resources.bureaucracy+=25,t)},{id:"the_big_wood_deal",description:"The Big Wood Deal. This law allows you to sell all of the wood in your town for $5/wood at once. This won't make the town happy, but may be necessary in a pinch. Can be enacted multiple times to sell to other buyers.",cost:500,weekly_effect:t=>(t.townInfo.gold+=5*t.resources.wood,t.resources.wood=0,t.resource_rate.wood=0,t.townInfo.happiness*=.95,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="the_big_wood_deal"),t)},{id:"picky_eating_liege",description:"Picky Eater Liege. There is some food that the town makes that you just really hate. By passing this law, you insist that they sell off that gross food for $1/food every week. You won't make as much food, but you won't have to eat it either.",cost:200,weekly_effect:t=>{const e=Be("farm",t).length*2,n=Math.floor(Math.random()*(.15*e-.05*e)+.05*e);return t.resources.food-=n,t.townInfo.gold+=n,t.townInfo.happiness=.95*t.townInfo.happiness,t}},{id:"stone_statue",description:"Stone Statue. You insist that we use ALL of our stone to build a massive statue. We lose all of our stone, but for some reason, the town has perfect health for a while, I guess.",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=5,t)},{id:"out_of_town",description:"TODO: Out of town. Everyone needs a vacation, right? When this is enacted, EVERYONE must leave the town for 10 days. During this time, no resources are produced, no taxes are collected, and you must take a break from the game.",cost:1e3,weekly_effect:t=>t}],Wl=30;function Mm(t){return t=$m(t),t=t,t}function Om(t){const e=[()=>t.townInfo.happiness<100?"I heard that the town is unhappy. We miss our churches and parks...":"",()=>t.townInfo.health<100?"My kids keep getting sick, probably not enough farms around here!":"",()=>t.townInfo.happiness<50?"I'm thinking of moving out if things don't improve soon!":"",()=>t.townInfo.employees<t.townInfo.population_count?"I am unemployed and I hate it here":"",()=>t.townInfo.knowledge_points<100?"I wish we had more schools!":"",()=>t.economyAndLaws.tax_rate>t.economyAndLaws.max_tax_rate?"I wish the taxes were lower, I could use a break!":"",()=>t.townInfo.productivity>100?"I think we should take a day or two to just be chill, we've been working hard!":"",()=>t.economyAndLaws.tax_rate<t.economyAndLaws.max_tax_rate?"We would probably be ok chipping in more gold for village improvements.":""],n=Math.floor(Math.random()*e.length);return e[n]()}function Pm(t,e,n){return t.resource_rate.food=ut(n.food-e.food,0),t.resource_rate.wood=ut(n.wood-e.wood,0),t.resource_rate.stone=ut(n.stone-e.stone,0),t.resource_rate.metal=ut(n.metal-e.metal,0),t.resource_rate.bureaucracy=ut(n.bureaucracy-e.bureaucracy,0),t}function Nm(t){return t.hasBank,t}function Em(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function $m(t){if(t.townInfo.population_count<t.townInfo.population_max&&t.townInfo.happiness>50){let e=t.townInfo.population_max-t.townInfo.population_count,n=Math.round(t.townInfo.happiness/100*e);t.townInfo.population_count+=n,t.townInfo.population_count>t.townInfo.population_max&&(t.townInfo.population_count=t.townInfo.population_max),t.townInfo.employees+=n,t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count)}if(t.townInfo.happiness<50&&t.townInfo.population_count>0){let e=Math.round((150-t.townInfo.happiness)/5);t.townInfo.population_count-=e,t.townInfo.employees>0&&(t.townInfo.employees-=e)}else t.townInfo.population_count==t.townInfo.population_max;return t}function Fr(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function qr(t){t.townInfo.happiness<0&&(t.townInfo.happiness=0),t.townInfo.health<0&&(t.townInfo.health=0),t.townInfo.community<0&&(t.townInfo.community=0),t.townInfo.gold<0&&(t.townInfo.gold=0),t.townInfo.employees<0&&(t.townInfo.employees=0),t.townInfo.knowledge_points<0&&(t.townInfo.knowledge_points=0),t.townInfo.population_count<0&&(t.townInfo.population_count=0),t.economyAndLaws.weeklyProfit=ut(t.economyAndLaws.weeklyProfit,0),t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count),t.townInfo.gold=ut(t.townInfo.gold,0),t.townInfo.population_count=ut(t.townInfo.population_count,0),t.townInfo.employees=ut(t.townInfo.employees,0),t.townInfo.population_max=ut(t.townInfo.population_max,0),t.townInfo.happiness=ut(t.townInfo.happiness,2),t.townInfo.health=ut(t.townInfo.health,2),t.townInfo.knowledge_points=ut(t.townInfo.knowledge_points,0),t.townInfo.happiness>t.maximums.happiness&&(t.townInfo.happiness=t.maximums.happiness),t.townInfo.health>t.maximums.health&&(t.townInfo.health=t.maximums.health),t.townInfo.community>300&&(t.townInfo.community=300),t.modifiers.happiness<.5&&(t.modifiers.happiness=.5),t.modifiers.health<.5&&(t.modifiers.health=.5),t.modifiers.community<.5&&(t.modifiers.community=.5),t.modifiers.happiness>2&&(t.modifiers.happiness=2),t.modifiers.health>2&&(t.modifiers.health=2),t.modifiers.community>2&&(t.modifiers.community=2);for(let e=0;e<t.plots.length;e++)for(let n=0;n<t.plots[e].length;n++)t.plots[e][n].active==!1&&t.plots[e][n].disabled==!0&&(t.plots[e][n].disabled=!1);return t}function Br(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function at(t,e,n){let o=e.townLog||[];return o.filter(i=>i.message==t).length>0||o.unshift({message:t,day:e.environment.day,vibe:n}),e}function ut(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function Rm(t,e,n){let o,i,r,l,a,s;ue(t,$o,g=>n(7,o=g)),ue(t,Ho,g=>n(8,i=g)),ue(t,Oi,g=>n(9,r=g)),ue(t,Pt,g=>n(10,l=g)),ue(t,hn,g=>n(11,a=g)),ue(t,Bt,g=>n(12,s=g)),ue(t,Ne,g=>n(13,g));function u(g){g=K(g),g=oe(g),g=p(g),g=Em(g),g=ee(g),g=S(g);const Z={food:g.resources.food,wood:g.resources.wood,stone:g.resources.stone,metal:g.resources.metal,bureaucracy:g.resources.bureaucracy,power:g.resources.power};g=q(g),g=z(g),g=C(g),g=Le(g),g=N(g);const J={food:g.resources.food,wood:g.resources.wood,stone:g.resources.stone,metal:g.resources.metal,bureaucracy:g.resources.bureaucracy,power:g.resources.power};return g.environment.day%14===0&&(g=ae(g)),g=Pm(g,Z,J),g}function f(g){return g=Nm(g),g=v(g),g=re(g),g=Br(g),g=X(g),g=$(g),g=h(g),g}function c(g){return g=b(g),g=_e(g),g=qr(g),g=Fr(g),g=I(g),g=F(g),g=m(g),g=_(g),g.overtime==!1&&(g=U(g),g=g),g=D(g),g=R(g),g=k(g),g}function d(){Ne.update(g=>{if(g==null||(g.tick++,g.tick%Wl!==0))return g;if(s.visible||l||!g||g.endGameDetails.msg!==""&&g.overtime==!1||g.townInfo.population_count<=0||localStorage.getItem(Tt)!=null)return console.info("The game is over, or paused. Not running the game loop."),g;try{return g.environment.day+=1,g.environment.day%7===0&&(g=u(g)),g.environment.day%30===0&&(g=f(g)),g.environment.day%90===0&&(g=Mm(g)),window.location.search.includes("debug=true")&&console.log(g),g=c(g),g}catch(Z){return window.location.hostname==="localhost"&&alert("Error in game loop: "+Z),console.error("Error in game loop:",Z),g}})}Ne.subscribe(g=>{g&&localStorage.setItem(mt,JSON.stringify(g))}),hn.subscribe(g=>{g&&localStorage.setItem(ro,JSON.stringify(g))});function m(g){let Z=g.townInfo.population_count-g.townInfo.employees,J=`${Z} people can't find jobs!`;return g.townLog=g.townLog.filter(ne=>!ne.message.includes("people can't find jobs")),Z>0&&(g=at(J,g,tt.BAD)),g}function p(g){let Z=!1,J=!1,ne=!1,ie=!1;for(let ke=0;ke<g.plots.length;ke++)for(let Pe=0;Pe<g.plots[ke].length;Pe++)if(g.plots[ke][Pe].active==!0&&g.plots[ke][Pe].type>-1){let je=le[g.plots[ke][Pe].type].id;je=="bank"&&(Z=!0),je=="city_hall"&&(ne=!0),(je=="small_hospital"||je=="large_hospital")&&(J=!0),je=="lab"&&(ie=!0)}return g.hasBank=Z,g.hasHospital=J,g.hasCityHall=ne,g.hasLab=ie,g}function h(g){let Z=0,J=0;for(let ne=0;ne<g.plots.length;ne++)for(let ie=0;ie<g.plots[ne].length;ie++)if(g.plots[ne][ie].active==!0&&g.plots[ne][ie].type>-1){let ke=le[g.plots[ne][ie].type].type;J++,(ke=="recreation"||ke=="shop")&&Z++}return g.townInfo.recreation=Z,J>40&&(Z/J<.2?(g.modifiers.happiness*.95,g=at("The city is growing and citizens are demanding more recreation, look for plots with 🛝 icons.",g,tt.BAD)):(g.modifiers.happiness*1.03,g=at("The city is growing and citizens are happy with the amount of recreation available.",g,tt.GOOD))),g}function _(g){let Z=0;for(let J=0;J<g.plots.length;J++)for(let ne=0;ne<g.plots[J].length;ne++)if(g.plots[J][ne].active==!0&&g.plots[J][ne].type>-1){let ke=le[g.plots[J][ne].type].requirements.employees;Z+=ke}return Z!=g.townInfo.employees&&(Z>g.townInfo.population_max,g.townInfo.employees=Z),g}function k(g){for(let Z=0;Z<g.plots.length;Z++)for(let J=0;J<g.plots[Z].length;J++)g.plots[Z][J].active==!0&&(g.plots[Z][J].type=Se(g.plots[Z][J].typeId));return g}function v(g){const Z=g.townInfo.productivity;let J=1;if(Z>50&&Z<100)J=1.05;else{if(Z==100)return g;Z<50?J=1.3:Z>100&&Z<125?J=.95:Z>125&&Z<150?J=.9:Z>150&&Z<175?J=.85:Z>175&&Z<200&&(J=.75)}const ne=g.townInfo.happiness;return g.townInfo.happiness*=J,J>1?g=at(`Happiness has gone up by ${Math.round(g.townInfo.happiness/ne*100)}% due to productivity.`,g,tt.GOOD):g=at(`Happiness has gone down by ${100-Math.round(g.townInfo.happiness/ne*100)}% due to productivity.`,g,tt.BAD),g}function S(g){return g.endGameDetails!=null||(g.townInfo.happiness<70&&g.last_warning_happiness+365<g.environment.day&&(Ct.set("Your citizens are very unhappy. You should do something about it."),g.last_warning_happiness=g.environment.day),g.townInfo.health<70&&g.last_warning_health+365<g.environment.day&&(Ct.set("Your citizens are very unhealthy. You should do something about it."),g.last_warning_health=g.environment.day)),g}const L=["Abigail","Elijah","Mabel","Silas","Beatrice","Clarence","Dorothy","Edgar","Florence","George","Harriet","Isaac","Josephine","Levi","Matilda","Nathaniel","Olive","Percy","Quincy","Rose","Samuel","Theodore","Ursula","Vincent","Winifred","Xavier","Yvette","Zachary","Amos","Betsy","Cecil","Delia","Emmett","Fanny","Gideon","Hazel","Irving","Jeannette","Karl","Lucinda","Mortimer","Nettie","Otis","Prudence","Rufus","Sophronia","Titus","Ulysses","Vera","Winston","Xenia","Yolanda","Zeke","Ada","Bernard","Cornelia","Duncan","Esther","Fletcher","Genevieve"],j=["Farmer","Blacksmith","Biscuit Sculptor","Baker","Carpenter","Chicken Whisperer","Fisher","Herbalist","Miner","Mason","Mustache Twirler","Brewer","Butcher","Candlemaker","Cloud Watcher","Dressmaker","Gardener","Hunter","Innkeeper","Jeweler","Locksmith","Miller","Painter","Potter","Quilter","Rancher","Saddler","Tanner","Upholsterer","Vintner","Watchmaker","Wheelwright","Wooly Sock Knitter","Yarn Spinner","Zodiac Interpreter","Archivist","Bookbinder","Cobbler","Dyer","Engraver","Fletcher","Glassblower","Haberdasher","Illuminator","Joiner","Knitter","Lace Maker","Mapmaker","Navigator","Orchardist","Potion Tester","Quarryman","Roofer","Soapmaker","Tobacconist","Undertaker","Victualler","Wainwright","Xylographer","Yeoman","Pumpkin Carver","Mud Pie Maker","Folk Tale Teller","Leaf Collector","Sunset Chaser","Dream Interpreter","Star Gazer"];function F(g){if(g.gameSettings.includes("bagOfHolding"))return g.resource_capacity=972024,g;let Z=Be("stockpile",g).length,J=Be("adv_stockpile",g).length,ne=1e3+Z*2e3+J*12e3;return g.resource_capacity=ne,Object.keys(g.resources).forEach(ie=>{g.resources[ie]>ne&&(g.resources[ie]=ne)}),g}function $(g){for(let Z=0;Z<g.plots.length;Z++)for(let J=0;J<g.plots[Z].length;J++)if(Xn(Z,J,g)&&g.plots[Z][J].active==!0&&le[g.plots[Z][J].type].type=="residential"&&Math.random()<.99){let ne=`👑🏠 ${L[Math.floor(Math.random()*L.length)]} the ${j[Math.floor(Math.random()*j.length)]}: `,ie=Om(g);ne+=ie,ie!=""&&(g=at(ne,g,tt.NORMAL))}return g}function I(g){let Z=0;for(let J=0;J<g.plots.length;J++)for(let ne=0;ne<g.plots[J].length;ne++)if(g.plots[J][ne].active==!0&&g.plots[J][ne].type>-1){let ie=le[g.plots[J][ne].type].type;(ie=="recreation"||ie=="shop")&&Z++}return g.townInfo.recreation=Z,g}function N(g){const Z=g.townInfo.population_count;return g.resources.food<Z?(g.modifiers.happiness*=.95,g.modifiers.health*=.95,g=at("There isn't enough food for everyone!",g,tt.BAD),g.resources.food=0):(g.townLog=g.townLog.filter(ne=>!ne.message.includes("There isn't enough food for everyone!")),g.resources.food-=Z),g.resources.food=Math.round(g.resources.food),g}function q(g){const Z=g.townInfo.productivity;let J=1;Z<50?J=.5:Z>50&&Z<100?J=.75:Z==100?J=1:Z>100&&Z<125?J=1.25:Z>125&&Z<150?J=1.75:Z>150&&Z<175?J=3:Z>175&&Z<200&&(J=5);const ne=g.gameSettings.includes("casual")?2.2:1;J*=ne,J=gm(J,2),J*=g.townInfo.community>150?1.2:g.townInfo.community<100?.85:1;let ie=Be("lumber_mill",g).length*1.5;ie===0&&(ie=1);for(let ke=0;ke<g.plots.length;ke++)for(let Pe=0;Pe<g.plots[ke].length;Pe++)if(g.plots[ke][Pe].active==!0&&g.plots[ke][Pe].type>-1&&g.plots[ke][Pe].disabled==!1){let je=io(ke,Pe,g),xe=Xn(ke,Pe,g)?2:1,De=le[g.plots[ke][Pe].type];De.generated_resources!=null&&(g.resources.food+=Math.round(De.generated_resources.food*J)*(je?2:1)*xe,g.resources.wood+=Math.round(De.generated_resources.wood*J*ie)*xe,g.resources.stone+=Math.round(De.generated_resources.stone*J)*xe,g.resources.metal+=Math.round(De.generated_resources.metal*J)*xe,g.resources.bureaucracy+=Math.round(De.generated_resources.bureaucracy*J)*xe)}return g.resources.food=Math.round(g.resources.food),g.resources.wood=Math.round(g.resources.wood),g.resources.stone=Math.round(g.resources.stone),g.resources.metal=Math.round(g.resources.metal),g.resources.bureaucracy=Math.round(g.resources.bureaucracy),g}var A;(function(g){g.food="food",g.wood="wood",g.stone="stone",g.metal="metal",g.bureaucracy="bureaucracy"})(A||(A={}));function b(g){for(let Z=0;Z<g.plots.length;Z++)for(let J=0;J<g.plots[Z].length;J++)if(g.plots[Z][J].active&&g.plots[Z][J].type>-1&&!g.plots[Z][J].disabled){let ne=le[g.plots[Z][J].type];if(ne.type=="residential")continue;let ie=!1,ke=[];const Pe=g.plots[Z][J].snoozedUntil&&g.environment.day<=(g.plots[Z][J].snoozedUntil||0);Object.keys(ne.active_costs).forEach((je,xe)=>{let De=Object.values(ne.active_costs)[xe];De=De/7,je!="power"&&(je=="gold"?g.townInfo.gold<De&&(ie=!0,ke.push(`💰${De-g.townInfo.gold} gold`)):g.resources[je]<De?(ie=!0,ke.push(`${De-g.resources[je]} ${je}`)):Pe||(g.resources[je]-=De))}),ie&&!Pe&&(Bt.set({visible:!0,plotName:ne.title,location:`at (${J}, ${Z})`,missingResources:ke,plotCost:ne.requirements.gold,x:Z,y:J}),g.plots[Z][J].disabled=!0),g.plots[Z][J].disabled=!Pe&&ie}else g.plots[Z][J].active||(g.plots[Z][J].disabled=!1);return g}function C(g){let Z=0;for(let J=0;J<g.plots.length;J++)for(let ne=0;ne<g.plots[J].length;ne++)if(g.plots[J][ne].active==!0&&g.plots[J][ne].type>-1){let ie=le[g.plots[J][ne].type];ie.active_costs.power!=0&&(Z-=ie.active_costs.power),ie.generated_resources.power!=0&&(Z+=ie.generated_resources.power)}return g.resources.power=Z,g.resources.power<0&&(g.modifiers.happiness*.98,g.townInfo.happiness-=5,g=at("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.",g,tt.BAD)),g}function R(g){if(g.gameSettings.includes("devMode")||localStorage.getItem(Tt)!=null)return g;let Z=a;for(let J=0;J<ct.length;J++)Z.achievements.find(ne=>ne[0]==ct[J].id)==null&&ct[J].check(g)&&(Z.achievements.push([ct[J].id,g.environment.day,g.townInfo.name]),Ae(Pt,l=!0,l),Ae(Oi,r=!0,r));return hn.update(()=>Z),g}let B=!1;function D(g){if(B||g.currentTutorialStep>=eo.length)return g;for(let Z=g.currentTutorialStep;Z<g.currentTutorialStep+1;Z++)if(eo[Z].isComplete(g)){Ae(Ho,i=!0,i),B=!0,g.townInfo.gold+=eo[Z].goldReward,setTimeout(()=>{Ae(Ho,i=!1,i),g.currentTutorialStep++,B=!1},6e3);break}return g}function U(g){return g.gameSettings.includes("tomPetty")&&(g.townInfo.happiness<=3||g.townInfo.health<=3)?(g.townInfo.happiness=300,g.modifiers.happiness=1,g.townInfo.health=300,g.modifiers.health=1,g.townInfo.gold=ut(g.townInfo.gold*.5,0),alert("Since you are playing in Tom Petty mode, you have been given another chance. All it took was 50% of your gold. Good luck!"),g):(g.townInfo.happiness<=3&&(g.townInfo.happiness=0,g.endGameDetails={msg:Et.happiness_zero,win:!1,still_playing:!1}),g.townInfo.health<=3&&(g.townInfo.health=3,g.endGameDetails={msg:Et.health_zero,win:!1,still_playing:!1}),g.townInfo.population_count<=0&&g.townInfo.population_max>0&&(g.townInfo.population_count=0,g.endGameDetails={msg:Et.population_zero,win:!1,still_playing:!1}),g)}function X(g){let Z=g.townInfo.population_count-g.townInfo.employees;if(g.gameSettings.includes("casual")&&Math.random()<.75)return g;if(Z>0){let J=Z*.2;J>10&&(J=10),g.townInfo.happiness-=J,g=at(Z+Et.unemployment_num,g,tt.BAD)}else g.townLog=g.townLog.filter(J=>!J.message.includes(Et.unemployment_num));return g}function z(g){for(let Z=0;Z<g.economyAndLaws.enacted.length;Z++){let J=jr.find(ne=>ne.id==g.economyAndLaws.enacted[Z]);J!=null&&J.weekly_effect!=null&&(g=J.weekly_effect(g))}return g}function oe(g){let Z=g.townInfo.health,J=0;return Z>50||Z<Math.random()*50&&(Z<25?(g=at(Et.sickAndDying,g,tt.BAD),g.townInfo.happiness-=10,J=Math.round(g.townInfo.population_count*.1)):(g=at(Et.sickAndLeaving,g,tt.BAD),g.townInfo.happiness-=5,J=Math.round(g.townInfo.population_count*.05)),g.townInfo.population_count-=J,g.townInfo.employees-=J),g}function K(g){const Z=Math.random();if(g.economyAndLaws.tax_rate>g.economyAndLaws.max_tax_rate&&g.townInfo.population_count>0){let J=1;g.hasBank&&(J=2);const ne=g.difficulty==0?.7:g.difficulty==1?.4:.2;Z<ne&&g.economyAndLaws.tax_rate>g.economyAndLaws.max_tax_rate*2*J?(g.modifiers.happiness-=.02,g=at(Et.very_high_tax_rate+"  ("+g.economyAndLaws.tax_rate+"%)",g,tt.BAD)):(g.modifiers.happiness-=.01,g=at(Et.high_tax_rate+"  ("+g.economyAndLaws.tax_rate*100+"%)",g,tt.BAD))}return g}function ee(g){if(g.modifiers.happiness>1){let J=g.modifiers.happiness-1;g.modifiers.happiness-=J*.3,g.modifiers.happiness<1.02&&(g.modifiers.happiness=1)}if(g.modifiers.community>1){let J=g.modifiers.community-1;g.modifiers.community-=J*.3,g.modifiers.community<1.02&&(g.modifiers.community=1)}if(g.modifiers.health>1)if(Be("healing_house",g).length>0){g=at(Et.hospital_advantage,g,tt.GOOD);let J=g.modifiers.health-1;g.modifiers.health-=J*Be("healing_house",g).length?.03:.06,g.modifiers.health<1.02&&(g.modifiers.health=1)}else{let J=g.modifiers.health-1;g.modifiers.health-=J*.3,g.modifiers.health<1.02&&(g.modifiers.health=1)}else Be("healing_house",g).length>0&&(g.modifiers.health+=.8,g.townInfo.health+=Math.floor(Math.random()*10)+5);return g}function _e(g){g.economyAndLaws.weeklyProfit=0;for(let Z=0;Z<g.plots.length;Z++)for(let J=0;J<g.plots[Z].length;J++)if(g.plots[Z][J].active==!0&&g.plots[Z][J].type>-1){const ne=le[g.plots[Z][J].type];let ie=Fe(ne.revenue_per_week,g,ne.type,Z,J)*(g.townInfo.productivity/100)/7,ke=io(Z,J,g);const Pe=g.gameSettings.includes("casual")&&ie>0?3:1;ie*=Pe,ie*=ke?2:1,g.townInfo.gold+=ie,g.economyAndLaws.weeklyProfit+=ie*7}return g}function ae(g){for(let Z=0;Z<g.plots.length;Z++)for(let J=0;J<g.plots[Z].length;J++)if(g.plots[Z][J].active==!0&&g.plots[Z][J].type>-1){const ne=le[g.plots[Z][J].type];g.townInfo.happiness*=ne.purchase_effect_modifiers.happiness,g.townInfo.health*=ne.purchase_effect_modifiers.health,g.townInfo.community*=ne.purchase_effect_modifiers.community}return g.townInfo.happiness*=g.modifiers.happiness,g.townInfo.health*=g.modifiers.health,g.townInfo.community*=g.modifiers.community,g}function re(g){return g.gameSettings.includes("casual")&&Math.random()<.75||Be("mine",g).length>0&&(g.townInfo.health-=7,Be("healing_house",g).length==0&&(g=at("The mine is actively hurting the health of the town. A Healing House can counteract this.",g,tt.BAD))),g}function Le(g){let Z=0;for(let J=0;J<g.plots.length;J++)for(let ne=0;ne<g.plots[J].length;ne++)if(g.plots[J][ne].active==!0&&g.plots[J][ne].type>-1){let ie=le[g.plots[J][ne].type],ke=Xn(J,ne,g)?.75:1;ie.knowledge_points_per_month!=null&&(g.townInfo.knowledge_points+=Math.round(ie.knowledge_points_per_month*ke/4),Z+=ie.knowledge_points_per_month*ke/4)}return g.resource_rate.knowledge=ut(Z,0),g}function Fe(g,Z,J,ne,ie){let ke=Z.townInfo.happiness/100;ke>2?ke=2:ke<.75&&(ke=.75),Z.townInfo.community>150?ke*=1.1:Z.townInfo.community<100&&(ke*=.8);let Pe=Be("village_inn",Z).length;J=="shop"&&Pe>0&&(ke*=1.35*Pe),Xn(ne,ie,Z)&&(ke*=1.5);let xe=le[Z.plots[ne][ie].type].active_costs.gold,De=Math.round(g*Z.economyAndLaws.tax_rate*(Z.townInfo.population_count/Z.townInfo.population_max)*ke*(Z.economyAndLaws.enacted.includes("tax_free")?-1:1)-xe);return ut(De,0)}return Zo(async()=>{for(;;)localStorage.reset=="true"&&(Dr(),localStorage.setItem("reset","false")),d(),await new Promise(g=>setTimeout(g,o/Wl))}),[d,Fr,qr,ee,Br]}class Lm extends he{constructor(e){super(),pe(this,e,Rm,null,me,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return Fr}get _fixVariables(){return qr}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return Br}}function Dm(t){return t[t.length-1]}function _n(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function cr(t){return t?!0:void 0}_n({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function Gf(t){if(t!==null)return t}function Vl(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function dr(t){if(!Vo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return yt(e)?e:null}const Ro=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),xl=t=>typeof t=="function";ft("empty");function ft(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return nn(n,a=>{const s=i(a);if(xl(s)){const u=(...f)=>Ro({...s(...f),[`data-melt-${t}`]:"",action:o??et});return u.action=o??et,u}return Ro({...s,[`data-melt-${t}`]:"",action:o??et})});{const a=i,s=a==null?void 0:a();if(xl(s)){const u=(...f)=>Ro({...s(...f),[`data-melt-${t}`]:"",action:o??et});return u.action=o??et,Vl(u)}return Vl(Ro({...s,[`data-melt-${t}`]:"",action:o??et}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function Yl(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=nn(n,a=>o(a).map(s=>Ro({...s,[`data-melt-${t}`]:"",action:i??et}))),l=i??(()=>{});return l.subscribe=r,l}function zi(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const Vo=typeof document<"u",Wf=t=>typeof t=="function";function jm(t){return t instanceof Document}function er(t){return t instanceof Element}function yt(t){return t instanceof HTMLElement}function Ul(t){return t.pointerType==="touch"}function Fm(t){return t!==null&&typeof t=="object"}function qm(t){return Fm(t)&&"subscribe"in t}function Ht(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function et(){}function dt(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function _t(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=Hm(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function Bm(t){const e=t.currentTarget;if(!yt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function Hm(t){return e=>{const n=Bm(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function tr(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function zt(t){return{...t,get:()=>wf(t)}}zt.writable=function(t){const e=Ue(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};zt.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const nr=(t,e)=>{const n=zt(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function ml(t){return new Promise(e=>setTimeout(e,t))}let Gm="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Wm=(t=21)=>{let e="",n=t;for(;n--;)e+=Gm[Math.random()*64|0];return e};function Vm(){return Wm(10)}function pl(t){return t.reduce((e,n)=>(e[n]=Vm(),e),{})}const lt={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Vf=()=>typeof window<"u";function xm(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const xf=t=>Vf()&&t.test(xm().toLowerCase()),Ym=()=>Vf()&&!!navigator.maxTouchPoints,Um=()=>xf(/^mac/)&&!Ym(),Km=()=>xf(/mac|iphone|ipad|ipod/i),Xm=()=>Km()&&!Um();function Jm(t){const e=t.slice();return e.sort(Qm),Zm(e)}function Zm(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function Qm(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function zm(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function ep(t){const e=t.flatMap(n=>zm(n));return Jm(e)}function tp(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const mr="data-melt-scroll-lock";function Kl(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function np(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function op(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function ip(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(mr))return et;i.setAttribute(mr,"");const l=n.innerWidth-o.clientWidth,a=()=>np(o,"--scrollbar-width",`${l}px`),s=op(o),u=n.getComputedStyle(i)[s],f=()=>Kl(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:m,scrollY:p,visualViewport:h}=n,_=(h==null?void 0:h.offsetLeft)??0,k=(h==null?void 0:h.offsetTop)??0,v=Kl(i,{position:"fixed",overflow:"hidden",top:`${-(p-Math.floor(k))}px`,left:`${-(m-Math.floor(_))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{v==null||v(),n.scrollTo(m,p)}},d=[a(),Xm()?c():f()];return()=>{d.forEach(m=>m==null?void 0:m()),i.removeAttribute(mr)}}const rp=t=>{try{If(t)}catch{return t}};function Ot(t,e){let n;const o=nn(t,r=>{n==null||n(),n=e(r)}).subscribe(et),i=()=>{o(),n==null||n()};return rp(i),i}function En(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=zt(Ue(i))}),e}function lp(t){let e=t.parentElement;for(;yt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Yf(t,e){return e!==void 0?e:lp(t)==="body"?document.body:null}async function Xl(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([ml(1),al]),e===void 0){n==null||n.focus();return}const o=Wf(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!yt(i))return;i.focus()}else yt(o)&&o.focus()}function pr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}On(void 0,t=>{function e(o){t(o),t(void 0)}return dt(document,"pointerup",e,{passive:!1,capture:!0})});const sp=On(void 0,t=>{function e(o){o&&o.key===lt.ESCAPE&&t(o),t(void 0)}return dt(document,"keydown",e,{passive:!1})}),Jl=(t,e={})=>{let n=et;function o(i={}){n();const r={enabled:!0,...i},l=qm(r.enabled)?r.enabled:On(r.enabled);n=Ht(sp.subscribe(a=>{var u;if(!a||!wf(l))return;const s=a.target;if(!(!yt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(Wf(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Ot(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},bn=Math.min,kt=Math.max,Pi=Math.round,oi=Math.floor,yn=t=>({x:t,y:t}),ap={left:"right",right:"left",bottom:"top",top:"bottom"},up={start:"end",end:"start"};function Hr(t,e,n){return kt(t,bn(e,n))}function bo(t,e){return typeof t=="function"?t(e):t}function vn(t){return t.split("-")[0]}function yo(t){return t.split("-")[1]}function Uf(t){return t==="x"?"y":"x"}function hl(t){return t==="y"?"height":"width"}function Qo(t){return["top","bottom"].includes(vn(t))?"y":"x"}function _l(t){return Uf(Qo(t))}function fp(t,e,n){n===void 0&&(n=!1);const o=yo(t),i=_l(t),r=hl(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=Ni(l)),[l,Ni(l)]}function cp(t){const e=Ni(t);return[Gr(t),e,Gr(e)]}function Gr(t){return t.replace(/start|end/g,e=>up[e])}function dp(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function mp(t,e,n,o){const i=yo(t);let r=dp(vn(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(Gr)))),r}function Ni(t){return t.replace(/left|right|bottom|top/g,e=>ap[e])}function pp(t){return{top:0,right:0,bottom:0,left:0,...t}}function Kf(t){return typeof t!="number"?pp(t):{top:t,right:t,bottom:t,left:t}}function Ei(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Zl(t,e,n){let{reference:o,floating:i}=t;const r=Qo(e),l=_l(e),a=hl(l),s=vn(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let m;switch(s){case"top":m={x:f,y:o.y-i.height};break;case"bottom":m={x:f,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:c};break;case"left":m={x:o.x-i.width,y:c};break;default:m={x:o.x,y:o.y}}switch(yo(e)){case"start":m[l]-=d*(n&&u?-1:1);break;case"end":m[l]+=d*(n&&u?-1:1);break}return m}const hp=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=Zl(u,o,s),d=o,m={},p=0;for(let h=0;h<a.length;h++){const{name:_,fn:k}=a[h],{x:v,y:S,data:L,reset:j}=await k({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:m,rects:u,platform:l,elements:{reference:t,floating:e}});f=v??f,c=S??c,m={...m,[_]:{...m[_],...L}},j&&p<=50&&(p++,typeof j=="object"&&(j.placement&&(d=j.placement),j.rects&&(u=j.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):j.rects),{x:f,y:c}=Zl(u,d,s)),h=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:m}};async function gl(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:m=0}=bo(e,t),p=Kf(m),_=a[d?c==="floating"?"reference":"floating":c],k=Ei(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(_)))==null||n?_:_.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),v=c==="floating"?{...l.floating,x:o,y:i}:l.reference,S=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),L=await(r.isElement==null?void 0:r.isElement(S))?await(r.getScale==null?void 0:r.getScale(S))||{x:1,y:1}:{x:1,y:1},j=Ei(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:S,strategy:s}):v);return{top:(k.top-j.top+p.top)/L.y,bottom:(j.bottom-k.bottom+p.bottom)/L.y,left:(k.left-j.left+p.left)/L.x,right:(j.right-k.right+p.right)/L.x}}const _p=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=bo(t,e)||{};if(u==null)return{};const c=Kf(f),d={x:n,y:o},m=_l(i),p=hl(m),h=await l.getDimensions(u),_=m==="y",k=_?"top":"left",v=_?"bottom":"right",S=_?"clientHeight":"clientWidth",L=r.reference[p]+r.reference[m]-d[m]-r.floating[p],j=d[m]-r.reference[m],F=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let $=F?F[S]:0;(!$||!await(l.isElement==null?void 0:l.isElement(F)))&&($=a.floating[S]||r.floating[p]);const I=L/2-j/2,N=$/2-h[p]/2-1,q=bn(c[k],N),A=bn(c[v],N),b=q,C=$-h[p]-A,R=$/2-h[p]/2+I,B=Hr(b,R,C),D=!s.arrow&&yo(i)!=null&&R!==B&&r.reference[p]/2-(R<b?q:A)-h[p]/2<0,U=D?R<b?R-b:R-C:0;return{[m]:d[m]+U,data:{[m]:B,centerOffset:R-B-U,...D&&{alignmentOffset:U}},reset:D}}}),gp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:h=!0,..._}=bo(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const k=vn(i),v=vn(a)===a,S=await(s.isRTL==null?void 0:s.isRTL(u.floating)),L=d||(v||!h?[Ni(a)]:cp(a));!d&&p!=="none"&&L.push(...mp(a,h,p,S));const j=[a,...L],F=await gl(e,_),$=[];let I=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&$.push(F[k]),c){const b=fp(i,l,S);$.push(F[b[0]],F[b[1]])}if(I=[...I,{placement:i,overflows:$}],!$.every(b=>b<=0)){var N,q;const b=(((N=r.flip)==null?void 0:N.index)||0)+1,C=j[b];if(C)return{data:{index:b,overflows:I},reset:{placement:C}};let R=(q=I.filter(B=>B.overflows[0]<=0).sort((B,D)=>B.overflows[1]-D.overflows[1])[0])==null?void 0:q.placement;if(!R)switch(m){case"bestFit":{var A;const B=(A=I.map(D=>[D.placement,D.overflows.filter(U=>U>0).reduce((U,X)=>U+X,0)]).sort((D,U)=>D[1]-U[1])[0])==null?void 0:A[0];B&&(R=B);break}case"initialPlacement":R=a;break}if(i!==R)return{reset:{placement:R}}}return{}}}};async function bp(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=vn(n),a=yo(n),s=Qo(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=bo(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:p}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof p=="number"&&(m=a==="end"?p*-1:p),s?{x:m*f,y:d*u}:{x:d*u,y:m*f}}const yp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await bp(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},vp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:_=>{let{x:k,y:v}=_;return{x:k,y:v}}},...s}=bo(t,e),u={x:n,y:o},f=await gl(e,s),c=Qo(vn(i)),d=Uf(c);let m=u[d],p=u[c];if(r){const _=d==="y"?"top":"left",k=d==="y"?"bottom":"right",v=m+f[_],S=m-f[k];m=Hr(v,m,S)}if(l){const _=c==="y"?"top":"left",k=c==="y"?"bottom":"right",v=p+f[_],S=p-f[k];p=Hr(v,p,S)}const h=a.fn({...e,[d]:m,[c]:p});return{...h,data:{x:h.x-n,y:h.y-o}}}}},wp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=bo(t,e),s=await gl(e,a),u=vn(n),f=yo(n),c=Qo(n)==="y",{width:d,height:m}=o.floating;let p,h;u==="top"||u==="bottom"?(p=u,h=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(h=u,p=f==="end"?"top":"bottom");const _=m-s[p],k=d-s[h],v=!e.middlewareData.shift;let S=_,L=k;if(c){const F=d-s.left-s.right;L=f||v?bn(k,F):F}else{const F=m-s.top-s.bottom;S=f||v?bn(_,F):F}if(v&&!f){const F=kt(s.left,0),$=kt(s.right,0),I=kt(s.top,0),N=kt(s.bottom,0);c?L=d-2*(F!==0||$!==0?F+$:kt(s.left,s.right)):S=m-2*(I!==0||N!==0?I+N:kt(s.top,s.bottom))}await l({...e,availableWidth:L,availableHeight:S});const j=await i.getDimensions(r.floating);return d!==j.width||m!==j.height?{reset:{rects:!0}}:{}}}};function wn(t){return Xf(t)?(t.nodeName||"").toLowerCase():"#document"}function St(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function on(t){var e;return(e=(Xf(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Xf(t){return t instanceof Node||t instanceof St(t).Node}function en(t){return t instanceof Element||t instanceof St(t).Element}function Wt(t){return t instanceof HTMLElement||t instanceof St(t).HTMLElement}function Ql(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof St(t).ShadowRoot}function zo(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Nt(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function kp(t){return["table","td","th"].includes(wn(t))}function bl(t){const e=yl(),n=Nt(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Cp(t){let e=fo(t);for(;Wt(e)&&!or(e);){if(bl(e))return e;e=fo(e)}return null}function yl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function or(t){return["html","body","#document"].includes(wn(t))}function Nt(t){return St(t).getComputedStyle(t)}function ir(t){return en(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function fo(t){if(wn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ql(t)&&t.host||on(t);return Ql(e)?e.host:e}function Jf(t){const e=fo(t);return or(e)?t.ownerDocument?t.ownerDocument.body:t.body:Wt(e)&&zo(e)?e:Jf(e)}function xo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Jf(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=St(i);return r?e.concat(l,l.visualViewport||[],zo(i)?i:[],l.frameElement&&n?xo(l.frameElement):[]):e.concat(i,xo(i,[],n))}function Zf(t){const e=Nt(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Wt(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=Pi(n)!==r||Pi(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function vl(t){return en(t)?t:t.contextElement}function to(t){const e=vl(t);if(!Wt(e))return yn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=Zf(e);let l=(r?Pi(n.width):n.width)/o,a=(r?Pi(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const Sp=yn(0);function Qf(t){const e=St(t);return!yl()||!e.visualViewport?Sp:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Tp(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==St(t)?!1:e}function $n(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=vl(t);let l=yn(1);e&&(o?en(o)&&(l=to(o)):l=to(t));const a=Tp(r,n,o)?Qf(r):yn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=St(r),m=o&&en(o)?St(o):o;let p=d,h=p.frameElement;for(;h&&o&&m!==p;){const _=to(h),k=h.getBoundingClientRect(),v=Nt(h),S=k.left+(h.clientLeft+parseFloat(v.paddingLeft))*_.x,L=k.top+(h.clientTop+parseFloat(v.paddingTop))*_.y;s*=_.x,u*=_.y,f*=_.x,c*=_.y,s+=S,u+=L,p=St(h),h=p.frameElement}}return Ei({width:f,height:c,x:s,y:u})}const Ap=[":popover-open",":modal"];function zf(t){return Ap.some(e=>{try{return t.matches(e)}catch{return!1}})}function Ip(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=on(o),a=e?zf(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=yn(1);const f=yn(0),c=Wt(o);if((c||!c&&!r)&&((wn(o)!=="body"||zo(l))&&(s=ir(o)),Wt(o))){const d=$n(o);u=to(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function Mp(t){return Array.from(t.getClientRects())}function ec(t){return $n(on(t)).left+ir(t).scrollLeft}function Op(t){const e=on(t),n=ir(t),o=t.ownerDocument.body,i=kt(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=kt(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+ec(t);const a=-n.scrollTop;return Nt(o).direction==="rtl"&&(l+=kt(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function Pp(t,e){const n=St(t),o=on(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=yl();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function Np(t,e){const n=$n(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=Wt(t)?to(t):yn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function zl(t,e,n){let o;if(e==="viewport")o=Pp(t,n);else if(e==="document")o=Op(on(t));else if(en(e))o=Np(e,n);else{const i=Qf(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return Ei(o)}function tc(t,e){const n=fo(t);return n===e||!en(n)||or(n)?!1:Nt(n).position==="fixed"||tc(n,e)}function Ep(t,e){const n=e.get(t);if(n)return n;let o=xo(t,[],!1).filter(a=>en(a)&&wn(a)!=="body"),i=null;const r=Nt(t).position==="fixed";let l=r?fo(t):t;for(;en(l)&&!or(l);){const a=Nt(l),s=bl(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||zo(l)&&!s&&tc(t,l))?o=o.filter(f=>f!==l):i=a,l=fo(l)}return e.set(t,o),o}function $p(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?Ep(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=zl(e,f,i);return u.top=kt(c.top,u.top),u.right=bn(c.right,u.right),u.bottom=bn(c.bottom,u.bottom),u.left=kt(c.left,u.left),u},zl(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function Rp(t){const{width:e,height:n}=Zf(t);return{width:e,height:n}}function Lp(t,e,n){const o=Wt(e),i=on(e),r=n==="fixed",l=$n(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=yn(0);if(o||!o&&!r)if((wn(e)!=="body"||zo(i))&&(a=ir(e)),o){const c=$n(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=ec(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function es(t,e){return!Wt(t)||Nt(t).position==="fixed"?null:e?e(t):t.offsetParent}function nc(t,e){const n=St(t);if(!Wt(t)||zf(t))return n;let o=es(t,e);for(;o&&kp(o)&&Nt(o).position==="static";)o=es(o,e);return o&&(wn(o)==="html"||wn(o)==="body"&&Nt(o).position==="static"&&!bl(o))?n:o||Cp(t)||n}const Dp=async function(t){const e=this.getOffsetParent||nc,n=this.getDimensions;return{reference:Lp(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function jp(t){return Nt(t).direction==="rtl"}const Fp={convertOffsetParentRelativeRectToViewportRelativeRect:Ip,getDocumentElement:on,getClippingRect:$p,getOffsetParent:nc,getElementRects:Dp,getClientRects:Mp,getDimensions:Rp,getScale:to,isElement:en,isRTL:jp};function qp(t,e){let n=null,o;const i=on(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const m=oi(f),p=oi(i.clientWidth-(u+c)),h=oi(i.clientHeight-(f+d)),_=oi(u),v={rootMargin:-m+"px "+-p+"px "+-h+"px "+-_+"px",threshold:kt(0,bn(1,s))||1};let S=!0;function L(j){const F=j[0].intersectionRatio;if(F!==s){if(!S)return l();F?l(!1,F):o=setTimeout(()=>{l(!1,1e-7)},100)}S=!1}try{n=new IntersectionObserver(L,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(L,v)}n.observe(t)}return l(!0),r}function Bp(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=vl(t),f=i||r?[...u?xo(u):[],...xo(e)]:[];f.forEach(k=>{i&&k.addEventListener("scroll",n,{passive:!0}),r&&k.addEventListener("resize",n)});const c=u&&a?qp(u,n):null;let d=-1,m=null;l&&(m=new ResizeObserver(k=>{let[v]=k;v&&v.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),n()}),u&&!s&&m.observe(u),m.observe(e));let p,h=s?$n(t):null;s&&_();function _(){const k=$n(t);h&&(k.x!==h.x||k.y!==h.y||k.width!==h.width||k.height!==h.height)&&n(),h=k,p=requestAnimationFrame(_)}return n(),()=>{var k;f.forEach(v=>{i&&v.removeEventListener("scroll",n),r&&v.removeEventListener("resize",n)}),c==null||c(),(k=m)==null||k.disconnect(),m=null,s&&cancelAnimationFrame(p)}}const Hp=vp,Gp=gp,Wp=wp,Vp=_p,xp=(t,e,n)=>{const o=new Map,i={platform:Fp,...n},r={...i.platform,_c:o};return hp(t,e,{...i,platform:r})},Yp={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},Up={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Kp(t,e,n={}){if(!e||!t||n===null)return{destroy:et};const o={...Yp,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push(Gp({boundary:o.boundary,padding:o.overflowPadding}));const l=yt(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(yp(s))}r.push(Hp({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(Vp({element:i,padding:8})),r.push(Wp({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;xp(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),yt(i)&&f.middlewareData.arrow){const{x:m,y:p}=f.middlewareData.arrow,h=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:m!=null?`${m}px`:"",top:p!=null?`${p}px`:"",[h]:`calc(100% - ${l}px)`,transform:Up[h],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:Bp(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var oc=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],$i=oc.join(","),ic=typeof Element>"u",Rn=ic?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ri=!ic&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Li=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},Xp=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},rc=function(e,n,o){if(Li(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll($i));return n&&Rn.call(e,$i)&&i.unshift(e),i=i.filter(o),i},lc=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!Li(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=Rn.call(l,$i);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!Li(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var m=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,m):i.push({scopeParent:l,candidates:m})}else r.unshift.apply(r,l.children)}}return i},sc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Tn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Xp(e))&&!sc(e)?0:e.tabIndex},Jp=function(e,n){var o=Tn(e);return o<0&&n&&!sc(e)?0:o},Zp=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},ac=function(e){return e.tagName==="INPUT"},Qp=function(e){return ac(e)&&e.type==="hidden"},zp=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},eh=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},th=function(e){if(!e.name)return!0;var n=e.form||Ri(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=eh(i,e.form);return!r||r===e},nh=function(e){return ac(e)&&e.type==="radio"},oh=function(e){return nh(e)&&!th(e)},ih=function(e){var n,o=e&&Ri(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=Ri(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},ts=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},rh=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Rn.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Rn.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=Ri(e);if(s&&!s.shadowRoot&&i(s)===!0)return ts(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(ih(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return ts(e);return!1},lh=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return Rn.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},Di=function(e,n){return!(n.disabled||Li(n)||Qp(n)||rh(n,e)||zp(n)||lh(n))},Wr=function(e,n){return!(oh(n)||Tn(n)<0||!Di(e,n))},sh=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},ah=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=Jp(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(Zp).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},uh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=lc([e],n.includeContainer,{filter:Wr.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:sh}):o=rc(e,n.includeContainer,Wr.bind(null,n)),ah(o)},fh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=lc([e],n.includeContainer,{filter:Di.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=rc(e,n.includeContainer,Di.bind(null,n)),o},Yn=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Rn.call(e,$i)===!1?!1:Wr(n,e)},ch=oc.concat("iframe").join(","),hr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Rn.call(e,ch)===!1?!1:Di(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ns(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function os(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ns(Object(n),!0).forEach(function(o){dh(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ns(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function dh(t,e,n){return e=ph(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mh(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ph(t){var e=mh(t,"string");return typeof e=="symbol"?e:String(e)}var is={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},hh=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},_h=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Go=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},gh=function(e){return Go(e)&&!e.shiftKey},bh=function(e){return Go(e)&&e.shiftKey},rs=function(e){return setTimeout(e,0)},ls=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},Po=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},ii=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},yh=[],vh=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||yh,r=os({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:gh,isKeyBackward:bh},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(b,C,R){return b&&b[C]!==void 0?b[C]:r[R||C]},u=function(b,C){var R=typeof(C==null?void 0:C.composedPath)=="function"?C.composedPath():void 0;return l.containerGroups.findIndex(function(B){var D=B.container,U=B.tabbableNodes;return D.contains(b)||(R==null?void 0:R.includes(D))||U.find(function(X){return X===b})})},f=function(b){var C=r[b];if(typeof C=="function"){for(var R=arguments.length,B=new Array(R>1?R-1:0),D=1;D<R;D++)B[D-1]=arguments[D];C=C.apply(void 0,B)}if(C===!0&&(C=void 0),!C){if(C===void 0||C===!1)return C;throw new Error("`".concat(b,"` was specified but was not a node, or did not return a node"))}var U=C;if(typeof C=="string"&&(U=o.querySelector(C),!U))throw new Error("`".concat(b,"` as selector refers to no known node"));return U},c=function(){var b=f("initialFocus");if(b===!1)return!1;if(b===void 0||!hr(b,r.tabbableOptions))if(u(o.activeElement)>=0)b=o.activeElement;else{var C=l.tabbableGroups[0],R=C&&C.firstTabbableNode;b=R||f("fallbackFocus")}if(!b)throw new Error("Your focus-trap needs to have at least one focusable element");return b},d=function(){if(l.containerGroups=l.containers.map(function(b){var C=uh(b,r.tabbableOptions),R=fh(b,r.tabbableOptions),B=C.length>0?C[0]:void 0,D=C.length>0?C[C.length-1]:void 0,U=R.find(function(oe){return Yn(oe)}),X=R.slice().reverse().find(function(oe){return Yn(oe)}),z=!!C.find(function(oe){return Tn(oe)>0});return{container:b,tabbableNodes:C,focusableNodes:R,posTabIndexesFound:z,firstTabbableNode:B,lastTabbableNode:D,firstDomTabbableNode:U,lastDomTabbableNode:X,nextTabbableNode:function(K){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,_e=C.indexOf(K);return _e<0?ee?R.slice(R.indexOf(K)+1).find(function(ae){return Yn(ae)}):R.slice(0,R.indexOf(K)).reverse().find(function(ae){return Yn(ae)}):C[_e+(ee?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(b){return b.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(b){return b.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function A(b){var C=b.activeElement;if(C)return C.shadowRoot&&C.shadowRoot.activeElement!==null?A(C.shadowRoot):C},p=function A(b){if(b!==!1&&b!==m(document)){if(!b||!b.focus){A(c());return}b.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=b,hh(b)&&b.select()}},h=function(b){var C=f("setReturnFocus",b);return C||(C===!1?!1:b)},_=function(b){var C=b.target,R=b.event,B=b.isBackward,D=B===void 0?!1:B;C=C||ii(R),d();var U=null;if(l.tabbableGroups.length>0){var X=u(C,R),z=X>=0?l.containerGroups[X]:void 0;if(X<0)D?U=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:U=l.tabbableGroups[0].firstTabbableNode;else if(D){var oe=ls(l.tabbableGroups,function(Le){var Fe=Le.firstTabbableNode;return C===Fe});if(oe<0&&(z.container===C||hr(C,r.tabbableOptions)&&!Yn(C,r.tabbableOptions)&&!z.nextTabbableNode(C,!1))&&(oe=X),oe>=0){var K=oe===0?l.tabbableGroups.length-1:oe-1,ee=l.tabbableGroups[K];U=Tn(C)>=0?ee.lastTabbableNode:ee.lastDomTabbableNode}else Go(R)||(U=z.nextTabbableNode(C,!1))}else{var _e=ls(l.tabbableGroups,function(Le){var Fe=Le.lastTabbableNode;return C===Fe});if(_e<0&&(z.container===C||hr(C,r.tabbableOptions)&&!Yn(C,r.tabbableOptions)&&!z.nextTabbableNode(C))&&(_e=X),_e>=0){var ae=_e===l.tabbableGroups.length-1?0:_e+1,re=l.tabbableGroups[ae];U=Tn(C)>=0?re.firstTabbableNode:re.firstDomTabbableNode}else Go(R)||(U=z.nextTabbableNode(C))}}else U=f("fallbackFocus");return U},k=function(b){var C=ii(b);if(!(u(C,b)>=0)){if(Po(r.clickOutsideDeactivates,b)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Po(r.allowOutsideClick,b)||b.preventDefault()}},v=function(b){var C=ii(b),R=u(C,b)>=0;if(R||C instanceof Document)R&&(l.mostRecentlyFocusedNode=C);else{b.stopImmediatePropagation();var B,D=!0;if(l.mostRecentlyFocusedNode)if(Tn(l.mostRecentlyFocusedNode)>0){var U=u(l.mostRecentlyFocusedNode),X=l.containerGroups[U].tabbableNodes;if(X.length>0){var z=X.findIndex(function(oe){return oe===l.mostRecentlyFocusedNode});z>=0&&(r.isKeyForward(l.recentNavEvent)?z+1<X.length&&(B=X[z+1],D=!1):z-1>=0&&(B=X[z-1],D=!1))}}else l.containerGroups.some(function(oe){return oe.tabbableNodes.some(function(K){return Tn(K)>0})})||(D=!1);else D=!1;D&&(B=_({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),p(B||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},S=function(b){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=b;var R=_({event:b,isBackward:C});R&&(Go(b)&&b.preventDefault(),p(R))},L=function(b){if(_h(b)&&Po(r.escapeDeactivates,b)!==!1){b.preventDefault(),a.deactivate();return}(r.isKeyForward(b)||r.isKeyBackward(b))&&S(b,r.isKeyBackward(b))},j=function(b){var C=ii(b);u(C,b)>=0||Po(r.clickOutsideDeactivates,b)||Po(r.allowOutsideClick,b)||(b.preventDefault(),b.stopImmediatePropagation())},F=function(){if(l.active)return is.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?rs(function(){p(c())}):p(c()),o.addEventListener("focusin",v,!0),o.addEventListener("mousedown",k,{capture:!0,passive:!1}),o.addEventListener("touchstart",k,{capture:!0,passive:!1}),o.addEventListener("click",j,{capture:!0,passive:!1}),o.addEventListener("keydown",L,{capture:!0,passive:!1}),a},$=function(){if(l.active)return o.removeEventListener("focusin",v,!0),o.removeEventListener("mousedown",k,!0),o.removeEventListener("touchstart",k,!0),o.removeEventListener("click",j,!0),o.removeEventListener("keydown",L,!0),a},I=function(b){var C=b.some(function(R){var B=Array.from(R.removedNodes);return B.some(function(D){return D===l.mostRecentlyFocusedNode})});C&&p(c())},N=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(I):void 0,q=function(){N&&(N.disconnect(),l.active&&!l.paused&&l.containers.map(function(b){N.observe(b,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(b){if(l.active)return this;var C=s(b,"onActivate"),R=s(b,"onPostActivate"),B=s(b,"checkCanFocusTrap");B||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,C==null||C();var D=function(){B&&d(),F(),q(),R==null||R()};return B?(B(l.containers.concat()).then(D,D),this):(D(),this)},deactivate:function(b){if(!l.active)return this;var C=os({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},b);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,$(),l.active=!1,l.paused=!1,q(),is.deactivateTrap(i,a);var R=s(C,"onDeactivate"),B=s(C,"onPostDeactivate"),D=s(C,"checkCanReturnFocus"),U=s(C,"returnFocus","returnFocusOnDeactivate");R==null||R();var X=function(){rs(function(){U&&p(h(l.nodeFocusedBeforeActivation)),B==null||B()})};return U&&D?(D(h(l.nodeFocusedBeforeActivation)).then(X,X),this):(X(),this)},pause:function(b){if(l.paused||!l.active)return this;var C=s(b,"onPause"),R=s(b,"onPostPause");return l.paused=!0,C==null||C(),$(),q(),R==null||R(),this},unpause:function(b){if(!l.paused||!l.active)return this;var C=s(b,"onUnpause"),R=s(b,"onPostUnpause");return l.paused=!1,C==null||C(),d(),F(),q(),R==null||R(),this},updateContainerElements:function(b){var C=[].concat(b).filter(Boolean);return l.containers=C.map(function(R){return typeof R=="string"?o.querySelector(R):R}),l.active&&d(),q(),this}},a.updateContainerElements(e),a};function wh(t={}){let e;const{immediate:n,...o}=t,i=Ue(!1),r=Ue(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=vh(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:Dl(i),isPaused:Dl(r),activate:l,deactivate:a,pause:s,unpause:u}}const ri=[];function kh(t,e){let n=et;function o(){const r=ri.indexOf(t);r>=0&&ri.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;ml(100).then(()=>{l?ri.push(t):o()});function f(){return Dm(ri)===t}function c(){f()&&a&&(a(),o())}function d(p){const h=p.target;er(h)&&h&&f()&&(p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation())}function m(p){s!=null&&s(p)&&f()&&(p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation(),c())}n=Ch(t,{onInteractOutsideStart:d,onInteractOutside:u?m:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const uc=(t,e="body")=>{let n;if(!yt(e)&&typeof e!="string")return{destroy:et};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await al(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function Ch(t,e){let n=et,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function m(_){f&&ss(_,t)&&(c==null||c(_));const k=_.target;er(k)&&fc(t,k)&&(i=!0),o=!0}function p(_){f==null||f(_)}const h=Sh(t);if(typeof PointerEvent<"u"){const _=k=>{a(k)&&p(k),s()};n=Ht(dt(h,"pointerdown",m,!0),dt(h,"pointerup",_,!0))}else{const _=v=>{r?r=!1:a(v)&&p(v),s()},k=v=>{r=!0,a(v)&&p(v),s()};n=Ht(dt(h,"mousedown",m,!0),dt(h,"mouseup",_,!0),dt(h,"touchstart",m,!0),dt(h,"touchend",k,!0))}}function a(u){return!!(o&&!i&&ss(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function ss(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!er(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!fc(e,n)}function fc(t,e){return t===e||t.contains(e)}function Sh(t){return(t==null?void 0:t.ownerDocument)??document}On(!1),On(!1),On(void 0);function Th(){return{elements:{root:ft("label",{action:e=>({destroy:_t(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:Cn}=zi("dialog"),Ah={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},Ih=["content","title","description"];function cc(t){const e={...Ah,...t},n=En(tr(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=zt.writable(null),m=En({...pl(Ih),...e.ids}),p=e.open??Ue(e.defaultOpen),h=nr(p,e==null?void 0:e.onOpenChange),_=nn([h,s],([A,b])=>A||b);let k=et;function v(A){const b=A.currentTarget,C=A.currentTarget;!yt(b)||!yt(C)||(h.set(!0),d.set(C))}function S(){h.set(!1),Xl({prop:f.get(),defaultEl:d.get()})}const L=ft(Cn("trigger"),{stores:[h],returned:([A])=>({"aria-haspopup":"dialog","aria-expanded":A,type:"button"}),action:A=>({destroy:Ht(_t(A,"click",C=>{v(C)}),_t(A,"keydown",C=>{C.key!==lt.ENTER&&C.key!==lt.SPACE||(C.preventDefault(),v(C))}))})}),j=ft(Cn("overlay"),{stores:[_,h],returned:([A,b])=>({hidden:A?void 0:!0,tabindex:-1,style:_n({display:A?void 0:"none"}),"aria-hidden":!0,"data-state":b?"open":"closed"}),action:A=>{let b=et;if(i.get()){const C=Jl(A,{handler:()=>{S()}});C&&C.destroy&&(b=C.destroy)}return{destroy(){b()}}}}),F=ft(Cn("content"),{stores:[_,m.content,m.description,m.title,h],returned:([A,b,C,R,B])=>({id:b,role:l.get(),"aria-describedby":C,"aria-labelledby":R,"aria-modal":A?"true":void 0,"data-state":B?"open":"closed",tabindex:-1,hidden:A?void 0:!0,style:_n({display:A?void 0:"none"})}),action:A=>{let b=et,C=et;const R=Ht(Ot([h],([B])=>{if(!B)return;const D=wh({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:A});b=D.activate,C=D.deactivate;const U=D.useFocusTrap(A);return U&&U.destroy?U.destroy:D.deactivate}),Ot([r,h],([B,D])=>kh(A,{open:D,closeOnInteractOutside:B,onClose(){S()},shouldCloseOnInteractOutside(U){var X;return(X=c.get())==null||X(U),!U.defaultPrevented}}).destroy),Ot([i],([B])=>{if(!B)return et;const D=Jl(A,{handler:()=>{S()}});return D&&D.destroy?D.destroy:et}),Ot([_],([B])=>{al().then(()=>{B?b():C()})}));return{destroy:()=>{k(),R()}}}}),$=ft(Cn("portalled"),{stores:a,returned:A=>({"data-portal":Gf(A)}),action:A=>{const b=Ot([a],([C])=>{if(C===null)return et;const R=Yf(A,C);if(R===null)return et;const B=uc(A,R);return B&&B.destroy?B.destroy:et});return{destroy(){b()}}}}),I=ft(Cn("title"),{stores:[m.title],returned:([A])=>({id:A})}),N=ft(Cn("description"),{stores:[m.description],returned:([A])=>({id:A})}),q=ft(Cn("close"),{returned:()=>({type:"button"}),action:A=>({destroy:Ht(_t(A,"click",()=>{S()}),_t(A,"keydown",C=>{C.key!==lt.SPACE&&C.key!==lt.ENTER||(C.preventDefault(),S())}))})});return Ot([h,o],([A,b])=>{if(Vo){if(b&&A&&(k=ip()),A){const C=document.getElementById(m.content.get());Xl({prop:u.get(),defaultEl:C})}return()=>{s.get()||k()}}}),{ids:m,elements:{content:F,trigger:L,title:I,description:N,overlay:j,close:q,portalled:$},states:{open:h},options:n}}const Mh={defaultValue:0,max:100},{name:Oh}=zi("progress"),Ph=t=>{const e={...Mh,...t},n=En(tr(e,"value")),{max:o}=n,i=e.value??Ue(e.defaultValue),r=nr(i,e==null?void 0:e.onValueChange);return{elements:{root:ft(Oh(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},Nh={orientation:"horizontal",decorative:!1},Eh=t=>{const e={...Nh,...t},n=En(e),{orientation:o,decorative:i}=n;return{elements:{root:ft("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},$h={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:li}=zi("slider"),Rh=t=>{const e={...$h,...t},n=En(tr(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??Ue(e.defaultValue),f=nr(u,e==null?void 0:e.onValueChange),c=zt(Ue(!1)),d=zt(Ue(0)),m=zt(Ue(null)),p=pl(["root"]),h=($,I)=>{f.update(N=>{if(!N)return[$];if(N[I]===$)return N;const q=[...N],A=q[I]>$?-1:1;function b(){q[I]=q[I+A],q[I+A]=$;const D=_();D&&(D[I+A].focus(),m.set({thumb:D[I+A],index:I+A}))}if(A===-1&&$<q[I-1])return b(),q;if(A===1&&$>q[I+1])return b(),q;const C=o.get(),R=i.get(),B=r.get();return q[I]=pr($,C,R,B),q})},_=()=>{const $=dr(p.root);return $?Array.from($.querySelectorAll('[data-melt-part="thumb"]')).filter(I=>yt(I)):null},k=nn([o,i],([$,I])=>N=>(N-$)/(I-$)*100),v=zt.derived([l,a],([$,I])=>$==="horizontal"?I==="rtl"?"rl":"lr":I==="rtl"?"tb":"bt"),S=ft(li(),{stores:[s,l,a],returned:([$,I,N])=>({dir:N,disabled:cr($),"data-disabled":cr($),"data-orientation":I,style:$?void 0:`touch-action: ${I==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":p.root})}),L=ft(li("range"),{stores:[f,v,k],returned:([$,I,N])=>{const q=$.length>1?N(Math.min(...$)??0):0,A=100-N(Math.max(...$)??0),b={position:"absolute"};switch(I){case"lr":{b.left=`${q}%`,b.right=`${A}%`;break}case"rl":{b.right=`${q}%`,b.left=`${A}%`;break}case"bt":{b.bottom=`${q}%`,b.top=`${A}%`;break}case"tb":{b.top=`${q}%`,b.bottom=`${A}%`;break}}return{style:_n(b)}}}),j=Yl(li("thumb"),{stores:[f,k,o,i,s,l,v],returned:([$,I,N,q,A,b,C])=>Array.from({length:$.length||1},(B,D)=>{d.get()<$.length&&d.update(K=>K+1);const X=$[D],z=`${I(X)}%`,oe={position:"absolute"};switch(C){case"lr":{oe.left=z,oe.translate="-50% 0";break}case"rl":{oe.right=z,oe.translate="50% 0";break}case"bt":{oe.bottom=z,oe.translate="0 50%";break}case"tb":{oe.top=z,oe.translate="0 -50%";break}}return{role:"slider","aria-valuemin":N,"aria-valuemax":q,"aria-valuenow":X,"aria-disabled":cr(A),"aria-orientation":b,"data-melt-part":"thumb","data-value":X,style:_n(oe),tabindex:A?-1:0}}),action:$=>({destroy:_t($,"keydown",N=>{if(s.get())return;const q=N.currentTarget;if(!yt(q))return;const A=_();if(!(A!=null&&A.length))return;const b=A.indexOf(q);if(d.set(b),![lt.ARROW_LEFT,lt.ARROW_RIGHT,lt.ARROW_UP,lt.ARROW_DOWN,lt.HOME,lt.END].includes(N.key))return;N.preventDefault();const C=o.get(),R=i.get(),B=r.get(),D=f.get(),U=l.get(),X=v.get(),z=D[b];switch(N.key){case lt.HOME:{h(C,b);break}case lt.END:{h(R,b);break}case lt.ARROW_LEFT:{if(U!=="horizontal")break;N.metaKey?h(X==="rl"?R:C,b):X==="rl"&&z<R?h(z+B,b):X==="lr"&&z>C&&h(z-B,b);break}case lt.ARROW_RIGHT:{if(U!=="horizontal")break;N.metaKey?h(X==="rl"?C:R,b):X==="rl"&&z>C?h(z-B,b):X==="lr"&&z<R&&h(z+B,b);break}case lt.ARROW_UP:{N.metaKey?h(X==="tb"?C:R,b):X==="tb"&&z>C?h(z-B,b):X!=="tb"&&z<R&&h(z+B,b);break}case lt.ARROW_DOWN:{N.metaKey?h(X==="tb"?R:C,b):X==="tb"&&z<R?h(z+B,b):X!=="tb"&&z>C&&h(z-B,b);break}}})})}),F=Yl(li("tick"),{stores:[f,o,i,r,v],returned:([$,I,N,q,A])=>{const b=N-I;let C=Math.ceil(b/q);return b%q==0&&C++,Array.from({length:C},(R,B)=>{const D=`${B*(q/(N-I))*100}%`,U=B===0,X=B===C-1,z=U?0:X?-100:-50,oe={position:"absolute"};switch(A){case"lr":{oe.left=D,oe.translate=`${z}% 0`;break}case"rl":{oe.right=D,oe.translate=`${-z}% 0`;break}case"bt":{oe.bottom=D,oe.translate=`0 ${-z}%`;break}case"tb":{oe.top=D,oe.translate=`0 ${z}%`;break}}const K=I+B*q;return{"data-bounded":($.length===1?K<=$[0]:$[0]<=K&&K<=$[$.length-1])?!0:void 0,"data-value":K,style:_n(oe)}})}});return Ot([S,o,i,s,l,v,r],([$,I,N,q,A,b,C])=>{if(!Vo||q)return;const R=(oe,K,ee,_e)=>{const re=(oe-ee)/(_e-ee)*(N-I)+I;if(re<I)h(I,K);else if(re>N)h(N,K);else{const Le=C,Fe=I,g=Math.floor((re-Fe)/Le),Z=Fe+g*Le+Le/2,J=Fe+(g+1)*Le+Le/2,ne=re>=Z&&re<J?(g+1)*Le+Fe:g*Le+Fe;ne<=N&&h(ne,K)}},B=oe=>{const K=_();if(!K)return;K.forEach(re=>re.blur());const ee=K.map(re=>{if(A==="horizontal"){const{left:Le,right:Fe}=re.getBoundingClientRect();return Math.abs(oe.clientX-(Le+Fe)/2)}else{const{top:Le,bottom:Fe}=re.getBoundingClientRect();return Math.abs(oe.clientY-(Le+Fe)/2)}}),_e=K[ee.indexOf(Math.min(...ee))],ae=K.indexOf(_e);return{thumb:_e,index:ae}},D=oe=>{if(!c.get())return;oe.preventDefault(),oe.stopPropagation();const K=dr($["data-melt-id"]),ee=m.get();if(!K||!ee)return;ee.thumb.focus();const{left:_e,right:ae,top:re,bottom:Le}=K.getBoundingClientRect();switch(b){case"lr":{R(oe.clientX,ee.index,_e,ae);break}case"rl":{R(oe.clientX,ee.index,ae,_e);break}case"bt":{R(oe.clientY,ee.index,Le,re);break}case"tb":{R(oe.clientY,ee.index,re,Le);break}}},U=oe=>{if(oe.button!==0)return;const K=dr($["data-melt-id"]),ee=B(oe);if(!ee||!K)return;const _e=oe.target;!yt(_e)||!K.contains(_e)||(oe.preventDefault(),m.set(ee),ee.thumb.focus(),c.set(!0),D(oe))},X=()=>{c.set(!1)},z=Ht(dt(document,"pointerdown",U),dt(document,"pointerup",X),dt(document,"pointerleave",X),dt(document,"pointermove",D));return()=>{z()}}),Ot([r,o,i,f],function([I,N,q,A]){const b=R=>pr(R,N,q,I)===R,C=R=>pr(R,N,q,I);A.some(R=>!b(R))&&f.update(R=>R.map(C))}),{elements:{root:S,thumbs:j,range:L,ticks:F},states:{value:f},options:n}},Lh={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:_r}=zi("tooltip"),si=new Map,Dh=["trigger","content"];function jh(t){const e={...Lh,...t},n=En(tr(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,m=e.open??Ue(e.defaultOpen),p=nr(m,e==null?void 0:e.onOpenChange),h=Ue(null),_=En({...pl(Dh),...e.ids});let k=!1;const v=b=>Vo?document.getElementById(_[b].get()):null;let S=null,L=null;function j(b){L&&(window.clearTimeout(L),L=null),S||(S=window.setTimeout(()=>{p.set(!0),h.update(C=>C??b),S=null},l.get()))}function F(b){if(S&&(window.clearTimeout(S),S=null),b&&A){h.set("pointer");return}L||(L=window.setTimeout(()=>{p.set(!1),h.set(null),b&&(k=!1),L=null},a.get()))}const $=nn([p,s],([b,C])=>b||C),I=ft(_r("trigger"),{stores:[_.content,_.trigger,p],returned:([b,C,R])=>({"aria-describedby":b,id:C,"data-state":R?"open":"closed"}),action:b=>{const C=B=>{f.get()&&B.key===lt.ESCAPE&&(S&&(window.clearTimeout(S),S=null),p.set(!1))};return{destroy:Ht(_t(b,"pointerdown",()=>{r.get()&&(p.set(!1),k=!0,S&&(window.clearTimeout(S),S=null))}),_t(b,"pointerenter",B=>{Ul(B)||j("pointer")}),_t(b,"pointerleave",B=>{Ul(B)||S&&(window.clearTimeout(S),S=null)}),_t(b,"focus",()=>{k||j("focus")}),_t(b,"blur",async()=>{await ml(0),F(!0)}),_t(b,"keydown",C),dt(document,"keydown",C))}}}),N=ft(_r("content"),{stores:[$,p,u,_.content],returned:([b,C,R,B])=>({role:"tooltip",hidden:b?void 0:!0,tabindex:-1,style:_n({display:b?void 0:"none"}),id:B,"data-portal":Gf(R),"data-state":C?"open":"closed"}),action:b=>{let C=et,R=et;const B=Ot([$,o,u],([X,z,oe])=>{const K=v("trigger");if(!X||!K){R(),C();return}if(C=Kp(K,b,z).destroy,oe===null){R();return}const _e=Yf(b,oe);if(_e){const ae=uc(b,_e);ae&&ae.destroy&&(R=ae.destroy)}});function D(X){if(!p.get())return;const z=X.target;if(!er(z)&&!jm(z))return;const oe=v("trigger");oe&&z.contains(oe)&&F()}const U=Ht(_t(b,"pointerenter",()=>j("pointer")),_t(b,"pointerdown",()=>j("pointer")),dt(window,"scroll",D,{capture:!0}));return{destroy(){U(),R(),C(),B()}}}}),q=ft(_r("arrow"),{stores:i,returned:b=>({"data-arrow":!0,style:_n({position:"absolute",width:`var(--arrow-size, ${b}px)`,height:`var(--arrow-size, ${b}px)`})})});let A=!1;return Ot(p,b=>{const C=d.get();if(C===void 0||C===!1)return;if(!b){si.get(C)===p&&si.delete(C);return}const R=si.get(C);R==null||R.set(!1),si.set(C,p)}),Ot([p,h],([b,C])=>{if(!(!b||!Vo))return Ht(dt(document,"mousemove",R=>{const B=v("content"),D=v("trigger");if(!B||!D)return;const U=c.get()?[D]:[D,B],X=ep(U);A=tp({x:R.clientX,y:R.clientY},X),C==="pointer"&&(A||F())}))}),{ids:_,elements:{trigger:I,content:N,arrow:q},states:{open:p},options:n}}function Fn(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function qn(){const t=Td();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function vo(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function Ln(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function dc(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function Fh(t){const{NAME:e,PARTS:n}=dc(),o=Fn(e,n),i=cc({...vo(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:Ln(i.options)};return Zi(e,r),{...r,updateOption:Ln(r.options),getAttrs:o}}function Bn(){const{NAME:t}=dc();return Qi(t)}const qh=t=>({ids:t&1}),as=t=>({ids:t[0]});function Bh(t){let e;const n=t[12].default,o=ge(n,t,t[11],as);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&ye(o,n,i,i[11],e?be(n,i[11],r,qh):ve(i[11]),as)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Hh(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:p=void 0}=e;const{states:{open:h},updateOption:_,ids:k}=Fh({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:p,onOpenChange:({next:S})=>(f!==S&&(c==null||c(S),n(2,f=S)),S)}),v=nn([k.content,k.description,k.title],([S,L,j])=>({content:S,description:L,title:j}));return ue(t,v,S=>n(0,o=S)),t.$$set=S=>{"preventScroll"in S&&n(3,l=S.preventScroll),"closeOnEscape"in S&&n(4,a=S.closeOnEscape),"closeOnOutsideClick"in S&&n(5,s=S.closeOnOutsideClick),"portal"in S&&n(6,u=S.portal),"open"in S&&n(2,f=S.open),"onOpenChange"in S&&n(7,c=S.onOpenChange),"openFocus"in S&&n(8,d=S.openFocus),"closeFocus"in S&&n(9,m=S.closeFocus),"onOutsideClick"in S&&n(10,p=S.onOutsideClick),"$$scope"in S&&n(11,r=S.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&h.set(f),t.$$.dirty&8&&_("preventScroll",l),t.$$.dirty&16&&_("closeOnEscape",a),t.$$.dirty&32&&_("closeOnOutsideClick",s),t.$$.dirty&64&&_("portal",u),t.$$.dirty&256&&_("openFocus",d),t.$$.dirty&512&&_("closeFocus",m),t.$$.dirty&1024&&_("onOutsideClick",p)},[o,v,f,l,a,s,u,c,d,m,p,r,i]}class Gh extends he{constructor(e){super(),pe(this,e,Hh,Bh,me,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const Wh=t=>({builder:t&8}),us=t=>({builder:t[3]}),Vh=t=>({builder:t&8}),fs=t=>({builder:t[3]});function xh(t){let e=t[1],n,o,i=t[1]&&gr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1]?e?me(e,r[1])?(i.d(1),i=gr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=gr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(w(i,r),o=!0)},o(r){T(i,r),o=!1},d(r){r&&M(n),i&&i.d(r)}}}function Yh(t){let e;const n=t[9].default,o=ge(n,t,t[8],fs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&ye(o,n,i,i[8],e?be(n,i[8],r,Vh):ve(i[8]),fs)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function gr(t){let e,n,o,i;const r=t[9].default,l=ge(r,t,t[8],us);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),gn(t[1])(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=Ge(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&ye(l,r,u,u[8],n?be(r,u[8],f,Wh):ve(u[8]),us),gn(u[1])(e,s=Ce(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[10](null),o=!1,i()}}}function Uh(t){let e,n,o,i;const r=[Yh,xh],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Kh(t,e,n){let o;const i=["level","asChild","id","el"];let r=ce(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:p,getAttrs:h}=Bn();ue(t,m,v=>n(7,l=v));const _=h("title");function k(v){Ee[v?"unshift":"push"](()=>{d=v,n(0,d)})}return t.$$set=v=>{e=Q(Q({},e),$e(v)),n(5,r=ce(e,i)),"level"in v&&n(1,u=v.level),"asChild"in v&&n(2,f=v.asChild),"id"in v&&n(6,c=v.id),"el"in v&&n(0,d=v.el),"$$scope"in v&&n(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&p.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,_)},[d,u,f,o,m,r,c,l,s,a,k]}let Xh=class extends he{constructor(e){super(),pe(this,e,Kh,Uh,me,{level:1,asChild:2,id:6,el:0})}};const Jh=t=>({builder:t&4}),cs=t=>({builder:t[2]}),Zh=t=>({builder:t&4}),ds=t=>({builder:t[2]});function Qh(t){let e,n,o,i;const r=t[8].default,l=ge(r,t,t[7],cs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("button"),l&&l.c(),de(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Ge(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ye(l,r,u,u[7],n?be(r,u[7],f,Jh):ve(u[7]),cs),de(e,s=Ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,Ve(i)}}}function zh(t){let e;const n=t[8].default,o=ge(n,t,t[7],ds);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ye(o,n,i,i[7],e?be(n,i[7],r,Zh):ve(i[7]),ds)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function e_(t){let e,n,o,i;const r=[zh,Qh],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function t_(t,e,n){let o;const i=["asChild","el"];let r=ce(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Bn();ue(t,c,_=>n(6,l=_));const m=qn(),p=d("action");function h(_){Ee[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Q(Q({},e),$e(_)),n(5,r=ce(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(7,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,h]}let n_=class extends he{constructor(e){super(),pe(this,e,t_,e_,me,{asChild:1,el:0})}};const o_=t=>({builder:t&4}),ms=t=>({builder:t[2]}),i_=t=>({builder:t&4}),ps=t=>({builder:t[2]});function r_(t){let e,n,o,i;const r=t[8].default,l=ge(r,t,t[7],ms);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("button"),l&&l.c(),de(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Ge(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ye(l,r,u,u[7],n?be(r,u[7],f,o_):ve(u[7]),ms),de(e,s=Ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,Ve(i)}}}function l_(t){let e;const n=t[8].default,o=ge(n,t,t[7],ps);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ye(o,n,i,i[7],e?be(n,i[7],r,i_):ve(i[7]),ps)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function s_(t){let e,n,o,i;const r=[l_,r_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function a_(t,e,n){let o;const i=["asChild","el"];let r=ce(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Bn();ue(t,c,_=>n(6,l=_));const m=qn(),p=d("cancel");function h(_){Ee[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Q(Q({},e),$e(_)),n(5,r=ce(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(7,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,h]}let u_=class extends he{constructor(e){super(),pe(this,e,a_,s_,me,{asChild:1,el:0})}};const f_=t=>({builder:t&4}),hs=t=>({builder:t[2]}),c_=t=>({builder:t&4}),_s=t=>({builder:t[2]});function d_(t){let e,n,o,i;const r=t[7].default,l=ge(r,t,t[6],hs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("div"),l&&l.c(),de(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&ye(l,r,u,u[6],n?be(r,u[6],f,f_):ve(u[6]),hs),de(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[8](null),o=!1,i()}}}function m_(t){let e;const n=t[7].default,o=ge(n,t,t[6],_s);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&ye(o,n,i,i[6],e?be(n,i[6],r,c_):ve(i[6]),_s)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function p_(t){let e,n,o,i;const r=[m_,d_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function h_(t,e,n){let o;const i=["asChild","el"];let r=ce(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Bn();ue(t,c,h=>n(5,l=h));const m=d("portal");function p(h){Ee[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=Q(Q({},e),$e(h)),n(4,r=ce(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}let __=class extends he{constructor(e){super(),pe(this,e,h_,p_,me,{asChild:1,el:0})}};const g_=t=>({builder:t[0]&256}),gs=t=>({builder:t[8]}),b_=t=>({builder:t[0]&256}),bs=t=>({builder:t[8]}),y_=t=>({builder:t[0]&256}),ys=t=>({builder:t[8]}),v_=t=>({builder:t[0]&256}),vs=t=>({builder:t[8]}),w_=t=>({builder:t[0]&256}),ws=t=>({builder:t[8]}),k_=t=>({builder:t[0]&256}),ks=t=>({builder:t[8]});function C_(t){let e,n,o,i;const r=t[16].default,l=ge(r,t,t[15],gs);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("div"),l&&l.c(),de(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[Ge(t[8].action(e)),te(e,"pointerdown",t[45]),te(e,"pointermove",t[46]),te(e,"pointerup",t[47]),te(e,"touchend",t[48]),te(e,"touchstart",t[49]),te(e,"touchcancel",t[50]),te(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&ye(l,r,u,u[15],n?be(r,u[15],f,g_):ve(u[15]),gs),de(e,s=Ce(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[56](null),o=!1,Ve(i)}}}function S_(t){let e,n,o,i,r;const l=t[16].default,a=ge(l,t,t[15],bs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=P("div"),a&&a.c(),de(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[Ge(t[8].action(e)),te(e,"pointerdown",t[38]),te(e,"pointermove",t[39]),te(e,"pointerup",t[40]),te(e,"touchend",t[41]),te(e,"touchstart",t[42]),te(e,"touchcancel",t[43]),te(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ye(a,l,t,t[15],o?be(l,t[15],c,b_):ve(t[15]),bs),de(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(w(a,f),n&&n.end(1),o=!0)},o(f){T(a,f),f&&(n=Yt(e,t[5],t[6])),o=!1},d(f){f&&M(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,Ve(r)}}}function T_(t){let e,n,o,i,r;const l=t[16].default,a=ge(l,t,t[15],ys);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=P("div"),a&&a.c(),de(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[Ge(t[8].action(e)),te(e,"pointerdown",t[31]),te(e,"pointermove",t[32]),te(e,"pointerup",t[33]),te(e,"touchend",t[34]),te(e,"touchstart",t[35]),te(e,"touchcancel",t[36]),te(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ye(a,l,t,t[15],o?be(l,t[15],c,y_):ve(t[15]),ys),de(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(w(a,f),f&&(n||nt(()=>{n=xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){T(a,f),o=!1},d(f){f&&M(e),a&&a.d(f),t[54](null),i=!1,Ve(r)}}}function A_(t){let e,n,o,i,r,l;const a=t[16].default,s=ge(a,t,t[15],vs);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=P("div"),s&&s.c(),de(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Ge(t[8].action(e)),te(e,"pointerdown",t[24]),te(e,"pointermove",t[25]),te(e,"pointerup",t[26]),te(e,"touchend",t[27]),te(e,"touchstart",t[28]),te(e,"touchcancel",t[29]),te(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&ye(s,a,t,t[15],i?be(a,t[15],d,v_):ve(t[15]),vs),de(e,f=Ce(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(w(s,c),c&&nt(()=>{i&&(o&&o.end(1),n=xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){T(s,c),n&&n.invalidate(),c&&(o=Yt(e,t[5],t[6])),i=!1},d(c){c&&M(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,Ve(l)}}}function I_(t){let e,n,o,i,r;const l=t[16].default,a=ge(l,t,t[15],ws);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=P("div"),a&&a.c(),de(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[Ge(t[8].action(e)),te(e,"pointerdown",t[17]),te(e,"pointermove",t[18]),te(e,"pointerup",t[19]),te(e,"touchend",t[20]),te(e,"touchstart",t[21]),te(e,"touchcancel",t[22]),te(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ye(a,l,t,t[15],o?be(l,t[15],c,w_):ve(t[15]),ws),de(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(w(a,f),f&&nt(()=>{o&&(n||(n=gt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){T(a,f),f&&(n||(n=gt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&M(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,Ve(r)}}}function M_(t){let e;const n=t[16].default,o=ge(n,t,t[15],ks);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&ye(o,n,i,i[15],e?be(n,i[15],r,k_):ve(i[15]),ks)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function O_(t){let e,n,o,i;const r=[M_,I_,A_,T_,S_,C_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function P_(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=ce(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:h=void 0}=e,{id:_=void 0}=e,{asChild:k=!1}=e,{el:v=void 0}=e;const{elements:{content:S},states:{open:L},ids:j,getAttrs:F}=Bn();ue(t,S,G=>n(14,l=G)),ue(t,L,G=>n(9,a=G));const $=F("content");function I(G){se.call(this,t,G)}function N(G){se.call(this,t,G)}function q(G){se.call(this,t,G)}function A(G){se.call(this,t,G)}function b(G){se.call(this,t,G)}function C(G){se.call(this,t,G)}function R(G){se.call(this,t,G)}function B(G){se.call(this,t,G)}function D(G){se.call(this,t,G)}function U(G){se.call(this,t,G)}function X(G){se.call(this,t,G)}function z(G){se.call(this,t,G)}function oe(G){se.call(this,t,G)}function K(G){se.call(this,t,G)}function ee(G){se.call(this,t,G)}function _e(G){se.call(this,t,G)}function ae(G){se.call(this,t,G)}function re(G){se.call(this,t,G)}function Le(G){se.call(this,t,G)}function Fe(G){se.call(this,t,G)}function g(G){se.call(this,t,G)}function Z(G){se.call(this,t,G)}function J(G){se.call(this,t,G)}function ne(G){se.call(this,t,G)}function ie(G){se.call(this,t,G)}function ke(G){se.call(this,t,G)}function Pe(G){se.call(this,t,G)}function je(G){se.call(this,t,G)}function xe(G){se.call(this,t,G)}function De(G){se.call(this,t,G)}function Ke(G){se.call(this,t,G)}function Xe(G){se.call(this,t,G)}function we(G){se.call(this,t,G)}function qe(G){se.call(this,t,G)}function Gn(G){se.call(this,t,G)}function un(G){Ee[G?"unshift":"push"](()=>{v=G,n(0,v)})}function Mt(G){Ee[G?"unshift":"push"](()=>{v=G,n(0,v)})}function rt(G){Ee[G?"unshift":"push"](()=>{v=G,n(0,v)})}function Te(G){Ee[G?"unshift":"push"](()=>{v=G,n(0,v)})}function Je(G){Ee[G?"unshift":"push"](()=>{v=G,n(0,v)})}return t.$$set=G=>{e=Q(Q({},e),$e(G)),n(12,r=ce(e,i)),"transition"in G&&n(1,f=G.transition),"transitionConfig"in G&&n(2,c=G.transitionConfig),"inTransition"in G&&n(3,d=G.inTransition),"inTransitionConfig"in G&&n(4,m=G.inTransitionConfig),"outTransition"in G&&n(5,p=G.outTransition),"outTransitionConfig"in G&&n(6,h=G.outTransitionConfig),"id"in G&&n(13,_=G.id),"asChild"in G&&n(7,k=G.asChild),"el"in G&&n(0,v=G.el),"$$scope"in G&&n(15,u=G.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&_&&j.content.set(_),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,$)},[v,f,c,d,m,p,h,k,o,a,S,L,r,_,l,u,s,I,N,q,A,b,C,R,B,D,U,X,z,oe,K,ee,_e,ae,re,Le,Fe,g,Z,J,ne,ie,ke,Pe,je,xe,De,Ke,Xe,we,qe,Gn,un,Mt,rt,Te,Je]}let N_=class extends he{constructor(e){super(),pe(this,e,P_,O_,me,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const E_=t=>({builder:t&256}),Cs=t=>({builder:t[8]});function $_(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=P("div"),de(e,r)},m(l,a){O(l,e,a),t[20](e),n||(o=Ge(t[8].action(e)),n=!0)},p(l,a){de(e,r=Ce(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ie,o:Ie,d(l){l&&M(e),t[20](null),n=!1,o()}}}function R_(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=P("div"),de(e,a)},m(s,u){O(s,e,u),t[19](e),o=!0,i||(r=Ge(t[8].action(e)),i=!0)},p(s,u){t=s,de(e,a=Ce(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Yt(e,t[5],t[6])),o=!1},d(s){s&&M(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function L_(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=P("div"),de(e,l)},m(a,s){O(a,e,s),t[18](e),o||(i=Ge(t[8].action(e)),o=!0)},p(a,s){t=a,de(e,l=Ce(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||nt(()=>{n=xt(e,t[3],t[4]),n.start()}))},o:Ie,d(a){a&&M(e),t[18](null),o=!1,i()}}}function D_(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("div"),de(e,s)},m(u,f){O(u,e,f),t[17](e),i=!0,r||(l=Ge(t[8].action(e)),r=!0)},p(u,f){t=u,de(e,s=Ce(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&nt(()=>{i&&(o&&o.end(1),n=xt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Yt(e,t[5],t[6])),i=!1},d(u){u&&M(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function j_(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=P("div"),de(e,a)},m(s,u){O(s,e,u),t[16](e),o=!0,i||(r=Ge(t[8].action(e)),i=!0)},p(s,u){t=s,de(e,a=Ce(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&nt(()=>{o&&(n||(n=gt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=gt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&M(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function F_(t){let e;const n=t[15].default,o=ge(n,t,t[14],Cs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&ye(o,n,i,i[14],e?be(n,i[14],r,E_):ve(i[14]),Cs)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function q_(t){let e,n,o,i;const r=[F_,j_,D_,L_,R_,$_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function B_(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ce(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:_=!1}=e,{el:k=void 0}=e;const{elements:{overlay:v},states:{open:S},getAttrs:L}=Bn();ue(t,v,A=>n(13,l=A)),ue(t,S,A=>n(9,a=A));const j=L("overlay");function F(A){Ee[A?"unshift":"push"](()=>{k=A,n(0,k)})}function $(A){Ee[A?"unshift":"push"](()=>{k=A,n(0,k)})}function I(A){Ee[A?"unshift":"push"](()=>{k=A,n(0,k)})}function N(A){Ee[A?"unshift":"push"](()=>{k=A,n(0,k)})}function q(A){Ee[A?"unshift":"push"](()=>{k=A,n(0,k)})}return t.$$set=A=>{e=Q(Q({},e),$e(A)),n(12,r=ce(e,i)),"transition"in A&&n(1,f=A.transition),"transitionConfig"in A&&n(2,c=A.transitionConfig),"inTransition"in A&&n(3,d=A.inTransition),"inTransitionConfig"in A&&n(4,m=A.inTransitionConfig),"outTransition"in A&&n(5,p=A.outTransition),"outTransitionConfig"in A&&n(6,h=A.outTransitionConfig),"asChild"in A&&n(7,_=A.asChild),"el"in A&&n(0,k=A.el),"$$scope"in A&&n(14,u=A.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,j)},[k,f,c,d,m,p,h,_,o,a,v,S,r,l,u,s,F,$,I,N,q]}let H_=class extends he{constructor(e){super(),pe(this,e,B_,q_,me,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const G_=t=>({builder:t&4}),Ss=t=>({builder:t[2]}),W_=t=>({builder:t&4}),Ts=t=>({builder:t[2]});function V_(t){let e,n,o,i;const r=t[8].default,l=ge(r,t,t[7],Ss);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("div"),l&&l.c(),de(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ye(l,r,u,u[7],n?be(r,u[7],f,G_):ve(u[7]),Ss),de(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,i()}}}function x_(t){let e;const n=t[8].default,o=ge(n,t,t[7],Ts);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ye(o,n,i,i[7],e?be(n,i[7],r,W_):ve(i[7]),Ts)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Y_(t){let e,n,o,i;const r=[x_,V_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function U_(t,e,n){let o;const i=["asChild","id","el"];let r=ce(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:p}=Bn();ue(t,d,k=>n(6,l=k));const h=p("description");function _(k){Ee[k?"unshift":"push"](()=>{c=k,n(0,c)})}return t.$$set=k=>{e=Q(Q({},e),$e(k)),n(4,r=ce(e,i)),"asChild"in k&&n(1,u=k.asChild),"id"in k&&n(5,f=k.id),"el"in k&&n(0,c=k.el),"$$scope"in k&&n(7,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[c,u,o,d,r,f,l,s,a,_]}let K_=class extends he{constructor(e){super(),pe(this,e,U_,Y_,me,{asChild:1,id:5,el:0})}};function X_(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function As(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function J_(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&br(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1],e?me(e,r[1]?"a":"button")?(i.d(1),i=br(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=br(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(w(i,r),o=!0)},o(r){T(i,r),o=!1},d(r){r&&M(n),i&&i.d(r)}}}function Z_(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&yr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1],e?me(e,r[1]?"a":"button")?(i.d(1),i=yr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=yr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(w(i,r),o=!0)},o(r){T(i,r),o=!1},d(r){r&&M(n),i&&i.d(r)}}}function br(t){let e,n,o,i,r;const l=t[7].default,a=ge(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=P(t[1]?"a":"button"),a&&a.c(),gn(t[1]?"a":"button")(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),o=!0,i||(r=[te(e,"click",t[14]),te(e,"change",t[15]),te(e,"keydown",t[16]),te(e,"keyup",t[17]),te(e,"mouseenter",t[18]),te(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&ye(a,l,f,f[6],o?be(l,f[6],c,null):ve(f[6]),null),gn(f[1]?"a":"button")(e,u=Ce(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(w(a,f),o=!0)},o(f){T(a,f),o=!1},d(f){f&&M(e),a&&a.d(f),i=!1,Ve(r)}}}function yr(t){let e,n,o,i,r,l;const a=t[7].default,s=ge(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},As(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=P(t[1]?"a":"button"),s&&s.c(),gn(t[1]?"a":"button")(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[te(e,"click",t[8]),te(e,"change",t[9]),te(e,"keydown",t[10]),te(e,"keyup",t[11]),te(e,"mouseenter",t[12]),te(e,"mouseleave",t[13]),Ge(o=X_.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&ye(s,a,c,c[6],i?be(a,c[6],d,null):ve(c[6]),null),gn(c[1]?"a":"button")(e,f=Ce(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&As(c[3]),d&32&&c[5],c[4]])),o&&jt(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(w(s,c),i=!0)},o(c){T(s,c),i=!1},d(c){c&&M(e),s&&s.d(c),t[20](null),r=!1,Ve(l)}}}function Q_(t){let e,n,o,i;const r=[Z_,J_],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function z_(t,e,n){const o=["href","type","builders","el"];let i=ce(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(N){se.call(this,t,N)}function m(N){se.call(this,t,N)}function p(N){se.call(this,t,N)}function h(N){se.call(this,t,N)}function _(N){se.call(this,t,N)}function k(N){se.call(this,t,N)}function v(N){se.call(this,t,N)}function S(N){se.call(this,t,N)}function L(N){se.call(this,t,N)}function j(N){se.call(this,t,N)}function F(N){se.call(this,t,N)}function $(N){se.call(this,t,N)}function I(N){Ee[N?"unshift":"push"](()=>{f=N,n(0,f)})}return t.$$set=N=>{e=Q(Q({},e),$e(N)),n(5,i=ce(e,o)),"href"in N&&n(1,a=N.href),"type"in N&&n(2,s=N.type),"builders"in N&&n(3,u=N.builders),"el"in N&&n(0,f=N.el),"$$scope"in N&&n(6,l=N.$$scope)},[f,a,s,u,c,i,l,r,d,m,p,h,_,k,v,S,L,j,F,$,I]}let e0=class extends he{constructor(e){super(),pe(this,e,z_,Q_,me,{href:1,type:2,builders:3,el:0})}};function t0(t){return(e={})=>n0(t,e)}function n0(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:o0(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function o0(t,e){return e==="center"?t:`${t}-${e}`}function i0(){return{NAME:"separator",PARTS:["root"]}}function r0(t){const{NAME:e,PARTS:n}=i0(),o=Fn(e,n),i={...Eh(vo(t)),getAttrs:o};return{...i,updateOption:Ln(i.options)}}const l0=t=>({builder:t&4}),Is=t=>({builder:t[2]});function s0(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=P("div"),de(e,r)},m(l,a){O(l,e,a),t[10](e),n||(o=Ge(t[2].action(e)),n=!0)},p(l,a){de(e,r=Ce(i,[a&4&&l[2],a&16&&l[4]]))},i:Ie,o:Ie,d(l){l&&M(e),t[10](null),n=!1,o()}}}function a0(t){let e;const n=t[9].default,o=ge(n,t,t[8],Is);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&ye(o,n,i,i[8],e?be(n,i[8],r,l0):ve(i[8]),Is)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function u0(t){let e,n,o,i;const r=[a0,s0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function f0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=ce(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:m},updateOption:p,getAttrs:h}=r0({orientation:u,decorative:f});ue(t,m,v=>n(7,l=v));const _=h("root");function k(v){Ee[v?"unshift":"push"](()=>{d=v,n(0,d)})}return t.$$set=v=>{e=Q(Q({},e),$e(v)),n(4,r=ce(e,i)),"orientation"in v&&n(5,u=v.orientation),"decorative"in v&&n(6,f=v.decorative),"asChild"in v&&n(1,c=v.asChild),"el"in v&&n(0,d=v.el),"$$scope"in v&&n(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&p("orientation",u),t.$$.dirty&64&&p("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[d,c,o,m,r,u,f,l,s,a,k]}let c0=class extends he{constructor(e){super(),pe(this,e,f0,u0,me,{orientation:5,decorative:6,asChild:1,el:0})}};function mc(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function d0(t){const{NAME:e,PARTS:n}=mc(),o=Fn(e,n),i={...cc({...vo(t),role:"dialog",forceVisible:!0}),getAttrs:o};return Zi(e,i),{...i,updateOption:Ln(i.options)}}function wo(){const{NAME:t}=mc();return Qi(t)}const m0=t=>({ids:t&1}),Ms=t=>({ids:t[0]});function p0(t){let e;const n=t[12].default,o=ge(n,t,t[11],Ms);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&ye(o,n,i,i[11],e?be(n,i[11],r,m0):ve(i[11]),Ms)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function h0(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:p=void 0}=e;const{states:{open:h},updateOption:_,ids:k}=d0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:p,onOpenChange:({next:S})=>(f!==S&&(c==null||c(S),n(2,f=S)),S)}),v=nn([k.content,k.description,k.title],([S,L,j])=>({content:S,description:L,title:j}));return ue(t,v,S=>n(0,o=S)),t.$$set=S=>{"preventScroll"in S&&n(3,l=S.preventScroll),"closeOnEscape"in S&&n(4,a=S.closeOnEscape),"closeOnOutsideClick"in S&&n(5,s=S.closeOnOutsideClick),"portal"in S&&n(6,u=S.portal),"open"in S&&n(2,f=S.open),"onOpenChange"in S&&n(7,c=S.onOpenChange),"openFocus"in S&&n(8,d=S.openFocus),"closeFocus"in S&&n(9,m=S.closeFocus),"onOutsideClick"in S&&n(10,p=S.onOutsideClick),"$$scope"in S&&n(11,r=S.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&h.set(f),t.$$.dirty&8&&_("preventScroll",l),t.$$.dirty&16&&_("closeOnEscape",a),t.$$.dirty&32&&_("closeOnOutsideClick",s),t.$$.dirty&64&&_("portal",u),t.$$.dirty&256&&_("openFocus",d),t.$$.dirty&512&&_("closeFocus",m),t.$$.dirty&1024&&_("onOutsideClick",p)},[o,v,f,l,a,s,u,c,d,m,p,r,i]}class _0 extends he{constructor(e){super(),pe(this,e,h0,p0,me,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const g0=t=>({builder:t&8}),Os=t=>({builder:t[3]}),b0=t=>({builder:t&8}),Ps=t=>({builder:t[3]});function y0(t){let e=t[1],n,o,i=t[1]&&vr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1]?e?me(e,r[1])?(i.d(1),i=vr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=vr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(w(i,r),o=!0)},o(r){T(i,r),o=!1},d(r){r&&M(n),i&&i.d(r)}}}function v0(t){let e;const n=t[9].default,o=ge(n,t,t[8],Ps);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&ye(o,n,i,i[8],e?be(n,i[8],r,b0):ve(i[8]),Ps)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function vr(t){let e,n,o,i;const r=t[9].default,l=ge(r,t,t[8],Os);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),gn(t[1])(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=Ge(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&ye(l,r,u,u[8],n?be(r,u[8],f,g0):ve(u[8]),Os),gn(u[1])(e,s=Ce(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[10](null),o=!1,i()}}}function w0(t){let e,n,o,i;const r=[v0,y0],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function k0(t,e,n){let o;const i=["level","asChild","id","el"];let r=ce(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:p,getAttrs:h}=wo();ue(t,m,v=>n(7,l=v));const _=h("title");function k(v){Ee[v?"unshift":"push"](()=>{d=v,n(0,d)})}return t.$$set=v=>{e=Q(Q({},e),$e(v)),n(5,r=ce(e,i)),"level"in v&&n(1,u=v.level),"asChild"in v&&n(2,f=v.asChild),"id"in v&&n(6,c=v.id),"el"in v&&n(0,d=v.el),"$$scope"in v&&n(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&p.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,_)},[d,u,f,o,m,r,c,l,s,a,k]}let C0=class extends he{constructor(e){super(),pe(this,e,k0,w0,me,{level:1,asChild:2,id:6,el:0})}};const S0=t=>({builder:t&4}),Ns=t=>({builder:t[2]}),T0=t=>({builder:t&4}),Es=t=>({builder:t[2]});function A0(t){let e,n,o,i;const r=t[8].default,l=ge(r,t,t[7],Ns);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("button"),l&&l.c(),de(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Ge(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ye(l,r,u,u[7],n?be(r,u[7],f,S0):ve(u[7]),Ns),de(e,s=Ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,Ve(i)}}}function I0(t){let e;const n=t[8].default,o=ge(n,t,t[7],Es);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ye(o,n,i,i[7],e?be(n,i[7],r,T0):ve(i[7]),Es)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function M0(t){let e,n,o,i;const r=[I0,A0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function O0(t,e,n){let o;const i=["asChild","el"];let r=ce(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=wo();ue(t,c,_=>n(6,l=_));const m=qn(),p=d("close");function h(_){Ee[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Q(Q({},e),$e(_)),n(5,r=ce(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(7,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,h]}class P0 extends he{constructor(e){super(),pe(this,e,O0,M0,me,{asChild:1,el:0})}}const N0=t=>({builder:t&4}),$s=t=>({builder:t[2]}),E0=t=>({builder:t&4}),Rs=t=>({builder:t[2]});function $0(t){let e,n,o,i;const r=t[7].default,l=ge(r,t,t[6],$s);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("div"),l&&l.c(),de(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&ye(l,r,u,u[6],n?be(r,u[6],f,N0):ve(u[6]),$s),de(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[8](null),o=!1,i()}}}function R0(t){let e;const n=t[7].default,o=ge(n,t,t[6],Rs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&ye(o,n,i,i[6],e?be(n,i[6],r,E0):ve(i[6]),Rs)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function L0(t){let e,n,o,i;const r=[R0,$0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function D0(t,e,n){let o;const i=["asChild","el"];let r=ce(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=wo();ue(t,c,h=>n(5,l=h));const m=d("portal");function p(h){Ee[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=Q(Q({},e),$e(h)),n(4,r=ce(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}let j0=class extends he{constructor(e){super(),pe(this,e,D0,L0,me,{asChild:1,el:0})}};const F0=t=>({builder:t[0]&256}),Ls=t=>({builder:t[8]}),q0=t=>({builder:t[0]&256}),Ds=t=>({builder:t[8]}),B0=t=>({builder:t[0]&256}),js=t=>({builder:t[8]}),H0=t=>({builder:t[0]&256}),Fs=t=>({builder:t[8]}),G0=t=>({builder:t[0]&256}),qs=t=>({builder:t[8]}),W0=t=>({builder:t[0]&256}),Bs=t=>({builder:t[8]});function V0(t){let e,n,o,i;const r=t[16].default,l=ge(r,t,t[15],Ls);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("div"),l&&l.c(),de(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[Ge(t[8].action(e)),te(e,"pointerdown",t[45]),te(e,"pointermove",t[46]),te(e,"pointerup",t[47]),te(e,"touchend",t[48]),te(e,"touchstart",t[49]),te(e,"touchcancel",t[50]),te(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&ye(l,r,u,u[15],n?be(r,u[15],f,F0):ve(u[15]),Ls),de(e,s=Ce(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[56](null),o=!1,Ve(i)}}}function x0(t){let e,n,o,i,r;const l=t[16].default,a=ge(l,t,t[15],Ds);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=P("div"),a&&a.c(),de(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[Ge(t[8].action(e)),te(e,"pointerdown",t[38]),te(e,"pointermove",t[39]),te(e,"pointerup",t[40]),te(e,"touchend",t[41]),te(e,"touchstart",t[42]),te(e,"touchcancel",t[43]),te(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ye(a,l,t,t[15],o?be(l,t[15],c,q0):ve(t[15]),Ds),de(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(w(a,f),n&&n.end(1),o=!0)},o(f){T(a,f),f&&(n=Yt(e,t[5],t[6])),o=!1},d(f){f&&M(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,Ve(r)}}}function Y0(t){let e,n,o,i,r;const l=t[16].default,a=ge(l,t,t[15],js);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=P("div"),a&&a.c(),de(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[Ge(t[8].action(e)),te(e,"pointerdown",t[31]),te(e,"pointermove",t[32]),te(e,"pointerup",t[33]),te(e,"touchend",t[34]),te(e,"touchstart",t[35]),te(e,"touchcancel",t[36]),te(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ye(a,l,t,t[15],o?be(l,t[15],c,B0):ve(t[15]),js),de(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(w(a,f),f&&(n||nt(()=>{n=xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){T(a,f),o=!1},d(f){f&&M(e),a&&a.d(f),t[54](null),i=!1,Ve(r)}}}function U0(t){let e,n,o,i,r,l;const a=t[16].default,s=ge(a,t,t[15],Fs);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=P("div"),s&&s.c(),de(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Ge(t[8].action(e)),te(e,"pointerdown",t[24]),te(e,"pointermove",t[25]),te(e,"pointerup",t[26]),te(e,"touchend",t[27]),te(e,"touchstart",t[28]),te(e,"touchcancel",t[29]),te(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&ye(s,a,t,t[15],i?be(a,t[15],d,H0):ve(t[15]),Fs),de(e,f=Ce(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(w(s,c),c&&nt(()=>{i&&(o&&o.end(1),n=xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){T(s,c),n&&n.invalidate(),c&&(o=Yt(e,t[5],t[6])),i=!1},d(c){c&&M(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,Ve(l)}}}function K0(t){let e,n,o,i,r;const l=t[16].default,a=ge(l,t,t[15],qs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=P("div"),a&&a.c(),de(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[Ge(t[8].action(e)),te(e,"pointerdown",t[17]),te(e,"pointermove",t[18]),te(e,"pointerup",t[19]),te(e,"touchend",t[20]),te(e,"touchstart",t[21]),te(e,"touchcancel",t[22]),te(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ye(a,l,t,t[15],o?be(l,t[15],c,G0):ve(t[15]),qs),de(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(w(a,f),f&&nt(()=>{o&&(n||(n=gt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){T(a,f),f&&(n||(n=gt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&M(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,Ve(r)}}}function X0(t){let e;const n=t[16].default,o=ge(n,t,t[15],Bs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&ye(o,n,i,i[15],e?be(n,i[15],r,W0):ve(i[15]),Bs)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function J0(t){let e,n,o,i;const r=[X0,K0,U0,Y0,x0,V0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function Z0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=ce(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:_=!1}=e,{id:k=void 0}=e,{el:v=void 0}=e;const{elements:{content:S},states:{open:L},ids:j,getAttrs:F}=wo();ue(t,S,G=>n(14,l=G)),ue(t,L,G=>n(9,a=G));const $=F("content");function I(G){se.call(this,t,G)}function N(G){se.call(this,t,G)}function q(G){se.call(this,t,G)}function A(G){se.call(this,t,G)}function b(G){se.call(this,t,G)}function C(G){se.call(this,t,G)}function R(G){se.call(this,t,G)}function B(G){se.call(this,t,G)}function D(G){se.call(this,t,G)}function U(G){se.call(this,t,G)}function X(G){se.call(this,t,G)}function z(G){se.call(this,t,G)}function oe(G){se.call(this,t,G)}function K(G){se.call(this,t,G)}function ee(G){se.call(this,t,G)}function _e(G){se.call(this,t,G)}function ae(G){se.call(this,t,G)}function re(G){se.call(this,t,G)}function Le(G){se.call(this,t,G)}function Fe(G){se.call(this,t,G)}function g(G){se.call(this,t,G)}function Z(G){se.call(this,t,G)}function J(G){se.call(this,t,G)}function ne(G){se.call(this,t,G)}function ie(G){se.call(this,t,G)}function ke(G){se.call(this,t,G)}function Pe(G){se.call(this,t,G)}function je(G){se.call(this,t,G)}function xe(G){se.call(this,t,G)}function De(G){se.call(this,t,G)}function Ke(G){se.call(this,t,G)}function Xe(G){se.call(this,t,G)}function we(G){se.call(this,t,G)}function qe(G){se.call(this,t,G)}function Gn(G){se.call(this,t,G)}function un(G){Ee[G?"unshift":"push"](()=>{v=G,n(0,v)})}function Mt(G){Ee[G?"unshift":"push"](()=>{v=G,n(0,v)})}function rt(G){Ee[G?"unshift":"push"](()=>{v=G,n(0,v)})}function Te(G){Ee[G?"unshift":"push"](()=>{v=G,n(0,v)})}function Je(G){Ee[G?"unshift":"push"](()=>{v=G,n(0,v)})}return t.$$set=G=>{e=Q(Q({},e),$e(G)),n(12,r=ce(e,i)),"transition"in G&&n(1,f=G.transition),"transitionConfig"in G&&n(2,c=G.transitionConfig),"inTransition"in G&&n(3,d=G.inTransition),"inTransitionConfig"in G&&n(4,m=G.inTransitionConfig),"outTransition"in G&&n(5,p=G.outTransition),"outTransitionConfig"in G&&n(6,h=G.outTransitionConfig),"asChild"in G&&n(7,_=G.asChild),"id"in G&&n(13,k=G.id),"el"in G&&n(0,v=G.el),"$$scope"in G&&n(15,u=G.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&k&&j.content.set(k),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,$)},[v,f,c,d,m,p,h,_,o,a,S,L,r,k,l,u,s,I,N,q,A,b,C,R,B,D,U,X,z,oe,K,ee,_e,ae,re,Le,Fe,g,Z,J,ne,ie,ke,Pe,je,xe,De,Ke,Xe,we,qe,Gn,un,Mt,rt,Te,Je]}let Q0=class extends he{constructor(e){super(),pe(this,e,Z0,J0,me,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const z0=t=>({builder:t&256}),Hs=t=>({builder:t[8]});function eg(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=P("div"),de(e,r)},m(l,a){O(l,e,a),t[25](e),n||(o=[Ge(t[8].action(e)),te(e,"mouseup",t[20])],n=!0)},p(l,a){de(e,r=Ce(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ie,o:Ie,d(l){l&&M(e),t[25](null),n=!1,Ve(o)}}}function tg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=P("div"),de(e,a)},m(s,u){O(s,e,u),t[24](e),o=!0,i||(r=[Ge(t[8].action(e)),te(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,de(e,a=Ce(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Yt(e,t[5],t[6])),o=!1},d(s){s&&M(e),t[24](null),s&&n&&n.end(),i=!1,Ve(r)}}}function ng(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=P("div"),de(e,l)},m(a,s){O(a,e,s),t[23](e),o||(i=[Ge(t[8].action(e)),te(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,de(e,l=Ce(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||nt(()=>{n=xt(e,t[3],t[4]),n.start()}))},o:Ie,d(a){a&&M(e),t[23](null),o=!1,Ve(i)}}}function og(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("div"),de(e,s)},m(u,f){O(u,e,f),t[22](e),i=!0,r||(l=[Ge(t[8].action(e)),te(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,de(e,s=Ce(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&nt(()=>{i&&(o&&o.end(1),n=xt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Yt(e,t[5],t[6])),i=!1},d(u){u&&M(e),t[22](null),u&&o&&o.end(),r=!1,Ve(l)}}}function ig(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=P("div"),de(e,a)},m(s,u){O(s,e,u),t[21](e),o=!0,i||(r=[te(e,"mouseup",t[16]),Ge(t[8].action(e))],i=!0)},p(s,u){t=s,de(e,a=Ce(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&nt(()=>{o&&(n||(n=gt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=gt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&M(e),t[21](null),s&&n&&n.end(),i=!1,Ve(r)}}}function rg(t){let e;const n=t[15].default,o=ge(n,t,t[14],Hs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&ye(o,n,i,i[14],e?be(n,i[14],r,z0):ve(i[14]),Hs)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function lg(t){let e,n,o,i;const r=[rg,ig,og,ng,tg,eg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function sg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ce(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:_=!1}=e,{el:k=void 0}=e;const{elements:{overlay:v},states:{open:S},getAttrs:L}=wo();ue(t,v,D=>n(13,l=D)),ue(t,S,D=>n(9,a=D));const j=L("overlay");function F(D){se.call(this,t,D)}function $(D){se.call(this,t,D)}function I(D){se.call(this,t,D)}function N(D){se.call(this,t,D)}function q(D){se.call(this,t,D)}function A(D){Ee[D?"unshift":"push"](()=>{k=D,n(0,k)})}function b(D){Ee[D?"unshift":"push"](()=>{k=D,n(0,k)})}function C(D){Ee[D?"unshift":"push"](()=>{k=D,n(0,k)})}function R(D){Ee[D?"unshift":"push"](()=>{k=D,n(0,k)})}function B(D){Ee[D?"unshift":"push"](()=>{k=D,n(0,k)})}return t.$$set=D=>{e=Q(Q({},e),$e(D)),n(12,r=ce(e,i)),"transition"in D&&n(1,f=D.transition),"transitionConfig"in D&&n(2,c=D.transitionConfig),"inTransition"in D&&n(3,d=D.inTransition),"inTransitionConfig"in D&&n(4,m=D.inTransitionConfig),"outTransition"in D&&n(5,p=D.outTransition),"outTransitionConfig"in D&&n(6,h=D.outTransitionConfig),"asChild"in D&&n(7,_=D.asChild),"el"in D&&n(0,k=D.el),"$$scope"in D&&n(14,u=D.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,j)},[k,f,c,d,m,p,h,_,o,a,v,S,r,l,u,s,F,$,I,N,q,A,b,C,R,B]}let ag=class extends he{constructor(e){super(),pe(this,e,sg,lg,me,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const ug=t=>({builder:t&4}),Gs=t=>({builder:t[2]}),fg=t=>({builder:t&4}),Ws=t=>({builder:t[2]});function cg(t){let e,n,o,i;const r=t[8].default,l=ge(r,t,t[7],Gs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("div"),l&&l.c(),de(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ye(l,r,u,u[7],n?be(r,u[7],f,ug):ve(u[7]),Gs),de(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,i()}}}function dg(t){let e;const n=t[8].default,o=ge(n,t,t[7],Ws);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ye(o,n,i,i[7],e?be(n,i[7],r,fg):ve(i[7]),Ws)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function mg(t){let e,n,o,i;const r=[dg,cg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function pg(t,e,n){let o;const i=["asChild","id","el"];let r=ce(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:p}=wo();ue(t,d,k=>n(6,l=k));const h=p("description");function _(k){Ee[k?"unshift":"push"](()=>{c=k,n(0,c)})}return t.$$set=k=>{e=Q(Q({},e),$e(k)),n(4,r=ce(e,i)),"asChild"in k&&n(1,u=k.asChild),"id"in k&&n(5,f=k.id),"el"in k&&n(0,c=k.el),"$$scope"in k&&n(7,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[c,u,o,d,r,f,l,s,a,_]}let hg=class extends he{constructor(e){super(),pe(this,e,pg,mg,me,{asChild:1,id:5,el:0})}};function _g(){const t="label",n=Fn(t,["root"]);return{NAME:t,getAttrs:n}}const gg=t=>({builder:t&4}),Vs=t=>({builder:t[2]}),bg=t=>({builder:t&4}),xs=t=>({builder:t[2]});function yg(t){let e,n,o,i;const r=t[8].default,l=ge(r,t,t[7],Vs);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("label"),l&&l.c(),de(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[Ge(t[2].action(e)),te(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ye(l,r,u,u[7],n?be(r,u[7],f,gg):ve(u[7]),Vs),de(e,s=Ce(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,Ve(i)}}}function vg(t){let e;const n=t[8].default,o=ge(n,t,t[7],xs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ye(o,n,i,i[7],e?be(n,i[7],r,bg):ve(i[7]),xs)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function wg(t){let e,n,o,i;const r=[vg,yg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function kg(t,e,n){let o;const i=["asChild","el"];let r=ce(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=Th();ue(t,c,_=>n(6,l=_));const d=qn(),{getAttrs:m}=_g(),p=m("root");function h(_){Ee[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Q(Q({},e),$e(_)),n(5,r=ce(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(7,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,d,r,l,s,a,h]}let Cg=class extends he{constructor(e){super(),pe(this,e,kg,wg,me,{asChild:1,el:0})}};function Sg(){return{NAME:"progress",PARTS:["root"]}}function Tg(t){const{NAME:e,PARTS:n}=Sg(),o=Fn(e,n),i={...Ph(vo(t)),getAttrs:o};return{...i,updateOption:Ln(i.options)}}const Ag=t=>({builder:t&4}),Ys=t=>({builder:t[2]}),Ig=t=>({builder:t&4}),Us=t=>({builder:t[2]});function Mg(t){let e,n,o,i;const r=t[10].default,l=ge(r,t,t[9],Ys);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("div"),l&&l.c(),de(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&ye(l,r,u,u[9],n?be(r,u[9],f,Ag):ve(u[9]),Ys),de(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[11](null),o=!1,i()}}}function Og(t){let e;const n=t[10].default,o=ge(n,t,t[9],Us);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&ye(o,n,i,i[9],e?be(n,i[9],r,Ig):ve(i[9]),Us)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Pg(t){let e,n,o,i;const r=[Og,Mg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Ng(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=ce(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:m=void 0}=e;const{elements:{root:p},states:{value:h},updateOption:_,getAttrs:k}=Tg({max:u,defaultValue:f,onValueChange:({next:L})=>(c==null||c(L),n(5,f=L),L)});ue(t,p,L=>n(8,l=L));const v=k("root");function S(L){Ee[L?"unshift":"push"](()=>{m=L,n(0,m)})}return t.$$set=L=>{e=Q(Q({},e),$e(L)),n(4,r=ce(e,i)),"max"in L&&n(6,u=L.max),"value"in L&&n(5,f=L.value),"onValueChange"in L&&n(7,c=L.onValueChange),"asChild"in L&&n(1,d=L.asChild),"el"in L&&n(0,m=L.el),"$$scope"in L&&n(9,s=L.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&h.set(f),t.$$.dirty&64&&_("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,v)},[m,d,o,p,r,f,u,c,l,s,a,S]}let Eg=class extends he{constructor(e){super(),pe(this,e,Ng,Pg,me,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function pc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function $g(t){const{NAME:e,PARTS:n}=pc(),o=Fn(e,n),i={...Rh(vo(t)),getAttrs:o};return Zi(e,i),{...i,updateOption:Ln(i.options)}}function hc(){const{NAME:t}=pc();return Qi(t)}const Rg=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Ks=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),Lg=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Xs=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function Dg(t){let e,n,o,i;const r=t[18].default,l=ge(r,t,t[17],Ks);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("span"),l&&l.c(),de(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&ye(l,r,u,u[17],n?be(r,u[17],f,Rg):ve(u[17]),Ks),de(e,s=Ce(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[19](null),o=!1,i()}}}function jg(t){let e;const n=t[18].default,o=ge(n,t,t[17],Xs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&ye(o,n,i,i[17],e?be(n,i[17],r,Lg):ve(i[17]),Xs)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Fg(t){let e,n,o,i;const r=[jg,Dg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function qg(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=ce(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:m=void 0}=e,{step:p=void 0}=e,{orientation:h=void 0}=e,{value:_=void 0}=e,{onValueChange:k=void 0}=e,{asChild:v=!1}=e,{el:S=void 0}=e;const{elements:{root:L,ticks:j,thumbs:F},states:{value:$},updateOption:I,getAttrs:N}=$g({disabled:c,min:d,max:m,step:p,orientation:h,defaultValue:_,onValueChange:({next:b})=>(_!==b&&(k==null||k(b),n(9,_=b)),b)});ue(t,L,b=>n(16,l=b)),ue(t,j,b=>n(3,a=b)),ue(t,F,b=>n(4,s=b));const q=N("root");function A(b){Ee[b?"unshift":"push"](()=>{S=b,n(0,S)})}return t.$$set=b=>{e=Q(Q({},e),$e(b)),n(8,r=ce(e,i)),"disabled"in b&&n(10,c=b.disabled),"min"in b&&n(11,d=b.min),"max"in b&&n(12,m=b.max),"step"in b&&n(13,p=b.step),"orientation"in b&&n(14,h=b.orientation),"value"in b&&n(9,_=b.value),"onValueChange"in b&&n(15,k=b.onValueChange),"asChild"in b&&n(1,v=b.asChild),"el"in b&&n(0,S=b.el),"$$scope"in b&&n(17,f=b.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&_!==void 0&&$.set(_),t.$$.dirty&1024&&I("disabled",c),t.$$.dirty&2048&&I("min",d),t.$$.dirty&4096&&I("max",m),t.$$.dirty&8192&&I("step",p),t.$$.dirty&16384&&I("orientation",h),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,q)},[S,v,o,a,s,L,j,F,r,_,c,d,m,p,h,k,l,f,u,A]}let Bg=class extends he{constructor(e){super(),pe(this,e,qg,Fg,me,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const Hg=t=>({builder:t&4}),Js=t=>({builder:t[2]});function Gg(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=P("span"),de(e,r)},m(l,a){O(l,e,a),t[8](e),n||(o=Ge(t[2].action(e)),n=!0)},p(l,a){de(e,r=Ce(i,[a&4&&l[2],a&16&&l[4]]))},i:Ie,o:Ie,d(l){l&&M(e),t[8](null),n=!1,o()}}}function Wg(t){let e;const n=t[7].default,o=ge(n,t,t[6],Js);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&ye(o,n,i,i[6],e?be(n,i[6],r,Hg):ve(i[6]),Js)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Vg(t){let e,n,o,i;const r=[Wg,Gg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function xg(t,e,n){let o;const i=["asChild","el"];let r=ce(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=hc();ue(t,c,h=>n(5,l=h));const m=d("range");function p(h){Ee[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=Q(Q({},e),$e(h)),n(4,r=ce(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}class Yg extends he{constructor(e){super(),pe(this,e,xg,Vg,me,{asChild:1,el:0})}}const Ug=t=>({builder:t&4}),Zs=t=>({builder:t[2]});function Kg(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=P("span"),de(e,r)},m(l,a){O(l,e,a),t[8](e),n||(o=[Ge(t[2].action(e)),te(e,"m-keydown",t[3])],n=!0)},p(l,a){de(e,r=Ce(i,[a&4&&l[2],a&16&&l[4]]))},i:Ie,o:Ie,d(l){l&&M(e),t[8](null),n=!1,Ve(o)}}}function Xg(t){let e;const n=t[7].default,o=ge(n,t,t[6],Zs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&ye(o,n,i,i[6],e?be(n,i[6],r,Ug):ve(i[6]),Zs)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Jg(t){let e,n,o,i;const r=[Xg,Kg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Zg(t,e,n){let o;const i=["asChild","el","thumb"];let r=ce(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=hc(),d=qn(),m=c("thumb");function p(h){Ee[h?"unshift":"push"](()=>{u=h,n(0,u)})}return t.$$set=h=>{e=Q(Q({},e),$e(h)),n(4,r=ce(e,i)),"asChild"in h&&n(1,s=h.asChild),"el"in h&&n(0,u=h.el),"thumb"in h&&n(5,f=h.thumb),"$$scope"in h&&n(6,a=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,m)},[u,s,o,d,r,f,a,l,p]}class Qg extends he{constructor(e){super(),pe(this,e,Zg,Jg,me,{asChild:1,el:0,thumb:5})}}function _c(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function zg(t){const{NAME:e,PARTS:n}=_c(),o=Fn(e,n),i={...jh({positioning:{placement:"top",gutter:0},openDelay:700,...vo(t),forceVisible:!0}),getAttrs:o};return Zi(e,i),{...i,updateOption:Ln(i.options)}}function wl(){const{NAME:t}=_c();return Qi(t)}function e1(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=wl();t0(o)({...n})}const t1=t=>({ids:t&1}),Qs=t=>({ids:t[0]});function n1(t){let e;const n=t[12].default,o=ge(n,t,t[11],Qs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&ye(o,n,i,i[11],e?be(n,i[11],r,t1):ve(i[11]),Qs)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function o1(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:m=void 0}=e,{group:p=void 0}=e;const{states:{open:h},updateOption:_,ids:k}=zg({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:m,group:p,onOpenChange:({next:S})=>(c!==S&&(d==null||d(S),n(2,c=S)),S),positioning:{gutter:0,offset:{mainAxis:1}}}),v=nn([k.content,k.trigger],([S,L])=>({content:S,trigger:L}));return ue(t,v,S=>n(0,o=S)),t.$$set=S=>{"closeOnEscape"in S&&n(3,l=S.closeOnEscape),"portal"in S&&n(4,a=S.portal),"closeOnPointerDown"in S&&n(5,s=S.closeOnPointerDown),"openDelay"in S&&n(6,u=S.openDelay),"closeDelay"in S&&n(7,f=S.closeDelay),"open"in S&&n(2,c=S.open),"onOpenChange"in S&&n(8,d=S.onOpenChange),"disableHoverableContent"in S&&n(9,m=S.disableHoverableContent),"group"in S&&n(10,p=S.group),"$$scope"in S&&n(11,r=S.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&h.set(c),t.$$.dirty&8&&_("closeOnEscape",l),t.$$.dirty&16&&_("portal",a),t.$$.dirty&32&&_("closeOnPointerDown",s),t.$$.dirty&64&&_("openDelay",u),t.$$.dirty&128&&_("closeDelay",f),t.$$.dirty&1024&&_("group",p),t.$$.dirty&512&&_("disableHoverableContent",m)},[o,v,c,l,a,s,u,f,d,m,p,r,i]}class i1 extends he{constructor(e){super(),pe(this,e,o1,n1,me,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const r1=t=>({builder:t[0]&256}),zs=t=>({builder:t[8]}),l1=t=>({builder:t[0]&256}),ea=t=>({builder:t[8]}),s1=t=>({builder:t[0]&256}),ta=t=>({builder:t[8]}),a1=t=>({builder:t[0]&256}),na=t=>({builder:t[8]}),u1=t=>({builder:t[0]&256}),oa=t=>({builder:t[8]}),f1=t=>({builder:t[0]&256}),ia=t=>({builder:t[8]});function c1(t){let e,n,o,i;const r=t[28].default,l=ge(r,t,t[27],zs);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("div"),l&&l.c(),de(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[Ge(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&ye(l,r,u,u[27],n?be(r,u[27],f,r1):ve(u[27]),zs),de(e,s=Ce(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[33](null),o=!1,Ve(i)}}}function d1(t){let e,n,o,i,r;const l=t[28].default,a=ge(l,t,t[27],ea);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=P("div"),a&&a.c(),de(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[Ge(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&ye(a,l,t,t[27],o?be(l,t[27],c,l1):ve(t[27]),ea),de(e,u=Ce(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(w(a,f),n&&n.end(1),o=!0)},o(f){T(a,f),f&&(n=Yt(e,t[5],t[6])),o=!1},d(f){f&&M(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,Ve(r)}}}function m1(t){let e,n,o,i,r;const l=t[28].default,a=ge(l,t,t[27],ta);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=P("div"),a&&a.c(),de(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[Ge(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&ye(a,l,t,t[27],o?be(l,t[27],c,s1):ve(t[27]),ta),de(e,u=Ce(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(w(a,f),f&&(n||nt(()=>{n=xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){T(a,f),o=!1},d(f){f&&M(e),a&&a.d(f),t[31](null),i=!1,Ve(r)}}}function p1(t){let e,n,o,i,r,l;const a=t[28].default,s=ge(a,t,t[27],na);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=P("div"),s&&s.c(),de(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[Ge(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&ye(s,a,t,t[27],i?be(a,t[27],d,a1):ve(t[27]),na),de(e,f=Ce(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(w(s,c),c&&nt(()=>{i&&(o&&o.end(1),n=xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){T(s,c),n&&n.invalidate(),c&&(o=Yt(e,t[5],t[6])),i=!1},d(c){c&&M(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,Ve(l)}}}function h1(t){let e,n,o,i,r;const l=t[28].default,a=ge(l,t,t[27],oa);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=P("div"),a&&a.c(),de(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[Ge(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&ye(a,l,t,t[27],o?be(l,t[27],c,u1):ve(t[27]),oa),de(e,u=Ce(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(w(a,f),f&&nt(()=>{o&&(n||(n=gt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){T(a,f),f&&(n||(n=gt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&M(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,Ve(r)}}}function _1(t){let e;const n=t[28].default,o=ge(n,t,t[27],ia);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&ye(o,n,i,i[27],e?be(n,i[27],r,f1):ve(i[27]),ia)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function g1(t){let e,n,o,i;const r=[_1,h1,p1,m1,d1,c1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function b1(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=ce(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:_=!1}=e,{id:k=void 0}=e,{side:v="top"}=e,{align:S="center"}=e,{sideOffset:L=0}=e,{alignOffset:j=0}=e,{collisionPadding:F=8}=e,{avoidCollisions:$=!0}=e,{collisionBoundary:I=void 0}=e,{sameWidth:N=!1}=e,{fitViewport:q=!1}=e,{strategy:A="absolute"}=e,{overlap:b=!1}=e,{el:C=void 0}=e;const{elements:{content:R},states:{open:B},ids:D,getAttrs:U}=wl();ue(t,R,re=>n(26,a=re)),ue(t,B,re=>n(9,l=re));const X=qn(),z=U("content");function oe(re){Ee[re?"unshift":"push"](()=>{C=re,n(0,C)})}function K(re){Ee[re?"unshift":"push"](()=>{C=re,n(0,C)})}function ee(re){Ee[re?"unshift":"push"](()=>{C=re,n(0,C)})}function _e(re){Ee[re?"unshift":"push"](()=>{C=re,n(0,C)})}function ae(re){Ee[re?"unshift":"push"](()=>{C=re,n(0,C)})}return t.$$set=re=>{e=Q(Q({},e),$e(re)),n(13,r=ce(e,i)),"transition"in re&&n(1,f=re.transition),"transitionConfig"in re&&n(2,c=re.transitionConfig),"inTransition"in re&&n(3,d=re.inTransition),"inTransitionConfig"in re&&n(4,m=re.inTransitionConfig),"outTransition"in re&&n(5,p=re.outTransition),"outTransitionConfig"in re&&n(6,h=re.outTransitionConfig),"asChild"in re&&n(7,_=re.asChild),"id"in re&&n(14,k=re.id),"side"in re&&n(15,v=re.side),"align"in re&&n(16,S=re.align),"sideOffset"in re&&n(17,L=re.sideOffset),"alignOffset"in re&&n(18,j=re.alignOffset),"collisionPadding"in re&&n(19,F=re.collisionPadding),"avoidCollisions"in re&&n(20,$=re.avoidCollisions),"collisionBoundary"in re&&n(21,I=re.collisionBoundary),"sameWidth"in re&&n(22,N=re.sameWidth),"fitViewport"in re&&n(23,q=re.fitViewport),"strategy"in re&&n(24,A=re.strategy),"overlap"in re&&n(25,b=re.overlap),"el"in re&&n(0,C=re.el),"$$scope"in re&&n(27,u=re.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&k&&D.content.set(k),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,z),t.$$.dirty[0]&67076608&&l&&e1({side:v,align:S,sideOffset:L,alignOffset:j,collisionPadding:F,avoidCollisions:$,collisionBoundary:I,sameWidth:N,fitViewport:q,strategy:A,overlap:b})},[C,f,c,d,m,p,h,_,o,l,R,B,X,r,k,v,S,L,j,F,$,I,N,q,A,b,a,u,s,oe,K,ee,_e,ae]}let y1=class extends he{constructor(e){super(),pe(this,e,b1,g1,me,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const v1=t=>({builder:t&4}),ra=t=>({builder:t[2]}),w1=t=>({builder:t&4}),la=t=>({builder:t[2]});function k1(t){let e,n,o,i;const r=t[9].default,l=ge(r,t,t[8],ra);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("button"),l&&l.c(),de(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[Ge(t[2].action(e)),te(e,"m-blur",t[4]),te(e,"m-focus",t[4]),te(e,"m-keydown",t[4]),te(e,"m-pointerdown",t[4]),te(e,"m-pointerenter",t[4]),te(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&ye(l,r,u,u[8],n?be(r,u[8],f,v1):ve(u[8]),ra),de(e,s=Ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[10](null),o=!1,Ve(i)}}}function C1(t){let e;const n=t[9].default,o=ge(n,t,t[8],la);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&ye(o,n,i,i[8],e?be(n,i[8],r,w1):ve(i[8]),la)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function S1(t){let e,n,o,i;const r=[C1,k1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function T1(t,e,n){let o;const i=["asChild","id","el"];let r=ce(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:m,getAttrs:p}=wl();ue(t,d,v=>n(7,l=v));const h=qn(),_=p("trigger");function k(v){Ee[v?"unshift":"push"](()=>{c=v,n(0,c)})}return t.$$set=v=>{e=Q(Q({},e),$e(v)),n(5,r=ce(e,i)),"asChild"in v&&n(1,u=v.asChild),"id"in v&&n(6,f=v.id),"el"in v&&n(0,c=v.el),"$$scope"in v&&n(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&m.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,h,r,f,l,s,a,k]}class A1 extends he{constructor(e){super(),pe(this,e,T1,S1,me,{asChild:1,id:6,el:0})}}function I1(t){let e;const n=t[2].default,o=ge(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&ye(o,n,i,i[3],e?be(n,i[3],r,null):ve(i[3]),null)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function M1(t){let e,n;const o=[{class:He("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[I1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new C0({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:He("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function O1(t,e,n){const o=["class"];let i=ce(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=ce(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class rn extends he{constructor(e){super(),pe(this,e,O1,M1,me,{class:0})}}function P1(t){let e;const n=t[1].default,o=ge(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&ye(o,n,i,i[2],e?be(n,i[2],r,null):ve(i[2]),null)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function N1(t){let e,n;const o=[t[0]];let i={$$slots:{default:[P1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new j0({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&1?Ce(o,[it(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function E1(t,e,n){const o=[];let i=ce(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Q(Q({},e),$e(a)),n(0,i=ce(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class $1 extends he{constructor(e){super(),pe(this,e,E1,N1,me,{})}}function R1(t){let e,n,o;const i=t[3].default,r=ge(i,t,t[2],null);let l=[{class:n=He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=P("div"),r&&r.c(),de(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&ye(r,i,s,s[2],o?be(i,s[2],u,null):ve(s[2]),null),de(e,a=Ce(l,[(!o||u&1&&n!==(n=He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(w(r,s),o=!0)},o(s){T(r,s),o=!1},d(s){s&&M(e),r&&r.d(s)}}}function L1(t,e,n){const o=["class"];let i=ce(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=ce(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class kn extends he{constructor(e){super(),pe(this,e,L1,R1,me,{class:0})}}function D1(t){let e,n,o;const i=t[3].default,r=ge(i,t,t[2],null);let l=[{class:n=He("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=P("div"),r&&r.c(),de(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&ye(r,i,s,s[2],o?be(i,s[2],u,null):ve(s[2]),null),de(e,a=Ce(l,[(!o||u&1&&n!==(n=He("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(w(r,s),o=!0)},o(s){T(r,s),o=!1},d(s){s&&M(e),r&&r.d(s)}}}function j1(t,e,n){const o=["class"];let i=ce(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=ce(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class ln extends he{constructor(e){super(),pe(this,e,j1,D1,me,{class:0})}}function ji(t,{delay:e=0,duration:n=400,easing:o=Xi}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function sa(t,{delay:e=0,duration:n=400,easing:o=Bf,axis:i="y"}={}){const r=getComputedStyle(t),l=+r.opacity,a=i==="y"?"height":"width",s=parseFloat(r[a]),u=i==="y"?["top","bottom"]:["left","right"],f=u.map(k=>`${k[0].toUpperCase()}${k.slice(1)}`),c=parseFloat(r[`padding${f[0]}`]),d=parseFloat(r[`padding${f[1]}`]),m=parseFloat(r[`margin${f[0]}`]),p=parseFloat(r[`margin${f[1]}`]),h=parseFloat(r[`border${f[0]}Width`]),_=parseFloat(r[`border${f[1]}Width`]);return{delay:e,duration:n,easing:o,css:k=>`overflow: hidden;opacity: ${Math.min(k*20,1)*l};${a}: ${k*s}px;padding-${u[0]}: ${k*c}px;padding-${u[1]}: ${k*d}px;margin-${u[0]}: ${k*m}px;margin-${u[1]}: ${k*p}px;border-${u[0]}-width: ${k*h}px;border-${u[1]}-width: ${k*_}px;`}}function F1(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:He("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new ag({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&15?Ce(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:He("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&it(r[3])]):{};e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function q1(t,e,n){const o=["class","transition","transitionConfig"];let i=ce(e,o),{class:r=void 0}=e,{transition:l=ji}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(3,i=ce(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class B1 extends he{constructor(e){super(),pe(this,e,q1,F1,me,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function ua(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function wr(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=Q(o,n[i]);return{c(){e=Ji(t[11]),vi(e,o)},m(i,r){O(i,e,r)},p(i,r){vi(e,o=Ce(n,[r&32&&i[12]]))},d(i){i&&M(e)}}}function fa(t){let e=t[11],n,o=t[11]&&wr(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){i[11]?e?me(e,i[11])?(o.d(1),o=wr(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=wr(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&M(n),o&&o.d(i)}}}function H1(t){let e,n,o,i,r,l=Ye(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=fa(ua(t,l,d));const s=t[10].default,u=ge(s,t,t[9],null);let f=[aa,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=Q(c,f[d]);return{c(){e=Ji("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=Re(),u&&u.c(),vi(e,c)},m(d,m){O(d,e,m);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(e,null);y(e,n),u&&u.m(e,null),r=!0},p(d,[m]){if(m&32){l=Ye(d[5]);let p;for(p=0;p<l.length;p+=1){const h=ua(d,l,p);a[p]?a[p].p(h,m):(a[p]=fa(h),a[p].c(),a[p].m(e,n))}for(;p<a.length;p+=1)a[p].d(1);a.length=l.length}u&&u.p&&(!r||m&512)&&ye(u,s,d,d[9],r?be(s,d[9],m,null):ve(d[9]),null),vi(e,c=Ce(f,[aa,m&128&&d[7],(!r||m&4)&&{width:d[2]},(!r||m&4)&&{height:d[2]},(!r||m&2)&&{stroke:d[1]},(!r||m&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||m&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(w(u,d),r=!0)},o(d){T(u,d),r=!1},d(d){d&&M(e),st(a,d),u&&u.d(d)}}}function G1(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=ce(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const m=(...p)=>p.filter((h,_,k)=>!!h&&k.indexOf(h)===_).join(" ");return t.$$set=p=>{n(8,e=Q(Q({},e),$e(p))),n(7,i=ce(e,o)),"name"in p&&n(0,a=p.name),"color"in p&&n(1,s=p.color),"size"in p&&n(2,u=p.size),"strokeWidth"in p&&n(3,f=p.strokeWidth),"absoluteStrokeWidth"in p&&n(4,c=p.absoluteStrokeWidth),"iconNode"in p&&n(5,d=p.iconNode),"$$scope"in p&&n(9,l=p.$$scope)},e=$e(e),[a,s,u,f,c,d,m,i,e,l,r]}class W1 extends he{constructor(e){super(),pe(this,e,G1,H1,me,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function V1(t){let e;const n=t[2].default,o=ge(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&ye(o,n,i,i[3],e?be(n,i[3],r,null):ve(i[3]),null)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function x1(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[V1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new W1({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[o[0],l&2&&it(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function Y1(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=Q(Q({},e),$e(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=$e(e),[r,e,o,i]}class U1 extends he{constructor(e){super(),pe(this,e,Y1,x1,me,{})}}function K1(t){let e,n,o,i;return e=new U1({props:{class:"h-4 w-4"}}),{c(){Y(e.$$.fragment),n=H(),o=P("span"),o.textContent="Close",E(o,"class","sr-only")},m(r,l){V(e,r,l),O(r,n,l),O(r,o,l),i=!0},p:Ie,i(r){i||(w(e.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),i=!1},d(r){r&&(M(n),M(o)),x(e,r)}}}function X1(t){let e,n,o;const i=t[4].default,r=ge(i,t,t[5],null);return n=new P0({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[K1]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=H(),Y(n.$$.fragment)},m(l,a){r&&r.m(l,a),O(l,e,a),V(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&ye(r,i,l,l[5],o?be(i,l[5],a,null):ve(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(w(r,l),w(n.$$.fragment,l),o=!0)},o(l){T(r,l),T(n.$$.fragment,l),o=!1},d(l){l&&M(e),r&&r.d(l),x(n,l)}}}function J1(t){let e,n,o,i;e=new B1({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",t[0])},t[3]];let l={$$slots:{default:[X1]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return o=new Q0({props:l}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment)},m(a,s){V(e,a,s),O(a,n,s),V(o,a,s),i=!0},p(a,s){const u=s&15?Ce(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",a[0])},s&8&&it(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(w(e.$$.fragment,a),w(o.$$.fragment,a),i=!0)},o(a){T(e.$$.fragment,a),T(o.$$.fragment,a),i=!1},d(a){a&&M(n),x(e,a),x(o,a)}}}function Z1(t){let e,n;return e=new $1({props:{$$slots:{default:[J1]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Q1(t,e,n){const o=["class","transition","transitionConfig"];let i=ce(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=go}=e,{transitionConfig:u={duration:400}}=e;return t.$$set=f=>{e=Q(Q({},e),$e(f)),n(3,i=ce(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class sn extends he{constructor(e){super(),pe(this,e,Q1,Z1,me,{class:0,transition:1,transitionConfig:2})}}function z1(t){let e;const n=t[2].default,o=ge(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&ye(o,n,i,i[3],e?be(n,i[3],r,null):ve(i[3]),null)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function eb(t){let e,n;const o=[{class:He("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[z1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new hg({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:He("text-sm text-muted-foreground",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function tb(t,e,n){const o=["class"];let i=ce(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=ce(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Hn extends he{constructor(e){super(),pe(this,e,tb,eb,me,{class:0})}}const an=_0,mn={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}};function nb(t){let e;const n=t[3].default,o=ge(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&ye(o,n,i,i[4],e?be(n,i[4],r,null):ve(i[4]),null)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function ob(t){let e,n;const o=[{class:He("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[nb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Xh({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&7?Ce(o,[l&1&&{class:He("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&it(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function ib(t,e,n){const o=["class","level"];let i=ce(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=Q(Q({},e),$e(u)),n(2,i=ce(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class gc extends he{constructor(e){super(),pe(this,e,ib,ob,me,{class:0,level:1})}}function rb(t){let e;const n=t[5].default,o=ge(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&ye(o,n,i,i[8],e?be(n,i[8],r,null):ve(i[8]),null)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function lb(t){let e,n;const o=[{builders:t[3]},{class:He(co({variant:t[1],size:t[2]}),t[0])},{type:"button"},t[4]];let i={$$slots:{default:[rb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new e0({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&31?Ce(o,[l&8&&{builders:r[3]},l&7&&{class:He(co({variant:r[1],size:r[2]}),r[0])},o[2],l&16&&it(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function sb(t,e,n){const o=["class","variant","size","builders"];let i=ce(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(m){se.call(this,t,m)}function d(m){se.call(this,t,m)}return t.$$set=m=>{e=Q(Q({},e),$e(m)),n(4,i=ce(e,o)),"class"in m&&n(0,a=m.class),"variant"in m&&n(1,s=m.variant),"size"in m&&n(2,u=m.size),"builders"in m&&n(3,f=m.builders),"$$scope"in m&&n(8,l=m.$$scope)},[a,s,u,f,i,r,c,d,l]}class At extends he{constructor(e){super(),pe(this,e,sb,lb,me,{class:0,variant:1,size:2,builders:3})}}var ca=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,wt=t=>!t||typeof t!="object"||Object.keys(t).length===0,ab=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function bc(t,e){t.forEach(function(n){Array.isArray(n)?bc(n,e):e.push(n)})}function yc(t){let e=[];return bc(t,e),e}var vc=(...t)=>yc(t).filter(Boolean),wc=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=wc(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=vc(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},da=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),ub={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},kc=t=>t||void 0,Yo=(...t)=>kc(yc(t).filter(Boolean).join(" ")),kr=null,Qt={},Vr=!1,No=(...t)=>e=>e.twMerge?((!kr||Vr)&&(Vr=!1,kr=wt(Qt)?qf:hm({...Qt,extend:{theme:Qt.theme,classGroups:Qt.classGroups,conflictingClassGroupModifiers:Qt.conflictingClassGroupModifiers,conflictingClassGroups:Qt.conflictingClassGroups,...Qt.extend}})),kc(kr(Yo(t)))):Yo(t),ma=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Yo(t[n],e[n]):t[n]=e[n];return t},fb=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...ub,...e},u=n!=null&&n.base?Yo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!wt(n.variants)?wc(i,n.variants):i,c=n!=null&&n.defaultVariants&&!wt(n.defaultVariants)?{...n.defaultVariants,...a}:a;!wt(s.twMergeConfig)&&!ab(s.twMergeConfig,Qt)&&(Vr=!0,Qt=s.twMergeConfig);let d=wt(n==null?void 0:n.slots),m=wt(o)?{}:{base:Yo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},p=d?m:ma({...n==null?void 0:n.slots},wt(m)?{base:t==null?void 0:t.base}:m),h=k=>{if(wt(f)&&wt(o)&&d)return No(u,k==null?void 0:k.class,k==null?void 0:k.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let v=(b,C,R=[],B)=>{let D=R;if(typeof C=="string")D=D.concat(da(C).split(" ").map(U=>`${b}:${U}`));else if(Array.isArray(C))D=D.concat(C.reduce((U,X)=>U.concat(`${b}:${X}`),[]));else if(typeof C=="object"&&typeof B=="string"){for(let U in C)if(C.hasOwnProperty(U)&&U===B){let X=C[U];if(X&&typeof X=="string"){let z=da(X);D[B]?D[B]=D[B].concat(z.split(" ").map(oe=>`${b}:${oe}`)):D[B]=z.split(" ").map(oe=>`${b}:${oe}`)}else Array.isArray(X)&&X.length>0&&(D[B]=X.reduce((z,oe)=>z.concat(`${b}:${oe}`),[]))}}return D},S=(b,C=f,R=null,B=null)=>{var D;let U=C[b];if(!U||wt(U))return null;let X=(D=B==null?void 0:B[b])!=null?D:k==null?void 0:k[b];if(X===null)return null;let z=ca(X),oe=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,K=c==null?void 0:c[b],ee=[];if(typeof z=="object"&&oe)for(let[re,Le]of Object.entries(z)){let Fe=U[Le];if(re==="initial"){K=Le;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(re)||(ee=v(re,Fe,ee,R))}let _e=z!=null&&typeof z!="object"?z:ca(K),ae=U[_e]||U.false;return typeof ee=="object"&&typeof R=="string"&&ee[R]?ma(ee,ae):ee.length>0?(ee.push(ae),ee):ae},L=()=>f?Object.keys(f).map(b=>S(b,f)):null,j=(b,C)=>{if(!f||typeof f!="object")return null;let R=new Array;for(let B in f){let D=S(B,f,b,C),U=b==="base"&&typeof D=="string"?D:D&&D[b];U&&(R[R.length]=U)}return R},F={};for(let b in k)k[b]!==void 0&&(F[b]=k[b]);let $=(b,C)=>{var R;let B=typeof(k==null?void 0:k[b])=="object"?{[b]:(R=k[b])==null?void 0:R.initial}:{};return{...c,...F,...B,...C}},I=(b=[],C)=>{let R=[];for(let{class:B,className:D,...U}of b){let X=!0;for(let[z,oe]of Object.entries(U)){let K=$(z,C);if(Array.isArray(oe)){if(!oe.includes(K[z])){X=!1;break}}else if(K[z]!==oe){X=!1;break}}X&&(B&&R.push(B),D&&R.push(D))}return R},N=b=>{let C=I(r,b),R=I(n==null?void 0:n.compoundVariants,b);return vc(R,C)},q=b=>{let C=N(b);if(!Array.isArray(C))return C;let R={};for(let B of C)if(typeof B=="string"&&(R.base=No(R.base,B)(s)),typeof B=="object")for(let[D,U]of Object.entries(B))R[D]=No(R[D],U)(s);return R},A=b=>{if(l.length<1)return null;let C={};for(let{slots:R=[],class:B,className:D,...U}of l){if(!wt(U)){let X=!0;for(let z of Object.keys(U)){let oe=$(z,b)[z];if(oe===void 0||(Array.isArray(U[z])?!U[z].includes(oe):U[z]!==oe)){X=!1;break}}if(!X)continue}for(let X of R)C[X]=C[X]||[],C[X].push([B,D])}return C};if(!wt(o)||!d){let b={};if(typeof p=="object"&&!wt(p))for(let C of Object.keys(p))b[C]=R=>{var B,D;return No(p[C],j(C,R),((B=q(R))!=null?B:[])[C],((D=A(R))!=null?D:[])[C],R==null?void 0:R.class,R==null?void 0:R.className)(s)};return b}return No(u,L(),N(),k==null?void 0:k.class,k==null?void 0:k.className)(s)},_=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return h.variantKeys=_(),h.extend=n,h.base=u,h.slots=p,h.variants=f,h.defaultVariants=c,h.compoundSlots=l,h.compoundVariants=r,h};const co=fb({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg- hover:bg-accent hover:text-accent-foreground",secondary:"bg-accent text-accent-foreground hover:bg-accent/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),cb=t=>({builder:t&64}),pa=t=>({builder:t[6]});function db(t){let e;const n=t[2].default,o=ge(n,t,t[5],pa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&ye(o,n,i,i[5],e?be(n,i[5],r,cb):ve(i[5]),pa)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function mb(t){let e,n;const o=[{class:He(co(),t[0])},t[1]];let i={$$slots:{default:[db,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new n_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:He(co(),r[0])},l&2&&it(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function pb(t,e,n){const o=["class"];let i=ce(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){se.call(this,t,f)}function u(f){se.call(this,t,f)}return t.$$set=f=>{e=Q(Q({},e),$e(f)),n(1,i=ce(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class Cc extends he{constructor(e){super(),pe(this,e,pb,mb,me,{class:0})}}const hb=t=>({builder:t&64}),ha=t=>({builder:t[6]});function _b(t){let e;const n=t[2].default,o=ge(n,t,t[5],ha);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&ye(o,n,i,i[5],e?be(n,i[5],r,hb):ve(i[5]),ha)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function gb(t){let e,n;const o=[{class:He(co({variant:"default"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[_b,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new u_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:He(co({variant:"default"}),"mt-2 sm:mt-0",r[0])},l&2&&it(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function bb(t,e,n){const o=["class"];let i=ce(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){se.call(this,t,f)}function u(f){se.call(this,t,f)}return t.$$set=f=>{e=Q(Q({},e),$e(f)),n(1,i=ce(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class yb extends he{constructor(e){super(),pe(this,e,bb,gb,me,{class:0})}}function vb(t){let e;const n=t[1].default,o=ge(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&ye(o,n,i,i[2],e?be(n,i[2],r,null):ve(i[2]),null)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function wb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[vb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new __({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&1?Ce(o,[it(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function kb(t,e,n){const o=[];let i=ce(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Q(Q({},e),$e(a)),n(0,i=ce(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class Cb extends he{constructor(e){super(),pe(this,e,kb,wb,me,{})}}function Sb(t){let e,n,o;const i=t[3].default,r=ge(i,t,t[2],null);let l=[{class:n=He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=P("div"),r&&r.c(),de(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&ye(r,i,s,s[2],o?be(i,s[2],u,null):ve(s[2]),null),de(e,a=Ce(l,[(!o||u&1&&n!==(n=He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(w(r,s),o=!0)},o(s){T(r,s),o=!1},d(s){s&&M(e),r&&r.d(s)}}}function Tb(t,e,n){const o=["class"];let i=ce(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=ce(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class kl extends he{constructor(e){super(),pe(this,e,Tb,Sb,me,{class:0})}}function Ab(t){let e,n,o;const i=t[3].default,r=ge(i,t,t[2],null);let l=[{class:n=He("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=P("div"),r&&r.c(),de(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&ye(r,i,s,s[2],o?be(i,s[2],u,null):ve(s[2]),null),de(e,a=Ce(l,[(!o||u&1&&n!==(n=He("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(w(r,s),o=!0)},o(s){T(r,s),o=!1},d(s){s&&M(e),r&&r.d(s)}}}function Ib(t,e,n){const o=["class"];let i=ce(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=ce(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Sc extends he{constructor(e){super(),pe(this,e,Ib,Ab,me,{class:0})}}function Mb(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:He("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new H_({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&15?Ce(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:He("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&it(r[3])]):{};e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function Ob(t,e,n){const o=["class","transition","transitionConfig"];let i=ce(e,o),{class:r=void 0}=e,{transition:l=ji}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(3,i=ce(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class Pb extends he{constructor(e){super(),pe(this,e,Ob,Mb,me,{class:0,transition:1,transitionConfig:2})}}function Nb(t){let e;const n=t[4].default,o=ge(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&ye(o,n,i,i[5],e?be(n,i[5],r,null):ve(i[5]),null)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Eb(t){let e,n,o,i;e=new Pb({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:He("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[Nb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return o=new N_({props:l}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment)},m(a,s){V(e,a,s),O(a,n,s),V(o,a,s),i=!0},p(a,s){const u=s&15?Ce(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:He("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",a[2])},s&8&&it(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(w(e.$$.fragment,a),w(o.$$.fragment,a),i=!0)},o(a){T(e.$$.fragment,a),T(o.$$.fragment,a),i=!1},d(a){a&&M(n),x(e,a),x(o,a)}}}function $b(t){let e,n;return e=new Cb({props:{$$slots:{default:[Eb]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Rb(t,e,n){const o=["transition","transitionConfig","class"];let i=ce(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=go}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=Q(Q({},e),$e(f)),n(3,i=ce(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Cl extends he{constructor(e){super(),pe(this,e,Rb,$b,me,{transition:0,transitionConfig:1,class:2})}}function Lb(t){let e;const n=t[2].default,o=ge(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&ye(o,n,i,i[3],e?be(n,i[3],r,null):ve(i[3]),null)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Db(t){let e,n;const o=[{class:He("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Lb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new K_({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:He("text-sm text-muted-foreground",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function jb(t,e,n){const o=["class"];let i=ce(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=ce(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Tc extends he{constructor(e){super(),pe(this,e,jb,Db,me,{class:0})}}const Sl=Gh;function Fb(t){let e;const n=t[5].default,o=ge(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&ye(o,n,i,i[6],e?be(n,i[6],r,null):ve(i[6]),null)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function qb(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:He("z-[1000] overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",t[0])},t[4]];let i={$$slots:{default:[Fb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new y1({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&31?Ce(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:He("z-[1000] overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",r[0])},l&16&&it(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function Bb(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=ce(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=16}=e,{transition:u=go}=e,{transitionConfig:f={y:6,duration:100}}=e;return t.$$set=c=>{e=Q(Q({},e),$e(c)),n(4,i=ce(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class ko extends he{constructor(e){super(),pe(this,e,Bb,qb,me,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const Co=i1,So=A1;function Hb(t){let e=(t[4].length>0?t[4]:"Why are you hovering here?")+"",n;return{c(){n=W(e)},m(o,i){O(o,n,i)},p(o,i){i&16&&e!==(e=(o[4].length>0?o[4]:"Why are you hovering here?")+"")&&fe(n,e)},d(o){o&&M(n)}}}function Gb(t){let e,n;return{c(){e=P("div"),n=W(t[0])},m(o,i){O(o,e,i),y(e,n)},p(o,i){i&1&&fe(n,o[0])},d(o){o&&M(e)}}}function Wb(t){let e,n;return e=new At({props:{class:`text-sm flex flex-col  cursor-pointer py-1.5 rounded-xl bg-accent text-accentText
  `+t[2]+" cursor-pointer opacity-"+t[3]+" "+(t[3]<100?"hover:opacity-40":"")+` transition-all duration-150 filter hover:brightness-110
  `,$$slots:{default:[Gb]},$$scope:{ctx:t}}}),e.$on("click",function(){jt(t[1])&&t[1].apply(this,arguments)}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){t=o;const r={};i&12&&(r.class=`text-sm flex flex-col  cursor-pointer py-1.5 rounded-xl bg-accent text-accentText
  `+t[2]+" cursor-pointer opacity-"+t[3]+" "+(t[3]<100?"hover:opacity-40":"")+` transition-all duration-150 filter hover:brightness-110
  `),i&33&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Vb(t){let e,n,o,i;return e=new ko({props:{$$slots:{default:[Hb]},$$scope:{ctx:t}}}),o=new So({props:{class:"flex flex-col ",$$slots:{default:[Wb]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&48&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&47&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function xb(t){let e,n;return e=new Co({props:{openDelay:t[4].length>0?200:999999,closeDelay:0,$$slots:{default:[Vb]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,[i]){const r={};i&16&&(r.openDelay=o[4].length>0?200:999999),i&63&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Yb(t,e,n){let{text:o}=e,{onOpen:i}=e,{styling:r="bg-accent text-accentText"}=e,{opacity:l=100}=e,{onHoverText:a=""}=e;return t.$$set=s=>{"text"in s&&n(0,o=s.text),"onOpen"in s&&n(1,i=s.onOpen),"styling"in s&&n(2,r=s.styling),"opacity"in s&&n(3,l=s.opacity),"onHoverText"in s&&n(4,a=s.onHoverText)},[o,i,r,l,a]}class Lt extends he{constructor(e){super(),pe(this,e,Yb,xb,me,{text:0,onOpen:1,styling:2,opacity:3,onHoverText:4})}}function _a(t,e,n){const o=t.slice();return o[26]=e[n],o}function ga(t,e,n){const o=t.slice();return o[29]=e[n],o}function Ub(t){let e;return{c(){e=W("Pause Menu")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Kb(t){let e,n,o,i;return e=new rn({props:{class:"text-3xl font-semibold text-accentText",$$slots:{default:[Ub]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=H(),o=P("span"),o.textContent="Unpause any time by pressing 'P'"},m(r,l){V(e,r,l),O(r,n,l),O(r,o,l),i=!0},p(r,l){const a={};l[1]&2&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(w(e.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),i=!1},d(r){r&&(M(n),M(o)),x(e,r)}}}function Xb(t){let e=t[4].description_title+"",n;return{c(){n=W(e)},m(o,i){O(o,n,i)},p:Ie,d(o){o&&M(n)}}}function Jb(t){let e,n,o;return{c(){e=W(`This is a game that was shared with you. You can't interact with
              it or save. Click `),n=P("a"),n.textContent="here",o=W(` to go back
              to your town.`),E(n,"href","/"),E(n,"class","underline")},m(i,r){O(i,e,r),O(i,n,r),O(i,o,r)},p:Ie,d(i){i&&(M(e),M(n),M(o))}}}function ba(t){let e,n,o,i,r,l=JSON.stringify(t[4].requirements[t[1].difficulty].population_count)+"",a,s,u=JSON.stringify(t[1].townInfo.population_count)+"",f,c,d,m,p=JSON.stringify(t[4].requirements[t[1].difficulty].happiness)+"",h,_,k=JSON.stringify(t[1].townInfo.happiness)+"",v,S,L,j,F=JSON.stringify(t[4].requirements[t[1].difficulty].employment*100)+"",$,I,N=JSON.stringify((t[1].townInfo.employees/t[1].townInfo.population_count||0)*100)+"",q,A,b,C,R,B=JSON.stringify(t[4].requirements[t[1].difficulty].health)+"",D,U,X=JSON.stringify(t[1].townInfo.health)+"",z,oe,K,ee,_e=JSON.stringify(t[4].requirements[t[1].difficulty].knowledge)+"",ae,re,Le=JSON.stringify(t[1].townInfo.knowledge_points)+"",Fe,g,Z;function J(Te,Je){return Te[1].townInfo.population_count>=Te[4].requirements[Te[1].difficulty].population_count?Qb:Zb}let ne=J(t),ie=ne(t);function ke(Te,Je){return Te[1].townInfo.happiness>=Te[4].requirements[Te[1].difficulty].happiness?ey:zb}let Pe=ke(t),je=Pe(t);function xe(Te,Je){return Te[1].townInfo.employees/Te[1].townInfo.population_count>=Te[4].requirements[Te[1].difficulty].employment?ny:ty}let De=xe(t),Ke=De(t);function Xe(Te,Je){return Te[1].townInfo.health>=Te[4].requirements[Te[1].difficulty].health?iy:oy}let we=Xe(t),qe=we(t);function Gn(Te,Je){return Te[1].townInfo.knowledge_points>=Te[4].requirements[Te[1].difficulty].knowledge?ly:ry}let un=Gn(t),Mt=un(t),rt=t[4].requirements[t[1].difficulty].required_plots!=null&&t[4].requirements[t[1].difficulty].required_plots.length>0&&ya(t);return{c(){e=P("div"),e.textContent=`With your difficulty (${t[5]}), you must also have:`,n=H(),o=P("ul"),i=P("li"),ie.c(),r=W(`
                  Population: `),a=W(l),s=W(" - Currently at "),f=W(u),c=H(),d=P("li"),je.c(),m=W(`
                  Happiness: `),h=W(p),_=W(" - Currently at "),v=W(k),S=H(),L=P("li"),Ke.c(),j=W(`
                  Employment: `),$=W(F),I=W("% - Currently at "),q=W(N),A=W("%"),b=H(),C=P("li"),qe.c(),R=W(`
                  Health: `),D=W(B),U=W(" - Currently at "),z=W(X),oe=H(),K=P("li"),Mt.c(),ee=W(`
                  Knowledge: `),ae=W(_e),re=W(" - Currently at "),Fe=W(Le),g=H(),rt&&rt.c(),Z=Re(),E(e,"class","leading-relaxed text-sm"),E(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(Te,Je){O(Te,e,Je),O(Te,n,Je),O(Te,o,Je),y(o,i),ie.m(i,null),y(i,r),y(i,a),y(i,s),y(i,f),y(o,c),y(o,d),je.m(d,null),y(d,m),y(d,h),y(d,_),y(d,v),y(o,S),y(o,L),Ke.m(L,null),y(L,j),y(L,$),y(L,I),y(L,q),y(L,A),y(o,b),y(o,C),qe.m(C,null),y(C,R),y(C,D),y(C,U),y(C,z),y(o,oe),y(o,K),Mt.m(K,null),y(K,ee),y(K,ae),y(K,re),y(K,Fe),O(Te,g,Je),rt&&rt.m(Te,Je),O(Te,Z,Je)},p(Te,Je){ne!==(ne=J(Te))&&(ie.d(1),ie=ne(Te),ie&&(ie.c(),ie.m(i,r))),Je[0]&2&&l!==(l=JSON.stringify(Te[4].requirements[Te[1].difficulty].population_count)+"")&&fe(a,l),Je[0]&2&&u!==(u=JSON.stringify(Te[1].townInfo.population_count)+"")&&fe(f,u),Pe!==(Pe=ke(Te))&&(je.d(1),je=Pe(Te),je&&(je.c(),je.m(d,m))),Je[0]&2&&p!==(p=JSON.stringify(Te[4].requirements[Te[1].difficulty].happiness)+"")&&fe(h,p),Je[0]&2&&k!==(k=JSON.stringify(Te[1].townInfo.happiness)+"")&&fe(v,k),De!==(De=xe(Te))&&(Ke.d(1),Ke=De(Te),Ke&&(Ke.c(),Ke.m(L,j))),Je[0]&2&&F!==(F=JSON.stringify(Te[4].requirements[Te[1].difficulty].employment*100)+"")&&fe($,F),Je[0]&2&&N!==(N=JSON.stringify((Te[1].townInfo.employees/Te[1].townInfo.population_count||0)*100)+"")&&fe(q,N),we!==(we=Xe(Te))&&(qe.d(1),qe=we(Te),qe&&(qe.c(),qe.m(C,R))),Je[0]&2&&B!==(B=JSON.stringify(Te[4].requirements[Te[1].difficulty].health)+"")&&fe(D,B),Je[0]&2&&X!==(X=JSON.stringify(Te[1].townInfo.health)+"")&&fe(z,X),un!==(un=Gn(Te))&&(Mt.d(1),Mt=un(Te),Mt&&(Mt.c(),Mt.m(K,ee))),Je[0]&2&&_e!==(_e=JSON.stringify(Te[4].requirements[Te[1].difficulty].knowledge)+"")&&fe(ae,_e),Je[0]&2&&Le!==(Le=JSON.stringify(Te[1].townInfo.knowledge_points)+"")&&fe(Fe,Le),Te[4].requirements[Te[1].difficulty].required_plots!=null&&Te[4].requirements[Te[1].difficulty].required_plots.length>0?rt?rt.p(Te,Je):(rt=ya(Te),rt.c(),rt.m(Z.parentNode,Z)):rt&&(rt.d(1),rt=null)},d(Te){Te&&(M(e),M(n),M(o),M(g),M(Z)),ie.d(),je.d(),Ke.d(),qe.d(),Mt.d(),rt&&rt.d(Te)}}}function Zb(t){let e;return{c(){e=W("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Qb(t){let e;return{c(){e=W("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function zb(t){let e;return{c(){e=W("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ey(t){let e;return{c(){e=W("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ty(t){let e;return{c(){e=W("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ny(t){let e;return{c(){e=W("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function oy(t){let e;return{c(){e=W("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function iy(t){let e;return{c(){e=W("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ry(t){let e;return{c(){e=W("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ly(t){let e;return{c(){e=W("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ya(t){let e,n,o,i=Ye(t[4].requirements[t[1].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=va(ga(t,i,l));return{c(){e=P("br"),n=W(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=Re()},m(l,a){O(l,e,a),O(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);O(l,o,a)},p(l,a){if(a[0]&18){i=Ye(l[4].requirements[l[1].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=ga(l,i,s);r[s]?r[s].p(u,a):(r[s]=va(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(M(e),M(n),M(o)),st(r,l)}}}function sy(t){let e;return{c(){e=W("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ay(t){let e;return{c(){e=W("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function va(t){let e,n,o,i,r=t[29]+"",l,a;function s(c,d){return d[0]&2&&(o=null),o==null&&(o=Be(c[29],c[1]).length>0),o?ay:sy}let u=s(t,[-1,-1]),f=u(t);return{c(){e=P("div"),n=P("li"),f.c(),i=H(),l=W(r),a=H(),E(e,"class","text-sm")},m(c,d){O(c,e,d),y(e,n),f.m(n,null),y(n,i),y(n,l),y(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d[0]&2&&r!==(r=c[29]+"")&&fe(l,r)},d(c){c&&M(e),f.d()}}}function wa(t){let e,n;return e=new Lt({props:{styling:"bg-black opacity-50 w-min",text:"🔄 New mock town",onOpen:t[19]}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i[0]&2&&(r.onOpen=o[19]),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function uy(t){let e,n,o,i,r,l,a,s,u,f,c,d,m=Ye(t[0]),p=[];for(let _=0;_<m.length;_+=1)p[_]=Ca(_a(t,m,_));const h=_=>T(p[_],1,1,()=>{p[_]=null});return{c(){e=P("div"),n=P("h4"),n.textContent=`Your achievement (${t[6].length}
            / ${ct.length})`,o=H(),i=P("span"),i.textContent="Track your progress through games & complete challenges!",r=H(),l=P("br"),a=H(),s=P("div"),u=P("div");for(let _=0;_<p.length;_+=1)p[_].c();f=H(),c=P("span"),c.textContent=`Prizes apply to the current game you are in. You can wait to apply
            them until the right time.`,E(n,"class","underline underline-offset-4"),E(i,"class","text-sm text-gray-400"),E(u,"class","flex flex-col gap-4 overflow-scroll pb-10 scroll-smooth"),E(s,"class","overflow-scroll mt-2 h-[60vh]"),E(c,"class","text-sm text-yellow-400"),E(e,"class","flex-grow")},m(_,k){O(_,e,k),y(e,n),y(e,o),y(e,i),y(e,r),y(e,l),y(e,a),y(e,s),y(s,u);for(let v=0;v<p.length;v+=1)p[v]&&p[v].m(u,null);y(e,f),y(e,c),d=!0},p(_,k){if(k[0]&4993){m=Ye(_[0]);let v;for(v=0;v<m.length;v+=1){const S=_a(_,m,v);p[v]?(p[v].p(S,k),w(p[v],1)):(p[v]=Ca(S),p[v].c(),w(p[v],1),p[v].m(u,null))}for(Me(),v=m.length;v<p.length;v+=1)h(v);Oe()}},i(_){if(!d){for(let k=0;k<m.length;k+=1)w(p[k]);d=!0}},o(_){p=p.filter(Boolean);for(let k=0;k<p.length;k+=1)T(p[k]);d=!1},d(_){_&&M(e),st(p,_)}}}function ka(t){let e,n;function o(){return t[20](t[26])}return e=new Lt({props:{text:`💰 Collect Prize: $${Sa(t[26].prize)} gold`,styling:"bg-yellow-300 text-black",onOpen:o}}),{c(){Y(e.$$.fragment)},m(i,r){V(e,i,r),n=!0},p(i,r){t=i;const l={};r[0]&1&&(l.text=`💰 Collect Prize: $${Sa(t[26].prize)} gold`),r[0]&1&&(l.onOpen=o),e.$set(l)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function Ca(t){let e,n,o,i,r,l,a=t[26].title+"",s,u,f,c=t[26].requirements+"",d,m,p,h=t[26].icon+"",_,k,v,S=t[26].description+"",L,j,F,$,I=t[7](t[26].id)+"",N,q,A,b=t[12](t[26].id)&&!t[8](t[26].id),C,R,B,D=b&&ka(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("span"),r=P("div"),l=P("span"),s=W(a),u=H(),f=P("div"),d=W(c),m=H(),p=P("div"),_=W(h),k=H(),v=P("div"),L=W(S),j=H(),F=P("div"),$=W("✅ Completed on Day "),N=W(I),A=H(),D&&D.c(),C=H(),E(l,"class","font-semibold text-lg"),E(f,"class","font-thin opacity-75 text-xs"),E(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),E(p,"class","text-2xl pr-1 break-inside-avoid "),E(i,"class","flex flex-row justify-between w-[100%]"),E(o,"class","min-w-32 flex"),E(v,"class","opacity-85 text-xs font-light"),E(F,"class",q="pb-2 "+(t[12](t[26].id)?"":"hidden")+" text-xs text-green-400"),E(n,"class","flex-col flex px-3 py-2 gap-0"),E(e,"class",R="flex flex-col gap-3 cursor-default rounded-xl "+(t[12](t[26].id)?"bg-green-700 text-accentText":"bg-gray-500 opacity-35"))},m(U,X){O(U,e,X),y(e,n),y(n,o),y(o,i),y(i,r),y(r,l),y(l,s),y(r,u),y(r,f),y(f,d),y(i,m),y(i,p),y(p,_),y(n,k),y(n,v),y(v,L),y(n,j),y(n,F),y(F,$),y(F,N),y(n,A),D&&D.m(n,null),y(e,C),B=!0},p(U,X){(!B||X[0]&1)&&a!==(a=U[26].title+"")&&fe(s,a),(!B||X[0]&1)&&c!==(c=U[26].requirements+"")&&fe(d,c),(!B||X[0]&1)&&h!==(h=U[26].icon+"")&&fe(_,h),(!B||X[0]&1)&&S!==(S=U[26].description+"")&&fe(L,S),(!B||X[0]&1)&&I!==(I=U[7](U[26].id)+"")&&fe(N,I),(!B||X[0]&1&&q!==(q="pb-2 "+(U[12](U[26].id)?"":"hidden")+" text-xs text-green-400"))&&E(F,"class",q),X[0]&1&&(b=U[12](U[26].id)&&!U[8](U[26].id)),b?D?(D.p(U,X),X[0]&1&&w(D,1)):(D=ka(U),D.c(),w(D,1),D.m(n,null)):D&&(Me(),T(D,1,1,()=>{D=null}),Oe()),(!B||X[0]&1&&R!==(R="flex flex-col gap-3 cursor-default rounded-xl "+(U[12](U[26].id)?"bg-green-700 text-accentText":"bg-gray-500 opacity-35")))&&E(e,"class",R)},i(U){B||(w(D),B=!0)},o(U){T(D),B=!1},d(U){U&&M(e),D&&D.d()}}}function fy(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,h,_,k,v,S,L,j=t[1].gameSettings.includes("devMode"),F,$=localStorage.getItem(Tt)==null,I;e=new ln({props:{$$slots:{default:[Kb]},$$scope:{ctx:t}}});function N(B,D){return localStorage.getItem(Tt)!=null?Jb:Xb}let A=N()(t),b=t[1].endGoal=="land"&&ba(t);m=new Lt({props:{styling:"w-min",text:"💾 Save Game",onOpen:t[10]}}),h=new Lt({props:{styling:"w-min",text:"📤 Load Game",onOpen:t[17]}}),k=new Lt({props:{styling:"bg-black opacity-50 w-min",text:"🔄 New Game",onOpen:t[14]}}),S=new Lt({props:{styling:"bg-black opacity-50 w-min",text:"📲 Share game",onOpen:t[18]}});let C=j&&wa(t),R=$&&uy(t);return{c(){Y(e.$$.fragment),n=H(),o=P("div"),i=P("div"),r=P("div"),l=P("h4"),l.textContent="This game",a=H(),s=P("span"),A.c(),u=H(),f=P("div"),b&&b.c(),c=H(),d=P("div"),Y(m.$$.fragment),p=H(),Y(h.$$.fragment),_=H(),Y(k.$$.fragment),v=H(),Y(S.$$.fragment),L=H(),C&&C.c(),F=H(),R&&R.c(),E(l,"class","text-xl font-semibold mb-2"),E(s,"class","text-sm text-accentText opacity-75"),E(f,"class","mt-6 gap-0 py-0 text-accentText opacity-75 text-sm"),E(r,"class","flex-col h-max max-w-[80%]"),E(d,"class","flex flex-row flex-wrap flex-wrap gap-3"),E(i,"class","flex flex-col gap-6 justify-between"),E(o,"class","flex flex-row w-full gap-10justify-between")},m(B,D){V(e,B,D),O(B,n,D),O(B,o,D),y(o,i),y(i,r),y(r,l),y(r,a),y(r,s),A.m(s,null),y(r,u),y(r,f),b&&b.m(f,null),y(i,c),y(i,d),V(m,d,null),y(d,p),V(h,d,null),y(d,_),V(k,d,null),y(d,v),V(S,d,null),y(d,L),C&&C.m(d,null),y(o,F),R&&R.m(o,null),I=!0},p(B,D){const U={};D[1]&2&&(U.$$scope={dirty:D,ctx:B}),e.$set(U),A.p(B,D),B[1].endGoal=="land"?b?b.p(B,D):(b=ba(B),b.c(),b.m(f,null)):b&&(b.d(1),b=null),D[0]&2&&(j=B[1].gameSettings.includes("devMode")),j?C?(C.p(B,D),D[0]&2&&w(C,1)):(C=wa(B),C.c(),w(C,1),C.m(d,null)):C&&(Me(),T(C,1,1,()=>{C=null}),Oe()),$&&R.p(B,D)},i(B){I||(w(e.$$.fragment,B),w(m.$$.fragment,B),w(h.$$.fragment,B),w(k.$$.fragment,B),w(S.$$.fragment,B),w(C),w(R),I=!0)},o(B){T(e.$$.fragment,B),T(m.$$.fragment,B),T(h.$$.fragment,B),T(k.$$.fragment,B),T(S.$$.fragment,B),T(C),T(R),I=!1},d(B){B&&(M(n),M(o)),x(e,B),A.d(),b&&b.d(),x(m),x(h),x(k),x(S),C&&C.d(),R&&R.d()}}}function cy(t){let e,n;return e=new sn({props:{class:"max-w-[50%] flex flex-col justify-between bg-popupBackground text-accentText",$$slots:{default:[fy]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i[0]&3|i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function dy(t){var o;let e=((o=t[13]())==null?void 0:o.title)+"",n;return{c(){n=W(e)},m(i,r){O(i,n,r)},p:Ie,d(i){i&&M(n)}}}function my(t){let e,n,o,i;return{c(){var r,l,a;e=P("div"),n=P("div"),n.textContent=`${(r=t[13]())==null?void 0:r.icon}`,o=H(),i=P("div"),i.textContent=`${(l=t[13]())==null?void 0:l.description} ${(a=t[13]())==null?void 0:a.requirements}`,E(n,"class","absolute top-4 left-4 text-5xl"),E(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),E(e,"class","flex flex-row align-middle justify-evenly px-6 py-2")},m(r,l){O(r,e,l),y(e,n),y(e,o),y(e,i)},p:Ie,d(r){r&&M(e)}}}function py(t){let e,n,o,i;return e=new gc({props:{class:"text-center text-lg font-bold",$$slots:{default:[dy]},$$scope:{ctx:t}}}),o=new Tc({props:{$$slots:{default:[my]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l[1]&2&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&2&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function hy(t){let e;return{c(){e=W("Close to collect prize")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function _y(t){let e,n;return e=new yb({props:{$$slots:{default:[hy]},$$scope:{ctx:t}}}),e.$on("click",t[22]),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function gy(t){let e,n,o,i;return e=new Sc({props:{$$slots:{default:[py]},$$scope:{ctx:t}}}),o=new kl({props:{$$slots:{default:[_y]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l[1]&2&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&8|l[1]&2&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function by(t){let e,n;return e=new Cl({props:{$$slots:{default:[gy]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i[0]&8|i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function yy(t){let e,n,o,i,r;function l(s){t[21](s)}let a={$$slots:{default:[cy]},$$scope:{ctx:t}};return t[2]!==void 0&&(a.open=t[2]),e=new an({props:a}),Ee.push(()=>Ut(e,"open",l)),i=new Sl({props:{open:t[3],$$slots:{default:[by]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),o=H(),Y(i.$$.fragment)},m(s,u){V(e,s,u),O(s,o,u),V(i,s,u),r=!0},p(s,u){const f={};u[0]&3|u[1]&2&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&4&&(n=!0,f.open=s[2],Vt(()=>n=!1)),e.$set(f);const c={};u[0]&8&&(c.open=s[3]),u[0]&8|u[1]&2&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(w(e.$$.fragment,s),w(i.$$.fragment,s),r=!0)},o(s){T(e.$$.fragment,s),T(i.$$.fragment,s),r=!1},d(s){s&&M(o),x(e,s),x(i,s)}}}function Sa(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function vy(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function wy(t,e,n){let o,i,r,l,a;ue(t,Ne,b=>n(1,o=b)),ue(t,Pt,b=>n(2,i=b)),ue(t,hn,b=>n(24,r=b)),ue(t,Gl,b=>n(16,l=b)),ue(t,Oi,b=>n(3,a=b));const u=mn[o.endGoal],f=Ef[o.difficulty]||0;ct.sort((b,C)=>v(b.id)&&!v(C.id)?-1:!v(b.id)&&v(C.id)?1:0);const c=ct.filter(b=>v(b.id));function d(b){const C=r.achievements.find(R=>R[0]==b);return C==null?0:`${C[1]} in ${C[2]}.`}function m(b){const C=r.achievements.find(R=>R[0]==b);return C==null?!1:C[3]}function p(b){const C=r.achievements.find(B=>B[0]==b);if(C==null)return;const R=ct.find(B=>B.id==b);R!=null&&(Ae(Ne,o.townInfo.gold+=R.prize,o),C[3]=!0,Ae(hn,r.achievements=r.achievements.map(B=>B[0]==b?C:B),r))}let h=ct;function _(){const b=JSON.stringify(o),C=new Blob([b],{type:"text/plain"}),R=URL.createObjectURL(C),B=document.createElement("a");B.href=R,B.download=`${new Date().toISOString()}.json`,document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(R)}function k(b){const C=b.target.files;if(C==null)return;const R=C[0],B=new FileReader;B.onload=function(D){if(D.target==null)return;const U=D.target.result;if(typeof U=="string"){if(!vy(U)){Ct.set("Invalid game file");return}Dr(JSON.parse(U))}else Ct.set("Invalid game file: is not String.")},B.readAsText(R)}function v(b){return r.achievements==null?!1:r.achievements.find(C=>C[0]==b)!=null}function S(){Gl.update(b=>!b),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Im.set("game"));function L(){const b=r.achievements[r.achievements.length-1];if(b!=null)return ct.find(C=>C.id==b[0])}function j(){const b=prompt("Are you sure you want to restart the game? This will delete all your progress. Type 'yes' to confirm.");(b==null?void 0:b.toLowerCase())=="yes"&&(Ae(Pt,i=!0,i),localStorage.setItem("reset","true"),Ae(Ne,o=null,o),localStorage.removeItem(mt),Dr())}const F=()=>{const b=document.createElement("input");b.type="file",b.onchange=C=>k(C),b.click()},$=async()=>{const b=await yf();navigator.clipboard.writeText(b),alert("Copied to clipboard")},I=()=>{wm(o)},N=b=>{p(b.id);const C=document.getElementById(`collectPrize-${b.id}`);C&&(C.style.display="none")};function q(b){i=b,Pt.set(i)}const A=()=>{Ae(Oi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&65539&&o)if(l)n(0,h=ct);else{n(0,h=[]);for(let b=0;b<ct.length;b++)(!v(ct[b].id)||!m(ct[b].id))&&h.push(ct[b])}},[h,o,i,a,u,f,c,d,m,p,_,k,v,L,j,S,l,F,$,I,N,q,A]}class ky extends he{constructor(e){super(),pe(this,e,wy,yy,me,{toggleShowCompleted:15},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[15]}}function Ta(t,e,n){const o=t.slice();return o[5]=e[n],o}function Cy(t){let e;return{c(){e=W("🚨 Plot Disabled Warning")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Sy(t){let e,n;return e=new rn({props:{class:"text-xl font-semibold",$$slots:{default:[Cy]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&256&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Aa(t){let e,n=t[5]+"",o;return{c(){e=P("li"),o=W(n)},m(i,r){O(i,e,r),y(e,o)},p(i,r){r&1&&n!==(n=i[5]+"")&&fe(o,n)},d(i){i&&M(e)}}}function Ty(t){let e;return{c(){e=W("Bulldoze")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Ay(t){let e,n=t[0].plotCost+"",o,i;return{c(){e=W("Snooze ("),o=W(n),i=W(" gold)")},m(r,l){O(r,e,l),O(r,o,l),O(r,i,l)},p(r,l){l&1&&n!==(n=r[0].plotCost+"")&&fe(o,n)},d(r){r&&(M(e),M(o),M(i))}}}function Iy(t){let e,n,o,i;return e=new At({props:{variant:"destructive",$$slots:{default:[Ty]},$$scope:{ctx:t}}}),e.$on("click",t[3]),o=new At({props:{variant:"default",disabled:t[1].townInfo.gold<t[0].plotCost,$$slots:{default:[Ay]},$$scope:{ctx:t}}}),o.$on("click",t[2]),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&3&&(s.disabled=r[1].townInfo.gold<r[0].plotCost),l&257&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function My(t){let e,n,o,i,r,l=t[0].plotName+"",a,s,u=t[0].location+"",f,c,d,m,p,h,_,k,v,S,L,j,F,$,I,N,q=t[0].plotCost+"",A,b,C,R,B;e=new ln({props:{class:"p-4 border-b border-accent/20",$$slots:{default:[Sy]},$$scope:{ctx:t}}});let D=Ye(t[0].missingResources),U=[];for(let X=0;X<D.length;X+=1)U[X]=Aa(Ta(t,D,X));return R=new kn({props:{class:"p-4 border-t border-accent/20 flex justify-end gap-2",$$slots:{default:[Iy]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=H(),o=P("div"),i=P("p"),r=W("Your "),a=W(l),s=H(),f=W(u),c=W(" is about to be disabled!"),d=H(),m=P("div"),p=P("p"),p.textContent="Missing Resources:",h=H(),_=P("ul");for(let X=0;X<U.length;X+=1)U[X].c();k=H(),v=P("div"),S=P("p"),S.textContent="You have two options:",L=H(),j=P("ol"),F=P("li"),F.textContent="Bulldoze the plot (free)",$=H(),I=P("li"),N=W("Snooze for 30 days (costs "),A=W(q),b=W(" gold)"),C=H(),Y(R.$$.fragment),E(p,"class","font-semibold"),E(_,"class","list-disc list-inside"),E(m,"class","bg-red-500/10 p-3 rounded-md"),E(j,"class","list-decimal list-inside"),E(v,"class","bg-accent/10 p-3 rounded-md"),E(o,"class","p-4 space-y-4")},m(X,z){V(e,X,z),O(X,n,z),O(X,o,z),y(o,i),y(i,r),y(i,a),y(i,s),y(i,f),y(i,c),y(o,d),y(o,m),y(m,p),y(m,h),y(m,_);for(let oe=0;oe<U.length;oe+=1)U[oe]&&U[oe].m(_,null);y(o,k),y(o,v),y(v,S),y(v,L),y(v,j),y(j,F),y(j,$),y(j,I),y(I,N),y(I,A),y(I,b),O(X,C,z),V(R,X,z),B=!0},p(X,z){const oe={};if(z&256&&(oe.$$scope={dirty:z,ctx:X}),e.$set(oe),(!B||z&1)&&l!==(l=X[0].plotName+"")&&fe(a,l),(!B||z&1)&&u!==(u=X[0].location+"")&&fe(f,u),z&1){D=Ye(X[0].missingResources);let ee;for(ee=0;ee<D.length;ee+=1){const _e=Ta(X,D,ee);U[ee]?U[ee].p(_e,z):(U[ee]=Aa(_e),U[ee].c(),U[ee].m(_,null))}for(;ee<U.length;ee+=1)U[ee].d(1);U.length=D.length}(!B||z&1)&&q!==(q=X[0].plotCost+"")&&fe(A,q);const K={};z&259&&(K.$$scope={dirty:z,ctx:X}),R.$set(K)},i(X){B||(w(e.$$.fragment,X),w(R.$$.fragment,X),B=!0)},o(X){T(e.$$.fragment,X),T(R.$$.fragment,X),B=!1},d(X){X&&(M(n),M(o),M(C)),x(e,X),st(U,X),x(R,X)}}}function Oy(t){let e,n;return e=new sn({props:{transition:go,class:"bg-sidebarBackground text-sidebarText max-w-md rounded-md shadow-xl border border-accent",$$slots:{default:[My]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Py(t){let e,n,o;function i(l){t[4](l)}let r={$$slots:{default:[Oy]},$$scope:{ctx:t}};return t[0].visible!==void 0&&(r.open=t[0].visible),e=new an({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){Y(e.$$.fragment)},m(l,a){V(e,l,a),o=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0].visible,Vt(()=>n=!1)),e.$set(s)},i(l){o||(w(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function Ny(t,e,n){let o,i;ue(t,Bt,s=>n(0,o=s)),ue(t,Ne,s=>n(1,i=s));function r(){i.townInfo.gold>=o.plotCost&&(Ae(Ne,i.townInfo.gold-=o.plotCost,i),Ae(Ne,i.plots[o.x][o.y].snoozedUntil=i.environment.day+10,i),Ae(Ne,i.plots[o.x][o.y].disabled=!1,i)),Ae(Bt,o.visible=!1,o)}function l(){console.log("x:",o.x),console.log("y:",o.y),Nn(o.x,o.y,i),Ae(Bt,o.visible=!1,o)}function a(s){t.$$.not_equal(o.visible,s)&&(o.visible=s,Bt.set(o))}return[o,i,r,l,a]}class Ey extends he{constructor(e){super(),pe(this,e,Ny,Py,me,{})}}function $y(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function Ry(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=W(e)},m(o,i){O(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&fe(n,e)},d(o){o&&M(n)}}}function Ly(t){let e;return{c(){e=W("Keep playin'")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Dy(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new At({props:{class:"bg-accent",$$slots:{default:[Ly]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=P("span"),o=W(n),i=H(),r=P("br"),l=H(),a=P("br"),s=H(),Y(u.$$.fragment),E(e,"class","text-gray-500 text-sm")},m(c,d){O(c,e,d),y(e,o),O(c,i,d),O(c,r,d),O(c,l,d),O(c,a,d),O(c,s,d),V(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&fe(o,n);const m={};d&16&&(m.$$scope={dirty:d,ctx:c}),u.$set(m)},i(c){f||(w(u.$$.fragment,c),f=!0)},o(c){T(u.$$.fragment,c),f=!1},d(c){c&&(M(e),M(i),M(r),M(l),M(a),M(s)),x(u,c)}}}function jy(t){let e,n,o,i;return e=new rn({props:{$$slots:{default:[Ry]},$$scope:{ctx:t}}}),o=new Hn({props:{$$slots:{default:[Dy]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function Fy(t){let e;return{c(){e=P("span"),e.textContent="Reset the game by pressing P and clicking New Game",E(e,"class","text-gray-500 text-sm")},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function qy(t){let e,n,o,i;return e=new ln({props:{$$slots:{default:[jy]},$$scope:{ctx:t}}}),o=new kn({props:{$$slots:{default:[Fy]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function By(t){let e,n;return e=new sn({props:{class:"bg-foregroundDark text-accentText",$$slots:{default:[qy]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Hy(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[By]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new an({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){Y(e.$$.fragment)},m(l,a){V(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Vt(()=>n=!1)),e.$set(s)},i(l){o||(w(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function Gy(t,e,n){let o;ue(t,Ne,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,Ne.set(a),n(1,i=!1),Pt.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class Wy extends he{constructor(e){super(),pe(this,e,Gy,Hy,me,{})}}function Vy(t){let e,n,o,i,r=[{class:n=He("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=P("input"),de(e,l)},m(a,s){O(a,e,s),e.autofocus&&e.focus(),wi(e,t[0]),o||(i=[te(e,"input",t[17]),te(e,"blur",t[3]),te(e,"change",t[4]),te(e,"click",t[5]),te(e,"focus",t[6]),te(e,"focusin",t[7]),te(e,"focusout",t[8]),te(e,"keydown",t[9]),te(e,"keypress",t[10]),te(e,"keyup",t[11]),te(e,"mouseover",t[12]),te(e,"mouseenter",t[13]),te(e,"mouseleave",t[14]),te(e,"paste",t[15]),te(e,"input",t[16])],o=!0)},p(a,[s]){de(e,l=Ce(r,[s&2&&n!==(n=He("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&wi(e,a[0])},i:Ie,o:Ie,d(a){a&&M(e),o=!1,Ve(i)}}}function xy(t,e,n){const o=["class","value"];let i=ce(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a(F){se.call(this,t,F)}function s(F){se.call(this,t,F)}function u(F){se.call(this,t,F)}function f(F){se.call(this,t,F)}function c(F){se.call(this,t,F)}function d(F){se.call(this,t,F)}function m(F){se.call(this,t,F)}function p(F){se.call(this,t,F)}function h(F){se.call(this,t,F)}function _(F){se.call(this,t,F)}function k(F){se.call(this,t,F)}function v(F){se.call(this,t,F)}function S(F){se.call(this,t,F)}function L(F){se.call(this,t,F)}function j(){l=this.value,n(0,l)}return t.$$set=F=>{e=Q(Q({},e),$e(F)),n(2,i=ce(e,o)),"class"in F&&n(1,r=F.class),"value"in F&&n(0,l=F.value)},[l,r,i,a,s,u,f,c,d,m,p,h,_,k,v,S,L,j]}class Yy extends he{constructor(e){super(),pe(this,e,xy,Vy,me,{class:1,value:0})}}function Uy(t){let e;const n=t[2].default,o=ge(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&ye(o,n,i,i[4],e?be(n,i[4],r,null):ve(i[4]),null)},i(i){e||(w(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Ky(t){let e,n;const o=[{class:He("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[Uy]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Cg({props:i}),e.$on("mousedown",t[3]),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:He("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&it(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function Xy(t,e,n){const o=["class"];let i=ce(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){se.call(this,t,u)}return t.$$set=u=>{e=Q(Q({},e),$e(u)),n(1,i=ce(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class Cr extends he{constructor(e){super(),pe(this,e,Xy,Ky,me,{class:0})}}function Jy(t){let e;return{c(){e=W("Welcome to Plots!")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Zy(t){let e;return{c(){e=P("a"),e.textContent="GitHub / Learn how to play",E(e,"href","https://github.com/josephrcox/plots#how-to-play"),E(e,"class","text-accent hover:text-accent/80 text-sm mb-4 hover:underline inline-block"),E(e,"target","_blank")},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function Qy(t){let e,n,o,i;return e=new rn({props:{class:"text-2xl font-semibold",$$slots:{default:[Jy]},$$scope:{ctx:t}}}),o=new Hn({props:{$$slots:{default:[Zy]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&256&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function zy(t){let e;return{c(){e=W("Game Mode")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ev(t){let e;return{c(){e=W("Town Name")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function tv(t){let e;return{c(){e=W("Game Settings")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function nv(t){let e;return{c(){e=W("Reset user")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ov(t){let e;return{c(){e=W("Start game")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function iv(t){let e,n=t[1].username+"",o,i,r,l,a,s,u,f,c;return l=new At({props:{variant:"outline",class:"border-accent/20 hover:bg-accent/10",$$slots:{default:[nv]},$$scope:{ctx:t}}}),l.$on("click",t[5]),s=new At({props:{class:"bg-accent hover:bg-accent/80 text-white",$$slots:{default:[ov]},$$scope:{ctx:t}}}),s.$on("click",t[3]),{c(){e=P("span"),o=W(n),i=H(),r=P("div"),Y(l.$$.fragment),a=H(),Y(s.$$.fragment),E(e,"class","text-xs text-sidebarText/50 hover:text-sidebarText cursor-pointer"),E(r,"class","space-x-2")},m(d,m){O(d,e,m),y(e,o),O(d,i,m),O(d,r,m),V(l,r,null),y(r,a),V(s,r,null),u=!0,f||(c=te(e,"click",t[6]),f=!0)},p(d,m){(!u||m&2)&&n!==(n=d[1].username+"")&&fe(o,n);const p={};m&256&&(p.$$scope={dirty:m,ctx:d}),l.$set(p);const h={};m&256&&(h.$$scope={dirty:m,ctx:d}),s.$set(h)},i(d){u||(w(l.$$.fragment,d),w(s.$$.fragment,d),u=!0)},o(d){T(l.$$.fragment,d),T(s.$$.fragment,d),u=!1},d(d){d&&(M(e),M(i),M(r)),x(l),x(s),f=!1,c()}}}function rv(t){let e,n,o,i,r,l,a,s,u,f,c,d,m=(t[0]==="land"?mn.land.description_title:mn.free_play.description_title)+"",p,h,_,k,v,S,L,j,F,$,I,N,q,A,b,C,R,B,D,U,X,z;e=new ln({props:{class:"p-4 border-b border-accent/20",$$slots:{default:[Qy]},$$scope:{ctx:t}}});let oe=av;return l=new Cr({props:{for:"endGoal",class:"text-sm font-medium",$$slots:{default:[zy]},$$scope:{ctx:t}}}),k=new Cr({props:{for:"townName",class:"text-sm font-medium",$$slots:{default:[ev]},$$scope:{ctx:t}}}),S=new Yy({props:{id:"townName",class:"w-full p-2 rounded-md border border-accent/20 bg-sidebarBackground text-sidebarText focus:ring-2 focus:ring-accent/50",placeholder:"Will be randomized if left blank"}}),F=new Cr({props:{class:"text-sm font-medium",$$slots:{default:[tv]},$$scope:{ctx:t}}}),D=new kn({props:{class:"p-4 border-t border-accent/20 flex justify-between items-center",$$slots:{default:[iv]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=H(),o=P("div"),i=H(),r=P("div"),Y(l.$$.fragment),a=H(),s=P("select"),u=P("option"),u.textContent=`${mn.land.short_title}`,f=P("option"),f.textContent=`${mn.free_play.short_title}`,c=H(),d=P("p"),p=W(m),h=H(),_=P("div"),Y(k.$$.fragment),v=H(),Y(S.$$.fragment),L=H(),j=P("div"),Y(F.$$.fragment),$=H(),I=P("div"),I.innerHTML='<input type="checkbox" id="devMode" class="svelte-1fiuyps"/>',N=H(),q=P("div"),q.innerHTML=`<input type="checkbox" id="tomPetty" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="tomPetty" class="text-sm">The &#39;Tom Petty&#39; mode: If your happiness or health reaches 0, you
            lose 50% of your gold and continue the game. You won&#39;t back down.</label>`,A=H(),b=P("div"),b.innerHTML=`<input type="checkbox" id="casual" checked="" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="casual" class="text-sm">Casual game: Faster and easier overall while exposing more of the
            game mechanics.</label>`,C=H(),R=P("div"),R.innerHTML='<input type="checkbox" id="bagOfHolding" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="bagOfHolding" class="text-sm">Bag of Holding: No resource cap or need to purchase stockpiles.</label>',B=H(),Y(D.$$.fragment),u.__value="land",wi(u,u.__value),f.__value="free_play",wi(f,f.__value),E(s,"id","endGoal"),E(s,"class","w-full p-2 rounded-md border border-accent/20 bg-sidebarBackground text-sidebarText focus:ring-2 focus:ring-accent/50"),E(d,"class","text-sm text-sidebarText/80 mt-1"),E(r,"class","space-y-2"),E(_,"class","space-y-2"),E(I,"class","hidden"),E(q,"class","flex items-start space-x-2"),E(b,"class","flex items-start space-x-2"),E(R,"class","flex items-start space-x-2"),E(j,"class","space-y-4"),E(o,"class","p-4 space-y-4")},m(K,ee){V(e,K,ee),O(K,n,ee),O(K,o,ee),y(o,i),y(o,r),V(l,r,null),y(r,a),y(r,s),y(s,u),y(s,f),Ll(s,t[0]),y(r,c),y(r,d),y(d,p),y(o,h),y(o,_),V(k,_,null),y(_,v),V(S,_,null),y(o,L),y(o,j),V(F,j,null),y(j,$),y(j,I),y(j,N),y(j,q),y(j,A),y(j,b),y(j,C),y(j,R),O(K,B,ee),V(D,K,ee),U=!0,X||(z=te(s,"change",t[4]),X=!0)},p(K,ee){const _e={};ee&256&&(_e.$$scope={dirty:ee,ctx:K}),e.$set(_e);const ae={};ee&256&&(ae.$$scope={dirty:ee,ctx:K}),l.$set(ae),(!U||ee&1)&&Ll(s,K[0]),(!U||ee&1)&&m!==(m=(K[0]==="land"?mn.land.description_title:mn.free_play.description_title)+"")&&fe(p,m);const re={};ee&256&&(re.$$scope={dirty:ee,ctx:K}),k.$set(re);const Le={};ee&256&&(Le.$$scope={dirty:ee,ctx:K}),F.$set(Le);const Fe={};ee&258&&(Fe.$$scope={dirty:ee,ctx:K}),D.$set(Fe)},i(K){U||(w(e.$$.fragment,K),w(oe),w(l.$$.fragment,K),w(k.$$.fragment,K),w(S.$$.fragment,K),w(F.$$.fragment,K),w(D.$$.fragment,K),U=!0)},o(K){T(e.$$.fragment,K),T(oe),T(l.$$.fragment,K),T(k.$$.fragment,K),T(S.$$.fragment,K),T(F.$$.fragment,K),T(D.$$.fragment,K),U=!1},d(K){K&&(M(n),M(o),M(B)),x(e,K),x(l),x(k),x(S),x(F),x(D,K),X=!1,z()}}}function lv(t){let e,n;return e=new sn({props:{transition:go,class:"bg-sidebarBackground text-sidebarText max-w-xl rounded-md shadow-xl border border-accent",$$slots:{default:[rv]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function sv(t){let e,n,o;function i(l){t[7](l)}let r={$$slots:{default:[lv]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new an({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){Y(e.$$.fragment)},m(l,a){V(e,l,a),o=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,Vt(()=>n=!1)),e.$set(s)},i(l){o||(w(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}const av=!1;function uv(t,e,n){let o,i;ue(t,hn,c=>n(1,o=c)),ue(t,Bo,c=>n(2,i=c)),Pt.set(!1);function r(){const c="1",d=document.getElementById("endGoal").value,m=document.getElementById("townName").value,h=["devMode","tomPetty","casual","bagOfHolding"].filter(v=>document.getElementById(v).checked);Cm(c,d,m,h)}let l="free_play";const a=c=>{n(0,l=c.target.value)};function s(){Ct.set("Deleted :)"),localStorage.clear(),window.location.href=""}function u(){const c=prompt("Enter new username");if(c){let d=o;d.username=c,Am(d)}}function f(c){t.$$.not_equal(i.visible,c)&&(i.visible=c,Bo.set(i))}return[l,o,i,r,a,s,u,f]}class fv extends he{constructor(e){super(),pe(this,e,uv,sv,me,{})}}function cv(t){let e;return{c(){e=W("Scoreboard")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function dv(t){let e=t[1].description_title+"",n;return{c(){n=W(e)},m(o,i){O(o,n,i)},p:Ie,d(o){o&&M(n)}}}function mv(t){let e,n,o,i;return e=new rn({props:{$$slots:{default:[cv]},$$scope:{ctx:t}}}),o=new Hn({props:{$$slots:{default:[dv]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function pv(t){let e;return{c(){e=W("footer")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function hv(t){let e,n,o,i;return e=new ln({props:{$$slots:{default:[mv]},$$scope:{ctx:t}}}),o=new kn({props:{$$slots:{default:[pv]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=W(`
		hi
		`),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function _v(t){let e,n;return e=new sn({props:{$$slots:{default:[hv]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function gv(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[_v]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new an({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){Y(e.$$.fragment)},m(l,a){V(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Vt(()=>n=!1)),e.$set(s)},i(l){o||(w(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function bv(t,e,n){let o,i;ue(t,Ne,s=>n(2,o=s)),ue(t,Mi,s=>n(0,i=s));const l=mn[o.endGoal];Ef[o.difficulty];function a(s){i=s,Mi.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class yv extends he{constructor(e){super(),pe(this,e,bv,gv,me,{})}}function _i(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vv(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ac(t){let e,n,o;t.length!==2?(e=_i,n=(a,s)=>_i(t(a),s),o=(a,s)=>t(a)-s):(e=t===_i||t===vv?t:wv,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function wv(){return 0}function kv(t){return t===null?NaN:+t}const Cv=Ac(_i),Sv=Cv.right;Ac(kv).center;const Tv=Math.sqrt(50),Av=Math.sqrt(10),Iv=Math.sqrt(2);function Fi(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=Tv?10:r>=Av?5:r>=Iv?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?Fi(t,e,n*2):[a,s,u]}function Mv(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?Fi(e,t,n):Fi(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function xr(t,e,n){return e=+e,t=+t,n=+n,Fi(t,e,n)[2]}function Ov(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?xr(e,t,n):xr(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function Pv(t){return t}var Sr=1,Tr=2,Yr=3,Lo=4,Ia=1e-6;function Nv(t){return"translate("+t+",0)"}function Ev(t){return"translate(0,"+t+")"}function $v(t){return e=>+t(e)}function Rv(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Lv(){return!this.__axis}function Ic(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Sr||t===Lo?-1:1,f=t===Lo||t===Tr?"x":"y",c=t===Sr||t===Yr?Nv:Ev;function d(m){var p=o??(e.ticks?e.ticks.apply(e,n):e.domain()),h=i??(e.tickFormat?e.tickFormat.apply(e,n):Pv),_=Math.max(r,0)+a,k=e.range(),v=+k[0]+s,S=+k[k.length-1]+s,L=(e.bandwidth?Rv:$v)(e.copy(),s),j=m.selection?m.selection():m,F=j.selectAll(".domain").data([null]),$=j.selectAll(".tick").data(p,e).order(),I=$.exit(),N=$.enter().append("g").attr("class","tick"),q=$.select("line"),A=$.select("text");F=F.merge(F.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(N),q=q.merge(N.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),A=A.merge(N.append("text").attr("fill","currentColor").attr(f,u*_).attr("dy",t===Sr?"0em":t===Yr?"0.71em":"0.32em")),m!==j&&(F=F.transition(m),$=$.transition(m),q=q.transition(m),A=A.transition(m),I=I.transition(m).attr("opacity",Ia).attr("transform",function(b){return isFinite(b=L(b))?c(b+s):this.getAttribute("transform")}),N.attr("opacity",Ia).attr("transform",function(b){var C=this.parentNode.__axis;return c((C&&isFinite(C=C(b))?C:L(b))+s)})),I.remove(),F.attr("d",t===Lo||t===Tr?l?"M"+u*l+","+v+"H"+s+"V"+S+"H"+u*l:"M"+s+","+v+"V"+S:l?"M"+v+","+u*l+"V"+s+"H"+S+"V"+u*l:"M"+v+","+s+"H"+S),$.attr("opacity",1).attr("transform",function(b){return c(L(b)+s)}),q.attr(f+"2",u*r),A.attr(f,u*_).text(h),j.filter(Lv).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Tr?"start":t===Lo?"end":"middle"),j.each(function(){this.__axis=L})}return d.scale=function(m){return arguments.length?(e=m,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),d):n.slice()},d.tickValues=function(m){return arguments.length?(o=m==null?null:Array.from(m),d):o&&o.slice()},d.tickFormat=function(m){return arguments.length?(i=m,d):i},d.tickSize=function(m){return arguments.length?(r=l=+m,d):r},d.tickSizeInner=function(m){return arguments.length?(r=+m,d):r},d.tickSizeOuter=function(m){return arguments.length?(l=+m,d):l},d.tickPadding=function(m){return arguments.length?(a=+m,d):a},d.offset=function(m){return arguments.length?(s=+m,d):s},d}function Dv(t){return Ic(Yr,t)}function jv(t){return Ic(Lo,t)}var Fv={value:()=>{}};function Mc(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new gi(n)}function gi(t){this._=t}function qv(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}gi.prototype=Mc.prototype={constructor:gi,on:function(t,e){var n=this._,o=qv(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=Bv(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=Ma(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ma(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new gi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function Bv(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function Ma(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=Fv,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ur="http://www.w3.org/1999/xhtml";const Oa={svg:"http://www.w3.org/2000/svg",xhtml:Ur,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Oa.hasOwnProperty(e)?{space:Oa[e],local:t}:t}function Hv(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ur&&e.documentElement.namespaceURI===Ur?e.createElement(t):e.createElementNS(n,t)}}function Gv(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Oc(t){var e=rr(t);return(e.local?Gv:Hv)(e)}function Wv(){}function Tl(t){return t==null?Wv:function(){return this.querySelector(t)}}function Vv(t){typeof t!="function"&&(t=Tl(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new It(o,this._parents)}function xv(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Yv(){return[]}function Pc(t){return t==null?Yv:function(){return this.querySelectorAll(t)}}function Uv(t){return function(){return xv(t.apply(this,arguments))}}function Kv(t){typeof t=="function"?t=Uv(t):t=Pc(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new It(o,i)}function Nc(t){return function(){return this.matches(t)}}function Ec(t){return function(e){return e.matches(t)}}var Xv=Array.prototype.find;function Jv(t){return function(){return Xv.call(this.children,t)}}function Zv(){return this.firstElementChild}function Qv(t){return this.select(t==null?Zv:Jv(typeof t=="function"?t:Ec(t)))}var zv=Array.prototype.filter;function ew(){return Array.from(this.children)}function tw(t){return function(){return zv.call(this.children,t)}}function nw(t){return this.selectAll(t==null?ew:tw(typeof t=="function"?t:Ec(t)))}function ow(t){typeof t!="function"&&(t=Nc(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new It(o,this._parents)}function $c(t){return new Array(t.length)}function iw(){return new It(this._enter||this._groups.map($c),this._parents)}function qi(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}qi.prototype={constructor:qi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function rw(t){return function(){return t}}function lw(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new qi(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function sw(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),m;for(a=0;a<f;++a)(s=e[a])&&(d[a]=m=l.call(s,s.__data__,a,e)+"",u.has(m)?i[a]=s:u.set(m,s));for(a=0;a<c;++a)m=l.call(t,r[a],a,r)+"",(s=u.get(m))?(o[a]=s,s.__data__=r[a],u.delete(m)):n[a]=new qi(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function aw(t){return t.__data__}function uw(t,e){if(!arguments.length)return Array.from(this,aw);var n=e?sw:lw,o=this._parents,i=this._groups;typeof t!="function"&&(t=rw(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,m=fw(t.call(f,f&&f.__data__,u,o)),p=m.length,h=a[u]=new Array(p),_=l[u]=new Array(p),k=s[u]=new Array(d);n(f,c,h,_,k,m,e);for(var v=0,S=0,L,j;v<p;++v)if(L=h[v]){for(v>=S&&(S=v+1);!(j=_[S])&&++S<p;);L._next=j||null}}return l=new It(l,o),l._enter=a,l._exit=s,l}function fw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function cw(){return new It(this._exit||this._groups.map($c),this._parents)}function dw(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function mw(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),m,p=0;p<c;++p)(m=u[p]||f[p])&&(d[p]=m);for(;s<i;++s)a[s]=n[s];return new It(a,this._parents)}function pw(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function hw(t){t||(t=_w);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new It(i,this._parents).order()}function _w(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function gw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function bw(){return Array.from(this)}function yw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function vw(){let t=0;for(const e of this)++t;return t}function ww(){return!this.node()}function kw(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function Cw(t){return function(){this.removeAttribute(t)}}function Sw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Tw(t,e){return function(){this.setAttribute(t,e)}}function Aw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Iw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Mw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ow(t,e){var n=rr(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?Sw:Cw:typeof e=="function"?n.local?Mw:Iw:n.local?Aw:Tw)(n,e))}function Rc(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Pw(t){return function(){this.style.removeProperty(t)}}function Nw(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ew(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function $w(t,e,n){return arguments.length>1?this.each((e==null?Pw:typeof e=="function"?Ew:Nw)(t,e,n??"")):mo(this.node(),t)}function mo(t,e){return t.style.getPropertyValue(e)||Rc(t).getComputedStyle(t,null).getPropertyValue(e)}function Rw(t){return function(){delete this[t]}}function Lw(t,e){return function(){this[t]=e}}function Dw(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function jw(t,e){return arguments.length>1?this.each((e==null?Rw:typeof e=="function"?Dw:Lw)(t,e)):this.node()[t]}function Lc(t){return t.trim().split(/^|\s+/)}function Al(t){return t.classList||new Dc(t)}function Dc(t){this._node=t,this._names=Lc(t.getAttribute("class")||"")}Dc.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function jc(t,e){for(var n=Al(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function Fc(t,e){for(var n=Al(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function Fw(t){return function(){jc(this,t)}}function qw(t){return function(){Fc(this,t)}}function Bw(t,e){return function(){(e.apply(this,arguments)?jc:Fc)(this,t)}}function Hw(t,e){var n=Lc(t+"");if(arguments.length<2){for(var o=Al(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Bw:e?Fw:qw)(n,e))}function Gw(){this.textContent=""}function Ww(t){return function(){this.textContent=t}}function Vw(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function xw(t){return arguments.length?this.each(t==null?Gw:(typeof t=="function"?Vw:Ww)(t)):this.node().textContent}function Yw(){this.innerHTML=""}function Uw(t){return function(){this.innerHTML=t}}function Kw(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Xw(t){return arguments.length?this.each(t==null?Yw:(typeof t=="function"?Kw:Uw)(t)):this.node().innerHTML}function Jw(){this.nextSibling&&this.parentNode.appendChild(this)}function Zw(){return this.each(Jw)}function Qw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zw(){return this.each(Qw)}function e2(t){var e=typeof t=="function"?t:Oc(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function t2(){return null}function n2(t,e){var n=typeof t=="function"?t:Oc(t),o=e==null?t2:typeof e=="function"?e:Tl(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function o2(){var t=this.parentNode;t&&t.removeChild(this)}function i2(){return this.each(o2)}function r2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function l2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function s2(t){return this.select(t?l2:r2)}function a2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function u2(t){return function(e){t.call(this,e,this.__data__)}}function f2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function c2(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function d2(t,e,n){return function(){var o=this.__on,i,r=u2(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function m2(t,e,n){var o=f2(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?d2:c2,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function qc(t,e,n){var o=Rc(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function p2(t,e){return function(){return qc(this,t,e)}}function h2(t,e){return function(){return qc(this,t,e.apply(this,arguments))}}function _2(t,e){return this.each((typeof e=="function"?h2:p2)(t,e))}function*g2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var Bc=[null];function It(t,e){this._groups=t,this._parents=e}function ei(){return new It([[document.documentElement]],Bc)}function b2(){return this}It.prototype=ei.prototype={constructor:It,select:Vv,selectAll:Kv,selectChild:Qv,selectChildren:nw,filter:ow,data:uw,enter:iw,exit:cw,join:dw,merge:mw,selection:b2,order:pw,sort:hw,call:gw,nodes:bw,node:yw,size:vw,empty:ww,each:kw,attr:Ow,style:$w,property:jw,classed:Hw,text:xw,html:Xw,raise:Zw,lower:zw,append:e2,insert:n2,remove:i2,clone:s2,datum:a2,on:m2,dispatch:_2,[Symbol.iterator]:g2};function y2(t){return typeof t=="string"?new It([[document.querySelector(t)]],[document.documentElement]):new It([[t]],Bc)}function Il(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Hc(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function ti(){}var Uo=.7,Bi=1/Uo,no="\\s*([+-]?\\d+)\\s*",Ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",v2=/^#([0-9a-f]{3,8})$/,w2=new RegExp(`^rgb\\(${no},${no},${no}\\)$`),k2=new RegExp(`^rgb\\(${Gt},${Gt},${Gt}\\)$`),C2=new RegExp(`^rgba\\(${no},${no},${no},${Ko}\\)$`),S2=new RegExp(`^rgba\\(${Gt},${Gt},${Gt},${Ko}\\)$`),T2=new RegExp(`^hsl\\(${Ko},${Gt},${Gt}\\)$`),A2=new RegExp(`^hsla\\(${Ko},${Gt},${Gt},${Ko}\\)$`),Pa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Il(ti,Dn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Na,formatHex:Na,formatHex8:I2,formatHsl:M2,formatRgb:Ea,toString:Ea});function Na(){return this.rgb().formatHex()}function I2(){return this.rgb().formatHex8()}function M2(){return Gc(this).formatHsl()}function Ea(){return this.rgb().formatRgb()}function Dn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=v2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?$a(e):n===3?new bt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ai(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ai(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=w2.exec(t))?new bt(e[1],e[2],e[3],1):(e=k2.exec(t))?new bt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=C2.exec(t))?ai(e[1],e[2],e[3],e[4]):(e=S2.exec(t))?ai(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=T2.exec(t))?Da(e[1],e[2]/100,e[3]/100,1):(e=A2.exec(t))?Da(e[1],e[2]/100,e[3]/100,e[4]):Pa.hasOwnProperty(t)?$a(Pa[t]):t==="transparent"?new bt(NaN,NaN,NaN,0):null}function $a(t){return new bt(t>>16&255,t>>8&255,t&255,1)}function ai(t,e,n,o){return o<=0&&(t=e=n=NaN),new bt(t,e,n,o)}function O2(t){return t instanceof ti||(t=Dn(t)),t?(t=t.rgb(),new bt(t.r,t.g,t.b,t.opacity)):new bt}function Kr(t,e,n,o){return arguments.length===1?O2(t):new bt(t,e,n,o??1)}function bt(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}Il(bt,Kr,Hc(ti,{brighter(t){return t=t==null?Bi:Math.pow(Bi,t),new bt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Uo:Math.pow(Uo,t),new bt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new bt(Pn(this.r),Pn(this.g),Pn(this.b),Hi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ra,formatHex:Ra,formatHex8:P2,formatRgb:La,toString:La}));function Ra(){return`#${In(this.r)}${In(this.g)}${In(this.b)}`}function P2(){return`#${In(this.r)}${In(this.g)}${In(this.b)}${In((isNaN(this.opacity)?1:this.opacity)*255)}`}function La(){const t=Hi(this.opacity);return`${t===1?"rgb(":"rgba("}${Pn(this.r)}, ${Pn(this.g)}, ${Pn(this.b)}${t===1?")":`, ${t})`}`}function Hi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Pn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function In(t){return t=Pn(t),(t<16?"0":"")+t.toString(16)}function Da(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Rt(t,e,n,o)}function Gc(t){if(t instanceof Rt)return new Rt(t.h,t.s,t.l,t.opacity);if(t instanceof ti||(t=Dn(t)),!t)return new Rt;if(t instanceof Rt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new Rt(l,a,s,t.opacity)}function N2(t,e,n,o){return arguments.length===1?Gc(t):new Rt(t,e,n,o??1)}function Rt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}Il(Rt,N2,Hc(ti,{brighter(t){return t=t==null?Bi:Math.pow(Bi,t),new Rt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Uo:Math.pow(Uo,t),new Rt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new bt(Ar(t>=240?t-240:t+120,i,o),Ar(t,i,o),Ar(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new Rt(ja(this.h),ui(this.s),ui(this.l),Hi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Hi(this.opacity);return`${t===1?"hsl(":"hsla("}${ja(this.h)}, ${ui(this.s)*100}%, ${ui(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ja(t){return t=(t||0)%360,t<0?t+360:t}function ui(t){return Math.max(0,Math.min(1,t||0))}function Ar(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Ml=t=>()=>t;function E2(t,e){return function(n){return t+n*e}}function $2(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function R2(t){return(t=+t)==1?Wc:function(e,n){return n-e?$2(e,n,t):Ml(isNaN(e)?n:e)}}function Wc(t,e){var n=e-t;return n?E2(t,n):Ml(isNaN(t)?e:t)}const Gi=function t(e){var n=R2(e);function o(i,r){var l=n((i=Kr(i)).r,(r=Kr(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=Wc(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function L2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function D2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function j2(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=Ol(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function F2(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function $t(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function q2(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ol(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var Xr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ir=new RegExp(Xr.source,"g");function B2(t){return function(){return t}}function H2(t){return function(e){return t(e)+""}}function Vc(t,e){var n=Xr.lastIndex=Ir.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=Xr.exec(t))&&(i=Ir.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:$t(o,i)})),n=Ir.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?H2(s[0].x):B2(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function Ol(t,e){var n=typeof e,o;return e==null||n==="boolean"?Ml(e):(n==="number"?$t:n==="string"?(o=Dn(e))?(e=o,Gi):Vc:e instanceof Dn?Gi:e instanceof Date?F2:D2(e)?L2:Array.isArray(e)?j2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?q2:$t)(t,e)}function G2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Fa=180/Math.PI,Jr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xc(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*Fa,skewX:Math.atan(s)*Fa,scaleX:l,scaleY:a}}var fi;function W2(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Jr:xc(e.a,e.b,e.c,e.d,e.e,e.f)}function V2(t){return t==null||(fi||(fi=document.createElementNS("http://www.w3.org/2000/svg","g")),fi.setAttribute("transform",t),!(t=fi.transform.baseVal.consolidate()))?Jr:(t=t.matrix,xc(t.a,t.b,t.c,t.d,t.e,t.f))}function Yc(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,m,p){if(u!==c||f!==d){var h=m.push("translate(",null,e,null,n);p.push({i:h-4,x:$t(u,c)},{i:h-2,x:$t(f,d)})}else(c||d)&&m.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:$t(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:$t(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,m,p){if(u!==c||f!==d){var h=m.push(i(m)+"scale(",null,",",null,")");p.push({i:h-4,x:$t(u,c)},{i:h-2,x:$t(f,d)})}else(c!==1||d!==1)&&m.push(i(m)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(m){for(var p=-1,h=d.length,_;++p<h;)c[(_=d[p]).i]=_.x(m);return c.join("")}}}var x2=Yc(W2,"px, ","px)","deg)"),Y2=Yc(V2,", ",")",")"),po=0,Do=0,Eo=0,Uc=1e3,Wi,jo,Vi=0,jn=0,lr=0,Xo=typeof performance=="object"&&performance.now?performance:Date,Kc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Pl(){return jn||(Kc(U2),jn=Xo.now()+lr)}function U2(){jn=0}function xi(){this._call=this._time=this._next=null}xi.prototype=Xc.prototype={constructor:xi,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Pl():+n)+(e==null?0:+e),!this._next&&jo!==this&&(jo?jo._next=this:Wi=this,jo=this),this._call=t,this._time=n,Zr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Zr())}};function Xc(t,e,n){var o=new xi;return o.restart(t,e,n),o}function K2(){Pl(),++po;for(var t=Wi,e;t;)(e=jn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--po}function qa(){jn=(Vi=Xo.now())+lr,po=Do=0;try{K2()}finally{po=0,J2(),jn=0}}function X2(){var t=Xo.now(),e=t-Vi;e>Uc&&(lr-=e,Vi=t)}function J2(){for(var t,e=Wi,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Wi=n);jo=t,Zr(o)}function Zr(t){if(!po){Do&&(Do=clearTimeout(Do));var e=t-jn;e>24?(t<1/0&&(Do=setTimeout(qa,t-Xo.now()-lr)),Eo&&(Eo=clearInterval(Eo))):(Eo||(Vi=Xo.now(),Eo=setInterval(X2,Uc)),po=1,Kc(qa))}}function Ba(t,e,n){var o=new xi;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var Z2=Mc("start","end","cancel","interrupt"),Q2=[],Jc=0,Ha=1,Qr=2,bi=3,Ga=4,zr=5,yi=6;function sr(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;z2(t,n,{name:e,index:o,group:i,on:Z2,tween:Q2,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Jc})}function Nl(t,e){var n=Ft(t,e);if(n.state>Jc)throw new Error("too late; already scheduled");return n}function Kt(t,e){var n=Ft(t,e);if(n.state>bi)throw new Error("too late; already running");return n}function Ft(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function z2(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=Xc(r,0,n.time);function r(u){n.state=Ha,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,m;if(n.state!==Ha)return s();for(f in o)if(m=o[f],m.name===n.name){if(m.state===bi)return Ba(l);m.state===Ga?(m.state=yi,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete o[f]):+f<e&&(m.state=yi,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete o[f])}if(Ba(function(){n.state===bi&&(n.state=Ga,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Qr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Qr){for(n.state=bi,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(m=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=m);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=zr,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===zr&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=yi,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function ek(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>Qr&&o.state<zr,o.state=yi,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function tk(t){return this.each(function(){ek(this,t)})}function nk(t,e){var n,o;return function(){var i=Kt(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function ok(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=Kt(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function ik(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=Ft(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?nk:ok)(n,t,e))}function El(t,e,n){var o=t._id;return t.each(function(){var i=Kt(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ft(i,o).value[e]}}function Zc(t,e){var n;return(typeof e=="number"?$t:e instanceof Dn?Gi:(n=Dn(e))?(e=n,Gi):Vc)(t,e)}function rk(t){return function(){this.removeAttribute(t)}}function lk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function ak(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function uk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function fk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function ck(t,e){var n=rr(t),o=n==="transform"?Y2:Zc;return this.attrTween(t,typeof e=="function"?(n.local?fk:uk)(n,o,El(this,"attr."+t,e)):e==null?(n.local?lk:rk)(n):(n.local?ak:sk)(n,o,e))}function dk(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function mk(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function pk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&mk(t,r)),n}return i._value=e,i}function hk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&dk(t,r)),n}return i._value=e,i}function _k(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=rr(t);return this.tween(n,(o.local?pk:hk)(o,e))}function gk(t,e){return function(){Nl(this,t).delay=+e.apply(this,arguments)}}function bk(t,e){return e=+e,function(){Nl(this,t).delay=e}}function yk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?gk:bk)(e,t)):Ft(this.node(),e).delay}function vk(t,e){return function(){Kt(this,t).duration=+e.apply(this,arguments)}}function wk(t,e){return e=+e,function(){Kt(this,t).duration=e}}function kk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?vk:wk)(e,t)):Ft(this.node(),e).duration}function Ck(t,e){if(typeof e!="function")throw new Error;return function(){Kt(this,t).ease=e}}function Sk(t){var e=this._id;return arguments.length?this.each(Ck(e,t)):Ft(this.node(),e).ease}function Tk(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Kt(this,t).ease=n}}function Ak(t){if(typeof t!="function")throw new Error;return this.each(Tk(this._id,t))}function Ik(t){typeof t!="function"&&(t=Nc(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new tn(o,this._parents,this._name,this._id)}function Mk(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,m=0;m<f;++m)(d=s[m]||u[m])&&(c[m]=d);for(;a<o;++a)l[a]=e[a];return new tn(l,this._parents,this._name,this._id)}function Ok(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Pk(t,e,n){var o,i,r=Ok(e)?Nl:Kt;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function Nk(t,e){var n=this._id;return arguments.length<2?Ft(this.node(),n).on.on(t):this.each(Pk(n,t,e))}function Ek(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function $k(){return this.on("end.remove",Ek(this._id))}function Rk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Tl(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,sr(u[d],e,n,d,u,Ft(f,n)));return new tn(r,this._parents,e,n)}function Lk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Pc(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),m,p=Ft(f,n),h=0,_=d.length;h<_;++h)(m=d[h])&&sr(m,e,n,h,d,p);r.push(d),l.push(f)}return new tn(r,l,e,n)}var Dk=ei.prototype.constructor;function jk(){return new Dk(this._groups,this._parents)}function Fk(t,e){var n,o,i;return function(){var r=mo(this,t),l=(this.style.removeProperty(t),mo(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function Qc(t){return function(){this.style.removeProperty(t)}}function qk(t,e,n){var o,i=n+"",r;return function(){var l=mo(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function Bk(t,e,n){var o,i,r;return function(){var l=mo(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),mo(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function Hk(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=Kt(this,t),u=s.on,f=s.value[r]==null?a||(a=Qc(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function Gk(t,e,n){var o=(t+="")=="transform"?x2:Zc;return e==null?this.styleTween(t,Fk(t,o)).on("end.style."+t,Qc(t)):typeof e=="function"?this.styleTween(t,Bk(t,o,El(this,"style."+t,e))).each(Hk(this._id,t)):this.styleTween(t,qk(t,o,e),n).on("end.style."+t,null)}function Wk(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function Vk(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&Wk(t,l,n)),o}return r._value=e,r}function xk(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,Vk(t,e,n??""))}function Yk(t){return function(){this.textContent=t}}function Uk(t){return function(){var e=t(this);this.textContent=e??""}}function Kk(t){return this.tween("text",typeof t=="function"?Uk(El(this,"text",t)):Yk(t==null?"":t+""))}function Xk(t){return function(e){this.textContent=t.call(this,e)}}function Jk(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Xk(i)),e}return o._value=t,o}function Zk(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Jk(t))}function Qk(){for(var t=this._name,e=this._id,n=zc(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=Ft(s,e);sr(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new tn(o,this._parents,t,n)}function zk(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=Kt(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var e5=0;function tn(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function zc(){return++e5}var Jt=ei.prototype;tn.prototype={constructor:tn,select:Rk,selectAll:Lk,selectChild:Jt.selectChild,selectChildren:Jt.selectChildren,filter:Ik,merge:Mk,selection:jk,transition:Qk,call:Jt.call,nodes:Jt.nodes,node:Jt.node,size:Jt.size,empty:Jt.empty,each:Jt.each,on:Nk,attr:ck,attrTween:_k,style:Gk,styleTween:xk,text:Kk,textTween:Zk,remove:$k,tween:ik,delay:yk,duration:kk,ease:Sk,easeVarying:Ak,end:zk,[Symbol.iterator]:Jt[Symbol.iterator]};function t5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var n5={time:null,delay:0,duration:250,ease:t5};function o5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function i5(t){var e,n;t instanceof tn?(e=t._id,t=t._name):(e=zc(),(n=n5).time=Pl(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&sr(s,t,e,u,l,n||o5(s,e));return new tn(o,this._parents,t,e)}ei.prototype.interrupt=tk;ei.prototype.transition=i5;const el=Math.PI,tl=2*el,Sn=1e-6,r5=tl-Sn;function ed(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function l5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ed;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class s5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ed:l5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Sn)if(!(Math.abs(c*s-u*f)>Sn)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let m=o-l,p=i-a,h=s*s+u*u,_=m*m+p*p,k=Math.sqrt(h),v=Math.sqrt(d),S=r*Math.tan((el-Math.acos((h+d-_)/(2*k*v)))/2),L=S/v,j=S/k;Math.abs(L-1)>Sn&&this._append`L${e+L*f},${n+L*c}`,this._append`A${r},${r},0,0,${+(c*m>f*p)},${this._x1=e+j*s},${this._y1=n+j*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Sn||Math.abs(this._y1-f)>Sn)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%tl+tl),d>r5?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>Sn&&this._append`A${o},${o},0,${+(d>=el)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function a5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Yi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function ho(t){return t=Yi(Math.abs(t)),t?t[1]:NaN}function u5(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function f5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var c5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ui(t){if(!(e=c5.exec(t)))throw new Error("invalid format: "+t);var e;return new $l({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ui.prototype=$l.prototype;function $l(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}$l.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function d5(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var td;function m5(t,e){var n=Yi(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(td=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+Yi(t,Math.max(0,e+r-1))[0]}function Wa(t,e){var n=Yi(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const Va={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:a5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Wa(t*100,e),r:Wa,s:m5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xa(t){return t}var Ya=Array.prototype.map,Ua=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function p5(t){var e=t.grouping===void 0||t.thousands===void 0?xa:u5(Ya.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?xa:f5(Ya.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Ui(c);var d=c.fill,m=c.align,p=c.sign,h=c.symbol,_=c.zero,k=c.width,v=c.comma,S=c.precision,L=c.trim,j=c.type;j==="n"?(v=!0,j="g"):Va[j]||(S===void 0&&(S=12),L=!0,j="g"),(_||d==="0"&&m==="=")&&(_=!0,d="0",m="=");var F=h==="$"?n:h==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",$=h==="$"?o:/[%p]/.test(j)?l:"",I=Va[j],N=/[defgprs%]/.test(j);S=S===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function q(A){var b=F,C=$,R,B,D;if(j==="c")C=I(A)+C,A="";else{A=+A;var U=A<0||1/A<0;if(A=isNaN(A)?s:I(Math.abs(A),S),L&&(A=d5(A)),U&&+A==0&&p!=="+"&&(U=!1),b=(U?p==="("?p:a:p==="-"||p==="("?"":p)+b,C=(j==="s"?Ua[8+td/3]:"")+C+(U&&p==="("?")":""),N){for(R=-1,B=A.length;++R<B;)if(D=A.charCodeAt(R),48>D||D>57){C=(D===46?i+A.slice(R+1):A.slice(R))+C,A=A.slice(0,R);break}}}v&&!_&&(A=e(A,1/0));var X=b.length+A.length+C.length,z=X<k?new Array(k-X+1).join(d):"";switch(v&&_&&(A=e(z+A,z.length?k-C.length:1/0),z=""),m){case"<":A=b+A+C+z;break;case"=":A=b+z+A+C;break;case"^":A=z.slice(0,X=z.length>>1)+b+A+C+z.slice(X);break;default:A=z+b+A+C;break}return r(A)}return q.toString=function(){return c+""},q}function f(c,d){var m=u((c=Ui(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(ho(d)/3)))*3,h=Math.pow(10,-p),_=Ua[8+p/3];return function(k){return m(h*k)+_}}return{format:u,formatPrefix:f}}var ci,nd,od;h5({thousands:",",grouping:[3],currency:["$",""]});function h5(t){return ci=p5(t),nd=ci.format,od=ci.formatPrefix,ci}function _5(t){return Math.max(0,-ho(Math.abs(t)))}function g5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ho(e)/3)))*3-ho(Math.abs(t)))}function b5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ho(e)-ho(t))+1}function y5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function v5(t){return function(){return t}}function w5(t){return+t}var Ka=[0,1];function Jn(t){return t}function nl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:v5(isNaN(e)?NaN:.5)}function k5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function C5(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=nl(i,o),r=n(l,r)):(o=nl(o,i),r=n(r,l)),function(a){return r(o(a))}}function S5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=nl(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=Sv(t,a,1,o)-1;return r[s](i[s](a))}}function T5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function A5(){var t=Ka,e=Ka,n=Ol,o,i,r,l=Jn,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==Jn&&(l=k5(t[0],t[d-1])),a=d>2?S5:C5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),$t)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,w5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=G2,f()},c.clamp=function(d){return arguments.length?(l=d?!0:Jn,f()):l!==Jn},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,m){return o=d,i=m,f()}}function I5(){return A5()(Jn,Jn)}function M5(t,e,n,o){var i=Ov(t,e,n),r;switch(o=Ui(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=g5(i,l))&&(o.precision=r),od(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=b5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=_5(i))&&(o.precision=r-(o.type==="%")*2);break}}return nd(o)}function O5(t){var e=t.domain;return t.ticks=function(n){var o=e();return Mv(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return M5(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=xr(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function ol(){var t=I5();return t.copy=function(){return T5(t,ol())},y5.apply(t,arguments),O5(t)}function Un(t){return function(){return t}}function P5(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new s5(e)}function N5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function id(t){this._context=t}id.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function E5(t){return new id(t)}function $5(t){return t[0]}function R5(t){return t[1]}function Mr(t,e){var n=Un(!0),o=null,i=E5,r=null,l=P5(a);t=typeof t=="function"?t:t===void 0?$5:Un(t),e=typeof e=="function"?e:e===void 0?R5:Un(e);function a(s){var u,f=(s=N5(s)).length,c,d=!1,m;for(o==null&&(r=i(m=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(m)return r=null,m+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:Un(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:Un(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Un(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function Fo(t,e,n){this.k=t,this.x=e,this.y=n}Fo.prototype={constructor:Fo,scale:function(t){return t===1?this:new Fo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Fo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Fo.prototype;function L5(t){let e;return{c(){e=Ji("svg"),E(e,"id","line-chart")},m(n,o){O(n,e,o)},p:Ie,i:Ie,o:Ie,d(n){n&&M(e)}}}const Xa=52;function D5(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;Mr().x((p,h)=>r(h)).y(p=>l(p)),Zo(()=>{n(1,i=y2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=ol().range([0,s]),l=ol().range([u,0]),o.length&&f()});function f(){const p=o.length>Xa?o.slice(-Xa):o;c(p),d(p),m()}function c(p){i.selectAll(".line").remove();const h=Mr().defined(k=>k>-5).x((k,v)=>r(v)).y(k=>l(k)),_=Mr().defined(k=>k<0).x((k,v)=>r(v)).y(k=>l(k));i.append("path").datum(p).attr("class","line positive").attr("d",h).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(p).attr("class","line negative").attr("d",_).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(p){const h=Math.max(0,...p),_=Math.min(0,...p);r.domain([0,p.length-1]),l.domain([_,h]).nice()}function m(p){const h=Dv(r).ticks(0),_=jv(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(h),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(_)}return t.$$set=p=>{"data"in p&&n(0,o=p.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class j5 extends he{constructor(e){super(),pe(this,e,D5,L5,me,{data:0})}}function F5(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=W("Manage your Knowledge ("),o=W(n),i=W(" pts)")},m(r,l){O(r,e,l),O(r,o,l),O(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&fe(o,n)},d(r){r&&(M(e),M(o),M(i))}}}function q5(t){let e,n,o,i;return e=new rn({props:{$$slots:{default:[F5]},$$scope:{ctx:t}}}),o=new Hn({}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&130&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function Ja(t){let e,n,o=eu(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=P("br"),n=W(`
          (total value: $`),i=W(o),r=W(")")},m(l,a){O(l,e,a),O(l,n,a),O(l,i,a),O(l,r,a)},p(l,a){a&10&&o!==(o=eu(l[1].townInfo.knowledge_points*l[3])+"")&&fe(i,o)},d(l){l&&(M(e),M(n),M(i),M(r))}}}function Za(t){let e;return{c(){e=P("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
          convert.`},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Qa(t){let e,n,o;return n=new At({props:{variant:"default",$$slots:{default:[B5]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=P("div"),Y(n.$$.fragment)},m(i,r){O(i,e,r),V(n,e,null),o=!0},p(i,r){const l={};r&128&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(w(n.$$.fragment,i),o=!0)},o(i){T(n.$$.fragment,i),o=!1},d(i){i&&M(e),x(n)}}}function B5(t){let e;return{c(){e=W("Convert Knowledge to Gold")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function za(t){let e;return{c(){e=P("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function H5(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,m,p,h,_,k,v,S,L,j;e=new ln({props:{$$slots:{default:[q5]},$$scope:{ctx:t}}});let F=t[3]>0&&Ja(t);h=new j5({props:{data:t[2]}});let $=t[3]<0&&Za(),I=t[1].hasBank&&t[3]>0&&Qa(t),N=t[1].hasBank===!1&&za();return L=new kn({}),{c(){Y(e.$$.fragment),n=H(),o=P("span"),o.textContent="Knowledge is power, unlock it!",i=H(),r=P("div"),l=P("div"),a=W("Market Rate: "),s=P("span"),f=W(u),c=W(" gold"),m=W(`
        per Knowledge Point
        `),F&&F.c(),p=H(),Y(h.$$.fragment),_=H(),$&&$.c(),k=H(),I&&I.c(),v=H(),N&&N.c(),S=H(),Y(L.$$.fragment),E(o,"class",""),E(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),E(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(q,A){V(e,q,A),O(q,n,A),O(q,o,A),O(q,i,A),O(q,r,A),y(r,l),y(l,a),y(l,s),y(s,f),y(s,c),y(l,m),F&&F.m(l,null),y(r,p),V(h,r,null),y(r,_),$&&$.m(r,null),y(r,k),I&&I.m(r,null),y(r,v),N&&N.m(r,null),O(q,S,A),V(L,q,A),j=!0},p(q,A){const b={};A&130&&(b.$$scope={dirty:A,ctx:q}),e.$set(b),(!j||A&8)&&u!==(u=(q[3]??0)+"")&&fe(f,u),(!j||A&8&&d!==(d=q[3]<0?"text-red-500":"text-green-500"))&&E(s,"class",d),q[3]>0?F?F.p(q,A):(F=Ja(q),F.c(),F.m(l,null)):F&&(F.d(1),F=null);const C={};A&4&&(C.data=q[2]),h.$set(C),q[3]<0?$||($=Za(),$.c(),$.m(r,k)):$&&($.d(1),$=null),q[1].hasBank&&q[3]>0?I?(I.p(q,A),A&10&&w(I,1)):(I=Qa(q),I.c(),w(I,1),I.m(r,v)):I&&(Me(),T(I,1,1,()=>{I=null}),Oe()),q[1].hasBank===!1?N||(N=za(),N.c(),N.m(r,null)):N&&(N.d(1),N=null)},i(q){j||(w(e.$$.fragment,q),w(h.$$.fragment,q),w(I),w(L.$$.fragment,q),j=!0)},o(q){T(e.$$.fragment,q),T(h.$$.fragment,q),T(I),T(L.$$.fragment,q),j=!1},d(q){q&&(M(n),M(o),M(i),M(r),M(S)),x(e,q),F&&F.d(),x(h),$&&$.d(),I&&I.d(),N&&N.d(),x(L,q)}}}function G5(t){let e,n;return e=new sn({props:{transitionConfig:{duration:0},class:"bg-foreground text-accentText",$$slots:{default:[H5]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&142&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function W5(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[G5]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new an({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){Y(e.$$.fragment)},m(l,a){V(e,l,a),o=!0},p(l,[a]){const s={};a&142&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],Vt(()=>n=!1)),e.$set(s)},i(l){o||(w(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function eu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function V5(t,e,n){let o,i;ue(t,Ne,u=>n(1,o=u)),ue(t,so,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,Ne.set(u),localStorage.setItem(mt,JSON.stringify(u))):Ct.set("You need a bank to convert knowledge to gold.")}function s(u){i=u,so.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class x5 extends he{constructor(e){super(),pe(this,e,V5,W5,me,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const Y5=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier.
          Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
          `,cost:5e3,duration:180,effect:t=>(t.townInfo.happiness+=100,t)},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
           We don't really know what that means, but it seems to make people healthier.
          `,cost:8e3,duration:200,effect:t=>(t.townInfo.health+=180,t.townInfo.happiness+=25,t)},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.
          The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
          `,cost:3e3,duration:60,effect:t=>t},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab.
          She hopes nobody will miss it. Your town now has some more money.
          `,cost:15e3,duration:180,effect:t=>(t.townInfo.gold+=Math.floor(Math.random()*35e3),t)},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes.
          We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:t=>(t.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*t.economyAndLaws.max_tax_rate,t)},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach.
          We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:t=>t},{id:"tornado",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather experiment caused about half of the food supply to be sucked into a tornado.
  		The only positive seems to be that the town now knows what a tornado is, and that makes us a bit smarter as a whole.`,cost:7e3,duration:150,effect:t=>(t.townInfo.knowledge_points+=3e3,t.resources.food=Math.floor(t.resources.food/2),t)},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.
          Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:t=>(t.townInfo.gold+=1e4,tu("fishery",t),t)},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools.
          This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:t=>(tu("schoolhouse",t),t)},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took this experiments funding and applied the town for a grant to improve education.
          The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:25e3,duration:45,effect:t=>(t.townInfo.gold+=15e4,t)},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress.
  		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:t=>(t.townInfo.happiness+=75,t)}];function tu(t,e){let n=Be(t,e);for(let o=0;o<n.length;o++)Nn(n[o].x,n[o].y,e)}function U5(t){let e,n;const o=[{class:He("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new c0({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&15?Ce(o,[l&3&&{class:He("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&it(r[3])]):{};e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function K5(t,e,n){const o=["class","orientation","decorative"];let i=ce(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(3,i=ce(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class vt extends he{constructor(e){super(),pe(this,e,K5,U5,me,{class:0,orientation:1,decorative:2})}}function nu(t,e,n){const o=t.slice();return o[15]=e[n],o}function X5(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=W("🎉 Experiment Completed: "),o=W(n)},m(i,r){O(i,e,r),O(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&fe(o,n)},d(i){i&&(M(e),M(o))}}}function J5(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=P("div"),o=W(n),E(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){O(i,e,r),y(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&fe(o,n)},d(i){i&&M(e)}}}function Z5(t){let e,n,o,i;return e=new gc({props:{class:"text-center",$$slots:{default:[X5]},$$scope:{ctx:t}}}),o=new Tc({props:{$$slots:{default:[J5]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function Q5(t){let e;return{c(){e=W("Thank the scientists")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function z5(t){let e,n;return e=new Cc({props:{$$slots:{default:[Q5]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function e3(t){let e,n,o,i;return e=new Sc({props:{$$slots:{default:[Z5]},$$scope:{ctx:t}}}),o=new kl({props:{$$slots:{default:[z5]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262144&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function t3(t){let e,n;return e=new Cl({props:{$$slots:{default:[e3]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&262146&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function n3(t){let e;return{c(){e=P("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function o3(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=P("span"),n=W("You have earned "),o=P("span"),r=W(i),l=W(" XP"),s=W(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),E(o,"class",a=t[1].lab.xp<0?"text-textDanger":"text-primaryText")},m(u,f){O(u,e,f),y(e,n),y(e,o),y(o,r),y(o,l),y(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&fe(r,i),f&2&&a!==(a=u[1].lab.xp<0?"text-textDanger":"text-primaryText")&&E(o,"class",a)},d(u){u&&M(e)}}}function i3(t){let e,n,o,i;return e=new rn({props:{$$slots:{default:[n3]},$$scope:{ctx:t}}}),o=new Hn({props:{$$slots:{default:[o3]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&262144&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function r3(t){let e;return{c(){e=W("No more experiments available")},m(n,o){O(n,e,o)},p:Ie,i:Ie,o:Ie,d(n){n&&M(e)}}}function l3(t){let e,n,o,i,r=Ye(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=iu(nu(t,r,s));const a=s=>T(l[s],1,1,()=>{l[s]=null});return{c(){e=P("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=H(),o=P("div");for(let s=0;s<l.length;s+=1)l[s].c();E(e,"class","select-none text-sm "),E(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){O(s,e,u),O(s,n,u),O(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=Ye(s[0]);let f;for(f=0;f<r.length;f+=1){const c=nu(s,r,f);l[f]?(l[f].p(c,u),w(l[f],1)):(l[f]=iu(c),l[f].c(),w(l[f],1),l[f].m(o,null))}for(Me(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)w(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)T(l[u]);i=!1},d(s){s&&(M(e),M(n),M(o)),st(l,s)}}}function s3(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&ru(t);return{c(){e=W("Currently running an experiment... check back in "),o=W(n),i=W(` days.
      `),a&&a.c(),r=Re()},m(s,u){O(s,e,u),O(s,o,u),O(s,i,u),a&&a.m(s,u),O(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&fe(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&w(a,1)):(a=ru(s),a.c(),w(a,1),a.m(r.parentNode,r)):a&&(Me(),T(a,1,1,()=>{a=null}),Oe())},i(s){l||(w(a),l=!0)},o(s){T(a),l=!1},d(s){s&&(M(e),M(o),M(i),M(r)),a&&a.d(s)}}}function ou(t){let e,n,o=t[15].id+"",i;return{c(){e=P("span"),n=W("// dev-"),i=W(o),E(e,"class","text-xs text-gray-400")},m(r,l){O(r,e,l),y(e,n),y(e,i)},p(r,l){l&1&&o!==(o=r[15].id+"")&&fe(i,o)},d(r){r&&M(e)}}}function a3(t){let e,n=lu(t[15].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&ou(t);return{c(){e=W("$"),o=W(n),i=W(` gold

            `),l&&l.c(),r=H()},m(a,s){O(a,e,s),O(a,o,s),O(a,i,s),l&&l.m(a,s),O(a,r,s)},p(a,s){s&1&&n!==(n=lu(a[15].cost).split(".")[0]+"")&&fe(o,n),a[1].devMode===!0?l?l.p(a,s):(l=ou(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(M(e),M(o),M(i),M(r)),l&&l.d(a)}}}function iu(t){let e,n;function o(){return t[11](t[15])}return e=new At({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[a3]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){Y(e.$$.fragment)},m(i,r){V(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&262147&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function ru(t){let e,n;return e=new At({props:{variant:"outline",$$slots:{default:[u3]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function u3(t){let e;return{c(){e=W("Complete experiment (and face the impact)")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function f3(t){let e;return{c(){e=P("span"),e.textContent="Keep in mind that not all experiments yield positive results.",E(e,"class","text-left text-textDanger")},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function c3(t){let e,n,o,i,r,l,a,s,u,f,c;e=new ln({props:{$$slots:{default:[i3]},$$scope:{ctx:t}}}),o=new vt({});const d=[s3,l3,r3],m=[];function p(h,_){return h[1].lab.active_experiment!==null?0:h[0].length>0?1:h[0].length===0?2:-1}return~(r=p(t))&&(l=m[r]=d[r](t)),s=new vt({props:{class:"mt-4"}}),f=new kn({props:{$$slots:{default:[f3]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment),i=H(),l&&l.c(),a=H(),Y(s.$$.fragment),u=H(),Y(f.$$.fragment)},m(h,_){V(e,h,_),O(h,n,_),V(o,h,_),O(h,i,_),~r&&m[r].m(h,_),O(h,a,_),V(s,h,_),O(h,u,_),V(f,h,_),c=!0},p(h,_){const k={};_&262146&&(k.$$scope={dirty:_,ctx:h}),e.$set(k);let v=r;r=p(h),r===v?~r&&m[r].p(h,_):(l&&(Me(),T(m[v],1,1,()=>{m[v]=null}),Oe()),~r?(l=m[r],l?l.p(h,_):(l=m[r]=d[r](h),l.c()),w(l,1),l.m(a.parentNode,a)):l=null);const S={};_&262144&&(S.$$scope={dirty:_,ctx:h}),f.$set(S)},i(h){c||(w(e.$$.fragment,h),w(o.$$.fragment,h),w(l),w(s.$$.fragment,h),w(f.$$.fragment,h),c=!0)},o(h){T(e.$$.fragment,h),T(o.$$.fragment,h),T(l),T(s.$$.fragment,h),T(f.$$.fragment,h),c=!1},d(h){h&&(M(n),M(i),M(a),M(u)),x(e,h),x(o,h),~r&&m[r].d(h),x(s,h),x(f,h)}}}function d3(t){let e,n;return e=new sn({props:{class:"bg-foreground text-accentText",$$slots:{default:[c3]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&262147&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function m3(t){let e,n,o,i,r;e=new Sl({props:{open:t[2],$$slots:{default:[t3]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[d3]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new an({props:a}),Ee.push(()=>Ut(o,"open",l)),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment)},m(s,u){V(e,s,u),O(s,n,u),V(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&262146&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&262147&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],Vt(()=>i=!1)),o.$set(c)},i(s){r||(w(e.$$.fragment,s),w(o.$$.fragment,s),r=!0)},o(s){T(e.$$.fragment,s),T(o.$$.fragment,s),r=!1},d(s){s&&M(n),x(e,s),x(o,s)}}}function lu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function p3(t,e,n){let o,i;ue(t,Ne,v=>n(1,o=v)),ue(t,zn,v=>n(3,i=v));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let v=[],S=Y5.filter(L=>!o.lab.past_experiments.some(j=>j.id===L.id));if(S.length===0)return[];for(let L=0;L<3;L++){let j=S[Math.floor(Math.random()*S.length)];j.cost=Math.floor(Math.random()*(j.cost*.35)+j.cost*.8),v.push(j)}return v=v.filter((L,j)=>v.indexOf(L)===j),v=v.filter(L=>L),n(8,u=!0),v}function c(v){if(o.townInfo.gold<v.cost){Ct.set("You do not have enough gold to purchase this experiment.");return}Ae(Ne,o.townInfo.gold-=v.cost,o),Ae(Ne,o.lab.active_experiment=v,o),o.lab.past_experiments.push(v)}function d(){Ae(zn,i=!1,i),n(2,s=!0);let v=l.find(L=>L.id===o.lab.active_experiment.id),S=v!=null?v.effect(o):o;Ae(Ne,o=S,o),Ae(Ne,o.lab.active_experiment.duration=-1,o)}function m(){let v=o;v.lab.xp+=Math.round(v.lab.active_experiment.cost*(Math.random()*2+.5)),v.lab.active_experiment=null,n(2,s=!1),Ae(Ne,o=v,o)}const p=()=>{m()},h=()=>{d()},_=v=>{v.cost<o.townInfo.gold&&c(v)};function k(v){i=v,zn.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,m,r,u,p,h,_,k]}class h3 extends he{constructor(e){super(),pe(this,e,p3,m3,me,{})}}function _3(t){let e,n,o,i,r,l,a,s,u,f=t[0].townInfo.name+"",c,d,m,p,h,_,k,v=t[0].townInfo.population_count+"",S,L,j,F,$,I,N,q,A,b=Math.floor(t[0].environment.day/365)+1+"",C,R,B,D,U,X,z=Math.floor(t[0].environment.day/7)%52+1+"",oe,K,ee,_e,ae,re=t[1]==0?"⏩ x1":t[1]==1?"⏩ x2":"⏩ x3",Le,Fe,g,Z,J;return n=new Lt({props:{text:"Pause",onOpen:t[6],styling:"fixed top-2 right-4 opacity-70 bg-gray-600"}}),j=new vt({props:{orientation:"vertical",class:"h-12 bg-gray-600 opacity-50 mx-4"}}),ee=new vt({props:{orientation:"vertical",class:"h-12 bg-gray-600 opacity-50 mx-4"}}),{c(){e=P("div"),Y(n.$$.fragment),o=H(),i=P("div"),r=P("div"),l=P("div"),a=P("div"),s=P("div"),u=P("div"),c=W(f),d=H(),m=P("div"),p=P("div"),h=P("div"),_=P("span"),k=W("👥 "),S=W(v),L=H(),Y(j.$$.fragment),F=H(),$=P("div"),I=P("span"),N=P("span"),N.textContent="Year",q=H(),A=P("span"),C=W(b),R=H(),B=P("span"),D=P("span"),D.textContent="Week",U=H(),X=P("span"),oe=W(z),K=H(),Y(ee.$$.fragment),_e=H(),ae=P("span"),Le=W(re),E(u,"class","cursor-pointer w-min whitespace-nowrap text-center select-none font-serif opacity-80"),E(s,"class","cursor-pointer flex flex-row justify-center text-center w-full"),E(a,"class","text-2xl flex flex-row items-center w-full text-center"),E(_,"class","text-sm text-left items-start justify-start w-min flex-nowrap text-nowrap"),E(N,"class","text-xs"),E(A,"class","font-semibold text-xs"),E(I,"class","flex flex-col"),E(D,"class","text-xs"),E(X,"class","font-semibold text-xs"),E(B,"class","flex flex-col"),E($,"class","flex flex-row justify-start gap-6 align-middle"),E(ae,"class","cursor-pointer text-blue-200 noselect"),ht(ae,"text-blue-200",t[1]==0),ht(ae,"text-yellow-200",t[1]==1),ht(ae,"text-red-200",t[1]==2),E(h,"class","flex align-middle items-center text-accentText flex-row justify-between h-max "),E(p,"class","flex flex-col align-middle w-full justify-center items-center"),E(l,"class","flex flex-col gap-2 justify-center w-full "),E(r,"class","rounded-xl w-full"),E(i,"class","flex justify-between flex-col align-middle items-center w-full"),E(e,"id","header"),E(e,"class",Fe="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-1 align-middle border-b-4 border-sidebarBackground "+(t[2].visible?"opacity-70":""))},m(ne,ie){O(ne,e,ie),V(n,e,null),y(e,o),y(e,i),y(i,r),y(r,l),y(l,a),y(a,s),y(s,u),y(u,c),y(l,d),y(l,m),y(m,p),y(p,h),y(h,_),y(_,k),y(_,S),y(h,L),V(j,h,null),y(h,F),y(h,$),y($,I),y(I,N),y(I,q),y(I,A),y(A,C),y($,R),y($,B),y(B,D),y(B,U),y(B,X),y(X,oe),y(h,K),V(ee,h,null),y(h,_e),y(h,ae),y(ae,Le),g=!0,Z||(J=[te(u,"click",t[4]),te(ae,"click",t[7])],Z=!0)},p(ne,[ie]){const ke={};ie&8&&(ke.onOpen=ne[6]),n.$set(ke),(!g||ie&1)&&f!==(f=ne[0].townInfo.name+"")&&fe(c,f),(!g||ie&1)&&v!==(v=ne[0].townInfo.population_count+"")&&fe(S,v),(!g||ie&1)&&b!==(b=Math.floor(ne[0].environment.day/365)+1+"")&&fe(C,b),(!g||ie&1)&&z!==(z=Math.floor(ne[0].environment.day/7)%52+1+"")&&fe(oe,z),(!g||ie&2)&&re!==(re=ne[1]==0?"⏩ x1":ne[1]==1?"⏩ x2":"⏩ x3")&&fe(Le,re),(!g||ie&2)&&ht(ae,"text-blue-200",ne[1]==0),(!g||ie&2)&&ht(ae,"text-yellow-200",ne[1]==1),(!g||ie&2)&&ht(ae,"text-red-200",ne[1]==2),(!g||ie&4&&Fe!==(Fe="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-1 align-middle border-b-4 border-sidebarBackground "+(ne[2].visible?"opacity-70":"")))&&E(e,"class",Fe)},i(ne){g||(w(n.$$.fragment,ne),w(j.$$.fragment,ne),w(ee.$$.fragment,ne),g=!0)},o(ne){T(n.$$.fragment,ne),T(j.$$.fragment,ne),T(ee.$$.fragment,ne),g=!1},d(ne){ne&&M(e),x(n),x(j),x(ee),Z=!1,Ve(J)}}}function g3(t,e,n){let o,i,r,l;ue(t,Ne,m=>n(0,o=m)),ue(t,$o,m=>n(9,i=m)),ue(t,Ze,m=>n(2,r=m)),ue(t,Pt,m=>n(3,l=m));const a=o.gameSettings.includes("casual")?[150,75,35]:[300,150,70];let s=0;Zo(()=>{o.gameSettings.includes("casual")?Ae($o,i=375,i):Ae($o,i=550,i);const m=setInterval(()=>{Ae(Ne,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(m)}});function u(){let m=prompt("Enter a new name for your town (under 200 chars)");if(m&&m.length<200&&m.length>=1){let p=o;p.townInfo.name=m,Ne.set(p),localStorage.setItem(mt,JSON.stringify(p))}}function f(){s==a.length-1?n(1,s=0):n(1,s++,s),Ae($o,i=a[s],i)}const c=()=>Ae(Pt,l=!0,l),d=()=>{localStorage.getItem(Tt)==null&&f()};return t.$$.update=()=>{t.$$.dirty&1&&o.timeSpent>0&&_m(o.timeSpent)},[o,s,r,l,u,f,c,d]}class b3 extends he{constructor(e){super(),pe(this,e,g3,_3,me,{})}}function y3(t){let e,n,o,i,r,l;return{c(){e=P("div"),i=H(),r=P("span"),l=W(t[4]),E(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all relative"),E(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`),E(r,"class","absolute inset-0 flex items-center justify-center text-white text-sm")},m(a,s){O(a,e,s),O(a,i,s),O(a,r,s),y(r,l)},p(a,s){s&8&&n!==(n="h-full w-full flex-1 "+a[3]+" transition-all relative")&&E(e,"class",n),s&6&&o!==(o=`transform: translateX(-${100-100*(a[2]??0)/(a[1]??1)}%)`)&&E(e,"style",o),s&16&&fe(l,a[4])},d(a){a&&(M(e),M(i),M(r))}}}function v3(t){let e,n;const o=[{class:He("relative h-6 w-full overflow-hidden  bg-black border border-gray-300",t[0])},t[5]];let i={$$slots:{default:[y3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Eg({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&33?Ce(o,[l&1&&{class:He("relative h-6 w-full overflow-hidden  bg-black border border-gray-300",r[0])},l&32&&it(r[5])]):{};l&94&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function w3(t,e,n){const o=["class","max","value","color","text"];let i=ce(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-accent"}=e,{text:u=void 0}=e;return t.$$set=f=>{e=Q(Q({},e),$e(f)),n(5,i=ce(e,o)),"class"in f&&n(0,r=f.class),"max"in f&&n(1,l=f.max),"value"in f&&n(2,a=f.value),"color"in f&&n(3,s=f.color),"text"in f&&n(4,u=f.text)},[r,l,a,s,u,i]}class k3 extends he{constructor(e){super(),pe(this,e,w3,v3,me,{class:0,max:1,value:2,color:3,text:4})}}function su(t,e,n){const o=t.slice();return o[19]=e[n],o}function au(t){let e,n=Ye({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=uu(su(t,n,i));return{c(){e=P("div");for(let i=0;i<o.length;i+=1)o[i].c();E(e,"class","confetti-holder svelte-15ksp55"),ht(e,"rounded",t[9]),ht(e,"cone",t[10]),ht(e,"no-gravity",t[11]),ht(e,"reduced-motion",t[13])},m(i,r){O(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=Ye({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=su(i,n,l);o[l]?o[l].p(a,r):(o[l]=uu(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&ht(e,"rounded",i[9]),r&1024&&ht(e,"cone",i[10]),r&2048&&ht(e,"no-gravity",i[11]),r&8192&&ht(e,"reduced-motion",i[13])},d(i){i&&M(e),st(o,i)}}}function uu(t){let e;return{c(){e=P("div"),E(e,"class","confetti svelte-15ksp55"),ze(e,"--fall-distance",t[8]),ze(e,"--size",t[0]+"px"),ze(e,"--color",t[15]()),ze(e,"--skew",pt(-45,45)+"deg,"+pt(-45,45)+"deg"),ze(e,"--rotation-xyz",pt(-10,10)+", "+pt(-10,10)+", "+pt(-10,10)),ze(e,"--rotation-deg",pt(0,360)+"deg"),ze(e,"--translate-y-multiplier",pt(t[2][0],t[2][1])),ze(e,"--translate-x-multiplier",pt(t[1][0],t[1][1])),ze(e,"--scale",.1*pt(2,10)),ze(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),ze(e,"--transition-delay",pt(t[5][0],t[5][1])+"ms"),ze(e,"--transition-iteration-count",t[4]?"infinite":t[7]),ze(e,"--x-spread",1-t[12])},m(n,o){O(n,e,o)},p(n,o){o&256&&ze(e,"--fall-distance",n[8]),o&1&&ze(e,"--size",n[0]+"px"),o&4&&ze(e,"--translate-y-multiplier",pt(n[2][0],n[2][1])),o&2&&ze(e,"--translate-x-multiplier",pt(n[1][0],n[1][1])),o&24&&ze(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&ze(e,"--transition-delay",pt(n[5][0],n[5][1])+"ms"),o&144&&ze(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&ze(e,"--x-spread",1-n[12])},d(n){n&&M(e)}}}function C3(t){let e,n=!t[14]&&au(t);return{c(){n&&n.c(),e=Re()},m(o,i){n&&n.m(o,i),O(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=au(o),n.c(),n.m(e.parentNode,e))},i:Ie,o:Ie,d(o){o&&M(e),n&&n.d(o)}}}function pt(t,e){return Math.random()*(e-t)+t}function S3(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:p=!1}=e,{cone:h=!1}=e,{noGravity:_=!1}=e,{xSpread:k=.15}=e,{destroyOnComplete:v=!0}=e,{disableForReducedMotion:S=!1}=e,L=!1;Zo(()=>{!v||a||d=="infinite"||setTimeout(()=>n(14,L=!0),(l+s[1])*d)});function j(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(pt(u[0],u[1]))}, 75%, 50%)`}return t.$$set=F=>{"size"in F&&n(0,o=F.size),"x"in F&&n(1,i=F.x),"y"in F&&n(2,r=F.y),"duration"in F&&n(3,l=F.duration),"infinite"in F&&n(4,a=F.infinite),"delay"in F&&n(5,s=F.delay),"colorRange"in F&&n(16,u=F.colorRange),"colorArray"in F&&n(17,f=F.colorArray),"amount"in F&&n(6,c=F.amount),"iterationCount"in F&&n(7,d=F.iterationCount),"fallDistance"in F&&n(8,m=F.fallDistance),"rounded"in F&&n(9,p=F.rounded),"cone"in F&&n(10,h=F.cone),"noGravity"in F&&n(11,_=F.noGravity),"xSpread"in F&&n(12,k=F.xSpread),"destroyOnComplete"in F&&n(18,v=F.destroyOnComplete),"disableForReducedMotion"in F&&n(13,S=F.disableForReducedMotion)},[o,i,r,l,a,s,c,d,m,p,h,_,k,S,L,j,u,f,v]}class pn extends he{constructor(e){super(),pe(this,e,S3,C3,me,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function fu(t){let e,n,o,i,r,l,a,s;return e=new pn({props:{cone:!0,x:[-.5,.5]}}),o=new pn({props:{cone:!0,amount:10,x:[-1,-.4],y:[.25,.75],rounded:!0,size:15}}),r=new pn({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new pn({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment),i=H(),Y(r.$$.fragment),l=H(),Y(a.$$.fragment)},m(u,f){V(e,u,f),O(u,n,f),V(o,u,f),O(u,i,f),V(r,u,f),O(u,l,f),V(a,u,f),s=!0},i(u){s||(w(e.$$.fragment,u),w(o.$$.fragment,u),w(r.$$.fragment,u),w(a.$$.fragment,u),s=!0)},o(u){T(e.$$.fragment,u),T(o.$$.fragment,u),T(r.$$.fragment,u),T(a.$$.fragment,u),s=!1},d(u){u&&(M(n),M(i),M(l)),x(e,u),x(o,u),x(r,u),x(a,u)}}}function T3(t){let e,n,o,i,r,l=Dt(t[1].goldReward,!1)+"",a,s,u,f=t[1].message+"",c,d,m,p=t[3]&&t[2].currentTutorialStep==t[0]&&fu();return{c(){e=P("div"),p&&p.c(),n=H(),o=P("span"),i=P("span"),r=W("💰"),a=W(l),s=H(),u=P("span"),c=W(f),E(i,"class","text-[10px] opacity-100 font-mono"),E(o,"class","flex flex-col text-start"),E(e,"class",d="text-sm flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(t[2].currentTutorialStep==t[0]?"opacity-100":t[1].isComplete(t[2])?"opacity-100 text-green-600":"opacity-50"))},m(h,_){O(h,e,_),p&&p.m(e,null),y(e,n),y(e,o),y(o,i),y(i,r),y(i,a),y(o,s),y(o,u),y(u,c),m=!0},p(h,[_]){h[3]&&h[2].currentTutorialStep==h[0]?p?_&13&&w(p,1):(p=fu(),p.c(),w(p,1),p.m(e,n)):p&&(Me(),T(p,1,1,()=>{p=null}),Oe()),(!m||_&2)&&l!==(l=Dt(h[1].goldReward,!1)+"")&&fe(a,l),(!m||_&2)&&f!==(f=h[1].message+"")&&fe(c,f),(!m||_&7&&d!==(d="text-sm flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(h[2].currentTutorialStep==h[0]?"opacity-100":h[1].isComplete(h[2])?"opacity-100 text-green-600":"opacity-50")))&&E(e,"class",d)},i(h){m||(w(p),m=!0)},o(h){T(p),m=!1},d(h){h&&M(e),p&&p.d()}}}function A3(t,e,n){let o,i;ue(t,Ne,a=>n(2,o=a)),ue(t,Ho,a=>n(3,i=a));let{index:r}=e,{step:l}=e;return t.$$set=a=>{"index"in a&&n(0,r=a.index),"step"in a&&n(1,l=a.step)},[r,l,o,i]}class rd extends he{constructor(e){super(),pe(this,e,A3,T3,me,{index:0,step:1})}}function cu(t,e,n){const o=t.slice();return o[16]=e[n],o[18]=n,o}function du(t,e,n){const o=t.slice();return o[19]=e[n].icon,o[20]=e[n].name,o[21]=e[n].value,o[22]=e[n].rate,o}function mu(t,e,n){const o=t.slice();return o[25]=e[n],o}function pu(t,e,n){const o=t.slice();return o[20]=e[n].name,o[21]=e[n].value,o[28]=e[n].modifier,o[29]=e[n].color,o[30]=e[n].hover,o[31]=e[n].description,o[32]=e[n].max,o}function I3(t){let e,n=t[20]+"",o,i,r,l;return r=new k3({props:{value:t[21],max:t[32]??300,class:"min-w-[80px] max-w-[80px] ",color:t[29],text:`${ot(t[21],0)} / ${ot(t[32],0)}`}}),{c(){e=P("span"),o=W(n),i=H(),Y(r.$$.fragment),E(e,"class","text-md pr-2")},m(a,s){O(a,e,s),y(e,o),O(a,i,s),V(r,a,s),l=!0},p(a,s){(!l||s[0]&64)&&n!==(n=a[20]+"")&&fe(o,n);const u={};s[0]&64&&(u.value=a[21]),s[0]&64&&(u.max=a[32]??300),s[0]&64&&(u.color=a[29]),s[0]&64&&(u.text=`${ot(a[21],0)} / ${ot(a[32],0)}`),r.$set(u)},i(a){l||(w(r.$$.fragment,a),l=!0)},o(a){T(r.$$.fragment,a),l=!1},d(a){a&&(M(e),M(i)),x(r,a)}}}function hu(t){let e,n;return e=new ko({props:{class:"rounded-2xl text-white "+(t[29]??t[10](t[21])),$$slots:{default:[M3]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i[0]&64&&(r.class="rounded-2xl text-white "+(o[29]??o[10](o[21]))),i[0]&64|i[1]&16&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function M3(t){let e,n,o=t[20]+"",i,r,l=Dt(t[21],!1)+"",a,s,u=t[32]?`out of ${t[32]}`:"",f,c,d,m,p,h=t[31]+"",_;return d=new vt({props:{class:"mb-2 mt-1"}}),{c(){e=P("div"),n=P("span"),i=W(o),r=W(": "),a=W(l),s=H(),f=W(u),c=H(),Y(d.$$.fragment),m=H(),p=P("span"),E(n,"class","text-md"),E(e,"class","flex flex-col justify-between max-w-48")},m(k,v){O(k,e,v),y(e,n),y(n,i),y(n,r),y(n,a),y(n,s),y(n,f),y(e,c),V(d,e,null),y(e,m),y(e,p),p.innerHTML=h,_=!0},p(k,v){(!_||v[0]&64)&&o!==(o=k[20]+"")&&fe(i,o),(!_||v[0]&64)&&l!==(l=Dt(k[21],!1)+"")&&fe(a,l),(!_||v[0]&64)&&u!==(u=k[32]?`out of ${k[32]}`:"")&&fe(f,u),(!_||v[0]&64)&&h!==(h=k[31]+"")&&(p.innerHTML=h)},i(k){_||(w(d.$$.fragment,k),_=!0)},o(k){T(d.$$.fragment,k),_=!1},d(k){k&&M(e),x(d)}}}function O3(t){let e,n,o,i;e=new So({props:{class:"w-full flex flex-row align-middle justify-between text-sm filter hover:brightness-110",$$slots:{default:[I3]},$$scope:{ctx:t}}});let r=t[30]&&hu(t);return{c(){Y(e.$$.fragment),n=H(),r&&r.c(),o=Re()},m(l,a){V(e,l,a),O(l,n,a),r&&r.m(l,a),O(l,o,a),i=!0},p(l,a){const s={};a[0]&64|a[1]&16&&(s.$$scope={dirty:a,ctx:l}),e.$set(s),l[30]?r?(r.p(l,a),a[0]&64&&w(r,1)):(r=hu(l),r.c(),w(r,1),r.m(o.parentNode,o)):r&&(Me(),T(r,1,1,()=>{r=null}),Oe())},i(l){i||(w(e.$$.fragment,l),w(r),i=!0)},o(l){T(e.$$.fragment,l),T(r),i=!1},d(l){l&&(M(n),M(o)),x(e,l),r&&r.d(l)}}}function _u(t){let e,n,o,i;return n=new Co({props:{openDelay:400,closeDelay:0,$$slots:{default:[O3]},$$scope:{ctx:t}}}),{c(){e=P("div"),Y(n.$$.fragment),o=H(),E(e,"class","flex flex-col gap-1")},m(r,l){O(r,e,l),V(n,e,null),y(e,o),i=!0},p(r,l){const a={};l[0]&64|l[1]&16&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(w(n.$$.fragment,r),i=!0)},o(r){T(n.$$.fragment,r),i=!1},d(r){r&&M(e),x(n)}}}function P3(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,h,_,k,v,S,L,j,F=t[1].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"",$;return{c(){e=P("div"),n=W(`ℹ️ Resources are generated from plots. Generation rate can be
            increased by raising the productivity of the town, at the cost of
            some happiness.
            `),o=P("br"),i=H(),r=P("br"),l=W(`
            There is also a slight bit of randomness as townspeople aren't robots.
            `),a=P("br"),s=H(),u=P("br"),f=H(),c=P("span"),c.textContent="Stockpile plots",d=W(` increase the maximum
            amount of resources you can store.
            `),m=P("br"),p=H(),h=P("br"),_=W(`
            If the cap is 500, then you can store 500 of each resource before the
            cap is reached.
            `),k=P("br"),v=W(`
            Capacity is increased by 2,000 per Stockpile plot.
            `),S=P("br"),L=H(),j=P("span"),$=W(F),E(c,"class","font-bold"),E(j,"class","text-red-800 font-bold"),E(e,"class","text-sm")},m(I,N){O(I,e,N),y(e,n),y(e,o),y(e,i),y(e,r),y(e,l),y(e,a),y(e,s),y(e,u),y(e,f),y(e,c),y(e,d),y(e,m),y(e,p),y(e,h),y(e,_),y(e,k),y(e,v),y(e,S),y(e,L),y(e,j),y(j,$)},p(I,N){N[0]&2&&F!==(F=I[1].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"")&&fe($,F)},d(I){I&&M(e)}}}function N3(t){let e,n,o,i=t[1].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${Dt(t[1].resource_capacity,!1)}`,r,l,a,s,u;return s=new ko({props:{class:"text-sm max-h-[200px] overflow-y-scroll",$$slots:{default:[P3]},$$scope:{ctx:t}}}),{c(){e=P("h1"),n=W(`Resources

          `),o=P("div"),r=W(i),a=H(),Y(s.$$.fragment),E(o,"class",l="text-xs w-full text-center mb-2 cursor-pointer "+(t[2]==!0?"text-textDanger animate-[wiggle_0.5s_ease-in-out_infinite] font-bold":"")+" "+(t[1].gameSettings.includes("bagOfHolding")?"opacity-30":"")),E(e,"class","text-lg w-full text-center pb-2")},m(f,c){O(f,e,c),y(e,n),y(e,o),y(o,r),O(f,a,c),V(s,f,c),u=!0},p(f,c){(!u||c[0]&2)&&i!==(i=f[1].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${Dt(f[1].resource_capacity,!1)}`)&&fe(r,i),(!u||c[0]&6&&l!==(l="text-xs w-full text-center mb-2 cursor-pointer "+(f[2]==!0?"text-textDanger animate-[wiggle_0.5s_ease-in-out_infinite] font-bold":"")+" "+(f[1].gameSettings.includes("bagOfHolding")?"opacity-30":"")))&&E(o,"class",l);const d={};c[0]&2|c[1]&16&&(d.$$scope={dirty:c,ctx:f}),s.$set(d)},i(f){u||(w(s.$$.fragment,f),u=!0)},o(f){T(s.$$.fragment,f),u=!1},d(f){f&&(M(e),M(a)),x(s,f)}}}function E3(t){let e,n;return e=new So({props:{$$slots:{default:[N3]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&16&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function $3(t){let e,n,o=t[22]+"",i;return{c(){e=P("span"),n=W("+"),i=W(o),E(e,"class","")},m(r,l){O(r,e,l),y(e,n),y(e,i)},p(r,l){l[0]&32&&o!==(o=r[22]+"")&&fe(i,o)},d(r){r&&M(e)}}}function R3(t){let e;return{c(){e=P("span")},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function L3(t){let e,n=t[22]+"",o;return{c(){e=P("span"),o=W(n),E(e,"class","text-textDanger")},m(i,r){O(i,e,r),y(e,o)},p(i,r){r[0]&32&&n!==(n=i[22]+"")&&fe(o,n)},d(i){i&&M(e)}}}function D3(t){let e,n,o=t[22]+"",i;return{c(){e=P("span"),n=W("+"),i=W(o),E(e,"class","text-textHappy")},m(r,l){O(r,e,l),y(e,n),y(e,i)},p(r,l){l[0]&32&&o!==(o=r[22]+"")&&fe(i,o)},d(r){r&&M(e)}}}function j3(t){let e;return{c(){e=P("span"),e.textContent="⚠️ CAP",E(e,"class","text-textDanger")},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function F3(t){let e;return{c(){e=P("span"),E(e,"class","display-none")},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function q3(t){let e,n,o=t[22]+"",i,r;return{c(){e=P("span"),n=W("+"),i=W(o),r=W(" (weekly)"),E(e,"class","text-gray-600")},m(l,a){O(l,e,a),y(e,n),y(e,i),y(e,r)},p(l,a){a[0]&32&&o!==(o=l[22]+"")&&fe(i,o)},d(l){l&&M(e)}}}function B3(t){let e,n=t[22]+"",o,i;return{c(){e=P("span"),o=W(n),i=W(" (weekly)"),E(e,"class","text-textDanger")},m(r,l){O(r,e,l),y(e,o),y(e,i)},p(r,l){l[0]&32&&n!==(n=r[22]+"")&&fe(o,n)},d(r){r&&M(e)}}}function H3(t){let e,n,o=t[22]+"",i,r;return{c(){e=P("span"),n=W("+"),i=W(o),r=W(" (weekly)"),E(e,"class","text-textHappy")},m(l,a){O(l,e,a),y(e,n),y(e,i),y(e,r)},p(l,a){a[0]&32&&o!==(o=l[22]+"")&&fe(i,o)},d(l){l&&M(e)}}}function gu(t){let e,n,o,i,r,l;e=new vt({props:{class:"bg-gray-400"}});let a=Ye(t[9](t[20])),s=[];for(let u=0;u<a.length;u+=1)s[u]=bu(mu(t,a,u));return{c(){Y(e.$$.fragment),n=H(),o=P("span"),o.textContent="Required for",i=H(),r=P("div");for(let u=0;u<s.length;u+=1)s[u].c();E(o,"class","text-sm font-semibold"),E(r,"class","grid grid-cols-3 justify-between")},m(u,f){V(e,u,f),O(u,n,f),O(u,o,f),O(u,i,f),O(u,r,f);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(r,null);l=!0},p(u,f){if(f[0]&544){a=Ye(u[9](u[20]));let c;for(c=0;c<a.length;c+=1){const d=mu(u,a,c);s[c]?s[c].p(d,f):(s[c]=bu(d),s[c].c(),s[c].m(r,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(w(e.$$.fragment,u),l=!0)},o(u){T(e.$$.fragment,u),l=!1},d(u){u&&(M(n),M(o),M(i),M(r)),x(e,u),st(s,u)}}}function bu(t){let e,n=t[25]+"",o;return{c(){e=P("span"),o=W(n),E(e,"class","text-xs pr-3")},m(i,r){O(i,e,r),y(e,o)},p(i,r){r[0]&32&&n!==(n=i[25]+"")&&fe(o,n)},d(i){i&&M(e)}}}function G3(t){let e,n,o,i=t[19]+"",r,l,a=oo(t[20])+"",s,u,f,c=t[9](t[20]).length>0,d;function m(k,v){return k[22]>0?H3:k[22]<0?B3:k[22]!=null?q3:F3}let p=m(t),h=p(t),_=c&&gu(t);return{c(){e=P("div"),n=P("div"),o=P("span"),r=W(i),l=H(),s=W(a),u=H(),h.c(),f=H(),_&&_.c(),E(o,"class","text-md font-bold"),E(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit rounded-lg text-black")},m(k,v){O(k,e,v),y(e,n),y(n,o),y(o,r),y(o,l),y(o,s),y(n,u),h.m(n,null),y(e,f),_&&_.m(e,null),d=!0},p(k,v){(!d||v[0]&32)&&i!==(i=k[19]+"")&&fe(r,i),(!d||v[0]&32)&&a!==(a=oo(k[20])+"")&&fe(s,a),p===(p=m(k))&&h?h.p(k,v):(h.d(1),h=p(k),h&&(h.c(),h.m(n,null))),v[0]&32&&(c=k[9](k[20]).length>0),c?_?(_.p(k,v),v[0]&32&&w(_,1)):(_=gu(k),_.c(),w(_,1),_.m(e,null)):_&&(Me(),T(_,1,1,()=>{_=null}),Oe())},i(k){d||(w(_),d=!0)},o(k){T(_),d=!1},d(k){k&&M(e),h.d(),_&&_.d()}}}function W3(t){let e,n=t[19]+"",o,i,r=Dt(parseInt(t[21]),!1)+"",l,a,s,u,f,c;function d(h,_){return h[21]>=h[1].resource_capacity&&h[20]!="gold"?j3:h[22]>0?D3:h[22]<0?L3:h[22]==null?R3:$3}let m=d(t),p=m(t);return f=new ko({props:{$$slots:{default:[G3]},$$scope:{ctx:t}}}),{c(){e=P("span"),o=W(n),i=H(),l=W(r),a=H(),p.c(),u=H(),Y(f.$$.fragment),E(e,"class",s="flex flex-row justify-between text-sm "+(t[21]<=0?"text-textDanger font-semibold":""))},m(h,_){O(h,e,_),y(e,o),y(e,i),y(e,l),y(e,a),p.m(e,null),O(h,u,_),V(f,h,_),c=!0},p(h,_){(!c||_[0]&32)&&n!==(n=h[19]+"")&&fe(o,n),(!c||_[0]&32)&&r!==(r=Dt(parseInt(h[21]),!1)+"")&&fe(l,r),m===(m=d(h))&&p?p.p(h,_):(p.d(1),p=m(h),p&&(p.c(),p.m(e,null))),(!c||_[0]&32&&s!==(s="flex flex-row justify-between text-sm "+(h[21]<=0?"text-textDanger font-semibold":"")))&&E(e,"class",s);const k={};_[0]&32|_[1]&16&&(k.$$scope={dirty:_,ctx:h}),f.$set(k)},i(h){c||(w(f.$$.fragment,h),c=!0)},o(h){T(f.$$.fragment,h),c=!1},d(h){h&&(M(e),M(u)),p.d(),x(f,h)}}}function V3(t){let e,n,o;return e=new So({props:{$$slots:{default:[W3]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=H()},m(i,r){V(e,i,r),O(i,n,r),o=!0},p(i,r){const l={};r[0]&34|r[1]&16&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(w(e.$$.fragment,i),o=!0)},o(i){T(e.$$.fragment,i),o=!1},d(i){i&&M(n),x(e,i)}}}function yu(t){let e,n;return e=new Co({props:{openDelay:400,closeDelay:0,$$slots:{default:[V3]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i[0]&34|i[1]&16&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function vu(t){let e,n,o,i,r,l,a,s;return e=new pn({props:{cone:!0,x:[-.5,.5]}}),o=new pn({props:{cone:!0,amount:50,x:[-1,-.4],y:[.25,.75],rounded:!0,size:15}}),r=new pn({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new pn({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment),i=H(),Y(r.$$.fragment),l=H(),Y(a.$$.fragment)},m(u,f){V(e,u,f),O(u,n,f),V(o,u,f),O(u,i,f),V(r,u,f),O(u,l,f),V(a,u,f),s=!0},i(u){s||(w(e.$$.fragment,u),w(o.$$.fragment,u),w(r.$$.fragment,u),w(a.$$.fragment,u),s=!0)},o(u){T(e.$$.fragment,u),T(o.$$.fragment,u),T(r.$$.fragment,u),T(a.$$.fragment,u),s=!1},d(u){u&&(M(n),M(i),M(l)),x(e,u),x(o,u),x(r,u),x(a,u)}}}function wu(t){let e,n=t[3]?`Hide ${t[4]} completed`:`Show ${t[4]} completed`,o;return{c(){e=P("span"),o=W(n),E(e,"class","text-xs opacity-65 cursor-pointer pb-2")},m(i,r){O(i,e,r),y(e,o)},p(i,r){r[0]&24&&n!==(n=i[3]?`Hide ${i[4]} completed`:`Show ${i[4]} completed`)&&fe(o,n)},d(i){i&&M(e)}}}function x3(t){let e,n;return e=new rd({props:{index:t[18],step:t[16]}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Y3(t){let e,n;return e=new rd({props:{index:t[18],step:t[16]}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function ku(t){let e,n,o,i,r;const l=[Y3,x3],a=[];function s(u,f){return f[0]&2&&(e=null),u[3]||u[18]==u[1].currentTutorialStep?0:(e==null&&(e=!u[16].isComplete(u[1])),e?1:-1)}return~(n=s(t,[-1,-1]))&&(o=a[n]=l[n](t)),{c(){o&&o.c(),i=Re()},m(u,f){~n&&a[n].m(u,f),O(u,i,f),r=!0},p(u,f){let c=n;n=s(u,f),n!==c&&(o&&(Me(),T(a[c],1,1,()=>{a[c]=null}),Oe()),~n?(o=a[n],o||(o=a[n]=l[n](u),o.c()),w(o,1),o.m(i.parentNode,i)):o=null)},i(u){r||(w(o),r=!0)},o(u){T(o),r=!1},d(u){u&&M(i),~n&&a[n].d(u)}}}function U3(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,h,_,k,v,S,L,j,F,$,I,N,q=Ye(t[6]),A=[];for(let K=0;K<q.length;K+=1)A[K]=_u(pu(t,q,K));const b=K=>T(A[K],1,1,()=>{A[K]=null});s=new Co({props:{openDelay:400,closeDelay:0,$$slots:{default:[E3]},$$scope:{ctx:t}}});let C=Ye(t[5]),R=[];for(let K=0;K<C.length;K+=1)R[K]=yu(du(t,C,K));const B=K=>T(R[K],1,1,()=>{R[K]=null});let D=t[8]&&vu(),U=t[1].currentTutorialStep>0&&wu(t),X=Ye(eo),z=[];for(let K=0;K<X.length;K+=1)z[K]=ku(cu(t,X,K));const oe=K=>T(z[K],1,1,()=>{z[K]=null});return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("h1"),i.textContent="Stats",r=H();for(let K=0;K<A.length;K+=1)A[K].c();l=H(),a=P("div"),Y(s.$$.fragment),u=H(),f=P("div"),c=H(),d=P("div"),m=P("div");for(let K=0;K<R.length;K+=1)R[K].c();p=H(),h=P("div"),_=P("div"),D&&D.c(),k=H(),v=P("h1"),v.textContent="Milestones",S=H(),U&&U.c(),L=H(),j=P("div");for(let K=0;K<z.length;K+=1)z[K].c();E(i,"class","text-lg w-full text-center pb-1"),E(o,"class","flex flex-col rounded-xl gap-2 w-full"),E(n,"class","flex flex-row w-full pb-6"),E(a,"class","flex flex-row justify-center"),E(f,"class","w-[full] flex flex-row justify-center"),E(m,"class","flex flex-col text-md text-nowrap gap-2"),E(v,"class","text-lg w-full text-center"),E(_,"class","text-lg w-full text-center noselect flex flex-col no-select"),E(j,"class","scroll overflow-y-scroll"),E(d,"class","flex flex-col gap-4 h-full"),E(e,"class",F="bg-sidebarBackground w-[220px] text-sidebarText border-foreground border-4 "+(t[7].visible&&!t[0]?"opacity-0":"")+" z-10 rounded-xl px-2 pt-2 transition-all ease-in-out duration-150 overflow-y-scroll scroll "+(t[0]?"bottom-4 pb-48 fixed right-3 h-2/3":"fixed right-3 top-16 sidebar bottom-4"))},m(K,ee){O(K,e,ee),y(e,n),y(n,o),y(o,i),y(o,r);for(let _e=0;_e<A.length;_e+=1)A[_e]&&A[_e].m(o,null);y(e,l),y(e,a),V(s,a,null),y(e,u),y(e,f),y(e,c),y(e,d),y(d,m);for(let _e=0;_e<R.length;_e+=1)R[_e]&&R[_e].m(m,null);y(d,p),y(d,h),y(h,_),D&&D.m(_,null),y(_,k),y(_,v),y(_,S),U&&U.m(_,null),y(h,L),y(h,j);for(let _e=0;_e<z.length;_e+=1)z[_e]&&z[_e].m(j,null);$=!0,I||(N=te(_,"click",t[13]),I=!0)},p(K,ee){if(ee[0]&1088){q=Ye(K[6]);let ae;for(ae=0;ae<q.length;ae+=1){const re=pu(K,q,ae);A[ae]?(A[ae].p(re,ee),w(A[ae],1)):(A[ae]=_u(re),A[ae].c(),w(A[ae],1),A[ae].m(o,null))}for(Me(),ae=q.length;ae<A.length;ae+=1)b(ae);Oe()}const _e={};if(ee[0]&6|ee[1]&16&&(_e.$$scope={dirty:ee,ctx:K}),s.$set(_e),ee[0]&546){C=Ye(K[5]);let ae;for(ae=0;ae<C.length;ae+=1){const re=du(K,C,ae);R[ae]?(R[ae].p(re,ee),w(R[ae],1)):(R[ae]=yu(re),R[ae].c(),w(R[ae],1),R[ae].m(m,null))}for(Me(),ae=C.length;ae<R.length;ae+=1)B(ae);Oe()}if(K[8]?D?ee[0]&256&&w(D,1):(D=vu(),D.c(),w(D,1),D.m(_,k)):D&&(Me(),T(D,1,1,()=>{D=null}),Oe()),K[1].currentTutorialStep>0?U?U.p(K,ee):(U=wu(K),U.c(),U.m(_,null)):U&&(U.d(1),U=null),ee[0]&10){X=Ye(eo);let ae;for(ae=0;ae<X.length;ae+=1){const re=cu(K,X,ae);z[ae]?(z[ae].p(re,ee),w(z[ae],1)):(z[ae]=ku(re),z[ae].c(),w(z[ae],1),z[ae].m(j,null))}for(Me(),ae=X.length;ae<z.length;ae+=1)oe(ae);Oe()}(!$||ee[0]&129&&F!==(F="bg-sidebarBackground w-[220px] text-sidebarText border-foreground border-4 "+(K[7].visible&&!K[0]?"opacity-0":"")+" z-10 rounded-xl px-2 pt-2 transition-all ease-in-out duration-150 overflow-y-scroll scroll "+(K[0]?"bottom-4 pb-48 fixed right-3 h-2/3":"fixed right-3 top-16 sidebar bottom-4")))&&E(e,"class",F)},i(K){if(!$){for(let ee=0;ee<q.length;ee+=1)w(A[ee]);w(s.$$.fragment,K);for(let ee=0;ee<C.length;ee+=1)w(R[ee]);w(D);for(let ee=0;ee<X.length;ee+=1)w(z[ee]);$=!0}},o(K){A=A.filter(Boolean);for(let ee=0;ee<A.length;ee+=1)T(A[ee]);T(s.$$.fragment,K),R=R.filter(Boolean);for(let ee=0;ee<R.length;ee+=1)T(R[ee]);T(D),z=z.filter(Boolean);for(let ee=0;ee<z.length;ee+=1)T(z[ee]);$=!1},d(K){K&&M(e),st(A,K),x(s),st(R,K),D&&D.d(),U&&U.d(),st(z,K),I=!1,N()}}}function K3(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function Cu(t){let e=0;for(let n=0;n<t.plots.length;n++)for(let o=0;o<t.plots[n].length;o++)t.plots[n][o].active==!0&&t.plots[n][o].type>-1&&e++;return e}function X3(){const t=new Audio("/alert.mp3");t.volume=.5,t.play().catch(e=>console.log("Error playing sound:",e))}function J3(t,e,n){let o,i,r;ue(t,Ne,S=>n(1,o=S)),ue(t,Ze,S=>n(7,i=S)),ue(t,Ho,S=>n(8,r=S));let l=!1,a=!1,s=0,u=0,f=!1,{mini:c=!1}=e,d=[];Be("city_hall",o).length>0&&d.push({icon:"🧑‍⚖️",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy});function m(S){let L=[];for(let j=0;j<le.length;j++)(S!="knowledge"&&le[j].requirements.resources[S]>0||S=="power"&&le[j].active_costs.power>0||S=="knowledge"&&le[j].requirements.knowledge>0)&&L.push(le[j].title);return L}function p(S){return K3(S)?m(S):[]}let h;const _=S=>S===1?"bg-green-500":S>.9?"bg-yellow-500":"bg-red-500",k=S=>S>149?"bg-green-500":S>99?"bg-yellow-500":"bg-red-500",v=()=>{n(3,a=!a)};return t.$$set=S=>{"mini"in S&&n(0,c=S.mini)},t.$$.update=()=>{if(t.$$.dirty[0]&2&&n(4,s=eo.filter(S=>S.isComplete(o)).length),t.$$.dirty[0]&2&&n(5,d=[{icon:"💰",name:"gold",value:o.townInfo.gold,rate:o.economyAndLaws.weeklyProfit},{icon:"🥕",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"🪵",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"🪨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"🧠",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"🧲",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"🔋",name:"power",value:o.resources.power,rate:null}]),t.$$.dirty[0]&2&&n(6,h=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:o.townInfo.happiness,modifier:o.modifiers.happiness,color:k(o.townInfo.happiness),hover:!0,max:300},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:o.townInfo.health,modifier:o.modifiers.health,color:k(o.townInfo.health),hover:!0,max:300},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:o.townInfo.community,modifier:o.modifiers.community,color:k(o.townInfo.community),hover:!0,max:300},{name:"Employment",description:"The number of people employed in your town. Unemployed people are more likely to leave.",value:o.townInfo.employees,modifier:null,color:_(o.townInfo.employees/o.townInfo.population_count),hover:!0,max:o.townInfo.population_count},{name:"🛝 Recreation",description:"Tracker for how many plots you have for recreation, which keeps townspeople happy. <br/><br/>Make sure as your town grows that you build enough 🛝 plots. ",value:o.townInfo.recreation,modifier:null,color:o.townInfo.recreation/Cu(o)>=.2?"bg-green-500":"bg-orange-300",hover:!0,max:Cu(o)}]),t.$$.dirty[0]&6147){const S=o.resources.food>=o.resource_capacity||o.resources.wood>=o.resource_capacity||o.resources.stone>=o.resource_capacity||o.resources.metal>=o.resource_capacity,L=Date.now();S&&!f&&L-u>3e4&&!c&&!o.gameSettings.includes("bagOfHolding")&&localStorage.getItem(Tt)==null&&(X3(),n(11,u=L)),n(12,f=S),n(2,l=S)}},[c,o,l,a,s,d,h,i,r,p,k,u,f,v]}class ld extends he{constructor(e){super(),pe(this,e,J3,U3,me,{mini:0},null,[-1,-1])}}function Su(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Tu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Au(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Iu(t){let e,n,o,i=le[Se(t[0].id)].title+"",r,l,a,s=le[Se(t[0].id)].description+"",u,f,c,d,m,p,h,_,k,v=t[3]("💰",le[Se(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",S,L,j=t[3]("🥕",le[Se(t[0].id)].requirements.resources.food,t[2].resources.food)+"",F,$,I=t[3]("🧠",le[Se(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",N,q,A=t[3]("🪵",le[Se(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",b,C,R=t[3]("🪨",le[Se(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",B,D,U=t[3]("🧲",le[Se(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",X,z,oe=t[3]("🔋",le[Se(t[0].id)].active_costs.power,t[2].resources.power)+"",K,ee,_e=t[3]("🧑‍⚖️",le[Se(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",ae,re=le[Se(t[0].id)].requirements.employees!=0,Le,Fe=le[Se(t[0].id)].revenue_per_week!=0,g,Z=Object.values(le[Se(t[0].id)].active_costs).some(Hu),J,ne=Object.values(le[Se(t[0].id)].requirements.plots).length>0,ie,ke=Object.values(le[Se(t[0].id)].generated_resources).some(Bu)||le[Se(t[0].id)].knowledge_points_per_month>0,Pe;d=new vt({props:{class:"bg-accent opacity-25 mt-1 mb-1"}});let je=re&&Mu(t),xe=Fe&&Ou(t),De=Z&&Pu(t),Ke=ne&&$u(t),Xe=ke&&Du(t);return{c(){e=P("div"),n=P("div"),o=P("span"),r=W(i),l=H(),a=P("span"),u=W(s),f=H(),c=P("div"),Y(d.$$.fragment),m=H(),p=P("span"),p.textContent="Requirements",h=H(),_=P("div"),k=new Zt(!1),S=H(),L=new Zt(!1),F=H(),$=new Zt(!1),N=H(),q=new Zt(!1),b=H(),C=new Zt(!1),B=H(),D=new Zt(!1),X=H(),z=new Zt(!1),K=H(),ee=new Zt(!1),ae=H(),je&&je.c(),Le=H(),xe&&xe.c(),g=H(),De&&De.c(),J=H(),Ke&&Ke.c(),ie=H(),Xe&&Xe.c(),E(o,"class","text-md"),E(a,"class","text-xs"),E(n,"class","flex flex-col gap-2"),E(p,"class","font-semibold"),k.a=S,L.a=F,$.a=N,q.a=b,C.a=B,D.a=X,z.a=K,ee.a=ae,E(_,"class","flex flex-row gap-1 flex-wrap"),E(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),E(e,"class","p-2 max-w-64")},m(we,qe){O(we,e,qe),y(e,n),y(n,o),y(o,r),y(n,l),y(n,a),y(a,u),y(e,f),y(e,c),V(d,c,null),y(c,m),y(c,p),y(c,h),y(c,_),k.m(v,_),y(_,S),L.m(j,_),y(_,F),$.m(I,_),y(_,N),q.m(A,_),y(_,b),C.m(R,_),y(_,B),D.m(U,_),y(_,X),z.m(oe,_),y(_,K),ee.m(_e,_),y(_,ae),je&&je.m(_,null),y(e,Le),xe&&xe.m(e,null),y(e,g),De&&De.m(e,null),y(e,J),Ke&&Ke.m(e,null),y(e,ie),Xe&&Xe.m(e,null),Pe=!0},p(we,qe){(!Pe||qe&1)&&i!==(i=le[Se(we[0].id)].title+"")&&fe(r,i),(!Pe||qe&1)&&s!==(s=le[Se(we[0].id)].description+"")&&fe(u,s),(!Pe||qe&5)&&v!==(v=we[3]("💰",le[Se(we[0].id)].requirements.gold,we[2].townInfo.gold)+"")&&k.p(v),(!Pe||qe&5)&&j!==(j=we[3]("🥕",le[Se(we[0].id)].requirements.resources.food,we[2].resources.food)+"")&&L.p(j),(!Pe||qe&5)&&I!==(I=we[3]("🧠",le[Se(we[0].id)].requirements.knowledge,we[2].townInfo.knowledge_points)+"")&&$.p(I),(!Pe||qe&5)&&A!==(A=we[3]("🪵",le[Se(we[0].id)].requirements.resources.wood,we[2].resources.wood)+"")&&q.p(A),(!Pe||qe&5)&&R!==(R=we[3]("🪨",le[Se(we[0].id)].requirements.resources.stone,we[2].resources.stone)+"")&&C.p(R),(!Pe||qe&5)&&U!==(U=we[3]("🧲",le[Se(we[0].id)].requirements.resources.metal,we[2].resources.metal)+"")&&D.p(U),(!Pe||qe&5)&&oe!==(oe=we[3]("🔋",le[Se(we[0].id)].active_costs.power,we[2].resources.power)+"")&&z.p(oe),(!Pe||qe&5)&&_e!==(_e=we[3]("🧑‍⚖️",le[Se(we[0].id)].requirements.resources.bureaucracy,we[2].resources.bureaucracy)+"")&&ee.p(_e),qe&1&&(re=le[Se(we[0].id)].requirements.employees!=0),re?je?je.p(we,qe):(je=Mu(we),je.c(),je.m(_,null)):je&&(je.d(1),je=null),qe&1&&(Fe=le[Se(we[0].id)].revenue_per_week!=0),Fe?xe?(xe.p(we,qe),qe&1&&w(xe,1)):(xe=Ou(we),xe.c(),w(xe,1),xe.m(e,g)):xe&&(Me(),T(xe,1,1,()=>{xe=null}),Oe()),qe&1&&(Z=Object.values(le[Se(we[0].id)].active_costs).some(Hu)),Z?De?(De.p(we,qe),qe&1&&w(De,1)):(De=Pu(we),De.c(),w(De,1),De.m(e,J)):De&&(Me(),T(De,1,1,()=>{De=null}),Oe()),qe&1&&(ne=Object.values(le[Se(we[0].id)].requirements.plots).length>0),ne?Ke?(Ke.p(we,qe),qe&1&&w(Ke,1)):(Ke=$u(we),Ke.c(),w(Ke,1),Ke.m(e,ie)):Ke&&(Me(),T(Ke,1,1,()=>{Ke=null}),Oe()),qe&1&&(ke=Object.values(le[Se(we[0].id)].generated_resources).some(Bu)||le[Se(we[0].id)].knowledge_points_per_month>0),ke?Xe?(Xe.p(we,qe),qe&1&&w(Xe,1)):(Xe=Du(we),Xe.c(),w(Xe,1),Xe.m(e,null)):Xe&&(Me(),T(Xe,1,1,()=>{Xe=null}),Oe())},i(we){Pe||(w(d.$$.fragment,we),w(xe),w(De),w(Ke),w(Xe),Pe=!0)},o(we){T(d.$$.fragment,we),T(xe),T(De),T(Ke),T(Xe),Pe=!1},d(we){we&&M(e),x(d),je&&je.d(),xe&&xe.d(),De&&De.d(),Ke&&Ke.d(),Xe&&Xe.d()}}}function Mu(t){let e,n,o=le[Se(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=P("span"),n=W("👥 "),i=W(o),r=W(" employees"),E(e,"class",l=le[Se(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")},m(a,s){O(a,e,s),y(e,n),y(e,i),y(e,r)},p(a,s){s&1&&o!==(o=le[Se(a[0].id)].requirements.employees+"")&&fe(i,o),s&7&&l!==(l=le[Se(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")&&E(e,"class",l)},d(a){a&&M(e)}}}function Ou(t){let e,n,o,i,r,l,a,s=le[Se(t[0].id)].revenue_per_week+"",u,f;return n=new vt({props:{class:"bg-accent opacity-25 mt-0"}}),{c(){e=P("div"),Y(n.$$.fragment),o=H(),i=P("span"),i.textContent="Weekly revenue",r=H(),l=P("span"),a=W("💰 "),u=W(s),E(i,"class","font-semibold"),E(e,"class","flex flex-col gap-1 text-xs")},m(c,d){O(c,e,d),V(n,e,null),y(e,o),y(e,i),y(e,r),y(e,l),y(l,a),y(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=le[Se(c[0].id)].revenue_per_week+"")&&fe(u,s)},i(c){f||(w(n.$$.fragment,c),f=!0)},o(c){T(n.$$.fragment,c),f=!1},d(c){c&&M(e),x(n)}}}function Pu(t){let e,n,o,i,r,l;n=new vt({props:{class:"bg-accent opacity-25 mt-2"}});let a=Ye(Object.keys(le[Se(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Eu(Au(t,a,u));return{c(){e=P("div"),Y(n.$$.fragment),o=H(),i=P("span"),i.textContent="Weekly Costs",r=H();for(let u=0;u<s.length;u+=1)s[u].c();E(i,"class","font-semibold"),E(e,"class","flex flex-col gap-1 text-xs")},m(u,f){O(u,e,f),V(n,e,null),y(e,o),y(e,i),y(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ye(Object.keys(le[Se(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=Au(u,a,c);s[c]?s[c].p(d,f):(s[c]=Eu(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(w(n.$$.fragment,u),l=!0)},o(u){T(n.$$.fragment,u),l=!1},d(u){u&&M(e),x(n),st(s,u)}}}function Nu(t){let e,n=oo(t[4])+"",o,i,r=Ki(t[4])+"",l,a,s=-1*Object.values(le[Se(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=P("span"),o=W(n),i=H(),l=W(r),a=H(),u=W(s),f=H(),E(e,"class",c=Object.values(le[Se(t[0].id)].active_costs)[t[6]]>0?"text-textDanger":"text-textHappy")},m(d,m){O(d,e,m),y(e,o),y(e,i),y(e,l),y(e,a),y(e,u),y(e,f)},p(d,m){m&1&&n!==(n=oo(d[4])+"")&&fe(o,n),m&1&&r!==(r=Ki(d[4])+"")&&fe(l,r),m&1&&s!==(s=-1*Object.values(le[Se(d[0].id)].active_costs)[d[6]]+"")&&fe(u,s),m&1&&c!==(c=Object.values(le[Se(d[0].id)].active_costs)[d[6]]>0?"text-textDanger":"text-textHappy")&&E(e,"class",c)},d(d){d&&M(e)}}}function Eu(t){let e=Object.values(le[Se(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&Nu(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){r&1&&(e=Object.values(le[Se(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=Nu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&M(n),o&&o.d(i)}}}function $u(t){let e,n,o,i,r,l;n=new vt({props:{class:"bg-accent opacity-25 mt-2"}});let a=Ye(Object.keys(le[Se(t[0].id)].requirements.plots)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Lu(Tu(t,a,u));return{c(){e=P("div"),Y(n.$$.fragment),o=H(),i=P("span"),i.textContent="Required Plots",r=H();for(let u=0;u<s.length;u+=1)s[u].c();E(i,"class","font-semibold"),E(e,"class","flex flex-col gap-1 text-xs")},m(u,f){O(u,e,f),V(n,e,null),y(e,o),y(e,i),y(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&5){a=Ye(Object.keys(le[Se(u[0].id)].requirements.plots));let c;for(c=0;c<a.length;c+=1){const d=Tu(u,a,c);s[c]?s[c].p(d,f):(s[c]=Lu(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(w(n.$$.fragment,u),l=!0)},o(u){T(n.$$.fragment,u),l=!1},d(u){u&&M(e),x(n),st(s,u)}}}function Ru(t){var l;let e,n=((l=ql(Object.values(le[Se(t[0].id)].requirements.plots)[t[6]]))==null?void 0:l.title)+"",o,i,r;return{c(){e=P("span"),o=W(n),i=H(),E(e,"class",r=Be(Object.values(le[Se(t[0].id)].requirements.plots)[t[6]],t[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")},m(a,s){O(a,e,s),y(e,o),y(e,i)},p(a,s){var u;s&1&&n!==(n=((u=ql(Object.values(le[Se(a[0].id)].requirements.plots)[a[6]]))==null?void 0:u.title)+"")&&fe(o,n),s&5&&r!==(r=Be(Object.values(le[Se(a[0].id)].requirements.plots)[a[6]],a[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")&&E(e,"class",r)},d(a){a&&M(e)}}}function Lu(t){let e=Object.values(le[Se(t[0].id)].requirements.plots)[t[6]]!=0,n,o=e&&Ru(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){r&1&&(e=Object.values(le[Se(i[0].id)].requirements.plots)[i[6]]!=0),e?o?o.p(i,r):(o=Ru(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&M(n),o&&o.d(i)}}}function Du(t){let e,n,o,i,r,l=le[Se(t[0].id)].knowledge_points_per_month>0,a,s;n=new vt({props:{class:"bg-accent opacity-25 mt-2"}});let u=l&&ju(t),f=Ye(Object.keys(le[Se(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=qu(Su(t,f,d));return{c(){e=P("div"),Y(n.$$.fragment),o=H(),i=P("span"),i.textContent="Generated Resources",r=H(),u&&u.c(),a=H();for(let d=0;d<c.length;d+=1)c[d].c();E(i,"class","font-semibold"),E(e,"class","flex flex-col gap-1 text-xs")},m(d,m){O(d,e,m),V(n,e,null),y(e,o),y(e,i),y(e,r),u&&u.m(e,null),y(e,a);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(e,null);s=!0},p(d,m){if(m&1&&(l=le[Se(d[0].id)].knowledge_points_per_month>0),l?u?u.p(d,m):(u=ju(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),m&1){f=Ye(Object.keys(le[Se(d[0].id)].generated_resources));let p;for(p=0;p<f.length;p+=1){const h=Su(d,f,p);c[p]?c[p].p(h,m):(c[p]=qu(h),c[p].c(),c[p].m(e,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}},i(d){s||(w(n.$$.fragment,d),s=!0)},o(d){T(n.$$.fragment,d),s=!1},d(d){d&&M(e),x(n),u&&u.d(),st(c,d)}}}function ju(t){let e,n,o=Math.round(le[Se(t[0].id)].knowledge_points_per_month)+"",i,r;return{c(){e=P("span"),n=W("🧠 "),i=W(o),r=W(" (monthly)")},m(l,a){O(l,e,a),y(e,n),y(e,i),y(e,r)},p(l,a){a&1&&o!==(o=Math.round(le[Se(l[0].id)].knowledge_points_per_month)+"")&&fe(i,o)},d(l){l&&M(e)}}}function Fu(t){let e,n=Ki(t[4])+"",o,i,r=oo(t[4])+"",l,a,s=Bl(Object.values(le[Se(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=P("span"),o=W(n),i=H(),l=W(r),a=H(),u=W(s),f=H(),E(e,"class",c=Object.values(le[Se(t[0].id)].generated_resources)[t[6]]>0?"text-textHappy":"text-textDanger")},m(d,m){O(d,e,m),y(e,o),y(e,i),y(e,l),y(e,a),y(e,u),y(e,f)},p(d,m){m&1&&n!==(n=Ki(d[4])+"")&&fe(o,n),m&1&&r!==(r=oo(d[4])+"")&&fe(l,r),m&1&&s!==(s=Bl(Object.values(le[Se(d[0].id)].generated_resources)[d[6]],!1)+"")&&fe(u,s),m&1&&c!==(c=Object.values(le[Se(d[0].id)].generated_resources)[d[6]]>0?"text-textHappy":"text-textDanger")&&E(e,"class",c)},d(d){d&&M(e)}}}function qu(t){let e=Object.values(le[Se(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&Fu(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){r&1&&(e=Object.values(le[Se(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=Fu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&M(n),o&&o.d(i)}}}function Z3(t){let e,n,o=t[0]!=null&&Iu(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&w(o,1)):(o=Iu(i),o.c(),w(o,1),o.m(e.parentNode,e)):o&&(Me(),T(o,1,1,()=>{o=null}),Oe())},i(i){n||(w(o),n=!0)},o(i){T(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}function Ki(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const Bu=t=>t!=0,Hu=t=>t!=0;function Q3(t,e,n){let o;ue(t,Ne,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger border-2 border-red-400 px-2"),f=`<span class='${c}'>${a} ${Dt(s,!1)}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class sd extends he{constructor(e){super(),pe(this,e,Q3,Z3,me,{option:0,checkRequirements:1})}}function z3(t){let e,n;return{c(){e=P("span"),n=W(t[3]),E(e,"class","text-[11px] text-wrap")},m(o,i){O(o,e,i),y(e,n)},p(o,i){i&8&&fe(n,o[3])},d(o){o&&M(e)}}}function e4(t){let e;return{c(){e=P("span"),e.textContent="Click to bulldoze",E(e,"class","text-[11px] text-wrap text-yellow-300")},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function t4(t){let e,n,o,i,r;return{c(){e=P("span"),n=W(`Hires
              `),o=P("span"),i=W(t[9]),r=W(`

              employees`),E(o,"class",t[10]+" font-medium"),E(e,"class","text-[11px] opacity-80")},m(l,a){O(l,e,a),y(e,n),y(e,o),y(o,i),y(e,r)},p:Ie,d(l){l&&M(e)}}}function n4(t){let e;return{c(){e=P("span"),e.textContent=`+💰${Dt(t[8],!1)}/wk`},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function o4(t){let e;return{c(){e=P("span"),e.textContent=`🔌${t[11]}`},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function i4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p=Dt(t[6],!1)+"",h,_,k,v,S,L,j,F;function $(C,R){if(C[0].selected)return e4;if(C[3])return z3}let I=$(t),N=I&&I(t),q=t[9]&&t4(t),A=t[8]>0&&n4(t),b=t[11]>0&&o4(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("span"),i.textContent=`${t[5]}`,r=H(),l=P("span"),l.textContent=`${t[4]}`,a=H(),N&&N.c(),s=H(),u=P("div"),q&&q.c(),f=H(),c=P("div"),d=P("span"),m=W("💰"),h=W(p),_=H(),A&&A.c(),k=H(),v=P("div"),b&&b.c(),E(i,"class","text-3xl"),E(l,"class","font-medium text-center text-md"),E(o,"class","flex flex-col flex-grow rounded-xl p-2 gap-0 justify-center items-center"),E(d,"class",""+t[7]),E(c,"class","flex flex-row justify-between mx-2 text-[11px] font-mono items-center"),E(v,"class","flex flex-row justify-between mx-2 text-[11px] font-mono"),E(u,"class","bg-sidebarBackground text-black rounded-t-lg py-1"),E(n,"class",S="flex flex-col w-36 h-48 min-h-32 min-w-36 rounded-xl text-white drop-shadow-lg border-black border-2 hover:translate-y-[-8px] transition-transform duration-300 ease-in-out z-100 "+(t[2]||t[0].selected?"cursor-pointer":"cursor-not-allowed opacity-30")+" "+(t[0].selected?"border-4 border-white scale-105":"")),ze(n,"background",t[12]),E(e,"class","plotOption"),E(e,"data-plotoptionid",L=t[0].id)},m(C,R){O(C,e,R),y(e,n),y(n,o),y(o,i),y(o,r),y(o,l),y(o,a),N&&N.m(o,null),y(n,s),y(n,u),q&&q.m(u,null),y(u,f),y(u,c),y(c,d),y(d,m),y(d,h),y(c,_),A&&A.m(c,null),y(u,k),y(u,v),b&&b.m(v,null),j||(F=te(e,"click",function(){jt(t[2]?t[15]:Gu)&&(t[2]?t[15]:Gu).apply(this,arguments)}),j=!0)},p(C,R){t=C,I===(I=$(t))&&N?N.p(t,R):(N&&N.d(1),N=I&&I(t),N&&(N.c(),N.m(o,null))),t[9]&&q.p(t,R),t[8]>0&&A.p(t,R),t[11]>0&&b.p(t,R),R&5&&S!==(S="flex flex-col w-36 h-48 min-h-32 min-w-36 rounded-xl text-white drop-shadow-lg border-black border-2 hover:translate-y-[-8px] transition-transform duration-300 ease-in-out z-100 "+(t[2]||t[0].selected?"cursor-pointer":"cursor-not-allowed opacity-30")+" "+(t[0].selected?"border-4 border-white scale-105":""))&&E(n,"class",S),R&1&&L!==(L=t[0].id)&&E(e,"data-plotoptionid",L)},d(C){C&&M(e),N&&N.d(),q&&q.d(),A&&A.d(),b&&b.d(),j=!1,F()}}}function r4(t){let e,n;return e=new sd({props:{option:t[0],checkRequirements:!0}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&1&&(r.option=o[0]),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function l4(t){let e,n,o,i;return e=new So({props:{$$slots:{default:[i4]},$$scope:{ctx:t}}}),o=new ko({props:{$$slots:{default:[r4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&262159&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262145&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function s4(t){let e,n;return e=new Co({props:{openDelay:400,closeDelay:0,$$slots:{default:[l4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,[i]){const r={};i&262159&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}const Gu=()=>{};function a4(t,e,n){let o;ue(t,Ne,L=>n(14,o=L));let{option:i}=e,{purchaseCallback:r}=e,{canPurchase:l}=e,a=i.title,s=i.emoji,u=i.requirements.gold,f=o.townInfo.gold<u?"text-red-500 font-semibold":"",c=i.revenue_per_week,d=i.requirements.employees,m=o.townInfo.population_count-o.townInfo.employees<d?"text-red-500 font-semibold":"",p=i.active_costs.power,h=Er(Se(i.id),!1,5),{count:_=0}=e,k="";const v=Object.entries(i.generated_resources).filter(([L,j])=>j>0).map(([L,j])=>`${j} ${L}`);v.length>0&&(k=`Produces: ${v.join(", ")}`);const S=()=>r(i);return t.$$set=L=>{"option"in L&&n(0,i=L.option),"purchaseCallback"in L&&n(1,r=L.purchaseCallback),"canPurchase"in L&&n(2,l=L.canPurchase),"count"in L&&n(13,_=L.count)},t.$$.update=()=>{t.$$.dirty&16384},[i,r,l,k,a,s,u,f,c,d,m,p,h,_,o,S]}class u4 extends he{constructor(e){super(),pe(this,e,a4,s4,me,{option:0,purchaseCallback:1,canPurchase:2,count:13})}}const{Map:f4}=pd;function Wu(t,e,n){const o=t.slice();return o[22]=e[n],o}function Vu(t){let e,n,o,i,r,l,a,s,u,f,c=[],d=new f4,m,p,h,_,k,v,S,L,j=Ye(t[2].filter(t[11]));const F=$=>$[22].id;for(let $=0;$<j.length;$+=1){let I=Wu(t,j,$),N=F(I);d.set(N,c[$]=xu(N,I))}return _=new ld({props:{mini:!0}}),{c(){e=P("div"),o=H(),i=P("div"),r=P("div"),l=P("div"),a=P("div"),s=P("div"),u=P("div"),f=P("div");for(let $=0;$<c.length;$+=1)c[$].c();p=H(),h=P("div"),Y(_.$$.fragment),E(e,"class","fixed inset-0 bg-black/20 z-[998]"),E(f,"class",m="flex flex-row text-start justify-start items-start flex-wrap py-8 px-8 "+(t[1].isMineralSource,"pt-6 gap-2")+" w-full align-middle"),E(s,"class","flex gap-1 pb-24 overflow-scroll max-h-["+Yu+"]"),E(a,"class","flex flex-row gap-2 justify-start pt-8 flex-grow w-full"),E(r,"class","h-max w-full flex-grow"),E(i,"class","w-[100vw] fixed bottom-0 max-h-["+Yu+"] z-[999] flex flex-row justify-center text-center items-center bg-popupBackground text-sidebarText px-4 shadow-2xl rounded-t-2xl")},m($,I){O($,e,I),O($,o,I),O($,i,I),y(i,r),y(r,l),y(l,a),y(a,s),y(s,u),y(u,f);for(let N=0;N<c.length;N+=1)c[N]&&c[N].m(f,null);y(i,p),y(i,h),V(_,h,null),v=!0,S||(L=[te(e,"click",t[10]),te(a,"click",t[3]),te(i,"click",gd(t[9]))],S=!0)},p($,I){I&6&&(j=Ye($[2].filter($[11])),Me(),c=Od(c,I,F,1,$,j,d,f,Md,xu,null,Wu),Oe()),(!v||I&2&&m!==(m="flex flex-row text-start justify-start items-start flex-wrap py-8 px-8 "+($[1].isMineralSource,"pt-6 gap-2")+" w-full align-middle"))&&E(f,"class",m)},i($){if(!v){$&&nt(()=>{v&&(n||(n=gt(e,ji,{duration:200},!0)),n.run(1))});for(let I=0;I<j.length;I+=1)w(c[I]);w(_.$$.fragment,$),$&&nt(()=>{v&&(k||(k=gt(i,sa,{duration:200,axis:"y"},!0)),k.run(1))}),v=!0}},o($){$&&(n||(n=gt(e,ji,{duration:200},!1)),n.run(0));for(let I=0;I<c.length;I+=1)T(c[I]);T(_.$$.fragment,$),$&&(k||(k=gt(i,sa,{duration:200,axis:"y"},!1)),k.run(0)),v=!1},d($){$&&(M(e),M(o),M(i)),$&&n&&n.end();for(let I=0;I<c.length;I+=1)c[I].d();x(_),$&&k&&k.end(),S=!1,Ve(L)}}}function xu(t,e){let n,o,i;return o=new u4({props:{option:e[22],purchaseCallback:m4,canPurchase:e[22].affordable??!1}}),{key:t,first:null,c(){n=Re(),Y(o.$$.fragment),this.first=n},m(r,l){O(r,n,l),V(o,r,l),i=!0},p(r,l){e=r;const a={};l&6&&(a.option=e[22]),l&6&&(a.canPurchase=e[22].affordable??!1),o.$set(a)},i(r){i||(w(o.$$.fragment,r),i=!0)},o(r){T(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(o,r)}}}function c4(t){let e=t[0]&&localStorage.getItem(Tt)==null,n,o,i=e&&Vu(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,[l]){l&1&&(e=r[0]&&localStorage.getItem(Tt)==null),e?i?(i.p(r,l),l&1&&w(i,1)):(i=Vu(r),i.c(),w(i,1),i.m(n.parentNode,n)):i&&(Me(),T(i,1,1,()=>{i=null}),Oe())},i(r){o||(w(i),o=!0)},o(r){T(i),o=!1},d(r){r&&M(n),i&&i.d(r)}}}const Yu="50vh";function d4(t,e,n){return t>=0&&t<n.length&&e>=0&&e<n[0].length&&!n[t][e].water&&!n[t][e].disabled}function di(t,e,n,o,i){let r=t+n,l=e+o;for(;r>=0&&r<i.length&&l>=0&&l<i[0].length;){if(d4(r,l,i))return[r,l];r+=n,l+=o}return null}const m4=()=>{};function p4(t,e,n){let o,i,r,l;ue(t,Ze,I=>n(1,r=I)),ue(t,Ne,I=>n(8,l=I));let{x:a=0}=e,{y:s=0}=e,{open:u=!1}=e,{tooltip:f=""}=e,c=le,d;const m=new Map;function p(I){return m.has(I)||m.set(I,le.findIndex(N=>N.id===I)),m.get(I)}function h(I){return l.plots[a][s].type>-1?c[l.plots[a][s].type].id===I.id:!1}function _(I,N){let q=!0,A=!0;I.requirements.gold>N.townInfo.gold&&(q=!1,A=!1),I.requirements.knowledge!==void 0&&I.requirements.knowledge>N.townInfo.knowledge_points&&(q=!1,A=!1),I.requirements.resources!==void 0&&Object.keys(I.requirements.resources).forEach(C=>{I.requirements.resources[C]!=0&&l.resources[C]<I.requirements.resources[C]&&(q=!1,A=!1)});let b=N.townInfo.population_count-N.townInfo.employees;if(I.requirements.employees!==void 0&&I.requirements.employees>0){const C=N.plots[a][s];if(C.type!==-1){const B=c[C.type].requirements.employees||0;A&&I.requirements.employees<=B?q=!0:I.requirements.employees>b+B&&(q=!1)}else I.requirements.employees>b&&(q=!1)}return I.active_costs!==void 0&&(I.active_costs.gold>N.townInfo.gold||I.active_costs.power>N.resources.power||I.active_costs.wood>N.resources.wood||I.active_costs.stone>N.resources.stone||I.active_costs.metal>N.resources.metal||I.active_costs.bureaucracy>N.resources.bureaucracy||I.active_costs.food>N.resources.food)&&(q=!1,A=!1),I.requirements.plots.length>0&&I.requirements.plots.forEach(C=>{Be(C,N).length===0&&(q=!1,A=!1)}),q}function k(I){const N=I.target.closest(".plotOption");if(N){const q=N.dataset.plotoptionid;if(q===l.plots[a][s].typeId){S();return}v(q)}}function v(I){const N=p(I),q=c[N];let A=l;if(_(q,A)){if(A.plots[a][s].type!==-1&&Nn(a,s,A),n(6,f=""),A.plots[a][s].type=N,A.plots[a][s].active=!0,A.plots[a][s].referencePlot=[],A.plots[a][s].typeId=q.id,A.townInfo.gold-=q.requirements.gold,A.townInfo.gold=ot(A.townInfo.gold,2),A.townInfo.population_count+=q.immediate_variable_changes.population,A.townInfo.population_max+=q.immediate_variable_changes.population,A.townInfo.happiness+=q.immediate_variable_changes.happiness,A.townInfo.health+=q.immediate_variable_changes.health,A.modifiers.happiness=ot(A.modifiers.happiness*q.purchase_effect_modifiers.happiness,2),A.modifiers.health=ot(A.modifiers.health*q.purchase_effect_modifiers.health,2),A.modifiers.community=ot(A.modifiers.community*q.purchase_effect_modifiers.community,2),A.townInfo.employees+=q.requirements.employees,(A.plotCounts[N]===void 0||A.plotCounts[N]===null)&&(A.plotCounts[N]=0),A.plotCounts[N]++,A.lastChangeDay=A.environment.day,q.requirements.resources!==void 0){const C=q.requirements.resources;A.resources.food-=C.food,A.resources.wood-=C.wood,A.resources.stone-=C.stone,A.resources.metal-=C.metal}switch(q.id){case"city_hall":A.hasCityHall=!0;break;case"bank":A.hasBank=!0;break}Hf(A,cl.BUILD_PLOT,{plot_type:q.id,x:a.toString(),y:s.toString(),end_goal:A.endGoal,day:A.environment.day,settings:A.gameSettings.join(",")}),Ne.set(A),localStorage.setItem(mt,JSON.stringify(A));const b=vm(a,s,A);if(b){const[C,R]=b;n(4,a=C),n(5,s=R),Ae(Ze,r.x=C,r),Ae(Ze,r.y=R,r);const B=document.querySelector(`.plot_container[data-x="${C}"][data-y="${R}"]`);if(B){const D=B.getBoundingClientRect(),U=window.innerHeight||d.clientHeight,X=window.innerWidth||d.clientWidth,z=d.scrollTop+D.top-U/2+225,oe=d.scrollLeft+D.left-X/2;window.scrollTo({top:z,left:oe,behavior:"smooth"}),document.querySelectorAll(".plot_container").forEach(ee=>ee.classList.remove("selected")),B.classList.add("selected")}}}else n(6,f="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(C=>{C.classList.remove("active")})}function S(){document.querySelectorAll(".plotOption").forEach(N=>{N.classList.remove("active")}),Nn(a,s,l)}function L(I){if(!u)return;let N=null;switch(I.key.toLowerCase()){case"arrowup":case"w":N=di(r.x,r.y,-1,0,l.plots);break;case"arrowdown":case"s":N=di(r.x,r.y,1,0,l.plots);break;case"arrowleft":case"a":N=di(r.x,r.y,0,-1,l.plots);break;case"arrowright":case"d":N=di(r.x,r.y,0,1,l.plots);break;default:return}if(!N)return;const[q,A]=N;Ae(Ze,r.x=q,r),Ae(Ze,r.y=A,r);const b=document.querySelector(`.plot_container[data-x="${q}"][data-y="${A}"]`);if(b){const C=b.getBoundingClientRect(),R=window.innerHeight||d.clientHeight,B=window.innerWidth||d.clientWidth,D=d.scrollTop+C.top-R/2+225,U=d.scrollLeft+C.left-B/2;window.scrollTo({top:D,left:U,behavior:"smooth"}),document.querySelectorAll(".plot_container").forEach(z=>z.classList.remove("selected")),b.classList.add("selected")}}Zo(()=>{d=document.documentElement||document.body,window.addEventListener("keydown",L)}),If(()=>{window.removeEventListener("keydown",L)});function j(I){se.call(this,t,I)}const F=()=>Ae(Ze,r.visible=!1,r),$=I=>r.isMineralSource?I.id==="mine":I.id!=="mine";return t.$$set=I=>{"x"in I&&n(4,a=I.x),"y"in I&&n(5,s=I.y),"open"in I&&n(0,u=I.open),"tooltip"in I&&n(6,f=I.tooltip)},t.$$.update=()=>{t.$$.dirty&256&&n(7,o=l?c.map(I=>Object.assign(Object.assign({},I),{affordable:_(I,l),selected:h(I)})):[]),t.$$.dirty&386&&n(2,i=l?(()=>{let I=[...o];if(r.isMineralSource)return I.filter(N=>N.id==="mine");Be("tree_farm",l).length===0&&(I=I.filter(N=>["small_homes","farm","tree_farm"].includes(N.id)));for(const[N,q]of Object.entries(Rd))typeof q=="number"&&q>0&&Be(N,l).length>=q&&(I=I.filter(A=>A.id!==N));return I.sort((N,q)=>N.selected&&!q.selected?-1:0)})():[])},[u,r,i,k,a,s,f,o,l,j,F,$]}class ad extends he{constructor(e){super(),pe(this,e,p4,c4,me,{x:4,y:5,open:0,tooltip:6})}}function h4(t){let e,n,o;return{c(){e=P("span"),n=W("My liege, if you build a City Hall, you can expand your city "),o=W(t[0]),E(e,"class","text-xs")},m(i,r){O(i,e,r),y(e,n),y(e,o)},p(i,r){r&1&&fe(o,i[0])},i:Ie,o:Ie,d(i){i&&M(e)}}}function _4(t){let e,n;return e=new At({props:{class:"bg-accent h-max rounded-2xl hover:scale-110 transition-transform duration-200 ease-in-out hover:drop-shadow-2xl",$$slots:{default:[g4]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&11&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function g4(t){let e,n,o,i,r,l=t[0].toUpperCase()+"",a,s,u,f,c,d,m,p,h,_,k,v=Math.round(Math.pow(1.7,t[1].kingdom_expansions+5))+"",S,L,j,F;return{c(){e=P("div"),n=W("My liege, you can expand your "),o=P("br"),i=W(`kingdom
        `),r=P("span"),a=W(l),s=W(`
        using
        `),u=P("br"),f=W(`your
        `),c=P("span"),c.textContent="City Hall",d=W("!"),m=P("br"),p=P("br"),h=H(),_=P("span"),k=W("Requires "),S=W(v),L=W(` Guardians
          `),j=P("br"),F=W("to be employed. (see city mgmt menu)"),E(r,"class","font-extrabold text-blue-200"),E(c,"class","text-blue-200 bold"),E(_,"class","opacity-75 text-xs")},m($,I){O($,e,I),y(e,n),y(e,o),y(e,i),y(e,r),y(r,a),y(e,s),y(e,u),y(e,f),y(e,c),y(e,d),y(e,m),y(e,p),y(e,h),y(e,_),y(_,k),y(_,S),y(_,L),y(_,j),y(_,F)},p($,I){I&1&&l!==(l=$[0].toUpperCase()+"")&&fe(a,l),I&2&&v!==(v=Math.round(Math.pow(1.7,$[1].kingdom_expansions+5))+"")&&fe(S,v)},d($){$&&M(e)}}}function b4(t){let e,n,o,i,r;const l=[_4,h4],a=[];function s(u,f){return f&2&&(n=null),n==null&&(n=Be("city_hall",u[1]).length>0),n?0:1}return o=s(t,-1),i=a[o]=l[o](t),{c(){e=P("div"),i.c(),E(e,"class","w-48 h-max")},m(u,f){O(u,e,f),a[o].m(e,null),r=!0},p(u,[f]){let c=o;o=s(u,f),o===c?a[o].p(u,f):(Me(),T(a[c],1,1,()=>{a[c]=null}),Oe(),i=a[o],i?i.p(u,f):(i=a[o]=l[o](u),i.c()),w(i,1),i.m(e,null))},i(u){r||(w(i),r=!0)},o(u){T(i),r=!1},d(u){u&&M(e),a[o].d()}}}function y4(t,e,n){let o;ue(t,Ne,l=>n(1,o=l));let{direction:i}=e;const r=()=>{const l=Tm(o,i);l&&Ct.set(l)};return t.$$set=l=>{"direction"in l&&n(0,i=l.direction)},[i,o,r]}class Uu extends he{constructor(e){super(),pe(this,e,y4,b4,me,{direction:0})}}function v4(t){let e;return{c(){e=P("span"),e.textContent="Start here!",E(e,"class","text-md text-black select-none transition-all duration-500 animate-pulse ")},m(n,o){O(n,e,o)},p:Ie,d(n){n&&M(e)}}}function w4(t){let e,n,o,i=le[t[0].type].emoji+"",r,l,a,s,u,f=le[t[0].type].title+"",c,d,m,p;return{c(){e=P("div"),n=P("span"),o=P("span"),r=W(i),l=H(),a=P("br"),s=H(),u=P("span"),c=W(f),E(o,"class","text-lg align-text-top select-none"),E(u,"class","text-sm align-text-top text-black select-none"),E(n,"data-size",d=le[t[0].type].requirements.size),E(n,"data-x",m=t[0].x),E(n,"data-y",p=t[0].y),E(e,"class","svelte-lm6uio")},m(h,_){O(h,e,_),y(e,n),y(n,o),y(o,r),y(n,l),y(n,a),y(n,s),y(n,u),y(u,c)},p(h,_){_&1&&i!==(i=le[h[0].type].emoji+"")&&fe(r,i),_&1&&f!==(f=le[h[0].type].title+"")&&fe(c,f),_&1&&d!==(d=le[h[0].type].requirements.size)&&E(n,"data-size",d),_&1&&m!==(m=h[0].x)&&E(n,"data-x",m),_&1&&p!==(p=h[0].y)&&E(n,"data-y",p)},d(h){h&&M(e)}}}function Ku(t){let e;return{c(){e=P("span"),e.textContent="🧲",E(e,"class","text-lg")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Xu(t){let e;return{c(){e=P("span"),e.textContent="👑",E(e,"class","text-lg absolute top-0")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function k4(t){let e,n,o,i=t[7](t[0].x,t[0].y),r,l,a,s,u,f,c,d,m,p,h,_,k,v,S,L,j,F;function $(b,C){if(b[0].type>-1)return w4;if(b[0].type==-1&&b[0].x==0&&b[0].y==0)return v4}let I=$(t),N=I&&I(t),q=t[0].mineralSource&&t[0].type==-1&&Ku(),A=i&&Xu();return{c(){e=P("button"),N&&N.c(),n=H(),q&&q.c(),o=H(),A&&A.c(),E(e,"class",r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" svelte-lm6uio"),ze(e,"background-color",t[0].water?"rgba(66, 135, 245, 1)":t[5].x==t[0].x&&t[5].y==t[0].y&&t[5].visible?"white":t[0].mineralSource?"black":Er(t[0].type,t[2])),E(e,"data-active",l=t[0].active),E(e,"data-hidehoveranimation",a=t[5].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),E(e,"data-id",s=t[0].id),E(e,"data-x",u=t[0].x),E(e,"data-y",f=t[0].y),E(e,"data-optionindex",c=t[0].optionIndex),E(e,"data-canbeupgraded",t[2]),E(e,"data-type",d=t[0].type),E(e,"data-type-id",m=t[0].typeId),E(e,"data-refplotx",p=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),E(e,"data-refploty",h=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),E(e,"data-size",_=t[0].type>-1?le[t[0].type].requirements.size:null),E(e,"data-mineralsource",k=t[0].mineralSource),E(e,"data-water",v=t[0].water),E(e,"data-nearwater",S=io(t[0].x,t[0].y,t[3])),E(e,"data-liegelocation",L=t[7](t[0].x,t[0].y))},m(b,C){O(b,e,C),N&&N.m(e,null),y(e,n),q&&q.m(e,null),y(e,o),A&&A.m(e,null),j||(F=te(e,"click",function(){jt(t[0].water?null:t[6]?Hl(t[0].x,t[0].y,t[3]):t[8])&&(t[0].water?null:t[6]?Hl(t[0].x,t[0].y,t[3]):t[8]).apply(this,arguments)}),j=!0)},p(b,C){t=b,I===(I=$(t))&&N?N.p(t,C):(N&&N.d(1),N=I&&I(t),N&&(N.c(),N.m(e,n))),t[0].mineralSource&&t[0].type==-1?q||(q=Ku(),q.c(),q.m(e,o)):q&&(q.d(1),q=null),C&1&&(i=t[7](t[0].x,t[0].y)),i?A||(A=Xu(),A.c(),A.m(e,null)):A&&(A.d(1),A=null),C&7&&r!==(r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" svelte-lm6uio")&&E(e,"class",r),C&37&&ze(e,"background-color",t[0].water?"rgba(66, 135, 245, 1)":t[5].x==t[0].x&&t[5].y==t[0].y&&t[5].visible?"white":t[0].mineralSource?"black":Er(t[0].type,t[2])),C&1&&l!==(l=t[0].active)&&E(e,"data-active",l),C&33&&a!==(a=t[5].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0)&&E(e,"data-hidehoveranimation",a),C&1&&s!==(s=t[0].id)&&E(e,"data-id",s),C&1&&u!==(u=t[0].x)&&E(e,"data-x",u),C&1&&f!==(f=t[0].y)&&E(e,"data-y",f),C&1&&c!==(c=t[0].optionIndex)&&E(e,"data-optionindex",c),C&4&&E(e,"data-canbeupgraded",t[2]),C&1&&d!==(d=t[0].type)&&E(e,"data-type",d),C&1&&m!==(m=t[0].typeId)&&E(e,"data-type-id",m),C&1&&p!==(p=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null)&&E(e,"data-refplotx",p),C&1&&h!==(h=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null)&&E(e,"data-refploty",h),C&1&&_!==(_=t[0].type>-1?le[t[0].type].requirements.size:null)&&E(e,"data-size",_),C&1&&k!==(k=t[0].mineralSource)&&E(e,"data-mineralsource",k),C&1&&v!==(v=t[0].water)&&E(e,"data-water",v),C&9&&S!==(S=io(t[0].x,t[0].y,t[3]))&&E(e,"data-nearwater",S),C&1&&L!==(L=t[7](t[0].x,t[0].y))&&E(e,"data-liegelocation",L)},d(b){b&&M(e),N&&N.d(),q&&q.d(),A&&A.d(),j=!1,F()}}}function Ju(t){let e;return{c(){e=W("Water - Place farms nearby for more food & revenue!")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Zu(t){let e;return{c(){e=P("span"),e.textContent="Near water - Generating more food & revenue!",E(e,"class","text-xs bg-blue-500 text-white px-2 py-3 rounded-2xl text-center")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Qu(t){let e;function n(r,l){return le[r[0].type].liege_on_plot_hint==null?S4:C4}let o=n(t),i=o(t);return{c(){e=P("span"),i.c(),E(e,"class","text-xs bg-pink-700 text-white px-2 py-3 rounded-2xl text-center")},m(r,l){O(r,e,l),i.m(e,null)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i.d(1),i=o(r),i&&(i.c(),i.m(e,null)))},d(r){r&&M(e),i.d()}}}function C4(t){let e=le[t[0].type].liege_on_plot_hint+"",n;return{c(){n=W(e)},m(o,i){O(o,n,i)},p(o,i){i&1&&e!==(e=le[o[0].type].liege_on_plot_hint+"")&&fe(n,e)},d(o){o&&M(n)}}}function S4(t){let e,n=le[t[0].type].title+"",o,i;return{c(){e=W("You are hanging out on the "),o=W(n),i=W(` plot, but nothing
            seems to be changing except a revenue boost.`)},m(r,l){O(r,e,l),O(r,o,l),O(r,i,l)},p(r,l){l&1&&n!==(n=le[r[0].type].title+"")&&fe(o,n)},d(r){r&&(M(e),M(o),M(i))}}}function zu(t){let e,n;return e=new sd({props:{option:t[4],checkRequirements:!1}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.option=o[4]),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function T4(t){let e,n,o=io(t[0].x,t[0].y,t[3]),i,r=Xn(t[0].x,t[0].y,t[3]),l,a,s=t[0].water&&Ju(),u=o&&Zu(),f=r&&Qu(t),c=t[0].active&&zu(t);return{c(){e=P("div"),s&&s.c(),n=H(),u&&u.c(),i=H(),f&&f.c(),l=H(),c&&c.c(),E(e,"class","flex flex-col gap-2")},m(d,m){O(d,e,m),s&&s.m(e,null),y(e,n),u&&u.m(e,null),y(e,i),f&&f.m(e,null),y(e,l),c&&c.m(e,null),a=!0},p(d,m){d[0].water?s||(s=Ju(),s.c(),s.m(e,n)):s&&(s.d(1),s=null),m&9&&(o=io(d[0].x,d[0].y,d[3])),o?u||(u=Zu(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),m&9&&(r=Xn(d[0].x,d[0].y,d[3])),r?f?f.p(d,m):(f=Qu(d),f.c(),f.m(e,l)):f&&(f.d(1),f=null),d[0].active?c?(c.p(d,m),m&1&&w(c,1)):(c=zu(d),c.c(),w(c,1),c.m(e,null)):c&&(Me(),T(c,1,1,()=>{c=null}),Oe())},i(d){a||(w(c),a=!0)},o(d){T(c),a=!1},d(d){d&&M(e),s&&s.d(),u&&u.d(),f&&f.d(),c&&c.d()}}}function A4(t){let e,n,o,i;return e=new So({props:{$$slots:{default:[k4]},$$scope:{ctx:t}}}),o=new ko({props:{class:"max-w-64 rounded-3xl "+(t[0].type<0&&!t[0].water?"hidden":""),$$slots:{default:[T4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&8303&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class="max-w-64 rounded-3xl "+(r[0].type<0&&!r[0].water?"hidden":"")),l&8217&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function I4(t){let e,n;return e=new Co({props:{openDelay:400,closeDelay:0,$$slots:{default:[A4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,[i]){const r={};i&8319&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function M4(t,e,n){let o,i,r,l,a,s;ue(t,Ze,_=>n(5,o=_)),ue(t,Ne,_=>n(3,i=_)),ue(t,Pt,_=>n(11,r=_)),ue(t,lo,_=>n(12,l=_)),ue(t,Bt,_=>n(10,a=_)),ue(t,ao,_=>n(6,s=_));let{data:u={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,f,{classText:c=""}=e,{canBeUpgraded:d=!1}=e;const m=(_,k)=>i.liege_location!=null&&_==i.liege_location[0]&&k==i.liege_location[1];function p(_,k,v){if(localStorage.getItem(Tt)!=null)return;let S=document.querySelectorAll(".plot_container");if(r==!1){if(u.referencePlot!=null&&u.referencePlot[0]!==null&&k==null&&v==null&&u.referencePlot[1]!==void 0)return p(_,u.referencePlot[0],u.referencePlot[1]);if(!u.active&&!d)Ae(lo,l={},l),Ae(Ze,o.visible=!1,o),S.forEach(L=>{L.classList.remove("selected")});else{k!=null&&v!=null?(Ae(Ze,o.x=k,o),Ae(Ze,o.y=v,o)):(Ae(Ze,o.x=u.x,o),Ae(Ze,o.y=u.y,o)),Ae(Ze,o.isMineralSource=u.mineralSource,o),Ae(Ze,o.visible=!0,o);const L=document.querySelector(`.plot_container[data-id="${u.id}"]`),j=document.documentElement||document.body,F=L.getBoundingClientRect(),$=window.innerHeight||j.clientHeight,I=window.innerWidth||j.clientWidth,N=j.scrollTop+F.top-$/2+225,q=j.scrollLeft+F.left-I/2;window.scrollTo({top:N,left:q,behavior:"smooth"}),S.forEach(A=>{A.classList.remove("selected")}),k!=null&&v!=null?document.querySelector(`.plot_container[data-x="${k}"][data-y="${v}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${u.id}"]`).classList.add("selected")}}}function h(_){r==!1&&(Ae(Ne,i.plots[u.x][u.y].type=_,i),Ae(Ze,o.visible=!1,o))}return t.$$set=_=>{"data"in _&&n(0,u=_.data),"classText"in _&&n(1,c=_.classText),"canBeUpgraded"in _&&n(2,d=_.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1033&&(u.type>-1&&n(4,f=le[u.type]),u.disabled==!0&&a.visible==!1&&(Nn(u.x,u.y,i),n(0,u.disabled=!1,u),Ae(Bt,a.visible=!1,a)))},[u,c,d,i,f,o,s,m,p,h,a]}class O4 extends he{constructor(e){super(),pe(this,e,M4,I4,me,{data:0,classText:1,canBeUpgraded:2,changePlotType:9})}get changePlotType(){return this.$$.ctx[9]}}function ef(t,e,n){const o=t.slice();return o[8]=e[n],o[10]=n,o}function tf(t,e,n){const o=t.slice();return o[11]=e[n],o}function nf(t){let e,n,o,i,r,l,a,s,u,f,c,d=t[3],m,p,h=Ye(t[1].plots),_=[];for(let S=0;S<h.length;S+=1)_[S]=rf(ef(t,h,S));const k=S=>T(_[S],1,1,()=>{_[S]=null});a=new Uu({props:{direction:"east"}}),f=new Uu({props:{direction:"south"}});let v=sf(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("div");for(let S=0;S<_.length;S+=1)_[S].c();r=H(),l=P("span"),Y(a.$$.fragment),s=H(),u=P("span"),Y(f.$$.fragment),c=H(),v.c(),m=Re(),E(i,"class","grid plot_controller svelte-1udphho"),E(o,"class","flex flex-row items-center"),E(n,"style",t[2]),E(n,"id","plotContainerMain"),E(n,"class","items-center h-max flex flex-col pr-80 pb-80  svelte-1udphho"),E(e,"class","flex flex-col")},m(S,L){O(S,e,L),y(e,n),y(n,o),y(o,i);for(let j=0;j<_.length;j+=1)_[j]&&_[j].m(i,null);y(o,r),y(o,l),V(a,l,null),y(n,s),y(n,u),V(f,u,null),O(S,c,L),v.m(S,L),O(S,m,L),p=!0},p(S,L){if(L&3){h=Ye(S[1].plots);let j;for(j=0;j<h.length;j+=1){const F=ef(S,h,j);_[j]?(_[j].p(F,L),w(_[j],1)):(_[j]=rf(F),_[j].c(),w(_[j],1),_[j].m(i,null))}for(Me(),j=h.length;j<_.length;j+=1)k(j);Oe()}(!p||L&4)&&E(n,"style",S[2]),L&8&&me(d,d=S[3])?(Me(),T(v,1,1,Ie),Oe(),v=sf(S),v.c(),w(v,1),v.m(m.parentNode,m)):v.p(S,L)},i(S){if(!p){for(let L=0;L<h.length;L+=1)w(_[L]);w(a.$$.fragment,S),w(f.$$.fragment,S),w(v),p=!0}},o(S){_=_.filter(Boolean);for(let L=0;L<_.length;L+=1)T(_[L]);T(a.$$.fragment,S),T(f.$$.fragment,S),T(v),p=!1},d(S){S&&(M(e),M(c),M(m)),st(_,S),x(a),x(f),v.d(S)}}}function of(t){let e,n;return e=new O4({props:{classText:"hexagon",data:t[11],canBeUpgraded:Ai(t[11].x,t[11].y,t[1])}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&2&&(r.data=o[11]),i&2&&(r.canBeUpgraded=Ai(o[11].x,o[11].y,o[1])),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function rf(t){let e,n,o,i,r,l=Ye(t[8]),a=[];for(let u=0;u<l.length;u+=1)a[u]=of(tf(t,l,u));const s=u=>T(a[u],1,1,()=>{a[u]=null});return{c(){e=P("div");for(let u=0;u<a.length;u+=1)a[u].c();n=H(),E(e,"class","row "+(t[10]%2!==0?"odd-row":"")+" svelte-1udphho")},m(u,f){O(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);y(e,n),o=!0,i||(r=te(e,"click",t[0]),i=!0)},p(u,f){if(f&2){l=Ye(u[8]);let c;for(c=0;c<l.length;c+=1){const d=tf(u,l,c);a[c]?(a[c].p(d,f),w(a[c],1)):(a[c]=of(d),a[c].c(),w(a[c],1),a[c].m(e,n))}for(Me(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)w(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)T(a[f]);o=!1},d(u){u&&M(e),st(a,u),i=!1,r()}}}function lf(t){let e,n;return e=new ad({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.x=o[4].x),i&16&&(r.y=o[4].y),i&16&&(r.open=o[4].visible),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function sf(t){let e,n,o=t[4].visible&&lf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,r){i[4].visible?o?(o.p(i,r),r&16&&w(o,1)):(o=lf(i),o.c(),w(o,1),o.m(e.parentNode,e)):o&&(Me(),T(o,1,1,()=>{o=null}),Oe())},i(i){n||(w(o),n=!0)},o(i){T(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}function P4(t){let e,n,o=t[1]!=null&&nf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[1]!=null?o?(o.p(i,r),r&2&&w(o,1)):(o=nf(i),o.c(),w(o,1),o.m(e.parentNode,e)):o&&(Me(),T(o,1,1,()=>{o=null}),Oe())},i(i){n||(w(o),n=!0)},o(i){T(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}const Or="plotsSize";function N4(t,e,n){let o,i,r;ue(t,lo,c=>n(3,o=c)),ue(t,Ne,c=>n(1,i=c)),ue(t,Ze,c=>n(4,r=c));let l,a=localStorage.getItem(Or)?parseInt(localStorage.getItem(Or)):0,s=["margin-left: 300px; margin-top: 200px; scale: 1;","margin-left: 650px; margin-top: 600px; scale: 1.5;","margin-left: -50px; margin-top: -50px; scale: 0.6;"];document.addEventListener("keypress",function(c){c.key==="z"&&(a==s.length-1?n(5,a=0):n(5,a++,a),localStorage.setItem(Or,a.toString()))}),document.addEventListener("click",function(c){const d=c.target;(d.dataset.x==null&&d.dataset.type!="-1"&&d.dataset.size!=null||d.id=="plotContainerMain"||d.classList.contains("row")||d.classList.contains("grid"))&&Ae(Ze,r.visible=!1,r)});function u(){let c=[];for(let d=0;d<i.plots.length;d++)for(let m=0;m<i.plots.length;m++)Ai(d,m,i)&&i.plots[d][m].active==!1&&c.push(i.plots[d][m])}function f(){Ae(lo,o={},o)}return t.$$.update=()=>{t.$$.dirty&2&&i&&u(),t.$$.dirty&32&&n(2,l=s[a])},[f,i,l,o,r,a]}class E4 extends he{constructor(e){super(),pe(this,e,N4,P4,me,{restartModifyPlotMenu:0})}get restartModifyPlotMenu(){return this.$$.ctx[0]}}function af(t,e,n){const o=t.slice();return o[5]=e[n],o}function uf(t){let e,n;return e=new Qg({props:{thumb:t[5],class:"block h-4 w-4  bg-accent focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function $4(t){let e,n,o,i,r;n=new Yg({props:{class:"absolute h-full bg-primary"}});let l=Ye(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=uf(af(t,l,u));const s=u=>T(a[u],1,1,()=>{a[u]=null});return{c(){e=P("span"),Y(n.$$.fragment),o=H();for(let u=0;u<a.length;u+=1)a[u].c();i=Re(),E(e,"class","relative h-2 w-full grow overflow-hidden bg-black")},m(u,f){O(u,e,f),V(n,e,null),O(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);O(u,i,f),r=!0},p(u,f){if(f&16){l=Ye(u[4]);let c;for(c=0;c<l.length;c+=1){const d=af(u,l,c);a[c]?(a[c].p(d,f),w(a[c],1)):(a[c]=uf(d),a[c].c(),w(a[c],1),a[c].m(i.parentNode,i))}for(Me(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!r){w(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)w(a[f]);r=!0}},o(u){T(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)T(a[f]);r=!1},d(u){u&&(M(e),M(o),M(i)),x(n),st(a,u)}}}function R4(t){let e,n,o;const i=[{class:He("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[$4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=Q(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new Bg({props:l}),Ee.push(()=>Ut(e,"value",r)),{c(){Y(e.$$.fragment)},m(a,s){V(e,a,s),o=!0},p(a,[s]){const u=s&6?Ce(i,[s&2&&{class:He("relative flex w-full touch-none select-none items-center",a[1])},s&4&&it(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],Vt(()=>n=!1)),e.$set(u)},i(a){o||(w(e.$$.fragment,a),o=!0)},o(a){T(e.$$.fragment,a),o=!1},d(a){x(e,a)}}}function L4(t,e,n){const o=["class","value"];let i=ce(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(2,i=ce(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class ff extends he{constructor(e){super(),pe(this,e,L4,R4,me,{class:1,value:0})}}function cf(t,e,n){const o=t.slice();return o[13]=e[n],o}function df(t){let e,n,o,i=t[13].day+"",r,l,a,s=t[13].message+"",u,f,c;return{c(){e=P("div"),n=P("p"),o=W("DAY "),r=W(i),l=H(),a=P("p"),u=W(s),f=H(),E(n,"class","font-mono text-[10px]  svelte-1m80q9z"),E(a,"class","text-xs svelte-1m80q9z"),E(e,"class",c="px-2 py-2 rounded-2xl fade-in mb-4 "+(t[13].vibe==tt.BAD?"bg-white text-textDanger border ":t[13].vibe==tt.GOOD?"bg-green-300":(t[13].vibe==tt.NORMAL,"bg-accent"))+" svelte-1m80q9z")},m(d,m){O(d,e,m),y(e,n),y(n,o),y(n,r),y(e,l),y(e,a),y(a,u),y(e,f)},p(d,m){m&1&&i!==(i=d[13].day+"")&&fe(r,i),m&1&&s!==(s=d[13].message+"")&&fe(u,s),m&1&&c!==(c="px-2 py-2 rounded-2xl fade-in mb-4 "+(d[13].vibe==tt.BAD?"bg-white text-textDanger border ":d[13].vibe==tt.GOOD?"bg-green-300":(d[13].vibe==tt.NORMAL,"bg-accent"))+" svelte-1m80q9z")&&E(e,"class",c)},d(d){d&&M(e)}}}function D4(t){let e,n,o,i,r,l,a,s,u,f=ot(t[0].economyAndLaws.tax_rate*100,0)+"",c,d,m,p,h,_,k,v,S,L,j=ot(t[0].townInfo.productivity,0)+"",F,$,I,N,q,A,b,C,R,B,D,U,X,z,oe,K,ee,_e,ae,re,Le,Fe,g,Z;p=new ff({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[7],min:0,max:.5,step:.05,disabled:localStorage.getItem(Tt)!=null,class:"cursor-pointer w-[75%]"}}),N=new ff({props:{value:[t[0].townInfo.productivity],onValueChange:t[6],min:0,max:200,step:5,disabled:localStorage.getItem(Tt)!=null,class:"cursor-pointer w-[75%]"}}),C=new Lt({props:{text:t[2]?"Select an active plot!":"👑 Set your location (boost)",onOpen:t[8]}}),B=new Lt({props:{text:"🧠 Sell Knowledge",onOpen:t[9]}}),U=new Lt({props:{text:"🏢 Manage City",onOpen:t[10]}}),z=new Lt({props:{text:t[0].lab.active_experiment!==null?`${t[0].lab.active_experiment.duration}`:"🧪 Manage Lab",onOpen:t[5],opacity:Be("lab",t[0]).length>=1?100:30,onHoverText:Be("lab",t[0]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."}});let J=Ye(t[0].townLog),ne=[];for(let ie=0;ie<J.length;ie+=1)ne[ie]=df(cf(t,J,ie));return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("div"),r=P("div"),l=P("div"),a=P("span"),a.textContent="Tax Rate",s=H(),u=P("span"),c=W(f),d=W("%"),m=H(),Y(p.$$.fragment),h=H(),_=P("div"),k=P("div"),v=P("span"),v.textContent="Productivity",S=H(),L=P("span"),F=W(j),$=W("%"),I=H(),Y(N.$$.fragment),q=H(),A=P("div"),b=P("div"),Y(C.$$.fragment),R=H(),Y(B.$$.fragment),D=H(),Y(U.$$.fragment),X=H(),Y(z.$$.fragment),oe=H(),K=P("div"),ee=P("div"),_e=P("h3"),ae=H(),re=P("div");for(let ie=0;ie<ne.length;ie+=1)ne[ie].c();E(a,"class","text-sm svelte-1m80q9z"),E(u,"class","text-sm svelte-1m80q9z"),E(l,"class","mb-1 svelte-1m80q9z"),E(r,"class","flex flex-col justify-center w-full text-center items-center gap-1 min-h-12 pb-2 rounded-xl svelte-1m80q9z"),E(v,"class","text-sm svelte-1m80q9z"),E(L,"class","text-sm svelte-1m80q9z"),E(k,"class","mb-1 svelte-1m80q9z"),E(_,"class","flex flex-col justify-center w-full text-center items-center gap-2 svelte-1m80q9z"),E(i,"class","flex flex-col gap-2 rounded-xl text-center justify-center mb-2 mt-0 pt-2 svelte-1m80q9z"),E(b,"class","flex flex-col gap-2 svelte-1m80q9z"),E(A,"class","svelte-1m80q9z"),E(_e,"class","text-md cursor-pointer  svelte-1m80q9z"),E(ee,"class","flex flex-row gap-2 items-start justify-center pb-2 svelte-1m80q9z"),E(re,"class","overflow-y-scroll h-[100%] w-[100%] pb-4 scroll-smooth svelte-1m80q9z"),E(K,"class","svelte-1m80q9z"),E(o,"class","flex flex-col justify-center mx-2 gap-4 svelte-1m80q9z"),E(n,"class","w-[220px] text-sidebarText bg-sidebarBackground overflow-scroll border-foregroundDark border-4 bottom-4 z-10 fixed left-3 py-2 top-16 drop-shadow-xl rounded-xl transition-all duration-300 svelte-1m80q9z"),E(e,"class",Le="flex flex-row text-sidebarText bg-sidebarBackground overflow-clip "+(t[1].visible?"opacity-10":"")+" svelte-1m80q9z")},m(ie,ke){O(ie,e,ke),y(e,n),y(n,o),y(o,i),y(i,r),y(r,l),y(l,a),y(l,s),y(l,u),y(u,c),y(u,d),y(r,m),V(p,r,null),y(i,h),y(i,_),y(_,k),y(k,v),y(k,S),y(k,L),y(L,F),y(L,$),y(_,I),V(N,_,null),y(o,q),y(o,A),y(A,b),V(C,b,null),y(b,R),V(B,b,null),y(b,D),V(U,b,null),y(b,X),V(z,b,null),y(o,oe),y(o,K),y(K,ee),y(ee,_e),y(K,ae),y(K,re);for(let Pe=0;Pe<ne.length;Pe+=1)ne[Pe]&&ne[Pe].m(re,null);Fe=!0,g||(Z=te(_e,"click",t[11]),g=!0)},p(ie,[ke]){(!Fe||ke&1)&&f!==(f=ot(ie[0].economyAndLaws.tax_rate*100,0)+"")&&fe(c,f);const Pe={};ke&1&&(Pe.value=[ie[0].economyAndLaws.tax_rate]),p.$set(Pe),(!Fe||ke&1)&&j!==(j=ot(ie[0].townInfo.productivity,0)+"")&&fe(F,j);const je={};ke&1&&(je.value=[ie[0].townInfo.productivity]),N.$set(je);const xe={};ke&4&&(xe.text=ie[2]?"Select an active plot!":"👑 Set your location (boost)"),ke&4&&(xe.onOpen=ie[8]),C.$set(xe);const De={};ke&8&&(De.onOpen=ie[9]),B.$set(De);const Ke={};ke&16&&(Ke.onOpen=ie[10]),U.$set(Ke);const Xe={};if(ke&1&&(Xe.text=ie[0].lab.active_experiment!==null?`${ie[0].lab.active_experiment.duration}`:"🧪 Manage Lab"),ke&1&&(Xe.opacity=Be("lab",ie[0]).length>=1?100:30),ke&1&&(Xe.onHoverText=Be("lab",ie[0]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."),z.$set(Xe),ke&1){J=Ye(ie[0].townLog);let we;for(we=0;we<J.length;we+=1){const qe=cf(ie,J,we);ne[we]?ne[we].p(qe,ke):(ne[we]=df(qe),ne[we].c(),ne[we].m(re,null))}for(;we<ne.length;we+=1)ne[we].d(1);ne.length=J.length}(!Fe||ke&2&&Le!==(Le="flex flex-row text-sidebarText bg-sidebarBackground overflow-clip "+(ie[1].visible?"opacity-10":"")+" svelte-1m80q9z"))&&E(e,"class",Le)},i(ie){Fe||(w(p.$$.fragment,ie),w(N.$$.fragment,ie),w(C.$$.fragment,ie),w(B.$$.fragment,ie),w(U.$$.fragment,ie),w(z.$$.fragment,ie),Fe=!0)},o(ie){T(p.$$.fragment,ie),T(N.$$.fragment,ie),T(C.$$.fragment,ie),T(B.$$.fragment,ie),T(U.$$.fragment,ie),T(z.$$.fragment,ie),Fe=!1},d(ie){ie&&M(e),x(p),x(N),x(C),x(B),x(U),x(z),st(ne,ie),g=!1,Z()}}}function j4(t,e,n){let o,i,r,l,a;ue(t,Ne,h=>n(0,o=h)),ue(t,Ze,h=>n(1,i=h)),ue(t,ao,h=>n(2,r=h)),ue(t,so,h=>n(3,l=h)),ue(t,uo,h=>n(4,a=h)),localStorage.getItem("mute");function s(){o.hasLab&&zn.set(!0)}function u(h){let _=o;_.townInfo.productivity=ot(h[0],2),Ne.set(_),localStorage.setItem(mt,JSON.stringify(_))}function f(h){let _=o;_.economyAndLaws.tax_rate=ot(h[0],2),Ne.set(_),localStorage.setItem(mt,JSON.stringify(_))}const c=function(){Ae(ao,r=!r,r)},d=function(){Ae(so,l=!l,l)},m=function(){Ae(uo,a=!a,a)},p=()=>{Ae(Ne,o.townLog=[],o)};return localStorage.getItem("mute"),[o,i,r,l,a,s,u,f,c,d,m,p]}class F4 extends he{constructor(e){super(),pe(this,e,j4,D4,me,{})}}function q4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m;return o=new b3({}),l=new F4({}),s=new E4({}),f=new ld({}),d=new ad({}),{c(){e=P("div"),n=P("div"),Y(o.$$.fragment),i=H(),r=P("div"),Y(l.$$.fragment),a=H(),Y(s.$$.fragment),u=H(),Y(f.$$.fragment),c=H(),Y(d.$$.fragment),E(r,"class","flex flex-row text-accentText"),E(e,"class","flex flex-col max-h-[100%] justify-between")},m(p,h){O(p,e,h),y(e,n),V(o,n,null),y(e,i),y(e,r),V(l,r,null),y(r,a),V(s,r,null),y(r,u),V(f,r,null),y(r,c),V(d,r,null),m=!0},p:Ie,i(p){m||(w(o.$$.fragment,p),w(l.$$.fragment,p),w(s.$$.fragment,p),w(f.$$.fragment,p),w(d.$$.fragment,p),m=!0)},o(p){T(o.$$.fragment,p),T(l.$$.fragment,p),T(s.$$.fragment,p),T(f.$$.fragment,p),T(d.$$.fragment,p),m=!1},d(p){p&&M(e),x(o),x(l),x(s),x(f),x(d)}}}class B4 extends he{constructor(e){super(),pe(this,e,null,q4,me,{})}}function H4(t){let e=t[1].townInfo.name+"",n;return{c(){n=W(e)},m(o,i){O(o,n,i)},p(o,i){i&2&&e!==(e=o[1].townInfo.name+"")&&fe(n,e)},d(o){o&&M(n)}}}function G4(t){let e,n,o,i=t[1].townInfo.name+"",r,l,a,s,u,f;return{c(){e=P("span"),n=W("The town of "),o=P("span"),r=W(i),l=W(` has been
          founded!`),a=H(),s=P("span"),s.textContent=`Your goal is to build a great town and keep your people happy. Use the
          milestones on the right side as a guide.`,u=H(),f=P("span"),f.textContent="Start by building a set of homes, some farms, and a tree farm.",E(o,"class","text-accent")},m(c,d){O(c,e,d),y(e,n),y(e,o),y(o,r),y(e,l),O(c,a,d),O(c,s,d),O(c,u,d),O(c,f,d)},p(c,d){d&2&&i!==(i=c[1].townInfo.name+"")&&fe(r,i)},d(c){c&&(M(e),M(a),M(s),M(u),M(f))}}}function W4(t){let e,n,o,i;return e=new rn({props:{class:"text-xl font-semibold text-center",$$slots:{default:[H4]},$$scope:{ctx:t}}}),o=new Hn({props:{class:"text-center mt-2 text-sm text-sidebarText/80 flex flex-col gap-2",$$slots:{default:[G4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&18&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&18&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function V4(t){let e,n,o;return{c(){e=P("button"),e.textContent="Begin",E(e,"class","bg-accent hover:bg-accent/80 text-white px-4 py-2 rounded-md transition-colors")},m(i,r){O(i,e,r),n||(o=te(e,"click",t[2]),n=!0)},p:Ie,d(i){i&&M(e),n=!1,o()}}}function x4(t){let e,n,o,i;return e=new ln({props:{$$slots:{default:[W4]},$$scope:{ctx:t}}}),o=new kn({props:{class:"mt-4 flex justify-center",$$slots:{default:[V4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&18&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function Y4(t){let e,n;return e=new sn({props:{transition:go,class:"bg-sidebarBackground text-sidebarText max-w-md rounded-md shadow-xl border border-accent p-4",$$slots:{default:[x4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&19&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function U4(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Y4]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new an({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){Y(e.$$.fragment)},m(l,a){V(e,l,a),o=!0},p(l,[a]){const s={};a&19&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Vt(()=>n=!1)),e.$set(s)},i(l){o||(w(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function K4(t,e,n){let o,i;ue(t,hi,a=>n(0,o=a)),ue(t,Ne,a=>n(1,i=a));const r=()=>Ae(hi,o=!1,o);function l(a){o=a,hi.set(o)}return[o,i,r,l]}class X4 extends he{constructor(e){super(),pe(this,e,K4,U4,me,{})}}function mf(t,e,n){const o=t.slice();return o[7]=e[n],o}function J4(t){let e,n,o=t[0].townInfo.name+"",i,r,l,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=P("div"),n=P("span"),i=W(o),r=H(),l=P("span"),a=W("🧑‍⚖️ "),u=W(s),E(e,"class","flex justify-between mr-10")},m(f,c){O(f,e,c),y(e,n),y(n,i),y(e,r),y(e,l),y(l,a),y(l,u)},p(f,c){c&1&&o!==(o=f[0].townInfo.name+"")&&fe(i,o),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&fe(u,s)},d(f){f&&M(e)}}}function pf(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,h=t[0].townInfo.guardians+"",_,k,v,S,L,j=t[0].townInfo.population_count-t[0].townInfo.employees+"",F,$,I;return e=new vt({props:{class:"mb-4"}}),d=new At({props:{class:`bg-accent rounded-2xl h-min select-none
            `+(t[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[Z4]},$$scope:{ctx:t}}}),d.$on("click",t[2]),v=new At({props:{class:`bg-accent rounded-2xl h-min select-none
            
              `+(t[0].townInfo.employees>=t[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[Q4]},$$scope:{ctx:t}}}),v.$on("click",t[3]),{c(){Y(e.$$.fragment),n=H(),o=P("div"),i=P("span"),i.textContent="Hire Guardians ⚔️",r=H(),l=P("br"),a=H(),s=P("span"),s.textContent=`Guardians work for you and are required to expand your kingdom.
            They do not generate revenue, but still require housing & food.`,u=H(),f=P("div"),c=P("div"),Y(d.$$.fragment),m=H(),p=P("span"),_=W(h),k=H(),Y(v.$$.fragment),S=H(),L=P("span"),F=W(j),$=W(`
              unemployed available for hire.`),E(i,"class","text-lg font-bold"),E(s,"class","text-sm"),E(p,"class","text-lg font-bold select-none px-2"),E(L,"class","w-max"),E(f,"class","flex flex-row justify-between align-middle items-center pt-2 pb-2 gap-2 "),E(o,"class","w-full")},m(N,q){V(e,N,q),O(N,n,q),O(N,o,q),y(o,i),y(o,r),y(o,l),y(o,a),y(o,s),y(o,u),y(o,f),y(f,c),V(d,c,null),y(c,m),y(c,p),y(p,_),y(c,k),V(v,c,null),y(f,S),y(f,L),y(L,F),y(L,$),I=!0},p(N,q){const A={};q&1&&(A.class=`bg-accent rounded-2xl h-min select-none
            `+(N[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `),q&1024&&(A.$$scope={dirty:q,ctx:N}),d.$set(A),(!I||q&1)&&h!==(h=N[0].townInfo.guardians+"")&&fe(_,h);const b={};q&1&&(b.class=`bg-accent rounded-2xl h-min select-none
            
              `+(N[0].townInfo.employees>=N[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `),q&1024&&(b.$$scope={dirty:q,ctx:N}),v.$set(b),(!I||q&1)&&j!==(j=N[0].townInfo.population_count-N[0].townInfo.employees+"")&&fe(F,j)},i(N){I||(w(e.$$.fragment,N),w(d.$$.fragment,N),w(v.$$.fragment,N),I=!0)},o(N){T(e.$$.fragment,N),T(d.$$.fragment,N),T(v.$$.fragment,N),I=!1},d(N){N&&(M(n),M(o)),x(e,N),x(d),x(v)}}}function Z4(t){let e;return{c(){e=W("-")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Q4(t){let e;return{c(){e=W("+")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function z4(t){let e;return{c(){e=W("Build a City Hall to manage your city.")},m(n,o){O(n,e,o)},p:Ie,i:Ie,o:Ie,d(n){n&&M(e)}}}function eC(t){let e,n,o,i,r=Ye(jr),l=[];for(let s=0;s<r.length;s+=1)l[s]=hf(mf(t,r,s));const a=s=>T(l[s],1,1,()=>{l[s]=null});return{c(){e=P("span"),e.textContent="Laws 🧑‍⚖️",n=H();for(let s=0;s<l.length;s+=1)l[s].c();o=Re(),E(e,"class","text-lg font-bold")},m(s,u){O(s,e,u),O(s,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);O(s,o,u),i=!0},p(s,u){if(u&1){r=Ye(jr);let f;for(f=0;f<r.length;f+=1){const c=mf(s,r,f);l[f]?(l[f].p(c,u),w(l[f],1)):(l[f]=hf(c),l[f].c(),w(l[f],1),l[f].m(o.parentNode,o))}for(Me(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)w(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)T(l[u]);i=!1},d(s){s&&(M(e),M(n),M(o)),st(l,s)}}}function tC(t){let e,n=t[7].cost+"",o;return{c(){e=W("Enact for 🧑‍⚖️ "),o=W(n)},m(i,r){O(i,e,r),O(i,o,r)},d(i){i&&(M(e),M(o))}}}function nC(t){let e;return{c(){e=W("Repeal ❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function oC(t){let e,n;function o(l,a){return a&1&&(e=null),e==null&&(e=!!l[0].economyAndLaws.enacted.includes(l[7].id)),e?nC:tC}let i=o(t,-1),r=i(t);return{c(){r.c(),n=Re()},m(l,a){r.m(l,a),O(l,n,a)},p(l,a){i!==(i=o(l,a))&&(r.d(1),r=i(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&M(n),r.d(l)}}}function hf(t){let e,n,o,i,r,l,a;function s(){return t[4](t[7])}return i=new At({props:{class:`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `,$$slots:{default:[oC]},$$scope:{ctx:t}}}),i.$on("click",s),l=new vt({props:{class:"bg-white opacity-30"}}),{c(){e=P("div"),n=P("span"),n.textContent=`${t[7].description}`,o=H(),Y(i.$$.fragment),r=H(),Y(l.$$.fragment),E(n,"class","text-sm"),E(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){O(u,e,f),y(e,n),y(e,o),V(i,e,null),O(u,r,f),V(l,u,f),a=!0},p(u,f){t=u;const c={};f&1&&(c.class=`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `),f&1025&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(w(i.$$.fragment,u),w(l.$$.fragment,u),a=!0)},o(u){T(i.$$.fragment,u),T(l.$$.fragment,u),a=!1},d(u){u&&(M(e),M(r)),x(i),x(l,u)}}}function iC(t){let e,n,o,i,r=Be("city_hall",t[0]).length>0,l,a,s,u,f,c,d,m;e=new rn({props:{class:"text-lg",$$slots:{default:[J4]},$$scope:{ctx:t}}}),o=new Hn({props:{class:"w-full "}});let p=r&&pf(t);a=new vt({props:{class:"mb-4"}});const h=[eC,z4],_=[];function k(v,S){return S&1&&(f=null),f==null&&(f=Be("city_hall",v[0]).length>0),f?0:1}return c=k(t,-1),d=_[c]=h[c](t),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment),i=H(),p&&p.c(),l=H(),Y(a.$$.fragment),s=H(),u=P("div"),d.c(),E(u,"class","w-full")},m(v,S){V(e,v,S),O(v,n,S),V(o,v,S),O(v,i,S),p&&p.m(v,S),O(v,l,S),V(a,v,S),O(v,s,S),O(v,u,S),_[c].m(u,null),m=!0},p(v,S){const L={};S&1025&&(L.$$scope={dirty:S,ctx:v}),e.$set(L),S&1&&(r=Be("city_hall",v[0]).length>0),r?p?(p.p(v,S),S&1&&w(p,1)):(p=pf(v),p.c(),w(p,1),p.m(l.parentNode,l)):p&&(Me(),T(p,1,1,()=>{p=null}),Oe());let j=c;c=k(v,S),c===j?_[c].p(v,S):(Me(),T(_[j],1,1,()=>{_[j]=null}),Oe(),d=_[c],d?d.p(v,S):(d=_[c]=h[c](v),d.c()),w(d,1),d.m(u,null))},i(v){m||(w(e.$$.fragment,v),w(o.$$.fragment,v),w(p),w(a.$$.fragment,v),w(d),m=!0)},o(v){T(e.$$.fragment,v),T(o.$$.fragment,v),T(p),T(a.$$.fragment,v),T(d),m=!1},d(v){v&&(M(n),M(i),M(l),M(s),M(u)),x(e,v),x(o,v),p&&p.d(v),x(a,v),_[c].d()}}}function rC(t){let e,n,o,i;return e=new ln({props:{$$slots:{default:[iC]},$$scope:{ctx:t}}}),o=new kn({}),{c(){Y(e.$$.fragment),n=H(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&1025&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(w(e.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),x(e,r),x(o,r)}}}function lC(t){let e,n;return e=new sn({props:{class:"bg-foreground text-accentText h-[80vh] w-full scroll",$$slots:{default:[rC]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&1025&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function sC(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[lC]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new an({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){Y(e.$$.fragment)},m(l,a){V(e,l,a),o=!0},p(l,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Vt(()=>n=!1)),e.$set(s)},i(l){o||(w(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function aC(t,e,n){let o,i;ue(t,Ne,u=>n(0,o=u)),ue(t,uo,u=>n(1,i=u));const r=()=>{o.townInfo.guardians>0?(Ae(Ne,o.townInfo.guardians-=1,o),Ae(Ne,o.townInfo.employees-=1,o)):Ct.set("No guardians to fire.")},l=()=>{o.townInfo.employees<o.townInfo.population_count?(Ae(Ne,o.townInfo.guardians+=1,o),Ae(Ne,o.townInfo.employees+=1,o)):Ct.set("Not enough people.")},a=u=>{o.economyAndLaws.enacted.includes(u.id)?o.economyAndLaws.enacted.splice(o.economyAndLaws.enacted.indexOf(u.id),1):u.cost<=o.resources.bureaucracy?(Ae(Ne,o.resources.bureaucracy-=u.cost,o),o.economyAndLaws.enacted.push(u.id)):Ct.set("Not enough bureaucracy!")};function s(u){i=u,uo.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[o,i,r,l,a,s]}class uC extends he{constructor(e){super(),pe(this,e,aC,sC,me,{})}}function fC(t){let e;return{c(){e=W("Got it")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function cC(t){let e,n,o,i,r,l,a,s;return r=new Cc({props:{class:"bg-accent hover:scale-105 min-w-[70%] transition-all duration-150 mt-2",$$slots:{default:[fC]},$$scope:{ctx:t}}}),r.$on("click",t[1]),a=new kl({}),{c(){e=P("span"),n=W("🛎️ "),o=new Zt(!1),i=H(),Y(r.$$.fragment),l=H(),Y(a.$$.fragment),o.a=null,E(e,"class","whitespace-pre-wrap overflow-scroll text-center sm:whitespace-normal break-all sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center"),ze(e,"max-height","80%")},m(u,f){O(u,e,f),y(e,n),o.m(t[0],e),O(u,i,f),V(r,u,f),O(u,l,f),V(a,u,f),s=!0},p(u,f){(!s||f&1)&&o.p(u[0]);const c={};f&4&&(c.$$scope={dirty:f,ctx:u}),r.$set(c)},i(u){s||(w(r.$$.fragment,u),w(a.$$.fragment,u),s=!0)},o(u){T(r.$$.fragment,u),T(a.$$.fragment,u),s=!1},d(u){u&&(M(e),M(i),M(l)),x(r,u),x(a,u)}}}function dC(t){let e,n;return e=new Cl({props:{class:`bg-foregroundDark text-white rounded-input shadow-3xl justify-center items-center flex flex-col py-2 text-lg font-semibold p-2 min-w-96 min-h-36
         sm:rounded-2xl sm:flex sm:flex-col sm:p-6 sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center max-h-[50vh]

         `,$$slots:{default:[cC]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function mC(t){let e,n;return e=new Sl({props:{open:t[0]!="",$$slots:{default:[dC]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,[i]){const r={};i&1&&(r.open=o[0]!=""),i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function pC(t,e,n){let o;return ue(t,Ct,r=>n(0,o=r)),[o,()=>{Ct.set("")}]}class hC extends he{constructor(e){super(),pe(this,e,pC,mC,me,{})}}function _f(t){let e,n,o,i;const r=[gC,_C],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(o.parentNode,o))},i(s){i||(w(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function _C(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,h,_,k,v,S,L,j,F=t[2]==!0&&gf();n=new B4({}),i=new Lm({}),l=new Wy({}),s=new yv({}),f=new x5({}),d=new h3({}),p=new uC({}),_=new hC({}),v=new Ey({});let $=t[0].environment.day==0&&t[3]&&bf();return{c(){F&&F.c(),e=H(),Y(n.$$.fragment),o=H(),Y(i.$$.fragment),r=H(),Y(l.$$.fragment),a=H(),Y(s.$$.fragment),u=H(),Y(f.$$.fragment),c=H(),Y(d.$$.fragment),m=H(),Y(p.$$.fragment),h=H(),Y(_.$$.fragment),k=H(),Y(v.$$.fragment),S=H(),$&&$.c(),L=Re()},m(I,N){F&&F.m(I,N),O(I,e,N),V(n,I,N),O(I,o,N),V(i,I,N),O(I,r,N),V(l,I,N),O(I,a,N),V(s,I,N),O(I,u,N),V(f,I,N),O(I,c,N),V(d,I,N),O(I,m,N),V(p,I,N),O(I,h,N),V(_,I,N),O(I,k,N),V(v,I,N),O(I,S,N),$&&$.m(I,N),O(I,L,N),j=!0},p(I,N){I[2]==!0?F?N&4&&w(F,1):(F=gf(),F.c(),w(F,1),F.m(e.parentNode,e)):F&&(Me(),T(F,1,1,()=>{F=null}),Oe()),I[0].environment.day==0&&I[3]?$?N&9&&w($,1):($=bf(),$.c(),w($,1),$.m(L.parentNode,L)):$&&(Me(),T($,1,1,()=>{$=null}),Oe())},i(I){j||(w(F),w(n.$$.fragment,I),w(i.$$.fragment,I),w(l.$$.fragment,I),w(s.$$.fragment,I),w(f.$$.fragment,I),w(d.$$.fragment,I),w(p.$$.fragment,I),w(_.$$.fragment,I),w(v.$$.fragment,I),w($),j=!0)},o(I){T(F),T(n.$$.fragment,I),T(i.$$.fragment,I),T(l.$$.fragment,I),T(s.$$.fragment,I),T(f.$$.fragment,I),T(d.$$.fragment,I),T(p.$$.fragment,I),T(_.$$.fragment,I),T(v.$$.fragment,I),T($),j=!1},d(I){I&&(M(e),M(o),M(r),M(a),M(u),M(c),M(m),M(h),M(k),M(S),M(L)),F&&F.d(I),x(n,I),x(i,I),x(l,I),x(s,I),x(f,I),x(d,I),x(p,I),x(_,I),x(v,I),$&&$.d(I)}}}function gC(t){let e,n;return e=new fv({}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p:Ie,i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function gf(t){let e,n;return e=new ky({}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function bf(t){let e,n;return e=new X4({}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function bC(t){let e,n,o=(t[1]||t[0]==null)&&_f(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&w(o,1)):(o=_f(i),o.c(),w(o,1),o.m(e.parentNode,e)):o&&(Me(),T(o,1,1,()=>{o=null}),Oe())},i(i){n||(w(o),n=!0)},o(i){T(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}const yC=1e-4;function vC(t,e,n){return{r:Math.round(t.r+(e.r-t.r)*n),g:Math.round(t.g+(e.g-t.g)*n),b:Math.round(t.b+(e.b-t.b)*n)}}function wC(t,e,n){let o,i,r,l,a,s,u,f,c,d,m,p;ue(t,lo,$=>n(10,o=$)),ue(t,Ze,$=>n(11,i=$)),ue(t,Pt,$=>n(2,r=$)),ue(t,Ne,$=>n(0,l=$)),ue(t,ao,$=>n(5,a=$)),ue(t,Bt,$=>n(12,s=$)),ue(t,Mi,$=>n(13,u=$)),ue(t,uo,$=>n(14,f=$)),ue(t,zn,$=>n(15,c=$)),ue(t,so,$=>n(16,d=$)),ue(t,Bo,$=>n(17,m=$)),ue(t,hi,$=>n(3,p=$));let h=!1;$y();let _=!1;const k=[{r:85,g:60,b:40},{r:115,g:85,b:55},{r:70,g:100,b:50},{r:120,g:65,b:50}];let v=0,S=1,L=0;function j(){const $=vC(k[v],k[S],L);document.body.style.backgroundColor=`rgb(${$.r}, ${$.g}, ${$.b})`,L+=yC,L>=1&&(L=0,v=S,S=(S+1)%k.length),requestAnimationFrame(j)}j(),document.addEventListener("keydown",$=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&$.key!=="Escape")return;switch($.key.toLowerCase()){case"p":case"escape":if(d){Ae(so,d=!1,d);break}if(c){Ae(zn,c=!1,c);break}if(f){Ae(uo,f=!1,f);break}if(u){Ae(Mi,u=!1,u);break}if(i.visible){Ae(Ze,i.visible=!1,i);break}if(s.visible){const N=l.plots[s.x][s.y];N.active=!1,N.type=-1,N.disabled=!1,Ae(Bt,s.visible=!1,s);break}if(a){ao.set(!1),document.querySelectorAll(".plot_container").forEach(q=>{q.style.cursor=""});break}Pt.set(!r),r&&Ae(Ze,i.visible=!1,i);break}});function F($,I,N){if(_==!0)switch(N){case"up":I-=2;break;case"down":I+=1;break;case"left":$-=2;break;case"right":$+=1;break}$<0?$=0:$>l.plots.length&&($=l.plots.length),I<0?I=0:I>l.plots.length&&(I=l.plots.length);let q=document.querySelectorAll(".plot_container"),A;if(q.forEach(b=>{b.dataset.x=="$x"&&b.dataset.y=="$y"&&(A=b)}),r==!1){if(A.dataset.canBeUpgraded==="true"&&localStorage.getItem(Tt)==null?Ae(Ze,i.visible=!0,i):Ae(Ze,i.visible=!1,i),A.dataset.refPlotX!==void 0&&A.dataset.refPlotY!=""?(_=!0,q.forEach(b=>{b.dataset.x==A.dataset.refPlotX&&b.dataset.y==A.dataset.refPlotY&&(A=b,$=parseInt(A.dataset.x),I=parseInt(A.dataset.y))})):_=!1,A.dataset.size!=="1"&&A.dataset.size!==void 0&&(_=!0),Ae(Ze,i.x=$,i),Ae(Ze,i.y=I,i),q.forEach(b=>{b.classList.remove("selected"),b.style.fontWeight=""}),A.classList.add("selected"),_){let b="4px solid #00800045";A.classList.remove("selected"),A.style.borderTop=b,A.style.borderLeft=b,A.style.fontWeight="600",q.forEach(C=>{const R=parseInt(`${C.dataset.x}`),B=parseInt(`${C.dataset.y}`);R==$+1&&B==I&&(C.style.borderLeft=b,C.style.borderBottom=b),R==$&&B==I+1&&(C.style.borderTop=b,C.style.borderRight=b),R==$+1&&B==I+1&&(C.style.borderBottom=b,C.style.borderRight=b)})}A.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Ae(lo,o={},o)}}return t.$$.update=()=>{t.$$.dirty&33&&(l?(Ae(Bo,m.visible=!1,m),n(1,h=!0),a==!0&&document.querySelectorAll(".plot_container").forEach(I=>{I.dataset.canbeupgraded=="true"&&(I.style.cursor="pointer",I.style.cursor="url('https://github.com/josephrcox/plots/raw/main/public/liege_place.cur'), auto")})):(Ae(Bo,m.visible=!0,m),n(1,h=!1)))},[l,h,r,p,F,a]}class kC extends he{constructor(e){super(),pe(this,e,wC,bC,me,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new kC({target:document.getElementById("app")});
