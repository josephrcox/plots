var Od=Object.defineProperty;var Nd=(t,e,n)=>e in t?Od(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var fn=(t,e,n)=>(Nd(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Ed(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Rd(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function Dd(){let t=localStorage.getItem("plots_active_game_db");const e=await Ed(t);console.log("http://localhost:5173/plots/?shareId="+e)}const Mr=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(Mr.shareId!=null||Mr.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(Rd(Mr.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),Dd();function ke(){}const ar=t=>t;function x(t,e){for(const n in e)t[n]=e[n];return t}function Yf(t){return t()}function hs(){return Object.create(null)}function qe(t){t.forEach(Yf)}function kn(t){return typeof t=="function"}function de(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let pi;function Ld(t,e){return t===e?!0:(pi||(pi=document.createElement("a")),pi.href=e,t===pi.href)}function Fd(t){return Object.keys(t).length===0}function yl(t,...e){if(t==null){for(const o of e)o(void 0);return ke}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Xf(t){let e;return yl(t,n=>e=n)(),e}function fe(t,e,n){t.$$.on_destroy.push(yl(e,n))}function pe(t,e,n,o){if(t){const i=Jf(t,e,n,o);return t[0](i)}}function Jf(t,e,n,o){return t[1]&&o?x(n.ctx.slice(),t[1](o(e))):n.ctx}function _e(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function he(t,e,n,o,i,r){if(i){const l=Jf(e,n,o,r);t.p(l,i)}}function ge(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Re(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function se(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Ne(t,e,n){return t.set(n),e}function je(t){return t&&kn(t.destroy)?t.destroy:ke}const xf=typeof window<"u";let wl=xf?()=>window.performance.now():()=>Date.now(),kl=xf?t=>requestAnimationFrame(t):ke;const so=new Set;function Zf(t){so.forEach(e=>{e.c(t)||(so.delete(e),e.f())}),so.size!==0&&kl(Zf)}function Cl(t){let e;return so.size===0&&kl(Zf),{promise:new Promise(n=>{so.add(e={c:t,f:n})}),abort(){so.delete(e)}}}function y(t,e){t.appendChild(e)}function Qf(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function $d(t){const e=P("style");return e.textContent="/* empty */",qd(Qf(t),e),e.sheet}function qd(t,e){return y(t.head||t,e),e.sheet}function M(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function _t(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function P(t){return document.createElement(t)}function ur(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function V(t){return document.createTextNode(t)}function G(){return V(" ")}function De(){return V("")}function z(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function N(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const jd=["width","height"];function ue(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&jd.indexOf(o)===-1?t[o]=e[o]:N(t,o,e[o])}function Ri(t,e){for(const n in e)N(t,n,e[n])}function Bd(t,e){Object.keys(e).forEach(n=>{Vd(t,n,e[n])})}function Vd(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:N(t,e,n)}function hn(t){return/-/.test(t)?Bd:ue}function Gd(t){return Array.from(t.childNodes)}function ae(t,e){e=""+e,t.data!==e&&(t.data=e)}function en(t,e){t.value=e??""}function Je(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function gs(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function cn(t,e,n){t.classList.toggle(e,!!n)}function zf(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class dn{constructor(e=!1){fn(this,"is_svg",!1);fn(this,"e");fn(this,"n");fn(this,"t");fn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=ur(n.nodeName):this.e=P(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)M(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(T)}}const Di=new Map;let Li=0;function Hd(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Wd(t,e){const n={stylesheet:$d(e),rules:{}};return Di.set(t,n),n}function Fi(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let v=0;v<=1;v+=s){const w=e+(n-e)*r(v);u+=v*100+`%{${l(w,1-w)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${Hd(f)}_${a}`,d=Qf(t),{stylesheet:m,rules:_}=Di.get(d)||Wd(d,t);_[c]||(_[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${c} ${o}ms linear ${i}ms 1 both`,Li+=1,c}function $i(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),Li-=i,Li||Kd())}function Kd(){kl(()=>{Li||(Di.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&T(e)}),Di.clear())})}let Ho;function Bo(t){Ho=t}function Zo(){if(!Ho)throw new Error("Function called outside component initialization");return Ho}function fr(t){Zo().$$.on_mount.push(t)}function Ud(t){Zo().$$.on_destroy.push(t)}function Yd(){const t=Zo();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=zf(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function cr(t,e){return Zo().$$.context.set(t,e),e}function dr(t){return Zo().$$.context.get(t)}function oe(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const io=[],Ie=[];let ao=[];const Yr=[],ec=Promise.resolve();let Xr=!1;function tc(){Xr||(Xr=!0,ec.then(nc))}function Al(){return tc(),ec}function ot(t){ao.push(t)}function Cn(t){Yr.push(t)}const Ir=new Set;let eo=0;function nc(){if(eo!==0)return;const t=Ho;do{try{for(;eo<io.length;){const e=io[eo];eo++,Bo(e),Xd(e.$$)}}catch(e){throw io.length=0,eo=0,e}for(Bo(null),io.length=0,eo=0;Ie.length;)Ie.pop()();for(let e=0;e<ao.length;e+=1){const n=ao[e];Ir.has(n)||(Ir.add(n),n())}ao.length=0}while(io.length);for(;Yr.length;)Yr.pop()();Xr=!1,Ir.clear(),Bo(t)}function Xd(t){if(t.fragment!==null){t.update(),qe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ot)}}function Jd(t){const e=[],n=[];ao.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),ao=e}let Io;function Sl(){return Io||(Io=Promise.resolve(),Io.then(()=>{Io=null})),Io}function En(t,e,n){t.dispatchEvent(zf(`${e?"intro":"outro"}${n}`))}const Si=new Set;let Wt;function Pe(){Wt={r:0,c:[],p:Wt}}function Oe(){Wt.r||qe(Wt.c),Wt=Wt.p}function k(t,e){t&&t.i&&(Si.delete(t),t.i(e))}function A(t,e,n,o){if(t&&t.o){if(Si.has(t))return;Si.add(t),Wt.c.push(()=>{Si.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const Tl={duration:0};function Jt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&$i(t,l)}function f(){const{delay:d=0,duration:m=300,easing:_=ar,tick:h=ke,css:v}=i||Tl;v&&(l=Fi(t,0,1,m,d,_,v,s++)),h(0,1);const w=wl()+d,S=w+m;a&&a.abort(),r=!0,ot(()=>En(t,!0,"start")),a=Cl(C=>{if(r){if(C>=S)return h(1,0),En(t,!0,"end"),u(),r=!1;if(C>=w){const R=_((C-w)/m);h(R,1-R)}}return r})}let c=!1;return{start(){c||(c=!0,$i(t),kn(i)?(i=i(o),Sl().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function xt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=Wt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=ar,tick:m=ke,css:_}=i||Tl;_&&(l=Fi(t,1,0,c,f,d,_));const h=wl()+f,v=h+c;ot(()=>En(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),Cl(w=>{if(r){if(w>=v)return m(0,1),En(t,!1,"end"),--a.r||qe(a.c),!1;if(w>=h){const S=d((w-h)/c);m(1-S,S)}}return r})}return kn(i)?Sl().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&$i(t,l),r=!1)}}}function Yt(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&$i(t,u)}function d(_,h){const v=_.b-l;return h*=Math.abs(v),{a:l,b:_.b,d:v,duration:h,start:_.start,end:_.start+h,group:_.group}}function m(_){const{delay:h=0,duration:v=300,easing:w=ar,tick:S=ke,css:C}=r||Tl,R={start:wl()+h,b:_};_||(R.group=Wt,Wt.r+=1),"inert"in t&&(_?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=R:(C&&(c(),u=Fi(t,l,_,v,h,w,C)),_&&S(0,1),a=d(R,v),ot(()=>En(t,_,"start")),Cl(L=>{if(s&&L>s.start&&(a=d(s,v),s=null,En(t,a.b,"start"),C&&(c(),u=Fi(t,l,a.b,a.duration,0,w,r.css))),a){if(L>=a.end)S(l=a.b,1-l),En(t,a.b,"end"),s||(a.b?c():--a.group.r||qe(a.group.c)),a=null;else if(L>=a.start){const E=L-a.start;l=a.a+a.d*w(E/a.duration),S(l,1-l)}}return!!(a||s)}))}return{run(_){kn(r)?Sl().then(()=>{r=r({direction:_?"in":"out"}),m(_)}):m(_)},end(){c(),a=s=null}}}function Ke(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function xd(t,e){A(t,1,1,()=>{e.delete(t.key)})}function Zd(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,m=r.length,_=d;const h={};for(;_--;)h[t[_].key]=_;const v=[],w=new Map,S=new Map,C=[];for(_=m;_--;){const B=c(i,r,_),$=n(B);let D=l.get($);D?C.push(()=>D.p(B,e)):(D=u($,B),D.c()),w.set($,v[_]=D),$ in h&&S.set($,Math.abs(_-h[$]))}const R=new Set,L=new Set;function E(B){k(B,1),B.m(a,f),l.set(B.key,B),f=B.first,m--}for(;d&&m;){const B=v[m-1],$=t[d-1],D=B.key,U=$.key;B===$?(f=B.first,d--,m--):w.has(U)?!l.has(D)||R.has(D)?E(B):L.has(U)?d--:S.get(D)>S.get(U)?(L.add(D),E(B)):(R.add(U),d--):(s($,l),d--)}for(;d--;){const B=t[d];w.has(B.key)||s(B,l)}for(;m;)E(v[m-1]);return qe(C),v}function we(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function rt(t){return typeof t=="object"&&t!==null?t:{}}function An(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function J(t){t&&t.c()}function Y(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),ot(()=>{const r=t.$$.on_mount.map(Yf).filter(kn);t.$$.on_destroy?t.$$.on_destroy.push(...r):qe(r),t.$$.on_mount=[]}),i.forEach(ot)}function X(t,e){const n=t.$$;n.fragment!==null&&(Jd(n.after_update),qe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Qd(t,e){t.$$.dirty[0]===-1&&(io.push(t),tc(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ve(t,e,n,o,i,r,l=null,a=[-1]){const s=Ho;Bo(t);const u=t.$$={fragment:null,ctx:[],props:r,update:ke,not_equal:i,bound:hs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:hs(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...m)=>{const _=m.length?m[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=_)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](_),f&&Qd(t,c)),d}):[],u.update(),f=!0,qe(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=Gd(e.target);u.fragment&&u.fragment.l(c),c.forEach(T)}else u.fragment&&u.fragment.c();e.intro&&k(t.$$.fragment),Y(t,e.target,e.anchor),nc()}Bo(s)}class ye{constructor(){fn(this,"$$");fn(this,"$$set")}$destroy(){X(this,1),this.$destroy=ke}$on(e,n){if(!kn(n))return ke;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!Fd(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const zd="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(zd);const to=[];function Rn(t,e){return{subscribe:Ye(t,e).subscribe}}function Ye(t,e=ke){let n;const o=new Set;function i(a){if(de(t,a)&&(t=a,n)){const s=!to.length;for(const u of o)u[1](),to.push(u,t);if(s){for(let u=0;u<to.length;u+=2)to[u][0](to[u+1]);to.length=0}}}function r(a){i(a(t))}function l(a,s=ke){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||ke),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function sn(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Rn(n,(l,a)=>{let s=!1;const u=[];let f=0,c=ke;const d=()=>{if(f)return;c();const _=e(o?u[0]:u,l,a);r?l(_):c=kn(_)?_:ke},m=i.map((_,h)=>yl(_,v=>{u[h]=v,f&=~(1<<h),s&&d()},()=>{f|=1<<h}));return s=!0,d(),function(){qe(m),c(),s=!1}})}function bs(t){return{subscribe:t.subscribe.bind(t)}}const em={plots:[],timeSpent:0,devMode:!1,lastChangeDay:0,townLog:"",currentTutorialStep:0,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,happiness:150,health:150,community:150,knowledge_points:0,productivity:100},resources:{food:50,wood:300,stone:300,metal:0,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0}},tm={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]},Ml={0:"Easy",1:"Normal",2:"Hard"},nm={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},om={0:.35,1:.25,2:.25},le=[{id:"small_homes",title:"ðŸ  Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0}},{id:"farm",title:"ðŸ¥• Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"tree_farm",title:"ðŸŒ² Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:15,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"quarry",title:"â›ï¸ Quarry",type:"quarry",description:"Produces stone, small amounts of metal",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:18,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"livestock_farm",title:"ðŸ„ Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:42,requirements:{gold:300,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"bakery",title:"ðŸ¥– Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:90,requirements:{gold:500,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:170,stone:170,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15}},{id:"stables",title:"ðŸ´ Stables",type:"business",description:"Makes money and improves health",revenue_per_week:24,requirements:{gold:400,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:120,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"church",title:"â›ªï¸ Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:500,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:350,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:1,community:1},immediate_variable_changes:{happiness:50,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"pub",title:"ðŸ» Pub",type:"recreation",description:"Increases knowledge, happiness, community. Isn't great for health.",revenue_per_week:40,knowledge_points_per_month:1,requirements:{gold:500,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.93,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_market",title:"ðŸ›’ Village Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:180,requirements:{gold:1400,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:150,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:35}},{id:"fishery",title:"ðŸ  Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:1500,plots:[],employees:9,knowledge:0,size:1,xp:0,resources:{food:0,wood:1500,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:75,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"neighborhood",title:"ðŸ˜ï¸ Neighborhood",type:"residential",description:"+64 people",revenue_per_week:0,requirements:{gold:700,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1,community:1.1},immediate_variable_changes:{happiness:0,health:0,population:64,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"vineyard",title:"ðŸ‡ Vineyard",type:"farm",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:700,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"water_wheel",title:"ðŸ’§ Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:200,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"adv_water_wheel",title:"ðŸ’§ Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:400,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:100,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"park",title:"ðŸŽª Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_inn",title:"ðŸ›Œ Village Inn",type:"tourism",description:"Enables tourism to your town, which increases revenue at certain stores.",revenue_per_week:23,requirements:{gold:1500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"schoolhouse",title:"ðŸ« Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:2500,plots:[],employees:20,knowledge:0,size:1,xp:0,resources:{food:0,wood:500,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"blacksmith",title:"âš’ï¸ Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:300,requirements:{gold:3e3,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:75,wood:0,stone:0,metal:10,bureaucracy:0,food:0}},{id:"library",title:"ðŸ“• Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:10,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:225,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lumber_mill",title:"ðŸ­ Lumber Mill",type:"industrial",description:"Increases wood production by 25%, has to be next to a tree farm",revenue_per_week:0,requirements:{gold:4e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"solar_farm",title:"â˜€ï¸ Solar farm",type:"industrial",description:"Produces a lot of power without the need of water.",revenue_per_week:0,requirements:{gold:5e3,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:500,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:50,bureaucracy:0,food:0}},{id:"general_store",title:"ðŸ›’ General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:500,requirements:{gold:7e3,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1.1},immediate_variable_changes:{happiness:20,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:40,wood:0,stone:0,metal:0,bureaucracy:0,food:100}},{id:"healing_house",title:"ðŸ¥ Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e4,plots:[],employees:18,knowledge:0,size:1,xp:0,resources:{food:0,wood:800,stone:1e3,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"community_center",title:"ðŸ«¶ Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:19e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:700,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.09,health:1,community:2},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"city_hall",title:"ðŸ—³ï¸ City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a lot of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:3e4,plots:[],employees:48,knowledge:500,size:1,xp:0,resources:{food:0,wood:1250,stone:800,metal:100,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.99,health:1,community:1.2},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:4,active_costs:{gold:300,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"mine",title:"â›ï¸ Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:5e4,plots:[],employees:64,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:150,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.95,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:50,metal:50,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:60,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"academy",title:"ðŸ« Academy",type:"education",description:"Produces a lot of knowledge, requires high population",revenue_per_week:0,knowledge_points_per_month:90,requirements:{gold:3e4,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1600,stone:1600,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:500,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"bank",title:"ðŸ¦ Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:75e3,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:75,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lab",title:"ðŸ§ª Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:1e5,plots:[],employees:24,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:0,stone:1e3,metal:3e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:300,power:35,wood:0,stone:0,metal:0,bureaucracy:0,food:0}}],Po={empty_unusable:"rgba(21, 40, 20, 0.70)",empty_buildable:"#CBB827",residential:"#de7633",farm:"#6b8f49",lumber:"#8E805C",business:"#9273a5",recreation:"#5277b1",shop:"#d896d8",tourism:"#d896d8",education:"#BFBEEB",medical:"#4a5ba3",bank:"#8477be",federal:"#8477be",science:"#4a5ba3",mine:"#d9874a",quarry:"#868685",industrial:"#868615"};function qi(t,e=!1){if(t<0)return t==-1?e?Po.empty_buildable:Po.empty_unusable:t==-2?Po.recreation:Po.empty_unusable;const n=le[t];return Po[n.type]}const vs={lab:1,city_hall:1,bank:1,community_center:1,inn:1},jt="plots_active_game_db",Wo="plots_user_db";function im(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let Le=Ye(JSON.parse(localStorage.getItem(jt)||"null")),on=Ye(JSON.parse(localStorage.getItem(Wo)||"null"));sm();function rm(t,e,n,o){let i={...em};i.economyAndLaws.max_tax_rate=nm[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:im(),i.difficulty=parseInt(t),o&&(i.devMode=!0,i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const l=t=="0"?8:t=="1"?12:t=="2"?16:1,a=Math.floor(Math.random()*l/2)+1,s=Math.floor(Math.random()*l/2)+1;for(let u=0;u<l;u++){r.push([]);for(let f=0;f<l;f++){const c=u==a&&f==s?!1:lm(u,f,l);r[u][f]={id:Math.random().toString(36).substring(2,9),active:!1,x:u,y:f,type:c?-9:-1,typeId:"",mineralSource:c?!1:a===u&&s===f,water:a===u&&s===f?!1:c}}}i.plots=r,localStorage.reset=!1,localStorage.setItem(jt,JSON.stringify(i)),Le.set(i),location.reload()}function lm(t,e,n){let o=.06;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=5),t==0&&e==0&&(o=0),Math.random()<o}function sm(){if(localStorage.getItem(Wo)===null){let t=tm;t.username="my_username_click_to_change",localStorage.setItem(Wo,JSON.stringify(t)),on.set(t)}}function ys(t,e){var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var o=Math.round(t)/n;return+o.toFixed(e)}function ji(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=le[o].immediate_variable_changes.population,n.townInfo.population_max-=le[o].immediate_variable_changes.population,n.townInfo.happiness-=le[o].immediate_variable_changes.happiness,n.townInfo.health-=le[o].immediate_variable_changes.health,n.modifiers.happiness=ys(n.modifiers.happiness/le[o].effect_modifiers.happiness,2),n.modifiers.health=ys(n.modifiers.health/le[o].effect_modifiers.health,2),n.townInfo.employees-=le[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(le[o].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&ji(r,l,n);n.lastChangeDay=n.environment.day,Le.set(n),localStorage.setItem(jt,JSON.stringify(n))}function Ze(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(le[e.plots[o][i].type].id===t||le[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function Il(t=null){localStorage.removeItem(jt),Le.set(null),t&&(localStorage.setItem(jt,JSON.stringify(t)),Le.set(t)),location.reload()}function am(){oc.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}let Qe=Ye({visible:!1,x:0,y:0,isMineralSource:!1}),Vo=Ye({visible:!1});function um(t){on.set(t),localStorage.setItem(Wo,JSON.stringify(t))}let co=Ye({}),Ti=Ye(!1),Nt=Ye(!1),Jr=Ye(!0),ws=Ye(!1),Bi=Ye(!1),Vi=Ye(!1),Mi=Ye(!1),Gi=Ye(!1),Hi=localStorage.getItem("showCompletedAchievements")==="true"?Ye(!0):Ye(!1),oc=localStorage.getItem("showOnlyAffordable")==="true"?Ye(!0):Ye(!1),ic=localStorage.getItem("pauseMenuTab")==="game"?Ye("game"):Ye("achievements"),xr=Ye(750);const dt={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},bt={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}},et=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"ðŸ˜",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"ðŸ“Œ",check:t=>Ze("small_school",t).length!==0||Ze("large_school",t).length!==0||Ze("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"ï¹©",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"ðŸ’µ",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"ðŸš²",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"ðŸŒ›",check:t=>t.economyAndLaws.weeklyProfit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"ðŸŒ›",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"ðŸŒ",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"ðŸ™ƒ",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"ðŸ‘",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"ðŸ‘",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"ðŸ‘Œ",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"ðŸ’¸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"ðŸ¦",check:t=>Ze("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"â¤ï¸",check:t=>Ze("community_center",t).length!==0,prize:1e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"ðŸ’°",check:t=>t.townInfo.gold>=1e6,prize:15e4}],$t=[{message:"My liege, we need places to live! Build the first homes.",isComplete:t=>t.townInfo.population_max>0,goldReward:250},{message:"My liege, the village is going to run out of food soon. Build some farms. ",isComplete:t=>t.townInfo.employees>0,goldReward:250},{message:"My liege, lumber is needed for most buildings. Build a tree farm. ",isComplete:t=>Ze("tree_farm",t).length>0,goldReward:250},{message:"My liege, for the village to be successful, everyone needs a job. ",isComplete:t=>t.townInfo.employees>=t.townInfo.population_count,goldReward:250},{message:"My liege, the village will need stone and metals to expand. Build a quarry. ",isComplete:t=>Ze("quarry",t).length>0,goldReward:500},{message:"My liege, things are picking up but we will need far more money. Get weekly revenue to >=200 gold. ",isComplete:t=>t.economyAndLaws.weeklyProfit>=200,goldReward:1e3},{message:"My liege, as the town develops we will need the smartest and brightest. Build plots to get our Knowledge to 250.",isComplete:t=>t.townInfo.knowledge_points>=250,goldReward:2e3},{message:"My liege, the village is growing - woohoo! But we need to have more workers. Get the population to 100.",isComplete:t=>t.townInfo.population_count>=100,goldReward:1500},{message:"My liege, some advanced buildings require power. Start generating power with a waterwheel.",isComplete:t=>t.resources.power>0,goldReward:2e3},{message:"My liege, we need more metals. Find a good spot for a mine and build it. ",isComplete:t=>Ze("mine",t).length>0,goldReward:2e3}];function rc(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=rc(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function fm(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=rc(t))&&(o&&(o+=" "),o+=e);return o}const Pl="-";function cm(t){const e=mm(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split(Pl);return a[0]===""&&a.length!==1&&a.shift(),lc(a,e)||dm(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function lc(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?lc(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(Pl);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const ks=/^\[(.+)\]$/;function dm(t){if(ks.test(t)){const e=ks.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function mm(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return _m(Object.entries(t.classGroups),n).forEach(([r,l])=>{Zr(l,o,r,e)}),o}function Zr(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Cs(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(pm(i)){Zr(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{Zr(l,Cs(e,r),n,o)})})}function Cs(t,e){let n=t;return e.split(Pl).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function pm(t){return t.isThemeGetter}function _m(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function hm(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const sc="!";function gm(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let h=0;h<l.length;h++){let v=l[h];if(s===0){if(v===o&&(n||l.slice(h,h+i)===e)){a.push(l.slice(u,h)),u=h+i;continue}if(v==="/"){f=h;continue}}v==="["?s++:v==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(sc),m=d?c.substring(1):c,_=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:_}}}function bm(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function vm(t){return{cache:hm(t.cacheSize),splitModifiers:gm(t),...cm(t)}}const ym=/\s+/;function wm(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(ym).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const m=bm(a).join(":");return{isTailwindClass:!0,modifierId:s?m+sc:m,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function km(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ac(e))&&(o&&(o+=" "),o+=n);return o}function ac(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=ac(t[o]))&&(n&&(n+=" "),n+=e);return n}function Qr(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=vm(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=wm(s,n);return i(s,f),f}return function(){return r(km.apply(null,arguments))}}function Xe(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const uc=/^\[(?:([a-z-]+):)?(.+)\]$/i,Cm=/^\d+\/\d+$/,Am=new Set(["px","full","screen"]),Sm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Tm=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Mm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Im=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Pm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Qt(t){return On(t)||Am.has(t)||Cm.test(t)}function mn(t){return vo(t,"length",$m)}function On(t){return!!t&&!Number.isNaN(Number(t))}function _i(t){return vo(t,"number",On)}function Oo(t){return!!t&&Number.isInteger(Number(t))}function Om(t){return t.endsWith("%")&&On(t.slice(0,-1))}function Ge(t){return uc.test(t)}function pn(t){return Sm.test(t)}const Nm=new Set(["length","size","percentage"]);function Em(t){return vo(t,Nm,fc)}function Rm(t){return vo(t,"position",fc)}const Dm=new Set(["image","url"]);function Lm(t){return vo(t,Dm,jm)}function Fm(t){return vo(t,"",qm)}function No(){return!0}function vo(t,e,n){const o=uc.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function $m(t){return Tm.test(t)&&!Mm.test(t)}function fc(){return!1}function qm(t){return Im.test(t)}function jm(t){return Pm.test(t)}function zr(){const t=Xe("colors"),e=Xe("spacing"),n=Xe("blur"),o=Xe("brightness"),i=Xe("borderColor"),r=Xe("borderRadius"),l=Xe("borderSpacing"),a=Xe("borderWidth"),s=Xe("contrast"),u=Xe("grayscale"),f=Xe("hueRotate"),c=Xe("invert"),d=Xe("gap"),m=Xe("gradientColorStops"),_=Xe("gradientColorStopPositions"),h=Xe("inset"),v=Xe("margin"),w=Xe("opacity"),S=Xe("padding"),C=Xe("saturate"),R=Xe("scale"),L=Xe("sepia"),E=Xe("skew"),B=Xe("space"),$=Xe("translate"),D=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],b=()=>["auto",Ge,e],g=()=>[Ge,e],I=()=>["",Qt,mn],O=()=>["auto",On,Ge],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],ee=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",Ge],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[On,_i],ne=()=>[On,Ge];return{cacheSize:500,separator:":",theme:{colors:[No],spacing:[Qt,mn],blur:["none","",pn,Ge],brightness:te(),borderColor:[t],borderRadius:["none","","full",pn,Ge],borderSpacing:g(),borderWidth:I(),contrast:te(),grayscale:Q(),hueRotate:ne(),invert:Q(),gap:g(),gradientColorStops:[t],gradientColorStopPositions:[Om,mn],inset:b(),margin:b(),opacity:te(),padding:g(),saturate:te(),scale:te(),sepia:Q(),skew:ne(),space:g(),translate:g()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[pn]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Ge]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Oo,Ge]}],basis:[{basis:b()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",Oo,Ge]}],"grid-cols":[{"grid-cols":[No]}],"col-start-end":[{col:["auto",{span:["full",Oo,Ge]},Ge]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[No]}],"row-start-end":[{row:["auto",{span:[Oo,Ge]},Ge]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...ee()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ee(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ee(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ge,e]}],"min-w":[{"min-w":[Ge,e,"min","max","fit"]}],"max-w":[{"max-w":[Ge,e,"none","full","min","max","fit","prose",{screen:[pn]},pn]}],h:[{h:[Ge,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ge,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ge,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ge,e,"auto","min","max","fit"]}],"font-size":[{text:["base",pn,mn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_i]}],"font-family":[{font:[No]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",On,_i]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qt,Ge]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qt,mn]}],"underline-offset":[{"underline-offset":["auto",Qt,Ge]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:g()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),Rm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Em]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Lm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:F()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Qt,Ge]}],"outline-w":[{outline:[Qt,mn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Qt,mn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",pn,Fm]}],"shadow-color":[{shadow:[No]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":Z()}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",pn,Ge]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[C]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Oo,Ge]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":g()}],"scroll-mx":[{"scroll-mx":g()}],"scroll-my":[{"scroll-my":g()}],"scroll-ms":[{"scroll-ms":g()}],"scroll-me":[{"scroll-me":g()}],"scroll-mt":[{"scroll-mt":g()}],"scroll-mr":[{"scroll-mr":g()}],"scroll-mb":[{"scroll-mb":g()}],"scroll-ml":[{"scroll-ml":g()}],"scroll-p":[{"scroll-p":g()}],"scroll-px":[{"scroll-px":g()}],"scroll-py":[{"scroll-py":g()}],"scroll-ps":[{"scroll-ps":g()}],"scroll-pe":[{"scroll-pe":g()}],"scroll-pt":[{"scroll-pt":g()}],"scroll-pr":[{"scroll-pr":g()}],"scroll-pb":[{"scroll-pb":g()}],"scroll-pl":[{"scroll-pl":g()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qt,mn,_i]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function Bm(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){Ii(t,"cacheSize",e),Ii(t,"prefix",n),Ii(t,"separator",o);for(const l in r)Vm(t[l],r[l]);for(const l in i)Gm(t[l],i[l]);return t}function Ii(t,e,n){n!==void 0&&(t[e]=n)}function Vm(t,e){if(e)for(const n in e)Ii(t,n,e[n])}function Gm(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function Hm(t,...e){return typeof t=="function"?Qr(zr,t,...e):Qr(()=>Bm(zr(),t),...e)}const cc=Qr(zr);function Wm(t){const e=t-1;return e*e*e+1}function $e(...t){return cc(fm(t))}const mr=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:Wm}};function it(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function Pr(t){return t<10?"0"+t:t}function Km(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${Pr(o)}:${Pr(n)}:${Pr(e)}`}function Te(t){return le.findIndex(e=>e.id===t)}function As(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function gn(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function mo(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ss(t,e=!0){return t=it(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function Ln(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[l][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&le[n.plots[t][e].type].id=="farm"))return!0}return!1}function Um(t,e,n,o){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],r=!0;for(let l=0;l<o.length;l++){let a=!1;if(o[l]=="water"&&(console.log("water"),Ln(t,e,n,!0))){a=!0;break}for(let s=0;s<i.length;s++){let u=i[s][0],f=i[s][1];if(u>=0&&u<n.plots.length&&f>=0&&f<n.plots[0].length&&n.plots[u][f].active==!0&&n.plots[u][f].type>0&&le[n.plots[u][f].type].id==o[l]){a=!0;break}}if(!a){r=!1;break}}return r}function Ym(t,e=0){let n=t*.92,o=t*1.08;return it(Math.random()*(o-n)+n,e)}const el=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:100,weekly_effect:t=>(t.modifiers.happiness*=1.02,t.modifiers.health*=1.02,t.resources.food-=2*Ze("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.25,t.modifiers.health*=1.25),t)}],Ts=30;function Xm(t){let e=!0;for(let n=0;n<t.plots.length;n++)for(let o=0;o<t.plots[n].length;o++)if(t.plots[n][o].active==!1){e=!1;break}return e}function Jm(t){return t.endGameDetails!=null||(t.townInfo.happiness<70&&t.last_warning_happiness+365<t.environment.day&&(alert("Your citizens are very unhappy. You should do something about it."),t.last_warning_happiness=t.environment.day),t.townInfo.health<70&&t.last_warning_health+365<t.environment.day&&(alert("Your citizens are very unhealthy. You should do something about it."),t.last_warning_health=t.environment.day)),t}function xm(t,e,n){return t.resource_rate.food=gt(n.food-e.food,2),t.resource_rate.wood=gt(n.wood-e.wood,2),t.resource_rate.stone=gt(n.stone-e.stone,2),t.resource_rate.metal=gt(n.metal-e.metal,2),t.resource_rate.bureaucracy=gt(n.bureaucracy-e.bureaucracy,2),t}function Zm(t){return t.hasBank,t}function Qm(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function tl(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function nl(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function zm(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t.townInfo.community*=t.modifiers.community,t}function gt(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function ep(t,e,n){let o,i,r,l,a,s;fe(t,xr,p=>n(6,o=p)),fe(t,Le,p=>n(7,i=p)),fe(t,Ti,p=>n(8,r=p)),fe(t,Vi,p=>n(9,l=p)),fe(t,Nt,p=>n(10,a=p)),fe(t,on,p=>n(11,s=p));function u(p){p=W(p),p=g(p),p=_(p),p=Qm(p),p=Z(p),p=Jm(p);const H={food:p.resources.food,wood:p.resources.wood,stone:p.resources.stone,metal:p.resources.metal,bureaucracy:p.resources.bureaucracy};p=w(p),p=b(p),p=S(p),p=C(p),p=K(p),p=v(p);const q={food:p.resources.food,wood:p.resources.wood,stone:p.resources.stone,metal:p.resources.metal,bureaucracy:p.resources.bureaucracy};return p=xm(p,H,q),p}function f(p){return p=D(p),p=Zm(p),p=h(p),p=zm(p),p=Q(p),p=nl(p),p}function c(p){return p=I(p),p=O(p),p=U(p),p}function d(p){return p=ee(p),p=F(p),p=tl(p),p.overtime==!1&&(p=$(p),p=R(p)),p=B(p),p=L(p),p}function m(){Le.update(p=>{if(p==null||(p.tick++,p.tick%Ts!==0)||a||!p||p.endGameDetails.msg!==""&&p.overtime==!1||p.townInfo.population_count<=0)return p;try{return p.environment.day+=1,p.environment.day%7===0&&(p=u(p)),p.environment.day%30===0&&(p.townLog="",p=f(p)),p.environment.day%90===0&&(p=c(p)),window.location.search.includes("debug=true")&&console.log(p),p=d(p),p}catch(H){return console.error("Error in game loop:",H),p}})}Le.subscribe(p=>{p&&localStorage.setItem(jt,JSON.stringify(p))}),on.subscribe(p=>{p&&localStorage.setItem(Wo,JSON.stringify(p))});function _(p){let H=!1,q=!1,ie=!1,re=!1;for(let Ae=0;Ae<p.plots.length;Ae++)for(let Fe=0;Fe<p.plots[Ae].length;Fe++)if(p.plots[Ae][Fe].active==!0&&p.plots[Ae][Fe].type>-1){let Me=le[p.plots[Ae][Fe].type].id;Me=="bank"&&(H=!0),Me=="city_hall"&&(ie=!0),(Me=="small_hospital"||Me=="large_hospital")&&(q=!0),Me=="lab"&&(re=!0)}return p.hasBank=H,p.hasHospital=q,p.hasCityHall=ie,p.hasLab=re,p}function h(p){const H=p.townInfo.productivity;let q=1;if(H>50&&H<100)q=1.05;else{if(H==100)return p;H<50?q=1.2:H>100&&H<125?q=.98:H>125&&H<150?q=.96:H>150&&H<175?q=.9:H>175&&H<200&&(q=.8)}const ie=p.townInfo.happiness;return p.townInfo.happines*=q,q>1?p=te(`Happiness has gone up by ${Math.round(p.townInfo.happiness/ie*100)}% due to productivity.`,p):p=te(`Happiness has gone down by ${100-Math.round(p.townInfo.happiness/ie*100)}% due to productivity.`,p),p}function v(p){const H=p.townInfo.population_count;return p.resources.food<H?(p.modifiers.happiness*=.95,p.modifiers.health*=.95,p=te("not enough food",p),p.resources.food=0):p.resources.food-=H,p.resources.food=Math.round(p.resources.food,2),p}function w(p){const H=p.townInfo.productivity;let q=1;H<50?q=.5:H>50&&H<100?q=.75:H==100?q=1:H>100&&H<125?q=1.25:H>125&&H<150?q=1.75:H>150&&H<175?q=3:H>175&&H<200&&(q=5),q=Ym(q,2);let ie=Ze("lumber_mill",p).length*1.25;ie===0&&(ie=1);for(let re=0;re<p.plots.length;re++)for(let Ae=0;Ae<p.plots[re].length;Ae++)if(p.plots[re][Ae].active==!0&&p.plots[re][Ae].type>-1){let Fe=Ln(re,Ae,p),Me=le[p.plots[re][Ae].type];Me.generated_resources!=null&&(p.resources.food+=Math.round(Me.generated_resources.food*q)*(Fe?2:1),p.resources.wood+=Math.round(Me.generated_resources.wood*q*ie),p.resources.stone+=Math.round(Me.generated_resources.stone*q),p.resources.metal+=Math.round(Me.generated_resources.metal*q),p.resources.bureaucracy+=Math.round(Me.generated_resources.bureaucracy*q))}return p.resources.food=Math.round(p.resources.food,2),p.resources.wood=Math.round(p.resources.wood,2),p.resources.stone=Math.round(p.resources.stone,2),p.resources.metal=Math.round(p.resources.metal,2),p.resources.bureaucracy=Math.round(p.resources.bureaucracy,2),p}function S(p){for(let H=0;H<p.plots.length;H++)for(let q=0;q<p.plots[H].length;q++)if(p.plots[H][q].active==!0&&p.plots[H][q].type>-1){let ie=le[p.plots[H][q].type],re=!1;Object.keys(ie.active_costs).forEach((Ae,Fe)=>{const Me=Object.values(ie.active_costs)[Fe];Ae!="power"&&(p.townInfo.gold,Ae=="gold"?p.townInfo.gold<Me?re=!0:p.townInfo.gold-=Me:p.resources[Ae]<Me?re=!0:p.resources[Ae]-=Me)}),p.plots[H][q].disabled=re,p.plots[H][q].disabled&&(p.townInfo.happiness-=1),re&&le[p.plots[H][q].type].type=="residential"&&(p.townInfo.population_count-=1,p.townInfo.employees-=1)}return p}function C(p){let H=0;for(let q=0;q<p.plots.length;q++)for(let ie=0;ie<p.plots[q].length;ie++)if(p.plots[q][ie].active==!0&&p.plots[q][ie].type>-1){let re=le[p.plots[q][ie].type];re.active_costs.power!=0&&(H-=re.active_costs.power),re.generated_resources.power!=0&&(H+=re.generated_resources.power)}return p.resource_rate.power=H,p.resources.power=H,p}function R(p){if(p.endGoal=="land"&&p.townInfo.population_max==p.townInfo.population_count&&p.townInfo.happiness>=bt.land.requirements[p.difficulty].happiness&&p.townInfo.health>=bt.land.requirements[p.difficulty].health&&p.townInfo.employees/p.townInfo.population_count>=bt.land.requirements[p.difficulty].employment&&p.townInfo.population_count>bt.land.requirements[p.difficulty].population_count&&p.townInfo.knowledge_points>=bt.land.requirements[p.difficulty].knowledge){let q=!0;for(let re=0;re<bt.land.requirements[p.difficulty].required_plots.length;re++){let Ae=bt.land.requirements[p.difficulty].required_plots[re];if(Ze(Ae,p)==!1){q=!1;break}}Xm(p)&&q&&(p.endGameDetails={msg:bt.land.win,win:!0,still_playing:!1})}return p}function L(p){if(p.devMode)return p;let H=s;for(let q=0;q<et.length;q++)H.achievements.find(ie=>ie[0]==et[q].id)==null&&et[q].check(p)&&(H.achievements.push([et[q].id,p.environment.day,p.townInfo.name]),Ne(Nt,a=!0,a),Ne(Vi,l=!0,l));return on.update(()=>H),p}let E=!1;function B(p){if(E)return p;for(let H=p.currentTutorialStep;H<p.currentTutorialStep+1;H++)if($t[H].isComplete(p)){Ne(Ti,r=!0,r),E=!0,setTimeout(()=>{Ne(Ti,r=!1,r),p.currentTutorialStep++,p.townInfo.gold+=$t[H].goldReward,E=!1},1e3);break}return p}function $(p){return p.townInfo.happiness<=3&&(p.townInfo.happiness=0,p.endGameDetails={msg:dt.happiness_zero,win:!1,still_playing:!1}),p.townInfo.health<=3&&(p.townInfo.health=3,p.endGameDetails={msg:dt.health_zero,win:!1,still_playing:!1}),p.townInfo.population_count<=0&&p.townInfo.population_max>0&&(p.townInfo.population_count=0,p.endGameDetails={msg:dt.population_zero,win:!1,still_playing:!1}),p}function D(p){let H=p.townInfo.population_count-p.townInfo.employees;return H>0&&(p.townInfo.happiness-=H*.06,p=te(H+dt.unemployment_num,p)),p}function U(p){let H=p.plotCounts.reduce((ie,re)=>ie+re,0),q=!1;for(let ie=0;ie<p.plotCounts.length;ie++)p.plotCounts[ie]==null||le[ie].check_for_variety!=!0||p.plotCounts[ie]/H>=om[p.difficulty]&&(le[ie].title,q=!0);return q&&(p=te(dt.notEnoughVariety,p),p.modifiers.happiness*.95),p}function b(p){for(let H=0;H<p.economyAndLaws.enacted.length;H++){let q=el.find(ie=>ie.id==p.economyAndLaws.enacted[H]);q!=null&&q.weekly_effect!=null&&(p=q.weekly_effect(p))}return p}function g(p){let H=p.townInfo.health,q=0;return H>50||H<Math.random()*50&&(H<25?(p=te(dt.sickAndDying,p),p.townInfo.happiness-=10,q=Math.round(p.townInfo.population_count*.1)):(p=te(dt.sickAndLeaving,p),p.townInfo.happiness-=5,q=Math.round(p.townInfo.population_count*.05)),p.townInfo.population_count-=q,p.townInfo.employees-=q),p}function I(p){return p.townInfo.community<100&&Math.random()*100<p.townInfo.community||p.lastChangeDay+(Math.random()*500+365)<p.environment.day&&p.townInfo.population_count>0&&p.townInfo.population_count>0&&(p.townInfo.population_count-=1,p.townInfo.employees-=1,p.modifiers.happiness-=.01,p=te(dt.bored,p)),p}function O(p){if(p.townInfo.population_count<p.townInfo.population_max&&p.townInfo.happiness>50){let H=p.townInfo.population_max-p.townInfo.population_count,q=Math.round(p.townInfo.happiness/100*H);p.townInfo.population_count+=q,p.townInfo.population_count>p.townInfo.population_max&&(p.townInfo.population_count=p.townInfo.population_max),p.townInfo.employees+=q,p.townInfo.employees>p.townInfo.population_count&&(p.townInfo.employees=p.townInfo.population_count),p=te(q+dt.new_people_num,p)}if(p.townInfo.happiness<50&&p.townInfo.population_count>0){let H=Math.round((100-p.townInfo.happiness)/5);H=H*(p.townInfo.community/200),p.townInfo.population_count-=H,p.townInfo.employees>0&&(p.townInfo.employees-=H),p=te(H+dt.leave_town_num,p)}else p.townInfo.population_count==p.townInfo.population_max;return p}function W(p){const H=Math.random();if(p.economyAndLaws.tax_rate>p.economyAndLaws.max_tax_rate&&p.townInfo.population_count>0){let q=1;p.hasBank&&(q=2);const ie=p.difficulty==0?.7:p.difficulty==1?.4:.2;H<ie&&p.economyAndLaws.tax_rate>p.economyAndLaws.max_tax_rate*2*q?(p.modifiers.happiness-=.02,p=te(dt.very_high_tax_rate+"  ("+p.economyAndLaws.tax_rate+"%)",p)):(p.modifiers.happiness-=.01,p=te(dt.high_tax_rate+"  ("+p.economyAndLaws.tax_rate*100+"%)",p))}return p}function F(p){return p.townInfo.happiness<0&&(p.townInfo.happiness=0),p.townInfo.health<0&&(p.townInfo.health=0),p.townInfo.gold<0&&(p.townInfo.gold=0),p.townInfo.employees<0&&(p.townInfo.employees=0),p.townInfo.knowledge_points<0&&(p.townInfo.knowledge_points=0),p.townInfo.population_count<0&&(p.townInfo.population_count=0),p.townInfo.population_max==0&&p.townLog.indexOf(dt.nobody_home)==-1&&(p=te(dt.nobody_home,p)),p.economyAndLaws.weeklyProfit=gt(p.economyAndLaws.weeklyProfit,0),p.townInfo.employees>p.townInfo.population_count&&(p.townInfo.employees=p.townInfo.population_count),p.townInfo.gold=gt(p.townInfo.gold,0),p.townInfo.population_count=gt(p.townInfo.population_count,0),p.townInfo.employees=gt(p.townInfo.employees,0),p.townInfo.population_max=gt(p.townInfo.population_max,0),p.townInfo.happiness=gt(p.townInfo.happiness,2),p.townInfo.health=gt(p.townInfo.health,2),p.townInfo.knowledge_points=gt(p.townInfo.knowledge_points,0),p.townInfo.happiness>p.maximums.happiness&&(p.townInfo.happiness=p.maximums.happiness),p.townInfo.health>p.maximums.health&&(p.townInfo.health=p.maximums.health),p.modifiers.happiness<.5&&(p.modifiers.happiness=.5),p.modifiers.health<.5&&(p.modifiers.health=.5),p.modifiers.community<.5&&(p.modifiers.community=.5),p}function Z(p){if(p.modifiers.happiness>1){let q=p.modifiers.happiness-1;p.modifiers.happiness-=q*.1,p.modifiers.happiness<1.05&&(p.modifiers.happiness=1)}if(p.modifiers.community>1){let q=p.modifiers.community-1;p.modifiers.community-=q*.1,p.modifiers.community<1.05&&(p.modifiers.community=1)}if(p.modifiers.health>1)if(Ze("healing_house",p).length>0){if(p.townLog.indexOf(dt.hospital_advantage)==-1)return p=te(dt.hospital_advantage,p);let q=p.modifiers.health-1;p.modifiers.health-=q*Ze("healing_house",p)?.03:.06,p.modifiers.health<1.05&&(p.modifiers.health=1)}else{let q=p.modifiers.health-1;p.modifiers.health-=q*.1,p.modifiers.health<1.05&&(p.modifiers.health=1)}else Ze("healing_house",p).length>0&&(p.modifiers.health+=.1);return p}function ee(p){p.economyAndLaws.weeklyProfit=0;for(let H=0;H<p.plots.length;H++)for(let q=0;q<p.plots[H].length;q++)if(p.plots[H][q].active==!0&&p.plots[H][q].type>-1)if(p.plots[H][q].disabled===!0){const ie=le[p.plots[H][q].type],re=ne(ie.revenue_per_week,p,ie.type)*(p.townInfo.productivity/100)/7;p.townInfo.gold-=re,p=te(`ðŸš¨ ${ie.title} at ${q}, ${H} is disabled and costing you $${re} a week!`,p)}else{const ie=le[p.plots[H][q].type];let re=ne(ie.revenue_per_week,p,ie.type)*(p.townInfo.productivity/100)/7,Ae=Ln(H,q,p);re*=Ae?2:1,p.townInfo.gold+=re,p.economyAndLaws.weeklyProfit+=re*7}return p}function Q(p){return Ze("mine",p).length>0&&(p.modifiers.health-=.01,Ze("healing_house",p).length==0&&(p=te("The mine is actively hurting the health of the town. Time to look into a healing house.",p))),p}function K(p){let H=0;for(let q=0;q<p.plots.length;q++)for(let ie=0;ie<p.plots[q].length;ie++)if(p.plots[q][ie].active==!0&&p.plots[q][ie].type>-1){let re=le[p.plots[q][ie].type];re.knowledge_points_per_month!=null&&(p.townInfo.knowledge_points+=Math.round(re.knowledge_points_per_month/4),H+=re.knowledge_points_per_month)}return p.resource_rate.knowledge=gt(H/4,0),p}function te(p,H){return H.townLog="Day "+i.environment.day+" - "+p+`
`+H.townLog,H}function ne(p,H,q){let ie=H.townInfo.happiness/100;ie>2?ie=2:ie<.75&&(ie=.75),Ze("village_inn",H).length>0&&q=="shop"&&(ie*=1.3);let re=p*H.economyAndLaws.tax_rate*(H.townInfo.population_count/H.townInfo.population_max)*ie*(H.economyAndLaws.enacted.includes("tax_free")?-1:1);return gt(re,2)}return fr(async()=>{for(;;)localStorage.reset=="true"&&(Il(),localStorage.setItem("reset","false")),m(),await new Promise(p=>setTimeout(p,o/Ts))}),[m,tl,F,Z,nl]}class tp extends ye{constructor(e){super(),ve(this,e,ep,null,de,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return tl}get _fixVariables(){return this.$$.ctx[2]}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return nl}}function np(t){return t[t.length-1]}function _n(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function Or(t){return t?!0:void 0}_n({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function dc(t){if(t!==null)return t}function Ms(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function Nr(t){if(!Ko)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return St(e)?e:null}const Lo=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),Is=t=>typeof t=="function";pt("empty");function pt(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return sn(n,a=>{const s=i(a);if(Is(s)){const u=(...f)=>Lo({...s(...f),[`data-melt-${t}`]:"",action:o??xe});return u.action=o??xe,u}return Lo({...s,[`data-melt-${t}`]:"",action:o??xe})});{const a=i,s=a==null?void 0:a();if(Is(s)){const u=(...f)=>Lo({...s(...f),[`data-melt-${t}`]:"",action:o??xe});return u.action=o??xe,Ms(u)}return Ms(Lo({...s,[`data-melt-${t}`]:"",action:o??xe}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function Ps(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=sn(n,a=>o(a).map(s=>Lo({...s,[`data-melt-${t}`]:"",action:i??xe}))),l=i??(()=>{});return l.subscribe=r,l}function pr(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const Ko=typeof document<"u",mc=t=>typeof t=="function";function op(t){return t instanceof Document}function _r(t){return t instanceof Element}function St(t){return t instanceof HTMLElement}function Os(t){return t.pointerType==="touch"}function ip(t){return t!==null&&typeof t=="object"}function rp(t){return ip(t)&&"subscribe"in t}function Kt(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function xe(){}function vt(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function kt(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=sp(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function lp(t){const e=t.currentTarget;if(!St(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function sp(t){return e=>{const n=lp(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function hr(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function nn(t){return{...t,get:()=>Xf(t)}}nn.writable=function(t){const e=Ye(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};nn.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const gr=(t,e)=>{const n=nn(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function Ol(t){return new Promise(e=>setTimeout(e,t))}let ap="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",up=(t=21)=>{let e="",n=t;for(;n--;)e+=ap[Math.random()*64|0];return e};function fp(){return up(10)}function Nl(t){return t.reduce((e,n)=>(e[n]=fp(),e),{})}const st={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},pc=()=>typeof window<"u";function cp(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const _c=t=>pc()&&t.test(cp().toLowerCase()),dp=()=>pc()&&!!navigator.maxTouchPoints,mp=()=>_c(/^mac/)&&!dp(),pp=()=>_c(/mac|iphone|ipad|ipod/i),_p=()=>pp()&&!mp();function hp(t){const e=t.slice();return e.sort(bp),gp(e)}function gp(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function bp(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function vp(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function yp(t){const e=t.flatMap(n=>vp(n));return hp(e)}function wp(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const Er="data-melt-scroll-lock";function Ns(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function kp(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function Cp(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Ap(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(Er))return xe;i.setAttribute(Er,"");const l=n.innerWidth-o.clientWidth,a=()=>kp(o,"--scrollbar-width",`${l}px`),s=Cp(o),u=n.getComputedStyle(i)[s],f=()=>Ns(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:m,scrollY:_,visualViewport:h}=n,v=(h==null?void 0:h.offsetLeft)??0,w=(h==null?void 0:h.offsetTop)??0,S=Ns(i,{position:"fixed",overflow:"hidden",top:`${-(_-Math.floor(w))}px`,left:`${-(m-Math.floor(v))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{S==null||S(),n.scrollTo(m,_)}},d=[a(),_p()?c():f()];return()=>{d.forEach(m=>m==null?void 0:m()),i.removeAttribute(Er)}}const Sp=t=>{try{Ud(t)}catch{return t}};function Ot(t,e){let n;const o=sn(t,r=>{n==null||n(),n=e(r)}).subscribe(xe),i=()=>{o(),n==null||n()};return Sp(i),i}function Fn(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=nn(Ye(i))}),e}function Tp(t){let e=t.parentElement;for(;St(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function hc(t,e){return e!==void 0?e:Tp(t)==="body"?document.body:null}async function Es(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([Ol(1),Al]),e===void 0){n==null||n.focus();return}const o=mc(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!St(i))return;i.focus()}else St(o)&&o.focus()}function Rr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}Rn(void 0,t=>{function e(o){t(o),t(void 0)}return vt(document,"pointerup",e,{passive:!1,capture:!0})});const Mp=Rn(void 0,t=>{function e(o){o&&o.key===st.ESCAPE&&t(o),t(void 0)}return vt(document,"keydown",e,{passive:!1})}),Rs=(t,e={})=>{let n=xe;function o(i={}){n();const r={enabled:!0,...i},l=rp(r.enabled)?r.enabled:Rn(r.enabled);n=Kt(Mp.subscribe(a=>{var u;if(!a||!Xf(l))return;const s=a.target;if(!(!St(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(mc(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Ot(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},bn=Math.min,Mt=Math.max,Wi=Math.round,hi=Math.floor,vn=t=>({x:t,y:t}),Ip={left:"right",right:"left",bottom:"top",top:"bottom"},Pp={start:"end",end:"start"};function ol(t,e,n){return Mt(t,bn(e,n))}function yo(t,e){return typeof t=="function"?t(e):t}function yn(t){return t.split("-")[0]}function wo(t){return t.split("-")[1]}function gc(t){return t==="x"?"y":"x"}function El(t){return t==="y"?"height":"width"}function Qo(t){return["top","bottom"].includes(yn(t))?"y":"x"}function Rl(t){return gc(Qo(t))}function Op(t,e,n){n===void 0&&(n=!1);const o=wo(t),i=Rl(t),r=El(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=Ki(l)),[l,Ki(l)]}function Np(t){const e=Ki(t);return[il(t),e,il(e)]}function il(t){return t.replace(/start|end/g,e=>Pp[e])}function Ep(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function Rp(t,e,n,o){const i=wo(t);let r=Ep(yn(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(il)))),r}function Ki(t){return t.replace(/left|right|bottom|top/g,e=>Ip[e])}function Dp(t){return{top:0,right:0,bottom:0,left:0,...t}}function bc(t){return typeof t!="number"?Dp(t):{top:t,right:t,bottom:t,left:t}}function Ui(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Ds(t,e,n){let{reference:o,floating:i}=t;const r=Qo(e),l=Rl(e),a=El(l),s=yn(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let m;switch(s){case"top":m={x:f,y:o.y-i.height};break;case"bottom":m={x:f,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:c};break;case"left":m={x:o.x-i.width,y:c};break;default:m={x:o.x,y:o.y}}switch(wo(e)){case"start":m[l]-=d*(n&&u?-1:1);break;case"end":m[l]+=d*(n&&u?-1:1);break}return m}const Lp=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=Ds(u,o,s),d=o,m={},_=0;for(let h=0;h<a.length;h++){const{name:v,fn:w}=a[h],{x:S,y:C,data:R,reset:L}=await w({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:m,rects:u,platform:l,elements:{reference:t,floating:e}});f=S??f,c=C??c,m={...m,[v]:{...m[v],...R}},L&&_<=50&&(_++,typeof L=="object"&&(L.placement&&(d=L.placement),L.rects&&(u=L.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):L.rects),{x:f,y:c}=Ds(u,d,s)),h=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:m}};async function Dl(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:m=0}=yo(e,t),_=bc(m),v=a[d?c==="floating"?"reference":"floating":c],w=Ui(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(v)))==null||n?v:v.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),S=c==="floating"?{...l.floating,x:o,y:i}:l.reference,C=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),R=await(r.isElement==null?void 0:r.isElement(C))?await(r.getScale==null?void 0:r.getScale(C))||{x:1,y:1}:{x:1,y:1},L=Ui(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:C,strategy:s}):S);return{top:(w.top-L.top+_.top)/R.y,bottom:(L.bottom-w.bottom+_.bottom)/R.y,left:(w.left-L.left+_.left)/R.x,right:(L.right-w.right+_.right)/R.x}}const Fp=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=yo(t,e)||{};if(u==null)return{};const c=bc(f),d={x:n,y:o},m=Rl(i),_=El(m),h=await l.getDimensions(u),v=m==="y",w=v?"top":"left",S=v?"bottom":"right",C=v?"clientHeight":"clientWidth",R=r.reference[_]+r.reference[m]-d[m]-r.floating[_],L=d[m]-r.reference[m],E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let B=E?E[C]:0;(!B||!await(l.isElement==null?void 0:l.isElement(E)))&&(B=a.floating[C]||r.floating[_]);const $=R/2-L/2,D=B/2-h[_]/2-1,U=bn(c[w],D),b=bn(c[S],D),g=U,I=B-h[_]-b,O=B/2-h[_]/2+$,W=ol(g,O,I),F=!s.arrow&&wo(i)!=null&&O!==W&&r.reference[_]/2-(O<g?U:b)-h[_]/2<0,Z=F?O<g?O-g:O-I:0;return{[m]:d[m]+Z,data:{[m]:W,centerOffset:O-W-Z,...F&&{alignmentOffset:Z}},reset:F}}}),$p=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:h=!0,...v}=yo(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const w=yn(i),S=yn(a)===a,C=await(s.isRTL==null?void 0:s.isRTL(u.floating)),R=d||(S||!h?[Ki(a)]:Np(a));!d&&_!=="none"&&R.push(...Rp(a,h,_,C));const L=[a,...R],E=await Dl(e,v),B=[];let $=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&B.push(E[w]),c){const g=Op(i,l,C);B.push(E[g[0]],E[g[1]])}if($=[...$,{placement:i,overflows:B}],!B.every(g=>g<=0)){var D,U;const g=(((D=r.flip)==null?void 0:D.index)||0)+1,I=L[g];if(I)return{data:{index:g,overflows:$},reset:{placement:I}};let O=(U=$.filter(W=>W.overflows[0]<=0).sort((W,F)=>W.overflows[1]-F.overflows[1])[0])==null?void 0:U.placement;if(!O)switch(m){case"bestFit":{var b;const W=(b=$.map(F=>[F.placement,F.overflows.filter(Z=>Z>0).reduce((Z,ee)=>Z+ee,0)]).sort((F,Z)=>F[1]-Z[1])[0])==null?void 0:b[0];W&&(O=W);break}case"initialPlacement":O=a;break}if(i!==O)return{reset:{placement:O}}}return{}}}};async function qp(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=yn(n),a=wo(n),s=Qo(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=yo(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:_}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof _=="number"&&(m=a==="end"?_*-1:_),s?{x:m*f,y:d*u}:{x:d*u,y:m*f}}const jp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await qp(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},Bp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:v=>{let{x:w,y:S}=v;return{x:w,y:S}}},...s}=yo(t,e),u={x:n,y:o},f=await Dl(e,s),c=Qo(yn(i)),d=gc(c);let m=u[d],_=u[c];if(r){const v=d==="y"?"top":"left",w=d==="y"?"bottom":"right",S=m+f[v],C=m-f[w];m=ol(S,m,C)}if(l){const v=c==="y"?"top":"left",w=c==="y"?"bottom":"right",S=_+f[v],C=_-f[w];_=ol(S,_,C)}const h=a.fn({...e,[d]:m,[c]:_});return{...h,data:{x:h.x-n,y:h.y-o}}}}},Vp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=yo(t,e),s=await Dl(e,a),u=yn(n),f=wo(n),c=Qo(n)==="y",{width:d,height:m}=o.floating;let _,h;u==="top"||u==="bottom"?(_=u,h=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(h=u,_=f==="end"?"top":"bottom");const v=m-s[_],w=d-s[h],S=!e.middlewareData.shift;let C=v,R=w;if(c){const E=d-s.left-s.right;R=f||S?bn(w,E):E}else{const E=m-s.top-s.bottom;C=f||S?bn(v,E):E}if(S&&!f){const E=Mt(s.left,0),B=Mt(s.right,0),$=Mt(s.top,0),D=Mt(s.bottom,0);c?R=d-2*(E!==0||B!==0?E+B:Mt(s.left,s.right)):C=m-2*($!==0||D!==0?$+D:Mt(s.top,s.bottom))}await l({...e,availableWidth:R,availableHeight:C});const L=await i.getDimensions(r.floating);return d!==L.width||m!==L.height?{reset:{rects:!0}}:{}}}};function wn(t){return vc(t)?(t.nodeName||"").toLowerCase():"#document"}function It(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function an(t){var e;return(e=(vc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function vc(t){return t instanceof Node||t instanceof It(t).Node}function rn(t){return t instanceof Element||t instanceof It(t).Element}function Xt(t){return t instanceof HTMLElement||t instanceof It(t).HTMLElement}function Ls(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof It(t).ShadowRoot}function zo(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Et(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function Gp(t){return["table","td","th"].includes(wn(t))}function Ll(t){const e=Fl(),n=Et(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Hp(t){let e=po(t);for(;Xt(e)&&!br(e);){if(Ll(e))return e;e=po(e)}return null}function Fl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function br(t){return["html","body","#document"].includes(wn(t))}function Et(t){return It(t).getComputedStyle(t)}function vr(t){return rn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function po(t){if(wn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ls(t)&&t.host||an(t);return Ls(e)?e.host:e}function yc(t){const e=po(t);return br(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xt(e)&&zo(e)?e:yc(e)}function Uo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=yc(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=It(i);return r?e.concat(l,l.visualViewport||[],zo(i)?i:[],l.frameElement&&n?Uo(l.frameElement):[]):e.concat(i,Uo(i,[],n))}function wc(t){const e=Et(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Xt(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=Wi(n)!==r||Wi(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function $l(t){return rn(t)?t:t.contextElement}function uo(t){const e=$l(t);if(!Xt(e))return vn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=wc(e);let l=(r?Wi(n.width):n.width)/o,a=(r?Wi(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const Wp=vn(0);function kc(t){const e=It(t);return!Fl()||!e.visualViewport?Wp:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Kp(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==It(t)?!1:e}function $n(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=$l(t);let l=vn(1);e&&(o?rn(o)&&(l=uo(o)):l=uo(t));const a=Kp(r,n,o)?kc(r):vn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=It(r),m=o&&rn(o)?It(o):o;let _=d,h=_.frameElement;for(;h&&o&&m!==_;){const v=uo(h),w=h.getBoundingClientRect(),S=Et(h),C=w.left+(h.clientLeft+parseFloat(S.paddingLeft))*v.x,R=w.top+(h.clientTop+parseFloat(S.paddingTop))*v.y;s*=v.x,u*=v.y,f*=v.x,c*=v.y,s+=C,u+=R,_=It(h),h=_.frameElement}}return Ui({width:f,height:c,x:s,y:u})}const Up=[":popover-open",":modal"];function Cc(t){return Up.some(e=>{try{return t.matches(e)}catch{return!1}})}function Yp(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=an(o),a=e?Cc(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=vn(1);const f=vn(0),c=Xt(o);if((c||!c&&!r)&&((wn(o)!=="body"||zo(l))&&(s=vr(o)),Xt(o))){const d=$n(o);u=uo(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function Xp(t){return Array.from(t.getClientRects())}function Ac(t){return $n(an(t)).left+vr(t).scrollLeft}function Jp(t){const e=an(t),n=vr(t),o=t.ownerDocument.body,i=Mt(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=Mt(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+Ac(t);const a=-n.scrollTop;return Et(o).direction==="rtl"&&(l+=Mt(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function xp(t,e){const n=It(t),o=an(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=Fl();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function Zp(t,e){const n=$n(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=Xt(t)?uo(t):vn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function Fs(t,e,n){let o;if(e==="viewport")o=xp(t,n);else if(e==="document")o=Jp(an(t));else if(rn(e))o=Zp(e,n);else{const i=kc(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return Ui(o)}function Sc(t,e){const n=po(t);return n===e||!rn(n)||br(n)?!1:Et(n).position==="fixed"||Sc(n,e)}function Qp(t,e){const n=e.get(t);if(n)return n;let o=Uo(t,[],!1).filter(a=>rn(a)&&wn(a)!=="body"),i=null;const r=Et(t).position==="fixed";let l=r?po(t):t;for(;rn(l)&&!br(l);){const a=Et(l),s=Ll(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||zo(l)&&!s&&Sc(t,l))?o=o.filter(f=>f!==l):i=a,l=po(l)}return e.set(t,o),o}function zp(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?Qp(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=Fs(e,f,i);return u.top=Mt(c.top,u.top),u.right=bn(c.right,u.right),u.bottom=bn(c.bottom,u.bottom),u.left=Mt(c.left,u.left),u},Fs(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function e_(t){const{width:e,height:n}=wc(t);return{width:e,height:n}}function t_(t,e,n){const o=Xt(e),i=an(e),r=n==="fixed",l=$n(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=vn(0);if(o||!o&&!r)if((wn(e)!=="body"||zo(i))&&(a=vr(e)),o){const c=$n(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=Ac(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function $s(t,e){return!Xt(t)||Et(t).position==="fixed"?null:e?e(t):t.offsetParent}function Tc(t,e){const n=It(t);if(!Xt(t)||Cc(t))return n;let o=$s(t,e);for(;o&&Gp(o)&&Et(o).position==="static";)o=$s(o,e);return o&&(wn(o)==="html"||wn(o)==="body"&&Et(o).position==="static"&&!Ll(o))?n:o||Hp(t)||n}const n_=async function(t){const e=this.getOffsetParent||Tc,n=this.getDimensions;return{reference:t_(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function o_(t){return Et(t).direction==="rtl"}const i_={convertOffsetParentRelativeRectToViewportRelativeRect:Yp,getDocumentElement:an,getClippingRect:zp,getOffsetParent:Tc,getElementRects:n_,getClientRects:Xp,getDimensions:e_,getScale:uo,isElement:rn,isRTL:o_};function r_(t,e){let n=null,o;const i=an(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const m=hi(f),_=hi(i.clientWidth-(u+c)),h=hi(i.clientHeight-(f+d)),v=hi(u),S={rootMargin:-m+"px "+-_+"px "+-h+"px "+-v+"px",threshold:Mt(0,bn(1,s))||1};let C=!0;function R(L){const E=L[0].intersectionRatio;if(E!==s){if(!C)return l();E?l(!1,E):o=setTimeout(()=>{l(!1,1e-7)},100)}C=!1}try{n=new IntersectionObserver(R,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,S)}n.observe(t)}return l(!0),r}function l_(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=$l(t),f=i||r?[...u?Uo(u):[],...Uo(e)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),r&&w.addEventListener("resize",n)});const c=u&&a?r_(u,n):null;let d=-1,m=null;l&&(m=new ResizeObserver(w=>{let[S]=w;S&&S.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var C;(C=m)==null||C.observe(e)})),n()}),u&&!s&&m.observe(u),m.observe(e));let _,h=s?$n(t):null;s&&v();function v(){const w=$n(t);h&&(w.x!==h.x||w.y!==h.y||w.width!==h.width||w.height!==h.height)&&n(),h=w,_=requestAnimationFrame(v)}return n(),()=>{var w;f.forEach(S=>{i&&S.removeEventListener("scroll",n),r&&S.removeEventListener("resize",n)}),c==null||c(),(w=m)==null||w.disconnect(),m=null,s&&cancelAnimationFrame(_)}}const s_=Bp,a_=$p,u_=Vp,f_=Fp,c_=(t,e,n)=>{const o=new Map,i={platform:i_,...n},r={...i.platform,_c:o};return Lp(t,e,{...i,platform:r})},d_={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},m_={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function p_(t,e,n={}){if(!e||!t||n===null)return{destroy:xe};const o={...d_,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push(a_({boundary:o.boundary,padding:o.overflowPadding}));const l=St(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(jp(s))}r.push(s_({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(f_({element:i,padding:8})),r.push(u_({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;c_(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),St(i)&&f.middlewareData.arrow){const{x:m,y:_}=f.middlewareData.arrow,h=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:m!=null?`${m}px`:"",top:_!=null?`${_}px`:"",[h]:`calc(100% - ${l}px)`,transform:m_[h],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:l_(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Mc=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Yi=Mc.join(","),Ic=typeof Element>"u",qn=Ic?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Xi=!Ic&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Ji=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},__=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},Pc=function(e,n,o){if(Ji(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Yi));return n&&qn.call(e,Yi)&&i.unshift(e),i=i.filter(o),i},Oc=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!Ji(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=qn.call(l,Yi);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!Ji(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var m=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,m):i.push({scopeParent:l,candidates:m})}else r.unshift.apply(r,l.children)}}return i},Nc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Pn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||__(e))&&!Nc(e)?0:e.tabIndex},h_=function(e,n){var o=Pn(e);return o<0&&n&&!Nc(e)?0:o},g_=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Ec=function(e){return e.tagName==="INPUT"},b_=function(e){return Ec(e)&&e.type==="hidden"},v_=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},y_=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},w_=function(e){if(!e.name)return!0;var n=e.form||Xi(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=y_(i,e.form);return!r||r===e},k_=function(e){return Ec(e)&&e.type==="radio"},C_=function(e){return k_(e)&&!w_(e)},A_=function(e){var n,o=e&&Xi(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=Xi(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},qs=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},S_=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=qn.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(qn.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=Xi(e);if(s&&!s.shadowRoot&&i(s)===!0)return qs(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(A_(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return qs(e);return!1},T_=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return qn.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},xi=function(e,n){return!(n.disabled||Ji(n)||b_(n)||S_(n,e)||v_(n)||T_(n))},rl=function(e,n){return!(C_(n)||Pn(n)<0||!xi(e,n))},M_=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},I_=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=h_(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(g_).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},P_=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Oc([e],n.includeContainer,{filter:rl.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:M_}):o=Pc(e,n.includeContainer,rl.bind(null,n)),I_(o)},O_=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Oc([e],n.includeContainer,{filter:xi.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=Pc(e,n.includeContainer,xi.bind(null,n)),o},no=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return qn.call(e,Yi)===!1?!1:rl(n,e)},N_=Mc.concat("iframe").join(","),Dr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return qn.call(e,N_)===!1?!1:xi(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function js(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function Bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?js(Object(n),!0).forEach(function(o){E_(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):js(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function E_(t,e,n){return e=D_(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R_(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D_(t){var e=R_(t,"string");return typeof e=="symbol"?e:String(e)}var Vs={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},L_=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},F_=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Go=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},$_=function(e){return Go(e)&&!e.shiftKey},q_=function(e){return Go(e)&&e.shiftKey},Gs=function(e){return setTimeout(e,0)},Hs=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},Eo=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},gi=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},j_=[],B_=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||j_,r=Bs({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:$_,isKeyBackward:q_},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(g,I,O){return g&&g[I]!==void 0?g[I]:r[O||I]},u=function(g,I){var O=typeof(I==null?void 0:I.composedPath)=="function"?I.composedPath():void 0;return l.containerGroups.findIndex(function(W){var F=W.container,Z=W.tabbableNodes;return F.contains(g)||(O==null?void 0:O.includes(F))||Z.find(function(ee){return ee===g})})},f=function(g){var I=r[g];if(typeof I=="function"){for(var O=arguments.length,W=new Array(O>1?O-1:0),F=1;F<O;F++)W[F-1]=arguments[F];I=I.apply(void 0,W)}if(I===!0&&(I=void 0),!I){if(I===void 0||I===!1)return I;throw new Error("`".concat(g,"` was specified but was not a node, or did not return a node"))}var Z=I;if(typeof I=="string"&&(Z=o.querySelector(I),!Z))throw new Error("`".concat(g,"` as selector refers to no known node"));return Z},c=function(){var g=f("initialFocus");if(g===!1)return!1;if(g===void 0||!Dr(g,r.tabbableOptions))if(u(o.activeElement)>=0)g=o.activeElement;else{var I=l.tabbableGroups[0],O=I&&I.firstTabbableNode;g=O||f("fallbackFocus")}if(!g)throw new Error("Your focus-trap needs to have at least one focusable element");return g},d=function(){if(l.containerGroups=l.containers.map(function(g){var I=P_(g,r.tabbableOptions),O=O_(g,r.tabbableOptions),W=I.length>0?I[0]:void 0,F=I.length>0?I[I.length-1]:void 0,Z=O.find(function(K){return no(K)}),ee=O.slice().reverse().find(function(K){return no(K)}),Q=!!I.find(function(K){return Pn(K)>0});return{container:g,tabbableNodes:I,focusableNodes:O,posTabIndexesFound:Q,firstTabbableNode:W,lastTabbableNode:F,firstDomTabbableNode:Z,lastDomTabbableNode:ee,nextTabbableNode:function(te){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,p=I.indexOf(te);return p<0?ne?O.slice(O.indexOf(te)+1).find(function(H){return no(H)}):O.slice(0,O.indexOf(te)).reverse().find(function(H){return no(H)}):I[p+(ne?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(g){return g.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(g){return g.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function b(g){var I=g.activeElement;if(I)return I.shadowRoot&&I.shadowRoot.activeElement!==null?b(I.shadowRoot):I},_=function b(g){if(g!==!1&&g!==m(document)){if(!g||!g.focus){b(c());return}g.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=g,L_(g)&&g.select()}},h=function(g){var I=f("setReturnFocus",g);return I||(I===!1?!1:g)},v=function(g){var I=g.target,O=g.event,W=g.isBackward,F=W===void 0?!1:W;I=I||gi(O),d();var Z=null;if(l.tabbableGroups.length>0){var ee=u(I,O),Q=ee>=0?l.containerGroups[ee]:void 0;if(ee<0)F?Z=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:Z=l.tabbableGroups[0].firstTabbableNode;else if(F){var K=Hs(l.tabbableGroups,function(ie){var re=ie.firstTabbableNode;return I===re});if(K<0&&(Q.container===I||Dr(I,r.tabbableOptions)&&!no(I,r.tabbableOptions)&&!Q.nextTabbableNode(I,!1))&&(K=ee),K>=0){var te=K===0?l.tabbableGroups.length-1:K-1,ne=l.tabbableGroups[te];Z=Pn(I)>=0?ne.lastTabbableNode:ne.lastDomTabbableNode}else Go(O)||(Z=Q.nextTabbableNode(I,!1))}else{var p=Hs(l.tabbableGroups,function(ie){var re=ie.lastTabbableNode;return I===re});if(p<0&&(Q.container===I||Dr(I,r.tabbableOptions)&&!no(I,r.tabbableOptions)&&!Q.nextTabbableNode(I))&&(p=ee),p>=0){var H=p===l.tabbableGroups.length-1?0:p+1,q=l.tabbableGroups[H];Z=Pn(I)>=0?q.firstTabbableNode:q.firstDomTabbableNode}else Go(O)||(Z=Q.nextTabbableNode(I))}}else Z=f("fallbackFocus");return Z},w=function(g){var I=gi(g);if(!(u(I,g)>=0)){if(Eo(r.clickOutsideDeactivates,g)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Eo(r.allowOutsideClick,g)||g.preventDefault()}},S=function(g){var I=gi(g),O=u(I,g)>=0;if(O||I instanceof Document)O&&(l.mostRecentlyFocusedNode=I);else{g.stopImmediatePropagation();var W,F=!0;if(l.mostRecentlyFocusedNode)if(Pn(l.mostRecentlyFocusedNode)>0){var Z=u(l.mostRecentlyFocusedNode),ee=l.containerGroups[Z].tabbableNodes;if(ee.length>0){var Q=ee.findIndex(function(K){return K===l.mostRecentlyFocusedNode});Q>=0&&(r.isKeyForward(l.recentNavEvent)?Q+1<ee.length&&(W=ee[Q+1],F=!1):Q-1>=0&&(W=ee[Q-1],F=!1))}}else l.containerGroups.some(function(K){return K.tabbableNodes.some(function(te){return Pn(te)>0})})||(F=!1);else F=!1;F&&(W=v({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),_(W||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},C=function(g){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=g;var O=v({event:g,isBackward:I});O&&(Go(g)&&g.preventDefault(),_(O))},R=function(g){if(F_(g)&&Eo(r.escapeDeactivates,g)!==!1){g.preventDefault(),a.deactivate();return}(r.isKeyForward(g)||r.isKeyBackward(g))&&C(g,r.isKeyBackward(g))},L=function(g){var I=gi(g);u(I,g)>=0||Eo(r.clickOutsideDeactivates,g)||Eo(r.allowOutsideClick,g)||(g.preventDefault(),g.stopImmediatePropagation())},E=function(){if(l.active)return Vs.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?Gs(function(){_(c())}):_(c()),o.addEventListener("focusin",S,!0),o.addEventListener("mousedown",w,{capture:!0,passive:!1}),o.addEventListener("touchstart",w,{capture:!0,passive:!1}),o.addEventListener("click",L,{capture:!0,passive:!1}),o.addEventListener("keydown",R,{capture:!0,passive:!1}),a},B=function(){if(l.active)return o.removeEventListener("focusin",S,!0),o.removeEventListener("mousedown",w,!0),o.removeEventListener("touchstart",w,!0),o.removeEventListener("click",L,!0),o.removeEventListener("keydown",R,!0),a},$=function(g){var I=g.some(function(O){var W=Array.from(O.removedNodes);return W.some(function(F){return F===l.mostRecentlyFocusedNode})});I&&_(c())},D=typeof window<"u"&&"MutationObserver"in window?new MutationObserver($):void 0,U=function(){D&&(D.disconnect(),l.active&&!l.paused&&l.containers.map(function(g){D.observe(g,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(g){if(l.active)return this;var I=s(g,"onActivate"),O=s(g,"onPostActivate"),W=s(g,"checkCanFocusTrap");W||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,I==null||I();var F=function(){W&&d(),E(),U(),O==null||O()};return W?(W(l.containers.concat()).then(F,F),this):(F(),this)},deactivate:function(g){if(!l.active)return this;var I=Bs({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},g);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,B(),l.active=!1,l.paused=!1,U(),Vs.deactivateTrap(i,a);var O=s(I,"onDeactivate"),W=s(I,"onPostDeactivate"),F=s(I,"checkCanReturnFocus"),Z=s(I,"returnFocus","returnFocusOnDeactivate");O==null||O();var ee=function(){Gs(function(){Z&&_(h(l.nodeFocusedBeforeActivation)),W==null||W()})};return Z&&F?(F(h(l.nodeFocusedBeforeActivation)).then(ee,ee),this):(ee(),this)},pause:function(g){if(l.paused||!l.active)return this;var I=s(g,"onPause"),O=s(g,"onPostPause");return l.paused=!0,I==null||I(),B(),U(),O==null||O(),this},unpause:function(g){if(!l.paused||!l.active)return this;var I=s(g,"onUnpause"),O=s(g,"onPostUnpause");return l.paused=!1,I==null||I(),d(),E(),U(),O==null||O(),this},updateContainerElements:function(g){var I=[].concat(g).filter(Boolean);return l.containers=I.map(function(O){return typeof O=="string"?o.querySelector(O):O}),l.active&&d(),U(),this}},a.updateContainerElements(e),a};function V_(t={}){let e;const{immediate:n,...o}=t,i=Ye(!1),r=Ye(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=B_(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:bs(i),isPaused:bs(r),activate:l,deactivate:a,pause:s,unpause:u}}const bi=[];function G_(t,e){let n=xe;function o(){const r=bi.indexOf(t);r>=0&&bi.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;Ol(100).then(()=>{l?bi.push(t):o()});function f(){return np(bi)===t}function c(){f()&&a&&(a(),o())}function d(_){const h=_.target;_r(h)&&h&&f()&&(_.preventDefault(),_.stopPropagation(),_.stopImmediatePropagation())}function m(_){s!=null&&s(_)&&f()&&(_.preventDefault(),_.stopPropagation(),_.stopImmediatePropagation(),c())}n=H_(t,{onInteractOutsideStart:d,onInteractOutside:u?m:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const Rc=(t,e="body")=>{let n;if(!St(e)&&typeof e!="string")return{destroy:xe};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Al(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function H_(t,e){let n=xe,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function m(v){f&&Ws(v,t)&&(c==null||c(v));const w=v.target;_r(w)&&Dc(t,w)&&(i=!0),o=!0}function _(v){f==null||f(v)}const h=W_(t);if(typeof PointerEvent<"u"){const v=w=>{a(w)&&_(w),s()};n=Kt(vt(h,"pointerdown",m,!0),vt(h,"pointerup",v,!0))}else{const v=S=>{r?r=!1:a(S)&&_(S),s()},w=S=>{r=!0,a(S)&&_(S),s()};n=Kt(vt(h,"mousedown",m,!0),vt(h,"mouseup",v,!0),vt(h,"touchstart",m,!0),vt(h,"touchend",w,!0))}}function a(u){return!!(o&&!i&&Ws(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function Ws(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!_r(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!Dc(e,n)}function Dc(t,e){return t===e||t.contains(e)}function W_(t){return(t==null?void 0:t.ownerDocument)??document}Rn(!1),Rn(!1),Rn(void 0);function K_(){return{elements:{root:pt("label",{action:e=>({destroy:kt(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:Mn}=pr("dialog"),U_={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},Y_=["content","title","description"];function Lc(t){const e={...U_,...t},n=Fn(hr(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=nn.writable(null),m=Fn({...Nl(Y_),...e.ids}),_=e.open??Ye(e.defaultOpen),h=gr(_,e==null?void 0:e.onOpenChange),v=sn([h,s],([b,g])=>b||g);let w=xe;function S(b){const g=b.currentTarget,I=b.currentTarget;!St(g)||!St(I)||(h.set(!0),d.set(I))}function C(){h.set(!1),Es({prop:f.get(),defaultEl:d.get()})}const R=pt(Mn("trigger"),{stores:[h],returned:([b])=>({"aria-haspopup":"dialog","aria-expanded":b,type:"button"}),action:b=>({destroy:Kt(kt(b,"click",I=>{S(I)}),kt(b,"keydown",I=>{I.key!==st.ENTER&&I.key!==st.SPACE||(I.preventDefault(),S(I))}))})}),L=pt(Mn("overlay"),{stores:[v,h],returned:([b,g])=>({hidden:b?void 0:!0,tabindex:-1,style:_n({display:b?void 0:"none"}),"aria-hidden":!0,"data-state":g?"open":"closed"}),action:b=>{let g=xe;if(i.get()){const I=Rs(b,{handler:()=>{C()}});I&&I.destroy&&(g=I.destroy)}return{destroy(){g()}}}}),E=pt(Mn("content"),{stores:[v,m.content,m.description,m.title,h],returned:([b,g,I,O,W])=>({id:g,role:l.get(),"aria-describedby":I,"aria-labelledby":O,"aria-modal":b?"true":void 0,"data-state":W?"open":"closed",tabindex:-1,hidden:b?void 0:!0,style:_n({display:b?void 0:"none"})}),action:b=>{let g=xe,I=xe;const O=Kt(Ot([h],([W])=>{if(!W)return;const F=V_({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:b});g=F.activate,I=F.deactivate;const Z=F.useFocusTrap(b);return Z&&Z.destroy?Z.destroy:F.deactivate}),Ot([r,h],([W,F])=>G_(b,{open:F,closeOnInteractOutside:W,onClose(){C()},shouldCloseOnInteractOutside(Z){var ee;return(ee=c.get())==null||ee(Z),!Z.defaultPrevented}}).destroy),Ot([i],([W])=>{if(!W)return xe;const F=Rs(b,{handler:()=>{C()}});return F&&F.destroy?F.destroy:xe}),Ot([v],([W])=>{Al().then(()=>{W?g():I()})}));return{destroy:()=>{w(),O()}}}}),B=pt(Mn("portalled"),{stores:a,returned:b=>({"data-portal":dc(b)}),action:b=>{const g=Ot([a],([I])=>{if(I===null)return xe;const O=hc(b,I);if(O===null)return xe;const W=Rc(b,O);return W&&W.destroy?W.destroy:xe});return{destroy(){g()}}}}),$=pt(Mn("title"),{stores:[m.title],returned:([b])=>({id:b})}),D=pt(Mn("description"),{stores:[m.description],returned:([b])=>({id:b})}),U=pt(Mn("close"),{returned:()=>({type:"button"}),action:b=>({destroy:Kt(kt(b,"click",()=>{C()}),kt(b,"keydown",I=>{I.key!==st.SPACE&&I.key!==st.ENTER||(I.preventDefault(),C())}))})});return Ot([h,o],([b,g])=>{if(Ko){if(g&&b&&(w=Ap()),b){const I=document.getElementById(m.content.get());Es({prop:u.get(),defaultEl:I})}return()=>{s.get()||w()}}}),{ids:m,elements:{content:E,trigger:R,title:$,description:D,overlay:L,close:U,portalled:B},states:{open:h},options:n}}const X_={defaultValue:0,max:100},{name:J_}=pr("progress"),x_=t=>{const e={...X_,...t},n=Fn(hr(e,"value")),{max:o}=n,i=e.value??Ye(e.defaultValue),r=gr(i,e==null?void 0:e.onValueChange);return{elements:{root:pt(J_(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},Z_={orientation:"horizontal",decorative:!1},Q_=t=>{const e={...Z_,...t},n=Fn(e),{orientation:o,decorative:i}=n;return{elements:{root:pt("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},z_={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:vi}=pr("slider"),eh=t=>{const e={...z_,...t},n=Fn(hr(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??Ye(e.defaultValue),f=gr(u,e==null?void 0:e.onValueChange),c=nn(Ye(!1)),d=nn(Ye(0)),m=nn(Ye(null)),_=Nl(["root"]),h=(B,$)=>{f.update(D=>{if(!D)return[B];if(D[$]===B)return D;const U=[...D],b=U[$]>B?-1:1;function g(){U[$]=U[$+b],U[$+b]=B;const F=v();F&&(F[$+b].focus(),m.set({thumb:F[$+b],index:$+b}))}if(b===-1&&B<U[$-1])return g(),U;if(b===1&&B>U[$+1])return g(),U;const I=o.get(),O=i.get(),W=r.get();return U[$]=Rr(B,I,O,W),U})},v=()=>{const B=Nr(_.root);return B?Array.from(B.querySelectorAll('[data-melt-part="thumb"]')).filter($=>St($)):null},w=sn([o,i],([B,$])=>D=>(D-B)/($-B)*100),S=nn.derived([l,a],([B,$])=>B==="horizontal"?$==="rtl"?"rl":"lr":$==="rtl"?"tb":"bt"),C=pt(vi(),{stores:[s,l,a],returned:([B,$,D])=>({dir:D,disabled:Or(B),"data-disabled":Or(B),"data-orientation":$,style:B?void 0:`touch-action: ${$==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":_.root})}),R=pt(vi("range"),{stores:[f,S,w],returned:([B,$,D])=>{const U=B.length>1?D(Math.min(...B)??0):0,b=100-D(Math.max(...B)??0),g={position:"absolute"};switch($){case"lr":{g.left=`${U}%`,g.right=`${b}%`;break}case"rl":{g.right=`${U}%`,g.left=`${b}%`;break}case"bt":{g.bottom=`${U}%`,g.top=`${b}%`;break}case"tb":{g.top=`${U}%`,g.bottom=`${b}%`;break}}return{style:_n(g)}}}),L=Ps(vi("thumb"),{stores:[f,w,o,i,s,l,S],returned:([B,$,D,U,b,g,I])=>Array.from({length:B.length||1},(W,F)=>{d.get()<B.length&&d.update(te=>te+1);const ee=B[F],Q=`${$(ee)}%`,K={position:"absolute"};switch(I){case"lr":{K.left=Q,K.translate="-50% 0";break}case"rl":{K.right=Q,K.translate="50% 0";break}case"bt":{K.bottom=Q,K.translate="0 50%";break}case"tb":{K.top=Q,K.translate="0 -50%";break}}return{role:"slider","aria-valuemin":D,"aria-valuemax":U,"aria-valuenow":ee,"aria-disabled":Or(b),"aria-orientation":g,"data-melt-part":"thumb","data-value":ee,style:_n(K),tabindex:b?-1:0}}),action:B=>({destroy:kt(B,"keydown",D=>{if(s.get())return;const U=D.currentTarget;if(!St(U))return;const b=v();if(!(b!=null&&b.length))return;const g=b.indexOf(U);if(d.set(g),![st.ARROW_LEFT,st.ARROW_RIGHT,st.ARROW_UP,st.ARROW_DOWN,st.HOME,st.END].includes(D.key))return;D.preventDefault();const I=o.get(),O=i.get(),W=r.get(),F=f.get(),Z=l.get(),ee=S.get(),Q=F[g];switch(D.key){case st.HOME:{h(I,g);break}case st.END:{h(O,g);break}case st.ARROW_LEFT:{if(Z!=="horizontal")break;D.metaKey?h(ee==="rl"?O:I,g):ee==="rl"&&Q<O?h(Q+W,g):ee==="lr"&&Q>I&&h(Q-W,g);break}case st.ARROW_RIGHT:{if(Z!=="horizontal")break;D.metaKey?h(ee==="rl"?I:O,g):ee==="rl"&&Q>I?h(Q-W,g):ee==="lr"&&Q<O&&h(Q+W,g);break}case st.ARROW_UP:{D.metaKey?h(ee==="tb"?I:O,g):ee==="tb"&&Q>I?h(Q-W,g):ee!=="tb"&&Q<O&&h(Q+W,g);break}case st.ARROW_DOWN:{D.metaKey?h(ee==="tb"?O:I,g):ee==="tb"&&Q<O?h(Q+W,g):ee!=="tb"&&Q>I&&h(Q-W,g);break}}})})}),E=Ps(vi("tick"),{stores:[f,o,i,r,S],returned:([B,$,D,U,b])=>{const g=D-$;let I=Math.ceil(g/U);return g%U==0&&I++,Array.from({length:I},(O,W)=>{const F=`${W*(U/(D-$))*100}%`,Z=W===0,ee=W===I-1,Q=Z?0:ee?-100:-50,K={position:"absolute"};switch(b){case"lr":{K.left=F,K.translate=`${Q}% 0`;break}case"rl":{K.right=F,K.translate=`${-Q}% 0`;break}case"bt":{K.bottom=F,K.translate=`0 ${-Q}%`;break}case"tb":{K.top=F,K.translate=`0 ${Q}%`;break}}const te=$+W*U;return{"data-bounded":(B.length===1?te<=B[0]:B[0]<=te&&te<=B[B.length-1])?!0:void 0,"data-value":te,style:_n(K)}})}});return Ot([C,o,i,s,l,S,r],([B,$,D,U,b,g,I])=>{if(!Ko||U)return;const O=(K,te,ne,p)=>{const q=(K-ne)/(p-ne)*(D-$)+$;if(q<$)h($,te);else if(q>D)h(D,te);else{const ie=I,re=$,Ae=Math.floor((q-re)/ie),Fe=re+Ae*ie+ie/2,Me=re+(Ae+1)*ie+ie/2,ze=q>=Fe&&q<Me?(Ae+1)*ie+re:Ae*ie+re;ze<=D&&h(ze,te)}},W=K=>{const te=v();if(!te)return;te.forEach(q=>q.blur());const ne=te.map(q=>{if(b==="horizontal"){const{left:ie,right:re}=q.getBoundingClientRect();return Math.abs(K.clientX-(ie+re)/2)}else{const{top:ie,bottom:re}=q.getBoundingClientRect();return Math.abs(K.clientY-(ie+re)/2)}}),p=te[ne.indexOf(Math.min(...ne))],H=te.indexOf(p);return{thumb:p,index:H}},F=K=>{if(!c.get())return;K.preventDefault(),K.stopPropagation();const te=Nr(B["data-melt-id"]),ne=m.get();if(!te||!ne)return;ne.thumb.focus();const{left:p,right:H,top:q,bottom:ie}=te.getBoundingClientRect();switch(g){case"lr":{O(K.clientX,ne.index,p,H);break}case"rl":{O(K.clientX,ne.index,H,p);break}case"bt":{O(K.clientY,ne.index,ie,q);break}case"tb":{O(K.clientY,ne.index,q,ie);break}}},Z=K=>{if(K.button!==0)return;const te=Nr(B["data-melt-id"]),ne=W(K);if(!ne||!te)return;const p=K.target;!St(p)||!te.contains(p)||(K.preventDefault(),m.set(ne),ne.thumb.focus(),c.set(!0),F(K))},ee=()=>{c.set(!1)},Q=Kt(vt(document,"pointerdown",Z),vt(document,"pointerup",ee),vt(document,"pointerleave",ee),vt(document,"pointermove",F));return()=>{Q()}}),Ot([r,o,i,f],function([$,D,U,b]){const g=O=>Rr(O,D,U,$)===O,I=O=>Rr(O,D,U,$);b.some(O=>!g(O))&&f.update(O=>O.map(I))}),{elements:{root:C,thumbs:L,range:R,ticks:E},states:{value:f},options:n}},th={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:Lr}=pr("tooltip"),yi=new Map,nh=["trigger","content"];function oh(t){const e={...th,...t},n=Fn(hr(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,m=e.open??Ye(e.defaultOpen),_=gr(m,e==null?void 0:e.onOpenChange),h=Ye(null),v=Fn({...Nl(nh),...e.ids});let w=!1;const S=g=>Ko?document.getElementById(v[g].get()):null;let C=null,R=null;function L(g){R&&(window.clearTimeout(R),R=null),C||(C=window.setTimeout(()=>{_.set(!0),h.update(I=>I??g),C=null},l.get()))}function E(g){if(C&&(window.clearTimeout(C),C=null),g&&b){h.set("pointer");return}R||(R=window.setTimeout(()=>{_.set(!1),h.set(null),g&&(w=!1),R=null},a.get()))}const B=sn([_,s],([g,I])=>g||I),$=pt(Lr("trigger"),{stores:[v.content,v.trigger,_],returned:([g,I,O])=>({"aria-describedby":g,id:I,"data-state":O?"open":"closed"}),action:g=>{const I=W=>{f.get()&&W.key===st.ESCAPE&&(C&&(window.clearTimeout(C),C=null),_.set(!1))};return{destroy:Kt(kt(g,"pointerdown",()=>{r.get()&&(_.set(!1),w=!0,C&&(window.clearTimeout(C),C=null))}),kt(g,"pointerenter",W=>{Os(W)||L("pointer")}),kt(g,"pointerleave",W=>{Os(W)||C&&(window.clearTimeout(C),C=null)}),kt(g,"focus",()=>{w||L("focus")}),kt(g,"blur",async()=>{await Ol(0),E(!0)}),kt(g,"keydown",I),vt(document,"keydown",I))}}}),D=pt(Lr("content"),{stores:[B,_,u,v.content],returned:([g,I,O,W])=>({role:"tooltip",hidden:g?void 0:!0,tabindex:-1,style:_n({display:g?void 0:"none"}),id:W,"data-portal":dc(O),"data-state":I?"open":"closed"}),action:g=>{let I=xe,O=xe;const W=Ot([B,o,u],([ee,Q,K])=>{const te=S("trigger");if(!ee||!te){O(),I();return}if(I=p_(te,g,Q).destroy,K===null){O();return}const p=hc(g,K);if(p){const H=Rc(g,p);H&&H.destroy&&(O=H.destroy)}});function F(ee){if(!_.get())return;const Q=ee.target;if(!_r(Q)&&!op(Q))return;const K=S("trigger");K&&Q.contains(K)&&E()}const Z=Kt(kt(g,"pointerenter",()=>L("pointer")),kt(g,"pointerdown",()=>L("pointer")),vt(window,"scroll",F,{capture:!0}));return{destroy(){Z(),O(),I(),W()}}}}),U=pt(Lr("arrow"),{stores:i,returned:g=>({"data-arrow":!0,style:_n({position:"absolute",width:`var(--arrow-size, ${g}px)`,height:`var(--arrow-size, ${g}px)`})})});let b=!1;return Ot(_,g=>{const I=d.get();if(I===void 0||I===!1)return;if(!g){yi.get(I)===_&&yi.delete(I);return}const O=yi.get(I);O==null||O.set(!1),yi.set(I,_)}),Ot([_,h],([g,I])=>{if(!(!g||!Ko))return Kt(vt(document,"mousemove",O=>{const W=S("content"),F=S("trigger");if(!W||!F)return;const Z=c.get()?[F]:[F,W],ee=yp(Z);b=wp({x:O.clientX,y:O.clientY},ee),I==="pointer"&&(b||E())}))}),{ids:v,elements:{trigger:$,content:D,arrow:U},states:{open:_},options:n}}function Gn(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Hn(){const t=Yd();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function ko(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function jn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function Fc(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function ih(t){const{NAME:e,PARTS:n}=Fc(),o=Gn(e,n),i=Lc({...ko(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:jn(i.options)};return cr(e,r),{...r,updateOption:jn(r.options),getAttrs:o}}function Wn(){const{NAME:t}=Fc();return dr(t)}const rh=t=>({ids:t&1}),Ks=t=>({ids:t[0]});function lh(t){let e;const n=t[12].default,o=pe(n,t,t[11],Ks);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&he(o,n,i,i[11],e?_e(n,i[11],r,rh):ge(i[11]),Ks)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function sh(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:_=void 0}=e;const{states:{open:h},updateOption:v,ids:w}=ih({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:_,onOpenChange:({next:C})=>(f!==C&&(c==null||c(C),n(2,f=C)),C)}),S=sn([w.content,w.description,w.title],([C,R,L])=>({content:C,description:R,title:L}));return fe(t,S,C=>n(0,o=C)),t.$$set=C=>{"preventScroll"in C&&n(3,l=C.preventScroll),"closeOnEscape"in C&&n(4,a=C.closeOnEscape),"closeOnOutsideClick"in C&&n(5,s=C.closeOnOutsideClick),"portal"in C&&n(6,u=C.portal),"open"in C&&n(2,f=C.open),"onOpenChange"in C&&n(7,c=C.onOpenChange),"openFocus"in C&&n(8,d=C.openFocus),"closeFocus"in C&&n(9,m=C.closeFocus),"onOutsideClick"in C&&n(10,_=C.onOutsideClick),"$$scope"in C&&n(11,r=C.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&h.set(f),t.$$.dirty&8&&v("preventScroll",l),t.$$.dirty&16&&v("closeOnEscape",a),t.$$.dirty&32&&v("closeOnOutsideClick",s),t.$$.dirty&64&&v("portal",u),t.$$.dirty&256&&v("openFocus",d),t.$$.dirty&512&&v("closeFocus",m),t.$$.dirty&1024&&v("onOutsideClick",_)},[o,S,f,l,a,s,u,c,d,m,_,r,i]}class ah extends ye{constructor(e){super(),ve(this,e,sh,lh,de,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const uh=t=>({builder:t&8}),Us=t=>({builder:t[3]}),fh=t=>({builder:t&8}),Ys=t=>({builder:t[3]});function ch(t){let e=t[1],n,o,i=t[1]&&Fr(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1]?e?de(e,r[1])?(i.d(1),i=Fr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Fr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(k(i,r),o=!0)},o(r){A(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function dh(t){let e;const n=t[9].default,o=pe(n,t,t[8],Ys);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&he(o,n,i,i[8],e?_e(n,i[8],r,fh):ge(i[8]),Ys)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Fr(t){let e,n,o,i;const r=t[9].default,l=pe(r,t,t[8],Us);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),hn(t[1])(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=je(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&he(l,r,u,u[8],n?_e(r,u[8],f,uh):ge(u[8]),Us),hn(u[1])(e,s=we(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function mh(t){let e,n,o,i;const r=[dh,ch],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function ph(t,e,n){let o;const i=["level","asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:_,getAttrs:h}=Wn();fe(t,m,S=>n(7,l=S));const v=h("title");function w(S){Ie[S?"unshift":"push"](()=>{d=S,n(0,d)})}return t.$$set=S=>{e=x(x({},e),Re(S)),n(5,r=se(e,i)),"level"in S&&n(1,u=S.level),"asChild"in S&&n(2,f=S.asChild),"id"in S&&n(6,c=S.id),"el"in S&&n(0,d=S.el),"$$scope"in S&&n(8,s=S.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&_.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,v)},[d,u,f,o,m,r,c,l,s,a,w]}let _h=class extends ye{constructor(e){super(),ve(this,e,ph,mh,de,{level:1,asChild:2,id:6,el:0})}};const hh=t=>({builder:t&4}),Xs=t=>({builder:t[2]}),gh=t=>({builder:t&4}),Js=t=>({builder:t[2]});function bh(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],Xs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("button"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),z(e,"m-click",t[4]),z(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?_e(r,u[7],f,hh):ge(u[7]),Xs),ue(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,qe(i)}}}function vh(t){let e;const n=t[8].default,o=pe(n,t,t[7],Js);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?_e(n,i[7],r,gh):ge(i[7]),Js)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function yh(t){let e,n,o,i;const r=[vh,bh],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function wh(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Wn();fe(t,c,v=>n(6,l=v));const m=Hn(),_=d("action");function h(v){Ie[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=x(x({},e),Re(v)),n(5,r=se(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[f,u,o,c,m,r,l,s,a,h]}let kh=class extends ye{constructor(e){super(),ve(this,e,wh,yh,de,{asChild:1,el:0})}};const Ch=t=>({builder:t&4}),xs=t=>({builder:t[2]}),Ah=t=>({builder:t&4}),Zs=t=>({builder:t[2]});function Sh(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],xs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("button"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),z(e,"m-click",t[4]),z(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?_e(r,u[7],f,Ch):ge(u[7]),xs),ue(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,qe(i)}}}function Th(t){let e;const n=t[8].default,o=pe(n,t,t[7],Zs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?_e(n,i[7],r,Ah):ge(i[7]),Zs)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Mh(t){let e,n,o,i;const r=[Th,Sh],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Ih(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Wn();fe(t,c,v=>n(6,l=v));const m=Hn(),_=d("cancel");function h(v){Ie[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=x(x({},e),Re(v)),n(5,r=se(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[f,u,o,c,m,r,l,s,a,h]}let Ph=class extends ye{constructor(e){super(),ve(this,e,Ih,Mh,de,{asChild:1,el:0})}};const Oh=t=>({builder:t&4}),Qs=t=>({builder:t[2]}),Nh=t=>({builder:t&4}),zs=t=>({builder:t[2]});function Eh(t){let e,n,o,i;const r=t[7].default,l=pe(r,t,t[6],Qs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&he(l,r,u,u[6],n?_e(r,u[6],f,Oh):ge(u[6]),Qs),ue(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function Rh(t){let e;const n=t[7].default,o=pe(n,t,t[6],zs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&he(o,n,i,i[6],e?_e(n,i[6],r,Nh):ge(i[6]),zs)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Dh(t){let e,n,o,i;const r=[Rh,Eh],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Lh(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Wn();fe(t,c,h=>n(5,l=h));const m=d("portal");function _(h){Ie[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=x(x({},e),Re(h)),n(4,r=se(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,_]}let Fh=class extends ye{constructor(e){super(),ve(this,e,Lh,Dh,de,{asChild:1,el:0})}};const $h=t=>({builder:t[0]&256}),ea=t=>({builder:t[8]}),qh=t=>({builder:t[0]&256}),ta=t=>({builder:t[8]}),jh=t=>({builder:t[0]&256}),na=t=>({builder:t[8]}),Bh=t=>({builder:t[0]&256}),oa=t=>({builder:t[8]}),Vh=t=>({builder:t[0]&256}),ia=t=>({builder:t[8]}),Gh=t=>({builder:t[0]&256}),ra=t=>({builder:t[8]});function Hh(t){let e,n,o,i;const r=t[16].default,l=pe(r,t,t[15],ea);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[je(t[8].action(e)),z(e,"pointerdown",t[45]),z(e,"pointermove",t[46]),z(e,"pointerup",t[47]),z(e,"touchend",t[48]),z(e,"touchstart",t[49]),z(e,"touchcancel",t[50]),z(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&he(l,r,u,u[15],n?_e(r,u[15],f,$h):ge(u[15]),ea),ue(e,s=we(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(k(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,qe(i)}}}function Wh(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],ta);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[je(t[8].action(e)),z(e,"pointerdown",t[38]),z(e,"pointermove",t[39]),z(e,"pointerup",t[40]),z(e,"touchend",t[41]),z(e,"touchstart",t[42]),z(e,"touchcancel",t[43]),z(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?_e(l,t[15],c,qh):ge(t[15]),ta),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),n&&n.end(1),o=!0)},o(f){A(a,f),f&&(n=xt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,qe(r)}}}function Kh(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],na);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[je(t[8].action(e)),z(e,"pointerdown",t[31]),z(e,"pointermove",t[32]),z(e,"pointerup",t[33]),z(e,"touchend",t[34]),z(e,"touchstart",t[35]),z(e,"touchcancel",t[36]),z(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?_e(l,t[15],c,jh):ge(t[15]),na),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),f&&(n||ot(()=>{n=Jt(e,t[3],t[4]),n.start()})),o=!0)},o(f){A(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,qe(r)}}}function Uh(t){let e,n,o,i,r,l;const a=t[16].default,s=pe(a,t,t[15],oa);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=x(f,u[c]);return{c(){e=P("div"),s&&s.c(),ue(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[je(t[8].action(e)),z(e,"pointerdown",t[24]),z(e,"pointermove",t[25]),z(e,"pointerup",t[26]),z(e,"touchend",t[27]),z(e,"touchstart",t[28]),z(e,"touchcancel",t[29]),z(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&he(s,a,t,t[15],i?_e(a,t[15],d,Bh):ge(t[15]),oa),ue(e,f=we(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(k(s,c),c&&ot(()=>{i&&(o&&o.end(1),n=Jt(e,t[3],t[4]),n.start())}),i=!0)},o(c){A(s,c),n&&n.invalidate(),c&&(o=xt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,qe(l)}}}function Yh(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],ia);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[je(t[8].action(e)),z(e,"pointerdown",t[17]),z(e,"pointermove",t[18]),z(e,"pointerup",t[19]),z(e,"touchend",t[20]),z(e,"touchstart",t[21]),z(e,"touchcancel",t[22]),z(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?_e(l,t[15],c,Vh):ge(t[15]),ia),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),f&&ot(()=>{o&&(n||(n=Yt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){A(a,f),f&&(n||(n=Yt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,qe(r)}}}function Xh(t){let e;const n=t[16].default,o=pe(n,t,t[15],ra);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&he(o,n,i,i[15],e?_e(n,i[15],r,Gh):ge(i[15]),ra)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Jh(t){let e,n,o,i;const r=[Xh,Yh,Uh,Kh,Wh,Hh],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function xh(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{id:v=void 0}=e,{asChild:w=!1}=e,{el:S=void 0}=e;const{elements:{content:C},states:{open:R},ids:L,getAttrs:E}=Wn();fe(t,C,j=>n(14,l=j)),fe(t,R,j=>n(9,a=j));const B=E("content");function $(j){oe.call(this,t,j)}function D(j){oe.call(this,t,j)}function U(j){oe.call(this,t,j)}function b(j){oe.call(this,t,j)}function g(j){oe.call(this,t,j)}function I(j){oe.call(this,t,j)}function O(j){oe.call(this,t,j)}function W(j){oe.call(this,t,j)}function F(j){oe.call(this,t,j)}function Z(j){oe.call(this,t,j)}function ee(j){oe.call(this,t,j)}function Q(j){oe.call(this,t,j)}function K(j){oe.call(this,t,j)}function te(j){oe.call(this,t,j)}function ne(j){oe.call(this,t,j)}function p(j){oe.call(this,t,j)}function H(j){oe.call(this,t,j)}function q(j){oe.call(this,t,j)}function ie(j){oe.call(this,t,j)}function re(j){oe.call(this,t,j)}function Ae(j){oe.call(this,t,j)}function Fe(j){oe.call(this,t,j)}function Me(j){oe.call(this,t,j)}function ze(j){oe.call(this,t,j)}function ce(j){oe.call(this,t,j)}function Ee(j){oe.call(this,t,j)}function He(j){oe.call(this,t,j)}function Be(j){oe.call(this,t,j)}function Ue(j){oe.call(this,t,j)}function Ce(j){oe.call(this,t,j)}function Se(j){oe.call(this,t,j)}function yt(j){oe.call(this,t,j)}function Rt(j){oe.call(this,t,j)}function at(j){oe.call(this,t,j)}function Dt(j){oe.call(this,t,j)}function ut(j){Ie[j?"unshift":"push"](()=>{S=j,n(0,S)})}function mt(j){Ie[j?"unshift":"push"](()=>{S=j,n(0,S)})}function nt(j){Ie[j?"unshift":"push"](()=>{S=j,n(0,S)})}function me(j){Ie[j?"unshift":"push"](()=>{S=j,n(0,S)})}function We(j){Ie[j?"unshift":"push"](()=>{S=j,n(0,S)})}return t.$$set=j=>{e=x(x({},e),Re(j)),n(12,r=se(e,i)),"transition"in j&&n(1,f=j.transition),"transitionConfig"in j&&n(2,c=j.transitionConfig),"inTransition"in j&&n(3,d=j.inTransition),"inTransitionConfig"in j&&n(4,m=j.inTransitionConfig),"outTransition"in j&&n(5,_=j.outTransition),"outTransitionConfig"in j&&n(6,h=j.outTransitionConfig),"id"in j&&n(13,v=j.id),"asChild"in j&&n(7,w=j.asChild),"el"in j&&n(0,S=j.el),"$$scope"in j&&n(15,u=j.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&v&&L.content.set(v),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,B)},[S,f,c,d,m,_,h,w,o,a,C,R,r,v,l,u,s,$,D,U,b,g,I,O,W,F,Z,ee,Q,K,te,ne,p,H,q,ie,re,Ae,Fe,Me,ze,ce,Ee,He,Be,Ue,Ce,Se,yt,Rt,at,Dt,ut,mt,nt,me,We]}let Zh=class extends ye{constructor(e){super(),ve(this,e,xh,Jh,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const Qh=t=>({builder:t&256}),la=t=>({builder:t[8]});function zh(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=x(r,i[l]);return{c(){e=P("div"),ue(e,r)},m(l,a){M(l,e,a),t[20](e),n||(o=je(t[8].action(e)),n=!0)},p(l,a){ue(e,r=we(i,[a&256&&l[8],a&4096&&l[12]]))},i:ke,o:ke,d(l){l&&T(e),t[20](null),n=!1,o()}}}function e0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=P("div"),ue(e,a)},m(s,u){M(s,e,u),t[19](e),o=!0,i||(r=je(t[8].action(e)),i=!0)},p(s,u){t=s,ue(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=xt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function t0(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=x(l,r[a]);return{c(){e=P("div"),ue(e,l)},m(a,s){M(a,e,s),t[18](e),o||(i=je(t[8].action(e)),o=!0)},p(a,s){t=a,ue(e,l=we(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||ot(()=>{n=Jt(e,t[3],t[4]),n.start()}))},o:ke,d(a){a&&T(e),t[18](null),o=!1,i()}}}function n0(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("div"),ue(e,s)},m(u,f){M(u,e,f),t[17](e),i=!0,r||(l=je(t[8].action(e)),r=!0)},p(u,f){t=u,ue(e,s=we(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&ot(()=>{i&&(o&&o.end(1),n=Jt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=xt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function o0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=P("div"),ue(e,a)},m(s,u){M(s,e,u),t[16](e),o=!0,i||(r=je(t[8].action(e)),i=!0)},p(s,u){t=s,ue(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&ot(()=>{o&&(n||(n=Yt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Yt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function i0(t){let e;const n=t[15].default,o=pe(n,t,t[14],la);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&he(o,n,i,i[14],e?_e(n,i[14],r,Qh):ge(i[14]),la)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function r0(t){let e,n,o,i;const r=[i0,o0,n0,t0,e0,zh],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function l0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:v=!1}=e,{el:w=void 0}=e;const{elements:{overlay:S},states:{open:C},getAttrs:R}=Wn();fe(t,S,b=>n(13,l=b)),fe(t,C,b=>n(9,a=b));const L=R("overlay");function E(b){Ie[b?"unshift":"push"](()=>{w=b,n(0,w)})}function B(b){Ie[b?"unshift":"push"](()=>{w=b,n(0,w)})}function $(b){Ie[b?"unshift":"push"](()=>{w=b,n(0,w)})}function D(b){Ie[b?"unshift":"push"](()=>{w=b,n(0,w)})}function U(b){Ie[b?"unshift":"push"](()=>{w=b,n(0,w)})}return t.$$set=b=>{e=x(x({},e),Re(b)),n(12,r=se(e,i)),"transition"in b&&n(1,f=b.transition),"transitionConfig"in b&&n(2,c=b.transitionConfig),"inTransition"in b&&n(3,d=b.inTransition),"inTransitionConfig"in b&&n(4,m=b.inTransitionConfig),"outTransition"in b&&n(5,_=b.outTransition),"outTransitionConfig"in b&&n(6,h=b.outTransitionConfig),"asChild"in b&&n(7,v=b.asChild),"el"in b&&n(0,w=b.el),"$$scope"in b&&n(14,u=b.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,L)},[w,f,c,d,m,_,h,v,o,a,S,C,r,l,u,s,E,B,$,D,U]}let s0=class extends ye{constructor(e){super(),ve(this,e,l0,r0,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const a0=t=>({builder:t&4}),sa=t=>({builder:t[2]}),u0=t=>({builder:t&4}),aa=t=>({builder:t[2]});function f0(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],sa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?_e(r,u[7],f,a0):ge(u[7]),sa),ue(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function c0(t){let e;const n=t[8].default,o=pe(n,t,t[7],aa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?_e(n,i[7],r,u0):ge(i[7]),aa)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function d0(t){let e,n,o,i;const r=[c0,f0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function m0(t,e,n){let o;const i=["asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:_}=Wn();fe(t,d,w=>n(6,l=w));const h=_("description");function v(w){Ie[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=x(x({},e),Re(w)),n(4,r=se(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(5,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[c,u,o,d,r,f,l,s,a,v]}let p0=class extends ye{constructor(e){super(),ve(this,e,m0,d0,de,{asChild:1,id:5,el:0})}};function _0(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function ua(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function h0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&$r(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1],e?de(e,r[1]?"a":"button")?(i.d(1),i=$r(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=$r(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(k(i,r),o=!0)},o(r){A(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function g0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&qr(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1],e?de(e,r[1]?"a":"button")?(i.d(1),i=qr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=qr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(k(i,r),o=!0)},o(r){A(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function $r(t){let e,n,o,i,r;const l=t[7].default,a=pe(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=P(t[1]?"a":"button"),a&&a.c(),hn(t[1]?"a":"button")(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),o=!0,i||(r=[z(e,"click",t[14]),z(e,"change",t[15]),z(e,"keydown",t[16]),z(e,"keyup",t[17]),z(e,"mouseenter",t[18]),z(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&he(a,l,f,f[6],o?_e(l,f[6],c,null):ge(f[6]),null),hn(f[1]?"a":"button")(e,u=we(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(k(a,f),o=!0)},o(f){A(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),i=!1,qe(r)}}}function qr(t){let e,n,o,i,r,l;const a=t[7].default,s=pe(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},ua(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=x(f,u[c]);return{c(){e=P(t[1]?"a":"button"),s&&s.c(),hn(t[1]?"a":"button")(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[z(e,"click",t[8]),z(e,"change",t[9]),z(e,"keydown",t[10]),z(e,"keyup",t[11]),z(e,"mouseenter",t[12]),z(e,"mouseleave",t[13]),je(o=_0.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&he(s,a,c,c[6],i?_e(a,c[6],d,null):ge(c[6]),null),hn(c[1]?"a":"button")(e,f=we(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&ua(c[3]),d&32&&c[5],c[4]])),o&&kn(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(k(s,c),i=!0)},o(c){A(s,c),i=!1},d(c){c&&T(e),s&&s.d(c),t[20](null),r=!1,qe(l)}}}function b0(t){let e,n,o,i;const r=[g0,h0],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function v0(t,e,n){const o=["href","type","builders","el"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(D){oe.call(this,t,D)}function m(D){oe.call(this,t,D)}function _(D){oe.call(this,t,D)}function h(D){oe.call(this,t,D)}function v(D){oe.call(this,t,D)}function w(D){oe.call(this,t,D)}function S(D){oe.call(this,t,D)}function C(D){oe.call(this,t,D)}function R(D){oe.call(this,t,D)}function L(D){oe.call(this,t,D)}function E(D){oe.call(this,t,D)}function B(D){oe.call(this,t,D)}function $(D){Ie[D?"unshift":"push"](()=>{f=D,n(0,f)})}return t.$$set=D=>{e=x(x({},e),Re(D)),n(5,i=se(e,o)),"href"in D&&n(1,a=D.href),"type"in D&&n(2,s=D.type),"builders"in D&&n(3,u=D.builders),"el"in D&&n(0,f=D.el),"$$scope"in D&&n(6,l=D.$$scope)},[f,a,s,u,c,i,l,r,d,m,_,h,v,w,S,C,R,L,E,B,$]}let y0=class extends ye{constructor(e){super(),ve(this,e,v0,b0,de,{href:1,type:2,builders:3,el:0})}};function w0(t){return(e={})=>k0(t,e)}function k0(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:C0(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function C0(t,e){return e==="center"?t:`${t}-${e}`}function A0(){return{NAME:"separator",PARTS:["root"]}}function S0(t){const{NAME:e,PARTS:n}=A0(),o=Gn(e,n),i={...Q_(ko(t)),getAttrs:o};return{...i,updateOption:jn(i.options)}}const T0=t=>({builder:t&4}),fa=t=>({builder:t[2]});function M0(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=x(r,i[l]);return{c(){e=P("div"),ue(e,r)},m(l,a){M(l,e,a),t[10](e),n||(o=je(t[2].action(e)),n=!0)},p(l,a){ue(e,r=we(i,[a&4&&l[2],a&16&&l[4]]))},i:ke,o:ke,d(l){l&&T(e),t[10](null),n=!1,o()}}}function I0(t){let e;const n=t[9].default,o=pe(n,t,t[8],fa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&he(o,n,i,i[8],e?_e(n,i[8],r,T0):ge(i[8]),fa)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function P0(t){let e,n,o,i;const r=[I0,M0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function O0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:m},updateOption:_,getAttrs:h}=S0({orientation:u,decorative:f});fe(t,m,S=>n(7,l=S));const v=h("root");function w(S){Ie[S?"unshift":"push"](()=>{d=S,n(0,d)})}return t.$$set=S=>{e=x(x({},e),Re(S)),n(4,r=se(e,i)),"orientation"in S&&n(5,u=S.orientation),"decorative"in S&&n(6,f=S.decorative),"asChild"in S&&n(1,c=S.asChild),"el"in S&&n(0,d=S.el),"$$scope"in S&&n(8,s=S.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&_("orientation",u),t.$$.dirty&64&&_("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,v)},[d,c,o,m,r,u,f,l,s,a,w]}let N0=class extends ye{constructor(e){super(),ve(this,e,O0,P0,de,{orientation:5,decorative:6,asChild:1,el:0})}};function $c(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function E0(t){const{NAME:e,PARTS:n}=$c(),o=Gn(e,n),i={...Lc({...ko(t),role:"dialog",forceVisible:!0}),getAttrs:o};return cr(e,i),{...i,updateOption:jn(i.options)}}function Co(){const{NAME:t}=$c();return dr(t)}const R0=t=>({ids:t&1}),ca=t=>({ids:t[0]});function D0(t){let e;const n=t[12].default,o=pe(n,t,t[11],ca);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&he(o,n,i,i[11],e?_e(n,i[11],r,R0):ge(i[11]),ca)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function L0(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:_=void 0}=e;const{states:{open:h},updateOption:v,ids:w}=E0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:_,onOpenChange:({next:C})=>(f!==C&&(c==null||c(C),n(2,f=C)),C)}),S=sn([w.content,w.description,w.title],([C,R,L])=>({content:C,description:R,title:L}));return fe(t,S,C=>n(0,o=C)),t.$$set=C=>{"preventScroll"in C&&n(3,l=C.preventScroll),"closeOnEscape"in C&&n(4,a=C.closeOnEscape),"closeOnOutsideClick"in C&&n(5,s=C.closeOnOutsideClick),"portal"in C&&n(6,u=C.portal),"open"in C&&n(2,f=C.open),"onOpenChange"in C&&n(7,c=C.onOpenChange),"openFocus"in C&&n(8,d=C.openFocus),"closeFocus"in C&&n(9,m=C.closeFocus),"onOutsideClick"in C&&n(10,_=C.onOutsideClick),"$$scope"in C&&n(11,r=C.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&h.set(f),t.$$.dirty&8&&v("preventScroll",l),t.$$.dirty&16&&v("closeOnEscape",a),t.$$.dirty&32&&v("closeOnOutsideClick",s),t.$$.dirty&64&&v("portal",u),t.$$.dirty&256&&v("openFocus",d),t.$$.dirty&512&&v("closeFocus",m),t.$$.dirty&1024&&v("onOutsideClick",_)},[o,S,f,l,a,s,u,c,d,m,_,r,i]}class F0 extends ye{constructor(e){super(),ve(this,e,L0,D0,de,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const $0=t=>({builder:t&8}),da=t=>({builder:t[3]}),q0=t=>({builder:t&8}),ma=t=>({builder:t[3]});function j0(t){let e=t[1],n,o,i=t[1]&&jr(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1]?e?de(e,r[1])?(i.d(1),i=jr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=jr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(k(i,r),o=!0)},o(r){A(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function B0(t){let e;const n=t[9].default,o=pe(n,t,t[8],ma);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&he(o,n,i,i[8],e?_e(n,i[8],r,q0):ge(i[8]),ma)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function jr(t){let e,n,o,i;const r=t[9].default,l=pe(r,t,t[8],da);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),hn(t[1])(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=je(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&he(l,r,u,u[8],n?_e(r,u[8],f,$0):ge(u[8]),da),hn(u[1])(e,s=we(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function V0(t){let e,n,o,i;const r=[B0,j0],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function G0(t,e,n){let o;const i=["level","asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:_,getAttrs:h}=Co();fe(t,m,S=>n(7,l=S));const v=h("title");function w(S){Ie[S?"unshift":"push"](()=>{d=S,n(0,d)})}return t.$$set=S=>{e=x(x({},e),Re(S)),n(5,r=se(e,i)),"level"in S&&n(1,u=S.level),"asChild"in S&&n(2,f=S.asChild),"id"in S&&n(6,c=S.id),"el"in S&&n(0,d=S.el),"$$scope"in S&&n(8,s=S.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&_.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,v)},[d,u,f,o,m,r,c,l,s,a,w]}let H0=class extends ye{constructor(e){super(),ve(this,e,G0,V0,de,{level:1,asChild:2,id:6,el:0})}};const W0=t=>({builder:t&4}),pa=t=>({builder:t[2]}),K0=t=>({builder:t&4}),_a=t=>({builder:t[2]});function U0(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],pa);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("button"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),z(e,"m-click",t[4]),z(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?_e(r,u[7],f,W0):ge(u[7]),pa),ue(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,qe(i)}}}function Y0(t){let e;const n=t[8].default,o=pe(n,t,t[7],_a);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?_e(n,i[7],r,K0):ge(i[7]),_a)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function X0(t){let e,n,o,i;const r=[Y0,U0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function J0(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Co();fe(t,c,v=>n(6,l=v));const m=Hn(),_=d("close");function h(v){Ie[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=x(x({},e),Re(v)),n(5,r=se(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[f,u,o,c,m,r,l,s,a,h]}class x0 extends ye{constructor(e){super(),ve(this,e,J0,X0,de,{asChild:1,el:0})}}const Z0=t=>({builder:t&4}),ha=t=>({builder:t[2]}),Q0=t=>({builder:t&4}),ga=t=>({builder:t[2]});function z0(t){let e,n,o,i;const r=t[7].default,l=pe(r,t,t[6],ha);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&he(l,r,u,u[6],n?_e(r,u[6],f,Z0):ge(u[6]),ha),ue(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function eg(t){let e;const n=t[7].default,o=pe(n,t,t[6],ga);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&he(o,n,i,i[6],e?_e(n,i[6],r,Q0):ge(i[6]),ga)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function tg(t){let e,n,o,i;const r=[eg,z0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function ng(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Co();fe(t,c,h=>n(5,l=h));const m=d("portal");function _(h){Ie[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=x(x({},e),Re(h)),n(4,r=se(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,_]}let og=class extends ye{constructor(e){super(),ve(this,e,ng,tg,de,{asChild:1,el:0})}};const ig=t=>({builder:t[0]&256}),ba=t=>({builder:t[8]}),rg=t=>({builder:t[0]&256}),va=t=>({builder:t[8]}),lg=t=>({builder:t[0]&256}),ya=t=>({builder:t[8]}),sg=t=>({builder:t[0]&256}),wa=t=>({builder:t[8]}),ag=t=>({builder:t[0]&256}),ka=t=>({builder:t[8]}),ug=t=>({builder:t[0]&256}),Ca=t=>({builder:t[8]});function fg(t){let e,n,o,i;const r=t[16].default,l=pe(r,t,t[15],ba);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[je(t[8].action(e)),z(e,"pointerdown",t[45]),z(e,"pointermove",t[46]),z(e,"pointerup",t[47]),z(e,"touchend",t[48]),z(e,"touchstart",t[49]),z(e,"touchcancel",t[50]),z(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&he(l,r,u,u[15],n?_e(r,u[15],f,ig):ge(u[15]),ba),ue(e,s=we(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(k(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,qe(i)}}}function cg(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],va);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[je(t[8].action(e)),z(e,"pointerdown",t[38]),z(e,"pointermove",t[39]),z(e,"pointerup",t[40]),z(e,"touchend",t[41]),z(e,"touchstart",t[42]),z(e,"touchcancel",t[43]),z(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?_e(l,t[15],c,rg):ge(t[15]),va),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),n&&n.end(1),o=!0)},o(f){A(a,f),f&&(n=xt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,qe(r)}}}function dg(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],ya);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[je(t[8].action(e)),z(e,"pointerdown",t[31]),z(e,"pointermove",t[32]),z(e,"pointerup",t[33]),z(e,"touchend",t[34]),z(e,"touchstart",t[35]),z(e,"touchcancel",t[36]),z(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?_e(l,t[15],c,lg):ge(t[15]),ya),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),f&&(n||ot(()=>{n=Jt(e,t[3],t[4]),n.start()})),o=!0)},o(f){A(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,qe(r)}}}function mg(t){let e,n,o,i,r,l;const a=t[16].default,s=pe(a,t,t[15],wa);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=x(f,u[c]);return{c(){e=P("div"),s&&s.c(),ue(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[je(t[8].action(e)),z(e,"pointerdown",t[24]),z(e,"pointermove",t[25]),z(e,"pointerup",t[26]),z(e,"touchend",t[27]),z(e,"touchstart",t[28]),z(e,"touchcancel",t[29]),z(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&he(s,a,t,t[15],i?_e(a,t[15],d,sg):ge(t[15]),wa),ue(e,f=we(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(k(s,c),c&&ot(()=>{i&&(o&&o.end(1),n=Jt(e,t[3],t[4]),n.start())}),i=!0)},o(c){A(s,c),n&&n.invalidate(),c&&(o=xt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,qe(l)}}}function pg(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],ka);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[je(t[8].action(e)),z(e,"pointerdown",t[17]),z(e,"pointermove",t[18]),z(e,"pointerup",t[19]),z(e,"touchend",t[20]),z(e,"touchstart",t[21]),z(e,"touchcancel",t[22]),z(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?_e(l,t[15],c,ag):ge(t[15]),ka),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),f&&ot(()=>{o&&(n||(n=Yt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){A(a,f),f&&(n||(n=Yt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,qe(r)}}}function _g(t){let e;const n=t[16].default,o=pe(n,t,t[15],Ca);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&he(o,n,i,i[15],e?_e(n,i[15],r,ug):ge(i[15]),Ca)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function hg(t){let e,n,o,i;const r=[_g,pg,mg,dg,cg,fg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function gg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:v=!1}=e,{id:w=void 0}=e,{el:S=void 0}=e;const{elements:{content:C},states:{open:R},ids:L,getAttrs:E}=Co();fe(t,C,j=>n(14,l=j)),fe(t,R,j=>n(9,a=j));const B=E("content");function $(j){oe.call(this,t,j)}function D(j){oe.call(this,t,j)}function U(j){oe.call(this,t,j)}function b(j){oe.call(this,t,j)}function g(j){oe.call(this,t,j)}function I(j){oe.call(this,t,j)}function O(j){oe.call(this,t,j)}function W(j){oe.call(this,t,j)}function F(j){oe.call(this,t,j)}function Z(j){oe.call(this,t,j)}function ee(j){oe.call(this,t,j)}function Q(j){oe.call(this,t,j)}function K(j){oe.call(this,t,j)}function te(j){oe.call(this,t,j)}function ne(j){oe.call(this,t,j)}function p(j){oe.call(this,t,j)}function H(j){oe.call(this,t,j)}function q(j){oe.call(this,t,j)}function ie(j){oe.call(this,t,j)}function re(j){oe.call(this,t,j)}function Ae(j){oe.call(this,t,j)}function Fe(j){oe.call(this,t,j)}function Me(j){oe.call(this,t,j)}function ze(j){oe.call(this,t,j)}function ce(j){oe.call(this,t,j)}function Ee(j){oe.call(this,t,j)}function He(j){oe.call(this,t,j)}function Be(j){oe.call(this,t,j)}function Ue(j){oe.call(this,t,j)}function Ce(j){oe.call(this,t,j)}function Se(j){oe.call(this,t,j)}function yt(j){oe.call(this,t,j)}function Rt(j){oe.call(this,t,j)}function at(j){oe.call(this,t,j)}function Dt(j){oe.call(this,t,j)}function ut(j){Ie[j?"unshift":"push"](()=>{S=j,n(0,S)})}function mt(j){Ie[j?"unshift":"push"](()=>{S=j,n(0,S)})}function nt(j){Ie[j?"unshift":"push"](()=>{S=j,n(0,S)})}function me(j){Ie[j?"unshift":"push"](()=>{S=j,n(0,S)})}function We(j){Ie[j?"unshift":"push"](()=>{S=j,n(0,S)})}return t.$$set=j=>{e=x(x({},e),Re(j)),n(12,r=se(e,i)),"transition"in j&&n(1,f=j.transition),"transitionConfig"in j&&n(2,c=j.transitionConfig),"inTransition"in j&&n(3,d=j.inTransition),"inTransitionConfig"in j&&n(4,m=j.inTransitionConfig),"outTransition"in j&&n(5,_=j.outTransition),"outTransitionConfig"in j&&n(6,h=j.outTransitionConfig),"asChild"in j&&n(7,v=j.asChild),"id"in j&&n(13,w=j.id),"el"in j&&n(0,S=j.el),"$$scope"in j&&n(15,u=j.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&w&&L.content.set(w),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,B)},[S,f,c,d,m,_,h,v,o,a,C,R,r,w,l,u,s,$,D,U,b,g,I,O,W,F,Z,ee,Q,K,te,ne,p,H,q,ie,re,Ae,Fe,Me,ze,ce,Ee,He,Be,Ue,Ce,Se,yt,Rt,at,Dt,ut,mt,nt,me,We]}let bg=class extends ye{constructor(e){super(),ve(this,e,gg,hg,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const vg=t=>({builder:t&256}),Aa=t=>({builder:t[8]});function yg(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=x(r,i[l]);return{c(){e=P("div"),ue(e,r)},m(l,a){M(l,e,a),t[25](e),n||(o=[je(t[8].action(e)),z(e,"mouseup",t[20])],n=!0)},p(l,a){ue(e,r=we(i,[a&256&&l[8],a&4096&&l[12]]))},i:ke,o:ke,d(l){l&&T(e),t[25](null),n=!1,qe(o)}}}function wg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=P("div"),ue(e,a)},m(s,u){M(s,e,u),t[24](e),o=!0,i||(r=[je(t[8].action(e)),z(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,ue(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=xt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[24](null),s&&n&&n.end(),i=!1,qe(r)}}}function kg(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=x(l,r[a]);return{c(){e=P("div"),ue(e,l)},m(a,s){M(a,e,s),t[23](e),o||(i=[je(t[8].action(e)),z(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,ue(e,l=we(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||ot(()=>{n=Jt(e,t[3],t[4]),n.start()}))},o:ke,d(a){a&&T(e),t[23](null),o=!1,qe(i)}}}function Cg(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("div"),ue(e,s)},m(u,f){M(u,e,f),t[22](e),i=!0,r||(l=[je(t[8].action(e)),z(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,ue(e,s=we(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&ot(()=>{i&&(o&&o.end(1),n=Jt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=xt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[22](null),u&&o&&o.end(),r=!1,qe(l)}}}function Ag(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=P("div"),ue(e,a)},m(s,u){M(s,e,u),t[21](e),o=!0,i||(r=[z(e,"mouseup",t[16]),je(t[8].action(e))],i=!0)},p(s,u){t=s,ue(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&ot(()=>{o&&(n||(n=Yt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Yt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[21](null),s&&n&&n.end(),i=!1,qe(r)}}}function Sg(t){let e;const n=t[15].default,o=pe(n,t,t[14],Aa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&he(o,n,i,i[14],e?_e(n,i[14],r,vg):ge(i[14]),Aa)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Tg(t){let e,n,o,i;const r=[Sg,Ag,Cg,kg,wg,yg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function Mg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:v=!1}=e,{el:w=void 0}=e;const{elements:{overlay:S},states:{open:C},getAttrs:R}=Co();fe(t,S,F=>n(13,l=F)),fe(t,C,F=>n(9,a=F));const L=R("overlay");function E(F){oe.call(this,t,F)}function B(F){oe.call(this,t,F)}function $(F){oe.call(this,t,F)}function D(F){oe.call(this,t,F)}function U(F){oe.call(this,t,F)}function b(F){Ie[F?"unshift":"push"](()=>{w=F,n(0,w)})}function g(F){Ie[F?"unshift":"push"](()=>{w=F,n(0,w)})}function I(F){Ie[F?"unshift":"push"](()=>{w=F,n(0,w)})}function O(F){Ie[F?"unshift":"push"](()=>{w=F,n(0,w)})}function W(F){Ie[F?"unshift":"push"](()=>{w=F,n(0,w)})}return t.$$set=F=>{e=x(x({},e),Re(F)),n(12,r=se(e,i)),"transition"in F&&n(1,f=F.transition),"transitionConfig"in F&&n(2,c=F.transitionConfig),"inTransition"in F&&n(3,d=F.inTransition),"inTransitionConfig"in F&&n(4,m=F.inTransitionConfig),"outTransition"in F&&n(5,_=F.outTransition),"outTransitionConfig"in F&&n(6,h=F.outTransitionConfig),"asChild"in F&&n(7,v=F.asChild),"el"in F&&n(0,w=F.el),"$$scope"in F&&n(14,u=F.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,L)},[w,f,c,d,m,_,h,v,o,a,S,C,r,l,u,s,E,B,$,D,U,b,g,I,O,W]}let Ig=class extends ye{constructor(e){super(),ve(this,e,Mg,Tg,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Pg=t=>({builder:t&4}),Sa=t=>({builder:t[2]}),Og=t=>({builder:t&4}),Ta=t=>({builder:t[2]});function Ng(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],Sa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?_e(r,u[7],f,Pg):ge(u[7]),Sa),ue(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function Eg(t){let e;const n=t[8].default,o=pe(n,t,t[7],Ta);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?_e(n,i[7],r,Og):ge(i[7]),Ta)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Rg(t){let e,n,o,i;const r=[Eg,Ng],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Dg(t,e,n){let o;const i=["asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:_}=Co();fe(t,d,w=>n(6,l=w));const h=_("description");function v(w){Ie[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=x(x({},e),Re(w)),n(4,r=se(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(5,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[c,u,o,d,r,f,l,s,a,v]}let Lg=class extends ye{constructor(e){super(),ve(this,e,Dg,Rg,de,{asChild:1,id:5,el:0})}};function Fg(){const t="label",n=Gn(t,["root"]);return{NAME:t,getAttrs:n}}const $g=t=>({builder:t&4}),Ma=t=>({builder:t[2]}),qg=t=>({builder:t&4}),Ia=t=>({builder:t[2]});function jg(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],Ma);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("label"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[je(t[2].action(e)),z(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?_e(r,u[7],f,$g):ge(u[7]),Ma),ue(e,s=we(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,qe(i)}}}function Bg(t){let e;const n=t[8].default,o=pe(n,t,t[7],Ia);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?_e(n,i[7],r,qg):ge(i[7]),Ia)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Vg(t){let e,n,o,i;const r=[Bg,jg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Gg(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=K_();fe(t,c,v=>n(6,l=v));const d=Hn(),{getAttrs:m}=Fg(),_=m("root");function h(v){Ie[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=x(x({},e),Re(v)),n(5,r=se(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[f,u,o,c,d,r,l,s,a,h]}let Hg=class extends ye{constructor(e){super(),ve(this,e,Gg,Vg,de,{asChild:1,el:0})}};function Wg(){return{NAME:"progress",PARTS:["root"]}}function Kg(t){const{NAME:e,PARTS:n}=Wg(),o=Gn(e,n),i={...x_(ko(t)),getAttrs:o};return{...i,updateOption:jn(i.options)}}const Ug=t=>({builder:t&4}),Pa=t=>({builder:t[2]}),Yg=t=>({builder:t&4}),Oa=t=>({builder:t[2]});function Xg(t){let e,n,o,i;const r=t[10].default,l=pe(r,t,t[9],Pa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&he(l,r,u,u[9],n?_e(r,u[9],f,Ug):ge(u[9]),Pa),ue(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[11](null),o=!1,i()}}}function Jg(t){let e;const n=t[10].default,o=pe(n,t,t[9],Oa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&he(o,n,i,i[9],e?_e(n,i[9],r,Yg):ge(i[9]),Oa)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function xg(t){let e,n,o,i;const r=[Jg,Xg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Zg(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:m=void 0}=e;const{elements:{root:_},states:{value:h},updateOption:v,getAttrs:w}=Kg({max:u,defaultValue:f,onValueChange:({next:R})=>(c==null||c(R),n(5,f=R),R)});fe(t,_,R=>n(8,l=R));const S=w("root");function C(R){Ie[R?"unshift":"push"](()=>{m=R,n(0,m)})}return t.$$set=R=>{e=x(x({},e),Re(R)),n(4,r=se(e,i)),"max"in R&&n(6,u=R.max),"value"in R&&n(5,f=R.value),"onValueChange"in R&&n(7,c=R.onValueChange),"asChild"in R&&n(1,d=R.asChild),"el"in R&&n(0,m=R.el),"$$scope"in R&&n(9,s=R.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&h.set(f),t.$$.dirty&64&&v("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,S)},[m,d,o,_,r,f,u,c,l,s,a,C]}let Qg=class extends ye{constructor(e){super(),ve(this,e,Zg,xg,de,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function qc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function zg(t){const{NAME:e,PARTS:n}=qc(),o=Gn(e,n),i={...eh(ko(t)),getAttrs:o};return cr(e,i),{...i,updateOption:jn(i.options)}}function jc(){const{NAME:t}=qc();return dr(t)}const e1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Na=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),t1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Ea=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function n1(t){let e,n,o,i;const r=t[18].default,l=pe(r,t,t[17],Na);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("span"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&he(l,r,u,u[17],n?_e(r,u[17],f,e1):ge(u[17]),Na),ue(e,s=we(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(k(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[19](null),o=!1,i()}}}function o1(t){let e;const n=t[18].default,o=pe(n,t,t[17],Ea);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&he(o,n,i,i[17],e?_e(n,i[17],r,t1):ge(i[17]),Ea)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function i1(t){let e,n,o,i;const r=[o1,n1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function r1(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=se(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:m=void 0}=e,{step:_=void 0}=e,{orientation:h=void 0}=e,{value:v=void 0}=e,{onValueChange:w=void 0}=e,{asChild:S=!1}=e,{el:C=void 0}=e;const{elements:{root:R,ticks:L,thumbs:E},states:{value:B},updateOption:$,getAttrs:D}=zg({disabled:c,min:d,max:m,step:_,orientation:h,defaultValue:v,onValueChange:({next:g})=>(v!==g&&(w==null||w(g),n(9,v=g)),g)});fe(t,R,g=>n(16,l=g)),fe(t,L,g=>n(3,a=g)),fe(t,E,g=>n(4,s=g));const U=D("root");function b(g){Ie[g?"unshift":"push"](()=>{C=g,n(0,C)})}return t.$$set=g=>{e=x(x({},e),Re(g)),n(8,r=se(e,i)),"disabled"in g&&n(10,c=g.disabled),"min"in g&&n(11,d=g.min),"max"in g&&n(12,m=g.max),"step"in g&&n(13,_=g.step),"orientation"in g&&n(14,h=g.orientation),"value"in g&&n(9,v=g.value),"onValueChange"in g&&n(15,w=g.onValueChange),"asChild"in g&&n(1,S=g.asChild),"el"in g&&n(0,C=g.el),"$$scope"in g&&n(17,f=g.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&v!==void 0&&B.set(v),t.$$.dirty&1024&&$("disabled",c),t.$$.dirty&2048&&$("min",d),t.$$.dirty&4096&&$("max",m),t.$$.dirty&8192&&$("step",_),t.$$.dirty&16384&&$("orientation",h),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,U)},[C,S,o,a,s,R,L,E,r,v,c,d,m,_,h,w,l,f,u,b]}let l1=class extends ye{constructor(e){super(),ve(this,e,r1,i1,de,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const s1=t=>({builder:t&4}),Ra=t=>({builder:t[2]});function a1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=x(r,i[l]);return{c(){e=P("span"),ue(e,r)},m(l,a){M(l,e,a),t[8](e),n||(o=je(t[2].action(e)),n=!0)},p(l,a){ue(e,r=we(i,[a&4&&l[2],a&16&&l[4]]))},i:ke,o:ke,d(l){l&&T(e),t[8](null),n=!1,o()}}}function u1(t){let e;const n=t[7].default,o=pe(n,t,t[6],Ra);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&he(o,n,i,i[6],e?_e(n,i[6],r,s1):ge(i[6]),Ra)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function f1(t){let e,n,o,i;const r=[u1,a1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function c1(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=jc();fe(t,c,h=>n(5,l=h));const m=d("range");function _(h){Ie[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=x(x({},e),Re(h)),n(4,r=se(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,_]}class d1 extends ye{constructor(e){super(),ve(this,e,c1,f1,de,{asChild:1,el:0})}}const m1=t=>({builder:t&4}),Da=t=>({builder:t[2]});function p1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=x(r,i[l]);return{c(){e=P("span"),ue(e,r)},m(l,a){M(l,e,a),t[8](e),n||(o=[je(t[2].action(e)),z(e,"m-keydown",t[3])],n=!0)},p(l,a){ue(e,r=we(i,[a&4&&l[2],a&16&&l[4]]))},i:ke,o:ke,d(l){l&&T(e),t[8](null),n=!1,qe(o)}}}function _1(t){let e;const n=t[7].default,o=pe(n,t,t[6],Da);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&he(o,n,i,i[6],e?_e(n,i[6],r,m1):ge(i[6]),Da)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function h1(t){let e,n,o,i;const r=[_1,p1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function g1(t,e,n){let o;const i=["asChild","el","thumb"];let r=se(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=jc(),d=Hn(),m=c("thumb");function _(h){Ie[h?"unshift":"push"](()=>{u=h,n(0,u)})}return t.$$set=h=>{e=x(x({},e),Re(h)),n(4,r=se(e,i)),"asChild"in h&&n(1,s=h.asChild),"el"in h&&n(0,u=h.el),"thumb"in h&&n(5,f=h.thumb),"$$scope"in h&&n(6,a=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,m)},[u,s,o,d,r,f,a,l,_]}class b1 extends ye{constructor(e){super(),ve(this,e,g1,h1,de,{asChild:1,el:0,thumb:5})}}function Bc(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function v1(t){const{NAME:e,PARTS:n}=Bc(),o=Gn(e,n),i={...oh({positioning:{placement:"top",gutter:0},openDelay:700,...ko(t),forceVisible:!0}),getAttrs:o};return cr(e,i),{...i,updateOption:jn(i.options)}}function ql(){const{NAME:t}=Bc();return dr(t)}function y1(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=ql();w0(o)({...n})}const w1=t=>({ids:t&1}),La=t=>({ids:t[0]});function k1(t){let e;const n=t[12].default,o=pe(n,t,t[11],La);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&he(o,n,i,i[11],e?_e(n,i[11],r,w1):ge(i[11]),La)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function C1(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:m=void 0}=e,{group:_=void 0}=e;const{states:{open:h},updateOption:v,ids:w}=v1({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:m,group:_,onOpenChange:({next:C})=>(c!==C&&(d==null||d(C),n(2,c=C)),C),positioning:{gutter:0,offset:{mainAxis:1}}}),S=sn([w.content,w.trigger],([C,R])=>({content:C,trigger:R}));return fe(t,S,C=>n(0,o=C)),t.$$set=C=>{"closeOnEscape"in C&&n(3,l=C.closeOnEscape),"portal"in C&&n(4,a=C.portal),"closeOnPointerDown"in C&&n(5,s=C.closeOnPointerDown),"openDelay"in C&&n(6,u=C.openDelay),"closeDelay"in C&&n(7,f=C.closeDelay),"open"in C&&n(2,c=C.open),"onOpenChange"in C&&n(8,d=C.onOpenChange),"disableHoverableContent"in C&&n(9,m=C.disableHoverableContent),"group"in C&&n(10,_=C.group),"$$scope"in C&&n(11,r=C.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&h.set(c),t.$$.dirty&8&&v("closeOnEscape",l),t.$$.dirty&16&&v("portal",a),t.$$.dirty&32&&v("closeOnPointerDown",s),t.$$.dirty&64&&v("openDelay",u),t.$$.dirty&128&&v("closeDelay",f),t.$$.dirty&1024&&v("group",_),t.$$.dirty&512&&v("disableHoverableContent",m)},[o,S,c,l,a,s,u,f,d,m,_,r,i]}class A1 extends ye{constructor(e){super(),ve(this,e,C1,k1,de,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const S1=t=>({builder:t[0]&256}),Fa=t=>({builder:t[8]}),T1=t=>({builder:t[0]&256}),$a=t=>({builder:t[8]}),M1=t=>({builder:t[0]&256}),qa=t=>({builder:t[8]}),I1=t=>({builder:t[0]&256}),ja=t=>({builder:t[8]}),P1=t=>({builder:t[0]&256}),Ba=t=>({builder:t[8]}),O1=t=>({builder:t[0]&256}),Va=t=>({builder:t[8]});function N1(t){let e,n,o,i;const r=t[28].default,l=pe(r,t,t[27],Fa);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[je(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&he(l,r,u,u[27],n?_e(r,u[27],f,S1):ge(u[27]),Fa),ue(e,s=we(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(k(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[33](null),o=!1,qe(i)}}}function E1(t){let e,n,o,i,r;const l=t[28].default,a=pe(l,t,t[27],$a);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[je(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&he(a,l,t,t[27],o?_e(l,t[27],c,T1):ge(t[27]),$a),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(k(a,f),n&&n.end(1),o=!0)},o(f){A(a,f),f&&(n=xt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,qe(r)}}}function R1(t){let e,n,o,i,r;const l=t[28].default,a=pe(l,t,t[27],qa);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[je(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&he(a,l,t,t[27],o?_e(l,t[27],c,M1):ge(t[27]),qa),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(k(a,f),f&&(n||ot(()=>{n=Jt(e,t[3],t[4]),n.start()})),o=!0)},o(f){A(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[31](null),i=!1,qe(r)}}}function D1(t){let e,n,o,i,r,l;const a=t[28].default,s=pe(a,t,t[27],ja);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=x(f,u[c]);return{c(){e=P("div"),s&&s.c(),ue(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[je(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&he(s,a,t,t[27],i?_e(a,t[27],d,I1):ge(t[27]),ja),ue(e,f=we(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(k(s,c),c&&ot(()=>{i&&(o&&o.end(1),n=Jt(e,t[3],t[4]),n.start())}),i=!0)},o(c){A(s,c),n&&n.invalidate(),c&&(o=xt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,qe(l)}}}function L1(t){let e,n,o,i,r;const l=t[28].default,a=pe(l,t,t[27],Ba);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[je(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&he(a,l,t,t[27],o?_e(l,t[27],c,P1):ge(t[27]),Ba),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(k(a,f),f&&ot(()=>{o&&(n||(n=Yt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){A(a,f),f&&(n||(n=Yt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,qe(r)}}}function F1(t){let e;const n=t[28].default,o=pe(n,t,t[27],Va);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&he(o,n,i,i[27],e?_e(n,i[27],r,O1):ge(i[27]),Va)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function $1(t){let e,n,o,i;const r=[F1,L1,D1,R1,E1,N1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function q1(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:v=!1}=e,{id:w=void 0}=e,{side:S="top"}=e,{align:C="center"}=e,{sideOffset:R=0}=e,{alignOffset:L=0}=e,{collisionPadding:E=8}=e,{avoidCollisions:B=!0}=e,{collisionBoundary:$=void 0}=e,{sameWidth:D=!1}=e,{fitViewport:U=!1}=e,{strategy:b="absolute"}=e,{overlap:g=!1}=e,{el:I=void 0}=e;const{elements:{content:O},states:{open:W},ids:F,getAttrs:Z}=ql();fe(t,O,q=>n(26,a=q)),fe(t,W,q=>n(9,l=q));const ee=Hn(),Q=Z("content");function K(q){Ie[q?"unshift":"push"](()=>{I=q,n(0,I)})}function te(q){Ie[q?"unshift":"push"](()=>{I=q,n(0,I)})}function ne(q){Ie[q?"unshift":"push"](()=>{I=q,n(0,I)})}function p(q){Ie[q?"unshift":"push"](()=>{I=q,n(0,I)})}function H(q){Ie[q?"unshift":"push"](()=>{I=q,n(0,I)})}return t.$$set=q=>{e=x(x({},e),Re(q)),n(13,r=se(e,i)),"transition"in q&&n(1,f=q.transition),"transitionConfig"in q&&n(2,c=q.transitionConfig),"inTransition"in q&&n(3,d=q.inTransition),"inTransitionConfig"in q&&n(4,m=q.inTransitionConfig),"outTransition"in q&&n(5,_=q.outTransition),"outTransitionConfig"in q&&n(6,h=q.outTransitionConfig),"asChild"in q&&n(7,v=q.asChild),"id"in q&&n(14,w=q.id),"side"in q&&n(15,S=q.side),"align"in q&&n(16,C=q.align),"sideOffset"in q&&n(17,R=q.sideOffset),"alignOffset"in q&&n(18,L=q.alignOffset),"collisionPadding"in q&&n(19,E=q.collisionPadding),"avoidCollisions"in q&&n(20,B=q.avoidCollisions),"collisionBoundary"in q&&n(21,$=q.collisionBoundary),"sameWidth"in q&&n(22,D=q.sameWidth),"fitViewport"in q&&n(23,U=q.fitViewport),"strategy"in q&&n(24,b=q.strategy),"overlap"in q&&n(25,g=q.overlap),"el"in q&&n(0,I=q.el),"$$scope"in q&&n(27,u=q.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&w&&F.content.set(w),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,Q),t.$$.dirty[0]&67076608&&l&&y1({side:S,align:C,sideOffset:R,alignOffset:L,collisionPadding:E,avoidCollisions:B,collisionBoundary:$,sameWidth:D,fitViewport:U,strategy:b,overlap:g})},[I,f,c,d,m,_,h,v,o,l,O,W,ee,r,w,S,C,R,L,E,B,$,D,U,b,g,a,u,s,K,te,ne,p,H]}let j1=class extends ye{constructor(e){super(),ve(this,e,q1,$1,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const B1=t=>({builder:t&4}),Ga=t=>({builder:t[2]}),V1=t=>({builder:t&4}),Ha=t=>({builder:t[2]});function G1(t){let e,n,o,i;const r=t[9].default,l=pe(r,t,t[8],Ga);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("button"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[je(t[2].action(e)),z(e,"m-blur",t[4]),z(e,"m-focus",t[4]),z(e,"m-keydown",t[4]),z(e,"m-pointerdown",t[4]),z(e,"m-pointerenter",t[4]),z(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&he(l,r,u,u[8],n?_e(r,u[8],f,B1):ge(u[8]),Ga),ue(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,qe(i)}}}function H1(t){let e;const n=t[9].default,o=pe(n,t,t[8],Ha);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&he(o,n,i,i[8],e?_e(n,i[8],r,V1):ge(i[8]),Ha)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function W1(t){let e,n,o,i;const r=[H1,G1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function K1(t,e,n){let o;const i=["asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:m,getAttrs:_}=ql();fe(t,d,S=>n(7,l=S));const h=Hn(),v=_("trigger");function w(S){Ie[S?"unshift":"push"](()=>{c=S,n(0,c)})}return t.$$set=S=>{e=x(x({},e),Re(S)),n(5,r=se(e,i)),"asChild"in S&&n(1,u=S.asChild),"id"in S&&n(6,f=S.id),"el"in S&&n(0,c=S.el),"$$scope"in S&&n(8,s=S.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&m.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,v)},[c,u,o,d,h,r,f,l,s,a,w]}class U1 extends ye{constructor(e){super(),ve(this,e,K1,W1,de,{asChild:1,id:6,el:0})}}function Y1(t){let e;const n=t[5].default,o=pe(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&he(o,n,i,i[8],e?_e(n,i[8],r,null):ge(i[8]),null)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function X1(t){let e,n;const o=[{builders:t[3]},{class:$e(_o({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let i={$$slots:{default:[Y1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new y0({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&31?we(o,[l&8&&{builders:r[3]},l&7&&{class:$e(_o({variant:r[1],size:r[2],className:r[0]}))},o[2],l&16&&rt(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function J1(t,e,n){const o=["class","variant","size","builders"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(m){oe.call(this,t,m)}function d(m){oe.call(this,t,m)}return t.$$set=m=>{e=x(x({},e),Re(m)),n(4,i=se(e,o)),"class"in m&&n(0,a=m.class),"variant"in m&&n(1,s=m.variant),"size"in m&&n(2,u=m.size),"builders"in m&&n(3,f=m.builders),"$$scope"in m&&n(8,l=m.$$scope)},[a,s,u,f,i,r,c,d,l]}class qt extends ye{constructor(e){super(),ve(this,e,J1,X1,de,{class:0,variant:1,size:2,builders:3})}}var Wa=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Tt=t=>!t||typeof t!="object"||Object.keys(t).length===0,x1=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function Vc(t,e){t.forEach(function(n){Array.isArray(n)?Vc(n,e):e.push(n)})}function Gc(t){let e=[];return Vc(t,e),e}var Hc=(...t)=>Gc(t).filter(Boolean),Wc=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=Wc(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=Hc(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},Ka=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),Z1={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Kc=t=>t||void 0,Yo=(...t)=>Kc(Gc(t).filter(Boolean).join(" ")),Br=null,tn={},ll=!1,Ro=(...t)=>e=>e.twMerge?((!Br||ll)&&(ll=!1,Br=Tt(tn)?cc:Hm({...tn,extend:{theme:tn.theme,classGroups:tn.classGroups,conflictingClassGroupModifiers:tn.conflictingClassGroupModifiers,conflictingClassGroups:tn.conflictingClassGroups,...tn.extend}})),Kc(Br(Yo(t)))):Yo(t),Ua=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Yo(t[n],e[n]):t[n]=e[n];return t},Q1=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...Z1,...e},u=n!=null&&n.base?Yo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!Tt(n.variants)?Wc(i,n.variants):i,c=n!=null&&n.defaultVariants&&!Tt(n.defaultVariants)?{...n.defaultVariants,...a}:a;!Tt(s.twMergeConfig)&&!x1(s.twMergeConfig,tn)&&(ll=!0,tn=s.twMergeConfig);let d=Tt(n==null?void 0:n.slots),m=Tt(o)?{}:{base:Yo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},_=d?m:Ua({...n==null?void 0:n.slots},Tt(m)?{base:t==null?void 0:t.base}:m),h=w=>{if(Tt(f)&&Tt(o)&&d)return Ro(u,w==null?void 0:w.class,w==null?void 0:w.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let S=(g,I,O=[],W)=>{let F=O;if(typeof I=="string")F=F.concat(Ka(I).split(" ").map(Z=>`${g}:${Z}`));else if(Array.isArray(I))F=F.concat(I.reduce((Z,ee)=>Z.concat(`${g}:${ee}`),[]));else if(typeof I=="object"&&typeof W=="string"){for(let Z in I)if(I.hasOwnProperty(Z)&&Z===W){let ee=I[Z];if(ee&&typeof ee=="string"){let Q=Ka(ee);F[W]?F[W]=F[W].concat(Q.split(" ").map(K=>`${g}:${K}`)):F[W]=Q.split(" ").map(K=>`${g}:${K}`)}else Array.isArray(ee)&&ee.length>0&&(F[W]=ee.reduce((Q,K)=>Q.concat(`${g}:${K}`),[]))}}return F},C=(g,I=f,O=null,W=null)=>{var F;let Z=I[g];if(!Z||Tt(Z))return null;let ee=(F=W==null?void 0:W[g])!=null?F:w==null?void 0:w[g];if(ee===null)return null;let Q=Wa(ee),K=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,te=c==null?void 0:c[g],ne=[];if(typeof Q=="object"&&K)for(let[q,ie]of Object.entries(Q)){let re=Z[ie];if(q==="initial"){te=ie;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(q)||(ne=S(q,re,ne,O))}let p=Q!=null&&typeof Q!="object"?Q:Wa(te),H=Z[p]||Z.false;return typeof ne=="object"&&typeof O=="string"&&ne[O]?Ua(ne,H):ne.length>0?(ne.push(H),ne):H},R=()=>f?Object.keys(f).map(g=>C(g,f)):null,L=(g,I)=>{if(!f||typeof f!="object")return null;let O=new Array;for(let W in f){let F=C(W,f,g,I),Z=g==="base"&&typeof F=="string"?F:F&&F[g];Z&&(O[O.length]=Z)}return O},E={};for(let g in w)w[g]!==void 0&&(E[g]=w[g]);let B=(g,I)=>{var O;let W=typeof(w==null?void 0:w[g])=="object"?{[g]:(O=w[g])==null?void 0:O.initial}:{};return{...c,...E,...W,...I}},$=(g=[],I)=>{let O=[];for(let{class:W,className:F,...Z}of g){let ee=!0;for(let[Q,K]of Object.entries(Z)){let te=B(Q,I);if(Array.isArray(K)){if(!K.includes(te[Q])){ee=!1;break}}else if(te[Q]!==K){ee=!1;break}}ee&&(W&&O.push(W),F&&O.push(F))}return O},D=g=>{let I=$(r,g),O=$(n==null?void 0:n.compoundVariants,g);return Hc(O,I)},U=g=>{let I=D(g);if(!Array.isArray(I))return I;let O={};for(let W of I)if(typeof W=="string"&&(O.base=Ro(O.base,W)(s)),typeof W=="object")for(let[F,Z]of Object.entries(W))O[F]=Ro(O[F],Z)(s);return O},b=g=>{if(l.length<1)return null;let I={};for(let{slots:O=[],class:W,className:F,...Z}of l){if(!Tt(Z)){let ee=!0;for(let Q of Object.keys(Z)){let K=B(Q,g)[Q];if(K===void 0||(Array.isArray(Z[Q])?!Z[Q].includes(K):Z[Q]!==K)){ee=!1;break}}if(!ee)continue}for(let ee of O)I[ee]=I[ee]||[],I[ee].push([W,F])}return I};if(!Tt(o)||!d){let g={};if(typeof _=="object"&&!Tt(_))for(let I of Object.keys(_))g[I]=O=>{var W,F;return Ro(_[I],L(I,O),((W=U(O))!=null?W:[])[I],((F=b(O))!=null?F:[])[I],O==null?void 0:O.class,O==null?void 0:O.className)(s)};return g}return Ro(u,R(),D(),w==null?void 0:w.class,w==null?void 0:w.className)(s)},v=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return h.variantKeys=v(),h.extend=n,h.base=u,h.slots=_,h.variants=f,h.defaultVariants=c,h.compoundSlots=l,h.compoundVariants=r,h};const _o=Q1({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function z1(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&he(o,n,i,i[3],e?_e(n,i[3],r,null):ge(i[3]),null)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function eb(t){let e,n;const o=[{class:$e("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[z1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new H0({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:$e("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function tb(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Kn extends ye{constructor(e){super(),ve(this,e,tb,eb,de,{class:0})}}function nb(t){let e;const n=t[1].default,o=pe(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&he(o,n,i,i[2],e?_e(n,i[2],r,null):ge(i[2]),null)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function ob(t){let e,n;const o=[t[0]];let i={$$slots:{default:[nb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new og({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&1?we(o,[rt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function ib(t,e,n){const o=[];let i=se(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=x(x({},e),Re(a)),n(0,i=se(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class rb extends ye{constructor(e){super(),ve(this,e,ib,ob,de,{})}}function lb(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=$e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=P("div"),r&&r.c(),ue(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&he(r,i,s,s[2],o?_e(i,s[2],u,null):ge(s[2]),null),ue(e,a=we(l,[(!o||u&1&&n!==(n=$e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(k(r,s),o=!0)},o(s){A(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function sb(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Ao extends ye{constructor(e){super(),ve(this,e,sb,lb,de,{class:0})}}function ab(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=$e("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=P("div"),r&&r.c(),ue(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&he(r,i,s,s[2],o?_e(i,s[2],u,null):ge(s[2]),null),ue(e,a=we(l,[(!o||u&1&&n!==(n=$e("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(k(r,s),o=!0)},o(s){A(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function ub(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Un extends ye{constructor(e){super(),ve(this,e,ub,ab,de,{class:0})}}function Uc(t,{delay:e=0,duration:n=400,easing:o=ar}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function fb(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:$e("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new Ig({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?we(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:$e("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function cb(t,e,n){const o=["class","transition","transitionConfig"];let i=se(e,o),{class:r=void 0}=e,{transition:l=Uc}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=x(x({},e),Re(s)),n(3,i=se(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class db extends ye{constructor(e){super(),ve(this,e,cb,fb,de,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Xa(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function Vr(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=x(o,n[i]);return{c(){e=ur(t[11]),Ri(e,o)},m(i,r){M(i,e,r)},p(i,r){Ri(e,o=we(n,[r&32&&i[12]]))},d(i){i&&T(e)}}}function Ja(t){let e=t[11],n,o=t[11]&&Vr(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){i[11]?e?de(e,i[11])?(o.d(1),o=Vr(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=Vr(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&T(n),o&&o.d(i)}}}function mb(t){let e,n,o,i,r,l=Ke(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=Ja(Xa(t,l,d));const s=t[10].default,u=pe(s,t,t[9],null);let f=[Ya,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=x(c,f[d]);return{c(){e=ur("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=De(),u&&u.c(),Ri(e,c)},m(d,m){M(d,e,m);for(let _=0;_<a.length;_+=1)a[_]&&a[_].m(e,null);y(e,n),u&&u.m(e,null),r=!0},p(d,[m]){if(m&32){l=Ke(d[5]);let _;for(_=0;_<l.length;_+=1){const h=Xa(d,l,_);a[_]?a[_].p(h,m):(a[_]=Ja(h),a[_].c(),a[_].m(e,n))}for(;_<a.length;_+=1)a[_].d(1);a.length=l.length}u&&u.p&&(!r||m&512)&&he(u,s,d,d[9],r?_e(s,d[9],m,null):ge(d[9]),null),Ri(e,c=we(f,[Ya,m&128&&d[7],(!r||m&4)&&{width:d[2]},(!r||m&4)&&{height:d[2]},(!r||m&2)&&{stroke:d[1]},(!r||m&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||m&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(k(u,d),r=!0)},o(d){A(u,d),r=!1},d(d){d&&T(e),_t(a,d),u&&u.d(d)}}}function pb(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const m=(..._)=>_.filter((h,v,w)=>!!h&&w.indexOf(h)===v).join(" ");return t.$$set=_=>{n(8,e=x(x({},e),Re(_))),n(7,i=se(e,o)),"name"in _&&n(0,a=_.name),"color"in _&&n(1,s=_.color),"size"in _&&n(2,u=_.size),"strokeWidth"in _&&n(3,f=_.strokeWidth),"absoluteStrokeWidth"in _&&n(4,c=_.absoluteStrokeWidth),"iconNode"in _&&n(5,d=_.iconNode),"$$scope"in _&&n(9,l=_.$$scope)},e=Re(e),[a,s,u,f,c,d,m,i,e,l,r]}class _b extends ye{constructor(e){super(),ve(this,e,pb,mb,de,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function hb(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&he(o,n,i,i[3],e?_e(n,i[3],r,null):ge(i[3]),null)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function gb(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[hb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new _b({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[o[0],l&2&&rt(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function bb(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=x(x({},e),Re(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=Re(e),[r,e,o,i]}class vb extends ye{constructor(e){super(),ve(this,e,bb,gb,de,{})}}function yb(t){let e,n,o,i;return e=new vb({props:{class:"h-4 w-4"}}),{c(){J(e.$$.fragment),n=G(),o=P("span"),o.textContent="Close",N(o,"class","sr-only")},m(r,l){Y(e,r,l),M(r,n,l),M(r,o,l),i=!0},p:ke,i(r){i||(k(e.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),X(e,r)}}}function wb(t){let e,n,o;const i=t[4].default,r=pe(i,t,t[5],null);return n=new x0({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[yb]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=G(),J(n.$$.fragment)},m(l,a){r&&r.m(l,a),M(l,e,a),Y(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&he(r,i,l,l[5],o?_e(i,l[5],a,null):ge(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(k(r,l),k(n.$$.fragment,l),o=!0)},o(l){A(r,l),A(n.$$.fragment,l),o=!1},d(l){l&&T(e),r&&r.d(l),X(n,l)}}}function kb(t){let e,n,o,i;e=new db({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let l={$$slots:{default:[wb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=x(l,r[a]);return o=new bg({props:l}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(a,s){Y(e,a,s),M(a,n,s),Y(o,a,s),i=!0},p(a,s){const u=s&15?we(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&rt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(k(e.$$.fragment,a),k(o.$$.fragment,a),i=!0)},o(a){A(e.$$.fragment,a),A(o.$$.fragment,a),i=!1},d(a){a&&T(n),X(e,a),X(o,a)}}}function Cb(t){let e,n;return e=new rb({props:{$$slots:{default:[kb]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Ab(t,e,n){const o=["class","transition","transitionConfig"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=mr}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=x(x({},e),Re(f)),n(3,i=se(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Yn extends ye{constructor(e){super(),ve(this,e,Ab,Cb,de,{class:0,transition:1,transitionConfig:2})}}function Sb(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&he(o,n,i,i[3],e?_e(n,i[3],r,null):ge(i[3]),null)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Tb(t){let e,n;const o=[{class:$e("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Sb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new Lg({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:$e("text-sm text-muted-foreground",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Mb(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Xn extends ye{constructor(e){super(),ve(this,e,Mb,Tb,de,{class:0})}}const Jn=F0;function Ib(t){let e,n,o,i,r=[{class:n=$e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=x(l,r[a]);return{c(){e=P("input"),ue(e,l)},m(a,s){M(a,e,s),e.autofocus&&e.focus(),en(e,t[0]),o||(i=[z(e,"input",t[17]),z(e,"blur",t[3]),z(e,"change",t[4]),z(e,"click",t[5]),z(e,"focus",t[6]),z(e,"focusin",t[7]),z(e,"focusout",t[8]),z(e,"keydown",t[9]),z(e,"keypress",t[10]),z(e,"keyup",t[11]),z(e,"mouseover",t[12]),z(e,"mouseenter",t[13]),z(e,"mouseleave",t[14]),z(e,"paste",t[15]),z(e,"input",t[16])],o=!0)},p(a,[s]){ue(e,l=we(r,[s&2&&n!==(n=$e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&en(e,a[0])},i:ke,o:ke,d(a){a&&T(e),o=!1,qe(i)}}}function Pb(t,e,n){const o=["class","value"];let i=se(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a(E){oe.call(this,t,E)}function s(E){oe.call(this,t,E)}function u(E){oe.call(this,t,E)}function f(E){oe.call(this,t,E)}function c(E){oe.call(this,t,E)}function d(E){oe.call(this,t,E)}function m(E){oe.call(this,t,E)}function _(E){oe.call(this,t,E)}function h(E){oe.call(this,t,E)}function v(E){oe.call(this,t,E)}function w(E){oe.call(this,t,E)}function S(E){oe.call(this,t,E)}function C(E){oe.call(this,t,E)}function R(E){oe.call(this,t,E)}function L(){l=this.value,n(0,l)}return t.$$set=E=>{e=x(x({},e),Re(E)),n(2,i=se(e,o)),"class"in E&&n(1,r=E.class),"value"in E&&n(0,l=E.value)},[l,r,i,a,s,u,f,c,d,m,_,h,v,w,S,C,R,L]}class jl extends ye{constructor(e){super(),ve(this,e,Pb,Ib,de,{class:1,value:0})}}function Ob(t){let e;const n=t[2].default,o=pe(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&he(o,n,i,i[4],e?_e(n,i[4],r,null):ge(i[4]),null)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Nb(t){let e,n;const o=[{class:$e("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[Ob]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new Hg({props:i}),e.$on("mousedown",t[3]),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:$e("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&rt(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Eb(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){oe.call(this,t,u)}return t.$$set=u=>{e=x(x({},e),Re(u)),n(1,i=se(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class ro extends ye{constructor(e){super(),ve(this,e,Eb,Nb,de,{class:0})}}function Rb(t){let e,n;const o=[{class:$e("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new N0({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?we(o,[l&3&&{class:$e("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Db(t,e,n){const o=["class","orientation","decorative"];let i=se(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),Re(s)),n(3,i=se(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class Ct extends ye{constructor(e){super(),ve(this,e,Db,Rb,de,{class:0,orientation:1,decorative:2})}}function Lb(t){let e;const n=t[3].default,o=pe(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&he(o,n,i,i[4],e?_e(n,i[4],r,null):ge(i[4]),null)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Fb(t){let e,n;const o=[{class:$e("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[Lb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new _h({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&7?we(o,[l&1&&{class:$e("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&rt(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function $b(t,e,n){const o=["class","level"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=x(x({},e),Re(u)),n(2,i=se(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class Bl extends ye{constructor(e){super(),ve(this,e,$b,Fb,de,{class:0,level:1})}}const qb=t=>({builder:t&64}),xa=t=>({builder:t[6]});function jb(t){let e;const n=t[2].default,o=pe(n,t,t[5],xa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&he(o,n,i,i[5],e?_e(n,i[5],r,qb):ge(i[5]),xa)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Bb(t){let e,n;const o=[{class:$e(_o(),t[0])},t[1]];let i={$$slots:{default:[jb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new kh({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:$e(_o(),r[0])},l&2&&rt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Vb(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=x(x({},e),Re(f)),n(1,i=se(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class Gb extends ye{constructor(e){super(),ve(this,e,Vb,Bb,de,{class:0})}}const Hb=t=>({builder:t&64}),Za=t=>({builder:t[6]});function Wb(t){let e;const n=t[2].default,o=pe(n,t,t[5],Za);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&he(o,n,i,i[5],e?_e(n,i[5],r,Hb):ge(i[5]),Za)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Kb(t){let e,n;const o=[{class:$e(_o({variant:"outline"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[Wb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new Ph({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:$e(_o({variant:"outline"}),"mt-2 sm:mt-0",r[0])},l&2&&rt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Ub(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=x(x({},e),Re(f)),n(1,i=se(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class Yc extends ye{constructor(e){super(),ve(this,e,Ub,Kb,de,{class:0})}}function Yb(t){let e;const n=t[1].default,o=pe(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&he(o,n,i,i[2],e?_e(n,i[2],r,null):ge(i[2]),null)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Xb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[Yb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new Fh({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&1?we(o,[rt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Jb(t,e,n){const o=[];let i=se(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=x(x({},e),Re(a)),n(0,i=se(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class xb extends ye{constructor(e){super(),ve(this,e,Jb,Xb,de,{})}}function Zb(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=$e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=P("div"),r&&r.c(),ue(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&he(r,i,s,s[2],o?_e(i,s[2],u,null):ge(s[2]),null),ue(e,a=we(l,[(!o||u&1&&n!==(n=$e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(k(r,s),o=!0)},o(s){A(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function Qb(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Vl extends ye{constructor(e){super(),ve(this,e,Qb,Zb,de,{class:0})}}function zb(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=$e("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=P("div"),r&&r.c(),ue(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&he(r,i,s,s[2],o?_e(i,s[2],u,null):ge(s[2]),null),ue(e,a=we(l,[(!o||u&1&&n!==(n=$e("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(k(r,s),o=!0)},o(s){A(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function ev(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Gl extends ye{constructor(e){super(),ve(this,e,ev,zb,de,{class:0})}}function tv(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:$e("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new s0({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?we(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:$e("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function nv(t,e,n){const o=["class","transition","transitionConfig"];let i=se(e,o),{class:r=void 0}=e,{transition:l=Uc}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=x(x({},e),Re(s)),n(3,i=se(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class ov extends ye{constructor(e){super(),ve(this,e,nv,tv,de,{class:0,transition:1,transitionConfig:2})}}function iv(t){let e;const n=t[4].default,o=pe(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&he(o,n,i,i[5],e?_e(n,i[5],r,null):ge(i[5]),null)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function rv(t){let e,n,o,i;e=new ov({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[iv]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=x(l,r[a]);return o=new Zh({props:l}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(a,s){Y(e,a,s),M(a,n,s),Y(o,a,s),i=!0},p(a,s){const u=s&15?we(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[2])},s&8&&rt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(k(e.$$.fragment,a),k(o.$$.fragment,a),i=!0)},o(a){A(e.$$.fragment,a),A(o.$$.fragment,a),i=!1},d(a){a&&T(n),X(e,a),X(o,a)}}}function lv(t){let e,n;return e=new xb({props:{$$slots:{default:[rv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function sv(t,e,n){const o=["transition","transitionConfig","class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=mr}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=x(x({},e),Re(f)),n(3,i=se(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Hl extends ye{constructor(e){super(),ve(this,e,sv,lv,de,{transition:0,transitionConfig:1,class:2})}}function av(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&he(o,n,i,i[3],e?_e(n,i[3],r,null):ge(i[3]),null)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function uv(t){let e,n;const o=[{class:$e("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[av]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new p0({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:$e("text-sm text-muted-foreground",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function fv(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Wl extends ye{constructor(e){super(),ve(this,e,fv,uv,de,{class:0})}}const Kl=ah;function Qa(t,e,n){const o=t.slice();return o[25]=e[n],o}function za(t,e,n){const o=t.slice();return o[28]=e[n],o}function cv(t){let e;return{c(){e=V("Pause Menu")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function dv(t){let e;return{c(){e=V("Unpause any time by pressing 'P'")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function mv(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[cv]},$$scope:{ctx:t}}}),o=new Xn({props:{$$slots:{default:[dv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function eu(t){let e,n,o,i,r,l=JSON.stringify(t[5].requirements[t[2].difficulty].population_count)+"",a,s,u=JSON.stringify(t[2].townInfo.population_count)+"",f,c,d,m,_=JSON.stringify(t[5].requirements[t[2].difficulty].happiness)+"",h,v,w=JSON.stringify(t[2].townInfo.happiness)+"",S,C,R,L,E=JSON.stringify(t[5].requirements[t[2].difficulty].employment*100)+"",B,$,D=JSON.stringify((t[2].townInfo.employees/t[2].townInfo.population_count||0)*100)+"",U,b,g,I,O,W=JSON.stringify(t[5].requirements[t[2].difficulty].health)+"",F,Z,ee=JSON.stringify(t[2].townInfo.health)+"",Q,K,te,ne,p=JSON.stringify(t[5].requirements[t[2].difficulty].knowledge)+"",H,q,ie=JSON.stringify(t[2].townInfo.knowledge_points)+"",re,Ae,Fe;function Me(me,We){return me[2].townInfo.population_count>=me[5].requirements[me[2].difficulty].population_count?_v:pv}let ze=Me(t),ce=ze(t);function Ee(me,We){return me[2].townInfo.happiness>=me[5].requirements[me[2].difficulty].happiness?gv:hv}let He=Ee(t),Be=He(t);function Ue(me,We){return me[2].townInfo.employees/me[2].townInfo.population_count>=me[5].requirements[me[2].difficulty].employment?vv:bv}let Ce=Ue(t),Se=Ce(t);function yt(me,We){return me[2].townInfo.health>=me[5].requirements[me[2].difficulty].health?wv:yv}let Rt=yt(t),at=Rt(t);function Dt(me,We){return me[2].townInfo.knowledge_points>=me[5].requirements[me[2].difficulty].knowledge?Cv:kv}let ut=Dt(t),mt=ut(t),nt=t[5].requirements[t[2].difficulty].required_plots!=null&&t[5].requirements[t[2].difficulty].required_plots.length>0&&tu(t);return{c(){e=P("div"),e.textContent=`With your difficulty (${t[6]}), you must also have:`,n=G(),o=P("ul"),i=P("li"),ce.c(),r=V(`
                  Population: `),a=V(l),s=V(" - Currently at "),f=V(u),c=G(),d=P("li"),Be.c(),m=V(`
                  Happiness: `),h=V(_),v=V(" - Currently at "),S=V(w),C=G(),R=P("li"),Se.c(),L=V(`
                  Employment: `),B=V(E),$=V("% - Currently at "),U=V(D),b=V("%"),g=G(),I=P("li"),at.c(),O=V(`
                  Health: `),F=V(W),Z=V(" - Currently at "),Q=V(ee),K=G(),te=P("li"),mt.c(),ne=V(`
                  Knowledge: `),H=V(p),q=V(" - Currently at "),re=V(ie),Ae=G(),nt&&nt.c(),Fe=De(),N(e,"class","leading-relaxed text-sm"),N(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(me,We){M(me,e,We),M(me,n,We),M(me,o,We),y(o,i),ce.m(i,null),y(i,r),y(i,a),y(i,s),y(i,f),y(o,c),y(o,d),Be.m(d,null),y(d,m),y(d,h),y(d,v),y(d,S),y(o,C),y(o,R),Se.m(R,null),y(R,L),y(R,B),y(R,$),y(R,U),y(R,b),y(o,g),y(o,I),at.m(I,null),y(I,O),y(I,F),y(I,Z),y(I,Q),y(o,K),y(o,te),mt.m(te,null),y(te,ne),y(te,H),y(te,q),y(te,re),M(me,Ae,We),nt&&nt.m(me,We),M(me,Fe,We)},p(me,We){ze!==(ze=Me(me))&&(ce.d(1),ce=ze(me),ce&&(ce.c(),ce.m(i,r))),We[0]&4&&l!==(l=JSON.stringify(me[5].requirements[me[2].difficulty].population_count)+"")&&ae(a,l),We[0]&4&&u!==(u=JSON.stringify(me[2].townInfo.population_count)+"")&&ae(f,u),He!==(He=Ee(me))&&(Be.d(1),Be=He(me),Be&&(Be.c(),Be.m(d,m))),We[0]&4&&_!==(_=JSON.stringify(me[5].requirements[me[2].difficulty].happiness)+"")&&ae(h,_),We[0]&4&&w!==(w=JSON.stringify(me[2].townInfo.happiness)+"")&&ae(S,w),Ce!==(Ce=Ue(me))&&(Se.d(1),Se=Ce(me),Se&&(Se.c(),Se.m(R,L))),We[0]&4&&E!==(E=JSON.stringify(me[5].requirements[me[2].difficulty].employment*100)+"")&&ae(B,E),We[0]&4&&D!==(D=JSON.stringify((me[2].townInfo.employees/me[2].townInfo.population_count||0)*100)+"")&&ae(U,D),Rt!==(Rt=yt(me))&&(at.d(1),at=Rt(me),at&&(at.c(),at.m(I,O))),We[0]&4&&W!==(W=JSON.stringify(me[5].requirements[me[2].difficulty].health)+"")&&ae(F,W),We[0]&4&&ee!==(ee=JSON.stringify(me[2].townInfo.health)+"")&&ae(Q,ee),ut!==(ut=Dt(me))&&(mt.d(1),mt=ut(me),mt&&(mt.c(),mt.m(te,ne))),We[0]&4&&p!==(p=JSON.stringify(me[5].requirements[me[2].difficulty].knowledge)+"")&&ae(H,p),We[0]&4&&ie!==(ie=JSON.stringify(me[2].townInfo.knowledge_points)+"")&&ae(re,ie),me[5].requirements[me[2].difficulty].required_plots!=null&&me[5].requirements[me[2].difficulty].required_plots.length>0?nt?nt.p(me,We):(nt=tu(me),nt.c(),nt.m(Fe.parentNode,Fe)):nt&&(nt.d(1),nt=null)},d(me){me&&(T(e),T(n),T(o),T(Ae),T(Fe)),ce.d(),Be.d(),Se.d(),at.d(),mt.d(),nt&&nt.d(me)}}}function pv(t){let e;return{c(){e=V("âŒ")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function _v(t){let e;return{c(){e=V("âœ…")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function hv(t){let e;return{c(){e=V("âŒ")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function gv(t){let e;return{c(){e=V("âœ…")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function bv(t){let e;return{c(){e=V("âŒ")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function vv(t){let e;return{c(){e=V("âœ…")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function yv(t){let e;return{c(){e=V("âŒ")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function wv(t){let e;return{c(){e=V("âœ…")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function kv(t){let e;return{c(){e=V("âŒ")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Cv(t){let e;return{c(){e=V("âœ…")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function tu(t){let e,n,o,i=Ke(t[5].requirements[t[2].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=nu(za(t,i,l));return{c(){e=P("br"),n=V(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=De()},m(l,a){M(l,e,a),M(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);M(l,o,a)},p(l,a){if(a[0]&36){i=Ke(l[5].requirements[l[2].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=za(l,i,s);r[s]?r[s].p(u,a):(r[s]=nu(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(T(e),T(n),T(o)),_t(r,l)}}}function Av(t){let e;return{c(){e=V("âŒ")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Sv(t){let e;return{c(){e=V("âœ…")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function nu(t){let e,n,o,i,r=t[28]+"",l,a;function s(c,d){return d[0]&4&&(o=null),o==null&&(o=Ze(c[28],c[2]).length>0),o?Sv:Av}let u=s(t,[-1,-1]),f=u(t);return{c(){e=P("div"),n=P("li"),f.c(),i=G(),l=V(r),a=G(),N(e,"class","text-sm")},m(c,d){M(c,e,d),y(e,n),f.m(n,null),y(n,i),y(n,l),y(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d[0]&4&&r!==(r=c[28]+"")&&ae(l,r)},d(c){c&&T(e),f.d()}}}function Tv(t){let e;return{c(){e=V("Save game")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Mv(t){let e;return{c(){e=V("Save")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Iv(t){let e;return{c(){e=V("Upload game")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ou(t){let e,n;function o(){return t[19](t[25])}return e=new qt({props:{class:"bg-blue-600 hover:bg-blue-700 mt-4",id:"collectPrize-"+t[25].id,$$slots:{default:[Pv]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){J(e.$$.fragment)},m(i,r){Y(e,i,r),n=!0},p(i,r){t=i;const l={};r[0]&2&&(l.id="collectPrize-"+t[25].id),r[0]&2|r[1]&1&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){A(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Pv(t){let e,n=ru(t[25].prize)+"",o,i;return{c(){e=V("Collect Prize: $"),o=V(n),i=V(" gold")},m(r,l){M(r,e,l),M(r,o,l),M(r,i,l)},p(r,l){l[0]&2&&n!==(n=ru(r[25].prize)+"")&&ae(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function iu(t){let e,n,o,i,r,l,a=t[25].title+"",s,u,f,c=t[25].requirements+"",d,m,_,h=t[25].icon+"",v,w,S,C=t[25].description+"",R,L,E,B,$=t[8](t[25].id)+"",D,U,b,g=t[13](t[25].id)&&!t[9](t[25].id),I,O,W,F=g&&ou(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("span"),r=P("div"),l=P("span"),s=V(a),u=G(),f=P("div"),d=V(c),m=G(),_=P("div"),v=V(h),w=G(),S=P("div"),R=V(C),L=G(),E=P("div"),B=V("âœ… Completed on Day "),D=V($),b=G(),F&&F.c(),I=G(),N(l,"class","font-semibold text-lg"),N(f,"class","font-thin text-white opacity-75 text-xs"),N(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),N(_,"class","text-sm flex-grow pr-1 break-inside-avoid "),N(i,"class","flex flex-row justify-between w-[100%]"),N(o,"class","min-w-32 flex"),N(S,"class","text-white opacity-75 text-sm font-light"),N(E,"class",U=(t[13](t[25].id)?"":"hidden")+" text-xs text-green-400"),N(n,"class","flex-col flex px-3 py-2 gap-0"),N(e,"class",O="flex flex-col gap-3 cursor-default rounded-md "+(t[13](t[25].id)?"bg-green-700":"bg-gray-500 opacity-35"))},m(Z,ee){M(Z,e,ee),y(e,n),y(n,o),y(o,i),y(i,r),y(r,l),y(l,s),y(r,u),y(r,f),y(f,d),y(i,m),y(i,_),y(_,v),y(n,w),y(n,S),y(S,R),y(n,L),y(n,E),y(E,B),y(E,D),y(n,b),F&&F.m(n,null),y(e,I),W=!0},p(Z,ee){(!W||ee[0]&2)&&a!==(a=Z[25].title+"")&&ae(s,a),(!W||ee[0]&2)&&c!==(c=Z[25].requirements+"")&&ae(d,c),(!W||ee[0]&2)&&h!==(h=Z[25].icon+"")&&ae(v,h),(!W||ee[0]&2)&&C!==(C=Z[25].description+"")&&ae(R,C),(!W||ee[0]&2)&&$!==($=Z[8](Z[25].id)+"")&&ae(D,$),(!W||ee[0]&2&&U!==(U=(Z[13](Z[25].id)?"":"hidden")+" text-xs text-green-400"))&&N(E,"class",U),ee[0]&2&&(g=Z[13](Z[25].id)&&!Z[9](Z[25].id)),g?F?(F.p(Z,ee),ee[0]&2&&k(F,1)):(F=ou(Z),F.c(),k(F,1),F.m(n,null)):F&&(Pe(),A(F,1,1,()=>{F=null}),Oe()),(!W||ee[0]&2&&O!==(O="flex flex-col gap-3 cursor-default rounded-md "+(Z[13](Z[25].id)?"bg-green-700":"bg-gray-500 opacity-35")))&&N(e,"class",O)},i(Z){W||(k(F),W=!0)},o(Z){A(F),W=!1},d(Z){Z&&T(e),F&&F.d()}}}function Ov(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,_,h,v,w,S,C,R,L,E,B,$,D,U,b,g,I,O,W,F,Z,ee,Q,K,te,ne,p,H,q,ie,re;e=new Un({props:{$$slots:{default:[mv]},$$scope:{ctx:t}}});let Ae=t[2].endGoal=="land"&&eu(t);h=new ro({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Tv]},$$scope:{ctx:t}}}),w=new qt({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[Mv]},$$scope:{ctx:t}}}),w.$on("click",t[16]),C=new ro({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Iv]},$$scope:{ctx:t}}}),L=new jl({props:{class:"hidden",type:"file",id:"upload"}}),L.$on("change",t[12]),B=new Ct({props:{orientation:"vertical"}});let Fe=Ke(t[1]),Me=[];for(let ce=0;ce<Fe.length;ce+=1)Me[ce]=iu(Qa(t,Fe,ce));const ze=ce=>A(Me[ce],1,1,()=>{Me[ce]=null});return{c(){J(e.$$.fragment),n=G(),o=P("div"),i=P("div"),r=P("div"),l=P("h4"),l.textContent="This game",a=G(),s=P("span"),s.textContent=`${t[5].description_title}`,u=G(),f=P("div"),Ae&&Ae.c(),c=G(),d=P("div"),m=P("div"),_=P("div"),J(h.$$.fragment),v=G(),J(w.$$.fragment),S=G(),J(C.$$.fragment),R=G(),J(L.$$.fragment),E=G(),J(B.$$.fragment),$=G(),D=P("div"),U=P("h4"),U.textContent=`Your achievement (${t[7].length}
          / ${et.length})`,b=G(),g=P("span"),g.textContent="Track your progress through games & complete challenges!",I=G(),O=P("br"),W=G(),F=P("div"),Z=P("input"),ee=G(),Q=P("label"),Q.textContent="Show completed",K=G(),te=P("div"),ne=P("div");for(let ce=0;ce<Me.length;ce+=1)Me[ce].c();p=G(),H=P("span"),H.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,N(l,"class","underline underline-offset-4"),N(s,"class","text-sm text-gray-400"),N(f,"class","mt-6 gap-0 py-0 text-gray-400 text-sm"),N(r,"class","flex-col h-max"),N(_,"class","flex gap-10 justify-start min-w-[100%] w-[100%] items"),N(m,"class","flex flex-col gap-3 h-max"),N(i,"class","flex flex-col gap-6 justify-between"),N(U,"class","underline underline-offset-4"),N(g,"class","text-sm text-gray-400"),N(Z,"type","checkbox"),N(Z,"id","toggle-show-completed"),N(Z,"class","rounded"),N(Z,"tabindex","-1"),Z.checked=localStorage.getItem("showCompletedAchievements")==="true",N(Q,"for","toggle-show-completed"),N(Q,"class","text-xs text-gray-400 select-none ml-2 no-select cursor-pointer "),N(F,"class","flex items-center"),N(ne,"class","flex flex-col gap-4 overflow-scroll pb-20 scroll-smooth"),N(te,"class","overflow-scroll mt-2 h-[55vh]"),N(H,"class","text-sm text-yellow-400 italic"),N(o,"class","flex flex-row w-full gap-10")},m(ce,Ee){Y(e,ce,Ee),M(ce,n,Ee),M(ce,o,Ee),y(o,i),y(i,r),y(r,l),y(r,a),y(r,s),y(r,u),y(r,f),Ae&&Ae.m(f,null),y(i,c),y(i,d),y(d,m),y(m,_),Y(h,_,null),y(_,v),Y(w,_,null),y(_,S),Y(C,_,null),y(_,R),Y(L,_,null),y(o,E),Y(B,o,null),y(o,$),y(o,D),y(D,U),y(D,b),y(D,g),y(D,I),y(D,O),y(D,W),y(D,F),y(F,Z),y(F,ee),y(F,Q),y(D,K),y(D,te),y(te,ne);for(let He=0;He<Me.length;He+=1)Me[He]&&Me[He].m(ne,null);y(D,p),y(D,H),q=!0,ie||(re=[z(Z,"change",t[17]),z(Z,"keydown",t[18])],ie=!0)},p(ce,Ee){const He={};Ee[1]&1&&(He.$$scope={dirty:Ee,ctx:ce}),e.$set(He),ce[2].endGoal=="land"?Ae?Ae.p(ce,Ee):(Ae=eu(ce),Ae.c(),Ae.m(f,null)):Ae&&(Ae.d(1),Ae=null);const Be={};Ee[1]&1&&(Be.$$scope={dirty:Ee,ctx:ce}),h.$set(Be);const Ue={};Ee[1]&1&&(Ue.$$scope={dirty:Ee,ctx:ce}),w.$set(Ue);const Ce={};if(Ee[1]&1&&(Ce.$$scope={dirty:Ee,ctx:ce}),C.$set(Ce),Ee[0]&9986){Fe=Ke(ce[1]);let Se;for(Se=0;Se<Fe.length;Se+=1){const yt=Qa(ce,Fe,Se);Me[Se]?(Me[Se].p(yt,Ee),k(Me[Se],1)):(Me[Se]=iu(yt),Me[Se].c(),k(Me[Se],1),Me[Se].m(ne,null))}for(Pe(),Se=Fe.length;Se<Me.length;Se+=1)ze(Se);Oe()}},i(ce){if(!q){k(e.$$.fragment,ce),k(h.$$.fragment,ce),k(w.$$.fragment,ce),k(C.$$.fragment,ce),k(L.$$.fragment,ce),k(B.$$.fragment,ce);for(let Ee=0;Ee<Fe.length;Ee+=1)k(Me[Ee]);q=!0}},o(ce){A(e.$$.fragment,ce),A(h.$$.fragment,ce),A(w.$$.fragment,ce),A(C.$$.fragment,ce),A(L.$$.fragment,ce),A(B.$$.fragment,ce),Me=Me.filter(Boolean);for(let Ee=0;Ee<Me.length;Ee+=1)A(Me[Ee]);q=!1},d(ce){ce&&(T(n),T(o)),X(e,ce),Ae&&Ae.d(),X(h),X(w),X(C),X(L),X(B),_t(Me,ce),ie=!1,qe(re)}}}function Nv(t){let e,n;return e=new Yn({props:{class:" max-w-[90vw] max-h-[90vh] bg-foregroundDark text-foregroundText",$$slots:{default:[Ov]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Ev(t){var o;let e=((o=t[14]())==null?void 0:o.title)+"",n;return{c(){n=V(e)},m(i,r){M(i,n,r)},p:ke,d(i){i&&T(n)}}}function Rv(t){let e,n,o,i;return{c(){var r,l;e=P("div"),n=P("div"),n.textContent=`${(r=t[14]())==null?void 0:r.icon}`,o=G(),i=P("div"),i.textContent=`${(l=t[14]())==null?void 0:l.description}`,N(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),N(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),N(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(r,l){M(r,e,l),y(e,n),y(e,o),y(e,i)},p:ke,d(r){r&&T(e)}}}function Dv(t){let e,n,o,i;return e=new Bl({props:{class:"text-center text-xl font-bold",$$slots:{default:[Ev]},$$scope:{ctx:t}}}),o=new Wl({props:{$$slots:{default:[Rv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Lv(t){let e;return{c(){e=V("Close to collect prize")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Fv(t){let e,n;return e=new Yc({props:{$$slots:{default:[Lv]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function $v(t){let e,n,o,i;return e=new Gl({props:{$$slots:{default:[Dv]},$$scope:{ctx:t}}}),o=new Vl({props:{$$slots:{default:[Fv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&16|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function qv(t){let e,n;return e=new Hl({props:{$$slots:{default:[$v]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i[0]&16|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function jv(t){let e,n,o,i,r;function l(s){t[20](s)}let a={$$slots:{default:[Nv]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),e=new Jn({props:a}),Ie.push(()=>An(e,"open",l)),i=new Kl({props:{open:t[4],$$slots:{default:[qv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),o=G(),J(i.$$.fragment)},m(s,u){Y(e,s,u),M(s,o,u),Y(i,s,u),r=!0},p(s,u){const f={};u[0]&6|u[1]&1&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&8&&(n=!0,f.open=s[3],Cn(()=>n=!1)),e.$set(f);const c={};u[0]&16&&(c.open=s[4]),u[0]&16|u[1]&1&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(k(e.$$.fragment,s),k(i.$$.fragment,s),r=!0)},o(s){A(e.$$.fragment,s),A(i.$$.fragment,s),r=!1},d(s){s&&T(o),X(e,s),X(i,s)}}}function ru(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Bv(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function Vv(t,e,n){let o,i,r,l,a;fe(t,on,b=>n(23,o=b)),fe(t,Le,b=>n(2,i=b)),fe(t,Hi,b=>n(15,r=b)),fe(t,Nt,b=>n(3,l=b)),fe(t,Vi,b=>n(4,a=b));const u=bt[i.endGoal],f=Ml[i.difficulty]||0;et.sort((b,g)=>S(b.id)&&!S(g.id)?-1:!S(b.id)&&S(g.id)?1:0);const c=et.filter(b=>S(b.id));function d(b){const g=o.achievements.find(I=>I[0]==b);return g==null?0:`${g[1]} in ${g[2]}.`}function m(b){const g=o.achievements.find(I=>I[0]==b);return g==null?!1:g[3]}function _(b){const g=o.achievements.find(O=>O[0]==b);if(g==null)return;const I=et.find(O=>O.id==b);I!=null&&(Ne(Le,i.townInfo.gold+=I.prize,i),g[3]=!0,Ne(on,o.achievements=o.achievements.map(O=>O[0]==b?g:O),o))}let h=et;function v(){const b=JSON.stringify(i),g=new Blob([b],{type:"text/plain"}),I=URL.createObjectURL(g),O=document.createElement("a");O.href=I,O.download=`${new Date().toISOString()}.json`,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(I)}function w(){const g=document.getElementById("upload").files;if(g==null)return;const I=g[0],O=new FileReader;O.onload=function(W){if(W.target==null)return;const F=W.target.result;if(typeof F=="string"){if(!Bv(F)){alert("Invalid game file");return}Il(JSON.parse(F))}else alert("Invalid game file: is not String.")},O.readAsText(I)}function S(b){return o.achievements==null?!1:o.achievements.find(g=>g[0]==b)!=null}function C(){Hi.update(b=>!b),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),ic.set("game"));function R(){const b=o.achievements[o.achievements.length-1];if(b!=null)return et.find(g=>g.id==b[0])}const L=()=>v(),E=()=>{C()},B=b=>{b.key==="p"&&Nt.set(!1)},$=b=>{_(b.id);const g=document.getElementById(`collectPrize-${b.id}`);g&&(g.style.display="none")};function D(b){l=b,Nt.set(l)}const U=()=>{Ne(Vi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&32774&&i)if(r)n(1,h=et);else{n(1,h=[]);for(let b=0;b<et.length;b++)(!S(et[b].id)||!m(et[b].id))&&h.push(et[b])}},[C,h,i,l,a,u,f,c,d,m,_,v,w,S,R,r,L,E,B,$,D,U]}class Gv extends ye{constructor(e){super(),ve(this,e,Vv,jv,de,{toggleShowCompleted:0},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[0]}}function Hv(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS ðŸ˜","color: #26bfa5;"),t}function Wv(t){let e=t[0].endGameDetails.win==!0?"You won! ðŸŽ‰":"You lost! ðŸ˜­",n;return{c(){n=V(e)},m(o,i){M(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! ðŸŽ‰":"You lost! ðŸ˜­")&&ae(n,e)},d(o){o&&T(n)}}}function Kv(t){let e;return{c(){e=V("Keep playin'")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Uv(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new qt({props:{class:"bg-accent",$$slots:{default:[Kv]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=P("span"),o=V(n),i=G(),r=P("br"),l=G(),a=P("br"),s=G(),J(u.$$.fragment),N(e,"class","text-gray-500 text-sm")},m(c,d){M(c,e,d),y(e,o),M(c,i,d),M(c,r,d),M(c,l,d),M(c,a,d),M(c,s,d),Y(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&ae(o,n);const m={};d&16&&(m.$$scope={dirty:d,ctx:c}),u.$set(m)},i(c){f||(k(u.$$.fragment,c),f=!0)},o(c){A(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(i),T(r),T(l),T(a),T(s)),X(u,c)}}}function Yv(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[Wv]},$$scope:{ctx:t}}}),o=new Xn({props:{$$slots:{default:[Uv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Xv(t){let e;return{c(){e=P("span"),e.textContent="Reset the game by pressing SHIFT+ESC",N(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function Jv(t){let e,n,o,i;return e=new Un({props:{$$slots:{default:[Yv]},$$scope:{ctx:t}}}),o=new Ao({props:{$$slots:{default:[Xv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function xv(t){let e,n;return e=new Yn({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[Jv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Zv(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[xv]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new Jn({props:r}),Ie.push(()=>An(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){Y(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Cn(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){A(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function Qv(t,e,n){let o;fe(t,Le,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,Le.set(a),n(1,i=!1),Nt.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class zv extends ye{constructor(e){super(),ve(this,e,Qv,Zv,de,{})}}function ey(t){let e;return{c(){e=V("Welcome to Plots!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ty(t){let e;return{c(){e=V("Select a map size (difficulty)")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ny(t){let e;return{c(){e=V("Select a game mode")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function oy(t){let e;return{c(){e=P("p"),e.textContent=`${bt.free_play.description_title}`,N(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function iy(t){let e;return{c(){e=P("p"),e.textContent=`${bt.land.description_title}`,N(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ry(t){let e;return{c(){e=V("Town Name")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ly(t){let e;return{c(){e=V("Cheats")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function sy(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,_,h,v,w,S,C,R,L,E,B,$,D,U,b,g,I,O,W,F,Z;r=new ro({props:{for:"difficulty",class:"mt-2",$$slots:{default:[ty]},$$scope:{ctx:t}}}),m=new ro({props:{for:"endGoal",class:"mt-2",$$slots:{default:[ny]},$$scope:{ctx:t}}});function ee(te,ne){return te[0]==="land"?iy:oy}let Q=ee(t),K=Q(t);return L=new ro({props:{for:"townName",class:"mt-2",$$slots:{default:[ry]},$$scope:{ctx:t}}}),B=new jl({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),U=new ro({props:{for:"cheats",class:"mt-2",$$slots:{default:[ly]},$$scope:{ctx:t}}}),{c(){e=P("a"),e.textContent="GitHub / Learn how to play",n=G(),o=P("div"),i=P("div"),J(r.$$.fragment),l=G(),a=P("select"),s=P("option"),s.textContent="Easy (quick game)",u=P("option"),u.textContent="Normal",f=P("option"),f.textContent="Hard (longest game)",c=G(),d=P("div"),J(m.$$.fragment),_=G(),K.c(),h=G(),v=P("select"),w=P("option"),w.textContent=`${bt.land.short_title}`,S=P("option"),S.textContent=`${bt.free_play.short_title}`,C=G(),R=P("div"),J(L.$$.fragment),E=G(),J(B.$$.fragment),$=G(),D=P("div"),J(U.$$.fragment),b=G(),g=P("select"),I=P("option"),I.textContent="No cheats",O=P("option"),O.textContent="Dev mode",N(e,"href","https://github.com/josephrcox/plots#how-to-play"),N(e,"class","text-blue-500 text-sm mb-4 hover:underline"),N(e,"target","_blank"),s.__value="0",en(s,s.__value),u.__value="1",en(u,u.__value),u.selected=!0,f.__value="2",en(f,f.__value),N(a,"id","difficulty"),N(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"),w.__value="land",en(w,w.__value),S.__value="free_play",en(S,S.__value),N(v,"id","endGoal"),N(v,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),I.__value="false",en(I,I.__value),I.selected=!0,O.__value="true",en(O,O.__value),N(g,"id","cheats"),N(g,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),N(o,"class","flex flex-col justify-center gap-5 mt-4")},m(te,ne){M(te,e,ne),M(te,n,ne),M(te,o,ne),y(o,i),Y(r,i,null),y(i,l),y(i,a),y(a,s),y(a,u),y(a,f),y(o,c),y(o,d),Y(m,d,null),y(d,_),K.m(d,null),y(d,h),y(d,v),y(v,w),y(v,S),gs(v,t[0]),y(o,C),y(o,R),Y(L,R,null),y(R,E),Y(B,R,null),y(o,$),y(o,D),Y(U,D,null),y(D,b),y(D,g),y(g,I),y(g,O),W=!0,F||(Z=z(v,"change",t[4]),F=!0)},p(te,ne){const p={};ne&128&&(p.$$scope={dirty:ne,ctx:te}),r.$set(p);const H={};ne&128&&(H.$$scope={dirty:ne,ctx:te}),m.$set(H),Q!==(Q=ee(te))&&(K.d(1),K=Q(te),K&&(K.c(),K.m(d,h))),(!W||ne&1)&&gs(v,te[0]);const q={};ne&128&&(q.$$scope={dirty:ne,ctx:te}),L.$set(q);const ie={};ne&128&&(ie.$$scope={dirty:ne,ctx:te}),U.$set(ie)},i(te){W||(k(r.$$.fragment,te),k(m.$$.fragment,te),k(L.$$.fragment,te),k(B.$$.fragment,te),k(U.$$.fragment,te),W=!0)},o(te){A(r.$$.fragment,te),A(m.$$.fragment,te),A(L.$$.fragment,te),A(B.$$.fragment,te),A(U.$$.fragment,te),W=!1},d(te){te&&(T(e),T(n),T(o)),X(r),X(m),K.d(),X(L),X(B),X(U),F=!1,Z()}}}function ay(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[ey]},$$scope:{ctx:t}}}),o=new Xn({props:{$$slots:{default:[sy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&129&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function uy(t){let e;return{c(){e=V("Reset user")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function fy(t){let e,n,o=t[1].username+"",i,r,l,a,s,u,f,c,d;return a=new qt({props:{$$slots:{default:[uy]},$$scope:{ctx:t}}}),a.$on("click",py),{c(){e=P("div"),n=P("span"),i=V(o),r=G(),l=P("div"),J(a.$$.fragment),s=G(),u=P("button"),u.textContent="Start game",N(n,"class","italic opacity-30 text-xs py-2 text-start rounded h-full flex flex-col justify-center mr-10"),N(u,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"),N(e,"class","flex flex-row justify-between w-full px-1")},m(m,_){M(m,e,_),y(e,n),y(n,i),y(e,r),y(e,l),Y(a,l,null),y(l,s),y(l,u),f=!0,c||(d=[z(n,"click",t[5]),z(u,"click",t[3])],c=!0)},p(m,_){(!f||_&2)&&o!==(o=m[1].username+"")&&ae(i,o);const h={};_&128&&(h.$$scope={dirty:_,ctx:m}),a.$set(h)},i(m){f||(k(a.$$.fragment,m),f=!0)},o(m){A(a.$$.fragment,m),f=!1},d(m){m&&T(e),X(a),c=!1,qe(d)}}}function cy(t){let e,n,o,i;return e=new Un({props:{$$slots:{default:[ay]},$$scope:{ctx:t}}}),o=new Ao({props:{$$slots:{default:[fy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&129&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&130&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function dy(t){let e,n;return e=new Yn({props:{transition:mr,class:"bg-foregroundDark text-foregroundText",$$slots:{default:[cy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&131&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function my(t){let e,n,o;function i(l){t[6](l)}let r={$$slots:{default:[dy]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new Jn({props:r}),Ie.push(()=>An(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){Y(e,l,a),o=!0},p(l,[a]){const s={};a&131&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,Cn(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){A(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function py(){alert("Deleted :)"),localStorage.clear(),window.location.href=""}function _y(t,e,n){let o,i;fe(t,on,f=>n(1,o=f)),fe(t,Vo,f=>n(2,i=f)),Nt.set(!1);function r(){const f=document.getElementById("difficulty").value,c=document.getElementById("endGoal").value,d=document.getElementById("townName").value,m=document.getElementById("cheats").value=="true";rm(f,c,d,m)}let l="free_play";const a=f=>{n(0,l=f.target.value)};function s(){const f=prompt("Enter new username");let c=o;c.username=f,um(c)}function u(f){t.$$.not_equal(i.visible,f)&&(i.visible=f,Vo.set(i))}return[l,o,i,r,a,s,u]}class hy extends ye{constructor(e){super(),ve(this,e,_y,my,de,{})}}function gy(t){let e;return{c(){e=V("Scoreboard")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function by(t){let e=t[1].description_title+"",n;return{c(){n=V(e)},m(o,i){M(o,n,i)},p:ke,d(o){o&&T(n)}}}function vy(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[gy]},$$scope:{ctx:t}}}),o=new Xn({props:{$$slots:{default:[by]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function yy(t){let e;return{c(){e=V("footer")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function wy(t){let e,n,o,i;return e=new Un({props:{$$slots:{default:[vy]},$$scope:{ctx:t}}}),o=new Ao({props:{$$slots:{default:[yy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V(`
		hi
		`),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function ky(t){let e,n;return e=new Yn({props:{$$slots:{default:[wy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Cy(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[ky]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new Jn({props:r}),Ie.push(()=>An(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){Y(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Cn(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){A(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function Ay(t,e,n){let o,i;fe(t,Le,s=>n(2,o=s)),fe(t,ws,s=>n(0,i=s));const l=bt[o.endGoal];Ml[o.difficulty];function a(s){i=s,ws.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class Sy extends ye{constructor(e){super(),ve(this,e,Ay,Cy,de,{})}}function Pi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ty(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xc(t){let e,n,o;t.length!==2?(e=Pi,n=(a,s)=>Pi(t(a),s),o=(a,s)=>t(a)-s):(e=t===Pi||t===Ty?t:My,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function My(){return 0}function Iy(t){return t===null?NaN:+t}const Py=Xc(Pi),Oy=Py.right;Xc(Iy).center;const Ny=Math.sqrt(50),Ey=Math.sqrt(10),Ry=Math.sqrt(2);function Zi(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=Ny?10:r>=Ey?5:r>=Ry?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?Zi(t,e,n*2):[a,s,u]}function Dy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?Zi(e,t,n):Zi(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function sl(t,e,n){return e=+e,t=+t,n=+n,Zi(t,e,n)[2]}function Ly(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?sl(e,t,n):sl(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function Fy(t){return t}var Gr=1,Hr=2,al=3,Fo=4,lu=1e-6;function $y(t){return"translate("+t+",0)"}function qy(t){return"translate(0,"+t+")"}function jy(t){return e=>+t(e)}function By(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Vy(){return!this.__axis}function Jc(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Gr||t===Fo?-1:1,f=t===Fo||t===Hr?"x":"y",c=t===Gr||t===al?$y:qy;function d(m){var _=o??(e.ticks?e.ticks.apply(e,n):e.domain()),h=i??(e.tickFormat?e.tickFormat.apply(e,n):Fy),v=Math.max(r,0)+a,w=e.range(),S=+w[0]+s,C=+w[w.length-1]+s,R=(e.bandwidth?By:jy)(e.copy(),s),L=m.selection?m.selection():m,E=L.selectAll(".domain").data([null]),B=L.selectAll(".tick").data(_,e).order(),$=B.exit(),D=B.enter().append("g").attr("class","tick"),U=B.select("line"),b=B.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),B=B.merge(D),U=U.merge(D.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),b=b.merge(D.append("text").attr("fill","currentColor").attr(f,u*v).attr("dy",t===Gr?"0em":t===al?"0.71em":"0.32em")),m!==L&&(E=E.transition(m),B=B.transition(m),U=U.transition(m),b=b.transition(m),$=$.transition(m).attr("opacity",lu).attr("transform",function(g){return isFinite(g=R(g))?c(g+s):this.getAttribute("transform")}),D.attr("opacity",lu).attr("transform",function(g){var I=this.parentNode.__axis;return c((I&&isFinite(I=I(g))?I:R(g))+s)})),$.remove(),E.attr("d",t===Fo||t===Hr?l?"M"+u*l+","+S+"H"+s+"V"+C+"H"+u*l:"M"+s+","+S+"V"+C:l?"M"+S+","+u*l+"V"+s+"H"+C+"V"+u*l:"M"+S+","+s+"H"+C),B.attr("opacity",1).attr("transform",function(g){return c(R(g)+s)}),U.attr(f+"2",u*r),b.attr(f,u*v).text(h),L.filter(Vy).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Hr?"start":t===Fo?"end":"middle"),L.each(function(){this.__axis=R})}return d.scale=function(m){return arguments.length?(e=m,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),d):n.slice()},d.tickValues=function(m){return arguments.length?(o=m==null?null:Array.from(m),d):o&&o.slice()},d.tickFormat=function(m){return arguments.length?(i=m,d):i},d.tickSize=function(m){return arguments.length?(r=l=+m,d):r},d.tickSizeInner=function(m){return arguments.length?(r=+m,d):r},d.tickSizeOuter=function(m){return arguments.length?(l=+m,d):l},d.tickPadding=function(m){return arguments.length?(a=+m,d):a},d.offset=function(m){return arguments.length?(s=+m,d):s},d}function Gy(t){return Jc(al,t)}function Hy(t){return Jc(Fo,t)}var Wy={value:()=>{}};function xc(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Oi(n)}function Oi(t){this._=t}function Ky(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Oi.prototype=xc.prototype={constructor:Oi,on:function(t,e){var n=this._,o=Ky(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=Uy(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=su(n[i],t.name,e);else if(e==null)for(i in n)n[i]=su(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Oi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function Uy(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function su(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=Wy,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var ul="http://www.w3.org/1999/xhtml";const au={svg:"http://www.w3.org/2000/svg",xhtml:ul,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),au.hasOwnProperty(e)?{space:au[e],local:t}:t}function Yy(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ul&&e.documentElement.namespaceURI===ul?e.createElement(t):e.createElementNS(n,t)}}function Xy(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Zc(t){var e=yr(t);return(e.local?Xy:Yy)(e)}function Jy(){}function Ul(t){return t==null?Jy:function(){return this.querySelector(t)}}function xy(t){typeof t!="function"&&(t=Ul(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new Pt(o,this._parents)}function Zy(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Qy(){return[]}function Qc(t){return t==null?Qy:function(){return this.querySelectorAll(t)}}function zy(t){return function(){return Zy(t.apply(this,arguments))}}function ew(t){typeof t=="function"?t=zy(t):t=Qc(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new Pt(o,i)}function zc(t){return function(){return this.matches(t)}}function ed(t){return function(e){return e.matches(t)}}var tw=Array.prototype.find;function nw(t){return function(){return tw.call(this.children,t)}}function ow(){return this.firstElementChild}function iw(t){return this.select(t==null?ow:nw(typeof t=="function"?t:ed(t)))}var rw=Array.prototype.filter;function lw(){return Array.from(this.children)}function sw(t){return function(){return rw.call(this.children,t)}}function aw(t){return this.selectAll(t==null?lw:sw(typeof t=="function"?t:ed(t)))}function uw(t){typeof t!="function"&&(t=zc(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Pt(o,this._parents)}function td(t){return new Array(t.length)}function fw(){return new Pt(this._enter||this._groups.map(td),this._parents)}function Qi(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Qi.prototype={constructor:Qi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function cw(t){return function(){return t}}function dw(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new Qi(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function mw(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),m;for(a=0;a<f;++a)(s=e[a])&&(d[a]=m=l.call(s,s.__data__,a,e)+"",u.has(m)?i[a]=s:u.set(m,s));for(a=0;a<c;++a)m=l.call(t,r[a],a,r)+"",(s=u.get(m))?(o[a]=s,s.__data__=r[a],u.delete(m)):n[a]=new Qi(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function pw(t){return t.__data__}function _w(t,e){if(!arguments.length)return Array.from(this,pw);var n=e?mw:dw,o=this._parents,i=this._groups;typeof t!="function"&&(t=cw(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,m=hw(t.call(f,f&&f.__data__,u,o)),_=m.length,h=a[u]=new Array(_),v=l[u]=new Array(_),w=s[u]=new Array(d);n(f,c,h,v,w,m,e);for(var S=0,C=0,R,L;S<_;++S)if(R=h[S]){for(S>=C&&(C=S+1);!(L=v[C])&&++C<_;);R._next=L||null}}return l=new Pt(l,o),l._enter=a,l._exit=s,l}function hw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gw(){return new Pt(this._exit||this._groups.map(td),this._parents)}function bw(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function vw(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),m,_=0;_<c;++_)(m=u[_]||f[_])&&(d[_]=m);for(;s<i;++s)a[s]=n[s];return new Pt(a,this._parents)}function yw(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function ww(t){t||(t=kw);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new Pt(i,this._parents).order()}function kw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Cw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Aw(){return Array.from(this)}function Sw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function Tw(){let t=0;for(const e of this)++t;return t}function Mw(){return!this.node()}function Iw(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function Pw(t){return function(){this.removeAttribute(t)}}function Ow(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Nw(t,e){return function(){this.setAttribute(t,e)}}function Ew(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Rw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Dw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Lw(t,e){var n=yr(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?Ow:Pw:typeof e=="function"?n.local?Dw:Rw:n.local?Ew:Nw)(n,e))}function nd(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Fw(t){return function(){this.style.removeProperty(t)}}function $w(t,e,n){return function(){this.style.setProperty(t,e,n)}}function qw(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function jw(t,e,n){return arguments.length>1?this.each((e==null?Fw:typeof e=="function"?qw:$w)(t,e,n??"")):ho(this.node(),t)}function ho(t,e){return t.style.getPropertyValue(e)||nd(t).getComputedStyle(t,null).getPropertyValue(e)}function Bw(t){return function(){delete this[t]}}function Vw(t,e){return function(){this[t]=e}}function Gw(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Hw(t,e){return arguments.length>1?this.each((e==null?Bw:typeof e=="function"?Gw:Vw)(t,e)):this.node()[t]}function od(t){return t.trim().split(/^|\s+/)}function Yl(t){return t.classList||new id(t)}function id(t){this._node=t,this._names=od(t.getAttribute("class")||"")}id.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function rd(t,e){for(var n=Yl(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function ld(t,e){for(var n=Yl(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function Ww(t){return function(){rd(this,t)}}function Kw(t){return function(){ld(this,t)}}function Uw(t,e){return function(){(e.apply(this,arguments)?rd:ld)(this,t)}}function Yw(t,e){var n=od(t+"");if(arguments.length<2){for(var o=Yl(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Uw:e?Ww:Kw)(n,e))}function Xw(){this.textContent=""}function Jw(t){return function(){this.textContent=t}}function xw(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Zw(t){return arguments.length?this.each(t==null?Xw:(typeof t=="function"?xw:Jw)(t)):this.node().textContent}function Qw(){this.innerHTML=""}function zw(t){return function(){this.innerHTML=t}}function e2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function t2(t){return arguments.length?this.each(t==null?Qw:(typeof t=="function"?e2:zw)(t)):this.node().innerHTML}function n2(){this.nextSibling&&this.parentNode.appendChild(this)}function o2(){return this.each(n2)}function i2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function r2(){return this.each(i2)}function l2(t){var e=typeof t=="function"?t:Zc(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function s2(){return null}function a2(t,e){var n=typeof t=="function"?t:Zc(t),o=e==null?s2:typeof e=="function"?e:Ul(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function u2(){var t=this.parentNode;t&&t.removeChild(this)}function f2(){return this.each(u2)}function c2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function d2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function m2(t){return this.select(t?d2:c2)}function p2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function _2(t){return function(e){t.call(this,e,this.__data__)}}function h2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function g2(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function b2(t,e,n){return function(){var o=this.__on,i,r=_2(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function v2(t,e,n){var o=h2(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?b2:g2,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function sd(t,e,n){var o=nd(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function y2(t,e){return function(){return sd(this,t,e)}}function w2(t,e){return function(){return sd(this,t,e.apply(this,arguments))}}function k2(t,e){return this.each((typeof e=="function"?w2:y2)(t,e))}function*C2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var ad=[null];function Pt(t,e){this._groups=t,this._parents=e}function ei(){return new Pt([[document.documentElement]],ad)}function A2(){return this}Pt.prototype=ei.prototype={constructor:Pt,select:xy,selectAll:ew,selectChild:iw,selectChildren:aw,filter:uw,data:_w,enter:fw,exit:gw,join:bw,merge:vw,selection:A2,order:yw,sort:ww,call:Cw,nodes:Aw,node:Sw,size:Tw,empty:Mw,each:Iw,attr:Lw,style:jw,property:Hw,classed:Yw,text:Zw,html:t2,raise:o2,lower:r2,append:l2,insert:a2,remove:f2,clone:m2,datum:p2,on:v2,dispatch:k2,[Symbol.iterator]:C2};function S2(t){return typeof t=="string"?new Pt([[document.querySelector(t)]],[document.documentElement]):new Pt([[t]],ad)}function Xl(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ud(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function ti(){}var Xo=.7,zi=1/Xo,fo="\\s*([+-]?\\d+)\\s*",Jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",T2=/^#([0-9a-f]{3,8})$/,M2=new RegExp(`^rgb\\(${fo},${fo},${fo}\\)$`),I2=new RegExp(`^rgb\\(${Ut},${Ut},${Ut}\\)$`),P2=new RegExp(`^rgba\\(${fo},${fo},${fo},${Jo}\\)$`),O2=new RegExp(`^rgba\\(${Ut},${Ut},${Ut},${Jo}\\)$`),N2=new RegExp(`^hsl\\(${Jo},${Ut},${Ut}\\)$`),E2=new RegExp(`^hsla\\(${Jo},${Ut},${Ut},${Jo}\\)$`),uu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xl(ti,Bn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:fu,formatHex:fu,formatHex8:R2,formatHsl:D2,formatRgb:cu,toString:cu});function fu(){return this.rgb().formatHex()}function R2(){return this.rgb().formatHex8()}function D2(){return fd(this).formatHsl()}function cu(){return this.rgb().formatRgb()}function Bn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=T2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?du(e):n===3?new At(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?wi(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?wi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=M2.exec(t))?new At(e[1],e[2],e[3],1):(e=I2.exec(t))?new At(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=P2.exec(t))?wi(e[1],e[2],e[3],e[4]):(e=O2.exec(t))?wi(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=N2.exec(t))?_u(e[1],e[2]/100,e[3]/100,1):(e=E2.exec(t))?_u(e[1],e[2]/100,e[3]/100,e[4]):uu.hasOwnProperty(t)?du(uu[t]):t==="transparent"?new At(NaN,NaN,NaN,0):null}function du(t){return new At(t>>16&255,t>>8&255,t&255,1)}function wi(t,e,n,o){return o<=0&&(t=e=n=NaN),new At(t,e,n,o)}function L2(t){return t instanceof ti||(t=Bn(t)),t?(t=t.rgb(),new At(t.r,t.g,t.b,t.opacity)):new At}function fl(t,e,n,o){return arguments.length===1?L2(t):new At(t,e,n,o??1)}function At(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}Xl(At,fl,ud(ti,{brighter(t){return t=t==null?zi:Math.pow(zi,t),new At(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xo:Math.pow(Xo,t),new At(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new At(Dn(this.r),Dn(this.g),Dn(this.b),er(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mu,formatHex:mu,formatHex8:F2,formatRgb:pu,toString:pu}));function mu(){return`#${Nn(this.r)}${Nn(this.g)}${Nn(this.b)}`}function F2(){return`#${Nn(this.r)}${Nn(this.g)}${Nn(this.b)}${Nn((isNaN(this.opacity)?1:this.opacity)*255)}`}function pu(){const t=er(this.opacity);return`${t===1?"rgb(":"rgba("}${Dn(this.r)}, ${Dn(this.g)}, ${Dn(this.b)}${t===1?")":`, ${t})`}`}function er(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Dn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Nn(t){return t=Dn(t),(t<16?"0":"")+t.toString(16)}function _u(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ft(t,e,n,o)}function fd(t){if(t instanceof Ft)return new Ft(t.h,t.s,t.l,t.opacity);if(t instanceof ti||(t=Bn(t)),!t)return new Ft;if(t instanceof Ft)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new Ft(l,a,s,t.opacity)}function $2(t,e,n,o){return arguments.length===1?fd(t):new Ft(t,e,n,o??1)}function Ft(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}Xl(Ft,$2,ud(ti,{brighter(t){return t=t==null?zi:Math.pow(zi,t),new Ft(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xo:Math.pow(Xo,t),new Ft(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new At(Wr(t>=240?t-240:t+120,i,o),Wr(t,i,o),Wr(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new Ft(hu(this.h),ki(this.s),ki(this.l),er(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=er(this.opacity);return`${t===1?"hsl(":"hsla("}${hu(this.h)}, ${ki(this.s)*100}%, ${ki(this.l)*100}%${t===1?")":`, ${t})`}`}}));function hu(t){return t=(t||0)%360,t<0?t+360:t}function ki(t){return Math.max(0,Math.min(1,t||0))}function Wr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Jl=t=>()=>t;function q2(t,e){return function(n){return t+n*e}}function j2(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function B2(t){return(t=+t)==1?cd:function(e,n){return n-e?j2(e,n,t):Jl(isNaN(e)?n:e)}}function cd(t,e){var n=e-t;return n?q2(t,n):Jl(isNaN(t)?e:t)}const tr=function t(e){var n=B2(e);function o(i,r){var l=n((i=fl(i)).r,(r=fl(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=cd(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function V2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function G2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function H2(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=xl(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function W2(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function Lt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function K2(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=xl(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var cl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kr=new RegExp(cl.source,"g");function U2(t){return function(){return t}}function Y2(t){return function(e){return t(e)+""}}function dd(t,e){var n=cl.lastIndex=Kr.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=cl.exec(t))&&(i=Kr.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Lt(o,i)})),n=Kr.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?Y2(s[0].x):U2(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function xl(t,e){var n=typeof e,o;return e==null||n==="boolean"?Jl(e):(n==="number"?Lt:n==="string"?(o=Bn(e))?(e=o,tr):dd:e instanceof Bn?tr:e instanceof Date?W2:G2(e)?V2:Array.isArray(e)?H2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?K2:Lt)(t,e)}function X2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var gu=180/Math.PI,dl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function md(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*gu,skewX:Math.atan(s)*gu,scaleX:l,scaleY:a}}var Ci;function J2(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?dl:md(e.a,e.b,e.c,e.d,e.e,e.f)}function x2(t){return t==null||(Ci||(Ci=document.createElementNS("http://www.w3.org/2000/svg","g")),Ci.setAttribute("transform",t),!(t=Ci.transform.baseVal.consolidate()))?dl:(t=t.matrix,md(t.a,t.b,t.c,t.d,t.e,t.f))}function pd(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,m,_){if(u!==c||f!==d){var h=m.push("translate(",null,e,null,n);_.push({i:h-4,x:Lt(u,c)},{i:h-2,x:Lt(f,d)})}else(c||d)&&m.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:Lt(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:Lt(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,m,_){if(u!==c||f!==d){var h=m.push(i(m)+"scale(",null,",",null,")");_.push({i:h-4,x:Lt(u,c)},{i:h-2,x:Lt(f,d)})}else(c!==1||d!==1)&&m.push(i(m)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(m){for(var _=-1,h=d.length,v;++_<h;)c[(v=d[_]).i]=v.x(m);return c.join("")}}}var Z2=pd(J2,"px, ","px)","deg)"),Q2=pd(x2,", ",")",")"),go=0,$o=0,Do=0,_d=1e3,nr,qo,or=0,Vn=0,wr=0,xo=typeof performance=="object"&&performance.now?performance:Date,hd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Zl(){return Vn||(hd(z2),Vn=xo.now()+wr)}function z2(){Vn=0}function ir(){this._call=this._time=this._next=null}ir.prototype=gd.prototype={constructor:ir,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Zl():+n)+(e==null?0:+e),!this._next&&qo!==this&&(qo?qo._next=this:nr=this,qo=this),this._call=t,this._time=n,ml()},stop:function(){this._call&&(this._call=null,this._time=1/0,ml())}};function gd(t,e,n){var o=new ir;return o.restart(t,e,n),o}function ek(){Zl(),++go;for(var t=nr,e;t;)(e=Vn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--go}function bu(){Vn=(or=xo.now())+wr,go=$o=0;try{ek()}finally{go=0,nk(),Vn=0}}function tk(){var t=xo.now(),e=t-or;e>_d&&(wr-=e,or=t)}function nk(){for(var t,e=nr,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:nr=n);qo=t,ml(o)}function ml(t){if(!go){$o&&($o=clearTimeout($o));var e=t-Vn;e>24?(t<1/0&&($o=setTimeout(bu,t-xo.now()-wr)),Do&&(Do=clearInterval(Do))):(Do||(or=xo.now(),Do=setInterval(tk,_d)),go=1,hd(bu))}}function vu(t,e,n){var o=new ir;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var ok=xc("start","end","cancel","interrupt"),ik=[],bd=0,yu=1,pl=2,Ni=3,wu=4,_l=5,Ei=6;function kr(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;rk(t,n,{name:e,index:o,group:i,on:ok,tween:ik,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:bd})}function Ql(t,e){var n=Bt(t,e);if(n.state>bd)throw new Error("too late; already scheduled");return n}function Zt(t,e){var n=Bt(t,e);if(n.state>Ni)throw new Error("too late; already running");return n}function Bt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function rk(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=gd(r,0,n.time);function r(u){n.state=yu,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,m;if(n.state!==yu)return s();for(f in o)if(m=o[f],m.name===n.name){if(m.state===Ni)return vu(l);m.state===wu?(m.state=Ei,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete o[f]):+f<e&&(m.state=Ei,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete o[f])}if(vu(function(){n.state===Ni&&(n.state=wu,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=pl,n.on.call("start",t,t.__data__,n.index,n.group),n.state===pl){for(n.state=Ni,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(m=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=m);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=_l,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===_l&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=Ei,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function lk(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>pl&&o.state<_l,o.state=Ei,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function sk(t){return this.each(function(){lk(this,t)})}function ak(t,e){var n,o;return function(){var i=Zt(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function uk(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=Zt(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function fk(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=Bt(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?ak:uk)(n,t,e))}function zl(t,e,n){var o=t._id;return t.each(function(){var i=Zt(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Bt(i,o).value[e]}}function vd(t,e){var n;return(typeof e=="number"?Lt:e instanceof Bn?tr:(n=Bn(e))?(e=n,tr):dd)(t,e)}function ck(t){return function(){this.removeAttribute(t)}}function dk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function pk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function _k(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function hk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function gk(t,e){var n=yr(t),o=n==="transform"?Q2:vd;return this.attrTween(t,typeof e=="function"?(n.local?hk:_k)(n,o,zl(this,"attr."+t,e)):e==null?(n.local?dk:ck)(n):(n.local?pk:mk)(n,o,e))}function bk(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function vk(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function yk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&vk(t,r)),n}return i._value=e,i}function wk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&bk(t,r)),n}return i._value=e,i}function kk(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=yr(t);return this.tween(n,(o.local?yk:wk)(o,e))}function Ck(t,e){return function(){Ql(this,t).delay=+e.apply(this,arguments)}}function Ak(t,e){return e=+e,function(){Ql(this,t).delay=e}}function Sk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ck:Ak)(e,t)):Bt(this.node(),e).delay}function Tk(t,e){return function(){Zt(this,t).duration=+e.apply(this,arguments)}}function Mk(t,e){return e=+e,function(){Zt(this,t).duration=e}}function Ik(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Tk:Mk)(e,t)):Bt(this.node(),e).duration}function Pk(t,e){if(typeof e!="function")throw new Error;return function(){Zt(this,t).ease=e}}function Ok(t){var e=this._id;return arguments.length?this.each(Pk(e,t)):Bt(this.node(),e).ease}function Nk(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Zt(this,t).ease=n}}function Ek(t){if(typeof t!="function")throw new Error;return this.each(Nk(this._id,t))}function Rk(t){typeof t!="function"&&(t=zc(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new ln(o,this._parents,this._name,this._id)}function Dk(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,m=0;m<f;++m)(d=s[m]||u[m])&&(c[m]=d);for(;a<o;++a)l[a]=e[a];return new ln(l,this._parents,this._name,this._id)}function Lk(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Fk(t,e,n){var o,i,r=Lk(e)?Ql:Zt;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function $k(t,e){var n=this._id;return arguments.length<2?Bt(this.node(),n).on.on(t):this.each(Fk(n,t,e))}function qk(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function jk(){return this.on("end.remove",qk(this._id))}function Bk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ul(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,kr(u[d],e,n,d,u,Bt(f,n)));return new ln(r,this._parents,e,n)}function Vk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Qc(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),m,_=Bt(f,n),h=0,v=d.length;h<v;++h)(m=d[h])&&kr(m,e,n,h,d,_);r.push(d),l.push(f)}return new ln(r,l,e,n)}var Gk=ei.prototype.constructor;function Hk(){return new Gk(this._groups,this._parents)}function Wk(t,e){var n,o,i;return function(){var r=ho(this,t),l=(this.style.removeProperty(t),ho(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function yd(t){return function(){this.style.removeProperty(t)}}function Kk(t,e,n){var o,i=n+"",r;return function(){var l=ho(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function Uk(t,e,n){var o,i,r;return function(){var l=ho(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),ho(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function Yk(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=Zt(this,t),u=s.on,f=s.value[r]==null?a||(a=yd(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function Xk(t,e,n){var o=(t+="")=="transform"?Z2:vd;return e==null?this.styleTween(t,Wk(t,o)).on("end.style."+t,yd(t)):typeof e=="function"?this.styleTween(t,Uk(t,o,zl(this,"style."+t,e))).each(Yk(this._id,t)):this.styleTween(t,Kk(t,o,e),n).on("end.style."+t,null)}function Jk(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function xk(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&Jk(t,l,n)),o}return r._value=e,r}function Zk(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,xk(t,e,n??""))}function Qk(t){return function(){this.textContent=t}}function zk(t){return function(){var e=t(this);this.textContent=e??""}}function e5(t){return this.tween("text",typeof t=="function"?zk(zl(this,"text",t)):Qk(t==null?"":t+""))}function t5(t){return function(e){this.textContent=t.call(this,e)}}function n5(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&t5(i)),e}return o._value=t,o}function o5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,n5(t))}function i5(){for(var t=this._name,e=this._id,n=wd(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=Bt(s,e);kr(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ln(o,this._parents,t,n)}function r5(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=Zt(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var l5=0;function ln(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function wd(){return++l5}var zt=ei.prototype;ln.prototype={constructor:ln,select:Bk,selectAll:Vk,selectChild:zt.selectChild,selectChildren:zt.selectChildren,filter:Rk,merge:Dk,selection:Hk,transition:i5,call:zt.call,nodes:zt.nodes,node:zt.node,size:zt.size,empty:zt.empty,each:zt.each,on:$k,attr:gk,attrTween:kk,style:Xk,styleTween:Zk,text:e5,textTween:o5,remove:jk,tween:fk,delay:Sk,duration:Ik,ease:Ok,easeVarying:Ek,end:r5,[Symbol.iterator]:zt[Symbol.iterator]};function s5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var a5={time:null,delay:0,duration:250,ease:s5};function u5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function f5(t){var e,n;t instanceof ln?(e=t._id,t=t._name):(e=wd(),(n=a5).time=Zl(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&kr(s,t,e,u,l,n||u5(s,e));return new ln(o,this._parents,t,e)}ei.prototype.interrupt=sk;ei.prototype.transition=f5;const hl=Math.PI,gl=2*hl,In=1e-6,c5=gl-In;function kd(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function d5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return kd;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class m5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?kd:d5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>In)if(!(Math.abs(c*s-u*f)>In)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let m=o-l,_=i-a,h=s*s+u*u,v=m*m+_*_,w=Math.sqrt(h),S=Math.sqrt(d),C=r*Math.tan((hl-Math.acos((h+d-v)/(2*w*S)))/2),R=C/S,L=C/w;Math.abs(R-1)>In&&this._append`L${e+R*f},${n+R*c}`,this._append`A${r},${r},0,0,${+(c*m>f*_)},${this._x1=e+L*s},${this._y1=n+L*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>In||Math.abs(this._y1-f)>In)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%gl+gl),d>c5?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>In&&this._append`A${o},${o},0,${+(d>=hl)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function p5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function rr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function bo(t){return t=rr(Math.abs(t)),t?t[1]:NaN}function _5(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function h5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var g5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lr(t){if(!(e=g5.exec(t)))throw new Error("invalid format: "+t);var e;return new es({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}lr.prototype=es.prototype;function es(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}es.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function b5(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var Cd;function v5(t,e){var n=rr(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(Cd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+rr(t,Math.max(0,e+r-1))[0]}function ku(t,e){var n=rr(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const Cu={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:p5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ku(t*100,e),r:ku,s:v5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Au(t){return t}var Su=Array.prototype.map,Tu=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function y5(t){var e=t.grouping===void 0||t.thousands===void 0?Au:_5(Su.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?Au:h5(Su.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"âˆ’":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=lr(c);var d=c.fill,m=c.align,_=c.sign,h=c.symbol,v=c.zero,w=c.width,S=c.comma,C=c.precision,R=c.trim,L=c.type;L==="n"?(S=!0,L="g"):Cu[L]||(C===void 0&&(C=12),R=!0,L="g"),(v||d==="0"&&m==="=")&&(v=!0,d="0",m="=");var E=h==="$"?n:h==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",B=h==="$"?o:/[%p]/.test(L)?l:"",$=Cu[L],D=/[defgprs%]/.test(L);C=C===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function U(b){var g=E,I=B,O,W,F;if(L==="c")I=$(b)+I,b="";else{b=+b;var Z=b<0||1/b<0;if(b=isNaN(b)?s:$(Math.abs(b),C),R&&(b=b5(b)),Z&&+b==0&&_!=="+"&&(Z=!1),g=(Z?_==="("?_:a:_==="-"||_==="("?"":_)+g,I=(L==="s"?Tu[8+Cd/3]:"")+I+(Z&&_==="("?")":""),D){for(O=-1,W=b.length;++O<W;)if(F=b.charCodeAt(O),48>F||F>57){I=(F===46?i+b.slice(O+1):b.slice(O))+I,b=b.slice(0,O);break}}}S&&!v&&(b=e(b,1/0));var ee=g.length+b.length+I.length,Q=ee<w?new Array(w-ee+1).join(d):"";switch(S&&v&&(b=e(Q+b,Q.length?w-I.length:1/0),Q=""),m){case"<":b=g+b+I+Q;break;case"=":b=g+Q+b+I;break;case"^":b=Q.slice(0,ee=Q.length>>1)+g+b+I+Q.slice(ee);break;default:b=Q+g+b+I;break}return r(b)}return U.toString=function(){return c+""},U}function f(c,d){var m=u((c=lr(c),c.type="f",c)),_=Math.max(-8,Math.min(8,Math.floor(bo(d)/3)))*3,h=Math.pow(10,-_),v=Tu[8+_/3];return function(w){return m(h*w)+v}}return{format:u,formatPrefix:f}}var Ai,Ad,Sd;w5({thousands:",",grouping:[3],currency:["$",""]});function w5(t){return Ai=y5(t),Ad=Ai.format,Sd=Ai.formatPrefix,Ai}function k5(t){return Math.max(0,-bo(Math.abs(t)))}function C5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bo(e)/3)))*3-bo(Math.abs(t)))}function A5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bo(e)-bo(t))+1}function S5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function T5(t){return function(){return t}}function M5(t){return+t}var Mu=[0,1];function lo(t){return t}function bl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:T5(isNaN(e)?NaN:.5)}function I5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function P5(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=bl(i,o),r=n(l,r)):(o=bl(o,i),r=n(r,l)),function(a){return r(o(a))}}function O5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=bl(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=Oy(t,a,1,o)-1;return r[s](i[s](a))}}function N5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function E5(){var t=Mu,e=Mu,n=xl,o,i,r,l=lo,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==lo&&(l=I5(t[0],t[d-1])),a=d>2?O5:P5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),Lt)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,M5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=X2,f()},c.clamp=function(d){return arguments.length?(l=d?!0:lo,f()):l!==lo},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,m){return o=d,i=m,f()}}function R5(){return E5()(lo,lo)}function D5(t,e,n,o){var i=Ly(t,e,n),r;switch(o=lr(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=C5(i,l))&&(o.precision=r),Sd(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=A5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=k5(i))&&(o.precision=r-(o.type==="%")*2);break}}return Ad(o)}function L5(t){var e=t.domain;return t.ticks=function(n){var o=e();return Dy(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return D5(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=sl(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function vl(){var t=R5();return t.copy=function(){return N5(t,vl())},S5.apply(t,arguments),L5(t)}function oo(t){return function(){return t}}function F5(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new m5(e)}function $5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Td(t){this._context=t}Td.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function q5(t){return new Td(t)}function j5(t){return t[0]}function B5(t){return t[1]}function Ur(t,e){var n=oo(!0),o=null,i=q5,r=null,l=F5(a);t=typeof t=="function"?t:t===void 0?j5:oo(t),e=typeof e=="function"?e:e===void 0?B5:oo(e);function a(s){var u,f=(s=$5(s)).length,c,d=!1,m;for(o==null&&(r=i(m=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(m)return r=null,m+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:oo(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:oo(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:oo(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function jo(t,e,n){this.k=t,this.x=e,this.y=n}jo.prototype={constructor:jo,scale:function(t){return t===1?this:new jo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new jo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};jo.prototype;function V5(t){let e;return{c(){e=ur("svg"),N(e,"id","line-chart")},m(n,o){M(n,e,o)},p:ke,i:ke,o:ke,d(n){n&&T(e)}}}const Iu=52;function G5(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;Ur().x((_,h)=>r(h)).y(_=>l(_)),fr(()=>{n(1,i=S2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=vl().range([0,s]),l=vl().range([u,0]),o.length&&f()});function f(){const _=o.length>Iu?o.slice(-Iu):o;c(_),d(_),m()}function c(_){i.selectAll(".line").remove();const h=Ur().defined(w=>w>-5).x((w,S)=>r(S)).y(w=>l(w)),v=Ur().defined(w=>w<0).x((w,S)=>r(S)).y(w=>l(w));i.append("path").datum(_).attr("class","line positive").attr("d",h).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(_).attr("class","line negative").attr("d",v).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(_){const h=Math.max(0,..._),v=Math.min(0,..._);r.domain([0,_.length-1]),l.domain([v,h]).nice()}function m(_){const h=Gy(r).ticks(0),v=Hy(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(h),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(v)}return t.$$set=_=>{"data"in _&&n(0,o=_.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class H5 extends ye{constructor(e){super(),ve(this,e,G5,V5,de,{data:0})}}function W5(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=V("Manage your Knowledge ("),o=V(n),i=V(" pts)")},m(r,l){M(r,e,l),M(r,o,l),M(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&ae(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function K5(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[W5]},$$scope:{ctx:t}}}),o=new Xn({}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&258&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Pu(t){let e,n,o=Ru(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=P("br"),n=V(`
					(total value: $`),i=V(o),r=V(")")},m(l,a){M(l,e,a),M(l,n,a),M(l,i,a),M(l,r,a)},p(l,a){a&10&&o!==(o=Ru(l[1].townInfo.knowledge_points*l[3])+"")&&ae(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function Ou(t){let e;return{c(){e=P("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
					convert.`},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Nu(t){let e,n,o;return n=new qt({props:{variant:"default",$$slots:{default:[U5]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=P("div"),J(n.$$.fragment)},m(i,r){M(i,e,r),Y(n,e,null),o=!0},p(i,r){const l={};r&256&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(k(n.$$.fragment,i),o=!0)},o(i){A(n.$$.fragment,i),o=!1},d(i){i&&T(e),X(n)}}}function U5(t){let e;return{c(){e=V("Convert Knowledge to Gold")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Eu(t){let e;return{c(){e=P("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Y5(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,m,_,h,v,w,S,C,R,L;e=new Un({props:{$$slots:{default:[K5]},$$scope:{ctx:t}}});let E=t[3]>0&&Pu(t);h=new H5({props:{data:t[2]}});let B=t[3]<0&&Ou(),$=t[1].hasBank&&t[3]>0&&Nu(t),D=t[1].hasBank===!1&&Eu();return R=new Ao({}),{c(){J(e.$$.fragment),n=G(),o=P("span"),o.textContent="Knowledge is power, unlock it!",i=G(),r=P("div"),l=P("div"),a=V("Market Rate: "),s=P("span"),f=V(u),c=V(" gold"),m=V(`
				per Knowledge Point
				`),E&&E.c(),_=G(),J(h.$$.fragment),v=G(),B&&B.c(),w=G(),$&&$.c(),S=G(),D&&D.c(),C=G(),J(R.$$.fragment),N(o,"class","italic"),N(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),N(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(U,b){Y(e,U,b),M(U,n,b),M(U,o,b),M(U,i,b),M(U,r,b),y(r,l),y(l,a),y(l,s),y(s,f),y(s,c),y(l,m),E&&E.m(l,null),y(r,_),Y(h,r,null),y(r,v),B&&B.m(r,null),y(r,w),$&&$.m(r,null),y(r,S),D&&D.m(r,null),M(U,C,b),Y(R,U,b),L=!0},p(U,b){const g={};b&258&&(g.$$scope={dirty:b,ctx:U}),e.$set(g),(!L||b&8)&&u!==(u=(U[3]??0)+"")&&ae(f,u),(!L||b&8&&d!==(d=U[3]<0?"text-red-500":"text-green-500"))&&N(s,"class",d),U[3]>0?E?E.p(U,b):(E=Pu(U),E.c(),E.m(l,null)):E&&(E.d(1),E=null);const I={};b&4&&(I.data=U[2]),h.$set(I),U[3]<0?B||(B=Ou(),B.c(),B.m(r,w)):B&&(B.d(1),B=null),U[1].hasBank&&U[3]>0?$?($.p(U,b),b&10&&k($,1)):($=Nu(U),$.c(),k($,1),$.m(r,S)):$&&(Pe(),A($,1,1,()=>{$=null}),Oe()),U[1].hasBank===!1?D||(D=Eu(),D.c(),D.m(r,null)):D&&(D.d(1),D=null)},i(U){L||(k(e.$$.fragment,U),k(h.$$.fragment,U),k($),k(R.$$.fragment,U),L=!0)},o(U){A(e.$$.fragment,U),A(h.$$.fragment,U),A($),A(R.$$.fragment,U),L=!1},d(U){U&&(T(n),T(o),T(i),T(r),T(C)),X(e,U),E&&E.d(),X(h),B&&B.d(),$&&$.d(),D&&D.d(),X(R,U)}}}function X5(t){let e,n;return e=new Yn({props:{transitionConfig:{duration:0},class:"bg-foreground text-foregroundText",$$slots:{default:[Y5]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&270&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function J5(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[X5]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new Jn({props:r}),Ie.push(()=>An(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){Y(e,l,a),o=!0},p(l,[a]){const s={};a&270&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],Cn(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){A(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function Ru(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function x5(t,e,n){let o,i;fe(t,Le,u=>n(1,o=u)),fe(t,Bi,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,Le.set(u),localStorage.setItem(jt,JSON.stringify(u))):alert("You need a bank to convert knowledge to gold.")}function s(u){i=u,Bi.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class Z5 extends ye{constructor(e){super(),ve(this,e,x5,J5,de,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const Q5=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:5e3,duration:180,effect:!0},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
        
         We don't really know what that means, but it seems to make people healthier. 
        `,cost:8e3,duration:200,effect:!0},{id:"goodbye_carrots",title:"Goodbye Carrots",description:`Scientist Jarrod M. collaborated with local carrot farms to enhance the recipe, aiming to increase consumers' height by 10%.

        Unfortunately, the experiment failed, and all the local carrot farms have gone out of business. 
        `,cost:8e3,duration:80,effect:!0},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.

        The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
        `,cost:3e3,duration:60,effect:!1},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab. 

        She hopes nobody will miss it. Your town now has some more money. 
        `,cost:15e3,duration:180,effect:!0},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes. 

        We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:!0},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach. 

        We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:!1},{id:"coffee_boost_tourism",title:"Speedy Brews",description:`Scientist Claudia A. has found that a specific blend of coffee can significantly increase productivity among town employees. 

        The catch? It only works on Mondays. But hey, starting the week with a turbo-charged workforce might just be the boost we needed. The town gets a bit of extra cash from the productivity, and a bit of tourism revenue from coffee tourism.
        `,cost:8e3,duration:100,effect:!0},{id:"bee_bonanza",title:"Buzzing with Possibilities",description:`Scientist Will B. thought that introducing genetically modified super bees to the local ecosystem could help with pollination.
        
        Unfortunately, these bees prefer coffee plants over all others, leading to all coffee bean farms forced to close.`,cost:5e3,duration:120,effect:!0},{id:"wheat_whirlwind",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather control experiment aimed at improving crop yields accidentally resulted in a series of mini-tornadoes sweeping through the town's wheat farms. The wheat is gone, but the townsfolk have never been more entertained.

        Local bakers mourn the loss of wheat while selling tickets to the wheat whirlwind tours. All wheat farms are now torn down, but happiness is up.`,cost:7e3,duration:150,effect:!0},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.

        Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:!0},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools. 

        This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:!0},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took the funding and applied the town for a grant to improve education.

        The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:4e4,duration:45,effect:!0},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress. 
		
		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:!0}];function Du(t,e,n){const o=t.slice();return o[17]=e[n],o}function z5(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=V("ðŸŽ‰ Experiment Completed: "),o=V(n)},m(i,r){M(i,e,r),M(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&ae(o,n)},d(i){i&&(T(e),T(o))}}}function e3(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=P("div"),o=V(n),N(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){M(i,e,r),y(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&ae(o,n)},d(i){i&&T(e)}}}function t3(t){let e,n,o,i;return e=new Bl({props:{class:"text-center",$$slots:{default:[z5]},$$scope:{ctx:t}}}),o=new Wl({props:{$$slots:{default:[e3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function n3(t){let e;return{c(){e=V("Thank the scientists")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function o3(t){let e,n;return e=new Gb({props:{$$slots:{default:[n3]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function i3(t){let e,n,o,i;return e=new Gl({props:{$$slots:{default:[t3]},$$scope:{ctx:t}}}),o=new Vl({props:{$$slots:{default:[o3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048576&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function r3(t){let e,n;return e=new Hl({props:{$$slots:{default:[i3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&1048578&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function l3(t){let e;return{c(){e=P("span"),e.textContent="Manage your Laboratory ðŸ”¬ ðŸ§ª"},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function s3(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=P("span"),n=V("You have earned "),o=P("span"),r=V(i),l=V(" XP"),s=V(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),N(o,"class",a="italic "+(t[1].lab.xp<0?"text-textDanger1":"text-primaryText"))},m(u,f){M(u,e,f),y(e,n),y(e,o),y(o,r),y(o,l),y(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&ae(r,i),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-textDanger1":"text-primaryText"))&&N(o,"class",a)},d(u){u&&T(e)}}}function a3(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[l3]},$$scope:{ctx:t}}}),o=new Xn({props:{$$slots:{default:[s3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&1048576&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function u3(t){let e;return{c(){e=V("No more experiments available")},m(n,o){M(n,e,o)},p:ke,i:ke,o:ke,d(n){n&&T(e)}}}function f3(t){let e,n,o,i,r=Ke(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=Fu(Du(t,r,s));const a=s=>A(l[s],1,1,()=>{l[s]=null});return{c(){e=P("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=G(),o=P("div");for(let s=0;s<l.length;s+=1)l[s].c();N(e,"class","select-none text-sm "),N(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){M(s,e,u),M(s,n,u),M(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=Ke(s[0]);let f;for(f=0;f<r.length;f+=1){const c=Du(s,r,f);l[f]?(l[f].p(c,u),k(l[f],1)):(l[f]=Fu(c),l[f].c(),k(l[f],1),l[f].m(o,null))}for(Pe(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)k(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)A(l[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),_t(l,s)}}}function c3(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&$u(t);return{c(){e=V("Currently running an experiment... check back in "),o=V(n),i=V(` days.
      `),a&&a.c(),r=De()},m(s,u){M(s,e,u),M(s,o,u),M(s,i,u),a&&a.m(s,u),M(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&ae(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&k(a,1)):(a=$u(s),a.c(),k(a,1),a.m(r.parentNode,r)):a&&(Pe(),A(a,1,1,()=>{a=null}),Oe())},i(s){l||(k(a),l=!0)},o(s){A(a),l=!1},d(s){s&&(T(e),T(o),T(i),T(r)),a&&a.d(s)}}}function Lu(t){let e,n,o=t[17].id+"",i;return{c(){e=P("span"),n=V("// dev-"),i=V(o),N(e,"class","text-xs text-gray-400")},m(r,l){M(r,e,l),y(e,n),y(e,i)},p(r,l){l&1&&o!==(o=r[17].id+"")&&ae(i,o)},d(r){r&&T(e)}}}function d3(t){let e,n=qu(t[17].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&Lu(t);return{c(){e=V("$"),o=V(n),i=V(` gold

            `),l&&l.c(),r=G()},m(a,s){M(a,e,s),M(a,o,s),M(a,i,s),l&&l.m(a,s),M(a,r,s)},p(a,s){s&1&&n!==(n=qu(a[17].cost).split(".")[0]+"")&&ae(o,n),a[1].devMode===!0?l?l.p(a,s):(l=Lu(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(T(e),T(o),T(i),T(r)),l&&l.d(a)}}}function Fu(t){let e,n;function o(){return t[11](t[17])}return e=new qt({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[d3]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){J(e.$$.fragment)},m(i,r){Y(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&1048579&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){A(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function $u(t){let e,n;return e=new qt({props:{variant:"outline",$$slots:{default:[m3]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function m3(t){let e;return{c(){e=V("Complete experiment (and face the impact)")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function p3(t){let e;return{c(){e=P("span"),e.textContent="Keep in mind that not all experiments yield positive results.",N(e,"class","italic text-left text-textDanger1")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function _3(t){let e,n,o,i,r,l,a,s,u,f,c;e=new Un({props:{$$slots:{default:[a3]},$$scope:{ctx:t}}}),o=new Ct({});const d=[c3,f3,u3],m=[];function _(h,v){return h[1].lab.active_experiment!==null?0:h[0].length>0?1:h[0].length===0?2:-1}return~(r=_(t))&&(l=m[r]=d[r](t)),s=new Ct({props:{class:"mt-4"}}),f=new Ao({props:{$$slots:{default:[p3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment),i=G(),l&&l.c(),a=G(),J(s.$$.fragment),u=G(),J(f.$$.fragment)},m(h,v){Y(e,h,v),M(h,n,v),Y(o,h,v),M(h,i,v),~r&&m[r].m(h,v),M(h,a,v),Y(s,h,v),M(h,u,v),Y(f,h,v),c=!0},p(h,v){const w={};v&1048578&&(w.$$scope={dirty:v,ctx:h}),e.$set(w);let S=r;r=_(h),r===S?~r&&m[r].p(h,v):(l&&(Pe(),A(m[S],1,1,()=>{m[S]=null}),Oe()),~r?(l=m[r],l?l.p(h,v):(l=m[r]=d[r](h),l.c()),k(l,1),l.m(a.parentNode,a)):l=null);const C={};v&1048576&&(C.$$scope={dirty:v,ctx:h}),f.$set(C)},i(h){c||(k(e.$$.fragment,h),k(o.$$.fragment,h),k(l),k(s.$$.fragment,h),k(f.$$.fragment,h),c=!0)},o(h){A(e.$$.fragment,h),A(o.$$.fragment,h),A(l),A(s.$$.fragment,h),A(f.$$.fragment,h),c=!1},d(h){h&&(T(n),T(i),T(a),T(u)),X(e,h),X(o,h),~r&&m[r].d(h),X(s,h),X(f,h)}}}function h3(t){let e,n;return e=new Yn({props:{class:"bg-foreground text-foregroundText",$$slots:{default:[_3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&1048579&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function g3(t){let e,n,o,i,r;e=new Kl({props:{open:t[2],$$slots:{default:[r3]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[h3]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new Jn({props:a}),Ie.push(()=>An(o,"open",l)),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(s,u){Y(e,s,u),M(s,n,u),Y(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&1048578&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&1048579&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],Cn(()=>i=!1)),o.$set(c)},i(s){r||(k(e.$$.fragment,s),k(o.$$.fragment,s),r=!0)},o(s){A(e.$$.fragment,s),A(o.$$.fragment,s),r=!1},d(s){s&&T(n),X(e,s),X(o,s)}}}function qu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function b3(t,e,n){let o,i;fe(t,Le,C=>n(1,o=C)),fe(t,Mi,C=>n(3,i=C));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let C=[],R=Q5.filter(L=>!o.lab.past_experiments.some(E=>E.id===L.id));for(let L=0;L<3;L++){let E=R[Math.floor(Math.random()*R.length)];E.cost=Math.floor(Math.random()*(E.cost*.35)+E.cost*.8),C.push(E)}return C=C.filter((L,E)=>C.indexOf(L)===E),C=C.filter(L=>L),n(8,u=!0),C}function c(C){if(o.townInfo.gold<C.cost){alert("You do not have enough gold to purchase this experiment.");return}Ne(Le,o.townInfo.gold-=C.cost,o),Ne(Le,o.lab.active_experiment=C,o),o.lab.past_experiments.push(C)}function d(){var C;switch(Ne(Mi,i=!1,i),n(2,s=!0),(C=o.lab.active_experiment)===null||C===void 0?void 0:C.id){case"sunshine":Ne(Le,o.modifiers.happiness=50,o);break;case"antibiotics":Ne(Le,o.modifiers.health=50,o);break;case"goodbye_carrots":_("carrot_farm");break;case"missing_treasure":Ne(Le,o.townInfo.gold+=Math.floor(Math.random()*o.lab.active_experiment.cost*2),o);break;case"tax_relief":Ne(Le,o.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*o.economyAndLaws.max_tax_rate,o);break;case"bee_bonanza":_("coffee_bean_farm");break;case"wheat_whirlwind":_("wheat_farm"),Ne(Le,o.townInfo.happiness*=1.5,o),Ne(Le,o.modifiers.happiness+=3,o);break;case"educational_eclipse":_("small_school"),_("large_school"),Ne(Le,o.townInfo.knowledge_points*=.8,o);break;case"education_grant":Ne(Le,o.townInfo.knowledge_points*=1.5,o),Ne(Le,o.townInfo.gold+=15e4,o);break;case"mindfulness_meditation_classes":o.modifiers.happiness*1.5;break}Ne(Le,o.lab.active_experiment.duration=-1,o)}function m(){let C=o;C.lab.xp+=Math.round(C.lab.active_experiment.cost*(Math.random()*2+.5)),C.lab.active_experiment=null,n(2,s=!1),Ne(Le,o=C,o)}function _(C){let R=Ze(C,o);for(let L=0;L<R.length;L++)ji(R[L].x,R[L].y,o)}const h=()=>{m()},v=()=>{d()},w=C=>{C.cost<o.townInfo.gold&&c(C)};function S(C){i=C,Mi.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,m,r,u,h,v,w,S]}class v3 extends ye{constructor(e){super(),ve(this,e,b3,g3,de,{})}}function ju(t,e,n){const o=t.slice();return o[19]=e[n],o}function Bu(t){let e,n=Ke({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=Vu(ju(t,n,i));return{c(){e=P("div");for(let i=0;i<o.length;i+=1)o[i].c();N(e,"class","confetti-holder svelte-15ksp55"),cn(e,"rounded",t[9]),cn(e,"cone",t[10]),cn(e,"no-gravity",t[11]),cn(e,"reduced-motion",t[13])},m(i,r){M(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=Ke({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=ju(i,n,l);o[l]?o[l].p(a,r):(o[l]=Vu(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&cn(e,"rounded",i[9]),r&1024&&cn(e,"cone",i[10]),r&2048&&cn(e,"no-gravity",i[11]),r&8192&&cn(e,"reduced-motion",i[13])},d(i){i&&T(e),_t(o,i)}}}function Vu(t){let e;return{c(){e=P("div"),N(e,"class","confetti svelte-15ksp55"),Je(e,"--fall-distance",t[8]),Je(e,"--size",t[0]+"px"),Je(e,"--color",t[15]()),Je(e,"--skew",wt(-45,45)+"deg,"+wt(-45,45)+"deg"),Je(e,"--rotation-xyz",wt(-10,10)+", "+wt(-10,10)+", "+wt(-10,10)),Je(e,"--rotation-deg",wt(0,360)+"deg"),Je(e,"--translate-y-multiplier",wt(t[2][0],t[2][1])),Je(e,"--translate-x-multiplier",wt(t[1][0],t[1][1])),Je(e,"--scale",.1*wt(2,10)),Je(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),Je(e,"--transition-delay",wt(t[5][0],t[5][1])+"ms"),Je(e,"--transition-iteration-count",t[4]?"infinite":t[7]),Je(e,"--x-spread",1-t[12])},m(n,o){M(n,e,o)},p(n,o){o&256&&Je(e,"--fall-distance",n[8]),o&1&&Je(e,"--size",n[0]+"px"),o&4&&Je(e,"--translate-y-multiplier",wt(n[2][0],n[2][1])),o&2&&Je(e,"--translate-x-multiplier",wt(n[1][0],n[1][1])),o&24&&Je(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&Je(e,"--transition-delay",wt(n[5][0],n[5][1])+"ms"),o&144&&Je(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&Je(e,"--x-spread",1-n[12])},d(n){n&&T(e)}}}function y3(t){let e,n=!t[14]&&Bu(t);return{c(){n&&n.c(),e=De()},m(o,i){n&&n.m(o,i),M(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=Bu(o),n.c(),n.m(e.parentNode,e))},i:ke,o:ke,d(o){o&&T(e),n&&n.d(o)}}}function wt(t,e){return Math.random()*(e-t)+t}function w3(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:_=!1}=e,{cone:h=!1}=e,{noGravity:v=!1}=e,{xSpread:w=.15}=e,{destroyOnComplete:S=!0}=e,{disableForReducedMotion:C=!1}=e,R=!1;fr(()=>{!S||a||d=="infinite"||setTimeout(()=>n(14,R=!0),(l+s[1])*d)});function L(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(wt(u[0],u[1]))}, 75%, 50%)`}return t.$$set=E=>{"size"in E&&n(0,o=E.size),"x"in E&&n(1,i=E.x),"y"in E&&n(2,r=E.y),"duration"in E&&n(3,l=E.duration),"infinite"in E&&n(4,a=E.infinite),"delay"in E&&n(5,s=E.delay),"colorRange"in E&&n(16,u=E.colorRange),"colorArray"in E&&n(17,f=E.colorArray),"amount"in E&&n(6,c=E.amount),"iterationCount"in E&&n(7,d=E.iterationCount),"fallDistance"in E&&n(8,m=E.fallDistance),"rounded"in E&&n(9,_=E.rounded),"cone"in E&&n(10,h=E.cone),"noGravity"in E&&n(11,v=E.noGravity),"xSpread"in E&&n(12,w=E.xSpread),"destroyOnComplete"in E&&n(18,S=E.destroyOnComplete),"disableForReducedMotion"in E&&n(13,C=E.disableForReducedMotion)},[o,i,r,l,a,s,c,d,m,_,h,v,w,C,R,L,u,f,S]}class k3 extends ye{constructor(e){super(),ve(this,e,w3,y3,de,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function C3(t){let e,n,o;return{c(){e=P("div"),N(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all"),N(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`)},m(i,r){M(i,e,r)},p(i,r){r&8&&n!==(n="h-full w-full flex-1 "+i[3]+" transition-all")&&N(e,"class",n),r&6&&o!==(o=`transform: translateX(-${100-100*(i[2]??0)/(i[1]??1)}%)`)&&N(e,"style",o)},d(i){i&&T(e)}}}function A3(t){let e,n;const o=[{class:$e("relative h-4 w-full overflow-hidden rounded-full bg-white",t[0])},t[4]];let i={$$slots:{default:[C3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new Qg({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&17?we(o,[l&1&&{class:$e("relative h-4 w-full overflow-hidden rounded-full bg-white",r[0])},l&16&&rt(r[4])]):{};l&46&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function S3(t,e,n){const o=["class","max","value","color"];let i=se(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-secondary"}=e;return t.$$set=u=>{e=x(x({},e),Re(u)),n(4,i=se(e,o)),"class"in u&&n(0,r=u.class),"max"in u&&n(1,l=u.max),"value"in u&&n(2,a=u.value),"color"in u&&n(3,s=u.color)},[r,l,a,s,i]}class T3 extends ye{constructor(e){super(),ve(this,e,S3,A3,de,{class:0,max:1,value:2,color:3})}}function M3(t){let e;const n=t[5].default,o=pe(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&he(o,n,i,i[6],e?_e(n,i[6],r,null):ge(i[6]),null)},i(i){e||(k(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function I3(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:$e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",t[0])},t[4]];let i={$$slots:{default:[M3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new j1({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&31?we(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:$e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",r[0])},l&16&&rt(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function P3(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=4}=e,{transition:u=mr}=e,{transitionConfig:f={y:8,duration:150}}=e;return t.$$set=c=>{e=x(x({},e),Re(c)),n(4,i=se(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class So extends ye{constructor(e){super(),ve(this,e,P3,I3,de,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const To=A1,Mo=U1;function Gu(t,e,n){const o=t.slice();return o[17]=e[n].name,o[18]=e[n].value,o[19]=e[n].modifier,o}function O3(t){let e,n=t[17]+"",o,i,r=it(t[19],2)+"",l,a,s,u,f;return u=new T3({props:{value:t[18],max:300,class:"w-full h-2",color:t[11](t[18])}}),{c(){e=P("span"),o=V(n),i=V(" (x"),l=V(r),a=V(")"),s=G(),J(u.$$.fragment),N(e,"class","text-xs pb-1")},m(c,d){M(c,e,d),y(e,o),y(e,i),y(e,l),y(e,a),M(c,s,d),Y(u,c,d),f=!0},p(c,d){(!f||d&4)&&n!==(n=c[17]+"")&&ae(o,n),(!f||d&4)&&r!==(r=it(c[19],2)+"")&&ae(l,r);const m={};d&4&&(m.value=c[18]),d&4&&(m.color=c[11](c[18])),u.$set(m)},i(c){f||(k(u.$$.fragment,c),f=!0)},o(c){A(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(s)),X(u,c)}}}function N3(t){let e,n,o=t[17]+"",i,r,l,a,s=it(t[18],0)+"",u,f,c,d,m,_=it(t[19],0)+"",h;return{c(){e=P("div"),n=P("span"),i=V(o),r=G(),l=P("span"),a=V("Base: "),u=V(s),f=V(" / 300"),c=G(),d=P("span"),m=V("Modifier: "),h=V(_),N(n,"class","text-sm font-bold"),N(l,"class","text-xs"),N(d,"class","text-xs"),N(e,"class","flex flex-col justify-between p-0 m-0")},m(v,w){M(v,e,w),y(e,n),y(n,i),y(e,r),y(e,l),y(l,a),y(l,u),y(l,f),y(e,c),y(e,d),y(d,m),y(d,h)},p(v,w){w&4&&o!==(o=v[17]+"")&&ae(i,o),w&4&&s!==(s=it(v[18],0)+"")&&ae(u,s),w&4&&_!==(_=it(v[19],0)+"")&&ae(h,_)},d(v){v&&T(e)}}}function E3(t){let e,n,o,i;return e=new Mo({props:{class:"h-min w-full mt-0 flex flex-col",$$slots:{default:[O3]},$$scope:{ctx:t}}}),o=new So({props:{class:t[11](t[18]),$$slots:{default:[N3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&4194308&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4&&(s.class=r[11](r[18])),l&4194308&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Hu(t){let e,n,o,i;return n=new To({props:{openDelay:400,closeDelay:0,$$slots:{default:[E3]},$$scope:{ctx:t}}}),{c(){e=P("div"),J(n.$$.fragment),o=G(),N(e,"class","flex flex-col gap-2")},m(r,l){M(r,e,l),Y(n,e,null),y(e,o),i=!0},p(r,l){const a={};l&4194308&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(k(n.$$.fragment,r),i=!0)},o(r){A(n.$$.fragment,r),i=!1},d(r){r&&T(e),X(n)}}}function R3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=P("span"),n=V("+$"),i=V(o),N(e,"class","text-textPrimary")},m(r,l){M(r,e,l),y(e,n),y(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&ae(i,o)},d(r){r&&T(e)}}}function D3(t){let e,n=t[0].economyAndLaws.weeklyProfit+"",o;return{c(){e=P("span"),o=V(n),N(e,"class","text-textDanger2")},m(i,r){M(i,e,r),y(e,o)},p(i,r){r&1&&n!==(n=i[0].economyAndLaws.weeklyProfit+"")&&ae(o,n)},d(i){i&&T(e)}}}function L3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=P("span"),n=V("+$"),i=V(o),N(e,"class","text-textHappy")},m(r,l){M(r,e,l),y(e,n),y(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&ae(i,o)},d(r){r&&T(e)}}}function F3(t){let e=it(t[0].townInfo.employees/t[0].townInfo.population_count*100,0)+"",n,o,i=t[0].townInfo.employees+"",r,l,a=t[0].townInfo.population_count+"",s,u,f=t[0].townInfo.population_count-t[0].townInfo.employees+"",c,d;return{c(){n=V(e),o=V("% employment ("),r=V(i),l=V("/"),s=V(a),u=V(" - "),c=V(f),d=V(" unemployed)")},m(m,_){M(m,n,_),M(m,o,_),M(m,r,_),M(m,l,_),M(m,s,_),M(m,u,_),M(m,c,_),M(m,d,_)},p(m,_){_&1&&e!==(e=it(m[0].townInfo.employees/m[0].townInfo.population_count*100,0)+"")&&ae(n,e),_&1&&i!==(i=m[0].townInfo.employees+"")&&ae(r,i),_&1&&a!==(a=m[0].townInfo.population_count+"")&&ae(s,a),_&1&&f!==(f=m[0].townInfo.population_count-m[0].townInfo.employees+"")&&ae(c,f)},d(m){m&&(T(n),T(o),T(r),T(l),T(s),T(u),T(c),T(d))}}}function $3(t){let e;function n(r,l){return r[0].townInfo.population_count===0?j3:q3}let o=n(t),i=o(t);return{c(){i.c(),e=De()},m(r,l){i.m(r,l),M(r,e,l)},p(r,l){o!==(o=n(r))&&(i.d(1),i=o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i.d(r)}}}function q3(t){let e;return{c(){e=V("All citizens employed")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function j3(t){let e;return{c(){e=V("Nobody lives here , build some homes")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function B3(t){let e;return{c(){e=P("div"),e.textContent="Manage Knowledge"},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function V3(t){let e;return{c(){e=P("div"),e.textContent="City Management"},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function Wu(t){let e;function n(r,l){if(r[0].lab.active_experiment.duration>0)return H3;if(r[0].lab.active_experiment.duration===0)return G3}let o=n(t),i=o&&o(t);return{c(){i&&i.c(),e=De()},m(r,l){i&&i.m(r,l),M(r,e,l)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i&&i.d(1),i=o&&o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i&&i.d(r)}}}function G3(t){let e;return{c(){e=P("span"),e.textContent="âœ… DONE!",N(e,"class","animate-pulse ")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function H3(t){let e,n=t[0].lab.active_experiment.duration+"",o,i;return{c(){e=P("span"),o=V(n),i=V("d")},m(r,l){M(r,e,l),y(e,o),y(e,i)},p(r,l){l&1&&n!==(n=r[0].lab.active_experiment.duration+"")&&ae(o,n)},d(r){r&&T(e)}}}function W3(t){let e,n,o=t[0].lab.active_experiment!==null&&Wu(t);return{c(){e=P("div"),n=V(`Manage Lab
            `),o&&o.c()},m(i,r){M(i,e,r),y(e,n),o&&o.m(e,null)},p(i,r){i[0].lab.active_experiment!==null?o?o.p(i,r):(o=Wu(i),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(i){i&&T(e),o&&o.d()}}}function Ku(t){let e,n,o,i;return o=new To({props:{openDelay:400,closeDelay:0,$$slots:{default:[Y3]},$$scope:{ctx:t}}}),{c(){e=P("div"),n=P("div"),J(o.$$.fragment),N(n,"class","flex flex-row justify-center text-xs bg-white rounded-t-2xl text-black py-2 whitespace-nowrap px-2 opacity-50"),N(e,"class","flex flex-col justify-center items-center ")},m(r,l){M(r,e,l),y(e,n),Y(o,n,null),i=!0},p(r,l){const a={};l&4194305&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(k(o.$$.fragment,r),i=!0)},o(r){A(o.$$.fragment,r),i=!1},d(r){r&&T(e),X(o)}}}function K3(t){let e,n,o,i,r=$t[t[0].currentTutorialStep-1].goldReward+"",l;return{c(){e=P("span"),n=V(`Last reward
                  `),o=P("div"),i=V("ðŸ’°"),l=V(r),N(e,"class","w-full no-select opacity-70 whitespace-nowrap text-center")},m(a,s){M(a,e,s),y(e,n),y(e,o),y(o,i),y(o,l)},p(a,s){s&1&&r!==(r=$t[a[0].currentTutorialStep-1].goldReward+"")&&ae(l,r)},d(a){a&&T(e)}}}function U3(t){let e,n=$t[t[0].currentTutorialStep-1].message+"",o;return{c(){e=V("Last completed task: "),o=V(n)},m(i,r){M(i,e,r),M(i,o,r)},p(i,r){r&1&&n!==(n=$t[i[0].currentTutorialStep-1].message+"")&&ae(o,n)},d(i){i&&(T(e),T(o))}}}function Y3(t){let e,n,o,i;return e=new Mo({props:{$$slots:{default:[K3]},$$scope:{ctx:t}}}),o=new So({props:{class:"bg-black text-white rounded-2xl",$$slots:{default:[U3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&4194305&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4194305&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Uu(t){let e,n;return e=new k3({props:{y:[-.5,.5],x:[-.5,.5],duration:2e3}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function X3(t){let e=$t[t[0].currentTutorialStep].message+"",n,o,i,r,l=$t[t[0].currentTutorialStep].goldReward+"",a,s;return{c(){n=V(e),o=G(),i=P("span"),r=V("(ðŸ’°"),a=V(l),s=V(")"),N(i,"class","opacity-40")},m(u,f){M(u,n,f),M(u,o,f),M(u,i,f),y(i,r),y(i,a),y(i,s)},p(u,f){f&1&&e!==(e=$t[u[0].currentTutorialStep].message+"")&&ae(n,e),f&1&&l!==(l=$t[u[0].currentTutorialStep].goldReward+"")&&ae(a,l)},d(u){u&&(T(n),T(o),T(i))}}}function J3(t){let e;return{c(){e=V("No more goals!")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function x3(t){let e,n,o,i,r,l,a,s,u,f=t[0].townInfo.name+"",c,d,m,_,h,v=t[0].townInfo.population_count+"",w,S,C=t[0].townInfo.population_max+"",R,L,E,B,$,D=gn(t[0].townInfo.gold,!1)+"",U,b,g,I,O,W,F,Z,ee,Q,K,te,ne,p,H,q,ie,re,Ae,Fe,Me,ze,ce,Ee,He,Be,Ue,Ce,Se,yt,Rt,at,Dt,ut,mt,nt,me,We,j,ts,ni,oi=t[0].environment.day%365+1+"",Cr,ns,xn,ii,os,ri,li=Math.floor(t[0].environment.day/365)+1+"",Ar,is,un,Zn,rs,si,ls,Qn,ss,ai,as,zn,us,ui,fi,ft,Sr,fs,Sn=Ke(t[2]),tt=[];for(let be=0;be<Sn.length;be+=1)tt[be]=Hu(Gu(t,Sn,be));const Pd=be=>A(tt[be],1,1,()=>{tt[be]=null});function cs(be,Ve){return be[0].economyAndLaws.weeklyProfit>0?L3:be[0].economyAndLaws.weeklyProfit<0?D3:R3}let ci=cs(t),Vt=ci(t);function ds(be,Ve){return be[0].townInfo.employees==be[0].townInfo.population_count?$3:F3}let di=ds(t),Gt=di(t);q=new qt({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[B3]},$$scope:{ctx:t}}}),q.$on("click",t[12]),re=new qt({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[V3]},$$scope:{ctx:t}}}),re.$on("click",t[13]),Fe=new qt({props:{class:"text-xs flex flex-col h-min p-1.5 "+(t[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35"),$$slots:{default:[W3]},$$scope:{ctx:t}}}),Fe.$on("click",t[10]);let lt=t[0].currentTutorialStep!=0&&Ku(t),ct=t[7]&&Uu();function ms(be,Ve){return be[0].currentTutorialStep>=$t.length?J3:X3}let mi=ms(t),Ht=mi(t);return{c(){e=P("div"),n=P("div"),o=P("div");for(let be=0;be<tt.length;be+=1)tt[be].c();i=G(),r=P("div"),l=P("div"),a=P("div"),s=P("div"),u=P("h1"),c=V(f),d=G(),m=P("div"),_=P("span"),h=V("ðŸ‘¥ "),w=V(v),S=V(" / "),R=V(C),L=G(),E=P("span"),B=P("span"),$=V("ðŸ’° "),U=V(D),b=G(),g=P("span"),I=G(),Vt.c(),O=G(),W=P("span"),W.textContent="(weekly)",F=G(),Z=P("div"),Gt.c(),Q=G(),K=P("span"),te=V("Game time: "),ne=V(t[1]),p=G(),H=P("div"),J(q.$$.fragment),ie=G(),J(re.$$.fragment),Ae=G(),J(Fe.$$.fragment),Me=G(),ze=P("div"),ce=P("div"),lt&&lt.c(),Ee=G(),ct&&ct.c(),He=G(),Be=P("div"),Ue=P("div"),Ue.textContent="ðŸ‘¨â€ðŸ¦°",Ce=G(),Se=P("div"),Ht.c(),Rt=G(),at=P("div"),Dt=P("div"),ut=P("div"),mt=P("div"),mt.innerHTML='<span class="text-xs text-secondary cursor-pointer">Press P to Pause</span>',nt=G(),me=P("div"),We=P("span"),j=P("span"),j.textContent="Day",ts=G(),ni=P("span"),Cr=V(oi),ns=G(),xn=P("span"),ii=P("span"),ii.textContent="Year",os=G(),ri=P("span"),Ar=V(li),is=G(),un=P("div"),Zn=P("span"),rs=V("Slow"),ls=G(),Qn=P("span"),ss=V("Normal"),as=G(),zn=P("span"),us=V("Fast"),N(o,"class","flex flex-col w-36 text-foregroundText bg-accent p-2 rounded-xl gap-2 mr-2"),N(u,"class","font-bold cursor-pointer w-full pb-2 text-start select-none"),N(s,"class","cursor-pointer transition-all duration=150 min-h-8"),N(_,"class","text-sm"),N(B,"class","text-sm"),N(g,"class","pl-2"),N(W,"class","text-gray-400"),N(E,"class","text-xs"),N(m,"class","flex flex-row gap-4 flex-wrap items-center"),N(Z,"class",ee="text-xs pt-1 "+(t[0].townInfo.employees==t[0].townInfo.population_count?"text-textPrimary":t[0].townInfo.employees>t[0].townInfo.population_count*.95?"text-textDanger3":t[0].townInfo.employees>t[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")),N(K,"class","text-xs text-secondary cursor-pointer"),N(a,"class","flex flex-col justify-between"),N(l,"class","rounded-xl"),N(H,"class","flex flex-row gap-2 align-middle justify-center items-center "),N(r,"class","flex justify-between flex-col"),N(n,"class","flex flex-row gap-2 my-2 h-max"),N(Ue,"class","text-lg h-max"),N(Se,"class","text-xs ml-2 overflow-auto opacity-80"),N(Be,"class","gap flex-row items-center flex bg-white text-slate-800 py-1 px-2 rounded-xl w-full"),N(ce,"class","flex flex-col justify-center w-full align-middle items-center"),N(ze,"class",yt="flex flex-row flex-wrap align-middle justify-center items-center w-80 "+(t[7]?"opacity-25 ":"")+" transition-all duration-700"),N(j,"class","text-xs"),N(ni,"class","font-semibold text-xs"),N(We,"class","flex flex-col gap-2 text-center"),N(ii,"class","text-xs"),N(ri,"class","font-semibold text-xs"),N(xn,"class","flex flex-col gap-2 text-center"),N(me,"class","rounded-xl bg-accent flex-row justify-between text-accentText w-36 h-14 flex px-6 items-center mb-2"),N(Zn,"class",si=(t[3].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(Qn,"class",ai=(t[3].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(zn,"class",ui=(t[3].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(un,"class","flex flex-row gap-2 align-middle justify-center items-center"),N(ut,"class","flex flex-col items-center h-max"),N(Dt,"class","flex flex-col"),N(at,"class","flex justify-center align-middle flex-col"),N(e,"class",fi="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(t[4].visible?"opacity-70":""))},m(be,Ve){M(be,e,Ve),y(e,n),y(n,o);for(let Tn=0;Tn<tt.length;Tn+=1)tt[Tn]&&tt[Tn].m(o,null);y(n,i),y(n,r),y(r,l),y(l,a),y(a,s),y(s,u),y(u,c),y(a,d),y(a,m),y(m,_),y(_,h),y(_,w),y(_,S),y(_,R),y(m,L),y(m,E),y(E,B),y(B,$),y(B,U),y(E,b),y(E,g),y(E,I),Vt.m(E,null),y(E,O),y(E,W),y(a,F),y(a,Z),Gt.m(Z,null),y(a,Q),y(a,K),y(K,te),y(K,ne),y(r,p),y(r,H),Y(q,H,null),y(H,ie),Y(re,H,null),y(H,Ae),Y(Fe,H,null),y(e,Me),y(e,ze),y(ze,ce),lt&&lt.m(ce,null),y(ce,Ee),ct&&ct.m(ce,null),y(ce,He),y(ce,Be),y(Be,Ue),y(Be,Ce),y(Be,Se),Ht.m(Se,null),y(e,Rt),y(e,at),y(at,Dt),y(Dt,ut),y(ut,mt),y(ut,nt),y(ut,me),y(me,We),y(We,j),y(We,ts),y(We,ni),y(ni,Cr),y(me,ns),y(me,xn),y(xn,ii),y(xn,os),y(xn,ri),y(ri,Ar),y(ut,is),y(ut,un),y(un,Zn),y(Zn,rs),y(un,ls),y(un,Qn),y(Qn,ss),y(un,as),y(un,zn),y(zn,us),ft=!0,Sr||(fs=[z(s,"click",t[8]),z(Zn,"click",t[14]),z(Qn,"click",t[15]),z(zn,"click",t[16])],Sr=!0)},p(be,[Ve]){if(Ve&2052){Sn=Ke(be[2]);let ht;for(ht=0;ht<Sn.length;ht+=1){const _s=Gu(be,Sn,ht);tt[ht]?(tt[ht].p(_s,Ve),k(tt[ht],1)):(tt[ht]=Hu(_s),tt[ht].c(),k(tt[ht],1),tt[ht].m(o,null))}for(Pe(),ht=Sn.length;ht<tt.length;ht+=1)Pd(ht);Oe()}(!ft||Ve&1)&&f!==(f=be[0].townInfo.name+"")&&ae(c,f),(!ft||Ve&1)&&v!==(v=be[0].townInfo.population_count+"")&&ae(w,v),(!ft||Ve&1)&&C!==(C=be[0].townInfo.population_max+"")&&ae(R,C),(!ft||Ve&1)&&D!==(D=gn(be[0].townInfo.gold,!1)+"")&&ae(U,D),ci===(ci=cs(be))&&Vt?Vt.p(be,Ve):(Vt.d(1),Vt=ci(be),Vt&&(Vt.c(),Vt.m(E,O))),di===(di=ds(be))&&Gt?Gt.p(be,Ve):(Gt.d(1),Gt=di(be),Gt&&(Gt.c(),Gt.m(Z,null))),(!ft||Ve&1&&ee!==(ee="text-xs pt-1 "+(be[0].townInfo.employees==be[0].townInfo.population_count?"text-textPrimary":be[0].townInfo.employees>be[0].townInfo.population_count*.95?"text-textDanger3":be[0].townInfo.employees>be[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")))&&N(Z,"class",ee),(!ft||Ve&2)&&ae(ne,be[1]);const Tn={};Ve&4194304&&(Tn.$$scope={dirty:Ve,ctx:be}),q.$set(Tn);const ps={};Ve&4194304&&(ps.$$scope={dirty:Ve,ctx:be}),re.$set(ps);const Tr={};Ve&1&&(Tr.class="text-xs flex flex-col h-min p-1.5 "+(be[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35")),Ve&4194305&&(Tr.$$scope={dirty:Ve,ctx:be}),Fe.$set(Tr),be[0].currentTutorialStep!=0?lt?(lt.p(be,Ve),Ve&1&&k(lt,1)):(lt=Ku(be),lt.c(),k(lt,1),lt.m(ce,Ee)):lt&&(Pe(),A(lt,1,1,()=>{lt=null}),Oe()),be[7]?ct?Ve&128&&k(ct,1):(ct=Uu(),ct.c(),k(ct,1),ct.m(ce,He)):ct&&(Pe(),A(ct,1,1,()=>{ct=null}),Oe()),mi===(mi=ms(be))&&Ht?Ht.p(be,Ve):(Ht.d(1),Ht=mi(be),Ht&&(Ht.c(),Ht.m(Se,null))),(!ft||Ve&128&&yt!==(yt="flex flex-row flex-wrap align-middle justify-center items-center w-80 "+(be[7]?"opacity-25 ":"")+" transition-all duration-700"))&&N(ze,"class",yt),(!ft||Ve&1)&&oi!==(oi=be[0].environment.day%365+1+"")&&ae(Cr,oi),(!ft||Ve&1)&&li!==(li=Math.floor(be[0].environment.day/365)+1+"")&&ae(Ar,li),(!ft||Ve&8&&si!==(si=(be[3].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(Zn,"class",si),(!ft||Ve&8&&ai!==(ai=(be[3].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(Qn,"class",ai),(!ft||Ve&8&&ui!==(ui=(be[3].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(zn,"class",ui),(!ft||Ve&16&&fi!==(fi="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(be[4].visible?"opacity-70":"")))&&N(e,"class",fi)},i(be){if(!ft){for(let Ve=0;Ve<Sn.length;Ve+=1)k(tt[Ve]);k(q.$$.fragment,be),k(re.$$.fragment,be),k(Fe.$$.fragment,be),k(lt),k(ct),ft=!0}},o(be){tt=tt.filter(Boolean);for(let Ve=0;Ve<tt.length;Ve+=1)A(tt[Ve]);A(q.$$.fragment,be),A(re.$$.fragment,be),A(Fe.$$.fragment,be),A(lt),A(ct),ft=!1},d(be){be&&T(e),_t(tt,be),Vt.d(),Gt.d(),X(q),X(re),X(Fe),lt&&lt.d(),ct&&ct.d(),Ht.d(),Sr=!1,qe(fs)}}}function Z3(t,e,n){let o,i,r,l,a,s;fe(t,Le,R=>n(0,o=R)),fe(t,xr,R=>n(3,i=R)),fe(t,Qe,R=>n(4,r=R)),fe(t,Bi,R=>n(5,l=R)),fe(t,Gi,R=>n(6,a=R)),fe(t,Ti,R=>n(7,s=R)),fr(()=>{const R=setInterval(()=>{Ne(Le,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(R)}});function u(){let R=prompt("Enter a new name for your town (under 200 chars)");if(R&&R.length<200&&R.length>=1){let L=o;L.townInfo.name=R,Le.set(L),localStorage.setItem(jt,JSON.stringify(L))}}function f(R){return Ne(xr,i=R,i),document.querySelectorAll(".speedButton").forEach(E=>{E.classList.remove("active")}),i}function c(){o.hasLab&&Mi.set(!0)}let d="00:00:00",m;const _=R=>R>149?"bg-green-500":R<149&&R>99?"bg-yellow-500":"bg-red-500",h=function(){Ne(Bi,l=!l,l)},v=function(){Ne(Gi,a=!a,a)},w=()=>f(2e3),S=()=>f(750),C=()=>f(200);return t.$$.update=()=>{t.$$.dirty&1&&(o.timeSpent>0?n(1,d=Km(o.timeSpent)):n(1,d="00:00:00")),t.$$.dirty&1&&n(2,m=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:o.townInfo.happiness,modifier:o.modifiers.happiness},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:o.townInfo.health,modifier:o.modifiers.health},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:o.townInfo.community,modifier:o.modifiers.community}])},[o,d,m,i,r,l,a,s,u,f,c,_,h,v,w,S,C]}class Q3 extends ye{constructor(e){super(),ve(this,e,Z3,x3,de,{})}}function Yu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Xu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Ju(t){let e,n,o,i=le[Te(t[0].id)].title+"",r,l,a,s=le[Te(t[0].id)].description+"",u,f,c,d,m,_,h,v,w,S=t[3]("ðŸ’°",le[Te(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",C,R,L=t[3]("ðŸ¥•",le[Te(t[0].id)].requirements.resources.food,t[2].resources.food)+"",E,B,$=t[3]("ðŸ§ ",le[Te(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",D,U,b=t[3]("ðŸªµ",le[Te(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",g,I,O=t[3]("ðŸª¨",le[Te(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",W,F,Z=t[3]("ðŸ§²",le[Te(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",ee,Q,K=t[3]("ðŸ”‹",le[Te(t[0].id)].active_costs.power,t[2].resources.power)+"",te,ne,p=t[3]("ðŸ§‘â€âš–ï¸",le[Te(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",H,q=le[Te(t[0].id)].requirements.employees!=0,ie,re=le[Te(t[0].id)].revenue_per_week!=0,Ae,Fe=Object.values(le[Te(t[0].id)].active_costs).some(sf),Me,ze=Object.values(le[Te(t[0].id)].generated_resources).some(lf)||le[Te(t[0].id)].knowledge_points_per_month>0,ce;d=new Ct({props:{class:"bg-secondary opacity-25 mt-1 mb-1"}});let Ee=q&&xu(t),He=re&&Zu(t),Be=Fe&&Qu(t),Ue=ze&&tf(t);return{c(){e=P("div"),n=P("div"),o=P("span"),r=V(i),l=G(),a=P("span"),u=V(s),f=G(),c=P("div"),J(d.$$.fragment),m=G(),_=P("span"),_.textContent="Requirements",h=G(),v=P("div"),w=new dn(!1),C=G(),R=new dn(!1),E=G(),B=new dn(!1),D=G(),U=new dn(!1),g=G(),I=new dn(!1),W=G(),F=new dn(!1),ee=G(),Q=new dn(!1),te=G(),ne=new dn(!1),H=G(),Ee&&Ee.c(),ie=G(),He&&He.c(),Ae=G(),Be&&Be.c(),Me=G(),Ue&&Ue.c(),N(o,"class","text-md"),N(a,"class","text-xs"),N(n,"class","flex flex-col gap-2"),N(_,"class","font-semibold"),w.a=C,R.a=E,B.a=D,U.a=g,I.a=W,F.a=ee,Q.a=te,ne.a=H,N(v,"class","flex flex-col gap-1"),N(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),N(e,"class","p-2")},m(Ce,Se){M(Ce,e,Se),y(e,n),y(n,o),y(o,r),y(n,l),y(n,a),y(a,u),y(e,f),y(e,c),Y(d,c,null),y(c,m),y(c,_),y(c,h),y(c,v),w.m(S,v),y(v,C),R.m(L,v),y(v,E),B.m($,v),y(v,D),U.m(b,v),y(v,g),I.m(O,v),y(v,W),F.m(Z,v),y(v,ee),Q.m(K,v),y(v,te),ne.m(p,v),y(v,H),Ee&&Ee.m(v,null),y(e,ie),He&&He.m(e,null),y(e,Ae),Be&&Be.m(e,null),y(e,Me),Ue&&Ue.m(e,null),ce=!0},p(Ce,Se){(!ce||Se&1)&&i!==(i=le[Te(Ce[0].id)].title+"")&&ae(r,i),(!ce||Se&1)&&s!==(s=le[Te(Ce[0].id)].description+"")&&ae(u,s),(!ce||Se&5)&&S!==(S=Ce[3]("ðŸ’°",le[Te(Ce[0].id)].requirements.gold,Ce[2].townInfo.gold)+"")&&w.p(S),(!ce||Se&5)&&L!==(L=Ce[3]("ðŸ¥•",le[Te(Ce[0].id)].requirements.resources.food,Ce[2].resources.food)+"")&&R.p(L),(!ce||Se&5)&&$!==($=Ce[3]("ðŸ§ ",le[Te(Ce[0].id)].requirements.knowledge,Ce[2].townInfo.knowledge_points)+"")&&B.p($),(!ce||Se&5)&&b!==(b=Ce[3]("ðŸªµ",le[Te(Ce[0].id)].requirements.resources.wood,Ce[2].resources.wood)+"")&&U.p(b),(!ce||Se&5)&&O!==(O=Ce[3]("ðŸª¨",le[Te(Ce[0].id)].requirements.resources.stone,Ce[2].resources.stone)+"")&&I.p(O),(!ce||Se&5)&&Z!==(Z=Ce[3]("ðŸ§²",le[Te(Ce[0].id)].requirements.resources.metal,Ce[2].resources.metal)+"")&&F.p(Z),(!ce||Se&5)&&K!==(K=Ce[3]("ðŸ”‹",le[Te(Ce[0].id)].active_costs.power,Ce[2].resources.power)+"")&&Q.p(K),(!ce||Se&5)&&p!==(p=Ce[3]("ðŸ§‘â€âš–ï¸",le[Te(Ce[0].id)].requirements.resources.bureaucracy,Ce[2].resources.bureaucracy)+"")&&ne.p(p),Se&1&&(q=le[Te(Ce[0].id)].requirements.employees!=0),q?Ee?Ee.p(Ce,Se):(Ee=xu(Ce),Ee.c(),Ee.m(v,null)):Ee&&(Ee.d(1),Ee=null),Se&1&&(re=le[Te(Ce[0].id)].revenue_per_week!=0),re?He?(He.p(Ce,Se),Se&1&&k(He,1)):(He=Zu(Ce),He.c(),k(He,1),He.m(e,Ae)):He&&(Pe(),A(He,1,1,()=>{He=null}),Oe()),Se&1&&(Fe=Object.values(le[Te(Ce[0].id)].active_costs).some(sf)),Fe?Be?(Be.p(Ce,Se),Se&1&&k(Be,1)):(Be=Qu(Ce),Be.c(),k(Be,1),Be.m(e,Me)):Be&&(Pe(),A(Be,1,1,()=>{Be=null}),Oe()),Se&1&&(ze=Object.values(le[Te(Ce[0].id)].generated_resources).some(lf)||le[Te(Ce[0].id)].knowledge_points_per_month>0),ze?Ue?(Ue.p(Ce,Se),Se&1&&k(Ue,1)):(Ue=tf(Ce),Ue.c(),k(Ue,1),Ue.m(e,null)):Ue&&(Pe(),A(Ue,1,1,()=>{Ue=null}),Oe())},i(Ce){ce||(k(d.$$.fragment,Ce),k(He),k(Be),k(Ue),ce=!0)},o(Ce){A(d.$$.fragment,Ce),A(He),A(Be),A(Ue),ce=!1},d(Ce){Ce&&T(e),X(d),Ee&&Ee.d(),He&&He.d(),Be&&Be.d(),Ue&&Ue.d()}}}function xu(t){let e,n,o=le[Te(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=P("span"),n=V("ðŸ‘¥ "),i=V(o),r=V(" employees"),N(e,"class",l=le[Te(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")},m(a,s){M(a,e,s),y(e,n),y(e,i),y(e,r)},p(a,s){s&1&&o!==(o=le[Te(a[0].id)].requirements.employees+"")&&ae(i,o),s&7&&l!==(l=le[Te(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")&&N(e,"class",l)},d(a){a&&T(e)}}}function Zu(t){let e,n,o,i,r,l,a,s=le[Te(t[0].id)].revenue_per_week+"",u,f;return n=new Ct({props:{class:"bg-secondary opacity-25 mt-0"}}),{c(){e=P("div"),J(n.$$.fragment),o=G(),i=P("span"),i.textContent="Weekly revenue",r=G(),l=P("span"),a=V("ðŸ’° "),u=V(s),N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(c,d){M(c,e,d),Y(n,e,null),y(e,o),y(e,i),y(e,r),y(e,l),y(l,a),y(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=le[Te(c[0].id)].revenue_per_week+"")&&ae(u,s)},i(c){f||(k(n.$$.fragment,c),f=!0)},o(c){A(n.$$.fragment,c),f=!1},d(c){c&&T(e),X(n)}}}function Qu(t){let e,n,o,i,r,l;n=new Ct({props:{class:"bg-secondary opacity-25 mt-2"}});let a=Ke(Object.keys(le[Te(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=ef(Xu(t,a,u));return{c(){e=P("div"),J(n.$$.fragment),o=G(),i=P("span"),i.textContent="Weekly Costs",r=G();for(let u=0;u<s.length;u+=1)s[u].c();N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(u,f){M(u,e,f),Y(n,e,null),y(e,o),y(e,i),y(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ke(Object.keys(le[Te(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=Xu(u,a,c);s[c]?s[c].p(d,f):(s[c]=ef(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(k(n.$$.fragment,u),l=!0)},o(u){A(n.$$.fragment,u),l=!1},d(u){u&&T(e),X(n),_t(s,u)}}}function zu(t){let e,n=mo(t[4])+"",o,i,r=sr(t[4])+"",l,a,s=-1*Object.values(le[Te(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=P("span"),o=V(n),i=G(),l=V(r),a=G(),u=V(s),f=G(),N(e,"class",c=Object.values(le[Te(t[0].id)].active_costs)[t[6]]>0?"text-textDanger1":"text-textHappyDark")},m(d,m){M(d,e,m),y(e,o),y(e,i),y(e,l),y(e,a),y(e,u),y(e,f)},p(d,m){m&1&&n!==(n=mo(d[4])+"")&&ae(o,n),m&1&&r!==(r=sr(d[4])+"")&&ae(l,r),m&1&&s!==(s=-1*Object.values(le[Te(d[0].id)].active_costs)[d[6]]+"")&&ae(u,s),m&1&&c!==(c=Object.values(le[Te(d[0].id)].active_costs)[d[6]]>0?"text-textDanger1":"text-textHappyDark")&&N(e,"class",c)},d(d){d&&T(e)}}}function ef(t){let e=Object.values(le[Te(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&zu(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){r&1&&(e=Object.values(le[Te(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=zu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function tf(t){let e,n,o,i,r,l=le[Te(t[0].id)].knowledge_points_per_month>0,a,s;n=new Ct({props:{class:"bg-secondary opacity-25 mt-2"}});let u=l&&nf(t),f=Ke(Object.keys(le[Te(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=rf(Yu(t,f,d));return{c(){e=P("div"),J(n.$$.fragment),o=G(),i=P("span"),i.textContent="Generated Resources",r=G(),u&&u.c(),a=G();for(let d=0;d<c.length;d+=1)c[d].c();N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(d,m){M(d,e,m),Y(n,e,null),y(e,o),y(e,i),y(e,r),u&&u.m(e,null),y(e,a);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(e,null);s=!0},p(d,m){if(m&1&&(l=le[Te(d[0].id)].knowledge_points_per_month>0),l?u?u.p(d,m):(u=nf(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),m&1){f=Ke(Object.keys(le[Te(d[0].id)].generated_resources));let _;for(_=0;_<f.length;_+=1){const h=Yu(d,f,_);c[_]?c[_].p(h,m):(c[_]=rf(h),c[_].c(),c[_].m(e,null))}for(;_<c.length;_+=1)c[_].d(1);c.length=f.length}},i(d){s||(k(n.$$.fragment,d),s=!0)},o(d){A(n.$$.fragment,d),s=!1},d(d){d&&T(e),X(n),u&&u.d(),_t(c,d)}}}function nf(t){let e,n,o=Math.round(le[Te(t[0].id)].knowledge_points_per_month)+"",i,r;return{c(){e=P("span"),n=V("ðŸ§  "),i=V(o),r=V(" (monthly)")},m(l,a){M(l,e,a),y(e,n),y(e,i),y(e,r)},p(l,a){a&1&&o!==(o=Math.round(le[Te(l[0].id)].knowledge_points_per_month)+"")&&ae(i,o)},d(l){l&&T(e)}}}function of(t){let e,n=sr(t[4])+"",o,i,r=mo(t[4])+"",l,a,s=Ss(Object.values(le[Te(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=P("span"),o=V(n),i=G(),l=V(r),a=G(),u=V(s),f=G(),N(e,"class",c=Object.values(le[Te(t[0].id)].generated_resources)[t[6]]>0?"text-textHappyDark":"text-textDanger1")},m(d,m){M(d,e,m),y(e,o),y(e,i),y(e,l),y(e,a),y(e,u),y(e,f)},p(d,m){m&1&&n!==(n=sr(d[4])+"")&&ae(o,n),m&1&&r!==(r=mo(d[4])+"")&&ae(l,r),m&1&&s!==(s=Ss(Object.values(le[Te(d[0].id)].generated_resources)[d[6]],!1)+"")&&ae(u,s),m&1&&c!==(c=Object.values(le[Te(d[0].id)].generated_resources)[d[6]]>0?"text-textHappyDark":"text-textDanger1")&&N(e,"class",c)},d(d){d&&T(e)}}}function rf(t){let e=Object.values(le[Te(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&of(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){r&1&&(e=Object.values(le[Te(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=of(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function z3(t){let e,n,o=t[0]!=null&&Ju(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&k(o,1)):(o=Ju(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Pe(),A(o,1,1,()=>{o=null}),Oe())},i(i){n||(k(o),n=!0)},o(i){A(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function sr(t){switch(t){case"food":return"ðŸ¥•";case"knowledge":return"ðŸ§ ";case"wood":return"ðŸªµ";case"stone":return"ðŸª¨";case"metal":return"ðŸ§²";case"power":return"ðŸ”‹";case"bureaucracy":return"ðŸ§‘â€âš–ï¸";default:return"ðŸ’°"}}const lf=t=>t!=0,sf=t=>t!=0;function e4(t,e,n){let o;fe(t,Le,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger1 border-2 border-red-400"),f=`<span class='${c}'>${a} ${s}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class Md extends ye{constructor(e){super(),ve(this,e,e4,z3,de,{option:0,checkRequirements:1})}}function af(t,e,n){const o=t.slice();return o[25]=e[n],o}function uf(t,e,n){const o=t.slice();return o[28]=e[n],o}function ff(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,_,h=t[5].plots[t[0]][t[1]].type!==-1&&t[12](t[0],t[1]),v,w,S,C,R,L,E={type:"text",autofocus:!0,id:"search-bar",placeholder:"Search Plot Options...",value:t[3],class:"border rounded w-auto bg-white placeholder-black text-black text-xs"};a=new jl({props:E}),t[16](a),a.$on("input",t[10]);let B=h&&cf(t),$=Ke(t[6].isMineralSource||t[3].length>0?[1]:[1,2,3,4]),D=[];for(let b=0;b<$.length;b+=1)D[b]=vf(af(t,$,b));const U=b=>A(D[b],1,1,()=>{D[b]=null});return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("div"),r=P("div"),l=P("div"),J(a.$$.fragment),s=G(),u=P("div"),f=P("input"),c=G(),d=P("label"),d.textContent="Buildable",m=G(),_=P("div"),B&&B.c(),v=G(),w=P("div");for(let b=0;b<D.length;b+=1)D[b].c();N(l,"class","flex items-end "),N(f,"type","checkbox"),N(f,"id","toggle-affordable"),N(f,"class","rounded"),f.checked=t[7],N(d,"for","toggle-affordable"),N(d,"class","ml-2 no-select cursor-pointer "),N(u,"class","flex items-center ml-4"),N(_,"class","flex justify-end ml-6"),N(r,"class","flex flex-row w-full "),N(i,"class","text-sm"),N(w,"class",S="flex flex-col "+(t[6].isMineralSource||t[3].length>0?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"),N(o,"class","flex flex-col gap-2 px-2 no-scrollbar justify-end"),N(n,"class","text-xl items-center justify-center w-[90%] align-bottom bg-foreground border-4 border-gray-400 shadow-2xl rounded-t-xl py-2 "),N(e,"class","w-[100vw] fixed bottom-0 h-["+t[9]+"] p-1 z-50 flex flex-col justify-center text-center items-center")},m(b,g){M(b,e,g),y(e,n),y(n,o),y(o,i),y(i,r),y(r,l),Y(a,l,null),y(r,s),y(r,u),y(u,f),y(u,c),y(u,d),y(r,m),y(r,_),B&&B.m(_,null),y(o,v),y(o,w);for(let I=0;I<D.length;I+=1)D[I]&&D[I].m(w,null);C=!0,R||(L=[z(f,"change",t[17]),z(o,"click",t[11])],R=!0)},p(b,g){const I={};if(g[0]&8&&(I.value=b[3]),a.$set(I),(!C||g[0]&128)&&(f.checked=b[7]),g[0]&35&&(h=b[5].plots[b[0]][b[1]].type!==-1&&b[12](b[0],b[1])),h?B?B.p(b,g):(B=cf(b),B.c(),B.m(_,null)):B&&(B.d(1),B=null),g[0]&120){$=Ke(b[6].isMineralSource||b[3].length>0?[1]:[1,2,3,4]);let O;for(O=0;O<$.length;O+=1){const W=af(b,$,O);D[O]?(D[O].p(W,g),k(D[O],1)):(D[O]=vf(W),D[O].c(),k(D[O],1),D[O].m(w,null))}for(Pe(),O=$.length;O<D.length;O+=1)U(O);Oe()}(!C||g[0]&72&&S!==(S="flex flex-col "+(b[6].isMineralSource||b[3].length>0?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"))&&N(w,"class",S)},i(b){if(!C){k(a.$$.fragment,b);for(let g=0;g<$.length;g+=1)k(D[g]);C=!0}},o(b){A(a.$$.fragment,b),D=D.filter(Boolean);for(let g=0;g<D.length;g+=1)A(D[g]);C=!1},d(b){b&&T(e),t[16](null),X(a),B&&B.d(),_t(D,b),R=!1,qe(L)}}}function cf(t){let e,n,o;return{c(){e=P("button"),e.textContent="âŒ Bulldoze",N(e,"id","bulldoze"),N(e,"class","px-2 py-2 bg-red-500 rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(i,r){M(i,e,r),n||(o=z(e,"click",t[13]),n=!0)},p:ke,d(i){i&&T(e),n=!1,o()}}}function df(t){let e,n,o=t[25]+"",i;return{c(){e=P("div"),n=V("Level "),i=V(o),N(e,"class","text-sm font-extralight pb-3")},m(r,l){M(r,e,l),y(e,n),y(e,i)},p(r,l){l[0]&72&&o!==(o=r[25]+"")&&ae(i,o)},d(r){r&&T(e)}}}function mf(t){let e,n,o=t[28].active_costs.power+"",i;return{c(){e=P("span"),n=V("ðŸ”‹"),i=V(o),N(e,"class","bg-yellow-300 text-xs text-black tex px-1 py-0.5 rounded-2xl absolute top-[-5px] right-[-2px]")},m(r,l){M(r,e,l),y(e,n),y(e,i)},p(r,l){l[0]&88&&o!==(o=r[28].active_costs.power+"")&&ae(i,o)},d(r){r&&T(e)}}}function pf(t){let e,n,o=Ze(t[28].id,t[5]).length+"",i;return{c(){e=P("span"),n=V("x"),i=V(o),N(e,"class","bg-black text-xs text-white tex px-1 py-0.5 rounded-2xl absolute top-[-5px] left-[-2px]")},m(r,l){M(r,e,l),y(e,n),y(e,i)},p(r,l){l[0]&120&&o!==(o=Ze(r[28].id,r[5]).length+"")&&ae(i,o)},d(r){r&&T(e)}}}function _f(t){let e,n,o=gn(t[28].revenue_per_week,!1)+"",i,r;return{c(){e=P("br"),n=V(`
                            Makes ðŸ’° `),i=V(o),r=V("/week")},m(l,a){M(l,e,a),M(l,n,a),M(l,i,a),M(l,r,a)},p(l,a){a[0]&88&&o!==(o=gn(l[28].revenue_per_week,!1)+"")&&ae(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function hf(t){let e,n,o=gn(t[28].requirements.employees,!1)+"",i;return{c(){e=P("br"),n=V(`
                            Employs `),i=V(o)},m(r,l){M(r,e,l),M(r,n,l),M(r,i,l)},p(r,l){l[0]&88&&o!==(o=gn(r[28].requirements.employees,!1)+"")&&ae(i,o)},d(r){r&&(T(e),T(n),T(i))}}}function t4(t){let e,n,o,i=(t[28].selected?"âœ…":As(t[28].title))+"",r,l,a,s=t[28].title.substring(2)+"",u,f,c,d=Ze(t[28].id,t[5]).length>0,m,_,h,v=gn(t[28].requirements.gold,!1)+"",w,S,C,R,L,E,B=t[28].active_costs.power>0&&mf(t),$=d&&pf(t),D=t[28].revenue_per_week>0&&_f(t),U=t[28].requirements.employees>0&&hf(t);return{c(){e=P("div"),n=P("div"),o=P("span"),r=V(i),l=G(),a=P("span"),u=V(s),f=G(),B&&B.c(),c=G(),$&&$.c(),m=G(),_=P("span"),h=V("Costs ðŸ’° "),w=V(v),S=G(),D&&D.c(),C=G(),U&&U.c(),N(o,"class","text-md text-center"),N(a,"class","text-xs text-center font-bold mx-1"),N(n,"class","pt-2"),N(_,"style",R=t[28].styling),N(_,"class","text-xs text-center pt-4"),N(e,"class",L="plotOption cursor-pointer min-w-40 "+(t[6].isMineralSource||t[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(t[28].affordable||t[28].selected?"cursor-pointer":"opacity-25 cursor-not-allowed ")+" "+(t[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":"")),N(e,"data-plotoptionid",E=t[28].id),Je(e,"background-color",qi(Te(t[28].id),!0))},m(b,g){M(b,e,g),y(e,n),y(n,o),y(o,r),y(n,l),y(n,a),y(a,u),y(e,f),B&&B.m(e,null),y(e,c),$&&$.m(e,null),y(e,m),y(e,_),y(_,h),y(_,w),y(_,S),D&&D.m(_,null),y(_,C),U&&U.m(_,null)},p(b,g){g[0]&88&&i!==(i=(b[28].selected?"âœ…":As(b[28].title))+"")&&ae(r,i),g[0]&88&&s!==(s=b[28].title.substring(2)+"")&&ae(u,s),b[28].active_costs.power>0?B?B.p(b,g):(B=mf(b),B.c(),B.m(e,c)):B&&(B.d(1),B=null),g[0]&120&&(d=Ze(b[28].id,b[5]).length>0),d?$?$.p(b,g):($=pf(b),$.c(),$.m(e,m)):$&&($.d(1),$=null),g[0]&88&&v!==(v=gn(b[28].requirements.gold,!1)+"")&&ae(w,v),b[28].revenue_per_week>0?D?D.p(b,g):(D=_f(b),D.c(),D.m(_,C)):D&&(D.d(1),D=null),b[28].requirements.employees>0?U?U.p(b,g):(U=hf(b),U.c(),U.m(_,null)):U&&(U.d(1),U=null),g[0]&88&&R!==(R=b[28].styling)&&N(_,"style",R),g[0]&88&&L!==(L="plotOption cursor-pointer min-w-40 "+(b[6].isMineralSource||b[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(b[28].affordable||b[28].selected?"cursor-pointer":"opacity-25 cursor-not-allowed ")+" "+(b[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":""))&&N(e,"class",L),g[0]&88&&E!==(E=b[28].id)&&N(e,"data-plotoptionid",E),g[0]&88&&Je(e,"background-color",qi(Te(b[28].id),!0))},d(b){b&&T(e),B&&B.d(),$&&$.d(),D&&D.d(),U&&U.d()}}}function n4(t){let e,n;return e=new Md({props:{option:t[28]}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i[0]&88&&(r.option=o[28]),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function o4(t){let e,n,o,i;return e=new Mo({props:{$$slots:{default:[t4]},$$scope:{ctx:t}}}),o=new So({props:{$$slots:{default:[n4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l[0]&120|l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&88|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function gf(t,e){let n,o,i;return o=new To({props:{openDelay:400,closeDelay:0,$$slots:{default:[o4]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=De(),J(o.$$.fragment),this.first=n},m(r,l){M(r,n,l),Y(o,r,l),i=!0},p(r,l){e=r;const a={};l[0]&120|l[1]&1&&(a.$$scope={dirty:l,ctx:e}),o.$set(a)},i(r){i||(k(o.$$.fragment,r),i=!0)},o(r){A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(o,r)}}}function bf(t){let e;return{c(){e=P("span"),e.textContent="No plots available!",N(e,"class","text-sm pt-2")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function vf(t){let e,n,o,i=[],r=new Map,l,a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource,s,u,f;function c(...w){return t[15](t[25],...w)}let d=t[3].length==0&&!t[6].isMineralSource&&df(t);function m(...w){return t[18](t[25],...w)}let _=Ke(t[3].length==0&&!t[6].isMineralSource?t[4].filter(m):t[4]);const h=w=>w[28].id;for(let w=0;w<_.length;w+=1){let S=uf(t,_,w),C=h(S);r.set(C,i[w]=gf(C,S))}let v=a&&bf();return{c(){e=P("div"),d&&d.c(),n=G(),o=P("div");for(let w=0;w<i.length;w+=1)i[w].c();l=G(),v&&v.c(),u=G(),N(o,"class",s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle")},m(w,S){M(w,e,S),d&&d.m(e,null),y(e,n),y(e,o);for(let C=0;C<i.length;C+=1)i[C]&&i[C].m(o,null);y(o,l),v&&v.m(o,null),y(e,u),f=!0},p(w,S){t=w,t[3].length==0&&!t[6].isMineralSource?d?d.p(t,S):(d=df(t),d.c(),d.m(e,n)):d&&(d.d(1),d=null),S[0]&120&&(_=Ke(t[3].length==0&&!t[6].isMineralSource?t[4].filter(m):t[4]),Pe(),i=Zd(i,S,h,1,t,_,r,o,xd,gf,l,uf),Oe()),S[0]&88&&(a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource),a?v||(v=bf(),v.c(),v.m(o,null)):v&&(v.d(1),v=null),(!f||S[0]&72&&s!==(s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle"))&&N(o,"class",s)},i(w){if(!f){for(let S=0;S<_.length;S+=1)k(i[S]);f=!0}},o(w){for(let S=0;S<i.length;S+=1)A(i[S]);f=!1},d(w){w&&T(e),d&&d.d();for(let S=0;S<i.length;S+=1)i[S].d();v&&v.d()}}}function i4(t){let e,n,o=t[2]&&ff(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,r){i[2]?o?(o.p(i,r),r[0]&4&&k(o,1)):(o=ff(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Pe(),A(o,1,1,()=>{o=null}),Oe())},i(i){n||(k(o),n=!0)},o(i){A(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function r4(t,e,n){let o,i,r;fe(t,Le,b=>n(5,o=b)),fe(t,Qe,b=>n(6,i=b)),fe(t,oc,b=>n(7,r=b));let{x:l=0}=e,{y:a=0}=e,{open:s=!1}=e,{tooltip:u=""}=e,f="",c=le,d;const m=Math.round(window.innerHeight*.2)+"px";let _=c.map(b=>Object.assign(Object.assign({},b),{affordable:w(b,o),selected:v(b)}));function h(b){n(3,f=b.target.value||"")}function v(b){return o.plots[l][a].type>-1?c[o.plots[l][a].type].id===b.id:!1}function w(b,g){let I=!0;b.requirements.gold>g.townInfo.gold&&(I=!1);let O=g.townInfo.population_count-g.townInfo.employees;return b.requirements.employees!==void 0&&b.requirements.employees>0&&b.requirements.employees>O&&(I=!1),b.requirements.knowledge!==void 0&&b.requirements.knowledge>g.townInfo.knowledge_points&&(I=!1),b.requirements.resources!==void 0&&Object.keys(b.requirements.resources).forEach(W=>{o.resources[W]<b.requirements.resources[W]&&(I=!1)}),I}function S(b){const g=b.target.closest(".plotOption");if(g){const I=g.dataset.plotoptionid;C(I)}}function C(b){document.querySelectorAll(".plotOption").forEach(O=>{O.classList.remove("active")});const I=document.querySelector(`[data-plotoptionid="${b}"]`);I&&(I.classList.add("active"),L(l,a,b))}function R(b,g){if(i.isMineralSource)return!1;let I=0;return b>0&&o.plots[b-1][g].type!==-1&&I++,b<o.plots.length-1&&o.plots[b+1][g].type!==-1&&I++,g>0&&o.plots[b][g-1].type!==-1&&I++,g<o.plots[0].length-1&&o.plots[b][g+1].type!==-1&&I++,I<=4}function L(b,g,I){let O=o;const W=le.findIndex(Q=>Q.id===I);let F=le[W];if(w(F,o)==!1)return alert(`${JSON.stringify(F.requirements)}`);if(F.requirements.adjacent_plots!==void 0){let Q=F.requirements.adjacent_plots;if(Um(b,g,O,F.requirements.adjacent_plots)===!1)return alert(`This plot requires adjacent plots of type: ${Q.join(", ")}`)}let Z=!0;if((F.requirements.gold>O.townInfo.gold||F.requirements.employees>O.townInfo.population_count-O.townInfo.employees)&&(Z=!1),F.requirements.size!=null&&F.requirements.size!=1&&Z){let ne=function(p,H){let q={x:p,y:H};return q.x===0&&q.y===0?!0:[{x:q.x-1,y:q.y},{x:q.x+1,y:q.y},{x:q.x,y:q.y-1},{x:q.x,y:q.y+1}].some(re=>re.x<0||re.x>o.plots.length-1||re.y<0||re.y>o.plots.length-1?!1:o.plots[re.x][re.y].active)};var ee=ne;let Q=F.requirements.size,K=[],te=c[W].title.toLowerCase().indexOf("school")!=-1;for(let p=0;p<4;p++){let H=[[b,g]];p===0?(H.push([b-(Q-1),g-(Q-1)]),H.push([b-(Q-1),g]),H.push([b,g-(Q-1)])):p===1?(H.push([b,g-(Q-1)]),H.push([b+(Q-1),g-(Q-1)]),H.push([b+(Q-1),g])):p===2?(H.push([b-(Q-1),g]),H.push([b-(Q-1),g+(Q-1)]),H.push([b,g+(Q-1)])):p===3&&(H.push([b,g+(Q-1)]),H.push([b+(Q-1),g+(Q-1)]),H.push([b+(Q-1),g])),K.push(H)}K=K.filter(p=>p.every(H=>H[0]>=0&&H[0]<=O.plots.length-1&&H[1]>=0&&H[1]<=O.plots.length-1&&!O.plots[H[0]][H[1]].active&&ne(H[0],H[1])==!0)),K.length===0?Z=!1:K.length>0&&K[0].forEach(H=>{O.plots[H[0]][H[1]].active=!0,O.plots[H[0]][H[1]].type=te?-3:-2,O.plots[H[0]][H[1]].referencePlot=[b,g]})}if(Z===!0){if(O.plots[b][g].type!==-1&&ji(b,g,O),n(14,u=""),O.plots[b][g].type=W,O.plots[b][g].active=!0,O.plots[b][g].referencePlot=[],O.plots[b][g].typeId=F.id,O.townInfo.gold-=F.requirements.gold,O.townInfo.gold=it(O.townInfo.gold,2),O.townInfo.population_count+=F.immediate_variable_changes.population,O.townInfo.population_max+=F.immediate_variable_changes.population,O.townInfo.happiness+=F.immediate_variable_changes.happiness,O.townInfo.health+=F.immediate_variable_changes.health,O.modifiers.happiness=it(O.modifiers.happiness*F.effect_modifiers.happiness,2),O.modifiers.health=it(O.modifiers.health*F.effect_modifiers.health,2),O.modifiers.community=it(O.modifiers.community*F.effect_modifiers.community,2),O.townInfo.employees+=F.requirements.employees,(O.plotCounts[W]===void 0||O.plotCounts[W]===null)&&(O.plotCounts[W]=0),O.plotCounts[W]++,O.lastChangeDay=O.environment.day,F.requirements.resources!==void 0){const K=F.requirements.resources;O.resources.food-=K.food,O.resources.wood-=K.wood,O.resources.stone-=K.stone,O.resources.metal-=K.metal}switch(F.id){case"city_hall":O.hasCityHall=!0;break;case"bank":O.hasBank=!0;break}Le.set(O),localStorage.setItem(jt,JSON.stringify(O));let Q=!1;for(let K=b;K<O.plots.length;K++){for(let te=g;te<O.plots[K].length;te++)if(O.plots[K][te].active===!1&&O.plots[K][te].mineralSource==!1&&O.plots[K][te].water==!1){b=K,g=te,Q=!0;break}if(Q)break}Ne(Qe,i.x=b,i),Ne(Qe,i.y=g,i)}else n(14,u="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(K=>{K.classList.remove("active")})}function E(){document.querySelectorAll(".plotOption").forEach(g=>{g.classList.remove("active")}),ji(l,a,o)}const B=(b,g)=>g.level===b;function $(b){Ie[b?"unshift":"push"](()=>{d=b,n(8,d)})}const D=()=>{am()},U=(b,g)=>g.level===b;return t.$$set=b=>{"x"in b&&n(0,l=b.x),"y"in b&&n(1,a=b.y),"open"in b&&n(2,s=b.open),"tooltip"in b&&n(14,u=b.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&240&&o&&(n(4,_=c.map(b=>Object.assign(Object.assign({},b),{affordable:w(b,o),selected:v(b)}))),i.isMineralSource&&n(4,_=_.filter(b=>b.id==="mine")),r&&n(4,_=_.filter(b=>b.affordable)),Object.keys(vs).forEach(b=>{let g=vs[b];if(g>0){let I=Ze(b,o).length;n(4,_=_.filter(O=>O.id!==b||I<g))}}),_.sort((b,g)=>b.selected&&!g.selected?-1:0)),t.$$.dirty[0]&24&&n(4,_=_.filter(b=>b.title.toLowerCase().includes(f.toLowerCase())))},[l,a,s,f,_,o,i,r,d,m,h,S,R,E,u,B,$,D,U]}class Id extends ye{constructor(e){super(),ve(this,e,r4,i4,de,{x:0,y:1,open:2,tooltip:14},null,[-1,-1])}}function l4(t){return{c:ke,m:ke,p:ke,d:ke}}function s4(t){let e,n,o,i=le[t[0].type].title.substring(0,2)+"",r,l,a,s,u,f=le[t[0].type].title.substring(2)+"",c,d,m,_;return{c(){e=P("div"),n=P("span"),o=P("span"),r=V(i),l=G(),a=P("br"),s=G(),u=P("span"),c=V(f),N(o,"class","text-lg align-text-top select-none"),N(u,"class","text-xs align-text-top font-normal text-black from-stone-600 select-none"),N(n,"data-size",d=le[t[0].type].requirements.size),N(n,"data-x",m=t[0].x),N(n,"data-y",_=t[0].y),N(e,"class","svelte-9dbw4v")},m(h,v){M(h,e,v),y(e,n),y(n,o),y(o,r),y(n,l),y(n,a),y(n,s),y(n,u),y(u,c)},p(h,v){v&1&&i!==(i=le[h[0].type].title.substring(0,2)+"")&&ae(r,i),v&1&&f!==(f=le[h[0].type].title.substring(2)+"")&&ae(c,f),v&1&&d!==(d=le[h[0].type].requirements.size)&&N(n,"data-size",d),v&1&&m!==(m=h[0].x)&&N(n,"data-x",m),v&1&&_!==(_=h[0].y)&&N(n,"data-y",_)},d(h){h&&T(e)}}}function yf(t){let e;return{c(){e=P("span"),e.textContent="ðŸ§²",N(e,"class","text-lg")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function a4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,_,h,v,w,S,C;function R($,D){if($[0].type>-1)return s4;if($[0].type==-1&&$[0].x==0&&$[0].y==0)return l4}let L=R(t),E=L&&L(t),B=t[0].mineralSource&&t[0].type==-1&&yf();return{c(){e=P("button"),E&&E.c(),n=G(),B&&B.c(),N(e,"class",o="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v"),Je(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":qi(t[0].type,t[2])),N(e,"data-active",i=t[0].active),N(e,"data-hidehoveranimation",r=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),N(e,"data-id",l=t[0].id),N(e,"data-x",a=t[0].x),N(e,"data-y",s=t[0].y),N(e,"data-optionindex",u=t[0].optionIndex),N(e,"data-canbeupgraded",t[2]),N(e,"data-type",f=t[0].type),N(e,"data-type-id",c=t[0].typeId),N(e,"data-refplotx",d=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),N(e,"data-refploty",m=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),N(e,"data-size",_=t[0].type>-1?le[t[0].type].requirements.size:null),N(e,"data-mineralsource",h=t[0].mineralSource),N(e,"data-water",v=t[0].water),N(e,"data-nearwater",w=Ln(t[0].x,t[0].y,t[5]))},m($,D){M($,e,D),E&&E.m(e,null),y(e,n),B&&B.m(e,null),S||(C=z(e,"click",t[6]),S=!0)},p($,D){L===(L=R($))&&E?E.p($,D):(E&&E.d(1),E=L&&L($),E&&(E.c(),E.m(e,n))),$[0].mineralSource&&$[0].type==-1?B||(B=yf(),B.c(),B.m(e,null)):B&&(B.d(1),B=null),D&7&&o!==(o="plot_container "+$[1]+" overflow-visible "+($[0].type==-1&&$[2]==!1,"")+" "+($[0].mineralSource?"hidden":"")+" "+($[2]?"cursor-pointer":"cursor-not-allowed")+" "+($[0].disabled?"animate-spin":"")+" svelte-9dbw4v")&&N(e,"class",o),D&21&&Je(e,"background-color",$[0].water?"bg-blue-900 opacity-100":$[4].x==$[0].x&&$[4].y==$[0].y&&$[4].visible?"white":$[0].mineralSource?"black":qi($[0].type,$[2])),D&1&&i!==(i=$[0].active)&&N(e,"data-active",i),D&17&&r!==(r=$[4].visible||$[0].type==-1&&$[0].x==0&&$[0].y==0)&&N(e,"data-hidehoveranimation",r),D&1&&l!==(l=$[0].id)&&N(e,"data-id",l),D&1&&a!==(a=$[0].x)&&N(e,"data-x",a),D&1&&s!==(s=$[0].y)&&N(e,"data-y",s),D&1&&u!==(u=$[0].optionIndex)&&N(e,"data-optionindex",u),D&4&&N(e,"data-canbeupgraded",$[2]),D&1&&f!==(f=$[0].type)&&N(e,"data-type",f),D&1&&c!==(c=$[0].typeId)&&N(e,"data-type-id",c),D&1&&d!==(d=$[0].referencePlot!==void 0?$[0].referencePlot[1]:null)&&N(e,"data-refplotx",d),D&1&&m!==(m=$[0].referencePlot!==void 0?$[0].referencePlot[0]:null)&&N(e,"data-refploty",m),D&1&&_!==(_=$[0].type>-1?le[$[0].type].requirements.size:null)&&N(e,"data-size",_),D&1&&h!==(h=$[0].mineralSource)&&N(e,"data-mineralsource",h),D&1&&v!==(v=$[0].water)&&N(e,"data-water",v),D&33&&w!==(w=Ln($[0].x,$[0].y,$[5]))&&N(e,"data-nearwater",w)},d($){$&&T(e),E&&E.d(),B&&B.d(),S=!1,C()}}}function wf(t){let e;return{c(){e=V("Water - Place farms nearby for more food & revenue!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function kf(t){let e;return{c(){e=P("span"),e.textContent="Near water - Generating more food & revenue!",N(e,"class","text-xs bg-blue-500 text-white p-1")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Cf(t){let e,n;return e=new Md({props:{option:t[3],checkRequirements:!1}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&8&&(r.option=o[3]),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function u4(t){let e,n,o=Ln(t[0].x,t[0].y,t[5]),i,r,l=t[0].water&&wf(),a=o&&kf(),s=t[0].active&&Cf(t);return{c(){e=P("div"),l&&l.c(),n=G(),a&&a.c(),i=G(),s&&s.c(),N(e,"class","flex flex-col gap-2")},m(u,f){M(u,e,f),l&&l.m(e,null),y(e,n),a&&a.m(e,null),y(e,i),s&&s.m(e,null),r=!0},p(u,f){u[0].water?l||(l=wf(),l.c(),l.m(e,n)):l&&(l.d(1),l=null),f&33&&(o=Ln(u[0].x,u[0].y,u[5])),o?a||(a=kf(),a.c(),a.m(e,i)):a&&(a.d(1),a=null),u[0].active?s?(s.p(u,f),f&1&&k(s,1)):(s=Cf(u),s.c(),k(s,1),s.m(e,null)):s&&(Pe(),A(s,1,1,()=>{s=null}),Oe())},i(u){r||(k(s),r=!0)},o(u){A(s),r=!1},d(u){u&&T(e),l&&l.d(),a&&a.d(),s&&s.d()}}}function f4(t){let e,n,o,i;return e=new Mo({props:{$$slots:{default:[a4]},$$scope:{ctx:t}}}),o=new So({props:{class:t[0].type<0&&!t[0].water?"hidden":"",$$slots:{default:[u4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&1079&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class=r[0].type<0&&!r[0].water?"hidden":""),l&1065&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function c4(t){let e,n;return e=new To({props:{openDelay:400,closeDelay:0,$$slots:{default:[f4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,[i]){const r={};i&1087&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function d4(t,e,n){let o,i,r,l;fe(t,Qe,m=>n(4,o=m)),fe(t,Le,m=>n(5,i=m)),fe(t,Nt,m=>n(8,r=m)),fe(t,co,m=>n(9,l=m));let{data:a={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,s,{classText:u=""}=e,{canBeUpgraded:f=!1}=e;function c(m,_,h){let v=document.querySelectorAll(".plot_container");if(r==!1){if(a.referencePlot!=null&&a.referencePlot[0]!==null&&_==null&&h==null&&a.referencePlot[1]!==void 0)return c(m,a.referencePlot[0],a.referencePlot[1]);!a.active&&!f?(Ne(co,l={},l),Ne(Qe,o.visible=!1,o),v.forEach(w=>{w.classList.remove("selected")})):(_!=null&&h!=null?(Ne(Qe,o.x=_,o),Ne(Qe,o.y=h,o)):(Ne(Qe,o.x=a.x,o),Ne(Qe,o.y=a.y,o)),Ne(Qe,o.isMineralSource=a.mineralSource,o),Ne(Qe,o.visible=!0,o),v.forEach(w=>{w.classList.remove("selected")}),_!=null&&h!=null?document.querySelector(`.plot_container[data-x="${_}"][data-y="${h}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${a.id}"]`).classList.add("selected"))}}function d(m){r==!1&&(Ne(Le,i.plots[a.x][a.y].type=m,i),Ne(Qe,o.visible=!1,o))}return t.$$set=m=>{"data"in m&&n(0,a=m.data),"classText"in m&&n(1,u=m.classText),"canBeUpgraded"in m&&n(2,f=m.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1&&a.type>-1&&n(3,s=le[a.type])},[a,u,f,s,o,i,c,d]}class m4 extends ye{constructor(e){super(),ve(this,e,d4,c4,de,{data:0,classText:1,canBeUpgraded:2,changePlotType:7})}get changePlotType(){return this.$$.ctx[7]}}function Af(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function Sf(t,e,n){const o=t.slice();return o[9]=e[n],o}function Tf(t){let e,n,o,i=t[3],r,l,a=Ke(t[2].plots),s=[];for(let c=0;c<a.length;c+=1)s[c]=If(Af(t,a,c));const u=c=>A(s[c],1,1,()=>{s[c]=null});let f=Of(t);return{c(){e=P("div"),n=P("div");for(let c=0;c<s.length;c+=1)s[c].c();o=G(),f.c(),r=De(),N(n,"class","grid overflow-x-scroll overflow-y-scroll plot_controller svelte-12aovn0"),N(e,"id","plotContainerMain"),N(e,"class","absolute left-[170px] top-[170px] overflow-scroll pl-32 pt-32 pb-80 pr-80")},m(c,d){M(c,e,d),y(e,n);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(n,null);M(c,o,d),f.m(c,d),M(c,r,d),l=!0},p(c,d){if(d&7){a=Ke(c[2].plots);let m;for(m=0;m<a.length;m+=1){const _=Af(c,a,m);s[m]?(s[m].p(_,d),k(s[m],1)):(s[m]=If(_),s[m].c(),k(s[m],1),s[m].m(n,null))}for(Pe(),m=a.length;m<s.length;m+=1)u(m);Oe()}d&8&&de(i,i=c[3])?(Pe(),A(f,1,1,ke),Oe(),f=Of(c),f.c(),k(f,1),f.m(r.parentNode,r)):f.p(c,d)},i(c){if(!l){for(let d=0;d<a.length;d+=1)k(s[d]);k(f),l=!0}},o(c){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)A(s[d]);A(f),l=!1},d(c){c&&(T(e),T(o),T(r)),_t(s,c),f.d(c)}}}function Mf(t){let e,n;return e=new m4({props:{classText:"hexagon",data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&4&&(r.data=o[9]),i&4&&(r.canBeUpgraded=o[0](o[9].x,o[9].y)),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function If(t){let e,n,o,i,r,l=Ke(t[6]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Mf(Sf(t,l,u));const s=u=>A(a[u],1,1,()=>{a[u]=null});return{c(){e=P("div");for(let u=0;u<a.length;u+=1)a[u].c();n=G(),N(e,"class","row "+(t[8]%2!==0?"odd-row":"")+" svelte-12aovn0")},m(u,f){M(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);y(e,n),o=!0,i||(r=z(e,"click",t[1]),i=!0)},p(u,f){if(f&5){l=Ke(u[6]);let c;for(c=0;c<l.length;c+=1){const d=Sf(u,l,c);a[c]?(a[c].p(d,f),k(a[c],1)):(a[c]=Mf(d),a[c].c(),k(a[c],1),a[c].m(e,n))}for(Pe(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)k(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)A(a[f]);o=!1},d(u){u&&T(e),_t(a,u),i=!1,r()}}}function Pf(t){let e,n;return e=new Id({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.x=o[4].x),i&16&&(r.y=o[4].y),i&16&&(r.open=o[4].visible),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Of(t){let e,n,o=t[4].visible&&Pf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,r){i[4].visible?o?(o.p(i,r),r&16&&k(o,1)):(o=Pf(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Pe(),A(o,1,1,()=>{o=null}),Oe())},i(i){n||(k(o),n=!0)},o(i){A(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function p4(t){let e,n,o=t[2]!=null&&Tf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[2]!=null?o?(o.p(i,r),r&4&&k(o,1)):(o=Tf(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Pe(),A(o,1,1,()=>{o=null}),Oe())},i(i){n||(k(o),n=!0)},o(i){A(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function _4(t,e,n){let o,i,r;fe(t,co,u=>n(3,o=u)),fe(t,Le,u=>n(2,i=u)),fe(t,Qe,u=>n(4,r=u)),document.addEventListener("click",function(u){const f=u.target;(f.dataset.x==null&&f.dataset.type!="-1"&&f.dataset.size!=null||f.id=="plotContainerMain"||f.classList.contains("row")||f.classList.contains("grid"))&&Ne(Qe,r.visible=!1,r)});function l(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(m=>m.x<0||m.x>=i.plots.length||m.y<0||m.y>=i.plots[m.x].length?!1:i.plots[m.x][m.y].active)}function a(){let u=[];for(let f=0;f<i.plots.length;f++)for(let c=0;c<i.plots.length;c++)l(f,c)&&i.plots[f][c].active==!1&&u.push(i.plots[f][c])}function s(){Ne(co,o={},o)}return t.$$.update=()=>{t.$$.dirty&4&&i&&a()},[l,s,i,o,r]}class h4 extends ye{constructor(e){super(),ve(this,e,_4,p4,de,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}function Nf(t,e,n){const o=t.slice();return o[2]=e[n],o}function Ef(t){let e;return{c(){e=P("span"),e.textContent="No alerts in the last 30d",N(e,"class","text-sm italic text-center opacity-70")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Rf(t){let e,n=t[2]+"",o,i,r;return{c(){e=P("p"),o=V(n),i=G(),r=P("br"),N(e,"class","text-xs")},m(l,a){M(l,e,a),y(e,o),M(l,i,a),M(l,r,a)},p(l,a){a&2&&n!==(n=l[2]+"")&&ae(o,n)},d(l){l&&(T(e),T(i),T(r))}}}function g4(t){let e,n,o,i,r,l,a,s,u=t[1].townLog==""&&Ef(),f=Ke(t[1].townLog.split(`
`)),c=[];for(let d=0;d<f.length;d+=1)c[d]=Rf(Nf(t,f,d));return{c(){e=P("div"),n=P("div"),o=P("h1"),o.textContent="Alerts",i=G(),u&&u.c(),r=G();for(let d=0;d<c.length;d+=1)c[d].c();l=G(),a=P("ul"),a.innerHTML="",N(o,"class","text-xl w-full pb-2 text-center "),N(a,"class","list-disc pl-5 gap-2 flex flex-col text-xs "),N(n,"class",s="bg-foreground w-[160px] border-foregroundDark border-4 "+(t[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 p-3 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300"),N(e,"class","flex flex-row text-foregroundText")},m(d,m){M(d,e,m),y(e,n),y(n,o),y(n,i),u&&u.m(n,null),y(n,r);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(n,null);y(n,l),y(n,a)},p(d,[m]){if(d[1].townLog==""?u||(u=Ef(),u.c(),u.m(n,r)):u&&(u.d(1),u=null),m&2){f=Ke(d[1].townLog.split(`
`));let _;for(_=0;_<f.length;_+=1){const h=Nf(d,f,_);c[_]?c[_].p(h,m):(c[_]=Rf(h),c[_].c(),c[_].m(n,l))}for(;_<c.length;_+=1)c[_].d(1);c.length=f.length}m&1&&s!==(s="bg-foreground w-[160px] border-foregroundDark border-4 "+(d[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 p-3 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300")&&N(n,"class",s)},i:ke,o:ke,d(d){d&&T(e),u&&u.d(),_t(c,d)}}}function b4(t,e,n){let o,i;return fe(t,Qe,r=>n(0,o=r)),fe(t,Le,r=>n(1,i=r)),[o,i]}class v4 extends ye{constructor(e){super(),ve(this,e,b4,g4,de,{})}}function Df(t,e,n){const o=t.slice();return o[5]=e[n],o}function Lf(t){let e,n;return e=new b1({props:{thumb:t[5],class:"block h-5 w-5 rounded-full border-2 border-primary bg-accent ring-accent transition-colors focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function y4(t){let e,n,o,i,r;n=new d1({props:{class:"absolute h-full bg-primary"}});let l=Ke(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Lf(Df(t,l,u));const s=u=>A(a[u],1,1,()=>{a[u]=null});return{c(){e=P("span"),J(n.$$.fragment),o=G();for(let u=0;u<a.length;u+=1)a[u].c();i=De(),N(e,"class","relative h-2 w-full grow overflow-hidden rounded-full bg-textPrimary")},m(u,f){M(u,e,f),Y(n,e,null),M(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);M(u,i,f),r=!0},p(u,f){if(f&16){l=Ke(u[4]);let c;for(c=0;c<l.length;c+=1){const d=Df(u,l,c);a[c]?(a[c].p(d,f),k(a[c],1)):(a[c]=Lf(d),a[c].c(),k(a[c],1),a[c].m(i.parentNode,i))}for(Pe(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!r){k(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)k(a[f]);r=!0}},o(u){A(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)A(a[f]);r=!1},d(u){u&&(T(e),T(o),T(i)),X(n),_t(a,u)}}}function w4(t){let e,n,o;const i=[{class:$e("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[y4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=x(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new l1({props:l}),Ie.push(()=>An(e,"value",r)),{c(){J(e.$$.fragment)},m(a,s){Y(e,a,s),o=!0},p(a,[s]){const u=s&6?we(i,[s&2&&{class:$e("relative flex w-full touch-none select-none items-center",a[1])},s&4&&rt(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],Cn(()=>n=!1)),e.$set(u)},i(a){o||(k(e.$$.fragment,a),o=!0)},o(a){A(e.$$.fragment,a),o=!1},d(a){X(e,a)}}}function k4(t,e,n){const o=["class","value"];let i=se(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=x(x({},e),Re(s)),n(2,i=se(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class Ff extends ye{constructor(e){super(),ve(this,e,k4,w4,de,{class:1,value:0})}}function $f(t,e,n){const o=t.slice();return o[7]=e[n].icon,o[8]=e[n].name,o[9]=e[n].value,o[10]=e[n].rate,o}function qf(t,e,n){const o=t.slice();return o[13]=e[n],o}function C4(t){let e;return{c(){e=P("div"),e.innerHTML=`Resources are generated from plots. Generation rate can be increased
            by raising the productivity of the town, at the cost of some
            happiness.
            <br/> <br/>
            There is also a slight bit of randomness as townspeople aren&#39;t robots.`,N(e,"class","text-sm")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function A4(t){let e,n,o,i;return o=new So({props:{class:"text-sm w-[200px]",$$slots:{default:[C4]},$$scope:{ctx:t}}}),{c(){e=P("div"),e.innerHTML='<h1 class="text-xl w-full text-center">Resources</h1> <button class="text-textPrimary text-sm">â„¹ï¸</button>',n=G(),J(o.$$.fragment),N(e,"class","flex flex-row items-center pb-2 gap-2")},m(r,l){M(r,e,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&65536&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(k(o.$$.fragment,r),i=!0)},o(r){A(o.$$.fragment,r),i=!1},d(r){r&&(T(e),T(n)),X(o,r)}}}function S4(t){let e,n;return e=new Mo({props:{$$slots:{default:[A4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&65536&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function T4(t){let e,n,o=t[10]+"",i;return{c(){e=P("span"),n=V("+"),i=V(o),N(e,"class","text-textPrimary")},m(r,l){M(r,e,l),y(e,n),y(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&ae(i,o)},d(r){r&&T(e)}}}function M4(t){let e;return{c(){e=P("span")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function I4(t){let e,n=t[10]+"",o;return{c(){e=P("span"),o=V(n),N(e,"class","text-textDanger2")},m(i,r){M(i,e,r),y(e,o)},p(i,r){r&2&&n!==(n=i[10]+"")&&ae(o,n)},d(i){i&&T(e)}}}function P4(t){let e,n,o=t[10]+"",i;return{c(){e=P("span"),n=V("+"),i=V(o),N(e,"class","text-textHappy")},m(r,l){M(r,e,l),y(e,n),y(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&ae(i,o)},d(r){r&&T(e)}}}function O4(t){let e;return{c(){e=P("span"),N(e,"class","display-none")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function N4(t){let e,n,o=t[10]+"",i,r;return{c(){e=P("span"),n=V("+"),i=V(o),r=V(" (weekly)"),N(e,"class","")},m(l,a){M(l,e,a),y(e,n),y(e,i),y(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&ae(i,o)},d(l){l&&T(e)}}}function E4(t){let e,n=t[10]+"",o,i;return{c(){e=P("span"),o=V(n),i=V(" (weekly)"),N(e,"class","text-textDanger2")},m(r,l){M(r,e,l),y(e,o),y(e,i)},p(r,l){l&2&&n!==(n=r[10]+"")&&ae(o,n)},d(r){r&&T(e)}}}function R4(t){let e,n,o=t[10]+"",i,r;return{c(){e=P("span"),n=V("+"),i=V(o),r=V(" (weekly)"),N(e,"class","text-textHappy")},m(l,a){M(l,e,a),y(e,n),y(e,i),y(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&ae(i,o)},d(l){l&&T(e)}}}function jf(t){let e,n,o,i;return e=new Ct({}),{c(){J(e.$$.fragment),n=G(),o=P("span"),o.textContent="Required for",N(o,"class","text-sm font-semibold")},m(r,l){Y(e,r,l),M(r,n,l),M(r,o,l),i=!0},i(r){i||(k(e.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),X(e,r)}}}function Bf(t){let e,n=t[13]+"",o;return{c(){e=P("span"),o=V(n),N(e,"class","text-xs mr-4")},m(i,r){M(i,e,r),y(e,o)},p(i,r){r&2&&n!==(n=i[13]+"")&&ae(o,n)},d(i){i&&T(e)}}}function D4(t){let e,n,o=t[7]+"",i,r,l=mo(t[8])+"",a,s,u,f=t[5](t[8]).length>0,c,d,m;function _(R,L){return R[10]>0?R4:R[10]<0?E4:R[10]!=null?N4:O4}let h=_(t),v=h(t),w=f&&jf(),S=Ke(t[5](t[8])),C=[];for(let R=0;R<S.length;R+=1)C[R]=Bf(qf(t,S,R));return{c(){e=P("div"),n=P("span"),i=V(o),r=G(),a=V(l),s=G(),v.c(),u=G(),w&&w.c(),c=G(),d=P("div");for(let R=0;R<C.length;R+=1)C[R].c();N(n,"class","text-md font-bold"),N(d,"class","flex flex-col flex-wrap min-w-full"),N(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit")},m(R,L){M(R,e,L),y(e,n),y(n,i),y(n,r),y(n,a),y(e,s),v.m(e,null),y(e,u),w&&w.m(e,null),y(e,c),y(e,d);for(let E=0;E<C.length;E+=1)C[E]&&C[E].m(d,null);m=!0},p(R,L){if((!m||L&2)&&o!==(o=R[7]+"")&&ae(i,o),(!m||L&2)&&l!==(l=mo(R[8])+"")&&ae(a,l),h===(h=_(R))&&v?v.p(R,L):(v.d(1),v=h(R),v&&(v.c(),v.m(e,u))),L&2&&(f=R[5](R[8]).length>0),f?w?L&2&&k(w,1):(w=jf(),w.c(),k(w,1),w.m(e,c)):w&&(Pe(),A(w,1,1,()=>{w=null}),Oe()),L&34){S=Ke(R[5](R[8]));let E;for(E=0;E<S.length;E+=1){const B=qf(R,S,E);C[E]?C[E].p(B,L):(C[E]=Bf(B),C[E].c(),C[E].m(d,null))}for(;E<C.length;E+=1)C[E].d(1);C.length=S.length}},i(R){m||(k(w),m=!0)},o(R){A(w),m=!1},d(R){R&&T(e),v.d(),w&&w.d(),_t(C,R)}}}function L4(t){let e,n=t[7]+"",o,i,r=t[9]+"",l,a,s,u,f,c;function d(h,v){return h[10]>0?P4:h[10]<0?I4:h[10]==null?M4:T4}let m=d(t),_=m(t);return f=new So({props:{$$slots:{default:[D4]},$$scope:{ctx:t}}}),{c(){e=P("span"),o=V(n),i=G(),l=V(r),a=G(),_.c(),u=G(),J(f.$$.fragment),N(e,"class",s="flex flex-row justify-between "+(t[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary"))},m(h,v){M(h,e,v),y(e,o),y(e,i),y(e,l),y(e,a),_.m(e,null),M(h,u,v),Y(f,h,v),c=!0},p(h,v){(!c||v&2)&&n!==(n=h[7]+"")&&ae(o,n),(!c||v&2)&&r!==(r=h[9]+"")&&ae(l,r),m===(m=d(h))&&_?_.p(h,v):(_.d(1),_=m(h),_&&(_.c(),_.m(e,null))),(!c||v&2&&s!==(s="flex flex-row justify-between "+(h[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary")))&&N(e,"class",s);const w={};v&65538&&(w.$$scope={dirty:v,ctx:h}),f.$set(w)},i(h){c||(k(f.$$.fragment,h),c=!0)},o(h){A(f.$$.fragment,h),c=!1},d(h){h&&(T(e),T(u)),_.d(),X(f,h)}}}function F4(t){let e,n,o;return e=new Mo({props:{$$slots:{default:[L4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G()},m(i,r){Y(e,i,r),M(i,n,r),o=!0},p(i,r){const l={};r&65538&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(k(e.$$.fragment,i),o=!0)},o(i){A(e.$$.fragment,i),o=!1},d(i){i&&T(n),X(e,i)}}}function Vf(t){let e,n;return e=new To({props:{openDelay:400,closeDelay:0,$$slots:{default:[F4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&65538&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function $4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,_,h=it(t[0].townInfo.productivity,0)+"",v,w,S,C,R,L,E,B,$,D,U,b=it(t[0].economyAndLaws.tax_rate*100,0)+"",g,I,O,W,F,Z,ee;o=new To({props:{openDelay:400,closeDelay:0,$$slots:{default:[S4]},$$scope:{ctx:t}}});let Q=Ke(t[1]),K=[];for(let ne=0;ne<Q.length;ne+=1)K[ne]=Vf($f(t,Q,ne));const te=ne=>A(K[ne],1,1,()=>{K[ne]=null});return C=new Ff({props:{value:[t[0].townInfo.productivity],onValueChange:t[4],min:0,max:200,step:5,class:"cursor-pointer w-full"}}),W=new Ff({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[3],min:0,max:1,step:.05,class:"cursor-pointer w-full"}}),{c(){e=P("div"),n=P("div"),J(o.$$.fragment),i=G(),r=P("div"),l=P("div");for(let ne=0;ne<K.length;ne+=1)K[ne].c();a=G(),s=P("div"),u=P("div"),f=P("div"),c=P("span"),c.textContent="Productivity",d=G(),m=P("span"),_=V("("),v=V(h),w=V("%)"),S=G(),J(C.$$.fragment),R=G(),L=P("div"),E=P("div"),B=P("span"),B.textContent="Tax Rate",$=G(),D=P("span"),U=V("("),g=V(b),I=V("%)"),O=G(),J(W.$$.fragment),N(n,"class","flex flex-row justify-center"),N(l,"class","flex flex-col text-sm text-nowrap gap-2"),N(c,"class","text-xs"),N(m,"class","text-xs"),N(u,"class","flex flex-col justify-center w-full text-center items-center gap-2"),N(B,"class","text-xs"),N(D,"class","text-xs"),N(L,"class",F="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(t[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")),N(s,"class","flex flex-col gap-6 rounded-xl text-center justify-center"),N(r,"class","flex flex-col justify-between gap-4 text-foregroundText h-full pb-12"),N(e,"class",Z="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(t[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300")},m(ne,p){M(ne,e,p),y(e,n),Y(o,n,null),y(e,i),y(e,r),y(r,l);for(let H=0;H<K.length;H+=1)K[H]&&K[H].m(l,null);y(r,a),y(r,s),y(s,u),y(u,f),y(f,c),y(f,d),y(f,m),y(m,_),y(m,v),y(m,w),y(u,S),Y(C,u,null),y(s,R),y(s,L),y(L,E),y(E,B),y(E,$),y(E,D),y(D,U),y(D,g),y(D,I),y(L,O),Y(W,L,null),ee=!0},p(ne,[p]){const H={};if(p&65536&&(H.$$scope={dirty:p,ctx:ne}),o.$set(H),p&34){Q=Ke(ne[1]);let re;for(re=0;re<Q.length;re+=1){const Ae=$f(ne,Q,re);K[re]?(K[re].p(Ae,p),k(K[re],1)):(K[re]=Vf(Ae),K[re].c(),k(K[re],1),K[re].m(l,null))}for(Pe(),re=Q.length;re<K.length;re+=1)te(re);Oe()}(!ee||p&1)&&h!==(h=it(ne[0].townInfo.productivity,0)+"")&&ae(v,h);const q={};p&1&&(q.value=[ne[0].townInfo.productivity]),C.$set(q),(!ee||p&1)&&b!==(b=it(ne[0].economyAndLaws.tax_rate*100,0)+"")&&ae(g,b);const ie={};p&1&&(ie.value=[ne[0].economyAndLaws.tax_rate]),W.$set(ie),(!ee||p&1&&F!==(F="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(ne[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")))&&N(L,"class",F),(!ee||p&4&&Z!==(Z="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(ne[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300"))&&N(e,"class",Z)},i(ne){if(!ee){k(o.$$.fragment,ne);for(let p=0;p<Q.length;p+=1)k(K[p]);k(C.$$.fragment,ne),k(W.$$.fragment,ne),ee=!0}},o(ne){A(o.$$.fragment,ne),K=K.filter(Boolean);for(let p=0;p<K.length;p+=1)A(K[p]);A(C.$$.fragment,ne),A(W.$$.fragment,ne),ee=!1},d(ne){ne&&T(e),X(o),_t(K,ne),X(C),X(W)}}}function q4(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function j4(t,e,n){let o,i;fe(t,Le,f=>n(0,o=f)),fe(t,Qe,f=>n(2,i=f));function r(f){let c=o;c.economyAndLaws.tax_rate=it(f[0],2),Le.set(c),localStorage.setItem(jt,JSON.stringify(c))}function l(f){let c=o;c.townInfo.productivity=it(f[0],2),Le.set(c),localStorage.setItem(jt,JSON.stringify(c))}let a=[];function s(f){let c=[];for(let d=0;d<le.length;d++)(f!="knowledge"&&le[d].requirements.resources[f]>0||f=="power"&&le[d].active_costs.power>0||f=="knowledge"&&le[d].requirements.knowledge>0)&&c.push(le[d].title);return c}function u(f){return q4(f)?s(f):[]}return t.$$.update=()=>{t.$$.dirty&1&&n(1,a=[{icon:"ðŸ¥•",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"ðŸªµ",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"ðŸª¨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"ðŸ§ ",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"ðŸ§²",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"ðŸ”‹",name:"power",value:o.resources.power+" (surplus)",rate:null},{icon:"ðŸ§‘â€âš–ï¸",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy}])},[o,a,i,r,l,u]}class B4 extends ye{constructor(e){super(),ve(this,e,j4,$4,de,{})}}function V4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m;return o=new Q3({}),l=new v4({}),s=new h4({}),f=new B4({}),d=new Id({}),{c(){e=P("div"),n=P("div"),J(o.$$.fragment),i=G(),r=P("div"),J(l.$$.fragment),a=G(),J(s.$$.fragment),u=G(),J(f.$$.fragment),c=G(),J(d.$$.fragment),N(r,"class","flex flex-row text-foregroundText"),N(e,"class","flex flex-col max-h-[100%] justify-between")},m(_,h){M(_,e,h),y(e,n),Y(o,n,null),y(e,i),y(e,r),Y(l,r,null),y(r,a),Y(s,r,null),y(r,u),Y(f,r,null),y(r,c),Y(d,r,null),m=!0},p:ke,i(_){m||(k(o.$$.fragment,_),k(l.$$.fragment,_),k(s.$$.fragment,_),k(f.$$.fragment,_),k(d.$$.fragment,_),m=!0)},o(_){A(o.$$.fragment,_),A(l.$$.fragment,_),A(s.$$.fragment,_),A(f.$$.fragment,_),A(d.$$.fragment,_),m=!1},d(_){_&&T(e),X(o),X(l),X(s),X(f),X(d)}}}function G4(t,e,n){return fe(t,Le,o=>n(0,o)),[]}class H4 extends ye{constructor(e){super(),ve(this,e,G4,V4,de,{})}}function W4(t){let e;return{c(){e=V("Welcome to Plots!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function K4(t){let e,n,o,i,r=t[0].townInfo.name+"",l,a,s,u,f,c,d,m,_,h,v,w,S,C,R,L,E,B,$,D,U,b,g,I,O,W,F,Z,ee,Q;return m=new Ct({props:{class:"bg-white mt-2 mb-1"}}),w=new Ct({props:{class:"bg-white mt-2 mb-1"}}),L=new Ct({props:{class:"bg-white mt-2 mb-1"}}),D=new Ct({props:{class:"bg-white mt-2 mb-1"}}),{c(){e=P("div"),n=P("p"),o=V(`You come across a large amount of land, and you decide to start a
            town called `),i=P("span"),l=V(r),a=V("."),s=G(),u=P("div"),f=P("p"),f.textContent="To run a successful town, you will need to have:",c=G(),d=P("ul"),J(m.$$.fragment),_=G(),h=P("li"),h.textContent=`ðŸ‘¥ People - build homes and they will stay as long as they are
                happy.`,v=G(),J(w.$$.fragment),S=G(),C=P("li"),C.textContent=`ðŸªµ Resources - generated by some plots and used to build others.
                some plots require sustained weekly resources (such as needing
                wood to heat homes)`,R=G(),J(L.$$.fragment),E=G(),B=P("li"),B.textContent=`ðŸ’° Gold - generated by plots through tax revenue. most plots
                make the town some amount of money but some cost a lot to
                operate.`,$=G(),J(D.$$.fragment),U=G(),b=P("p"),b.innerHTML=`The town&#39;s key metrics are <span class="font-bold text-textHappyDark">Happiness</span>
            and <span class="font-bold text-textHappyDark">Health</span>, shown
            in the top-left corner.`,g=G(),I=P("p"),I.textContent=`These metrics are affected by the plots you build. Some plots may
            not always increase happiness, and some could even be harmful enough
            to tear down an otherwise great town.`,O=G(),W=P("p"),W.textContent="Be cautious and make sure to hover over plots before you buy them.",F=G(),Z=P("img"),N(i,"class","font-bold text-accent"),N(d,"class","list-desc"),Ld(Z.src,ee="welcome_example_plot.png")||N(Z,"src",ee),N(Z,"class","max-w-[60%] object-fit"),N(e,"class","flex flex-col gap-3 max-h-[50vh] overflow-y-scroll")},m(K,te){M(K,e,te),y(e,n),y(n,o),y(n,i),y(i,l),y(i,a),y(e,s),y(e,u),y(u,f),y(u,c),y(u,d),Y(m,d,null),y(d,_),y(d,h),y(d,v),Y(w,d,null),y(d,S),y(d,C),y(d,R),Y(L,d,null),y(d,E),y(d,B),y(d,$),Y(D,d,null),y(e,U),y(e,b),y(e,g),y(e,I),y(e,O),y(e,W),y(e,F),y(e,Z),Q=!0},p(K,te){(!Q||te&1)&&r!==(r=K[0].townInfo.name+"")&&ae(l,r)},i(K){Q||(k(m.$$.fragment,K),k(w.$$.fragment,K),k(L.$$.fragment,K),k(D.$$.fragment,K),Q=!0)},o(K){A(m.$$.fragment,K),A(w.$$.fragment,K),A(L.$$.fragment,K),A(D.$$.fragment,K),Q=!1},d(K){K&&T(e),X(m),X(w),X(L),X(D)}}}function U4(t){let e,n,o,i;return e=new Bl({props:{class:"",$$slots:{default:[W4]},$$scope:{ctx:t}}}),o=new Wl({props:{$$slots:{default:[K4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&524288&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524289&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Y4(t){let e;return{c(){e=V("Get started")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function X4(t){let e,n;return e=new Yc({props:{class:"bg-button rounded-2xl text-foregroundText px-4 py-2 hover:rounded-lg transition-all duration-300",$$slots:{default:[Y4]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&524288&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function J4(t){let e,n,o,i;return e=new Gl({props:{$$slots:{default:[U4]},$$scope:{ctx:t}}}),o=new Vl({props:{$$slots:{default:[X4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&524289&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524288&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function x4(t){let e,n;return e=new Hl({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[J4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Z4(t){let e,n;return e=new Kl({props:{open:t[1],$$slots:{default:[x4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,[i]){const r={};i&2&&(r.open=o[1]),i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Q4(t,e,n){let o,i,r,l;fe(t,on,m=>n(7,o=m)),fe(t,Le,m=>n(0,i=m)),fe(t,Hi,m=>n(4,r=m)),fe(t,Jr,m=>n(1,l=m)),bt[i.endGoal],Ml[i.difficulty],et.sort((m,_)=>f(m.id)&&!f(_.id)?-1:!f(m.id)&&f(_.id)?1:0),et.filter(m=>f(m.id));function s(m){const _=o.achievements.find(h=>h[0]==m);return _==null?!1:_[3]}let u=et;function f(m){return o.achievements==null?!1:o.achievements.find(_=>_[0]==m)!=null}function c(){Hi.update(m=>!m),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),ic.set("game"));const d=()=>{Jr.set(!1)};return t.$$.update=()=>{if(t.$$.dirty&25&&i)if(r)n(3,u=et);else{n(3,u=[]);for(let m=0;m<et.length;m++)(!f(et[m].id)||!s(et[m].id))&&u.push(et[m])}},[i,l,c,u,r,d]}class z4 extends ye{constructor(e){super(),ve(this,e,Q4,Z4,de,{toggleShowCompleted:2})}get toggleShowCompleted(){return this.$$.ctx[2]}}function Gf(t,e,n){const o=t.slice();return o[5]=e[n],o}function eC(t){let e,n,o=t[0].townInfo.name+"",i,r,l,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=P("div"),n=P("span"),i=V(o),r=G(),l=P("span"),a=V("ðŸ§‘â€âš–ï¸ "),u=V(s),N(e,"class","flex justify-between mr-10")},m(f,c){M(f,e,c),y(e,n),y(n,i),y(e,r),y(e,l),y(l,a),y(l,u)},p(f,c){c&1&&o!==(o=f[0].townInfo.name+"")&&ae(i,o),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&ae(u,s)},d(f){f&&T(e)}}}function tC(t){let e;return{c(){e=V("Build a City Hall to manage your city.")},m(n,o){M(n,e,o)},p:ke,i:ke,o:ke,d(n){n&&T(e)}}}function nC(t){let e,n,o,i,r=Ke(el),l=[];for(let s=0;s<r.length;s+=1)l[s]=Hf(Gf(t,r,s));const a=s=>A(l[s],1,1,()=>{l[s]=null});return{c(){e=P("span"),e.textContent="Laws ðŸ§‘â€âš–ï¸",n=G();for(let s=0;s<l.length;s+=1)l[s].c();o=De(),N(e,"class","text-lg font-bold")},m(s,u){M(s,e,u),M(s,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);M(s,o,u),i=!0},p(s,u){if(u&1){r=Ke(el);let f;for(f=0;f<r.length;f+=1){const c=Gf(s,r,f);l[f]?(l[f].p(c,u),k(l[f],1)):(l[f]=Hf(c),l[f].c(),k(l[f],1),l[f].m(o.parentNode,o))}for(Pe(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)k(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)A(l[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),_t(l,s)}}}function oC(t){let e,n=t[5].cost+"",o;return{c(){e=V("Enact for ðŸ§‘â€âš–ï¸ "),o=V(n)},m(i,r){M(i,e,r),M(i,o,r)},d(i){i&&(T(e),T(o))}}}function iC(t){let e;return{c(){e=V("Repeal âŒ")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function rC(t){let e,n;function o(l,a){return a&1&&(e=null),e==null&&(e=!!l[0].economyAndLaws.enacted.includes(l[5].id)),e?iC:oC}let i=o(t,-1),r=i(t);return{c(){r.c(),n=De()},m(l,a){r.m(l,a),M(l,n,a)},p(l,a){i!==(i=o(l,a))&&(r.d(1),r=i(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&T(n),r.d(l)}}}function Hf(t){let e,n,o,i,r,l,a;function s(){return t[2](t[5])}return i=new qt({props:{class:"bg-button rounded-2xl",$$slots:{default:[rC]},$$scope:{ctx:t}}}),i.$on("click",s),l=new Ct({props:{class:"bg-white opacity-30"}}),{c(){e=P("div"),n=P("span"),n.textContent=`${t[5].description}`,o=G(),J(i.$$.fragment),r=G(),J(l.$$.fragment),N(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){M(u,e,f),y(e,n),y(e,o),Y(i,e,null),M(u,r,f),Y(l,u,f),a=!0},p(u,f){t=u;const c={};f&257&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(k(i.$$.fragment,u),k(l.$$.fragment,u),a=!0)},o(u){A(i.$$.fragment,u),A(l.$$.fragment,u),a=!1},d(u){u&&(T(e),T(r)),X(i),X(l,u)}}}function lC(t){let e,n,o,i,r,l,a,s,u,f,c;e=new Kn({props:{class:"text-xl",$$slots:{default:[eC]},$$scope:{ctx:t}}}),o=new Xn({props:{class:"w-3/4"}}),r=new Ct({props:{class:"mb-4"}});const d=[nC,tC],m=[];function _(h,v){return v&1&&(s=null),s==null&&(s=Ze("city_hall",h[0]).length>0),s?0:1}return u=_(t,-1),f=m[u]=d[u](t),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment),i=G(),J(r.$$.fragment),l=G(),a=P("div"),f.c(),N(a,"class","w-full")},m(h,v){Y(e,h,v),M(h,n,v),Y(o,h,v),M(h,i,v),Y(r,h,v),M(h,l,v),M(h,a,v),m[u].m(a,null),c=!0},p(h,v){const w={};v&257&&(w.$$scope={dirty:v,ctx:h}),e.$set(w);let S=u;u=_(h,v),u===S?m[u].p(h,v):(Pe(),A(m[S],1,1,()=>{m[S]=null}),Oe(),f=m[u],f?f.p(h,v):(f=m[u]=d[u](h),f.c()),k(f,1),f.m(a,null))},i(h){c||(k(e.$$.fragment,h),k(o.$$.fragment,h),k(r.$$.fragment,h),k(f),c=!0)},o(h){A(e.$$.fragment,h),A(o.$$.fragment,h),A(r.$$.fragment,h),A(f),c=!1},d(h){h&&(T(n),T(i),T(l),T(a)),X(e,h),X(o,h),X(r,h),m[u].d()}}}function sC(t){let e,n,o,i;return e=new Un({props:{$$slots:{default:[lC]},$$scope:{ctx:t}}}),o=new Ao({}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&257&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function aC(t){let e,n;return e=new Yn({props:{class:"bg-foreground text-foregroundText",$$slots:{default:[sC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&257&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function uC(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[aC]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new Jn({props:r}),Ie.push(()=>An(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){Y(e,l,a),o=!0},p(l,[a]){const s={};a&257&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Cn(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){A(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function fC(t,e,n){let o,i;fe(t,Le,a=>n(0,o=a)),fe(t,Gi,a=>n(1,i=a));const r=a=>{o.economyAndLaws.enacted.includes(a.id)?o.economyAndLaws.enacted.splice(o.economyAndLaws.enacted.indexOf(a.id),1):a.cost<=o.resources.bureaucracy?(Ne(Le,o.resources.bureaucracy-=a.cost,o),o.economyAndLaws.enacted.push(a.id)):alert("Not enough bureaucracy!")};function l(a){i=a,Gi.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[o,i,r,l]}class cC extends ye{constructor(e){super(),ve(this,e,fC,uC,de,{})}}function Wf(t){let e,n,o,i;const r=[mC,dC],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),A(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){A(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function dC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,_,h,v,w,S,C=t[2]==!0&&Kf();n=new H4({}),i=new tp({}),l=new zv({}),s=new Sy({}),f=new Z5({}),d=new v3({}),_=new cC({});let R=t[0].environment.day==0&&t[3]&&Uf();return{c(){C&&C.c(),e=G(),J(n.$$.fragment),o=G(),J(i.$$.fragment),r=G(),J(l.$$.fragment),a=G(),J(s.$$.fragment),u=G(),J(f.$$.fragment),c=G(),J(d.$$.fragment),m=G(),J(_.$$.fragment),h=G(),R&&R.c(),v=G(),w=P("style"),w.textContent=`body {
        margin-bottom: 0;
      }
      /* no visible scrollbars */
      #plot_grid::-webkit-scrollbar {
        display: none;
      }

      ::-webkit-scrollbar {
        width: 0px;
        background: transparent; /* make scrollbar transparent */
      }

      /* no scrollbars on firefox either */
      #plot_grid {
        scrollbar-width: none;
      }

      /* no scrollbars for IE/Edge */
      #plot_grid {
        -ms-overflow-style: none;
      }`},m(L,E){C&&C.m(L,E),M(L,e,E),Y(n,L,E),M(L,o,E),Y(i,L,E),M(L,r,E),Y(l,L,E),M(L,a,E),Y(s,L,E),M(L,u,E),Y(f,L,E),M(L,c,E),Y(d,L,E),M(L,m,E),Y(_,L,E),M(L,h,E),R&&R.m(L,E),M(L,v,E),M(L,w,E),S=!0},p(L,E){L[2]==!0?C?E&4&&k(C,1):(C=Kf(),C.c(),k(C,1),C.m(e.parentNode,e)):C&&(Pe(),A(C,1,1,()=>{C=null}),Oe()),L[0].environment.day==0&&L[3]?R?E&9&&k(R,1):(R=Uf(),R.c(),k(R,1),R.m(v.parentNode,v)):R&&(Pe(),A(R,1,1,()=>{R=null}),Oe())},i(L){S||(k(C),k(n.$$.fragment,L),k(i.$$.fragment,L),k(l.$$.fragment,L),k(s.$$.fragment,L),k(f.$$.fragment,L),k(d.$$.fragment,L),k(_.$$.fragment,L),k(R),S=!0)},o(L){A(C),A(n.$$.fragment,L),A(i.$$.fragment,L),A(l.$$.fragment,L),A(s.$$.fragment,L),A(f.$$.fragment,L),A(d.$$.fragment,L),A(_.$$.fragment,L),A(R),S=!1},d(L){L&&(T(e),T(o),T(r),T(a),T(u),T(c),T(m),T(h),T(v),T(w)),C&&C.d(L),X(n,L),X(i,L),X(l,L),X(s,L),X(f,L),X(d,L),X(_,L),R&&R.d(L)}}}function mC(t){let e,n;return e=new hy({}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p:ke,i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Kf(t){let e,n;return e=new Gv({}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Uf(t){let e,n;return e=new z4({}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function pC(t){let e,n,o=(t[1]||t[0]==null)&&Wf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&k(o,1)):(o=Wf(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Pe(),A(o,1,1,()=>{o=null}),Oe())},i(i){n||(k(o),n=!0)},o(i){A(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function _C(t,e,n){let o,i,r,l,a,s;fe(t,co,d=>n(6,o=d)),fe(t,Qe,d=>n(7,i=d)),fe(t,Nt,d=>n(2,r=d)),fe(t,Le,d=>n(0,l=d)),fe(t,Vo,d=>n(8,a=d)),fe(t,Jr,d=>n(3,s=d));let u=!1;Hv();let f=!1;document.addEventListener("keydown",d=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&d.key!=="Escape")return;switch(d.key.toLowerCase()){case"p":r==!0?Nt.set(!1):(Nt.set(!0),Ne(Qe,i.visible=!1,i));break;case"escape":d.shiftKey?(Ne(Nt,r=!0,r),localStorage.setItem("reset","true"),location.reload(),Il()):i.visible==!0&&Ne(Qe,i.visible=!1,i);break}});function c(d,m,_){if(f==!0)switch(_){case"up":m-=2;break;case"down":m+=1;break;case"left":d-=2;break;case"right":d+=1;break}d<0?d=0:d>l.plots.length&&(d=l.plots.length),m<0?m=0:m>l.plots.length&&(m=l.plots.length);let h=document.querySelectorAll(".plot_container"),v;if(h.forEach(w=>{w.dataset.x=="$x"&&w.dataset.y=="$y"&&(v=w)}),r==!1){if(v.dataset.canBeUpgraded==="true"?Ne(Qe,i.visible=!0,i):Ne(Qe,i.visible=!1,i),v.dataset.refPlotX!==void 0&&v.dataset.refPlotY!=""?(f=!0,h.forEach(w=>{w.dataset.x==v.dataset.refPlotX&&w.dataset.y==v.dataset.refPlotY&&(v=w,d=parseInt(v.dataset.x),m=parseInt(v.dataset.y))})):f=!1,v.dataset.size!=="1"&&v.dataset.size!==void 0&&(f=!0),Ne(Qe,i.x=d,i),Ne(Qe,i.y=m,i),h.forEach(w=>{w.classList.remove("selected"),w.style.fontWeight=""}),v.classList.add("selected"),f){let w="4px solid #00800045";v.classList.remove("selected"),v.style.borderTop=w,v.style.borderLeft=w,v.style.fontWeight="600",h.forEach(S=>{const C=parseInt(`${S.dataset.x}`),R=parseInt(`${S.dataset.y}`);C==d+1&&R==m&&(S.style.borderLeft=w,S.style.borderBottom=w),C==d&&R==m+1&&(S.style.borderTop=w,S.style.borderRight=w),C==d+1&&R==m+1&&(S.style.borderBottom=w,S.style.borderRight=w)})}v.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Ne(co,o={},o)}}return t.$$.update=()=>{t.$$.dirty&1&&(l?(Ne(Vo,a.visible=!1,a),n(1,u=!0)):(Ne(Vo,a.visible=!0,a),n(1,u=!1)))},[l,u,r,s,c]}class hC extends ye{constructor(e){super(),ve(this,e,_C,pC,de,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new hC({target:document.getElementById("app")});
