var $d=Object.defineProperty;var Rd=(t,e,n)=>e in t?$d(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var cn=(t,e,n)=>(Rd(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Dd(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Ld(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function Fd(){let t=localStorage.getItem("plots_active_game_db");const e=await Dd(t);console.log("http://localhost:5173/plots/?shareId="+e)}const Nr=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(Nr.shareId!=null||Nr.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(Ld(Nr.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),Fd();function Ce(){}const ur=t=>t;function Q(t,e){for(const n in e)t[n]=e[n];return t}function Jf(t){return t()}function gs(){return Object.create(null)}function qe(t){t.forEach(Jf)}function sn(t){return typeof t=="function"}function de(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let _i;function qd(t,e){return t===e?!0:(_i||(_i=document.createElement("a")),_i.href=e,t===_i.href)}function jd(t){return Object.keys(t).length===0}function Al(t,...e){if(t==null){for(const o of e)o(void 0);return Ce}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function xf(t){let e;return Al(t,n=>e=n)(),e}function fe(t,e,n){t.$$.on_destroy.push(Al(e,n))}function pe(t,e,n,o){if(t){const i=Zf(t,e,n,o);return t[0](i)}}function Zf(t,e,n,o){return t[1]&&o?Q(n.ctx.slice(),t[1](o(e))):n.ctx}function _e(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function he(t,e,n,o,i,r){if(i){const l=Zf(e,n,o,r);t.p(l,i)}}function ge(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Re(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function ae(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Ie(t,e,n){return t.set(n),e}function je(t){return t&&sn(t.destroy)?t.destroy:Ce}const Qf=typeof window<"u";let Sl=Qf?()=>window.performance.now():()=>Date.now(),Tl=Qf?t=>requestAnimationFrame(t):Ce;const ao=new Set;function zf(t){ao.forEach(e=>{e.c(t)||(ao.delete(e),e.f())}),ao.size!==0&&Tl(zf)}function Ml(t){let e;return ao.size===0&&Tl(zf),{promise:new Promise(n=>{ao.add(e={c:t,f:n})}),abort(){ao.delete(e)}}}function g(t,e){t.appendChild(e)}function ec(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Bd(t){const e=P("style");return e.textContent="/* empty */",Gd(ec(t),e),e.sheet}function Gd(t,e){return g(t.head||t,e),e.sheet}function M(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function _t(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function P(t){return document.createElement(t)}function fr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function q(t){return document.createTextNode(t)}function V(){return q(" ")}function De(){return q("")}function te(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function N(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Vd=["width","height"];function ue(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&Vd.indexOf(o)===-1?t[o]=e[o]:N(t,o,e[o])}function Ri(t,e){for(const n in e)N(t,n,e[n])}function Hd(t,e){Object.keys(e).forEach(n=>{Wd(t,n,e[n])})}function Wd(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:N(t,e,n)}function gn(t){return/-/.test(t)?Hd:ue}function Kd(t){return Array.from(t.childNodes)}function se(t,e){e=""+e,t.data!==e&&(t.data=e)}function en(t,e){t.value=e??""}function Je(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function bs(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function dn(t,e,n){t.classList.toggle(e,!!n)}function tc(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class mn{constructor(e=!1){cn(this,"is_svg",!1);cn(this,"e");cn(this,"n");cn(this,"t");cn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=fr(n.nodeName):this.e=P(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)M(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(T)}}const Di=new Map;let Li=0;function Ud(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Yd(t,e){const n={stylesheet:Bd(e),rules:{}};return Di.set(t,n),n}function Fi(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let v=0;v<=1;v+=s){const w=e+(n-e)*r(v);u+=v*100+`%{${l(w,1-w)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${Ud(f)}_${a}`,d=ec(t),{stylesheet:p,rules:_}=Di.get(d)||Yd(d,t);_[c]||(_[c]=!0,p.insertRule(`@keyframes ${c} ${f}`,p.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${c} ${o}ms linear ${i}ms 1 both`,Li+=1,c}function qi(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),Li-=i,Li||Xd())}function Xd(){Tl(()=>{Li||(Di.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&T(e)}),Di.clear())})}let Wo;function Go(t){Wo=t}function Qo(){if(!Wo)throw new Error("Function called outside component initialization");return Wo}function cr(t){Qo().$$.on_mount.push(t)}function Jd(t){Qo().$$.on_destroy.push(t)}function xd(){const t=Qo();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=tc(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function dr(t,e){return Qo().$$.context.set(t,e),e}function mr(t){return Qo().$$.context.get(t)}function oe(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const ro=[],Ne=[];let uo=[];const Zr=[],nc=Promise.resolve();let Qr=!1;function oc(){Qr||(Qr=!0,nc.then(ic))}function Il(){return oc(),nc}function ot(t){uo.push(t)}function An(t){Zr.push(t)}const Er=new Set;let to=0;function ic(){if(to!==0)return;const t=Wo;do{try{for(;to<ro.length;){const e=ro[to];to++,Go(e),Zd(e.$$)}}catch(e){throw ro.length=0,to=0,e}for(Go(null),ro.length=0,to=0;Ne.length;)Ne.pop()();for(let e=0;e<uo.length;e+=1){const n=uo[e];Er.has(n)||(Er.add(n),n())}uo.length=0}while(ro.length);for(;Zr.length;)Zr.pop()();Qr=!1,Er.clear(),Go(t)}function Zd(t){if(t.fragment!==null){t.update(),qe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ot)}}function Qd(t){const e=[],n=[];uo.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),uo=e}let Po;function Pl(){return Po||(Po=Promise.resolve(),Po.then(()=>{Po=null})),Po}function $n(t,e,n){t.dispatchEvent(tc(`${e?"intro":"outro"}${n}`))}const Ti=new Set;let Wt;function Pe(){Wt={r:0,c:[],p:Wt}}function Oe(){Wt.r||qe(Wt.c),Wt=Wt.p}function C(t,e){t&&t.i&&(Ti.delete(t),t.i(e))}function S(t,e,n,o){if(t&&t.o){if(Ti.has(t))return;Ti.add(t),Wt.c.push(()=>{Ti.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const Ol={duration:0};function Jt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&qi(t,l)}function f(){const{delay:d=0,duration:p=300,easing:_=ur,tick:h=Ce,css:v}=i||Ol;v&&(l=Fi(t,0,1,p,d,_,v,s++)),h(0,1);const w=Sl()+d,A=w+p;a&&a.abort(),r=!0,ot(()=>$n(t,!0,"start")),a=Ml(k=>{if(r){if(k>=A)return h(1,0),$n(t,!0,"end"),u(),r=!1;if(k>=w){const R=_((k-w)/p);h(R,1-R)}}return r})}let c=!1;return{start(){c||(c=!0,qi(t),sn(i)?(i=i(o),Pl().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function xt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=Wt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=ur,tick:p=Ce,css:_}=i||Ol;_&&(l=Fi(t,1,0,c,f,d,_));const h=Sl()+f,v=h+c;ot(()=>$n(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),Ml(w=>{if(r){if(w>=v)return p(0,1),$n(t,!1,"end"),--a.r||qe(a.c),!1;if(w>=h){const A=d((w-h)/c);p(1-A,A)}}return r})}return sn(i)?Pl().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&qi(t,l),r=!1)}}}function Yt(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&qi(t,u)}function d(_,h){const v=_.b-l;return h*=Math.abs(v),{a:l,b:_.b,d:v,duration:h,start:_.start,end:_.start+h,group:_.group}}function p(_){const{delay:h=0,duration:v=300,easing:w=ur,tick:A=Ce,css:k}=r||Ol,R={start:Sl()+h,b:_};_||(R.group=Wt,Wt.r+=1),"inert"in t&&(_?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=R:(k&&(c(),u=Fi(t,l,_,v,h,w,k)),_&&A(0,1),a=d(R,v),ot(()=>$n(t,_,"start")),Ml(F=>{if(s&&F>s.start&&(a=d(s,v),s=null,$n(t,a.b,"start"),k&&(c(),u=Fi(t,l,a.b,a.duration,0,w,r.css))),a){if(F>=a.end)A(l=a.b,1-l),$n(t,a.b,"end"),s||(a.b?c():--a.group.r||qe(a.group.c)),a=null;else if(F>=a.start){const E=F-a.start;l=a.a+a.d*w(E/a.duration),A(l,1-l)}}return!!(a||s)}))}return{run(_){sn(r)?Pl().then(()=>{r=r({direction:_?"in":"out"}),p(_)}):p(_)},end(){c(),a=s=null}}}function Ue(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function zd(t,e){S(t,1,1,()=>{e.delete(t.key)})}function em(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,p=r.length,_=d;const h={};for(;_--;)h[t[_].key]=_;const v=[],w=new Map,A=new Map,k=[];for(_=p;_--;){const $=c(i,r,_),H=n($);let D=l.get(H);D?k.push(()=>D.p($,e)):(D=u(H,$),D.c()),w.set(H,v[_]=D),H in h&&A.set(H,Math.abs(_-h[H]))}const R=new Set,F=new Set;function E($){C($,1),$.m(a,f),l.set($.key,$),f=$.first,p--}for(;d&&p;){const $=v[p-1],H=t[d-1],D=$.key,U=H.key;$===H?(f=$.first,d--,p--):w.has(U)?!l.has(D)||R.has(D)?E($):F.has(U)?d--:A.get(D)>A.get(U)?(F.add(D),E($)):(R.add(U),d--):(s(H,l),d--)}for(;d--;){const $=t[d];w.has($.key)||s($,l)}for(;p;)E(v[p-1]);return qe(k),v}function we(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function rt(t){return typeof t=="object"&&t!==null?t:{}}function Sn(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function J(t){t&&t.c()}function Y(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),ot(()=>{const r=t.$$.on_mount.map(Jf).filter(sn);t.$$.on_destroy?t.$$.on_destroy.push(...r):qe(r),t.$$.on_mount=[]}),i.forEach(ot)}function X(t,e){const n=t.$$;n.fragment!==null&&(Qd(n.after_update),qe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function tm(t,e){t.$$.dirty[0]===-1&&(ro.push(t),oc(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function be(t,e,n,o,i,r,l=null,a=[-1]){const s=Wo;Go(t);const u=t.$$={fragment:null,ctx:[],props:r,update:Ce,not_equal:i,bound:gs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:gs(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...p)=>{const _=p.length?p[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=_)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](_),f&&tm(t,c)),d}):[],u.update(),f=!0,qe(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=Kd(e.target);u.fragment&&u.fragment.l(c),c.forEach(T)}else u.fragment&&u.fragment.c();e.intro&&C(t.$$.fragment),Y(t,e.target,e.anchor),ic()}Go(s)}class ve{constructor(){cn(this,"$$");cn(this,"$$set")}$destroy(){X(this,1),this.$destroy=Ce}$on(e,n){if(!sn(n))return Ce;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!jd(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const nm="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(nm);const no=[];function Rn(t,e){return{subscribe:Ke(t,e).subscribe}}function Ke(t,e=Ce){let n;const o=new Set;function i(a){if(de(t,a)&&(t=a,n)){const s=!no.length;for(const u of o)u[1](),no.push(u,t);if(s){for(let u=0;u<no.length;u+=2)no[u][0](no[u+1]);no.length=0}}}function r(a){i(a(t))}function l(a,s=Ce){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||Ce),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function an(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Rn(n,(l,a)=>{let s=!1;const u=[];let f=0,c=Ce;const d=()=>{if(f)return;c();const _=e(o?u[0]:u,l,a);r?l(_):c=sn(_)?_:Ce},p=i.map((_,h)=>Al(_,v=>{u[h]=v,f&=~(1<<h),s&&d()},()=>{f|=1<<h}));return s=!0,d(),function(){qe(p),c(),s=!1}})}function vs(t){return{subscribe:t.subscribe.bind(t)}}const om={plots:[],timeSpent:0,devMode:!1,lastChangeDay:0,townLog:"",currentTutorialStep:0,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,guardians:0,happiness:150,health:150,community:150,knowledge_points:0,productivity:100},kingdom_expansions:0,resources:{food:50,wood:300,stone:300,metal:0,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0}},im={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]},Nl={0:"Easy",1:"Normal",2:"Hard"},rm={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},lm={0:.35,1:.25,2:.25},le=[{id:"small_homes",title:"🏠 Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0}},{id:"farm",title:"🥕 Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"tree_farm",title:"🌲 Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:15,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"quarry",title:"⛏️ Quarry",type:"quarry",description:"Produces stone, small amounts of metal",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:18,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"livestock_farm",title:"🐄 Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:42,requirements:{gold:300,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"bakery",title:"🥖 Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:90,requirements:{gold:500,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:170,stone:170,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15}},{id:"stables",title:"🐴 Stables",type:"business",description:"Makes money and improves health",revenue_per_week:24,requirements:{gold:400,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:120,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"church",title:"⛪️ Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:500,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:350,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:1,community:1},immediate_variable_changes:{happiness:50,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"pub",title:"🍻 Pub",type:"recreation",description:"Increases knowledge, happiness, community. Isn't great for health.",revenue_per_week:40,knowledge_points_per_month:1,requirements:{gold:500,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.93,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_market",title:"🛒 Village Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:180,requirements:{gold:1400,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:150,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:35}},{id:"fishery",title:"🐠 Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:1500,plots:[],employees:9,knowledge:0,size:1,xp:0,resources:{food:0,wood:1500,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:75,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"neighborhood",title:"🏘️ Neighborhood",type:"residential",description:"+64 people",revenue_per_week:0,requirements:{gold:700,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1,community:1.1},immediate_variable_changes:{happiness:0,health:0,population:64,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"vineyard",title:"🍇 Vineyard",type:"farm",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:700,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"water_wheel",title:"💧 Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:200,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"adv_water_wheel",title:"💧 Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:400,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:100,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"park",title:"🎪 Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_inn",title:"🛌 Village Inn",type:"tourism",description:"Enables tourism to your town, which increases revenue at certain stores.",revenue_per_week:23,requirements:{gold:1500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"schoolhouse",title:"🏫 Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:2500,plots:[],employees:20,knowledge:0,size:1,xp:0,resources:{food:0,wood:500,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"blacksmith",title:"⚒️ Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:300,requirements:{gold:3e3,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:75,wood:0,stone:0,metal:10,bureaucracy:0,food:0}},{id:"library",title:"📕 Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:10,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:225,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lumber_mill",title:"🏭 Lumber Mill",type:"industrial",description:"Increases wood production by 25%, has to be next to a tree farm",revenue_per_week:0,requirements:{gold:4e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"solar_farm",title:"☀️ Solar farm",type:"industrial",description:"Produces a lot of power without the need of water.",revenue_per_week:0,requirements:{gold:5e3,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:500,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:50,bureaucracy:0,food:0}},{id:"general_store",title:"🛒 General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:500,requirements:{gold:7e3,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1.1},immediate_variable_changes:{happiness:20,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:40,wood:0,stone:0,metal:0,bureaucracy:0,food:100}},{id:"healing_house",title:"🏥 Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:2e4,plots:[],employees:18,knowledge:0,size:1,xp:0,resources:{food:0,wood:800,stone:1e3,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"community_center",title:"🫶 Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:19e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:700,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.09,health:1,community:2},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"city_hall",title:"🗳️ City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a lot of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:5e4,plots:[],employees:48,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:3250,stone:800,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.99,health:1,community:1.2},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:4,active_costs:{gold:300,power:50,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"mine",title:"⛏️ Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:5e4,plots:[],employees:64,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:150,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.95,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:50,metal:50,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:60,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"academy",title:"🏫 Academy",type:"education",description:"Produces a lot of knowledge, requires high population",revenue_per_week:0,knowledge_points_per_month:90,requirements:{gold:3e4,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:5e3,stone:1600,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:500,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"bank",title:"🏦 Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:75e3,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:75,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lab",title:"🧪 Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:1e5,plots:[],employees:24,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:0,stone:1e3,metal:3e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:300,power:35,wood:0,stone:0,metal:0,bureaucracy:0,food:0}}],Oo={empty_unusable:"rgba(21, 40, 20, 0.70)",empty_buildable:"#CBB827",residential:"#de7633",farm:"#6b8f49",lumber:"#8E805C",business:"#9273a5",recreation:"#5277b1",shop:"#d896d8",tourism:"#d896d8",education:"#BFBEEB",medical:"#4a5ba3",bank:"#8477be",federal:"#8477be",science:"#4a5ba3",mine:"#d9874a",quarry:"#868685",industrial:"#868615"};function ji(t,e=!1){if(t<0)return t==-1?e?Oo.empty_buildable:Oo.empty_unusable:t==-2?Oo.recreation:Oo.empty_unusable;const n=le[t];return Oo[n.type]}const ys={lab:1,city_hall:1,bank:1,community_center:1,inn:1},jt="plots_active_game_db",Ko="plots_user_db";function sm(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let Ee=Ke(JSON.parse(localStorage.getItem(jt)||"null")),on=Ke(JSON.parse(localStorage.getItem(Ko)||"null"));fm();function am(t,e,n,o){let i={...om};i.economyAndLaws.max_tax_rate=rm[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:sm(),i.difficulty=parseInt(t),o&&(i.devMode=!0,i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const l=t=="0"?8:t=="1"?12:t=="2"?16:1,a=Math.floor(Math.random()*l/2)+1,s=Math.floor(Math.random()*l/2)+1;for(let u=0;u<l;u++){r.push([]);for(let f=0;f<l;f++){const c=u==a&&f==s?!1:um(u,f,l);r[u][f]={id:Math.random().toString(36).substring(2,9),active:!1,x:u,y:f,type:c?-9:-1,typeId:"",mineralSource:c?!1:a===u&&s===f,water:a===u&&s===f?!1:c}}}i.plots=r,localStorage.reset=!1,localStorage.setItem(jt,JSON.stringify(i)),Ee.set(i),location.reload()}function um(t,e,n){let o=.06;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=5),t==0&&e==0&&(o=0),Math.random()<o}function fm(){if(localStorage.getItem(Ko)===null){let t=im;t.username="my_username_click_to_change",localStorage.setItem(Ko,JSON.stringify(t)),on.set(t)}}function ws(t,e){var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var o=Math.round(t)/n;return+o.toFixed(e)}function Bi(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=le[o].immediate_variable_changes.population,n.townInfo.population_max-=le[o].immediate_variable_changes.population,n.townInfo.happiness-=le[o].immediate_variable_changes.happiness,n.townInfo.health-=le[o].immediate_variable_changes.health,n.modifiers.happiness=ws(n.modifiers.happiness/le[o].effect_modifiers.happiness,2),n.modifiers.health=ws(n.modifiers.health/le[o].effect_modifiers.health,2),n.townInfo.employees-=le[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(le[o].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&Bi(r,l,n);n.lastChangeDay=n.environment.day,Ee.set(n),localStorage.setItem(jt,JSON.stringify(n))}function Xe(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(le[e.plots[o][i].type].id===t||le[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function cm(t,e){const n=t.plots.length,o=n>0?t.plots[0].length:0,i=e=="east"?5:0,r=e=="south"?5:0,l=Math.round(Math.pow(1.5,t.kingdom_expansions+5));if(t.townInfo.guardians<l)return`You need ${l-t.townInfo.guardians} more Guardians to expand the kingdom. See the City mgmt menu.`;for(let a=0;a<n;a++)for(let s=o;s<o+i;s++)t.plots[a].push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:"",mineralSource:!1,water:!1,disabled:!1});for(let a=n;a<n+r;a++){const s=[];for(let u=0;u<o+i;u++)s.push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:u,type:-1,typeId:"",mineralSource:!1,water:!1});t.plots.push(s)}t.kingdom_expansions++,Ee.set(t)}function El(t=null){localStorage.removeItem(jt),Ee.set(null),t&&(localStorage.setItem(jt,JSON.stringify(t)),Ee.set(t)),location.reload()}function dm(){rc.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}let Qe=Ke({visible:!1,x:0,y:0,isMineralSource:!1}),Vo=Ke({visible:!1});function mm(t){on.set(t),localStorage.setItem(Ko,JSON.stringify(t))}let mo=Ke({}),Mi=Ke(!1),Et=Ke(!1),zr=Ke(!0),ks=Ke(!1),Gi=Ke(!1),Vi=Ke(!1),Ii=Ke(!1),Hi=Ke(!1),bn=Ke(""),Wi=localStorage.getItem("showCompletedAchievements")==="true"?Ke(!0):Ke(!1),rc=localStorage.getItem("showOnlyAffordable")==="true"?Ke(!0):Ke(!1),lc=localStorage.getItem("pauseMenuTab")==="game"?Ke("game"):Ke("achievements"),el=Ke(750);const dt={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},bt={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}},et=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"😍",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"📌",check:t=>Xe("small_school",t).length!==0||Xe("large_school",t).length!==0||Xe("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"﹩",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"💵",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"🐌",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"🏦",check:t=>Xe("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"❤️",check:t=>Xe("community_center",t).length!==0,prize:1e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"💰",check:t=>t.townInfo.gold>=1e6,prize:15e4}],qt=[{message:"My liege, we need places to live! Build the first homes.",isComplete:t=>t.townInfo.population_max>0,goldReward:600},{message:"My liege, the village is going to run out of food soon. Build 3 farms and a tree farm. ",isComplete:t=>Xe("farm",t).length>=3&&Xe("tree_farm",t).length>=1,goldReward:300},{message:"My liege, the village will need stone and metals to expand. Build a quarry. ",isComplete:t=>Xe("quarry",t).length>0,goldReward:500},{message:"My liege, things are picking up but we will need far more money. Get weekly revenue to >=200 gold. ",isComplete:t=>t.economyAndLaws.weeklyProfit>=200,goldReward:1e3},{message:"My liege, as the town develops we will need the smartest and brightest. Build plots to get our Knowledge to 250.",isComplete:t=>t.townInfo.knowledge_points>=250,goldReward:2e3},{message:"My liege, the village is growing - woohoo! But we need to have more workers. Get the population to 100.",isComplete:t=>t.townInfo.population_count>=100,goldReward:1500},{message:"My liege, some advanced buildings require power. Start generating power with a water wheel or a solar farm.",isComplete:t=>t.resources.power>0,goldReward:2e3},{message:"My liege, we need more metals. Find a good spot for a mine and build it. ",isComplete:t=>Xe("mine",t).length>0,goldReward:2e3},{message:"My liege, mining resources has taken a toll on the towns health. Build a Healing House to lower the chance of sickness.",isComplete:t=>Xe("healing_house",t).length>0,goldReward:5e3},{message:"My liege, now that we have metals, power, and people, your next goal is a big one. Build your town a City Hall.",isComplete:t=>Xe("city_hall",t).length>0,goldReward:1e4}];function sc(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=sc(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function pm(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=sc(t))&&(o&&(o+=" "),o+=e);return o}const $l="-";function _m(t){const e=gm(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split($l);return a[0]===""&&a.length!==1&&a.shift(),ac(a,e)||hm(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function ac(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?ac(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join($l);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const Cs=/^\[(.+)\]$/;function hm(t){if(Cs.test(t)){const e=Cs.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function gm(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return vm(Object.entries(t.classGroups),n).forEach(([r,l])=>{tl(l,o,r,e)}),o}function tl(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:As(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(bm(i)){tl(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{tl(l,As(e,r),n,o)})})}function As(t,e){let n=t;return e.split($l).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function bm(t){return t.isThemeGetter}function vm(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function ym(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const uc="!";function wm(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let h=0;h<l.length;h++){let v=l[h];if(s===0){if(v===o&&(n||l.slice(h,h+i)===e)){a.push(l.slice(u,h)),u=h+i;continue}if(v==="/"){f=h;continue}}v==="["?s++:v==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(uc),p=d?c.substring(1):c,_=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:_}}}function km(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function Cm(t){return{cache:ym(t.cacheSize),splitModifiers:wm(t),..._m(t)}}const Am=/\s+/;function Sm(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(Am).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const p=km(a).join(":");return{isTailwindClass:!0,modifierId:s?p+uc:p,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Tm(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=fc(e))&&(o&&(o+=" "),o+=n);return o}function fc(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=fc(t[o]))&&(n&&(n+=" "),n+=e);return n}function nl(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=Cm(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=Sm(s,n);return i(s,f),f}return function(){return r(Tm.apply(null,arguments))}}function xe(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const cc=/^\[(?:([a-z-]+):)?(.+)\]$/i,Mm=/^\d+\/\d+$/,Im=new Set(["px","full","screen"]),Pm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Om=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Nm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Em=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$m=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Qt(t){return Nn(t)||Im.has(t)||Mm.test(t)}function pn(t){return yo(t,"length",Gm)}function Nn(t){return!!t&&!Number.isNaN(Number(t))}function hi(t){return yo(t,"number",Nn)}function No(t){return!!t&&Number.isInteger(Number(t))}function Rm(t){return t.endsWith("%")&&Nn(t.slice(0,-1))}function Ve(t){return cc.test(t)}function _n(t){return Pm.test(t)}const Dm=new Set(["length","size","percentage"]);function Lm(t){return yo(t,Dm,dc)}function Fm(t){return yo(t,"position",dc)}const qm=new Set(["image","url"]);function jm(t){return yo(t,qm,Hm)}function Bm(t){return yo(t,"",Vm)}function Eo(){return!0}function yo(t,e,n){const o=cc.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function Gm(t){return Om.test(t)&&!Nm.test(t)}function dc(){return!1}function Vm(t){return Em.test(t)}function Hm(t){return $m.test(t)}function ol(){const t=xe("colors"),e=xe("spacing"),n=xe("blur"),o=xe("brightness"),i=xe("borderColor"),r=xe("borderRadius"),l=xe("borderSpacing"),a=xe("borderWidth"),s=xe("contrast"),u=xe("grayscale"),f=xe("hueRotate"),c=xe("invert"),d=xe("gap"),p=xe("gradientColorStops"),_=xe("gradientColorStopPositions"),h=xe("inset"),v=xe("margin"),w=xe("opacity"),A=xe("padding"),k=xe("saturate"),R=xe("scale"),F=xe("sepia"),E=xe("skew"),$=xe("space"),H=xe("translate"),D=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],y=()=>["auto",Ve,e],b=()=>[Ve,e],I=()=>["",Qt,pn],O=()=>["auto",Nn,Ve],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],x=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],z=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",Ve],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Nn,hi],ne=()=>[Nn,Ve];return{cacheSize:500,separator:":",theme:{colors:[Eo],spacing:[Qt,pn],blur:["none","",_n,Ve],brightness:ee(),borderColor:[t],borderRadius:["none","","full",_n,Ve],borderSpacing:b(),borderWidth:I(),contrast:ee(),grayscale:Z(),hueRotate:ne(),invert:Z(),gap:b(),gradientColorStops:[t],gradientColorStopPositions:[Rm,pn],inset:y(),margin:y(),opacity:ee(),padding:b(),saturate:ee(),scale:ee(),sepia:Z(),skew:ne(),space:b(),translate:b()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[_n]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Ve]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",No,Ve]}],basis:[{basis:y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",No,Ve]}],"grid-cols":[{"grid-cols":[Eo]}],"col-start-end":[{col:["auto",{span:["full",No,Ve]},Ve]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Eo]}],"row-start-end":[{row:["auto",{span:[No,Ve]},Ve]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,e]}],"min-w":[{"min-w":[Ve,e,"min","max","fit"]}],"max-w":[{"max-w":[Ve,e,"none","full","min","max","fit","prose",{screen:[_n]},_n]}],h:[{h:[Ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",_n,pn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hi]}],"font-family":[{font:[Eo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",Nn,hi]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qt,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qt,pn]}],"underline-offset":[{"underline-offset":["auto",Qt,Ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),Fm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Lm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},jm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:L()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Qt,Ve]}],"outline-w":[{outline:[Qt,pn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Qt,pn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",_n,Bm]}],"shadow-color":[{shadow:[Eo]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":x()}],"bg-blend":[{"bg-blend":x()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",_n,Ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[k]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[No,Ve]}],"translate-x":[{"translate-x":[H]}],"translate-y":[{"translate-y":[H]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qt,pn,hi]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function Wm(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){Pi(t,"cacheSize",e),Pi(t,"prefix",n),Pi(t,"separator",o);for(const l in r)Km(t[l],r[l]);for(const l in i)Um(t[l],i[l]);return t}function Pi(t,e,n){n!==void 0&&(t[e]=n)}function Km(t,e){if(e)for(const n in e)Pi(t,n,e[n])}function Um(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function Ym(t,...e){return typeof t=="function"?nl(ol,t,...e):nl(()=>Wm(ol(),t),...e)}const mc=nl(ol);function Xm(t){const e=t-1;return e*e*e+1}function Fe(...t){return mc(pm(t))}const pr=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:Xm}};function it(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function $r(t){return t<10?"0"+t:t}function Jm(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${$r(o)}:${$r(n)}:${$r(e)}`}function Te(t){return le.findIndex(e=>e.id===t)}function Ss(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function vn(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function po(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ts(t,e=!0){return t=it(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function Ln(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[l][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&le[n.plots[t][e].type].id=="farm"))return!0}return!1}function xm(t,e,n,o){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],r=!0;for(let l=0;l<o.length;l++){let a=!1;if(o[l]=="water"&&(console.log("water"),Ln(t,e,n,!0))){a=!0;break}for(let s=0;s<i.length;s++){let u=i[s][0],f=i[s][1];if(u>=0&&u<n.plots.length&&f>=0&&f<n.plots[0].length&&n.plots[u][f].active==!0&&n.plots[u][f].type>0&&le[n.plots[u][f].type].id==o[l]){a=!0;break}}if(!a){r=!1;break}}return r}function Zm(t,e=0){let n=t*.92,o=t*1.08;return it(Math.random()*(o-n)+n,e)}const il=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:100,weekly_effect:t=>(t.modifiers.happiness*=1.02,t.modifiers.health*=1.02,t.resources.food-=2*Xe("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.25,t.modifiers.health*=1.25),t)}],Ms=30;function Qm(t){let e=!0;for(let n=0;n<t.plots.length;n++)for(let o=0;o<t.plots[n].length;o++)if(t.plots[n][o].active==!1){e=!1;break}return e}function zm(t){return t.endGameDetails!=null||(t.townInfo.happiness<70&&t.last_warning_happiness+365<t.environment.day&&(showCustomAlert.set("Your citizens are very unhappy. You should do something about it."),t.last_warning_happiness=t.environment.day),t.townInfo.health<70&&t.last_warning_health+365<t.environment.day&&(showCustomAlert.set("Your citizens are very unhealthy. You should do something about it."),t.last_warning_health=t.environment.day)),t}function ep(t,e,n){return t.resource_rate.food=gt(n.food-e.food,2),t.resource_rate.wood=gt(n.wood-e.wood,2),t.resource_rate.stone=gt(n.stone-e.stone,2),t.resource_rate.metal=gt(n.metal-e.metal,2),t.resource_rate.bureaucracy=gt(n.bureaucracy-e.bureaucracy,2),t}function tp(t){return t.hasBank,t}function np(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function rl(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function ll(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function op(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t.townInfo.community*=t.modifiers.community,t}function gt(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function ip(t,e,n){let o,i,r,l,a,s;fe(t,el,m=>n(6,o=m)),fe(t,Ee,m=>n(7,i=m)),fe(t,Mi,m=>n(8,r=m)),fe(t,Vi,m=>n(9,l=m)),fe(t,Et,m=>n(10,a=m)),fe(t,on,m=>n(11,s=m));function u(m){m=W(m),m=b(m),m=_(m),m=np(m),m=x(m),m=zm(m);const j={food:m.resources.food,wood:m.resources.wood,stone:m.resources.stone,metal:m.resources.metal,bureaucracy:m.resources.bureaucracy};m=w(m),m=y(m),m=A(m),m=k(m),m=K(m),m=v(m);const B={food:m.resources.food,wood:m.resources.wood,stone:m.resources.stone,metal:m.resources.metal,bureaucracy:m.resources.bureaucracy};return m=ep(m,j,B),m}function f(m){return m=D(m),m=tp(m),m=h(m),m=op(m),m=Z(m),m=ll(m),m}function c(m){return m=I(m),m=O(m),m=U(m),m}function d(m){return m=z(m),m=L(m),m=rl(m),m.overtime==!1&&(m=H(m),m=R(m)),m=$(m),m=F(m),m}function p(){Ee.update(m=>{if(m==null||(m.tick++,m.tick%Ms!==0)||a||!m||m.endGameDetails.msg!==""&&m.overtime==!1||m.townInfo.population_count<=0)return m;try{return m.environment.day+=1,m.environment.day%7===0&&(m=u(m)),m.environment.day%30===0&&(m.townLog="",m=f(m)),m.environment.day%90===0&&(m=c(m)),window.location.search.includes("debug=true")&&console.log(m),m=d(m),m}catch(j){return console.error("Error in game loop:",j),m}})}Ee.subscribe(m=>{m&&localStorage.setItem(jt,JSON.stringify(m))}),on.subscribe(m=>{m&&localStorage.setItem(Ko,JSON.stringify(m))});function _(m){let j=!1,B=!1,ie=!1,re=!1;for(let ke=0;ke<m.plots.length;ke++)for(let Le=0;Le<m.plots[ke].length;Le++)if(m.plots[ke][Le].active==!0&&m.plots[ke][Le].type>-1){let Me=le[m.plots[ke][Le].type].id;Me=="bank"&&(j=!0),Me=="city_hall"&&(ie=!0),(Me=="small_hospital"||Me=="large_hospital")&&(B=!0),Me=="lab"&&(re=!0)}return m.hasBank=j,m.hasHospital=B,m.hasCityHall=ie,m.hasLab=re,m}function h(m){const j=m.townInfo.productivity;let B=1;if(j>50&&j<100)B=1.05;else{if(j==100)return m;j<50?B=1.2:j>100&&j<125?B=.98:j>125&&j<150?B=.96:j>150&&j<175?B=.9:j>175&&j<200&&(B=.8)}const ie=m.townInfo.happiness;return m.townInfo.happines*=B,B>1?m=ee(`Happiness has gone up by ${Math.round(m.townInfo.happiness/ie*100)}% due to productivity.`,m):m=ee(`Happiness has gone down by ${100-Math.round(m.townInfo.happiness/ie*100)}% due to productivity.`,m),m}function v(m){const j=m.townInfo.population_count;return m.resources.food<j?(m.modifiers.happiness*=.95,m.modifiers.health*=.95,m=ee("not enough food",m),m.resources.food=0):m.resources.food-=j,m.resources.food=Math.round(m.resources.food,2),m}function w(m){const j=m.townInfo.productivity;let B=1;j<50?B=.5:j>50&&j<100?B=.75:j==100?B=1:j>100&&j<125?B=1.25:j>125&&j<150?B=1.75:j>150&&j<175?B=3:j>175&&j<200&&(B=5),B=Zm(B,2);let ie=Xe("lumber_mill",m).length*1.25;ie===0&&(ie=1);for(let re=0;re<m.plots.length;re++)for(let ke=0;ke<m.plots[re].length;ke++)if(m.plots[re][ke].active==!0&&m.plots[re][ke].type>-1){let Le=Ln(re,ke,m),Me=le[m.plots[re][ke].type];Me.generated_resources!=null&&(m.resources.food+=Math.round(Me.generated_resources.food*B)*(Le?2:1),m.resources.wood+=Math.round(Me.generated_resources.wood*B*ie),m.resources.stone+=Math.round(Me.generated_resources.stone*B),m.resources.metal+=Math.round(Me.generated_resources.metal*B),m.resources.bureaucracy+=Math.round(Me.generated_resources.bureaucracy*B))}return m.resources.food=Math.round(m.resources.food,2),m.resources.wood=Math.round(m.resources.wood,2),m.resources.stone=Math.round(m.resources.stone,2),m.resources.metal=Math.round(m.resources.metal,2),m.resources.bureaucracy=Math.round(m.resources.bureaucracy,2),m}function A(m){for(let j=0;j<m.plots.length;j++)for(let B=0;B<m.plots[j].length;B++)if(m.plots[j][B].active==!0&&m.plots[j][B].type>-1){let ie=le[m.plots[j][B].type],re=!1;Object.keys(ie.active_costs).forEach((ke,Le)=>{const Me=Object.values(ie.active_costs)[Le];ke!="power"&&(m.townInfo.gold,ke=="gold"?m.townInfo.gold<Me?re=!0:m.townInfo.gold-=Me:m.resources[ke]<Me?re=!0:m.resources[ke]-=Me)}),m.plots[j][B].disabled=re,m.plots[j][B].disabled&&(m.townInfo.happiness-=1),re&&le[m.plots[j][B].type].type=="residential"&&(m.townInfo.population_count-=1,m.townInfo.employees-=1)}return m}function k(m){let j=0;for(let B=0;B<m.plots.length;B++)for(let ie=0;ie<m.plots[B].length;ie++)if(m.plots[B][ie].active==!0&&m.plots[B][ie].type>-1){let re=le[m.plots[B][ie].type];re.active_costs.power!=0&&(j-=re.active_costs.power),re.generated_resources.power!=0&&(j+=re.generated_resources.power)}return m.resource_rate.power=j,m.resources.power=j,m}function R(m){if(m.endGoal=="land"&&m.townInfo.population_max==m.townInfo.population_count&&m.townInfo.happiness>=bt.land.requirements[m.difficulty].happiness&&m.townInfo.health>=bt.land.requirements[m.difficulty].health&&m.townInfo.employees/m.townInfo.population_count>=bt.land.requirements[m.difficulty].employment&&m.townInfo.population_count>bt.land.requirements[m.difficulty].population_count&&m.townInfo.knowledge_points>=bt.land.requirements[m.difficulty].knowledge){let B=!0;for(let re=0;re<bt.land.requirements[m.difficulty].required_plots.length;re++){let ke=bt.land.requirements[m.difficulty].required_plots[re];if(Xe(ke,m)==!1){B=!1;break}}Qm(m)&&B&&(m.endGameDetails={msg:bt.land.win,win:!0,still_playing:!1})}return m}function F(m){if(m.devMode)return m;let j=s;for(let B=0;B<et.length;B++)j.achievements.find(ie=>ie[0]==et[B].id)==null&&et[B].check(m)&&(j.achievements.push([et[B].id,m.environment.day,m.townInfo.name]),Ie(Et,a=!0,a),Ie(Vi,l=!0,l));return on.update(()=>j),m}let E=!1;function $(m){if(E)return m;for(let j=m.currentTutorialStep;j<m.currentTutorialStep+1;j++)if(qt[j].isComplete(m)){Ie(Mi,r=!0,r),E=!0,setTimeout(()=>{Ie(Mi,r=!1,r),m.currentTutorialStep++,m.townInfo.gold+=qt[j].goldReward,E=!1},1e3);break}return m}function H(m){return m.townInfo.happiness<=3&&(m.townInfo.happiness=0,m.endGameDetails={msg:dt.happiness_zero,win:!1,still_playing:!1}),m.townInfo.health<=3&&(m.townInfo.health=3,m.endGameDetails={msg:dt.health_zero,win:!1,still_playing:!1}),m.townInfo.population_count<=0&&m.townInfo.population_max>0&&(m.townInfo.population_count=0,m.endGameDetails={msg:dt.population_zero,win:!1,still_playing:!1}),m}function D(m){let j=m.townInfo.population_count-m.townInfo.employees;return j>0&&(m.townInfo.happiness-=j*.06,m=ee(j+dt.unemployment_num,m)),m}function U(m){let j=m.plotCounts.reduce((ie,re)=>ie+re,0),B=!1;for(let ie=0;ie<m.plotCounts.length;ie++)m.plotCounts[ie]==null||le[ie].check_for_variety!=!0||m.plotCounts[ie]/j>=lm[m.difficulty]&&(le[ie].title,B=!0);return B&&(m=ee(dt.notEnoughVariety,m),m.modifiers.happiness*.95),m}function y(m){for(let j=0;j<m.economyAndLaws.enacted.length;j++){let B=il.find(ie=>ie.id==m.economyAndLaws.enacted[j]);B!=null&&B.weekly_effect!=null&&(m=B.weekly_effect(m))}return m}function b(m){let j=m.townInfo.health,B=0;return j>50||j<Math.random()*50&&(j<25?(m=ee(dt.sickAndDying,m),m.townInfo.happiness-=10,B=Math.round(m.townInfo.population_count*.1)):(m=ee(dt.sickAndLeaving,m),m.townInfo.happiness-=5,B=Math.round(m.townInfo.population_count*.05)),m.townInfo.population_count-=B,m.townInfo.employees-=B),m}function I(m){return m.townInfo.community<100&&Math.random()*100<m.townInfo.community||m.lastChangeDay+(Math.random()*500+365)<m.environment.day&&m.townInfo.population_count>0&&m.townInfo.population_count>0&&(m.townInfo.population_count-=1,m.townInfo.employees-=1,m.modifiers.happiness-=.01,m=ee(dt.bored,m)),m}function O(m){if(m.townInfo.population_count<m.townInfo.population_max&&m.townInfo.happiness>50){let j=m.townInfo.population_max-m.townInfo.population_count,B=Math.round(m.townInfo.happiness/100*j);m.townInfo.population_count+=B,m.townInfo.population_count>m.townInfo.population_max&&(m.townInfo.population_count=m.townInfo.population_max),m.townInfo.employees+=B,m.townInfo.employees>m.townInfo.population_count&&(m.townInfo.employees=m.townInfo.population_count),m=ee(B+dt.new_people_num,m)}if(m.townInfo.happiness<50&&m.townInfo.population_count>0){let j=Math.round((100-m.townInfo.happiness)/5);j=j*(m.townInfo.community/200),m.townInfo.population_count-=j,m.townInfo.employees>0&&(m.townInfo.employees-=j),m=ee(j+dt.leave_town_num,m)}else m.townInfo.population_count==m.townInfo.population_max;return m}function W(m){const j=Math.random();if(m.economyAndLaws.tax_rate>m.economyAndLaws.max_tax_rate&&m.townInfo.population_count>0){let B=1;m.hasBank&&(B=2);const ie=m.difficulty==0?.7:m.difficulty==1?.4:.2;j<ie&&m.economyAndLaws.tax_rate>m.economyAndLaws.max_tax_rate*2*B?(m.modifiers.happiness-=.02,m=ee(dt.very_high_tax_rate+"  ("+m.economyAndLaws.tax_rate+"%)",m)):(m.modifiers.happiness-=.01,m=ee(dt.high_tax_rate+"  ("+m.economyAndLaws.tax_rate*100+"%)",m))}return m}function L(m){return m.townInfo.happiness<0&&(m.townInfo.happiness=0),m.townInfo.health<0&&(m.townInfo.health=0),m.townInfo.gold<0&&(m.townInfo.gold=0),m.townInfo.employees<0&&(m.townInfo.employees=0),m.townInfo.knowledge_points<0&&(m.townInfo.knowledge_points=0),m.townInfo.population_count<0&&(m.townInfo.population_count=0),m.townInfo.population_max==0&&m.townLog.indexOf(dt.nobody_home)==-1&&(m=ee(dt.nobody_home,m)),m.economyAndLaws.weeklyProfit=gt(m.economyAndLaws.weeklyProfit,0),m.townInfo.employees>m.townInfo.population_count&&(m.townInfo.employees=m.townInfo.population_count),m.townInfo.gold=gt(m.townInfo.gold,0),m.townInfo.population_count=gt(m.townInfo.population_count,0),m.townInfo.employees=gt(m.townInfo.employees,0),m.townInfo.population_max=gt(m.townInfo.population_max,0),m.townInfo.happiness=gt(m.townInfo.happiness,2),m.townInfo.health=gt(m.townInfo.health,2),m.townInfo.knowledge_points=gt(m.townInfo.knowledge_points,0),m.townInfo.happiness>m.maximums.happiness&&(m.townInfo.happiness=m.maximums.happiness),m.townInfo.health>m.maximums.health&&(m.townInfo.health=m.maximums.health),m.modifiers.happiness<.5&&(m.modifiers.happiness=.5),m.modifiers.health<.5&&(m.modifiers.health=.5),m.modifiers.community<.5&&(m.modifiers.community=.5),m}function x(m){if(m.modifiers.happiness>1){let B=m.modifiers.happiness-1;m.modifiers.happiness-=B*.1,m.modifiers.happiness<1.05&&(m.modifiers.happiness=1)}if(m.modifiers.community>1){let B=m.modifiers.community-1;m.modifiers.community-=B*.1,m.modifiers.community<1.05&&(m.modifiers.community=1)}if(m.modifiers.health>1)if(Xe("healing_house",m).length>0){if(m.townLog.indexOf(dt.hospital_advantage)==-1)return m=ee(dt.hospital_advantage,m);let B=m.modifiers.health-1;m.modifiers.health-=B*Xe("healing_house",m)?.03:.06,m.modifiers.health<1.05&&(m.modifiers.health=1)}else{let B=m.modifiers.health-1;m.modifiers.health-=B*.1,m.modifiers.health<1.05&&(m.modifiers.health=1)}else Xe("healing_house",m).length>0&&(m.modifiers.health+=.1);return m}function z(m){m.economyAndLaws.weeklyProfit=0;for(let j=0;j<m.plots.length;j++)for(let B=0;B<m.plots[j].length;B++)if(m.plots[j][B].active==!0&&m.plots[j][B].type>-1)if(m.plots[j][B].disabled===!0){const ie=le[m.plots[j][B].type],re=ne(ie.revenue_per_week,m,ie.type)*(m.townInfo.productivity/100)/7;m.townInfo.gold-=re,m=ee(`🚨 ${ie.title} at ${B}, ${j} is disabled and costing you $${re} a week!`,m)}else{const ie=le[m.plots[j][B].type];let re=ne(ie.revenue_per_week,m,ie.type)*(m.townInfo.productivity/100)/7,ke=Ln(j,B,m);re*=ke?2:1,m.townInfo.gold+=re,m.economyAndLaws.weeklyProfit+=re*7}return m}function Z(m){return Xe("mine",m).length>0&&(m.modifiers.health-=.01,Xe("healing_house",m).length==0&&(m=ee("The mine is actively hurting the health of the town. Time to look into a healing house.",m))),m}function K(m){let j=0;for(let B=0;B<m.plots.length;B++)for(let ie=0;ie<m.plots[B].length;ie++)if(m.plots[B][ie].active==!0&&m.plots[B][ie].type>-1){let re=le[m.plots[B][ie].type];re.knowledge_points_per_month!=null&&(m.townInfo.knowledge_points+=Math.round(re.knowledge_points_per_month/4),j+=re.knowledge_points_per_month)}return m.resource_rate.knowledge=gt(j/4,0),m}function ee(m,j){return j.townLog="Day "+i.environment.day+" - "+m+`
`+j.townLog,j}function ne(m,j,B){let ie=j.townInfo.happiness/100;ie>2?ie=2:ie<.75&&(ie=.75),Xe("village_inn",j).length>0&&B=="shop"&&(ie*=1.3);let re=m*j.economyAndLaws.tax_rate*(j.townInfo.population_count/j.townInfo.population_max)*ie*(j.economyAndLaws.enacted.includes("tax_free")?-1:1);return gt(re,2)}return cr(async()=>{for(;;)localStorage.reset=="true"&&(El(),localStorage.setItem("reset","false")),p(),await new Promise(m=>setTimeout(m,o/Ms))}),[p,rl,L,x,ll]}class rp extends ve{constructor(e){super(),be(this,e,ip,null,de,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return rl}get _fixVariables(){return this.$$.ctx[2]}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return ll}}function lp(t){return t[t.length-1]}function hn(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function Rr(t){return t?!0:void 0}hn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function pc(t){if(t!==null)return t}function Is(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function Dr(t){if(!Uo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return St(e)?e:null}const Lo=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),Ps=t=>typeof t=="function";pt("empty");function pt(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return an(n,a=>{const s=i(a);if(Ps(s)){const u=(...f)=>Lo({...s(...f),[`data-melt-${t}`]:"",action:o??Ze});return u.action=o??Ze,u}return Lo({...s,[`data-melt-${t}`]:"",action:o??Ze})});{const a=i,s=a==null?void 0:a();if(Ps(s)){const u=(...f)=>Lo({...s(...f),[`data-melt-${t}`]:"",action:o??Ze});return u.action=o??Ze,Is(u)}return Is(Lo({...s,[`data-melt-${t}`]:"",action:o??Ze}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function Os(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=an(n,a=>o(a).map(s=>Lo({...s,[`data-melt-${t}`]:"",action:i??Ze}))),l=i??(()=>{});return l.subscribe=r,l}function _r(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const Uo=typeof document<"u",_c=t=>typeof t=="function";function sp(t){return t instanceof Document}function hr(t){return t instanceof Element}function St(t){return t instanceof HTMLElement}function Ns(t){return t.pointerType==="touch"}function ap(t){return t!==null&&typeof t=="object"}function up(t){return ap(t)&&"subscribe"in t}function Kt(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function Ze(){}function vt(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function Ct(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=cp(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function fp(t){const e=t.currentTarget;if(!St(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function cp(t){return e=>{const n=fp(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function gr(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function nn(t){return{...t,get:()=>xf(t)}}nn.writable=function(t){const e=Ke(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};nn.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const br=(t,e)=>{const n=nn(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function Rl(t){return new Promise(e=>setTimeout(e,t))}let dp="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",mp=(t=21)=>{let e="",n=t;for(;n--;)e+=dp[Math.random()*64|0];return e};function pp(){return mp(10)}function Dl(t){return t.reduce((e,n)=>(e[n]=pp(),e),{})}const st={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},hc=()=>typeof window<"u";function _p(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const gc=t=>hc()&&t.test(_p().toLowerCase()),hp=()=>hc()&&!!navigator.maxTouchPoints,gp=()=>gc(/^mac/)&&!hp(),bp=()=>gc(/mac|iphone|ipad|ipod/i),vp=()=>bp()&&!gp();function yp(t){const e=t.slice();return e.sort(kp),wp(e)}function wp(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function kp(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function Cp(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function Ap(t){const e=t.flatMap(n=>Cp(n));return yp(e)}function Sp(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const Lr="data-melt-scroll-lock";function Es(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Tp(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function Mp(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Ip(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(Lr))return Ze;i.setAttribute(Lr,"");const l=n.innerWidth-o.clientWidth,a=()=>Tp(o,"--scrollbar-width",`${l}px`),s=Mp(o),u=n.getComputedStyle(i)[s],f=()=>Es(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:p,scrollY:_,visualViewport:h}=n,v=(h==null?void 0:h.offsetLeft)??0,w=(h==null?void 0:h.offsetTop)??0,A=Es(i,{position:"fixed",overflow:"hidden",top:`${-(_-Math.floor(w))}px`,left:`${-(p-Math.floor(v))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{A==null||A(),n.scrollTo(p,_)}},d=[a(),vp()?c():f()];return()=>{d.forEach(p=>p==null?void 0:p()),i.removeAttribute(Lr)}}const Pp=t=>{try{Jd(t)}catch{return t}};function Nt(t,e){let n;const o=an(t,r=>{n==null||n(),n=e(r)}).subscribe(Ze),i=()=>{o(),n==null||n()};return Pp(i),i}function Fn(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=nn(Ke(i))}),e}function Op(t){let e=t.parentElement;for(;St(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function bc(t,e){return e!==void 0?e:Op(t)==="body"?document.body:null}async function $s(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([Rl(1),Il]),e===void 0){n==null||n.focus();return}const o=_c(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!St(i))return;i.focus()}else St(o)&&o.focus()}function Fr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}Rn(void 0,t=>{function e(o){t(o),t(void 0)}return vt(document,"pointerup",e,{passive:!1,capture:!0})});const Np=Rn(void 0,t=>{function e(o){o&&o.key===st.ESCAPE&&t(o),t(void 0)}return vt(document,"keydown",e,{passive:!1})}),Rs=(t,e={})=>{let n=Ze;function o(i={}){n();const r={enabled:!0,...i},l=up(r.enabled)?r.enabled:Rn(r.enabled);n=Kt(Np.subscribe(a=>{var u;if(!a||!xf(l))return;const s=a.target;if(!(!St(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(_c(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Nt(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},yn=Math.min,It=Math.max,Ki=Math.round,gi=Math.floor,wn=t=>({x:t,y:t}),Ep={left:"right",right:"left",bottom:"top",top:"bottom"},$p={start:"end",end:"start"};function sl(t,e,n){return It(t,yn(e,n))}function wo(t,e){return typeof t=="function"?t(e):t}function kn(t){return t.split("-")[0]}function ko(t){return t.split("-")[1]}function vc(t){return t==="x"?"y":"x"}function Ll(t){return t==="y"?"height":"width"}function zo(t){return["top","bottom"].includes(kn(t))?"y":"x"}function Fl(t){return vc(zo(t))}function Rp(t,e,n){n===void 0&&(n=!1);const o=ko(t),i=Fl(t),r=Ll(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=Ui(l)),[l,Ui(l)]}function Dp(t){const e=Ui(t);return[al(t),e,al(e)]}function al(t){return t.replace(/start|end/g,e=>$p[e])}function Lp(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function Fp(t,e,n,o){const i=ko(t);let r=Lp(kn(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(al)))),r}function Ui(t){return t.replace(/left|right|bottom|top/g,e=>Ep[e])}function qp(t){return{top:0,right:0,bottom:0,left:0,...t}}function yc(t){return typeof t!="number"?qp(t):{top:t,right:t,bottom:t,left:t}}function Yi(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Ds(t,e,n){let{reference:o,floating:i}=t;const r=zo(e),l=Fl(e),a=Ll(l),s=kn(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let p;switch(s){case"top":p={x:f,y:o.y-i.height};break;case"bottom":p={x:f,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:c};break;case"left":p={x:o.x-i.width,y:c};break;default:p={x:o.x,y:o.y}}switch(ko(e)){case"start":p[l]-=d*(n&&u?-1:1);break;case"end":p[l]+=d*(n&&u?-1:1);break}return p}const jp=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=Ds(u,o,s),d=o,p={},_=0;for(let h=0;h<a.length;h++){const{name:v,fn:w}=a[h],{x:A,y:k,data:R,reset:F}=await w({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:p,rects:u,platform:l,elements:{reference:t,floating:e}});f=A??f,c=k??c,p={...p,[v]:{...p[v],...R}},F&&_<=50&&(_++,typeof F=="object"&&(F.placement&&(d=F.placement),F.rects&&(u=F.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):F.rects),{x:f,y:c}=Ds(u,d,s)),h=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:p}};async function ql(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:p=0}=wo(e,t),_=yc(p),v=a[d?c==="floating"?"reference":"floating":c],w=Yi(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(v)))==null||n?v:v.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),A=c==="floating"?{...l.floating,x:o,y:i}:l.reference,k=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),R=await(r.isElement==null?void 0:r.isElement(k))?await(r.getScale==null?void 0:r.getScale(k))||{x:1,y:1}:{x:1,y:1},F=Yi(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:k,strategy:s}):A);return{top:(w.top-F.top+_.top)/R.y,bottom:(F.bottom-w.bottom+_.bottom)/R.y,left:(w.left-F.left+_.left)/R.x,right:(F.right-w.right+_.right)/R.x}}const Bp=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=wo(t,e)||{};if(u==null)return{};const c=yc(f),d={x:n,y:o},p=Fl(i),_=Ll(p),h=await l.getDimensions(u),v=p==="y",w=v?"top":"left",A=v?"bottom":"right",k=v?"clientHeight":"clientWidth",R=r.reference[_]+r.reference[p]-d[p]-r.floating[_],F=d[p]-r.reference[p],E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let $=E?E[k]:0;(!$||!await(l.isElement==null?void 0:l.isElement(E)))&&($=a.floating[k]||r.floating[_]);const H=R/2-F/2,D=$/2-h[_]/2-1,U=yn(c[w],D),y=yn(c[A],D),b=U,I=$-h[_]-y,O=$/2-h[_]/2+H,W=sl(b,O,I),L=!s.arrow&&ko(i)!=null&&O!==W&&r.reference[_]/2-(O<b?U:y)-h[_]/2<0,x=L?O<b?O-b:O-I:0;return{[p]:d[p]+x,data:{[p]:W,centerOffset:O-W-x,...L&&{alignmentOffset:x}},reset:L}}}),Gp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:h=!0,...v}=wo(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const w=kn(i),A=kn(a)===a,k=await(s.isRTL==null?void 0:s.isRTL(u.floating)),R=d||(A||!h?[Ui(a)]:Dp(a));!d&&_!=="none"&&R.push(...Fp(a,h,_,k));const F=[a,...R],E=await ql(e,v),$=[];let H=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&$.push(E[w]),c){const b=Rp(i,l,k);$.push(E[b[0]],E[b[1]])}if(H=[...H,{placement:i,overflows:$}],!$.every(b=>b<=0)){var D,U;const b=(((D=r.flip)==null?void 0:D.index)||0)+1,I=F[b];if(I)return{data:{index:b,overflows:H},reset:{placement:I}};let O=(U=H.filter(W=>W.overflows[0]<=0).sort((W,L)=>W.overflows[1]-L.overflows[1])[0])==null?void 0:U.placement;if(!O)switch(p){case"bestFit":{var y;const W=(y=H.map(L=>[L.placement,L.overflows.filter(x=>x>0).reduce((x,z)=>x+z,0)]).sort((L,x)=>L[1]-x[1])[0])==null?void 0:y[0];W&&(O=W);break}case"initialPlacement":O=a;break}if(i!==O)return{reset:{placement:O}}}return{}}}};async function Vp(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=kn(n),a=ko(n),s=zo(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=wo(e,t);let{mainAxis:d,crossAxis:p,alignmentAxis:_}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof _=="number"&&(p=a==="end"?_*-1:_),s?{x:p*f,y:d*u}:{x:d*u,y:p*f}}const Hp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await Vp(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},Wp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:v=>{let{x:w,y:A}=v;return{x:w,y:A}}},...s}=wo(t,e),u={x:n,y:o},f=await ql(e,s),c=zo(kn(i)),d=vc(c);let p=u[d],_=u[c];if(r){const v=d==="y"?"top":"left",w=d==="y"?"bottom":"right",A=p+f[v],k=p-f[w];p=sl(A,p,k)}if(l){const v=c==="y"?"top":"left",w=c==="y"?"bottom":"right",A=_+f[v],k=_-f[w];_=sl(A,_,k)}const h=a.fn({...e,[d]:p,[c]:_});return{...h,data:{x:h.x-n,y:h.y-o}}}}},Kp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=wo(t,e),s=await ql(e,a),u=kn(n),f=ko(n),c=zo(n)==="y",{width:d,height:p}=o.floating;let _,h;u==="top"||u==="bottom"?(_=u,h=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(h=u,_=f==="end"?"top":"bottom");const v=p-s[_],w=d-s[h],A=!e.middlewareData.shift;let k=v,R=w;if(c){const E=d-s.left-s.right;R=f||A?yn(w,E):E}else{const E=p-s.top-s.bottom;k=f||A?yn(v,E):E}if(A&&!f){const E=It(s.left,0),$=It(s.right,0),H=It(s.top,0),D=It(s.bottom,0);c?R=d-2*(E!==0||$!==0?E+$:It(s.left,s.right)):k=p-2*(H!==0||D!==0?H+D:It(s.top,s.bottom))}await l({...e,availableWidth:R,availableHeight:k});const F=await i.getDimensions(r.floating);return d!==F.width||p!==F.height?{reset:{rects:!0}}:{}}}};function Cn(t){return wc(t)?(t.nodeName||"").toLowerCase():"#document"}function Pt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function un(t){var e;return(e=(wc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function wc(t){return t instanceof Node||t instanceof Pt(t).Node}function rn(t){return t instanceof Element||t instanceof Pt(t).Element}function Xt(t){return t instanceof HTMLElement||t instanceof Pt(t).HTMLElement}function Ls(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Pt(t).ShadowRoot}function ei(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=$t(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function Up(t){return["table","td","th"].includes(Cn(t))}function jl(t){const e=Bl(),n=$t(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Yp(t){let e=_o(t);for(;Xt(e)&&!vr(e);){if(jl(e))return e;e=_o(e)}return null}function Bl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vr(t){return["html","body","#document"].includes(Cn(t))}function $t(t){return Pt(t).getComputedStyle(t)}function yr(t){return rn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function _o(t){if(Cn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ls(t)&&t.host||un(t);return Ls(e)?e.host:e}function kc(t){const e=_o(t);return vr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xt(e)&&ei(e)?e:kc(e)}function Yo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=kc(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=Pt(i);return r?e.concat(l,l.visualViewport||[],ei(i)?i:[],l.frameElement&&n?Yo(l.frameElement):[]):e.concat(i,Yo(i,[],n))}function Cc(t){const e=$t(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Xt(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=Ki(n)!==r||Ki(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function Gl(t){return rn(t)?t:t.contextElement}function fo(t){const e=Gl(t);if(!Xt(e))return wn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=Cc(e);let l=(r?Ki(n.width):n.width)/o,a=(r?Ki(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const Xp=wn(0);function Ac(t){const e=Pt(t);return!Bl()||!e.visualViewport?Xp:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Jp(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Pt(t)?!1:e}function qn(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=Gl(t);let l=wn(1);e&&(o?rn(o)&&(l=fo(o)):l=fo(t));const a=Jp(r,n,o)?Ac(r):wn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=Pt(r),p=o&&rn(o)?Pt(o):o;let _=d,h=_.frameElement;for(;h&&o&&p!==_;){const v=fo(h),w=h.getBoundingClientRect(),A=$t(h),k=w.left+(h.clientLeft+parseFloat(A.paddingLeft))*v.x,R=w.top+(h.clientTop+parseFloat(A.paddingTop))*v.y;s*=v.x,u*=v.y,f*=v.x,c*=v.y,s+=k,u+=R,_=Pt(h),h=_.frameElement}}return Yi({width:f,height:c,x:s,y:u})}const xp=[":popover-open",":modal"];function Sc(t){return xp.some(e=>{try{return t.matches(e)}catch{return!1}})}function Zp(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=un(o),a=e?Sc(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=wn(1);const f=wn(0),c=Xt(o);if((c||!c&&!r)&&((Cn(o)!=="body"||ei(l))&&(s=yr(o)),Xt(o))){const d=qn(o);u=fo(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function Qp(t){return Array.from(t.getClientRects())}function Tc(t){return qn(un(t)).left+yr(t).scrollLeft}function zp(t){const e=un(t),n=yr(t),o=t.ownerDocument.body,i=It(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=It(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+Tc(t);const a=-n.scrollTop;return $t(o).direction==="rtl"&&(l+=It(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function e_(t,e){const n=Pt(t),o=un(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=Bl();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function t_(t,e){const n=qn(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=Xt(t)?fo(t):wn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function Fs(t,e,n){let o;if(e==="viewport")o=e_(t,n);else if(e==="document")o=zp(un(t));else if(rn(e))o=t_(e,n);else{const i=Ac(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return Yi(o)}function Mc(t,e){const n=_o(t);return n===e||!rn(n)||vr(n)?!1:$t(n).position==="fixed"||Mc(n,e)}function n_(t,e){const n=e.get(t);if(n)return n;let o=Yo(t,[],!1).filter(a=>rn(a)&&Cn(a)!=="body"),i=null;const r=$t(t).position==="fixed";let l=r?_o(t):t;for(;rn(l)&&!vr(l);){const a=$t(l),s=jl(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ei(l)&&!s&&Mc(t,l))?o=o.filter(f=>f!==l):i=a,l=_o(l)}return e.set(t,o),o}function o_(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?n_(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=Fs(e,f,i);return u.top=It(c.top,u.top),u.right=yn(c.right,u.right),u.bottom=yn(c.bottom,u.bottom),u.left=It(c.left,u.left),u},Fs(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function i_(t){const{width:e,height:n}=Cc(t);return{width:e,height:n}}function r_(t,e,n){const o=Xt(e),i=un(e),r=n==="fixed",l=qn(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=wn(0);if(o||!o&&!r)if((Cn(e)!=="body"||ei(i))&&(a=yr(e)),o){const c=qn(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=Tc(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function qs(t,e){return!Xt(t)||$t(t).position==="fixed"?null:e?e(t):t.offsetParent}function Ic(t,e){const n=Pt(t);if(!Xt(t)||Sc(t))return n;let o=qs(t,e);for(;o&&Up(o)&&$t(o).position==="static";)o=qs(o,e);return o&&(Cn(o)==="html"||Cn(o)==="body"&&$t(o).position==="static"&&!jl(o))?n:o||Yp(t)||n}const l_=async function(t){const e=this.getOffsetParent||Ic,n=this.getDimensions;return{reference:r_(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function s_(t){return $t(t).direction==="rtl"}const a_={convertOffsetParentRelativeRectToViewportRelativeRect:Zp,getDocumentElement:un,getClippingRect:o_,getOffsetParent:Ic,getElementRects:l_,getClientRects:Qp,getDimensions:i_,getScale:fo,isElement:rn,isRTL:s_};function u_(t,e){let n=null,o;const i=un(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const p=gi(f),_=gi(i.clientWidth-(u+c)),h=gi(i.clientHeight-(f+d)),v=gi(u),A={rootMargin:-p+"px "+-_+"px "+-h+"px "+-v+"px",threshold:It(0,yn(1,s))||1};let k=!0;function R(F){const E=F[0].intersectionRatio;if(E!==s){if(!k)return l();E?l(!1,E):o=setTimeout(()=>{l(!1,1e-7)},100)}k=!1}try{n=new IntersectionObserver(R,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,A)}n.observe(t)}return l(!0),r}function f_(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=Gl(t),f=i||r?[...u?Yo(u):[],...Yo(e)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),r&&w.addEventListener("resize",n)});const c=u&&a?u_(u,n):null;let d=-1,p=null;l&&(p=new ResizeObserver(w=>{let[A]=w;A&&A.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var k;(k=p)==null||k.observe(e)})),n()}),u&&!s&&p.observe(u),p.observe(e));let _,h=s?qn(t):null;s&&v();function v(){const w=qn(t);h&&(w.x!==h.x||w.y!==h.y||w.width!==h.width||w.height!==h.height)&&n(),h=w,_=requestAnimationFrame(v)}return n(),()=>{var w;f.forEach(A=>{i&&A.removeEventListener("scroll",n),r&&A.removeEventListener("resize",n)}),c==null||c(),(w=p)==null||w.disconnect(),p=null,s&&cancelAnimationFrame(_)}}const c_=Wp,d_=Gp,m_=Kp,p_=Bp,__=(t,e,n)=>{const o=new Map,i={platform:a_,...n},r={...i.platform,_c:o};return jp(t,e,{...i,platform:r})},h_={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},g_={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function b_(t,e,n={}){if(!e||!t||n===null)return{destroy:Ze};const o={...h_,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push(d_({boundary:o.boundary,padding:o.overflowPadding}));const l=St(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(Hp(s))}r.push(c_({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(p_({element:i,padding:8})),r.push(m_({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;__(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),St(i)&&f.middlewareData.arrow){const{x:p,y:_}=f.middlewareData.arrow,h=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:p!=null?`${p}px`:"",top:_!=null?`${_}px`:"",[h]:`calc(100% - ${l}px)`,transform:g_[h],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:f_(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Pc=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Xi=Pc.join(","),Oc=typeof Element>"u",jn=Oc?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ji=!Oc&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},xi=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},v_=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},Nc=function(e,n,o){if(xi(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Xi));return n&&jn.call(e,Xi)&&i.unshift(e),i=i.filter(o),i},Ec=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!xi(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=jn.call(l,Xi);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!xi(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var p=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,p):i.push({scopeParent:l,candidates:p})}else r.unshift.apply(r,l.children)}}return i},$c=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},On=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||v_(e))&&!$c(e)?0:e.tabIndex},y_=function(e,n){var o=On(e);return o<0&&n&&!$c(e)?0:o},w_=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Rc=function(e){return e.tagName==="INPUT"},k_=function(e){return Rc(e)&&e.type==="hidden"},C_=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},A_=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},S_=function(e){if(!e.name)return!0;var n=e.form||Ji(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=A_(i,e.form);return!r||r===e},T_=function(e){return Rc(e)&&e.type==="radio"},M_=function(e){return T_(e)&&!S_(e)},I_=function(e){var n,o=e&&Ji(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=Ji(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},js=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},P_=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=jn.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(jn.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=Ji(e);if(s&&!s.shadowRoot&&i(s)===!0)return js(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(I_(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return js(e);return!1},O_=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return jn.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},Zi=function(e,n){return!(n.disabled||xi(n)||k_(n)||P_(n,e)||C_(n)||O_(n))},ul=function(e,n){return!(M_(n)||On(n)<0||!Zi(e,n))},N_=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},E_=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=y_(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(w_).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},$_=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Ec([e],n.includeContainer,{filter:ul.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:N_}):o=Nc(e,n.includeContainer,ul.bind(null,n)),E_(o)},R_=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Ec([e],n.includeContainer,{filter:Zi.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=Nc(e,n.includeContainer,Zi.bind(null,n)),o},oo=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return jn.call(e,Xi)===!1?!1:ul(n,e)},D_=Pc.concat("iframe").join(","),qr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return jn.call(e,D_)===!1?!1:Zi(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Bs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function Gs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bs(Object(n),!0).forEach(function(o){L_(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bs(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function L_(t,e,n){return e=q_(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F_(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q_(t){var e=F_(t,"string");return typeof e=="symbol"?e:String(e)}var Vs={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},j_=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},B_=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Ho=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},G_=function(e){return Ho(e)&&!e.shiftKey},V_=function(e){return Ho(e)&&e.shiftKey},Hs=function(e){return setTimeout(e,0)},Ws=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},$o=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},bi=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},H_=[],W_=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||H_,r=Gs({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:G_,isKeyBackward:V_},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(b,I,O){return b&&b[I]!==void 0?b[I]:r[O||I]},u=function(b,I){var O=typeof(I==null?void 0:I.composedPath)=="function"?I.composedPath():void 0;return l.containerGroups.findIndex(function(W){var L=W.container,x=W.tabbableNodes;return L.contains(b)||(O==null?void 0:O.includes(L))||x.find(function(z){return z===b})})},f=function(b){var I=r[b];if(typeof I=="function"){for(var O=arguments.length,W=new Array(O>1?O-1:0),L=1;L<O;L++)W[L-1]=arguments[L];I=I.apply(void 0,W)}if(I===!0&&(I=void 0),!I){if(I===void 0||I===!1)return I;throw new Error("`".concat(b,"` was specified but was not a node, or did not return a node"))}var x=I;if(typeof I=="string"&&(x=o.querySelector(I),!x))throw new Error("`".concat(b,"` as selector refers to no known node"));return x},c=function(){var b=f("initialFocus");if(b===!1)return!1;if(b===void 0||!qr(b,r.tabbableOptions))if(u(o.activeElement)>=0)b=o.activeElement;else{var I=l.tabbableGroups[0],O=I&&I.firstTabbableNode;b=O||f("fallbackFocus")}if(!b)throw new Error("Your focus-trap needs to have at least one focusable element");return b},d=function(){if(l.containerGroups=l.containers.map(function(b){var I=$_(b,r.tabbableOptions),O=R_(b,r.tabbableOptions),W=I.length>0?I[0]:void 0,L=I.length>0?I[I.length-1]:void 0,x=O.find(function(K){return oo(K)}),z=O.slice().reverse().find(function(K){return oo(K)}),Z=!!I.find(function(K){return On(K)>0});return{container:b,tabbableNodes:I,focusableNodes:O,posTabIndexesFound:Z,firstTabbableNode:W,lastTabbableNode:L,firstDomTabbableNode:x,lastDomTabbableNode:z,nextTabbableNode:function(ee){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,m=I.indexOf(ee);return m<0?ne?O.slice(O.indexOf(ee)+1).find(function(j){return oo(j)}):O.slice(0,O.indexOf(ee)).reverse().find(function(j){return oo(j)}):I[m+(ne?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(b){return b.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(b){return b.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function y(b){var I=b.activeElement;if(I)return I.shadowRoot&&I.shadowRoot.activeElement!==null?y(I.shadowRoot):I},_=function y(b){if(b!==!1&&b!==p(document)){if(!b||!b.focus){y(c());return}b.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=b,j_(b)&&b.select()}},h=function(b){var I=f("setReturnFocus",b);return I||(I===!1?!1:b)},v=function(b){var I=b.target,O=b.event,W=b.isBackward,L=W===void 0?!1:W;I=I||bi(O),d();var x=null;if(l.tabbableGroups.length>0){var z=u(I,O),Z=z>=0?l.containerGroups[z]:void 0;if(z<0)L?x=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:x=l.tabbableGroups[0].firstTabbableNode;else if(L){var K=Ws(l.tabbableGroups,function(ie){var re=ie.firstTabbableNode;return I===re});if(K<0&&(Z.container===I||qr(I,r.tabbableOptions)&&!oo(I,r.tabbableOptions)&&!Z.nextTabbableNode(I,!1))&&(K=z),K>=0){var ee=K===0?l.tabbableGroups.length-1:K-1,ne=l.tabbableGroups[ee];x=On(I)>=0?ne.lastTabbableNode:ne.lastDomTabbableNode}else Ho(O)||(x=Z.nextTabbableNode(I,!1))}else{var m=Ws(l.tabbableGroups,function(ie){var re=ie.lastTabbableNode;return I===re});if(m<0&&(Z.container===I||qr(I,r.tabbableOptions)&&!oo(I,r.tabbableOptions)&&!Z.nextTabbableNode(I))&&(m=z),m>=0){var j=m===l.tabbableGroups.length-1?0:m+1,B=l.tabbableGroups[j];x=On(I)>=0?B.firstTabbableNode:B.firstDomTabbableNode}else Ho(O)||(x=Z.nextTabbableNode(I))}}else x=f("fallbackFocus");return x},w=function(b){var I=bi(b);if(!(u(I,b)>=0)){if($o(r.clickOutsideDeactivates,b)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}$o(r.allowOutsideClick,b)||b.preventDefault()}},A=function(b){var I=bi(b),O=u(I,b)>=0;if(O||I instanceof Document)O&&(l.mostRecentlyFocusedNode=I);else{b.stopImmediatePropagation();var W,L=!0;if(l.mostRecentlyFocusedNode)if(On(l.mostRecentlyFocusedNode)>0){var x=u(l.mostRecentlyFocusedNode),z=l.containerGroups[x].tabbableNodes;if(z.length>0){var Z=z.findIndex(function(K){return K===l.mostRecentlyFocusedNode});Z>=0&&(r.isKeyForward(l.recentNavEvent)?Z+1<z.length&&(W=z[Z+1],L=!1):Z-1>=0&&(W=z[Z-1],L=!1))}}else l.containerGroups.some(function(K){return K.tabbableNodes.some(function(ee){return On(ee)>0})})||(L=!1);else L=!1;L&&(W=v({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),_(W||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},k=function(b){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=b;var O=v({event:b,isBackward:I});O&&(Ho(b)&&b.preventDefault(),_(O))},R=function(b){if(B_(b)&&$o(r.escapeDeactivates,b)!==!1){b.preventDefault(),a.deactivate();return}(r.isKeyForward(b)||r.isKeyBackward(b))&&k(b,r.isKeyBackward(b))},F=function(b){var I=bi(b);u(I,b)>=0||$o(r.clickOutsideDeactivates,b)||$o(r.allowOutsideClick,b)||(b.preventDefault(),b.stopImmediatePropagation())},E=function(){if(l.active)return Vs.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?Hs(function(){_(c())}):_(c()),o.addEventListener("focusin",A,!0),o.addEventListener("mousedown",w,{capture:!0,passive:!1}),o.addEventListener("touchstart",w,{capture:!0,passive:!1}),o.addEventListener("click",F,{capture:!0,passive:!1}),o.addEventListener("keydown",R,{capture:!0,passive:!1}),a},$=function(){if(l.active)return o.removeEventListener("focusin",A,!0),o.removeEventListener("mousedown",w,!0),o.removeEventListener("touchstart",w,!0),o.removeEventListener("click",F,!0),o.removeEventListener("keydown",R,!0),a},H=function(b){var I=b.some(function(O){var W=Array.from(O.removedNodes);return W.some(function(L){return L===l.mostRecentlyFocusedNode})});I&&_(c())},D=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(H):void 0,U=function(){D&&(D.disconnect(),l.active&&!l.paused&&l.containers.map(function(b){D.observe(b,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(b){if(l.active)return this;var I=s(b,"onActivate"),O=s(b,"onPostActivate"),W=s(b,"checkCanFocusTrap");W||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,I==null||I();var L=function(){W&&d(),E(),U(),O==null||O()};return W?(W(l.containers.concat()).then(L,L),this):(L(),this)},deactivate:function(b){if(!l.active)return this;var I=Gs({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},b);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,$(),l.active=!1,l.paused=!1,U(),Vs.deactivateTrap(i,a);var O=s(I,"onDeactivate"),W=s(I,"onPostDeactivate"),L=s(I,"checkCanReturnFocus"),x=s(I,"returnFocus","returnFocusOnDeactivate");O==null||O();var z=function(){Hs(function(){x&&_(h(l.nodeFocusedBeforeActivation)),W==null||W()})};return x&&L?(L(h(l.nodeFocusedBeforeActivation)).then(z,z),this):(z(),this)},pause:function(b){if(l.paused||!l.active)return this;var I=s(b,"onPause"),O=s(b,"onPostPause");return l.paused=!0,I==null||I(),$(),U(),O==null||O(),this},unpause:function(b){if(!l.paused||!l.active)return this;var I=s(b,"onUnpause"),O=s(b,"onPostUnpause");return l.paused=!1,I==null||I(),d(),E(),U(),O==null||O(),this},updateContainerElements:function(b){var I=[].concat(b).filter(Boolean);return l.containers=I.map(function(O){return typeof O=="string"?o.querySelector(O):O}),l.active&&d(),U(),this}},a.updateContainerElements(e),a};function K_(t={}){let e;const{immediate:n,...o}=t,i=Ke(!1),r=Ke(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=W_(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:vs(i),isPaused:vs(r),activate:l,deactivate:a,pause:s,unpause:u}}const vi=[];function U_(t,e){let n=Ze;function o(){const r=vi.indexOf(t);r>=0&&vi.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;Rl(100).then(()=>{l?vi.push(t):o()});function f(){return lp(vi)===t}function c(){f()&&a&&(a(),o())}function d(_){const h=_.target;hr(h)&&h&&f()&&(_.preventDefault(),_.stopPropagation(),_.stopImmediatePropagation())}function p(_){s!=null&&s(_)&&f()&&(_.preventDefault(),_.stopPropagation(),_.stopImmediatePropagation(),c())}n=Y_(t,{onInteractOutsideStart:d,onInteractOutside:u?p:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const Dc=(t,e="body")=>{let n;if(!St(e)&&typeof e!="string")return{destroy:Ze};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Il(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function Y_(t,e){let n=Ze,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function p(v){f&&Ks(v,t)&&(c==null||c(v));const w=v.target;hr(w)&&Lc(t,w)&&(i=!0),o=!0}function _(v){f==null||f(v)}const h=X_(t);if(typeof PointerEvent<"u"){const v=w=>{a(w)&&_(w),s()};n=Kt(vt(h,"pointerdown",p,!0),vt(h,"pointerup",v,!0))}else{const v=A=>{r?r=!1:a(A)&&_(A),s()},w=A=>{r=!0,a(A)&&_(A),s()};n=Kt(vt(h,"mousedown",p,!0),vt(h,"mouseup",v,!0),vt(h,"touchstart",p,!0),vt(h,"touchend",w,!0))}}function a(u){return!!(o&&!i&&Ks(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function Ks(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!hr(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!Lc(e,n)}function Lc(t,e){return t===e||t.contains(e)}function X_(t){return(t==null?void 0:t.ownerDocument)??document}Rn(!1),Rn(!1),Rn(void 0);function J_(){return{elements:{root:pt("label",{action:e=>({destroy:Ct(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:In}=_r("dialog"),x_={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},Z_=["content","title","description"];function Fc(t){const e={...x_,...t},n=Fn(gr(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=nn.writable(null),p=Fn({...Dl(Z_),...e.ids}),_=e.open??Ke(e.defaultOpen),h=br(_,e==null?void 0:e.onOpenChange),v=an([h,s],([y,b])=>y||b);let w=Ze;function A(y){const b=y.currentTarget,I=y.currentTarget;!St(b)||!St(I)||(h.set(!0),d.set(I))}function k(){h.set(!1),$s({prop:f.get(),defaultEl:d.get()})}const R=pt(In("trigger"),{stores:[h],returned:([y])=>({"aria-haspopup":"dialog","aria-expanded":y,type:"button"}),action:y=>({destroy:Kt(Ct(y,"click",I=>{A(I)}),Ct(y,"keydown",I=>{I.key!==st.ENTER&&I.key!==st.SPACE||(I.preventDefault(),A(I))}))})}),F=pt(In("overlay"),{stores:[v,h],returned:([y,b])=>({hidden:y?void 0:!0,tabindex:-1,style:hn({display:y?void 0:"none"}),"aria-hidden":!0,"data-state":b?"open":"closed"}),action:y=>{let b=Ze;if(i.get()){const I=Rs(y,{handler:()=>{k()}});I&&I.destroy&&(b=I.destroy)}return{destroy(){b()}}}}),E=pt(In("content"),{stores:[v,p.content,p.description,p.title,h],returned:([y,b,I,O,W])=>({id:b,role:l.get(),"aria-describedby":I,"aria-labelledby":O,"aria-modal":y?"true":void 0,"data-state":W?"open":"closed",tabindex:-1,hidden:y?void 0:!0,style:hn({display:y?void 0:"none"})}),action:y=>{let b=Ze,I=Ze;const O=Kt(Nt([h],([W])=>{if(!W)return;const L=K_({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:y});b=L.activate,I=L.deactivate;const x=L.useFocusTrap(y);return x&&x.destroy?x.destroy:L.deactivate}),Nt([r,h],([W,L])=>U_(y,{open:L,closeOnInteractOutside:W,onClose(){k()},shouldCloseOnInteractOutside(x){var z;return(z=c.get())==null||z(x),!x.defaultPrevented}}).destroy),Nt([i],([W])=>{if(!W)return Ze;const L=Rs(y,{handler:()=>{k()}});return L&&L.destroy?L.destroy:Ze}),Nt([v],([W])=>{Il().then(()=>{W?b():I()})}));return{destroy:()=>{w(),O()}}}}),$=pt(In("portalled"),{stores:a,returned:y=>({"data-portal":pc(y)}),action:y=>{const b=Nt([a],([I])=>{if(I===null)return Ze;const O=bc(y,I);if(O===null)return Ze;const W=Dc(y,O);return W&&W.destroy?W.destroy:Ze});return{destroy(){b()}}}}),H=pt(In("title"),{stores:[p.title],returned:([y])=>({id:y})}),D=pt(In("description"),{stores:[p.description],returned:([y])=>({id:y})}),U=pt(In("close"),{returned:()=>({type:"button"}),action:y=>({destroy:Kt(Ct(y,"click",()=>{k()}),Ct(y,"keydown",I=>{I.key!==st.SPACE&&I.key!==st.ENTER||(I.preventDefault(),k())}))})});return Nt([h,o],([y,b])=>{if(Uo){if(b&&y&&(w=Ip()),y){const I=document.getElementById(p.content.get());$s({prop:u.get(),defaultEl:I})}return()=>{s.get()||w()}}}),{ids:p,elements:{content:E,trigger:R,title:H,description:D,overlay:F,close:U,portalled:$},states:{open:h},options:n}}const Q_={defaultValue:0,max:100},{name:z_}=_r("progress"),eh=t=>{const e={...Q_,...t},n=Fn(gr(e,"value")),{max:o}=n,i=e.value??Ke(e.defaultValue),r=br(i,e==null?void 0:e.onValueChange);return{elements:{root:pt(z_(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},th={orientation:"horizontal",decorative:!1},nh=t=>{const e={...th,...t},n=Fn(e),{orientation:o,decorative:i}=n;return{elements:{root:pt("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},oh={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:yi}=_r("slider"),ih=t=>{const e={...oh,...t},n=Fn(gr(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??Ke(e.defaultValue),f=br(u,e==null?void 0:e.onValueChange),c=nn(Ke(!1)),d=nn(Ke(0)),p=nn(Ke(null)),_=Dl(["root"]),h=($,H)=>{f.update(D=>{if(!D)return[$];if(D[H]===$)return D;const U=[...D],y=U[H]>$?-1:1;function b(){U[H]=U[H+y],U[H+y]=$;const L=v();L&&(L[H+y].focus(),p.set({thumb:L[H+y],index:H+y}))}if(y===-1&&$<U[H-1])return b(),U;if(y===1&&$>U[H+1])return b(),U;const I=o.get(),O=i.get(),W=r.get();return U[H]=Fr($,I,O,W),U})},v=()=>{const $=Dr(_.root);return $?Array.from($.querySelectorAll('[data-melt-part="thumb"]')).filter(H=>St(H)):null},w=an([o,i],([$,H])=>D=>(D-$)/(H-$)*100),A=nn.derived([l,a],([$,H])=>$==="horizontal"?H==="rtl"?"rl":"lr":H==="rtl"?"tb":"bt"),k=pt(yi(),{stores:[s,l,a],returned:([$,H,D])=>({dir:D,disabled:Rr($),"data-disabled":Rr($),"data-orientation":H,style:$?void 0:`touch-action: ${H==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":_.root})}),R=pt(yi("range"),{stores:[f,A,w],returned:([$,H,D])=>{const U=$.length>1?D(Math.min(...$)??0):0,y=100-D(Math.max(...$)??0),b={position:"absolute"};switch(H){case"lr":{b.left=`${U}%`,b.right=`${y}%`;break}case"rl":{b.right=`${U}%`,b.left=`${y}%`;break}case"bt":{b.bottom=`${U}%`,b.top=`${y}%`;break}case"tb":{b.top=`${U}%`,b.bottom=`${y}%`;break}}return{style:hn(b)}}}),F=Os(yi("thumb"),{stores:[f,w,o,i,s,l,A],returned:([$,H,D,U,y,b,I])=>Array.from({length:$.length||1},(W,L)=>{d.get()<$.length&&d.update(ee=>ee+1);const z=$[L],Z=`${H(z)}%`,K={position:"absolute"};switch(I){case"lr":{K.left=Z,K.translate="-50% 0";break}case"rl":{K.right=Z,K.translate="50% 0";break}case"bt":{K.bottom=Z,K.translate="0 50%";break}case"tb":{K.top=Z,K.translate="0 -50%";break}}return{role:"slider","aria-valuemin":D,"aria-valuemax":U,"aria-valuenow":z,"aria-disabled":Rr(y),"aria-orientation":b,"data-melt-part":"thumb","data-value":z,style:hn(K),tabindex:y?-1:0}}),action:$=>({destroy:Ct($,"keydown",D=>{if(s.get())return;const U=D.currentTarget;if(!St(U))return;const y=v();if(!(y!=null&&y.length))return;const b=y.indexOf(U);if(d.set(b),![st.ARROW_LEFT,st.ARROW_RIGHT,st.ARROW_UP,st.ARROW_DOWN,st.HOME,st.END].includes(D.key))return;D.preventDefault();const I=o.get(),O=i.get(),W=r.get(),L=f.get(),x=l.get(),z=A.get(),Z=L[b];switch(D.key){case st.HOME:{h(I,b);break}case st.END:{h(O,b);break}case st.ARROW_LEFT:{if(x!=="horizontal")break;D.metaKey?h(z==="rl"?O:I,b):z==="rl"&&Z<O?h(Z+W,b):z==="lr"&&Z>I&&h(Z-W,b);break}case st.ARROW_RIGHT:{if(x!=="horizontal")break;D.metaKey?h(z==="rl"?I:O,b):z==="rl"&&Z>I?h(Z-W,b):z==="lr"&&Z<O&&h(Z+W,b);break}case st.ARROW_UP:{D.metaKey?h(z==="tb"?I:O,b):z==="tb"&&Z>I?h(Z-W,b):z!=="tb"&&Z<O&&h(Z+W,b);break}case st.ARROW_DOWN:{D.metaKey?h(z==="tb"?O:I,b):z==="tb"&&Z<O?h(Z+W,b):z!=="tb"&&Z>I&&h(Z-W,b);break}}})})}),E=Os(yi("tick"),{stores:[f,o,i,r,A],returned:([$,H,D,U,y])=>{const b=D-H;let I=Math.ceil(b/U);return b%U==0&&I++,Array.from({length:I},(O,W)=>{const L=`${W*(U/(D-H))*100}%`,x=W===0,z=W===I-1,Z=x?0:z?-100:-50,K={position:"absolute"};switch(y){case"lr":{K.left=L,K.translate=`${Z}% 0`;break}case"rl":{K.right=L,K.translate=`${-Z}% 0`;break}case"bt":{K.bottom=L,K.translate=`0 ${-Z}%`;break}case"tb":{K.top=L,K.translate=`0 ${Z}%`;break}}const ee=H+W*U;return{"data-bounded":($.length===1?ee<=$[0]:$[0]<=ee&&ee<=$[$.length-1])?!0:void 0,"data-value":ee,style:hn(K)}})}});return Nt([k,o,i,s,l,A,r],([$,H,D,U,y,b,I])=>{if(!Uo||U)return;const O=(K,ee,ne,m)=>{const B=(K-ne)/(m-ne)*(D-H)+H;if(B<H)h(H,ee);else if(B>D)h(D,ee);else{const ie=I,re=H,ke=Math.floor((B-re)/ie),Le=re+ke*ie+ie/2,Me=re+(ke+1)*ie+ie/2,ze=B>=Le&&B<Me?(ke+1)*ie+re:ke*ie+re;ze<=D&&h(ze,ee)}},W=K=>{const ee=v();if(!ee)return;ee.forEach(B=>B.blur());const ne=ee.map(B=>{if(y==="horizontal"){const{left:ie,right:re}=B.getBoundingClientRect();return Math.abs(K.clientX-(ie+re)/2)}else{const{top:ie,bottom:re}=B.getBoundingClientRect();return Math.abs(K.clientY-(ie+re)/2)}}),m=ee[ne.indexOf(Math.min(...ne))],j=ee.indexOf(m);return{thumb:m,index:j}},L=K=>{if(!c.get())return;K.preventDefault(),K.stopPropagation();const ee=Dr($["data-melt-id"]),ne=p.get();if(!ee||!ne)return;ne.thumb.focus();const{left:m,right:j,top:B,bottom:ie}=ee.getBoundingClientRect();switch(b){case"lr":{O(K.clientX,ne.index,m,j);break}case"rl":{O(K.clientX,ne.index,j,m);break}case"bt":{O(K.clientY,ne.index,ie,B);break}case"tb":{O(K.clientY,ne.index,B,ie);break}}},x=K=>{if(K.button!==0)return;const ee=Dr($["data-melt-id"]),ne=W(K);if(!ne||!ee)return;const m=K.target;!St(m)||!ee.contains(m)||(K.preventDefault(),p.set(ne),ne.thumb.focus(),c.set(!0),L(K))},z=()=>{c.set(!1)},Z=Kt(vt(document,"pointerdown",x),vt(document,"pointerup",z),vt(document,"pointerleave",z),vt(document,"pointermove",L));return()=>{Z()}}),Nt([r,o,i,f],function([H,D,U,y]){const b=O=>Fr(O,D,U,H)===O,I=O=>Fr(O,D,U,H);y.some(O=>!b(O))&&f.update(O=>O.map(I))}),{elements:{root:k,thumbs:F,range:R,ticks:E},states:{value:f},options:n}},rh={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:jr}=_r("tooltip"),wi=new Map,lh=["trigger","content"];function sh(t){const e={...rh,...t},n=Fn(gr(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,p=e.open??Ke(e.defaultOpen),_=br(p,e==null?void 0:e.onOpenChange),h=Ke(null),v=Fn({...Dl(lh),...e.ids});let w=!1;const A=b=>Uo?document.getElementById(v[b].get()):null;let k=null,R=null;function F(b){R&&(window.clearTimeout(R),R=null),k||(k=window.setTimeout(()=>{_.set(!0),h.update(I=>I??b),k=null},l.get()))}function E(b){if(k&&(window.clearTimeout(k),k=null),b&&y){h.set("pointer");return}R||(R=window.setTimeout(()=>{_.set(!1),h.set(null),b&&(w=!1),R=null},a.get()))}const $=an([_,s],([b,I])=>b||I),H=pt(jr("trigger"),{stores:[v.content,v.trigger,_],returned:([b,I,O])=>({"aria-describedby":b,id:I,"data-state":O?"open":"closed"}),action:b=>{const I=W=>{f.get()&&W.key===st.ESCAPE&&(k&&(window.clearTimeout(k),k=null),_.set(!1))};return{destroy:Kt(Ct(b,"pointerdown",()=>{r.get()&&(_.set(!1),w=!0,k&&(window.clearTimeout(k),k=null))}),Ct(b,"pointerenter",W=>{Ns(W)||F("pointer")}),Ct(b,"pointerleave",W=>{Ns(W)||k&&(window.clearTimeout(k),k=null)}),Ct(b,"focus",()=>{w||F("focus")}),Ct(b,"blur",async()=>{await Rl(0),E(!0)}),Ct(b,"keydown",I),vt(document,"keydown",I))}}}),D=pt(jr("content"),{stores:[$,_,u,v.content],returned:([b,I,O,W])=>({role:"tooltip",hidden:b?void 0:!0,tabindex:-1,style:hn({display:b?void 0:"none"}),id:W,"data-portal":pc(O),"data-state":I?"open":"closed"}),action:b=>{let I=Ze,O=Ze;const W=Nt([$,o,u],([z,Z,K])=>{const ee=A("trigger");if(!z||!ee){O(),I();return}if(I=b_(ee,b,Z).destroy,K===null){O();return}const m=bc(b,K);if(m){const j=Dc(b,m);j&&j.destroy&&(O=j.destroy)}});function L(z){if(!_.get())return;const Z=z.target;if(!hr(Z)&&!sp(Z))return;const K=A("trigger");K&&Z.contains(K)&&E()}const x=Kt(Ct(b,"pointerenter",()=>F("pointer")),Ct(b,"pointerdown",()=>F("pointer")),vt(window,"scroll",L,{capture:!0}));return{destroy(){x(),O(),I(),W()}}}}),U=pt(jr("arrow"),{stores:i,returned:b=>({"data-arrow":!0,style:hn({position:"absolute",width:`var(--arrow-size, ${b}px)`,height:`var(--arrow-size, ${b}px)`})})});let y=!1;return Nt(_,b=>{const I=d.get();if(I===void 0||I===!1)return;if(!b){wi.get(I)===_&&wi.delete(I);return}const O=wi.get(I);O==null||O.set(!1),wi.set(I,_)}),Nt([_,h],([b,I])=>{if(!(!b||!Uo))return Kt(vt(document,"mousemove",O=>{const W=A("content"),L=A("trigger");if(!W||!L)return;const x=c.get()?[L]:[L,W],z=Ap(x);y=Sp({x:O.clientX,y:O.clientY},z),I==="pointer"&&(y||E())}))}),{ids:v,elements:{trigger:H,content:D,arrow:U},states:{open:_},options:n}}function Hn(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Wn(){const t=xd();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function Co(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function Bn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function qc(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function ah(t){const{NAME:e,PARTS:n}=qc(),o=Hn(e,n),i=Fc({...Co(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:Bn(i.options)};return dr(e,r),{...r,updateOption:Bn(r.options),getAttrs:o}}function Kn(){const{NAME:t}=qc();return mr(t)}const uh=t=>({ids:t&1}),Us=t=>({ids:t[0]});function fh(t){let e;const n=t[12].default,o=pe(n,t,t[11],Us);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&he(o,n,i,i[11],e?_e(n,i[11],r,uh):ge(i[11]),Us)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function ch(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:p=void 0}=e,{onOutsideClick:_=void 0}=e;const{states:{open:h},updateOption:v,ids:w}=ah({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:p,onOutsideClick:_,onOpenChange:({next:k})=>(f!==k&&(c==null||c(k),n(2,f=k)),k)}),A=an([w.content,w.description,w.title],([k,R,F])=>({content:k,description:R,title:F}));return fe(t,A,k=>n(0,o=k)),t.$$set=k=>{"preventScroll"in k&&n(3,l=k.preventScroll),"closeOnEscape"in k&&n(4,a=k.closeOnEscape),"closeOnOutsideClick"in k&&n(5,s=k.closeOnOutsideClick),"portal"in k&&n(6,u=k.portal),"open"in k&&n(2,f=k.open),"onOpenChange"in k&&n(7,c=k.onOpenChange),"openFocus"in k&&n(8,d=k.openFocus),"closeFocus"in k&&n(9,p=k.closeFocus),"onOutsideClick"in k&&n(10,_=k.onOutsideClick),"$$scope"in k&&n(11,r=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&h.set(f),t.$$.dirty&8&&v("preventScroll",l),t.$$.dirty&16&&v("closeOnEscape",a),t.$$.dirty&32&&v("closeOnOutsideClick",s),t.$$.dirty&64&&v("portal",u),t.$$.dirty&256&&v("openFocus",d),t.$$.dirty&512&&v("closeFocus",p),t.$$.dirty&1024&&v("onOutsideClick",_)},[o,A,f,l,a,s,u,c,d,p,_,r,i]}class dh extends ve{constructor(e){super(),be(this,e,ch,fh,de,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const mh=t=>({builder:t&8}),Ys=t=>({builder:t[3]}),ph=t=>({builder:t&8}),Xs=t=>({builder:t[3]});function _h(t){let e=t[1],n,o,i=t[1]&&Br(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1]?e?de(e,r[1])?(i.d(1),i=Br(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Br(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function hh(t){let e;const n=t[9].default,o=pe(n,t,t[8],Xs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&he(o,n,i,i[8],e?_e(n,i[8],r,ph):ge(i[8]),Xs)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Br(t){let e,n,o,i;const r=t[9].default,l=pe(r,t,t[8],Ys);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),gn(t[1])(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=je(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&he(l,r,u,u[8],n?_e(r,u[8],f,mh):ge(u[8]),Ys),gn(u[1])(e,s=we(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function gh(t){let e,n,o,i;const r=[hh,_h],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function bh(t,e,n){let o;const i=["level","asChild","id","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:p},ids:_,getAttrs:h}=Kn();fe(t,p,A=>n(7,l=A));const v=h("title");function w(A){Ne[A?"unshift":"push"](()=>{d=A,n(0,d)})}return t.$$set=A=>{e=Q(Q({},e),Re(A)),n(5,r=ae(e,i)),"level"in A&&n(1,u=A.level),"asChild"in A&&n(2,f=A.asChild),"id"in A&&n(6,c=A.id),"el"in A&&n(0,d=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&_.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,v)},[d,u,f,o,p,r,c,l,s,a,w]}let vh=class extends ve{constructor(e){super(),be(this,e,bh,gh,de,{level:1,asChild:2,id:6,el:0})}};const yh=t=>({builder:t&4}),Js=t=>({builder:t[2]}),wh=t=>({builder:t&4}),xs=t=>({builder:t[2]});function kh(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],Js);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("button"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?_e(r,u[7],f,yh):ge(u[7]),Js),ue(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,qe(i)}}}function Ch(t){let e;const n=t[8].default,o=pe(n,t,t[7],xs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?_e(n,i[7],r,wh):ge(i[7]),xs)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Ah(t){let e,n,o,i;const r=[Ch,kh],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Sh(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Kn();fe(t,c,v=>n(6,l=v));const p=Wn(),_=d("action");function h(v){Ne[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=Q(Q({},e),Re(v)),n(5,r=ae(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[f,u,o,c,p,r,l,s,a,h]}let Th=class extends ve{constructor(e){super(),be(this,e,Sh,Ah,de,{asChild:1,el:0})}};const Mh=t=>({builder:t&4}),Zs=t=>({builder:t[2]}),Ih=t=>({builder:t&4}),Qs=t=>({builder:t[2]});function Ph(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],Zs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("button"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?_e(r,u[7],f,Mh):ge(u[7]),Zs),ue(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,qe(i)}}}function Oh(t){let e;const n=t[8].default,o=pe(n,t,t[7],Qs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?_e(n,i[7],r,Ih):ge(i[7]),Qs)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Nh(t){let e,n,o,i;const r=[Oh,Ph],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Eh(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Kn();fe(t,c,v=>n(6,l=v));const p=Wn(),_=d("cancel");function h(v){Ne[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=Q(Q({},e),Re(v)),n(5,r=ae(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[f,u,o,c,p,r,l,s,a,h]}let $h=class extends ve{constructor(e){super(),be(this,e,Eh,Nh,de,{asChild:1,el:0})}};const Rh=t=>({builder:t&4}),zs=t=>({builder:t[2]}),Dh=t=>({builder:t&4}),ea=t=>({builder:t[2]});function Lh(t){let e,n,o,i;const r=t[7].default,l=pe(r,t,t[6],zs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&he(l,r,u,u[6],n?_e(r,u[6],f,Rh):ge(u[6]),zs),ue(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function Fh(t){let e;const n=t[7].default,o=pe(n,t,t[6],ea);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&he(o,n,i,i[6],e?_e(n,i[6],r,Dh):ge(i[6]),ea)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function qh(t){let e,n,o,i;const r=[Fh,Lh],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function jh(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Kn();fe(t,c,h=>n(5,l=h));const p=d("portal");function _(h){Ne[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=Q(Q({},e),Re(h)),n(4,r=ae(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,r,l,s,a,_]}let Bh=class extends ve{constructor(e){super(),be(this,e,jh,qh,de,{asChild:1,el:0})}};const Gh=t=>({builder:t[0]&256}),ta=t=>({builder:t[8]}),Vh=t=>({builder:t[0]&256}),na=t=>({builder:t[8]}),Hh=t=>({builder:t[0]&256}),oa=t=>({builder:t[8]}),Wh=t=>({builder:t[0]&256}),ia=t=>({builder:t[8]}),Kh=t=>({builder:t[0]&256}),ra=t=>({builder:t[8]}),Uh=t=>({builder:t[0]&256}),la=t=>({builder:t[8]});function Yh(t){let e,n,o,i;const r=t[16].default,l=pe(r,t,t[15],ta);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[je(t[8].action(e)),te(e,"pointerdown",t[45]),te(e,"pointermove",t[46]),te(e,"pointerup",t[47]),te(e,"touchend",t[48]),te(e,"touchstart",t[49]),te(e,"touchcancel",t[50]),te(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&he(l,r,u,u[15],n?_e(r,u[15],f,Gh):ge(u[15]),ta),ue(e,s=we(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,qe(i)}}}function Xh(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],na);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[je(t[8].action(e)),te(e,"pointerdown",t[38]),te(e,"pointermove",t[39]),te(e,"pointerup",t[40]),te(e,"touchend",t[41]),te(e,"touchstart",t[42]),te(e,"touchcancel",t[43]),te(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?_e(l,t[15],c,Vh):ge(t[15]),na),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=xt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,qe(r)}}}function Jh(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],oa);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[je(t[8].action(e)),te(e,"pointerdown",t[31]),te(e,"pointermove",t[32]),te(e,"pointerup",t[33]),te(e,"touchend",t[34]),te(e,"touchstart",t[35]),te(e,"touchcancel",t[36]),te(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?_e(l,t[15],c,Hh):ge(t[15]),oa),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&(n||ot(()=>{n=Jt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,qe(r)}}}function xh(t){let e,n,o,i,r,l;const a=t[16].default,s=pe(a,t,t[15],ia);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=P("div"),s&&s.c(),ue(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[je(t[8].action(e)),te(e,"pointerdown",t[24]),te(e,"pointermove",t[25]),te(e,"pointerup",t[26]),te(e,"touchend",t[27]),te(e,"touchstart",t[28]),te(e,"touchcancel",t[29]),te(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&he(s,a,t,t[15],i?_e(a,t[15],d,Wh):ge(t[15]),ia),ue(e,f=we(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(C(s,c),c&&ot(()=>{i&&(o&&o.end(1),n=Jt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=xt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,qe(l)}}}function Zh(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],ra);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[je(t[8].action(e)),te(e,"pointerdown",t[17]),te(e,"pointermove",t[18]),te(e,"pointerup",t[19]),te(e,"touchend",t[20]),te(e,"touchstart",t[21]),te(e,"touchcancel",t[22]),te(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?_e(l,t[15],c,Kh):ge(t[15]),ra),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&ot(()=>{o&&(n||(n=Yt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Yt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,qe(r)}}}function Qh(t){let e;const n=t[16].default,o=pe(n,t,t[15],la);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&he(o,n,i,i[15],e?_e(n,i[15],r,Uh):ge(i[15]),la)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function zh(t){let e,n,o,i;const r=[Qh,Zh,xh,Jh,Xh,Yh],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function e0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=ae(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{id:v=void 0}=e,{asChild:w=!1}=e,{el:A=void 0}=e;const{elements:{content:k},states:{open:R},ids:F,getAttrs:E}=Kn();fe(t,k,G=>n(14,l=G)),fe(t,R,G=>n(9,a=G));const $=E("content");function H(G){oe.call(this,t,G)}function D(G){oe.call(this,t,G)}function U(G){oe.call(this,t,G)}function y(G){oe.call(this,t,G)}function b(G){oe.call(this,t,G)}function I(G){oe.call(this,t,G)}function O(G){oe.call(this,t,G)}function W(G){oe.call(this,t,G)}function L(G){oe.call(this,t,G)}function x(G){oe.call(this,t,G)}function z(G){oe.call(this,t,G)}function Z(G){oe.call(this,t,G)}function K(G){oe.call(this,t,G)}function ee(G){oe.call(this,t,G)}function ne(G){oe.call(this,t,G)}function m(G){oe.call(this,t,G)}function j(G){oe.call(this,t,G)}function B(G){oe.call(this,t,G)}function ie(G){oe.call(this,t,G)}function re(G){oe.call(this,t,G)}function ke(G){oe.call(this,t,G)}function Le(G){oe.call(this,t,G)}function Me(G){oe.call(this,t,G)}function ze(G){oe.call(this,t,G)}function ce(G){oe.call(this,t,G)}function $e(G){oe.call(this,t,G)}function He(G){oe.call(this,t,G)}function Be(G){oe.call(this,t,G)}function Ye(G){oe.call(this,t,G)}function Ae(G){oe.call(this,t,G)}function Se(G){oe.call(this,t,G)}function wt(G){oe.call(this,t,G)}function Rt(G){oe.call(this,t,G)}function at(G){oe.call(this,t,G)}function Dt(G){oe.call(this,t,G)}function ut(G){Ne[G?"unshift":"push"](()=>{A=G,n(0,A)})}function mt(G){Ne[G?"unshift":"push"](()=>{A=G,n(0,A)})}function nt(G){Ne[G?"unshift":"push"](()=>{A=G,n(0,A)})}function me(G){Ne[G?"unshift":"push"](()=>{A=G,n(0,A)})}function We(G){Ne[G?"unshift":"push"](()=>{A=G,n(0,A)})}return t.$$set=G=>{e=Q(Q({},e),Re(G)),n(12,r=ae(e,i)),"transition"in G&&n(1,f=G.transition),"transitionConfig"in G&&n(2,c=G.transitionConfig),"inTransition"in G&&n(3,d=G.inTransition),"inTransitionConfig"in G&&n(4,p=G.inTransitionConfig),"outTransition"in G&&n(5,_=G.outTransition),"outTransitionConfig"in G&&n(6,h=G.outTransitionConfig),"id"in G&&n(13,v=G.id),"asChild"in G&&n(7,w=G.asChild),"el"in G&&n(0,A=G.el),"$$scope"in G&&n(15,u=G.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&v&&F.content.set(v),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,$)},[A,f,c,d,p,_,h,w,o,a,k,R,r,v,l,u,s,H,D,U,y,b,I,O,W,L,x,z,Z,K,ee,ne,m,j,B,ie,re,ke,Le,Me,ze,ce,$e,He,Be,Ye,Ae,Se,wt,Rt,at,Dt,ut,mt,nt,me,We]}let t0=class extends ve{constructor(e){super(),be(this,e,e0,zh,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const n0=t=>({builder:t&256}),sa=t=>({builder:t[8]});function o0(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=P("div"),ue(e,r)},m(l,a){M(l,e,a),t[20](e),n||(o=je(t[8].action(e)),n=!0)},p(l,a){ue(e,r=we(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ce,o:Ce,d(l){l&&T(e),t[20](null),n=!1,o()}}}function i0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=P("div"),ue(e,a)},m(s,u){M(s,e,u),t[19](e),o=!0,i||(r=je(t[8].action(e)),i=!0)},p(s,u){t=s,ue(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=xt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function r0(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=P("div"),ue(e,l)},m(a,s){M(a,e,s),t[18](e),o||(i=je(t[8].action(e)),o=!0)},p(a,s){t=a,ue(e,l=we(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||ot(()=>{n=Jt(e,t[3],t[4]),n.start()}))},o:Ce,d(a){a&&T(e),t[18](null),o=!1,i()}}}function l0(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("div"),ue(e,s)},m(u,f){M(u,e,f),t[17](e),i=!0,r||(l=je(t[8].action(e)),r=!0)},p(u,f){t=u,ue(e,s=we(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&ot(()=>{i&&(o&&o.end(1),n=Jt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=xt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function s0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=P("div"),ue(e,a)},m(s,u){M(s,e,u),t[16](e),o=!0,i||(r=je(t[8].action(e)),i=!0)},p(s,u){t=s,ue(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&ot(()=>{o&&(n||(n=Yt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Yt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function a0(t){let e;const n=t[15].default,o=pe(n,t,t[14],sa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&he(o,n,i,i[14],e?_e(n,i[14],r,n0):ge(i[14]),sa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function u0(t){let e,n,o,i;const r=[a0,s0,l0,r0,i0,o0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function f0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ae(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:v=!1}=e,{el:w=void 0}=e;const{elements:{overlay:A},states:{open:k},getAttrs:R}=Kn();fe(t,A,y=>n(13,l=y)),fe(t,k,y=>n(9,a=y));const F=R("overlay");function E(y){Ne[y?"unshift":"push"](()=>{w=y,n(0,w)})}function $(y){Ne[y?"unshift":"push"](()=>{w=y,n(0,w)})}function H(y){Ne[y?"unshift":"push"](()=>{w=y,n(0,w)})}function D(y){Ne[y?"unshift":"push"](()=>{w=y,n(0,w)})}function U(y){Ne[y?"unshift":"push"](()=>{w=y,n(0,w)})}return t.$$set=y=>{e=Q(Q({},e),Re(y)),n(12,r=ae(e,i)),"transition"in y&&n(1,f=y.transition),"transitionConfig"in y&&n(2,c=y.transitionConfig),"inTransition"in y&&n(3,d=y.inTransition),"inTransitionConfig"in y&&n(4,p=y.inTransitionConfig),"outTransition"in y&&n(5,_=y.outTransition),"outTransitionConfig"in y&&n(6,h=y.outTransitionConfig),"asChild"in y&&n(7,v=y.asChild),"el"in y&&n(0,w=y.el),"$$scope"in y&&n(14,u=y.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,F)},[w,f,c,d,p,_,h,v,o,a,A,k,r,l,u,s,E,$,H,D,U]}let c0=class extends ve{constructor(e){super(),be(this,e,f0,u0,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const d0=t=>({builder:t&4}),aa=t=>({builder:t[2]}),m0=t=>({builder:t&4}),ua=t=>({builder:t[2]});function p0(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],aa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?_e(r,u[7],f,d0):ge(u[7]),aa),ue(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function _0(t){let e;const n=t[8].default,o=pe(n,t,t[7],ua);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?_e(n,i[7],r,m0):ge(i[7]),ua)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function h0(t){let e,n,o,i;const r=[_0,p0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function g0(t,e,n){let o;const i=["asChild","id","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:p,getAttrs:_}=Kn();fe(t,d,w=>n(6,l=w));const h=_("description");function v(w){Ne[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=Q(Q({},e),Re(w)),n(4,r=ae(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(5,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&p.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[c,u,o,d,r,f,l,s,a,v]}let b0=class extends ve{constructor(e){super(),be(this,e,g0,h0,de,{asChild:1,id:5,el:0})}};function v0(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function fa(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function y0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&Gr(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1],e?de(e,r[1]?"a":"button")?(i.d(1),i=Gr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Gr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function w0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&Vr(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1],e?de(e,r[1]?"a":"button")?(i.d(1),i=Vr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Vr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function Gr(t){let e,n,o,i,r;const l=t[7].default,a=pe(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=P(t[1]?"a":"button"),a&&a.c(),gn(t[1]?"a":"button")(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),o=!0,i||(r=[te(e,"click",t[14]),te(e,"change",t[15]),te(e,"keydown",t[16]),te(e,"keyup",t[17]),te(e,"mouseenter",t[18]),te(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&he(a,l,f,f[6],o?_e(l,f[6],c,null):ge(f[6]),null),gn(f[1]?"a":"button")(e,u=we(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(C(a,f),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),i=!1,qe(r)}}}function Vr(t){let e,n,o,i,r,l;const a=t[7].default,s=pe(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},fa(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=P(t[1]?"a":"button"),s&&s.c(),gn(t[1]?"a":"button")(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[te(e,"click",t[8]),te(e,"change",t[9]),te(e,"keydown",t[10]),te(e,"keyup",t[11]),te(e,"mouseenter",t[12]),te(e,"mouseleave",t[13]),je(o=v0.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&he(s,a,c,c[6],i?_e(a,c[6],d,null):ge(c[6]),null),gn(c[1]?"a":"button")(e,f=we(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&fa(c[3]),d&32&&c[5],c[4]])),o&&sn(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(C(s,c),i=!0)},o(c){S(s,c),i=!1},d(c){c&&T(e),s&&s.d(c),t[20](null),r=!1,qe(l)}}}function k0(t){let e,n,o,i;const r=[w0,y0],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function C0(t,e,n){const o=["href","type","builders","el"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(D){oe.call(this,t,D)}function p(D){oe.call(this,t,D)}function _(D){oe.call(this,t,D)}function h(D){oe.call(this,t,D)}function v(D){oe.call(this,t,D)}function w(D){oe.call(this,t,D)}function A(D){oe.call(this,t,D)}function k(D){oe.call(this,t,D)}function R(D){oe.call(this,t,D)}function F(D){oe.call(this,t,D)}function E(D){oe.call(this,t,D)}function $(D){oe.call(this,t,D)}function H(D){Ne[D?"unshift":"push"](()=>{f=D,n(0,f)})}return t.$$set=D=>{e=Q(Q({},e),Re(D)),n(5,i=ae(e,o)),"href"in D&&n(1,a=D.href),"type"in D&&n(2,s=D.type),"builders"in D&&n(3,u=D.builders),"el"in D&&n(0,f=D.el),"$$scope"in D&&n(6,l=D.$$scope)},[f,a,s,u,c,i,l,r,d,p,_,h,v,w,A,k,R,F,E,$,H]}let A0=class extends ve{constructor(e){super(),be(this,e,C0,k0,de,{href:1,type:2,builders:3,el:0})}};function S0(t){return(e={})=>T0(t,e)}function T0(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:M0(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function M0(t,e){return e==="center"?t:`${t}-${e}`}function I0(){return{NAME:"separator",PARTS:["root"]}}function P0(t){const{NAME:e,PARTS:n}=I0(),o=Hn(e,n),i={...nh(Co(t)),getAttrs:o};return{...i,updateOption:Bn(i.options)}}const O0=t=>({builder:t&4}),ca=t=>({builder:t[2]});function N0(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=P("div"),ue(e,r)},m(l,a){M(l,e,a),t[10](e),n||(o=je(t[2].action(e)),n=!0)},p(l,a){ue(e,r=we(i,[a&4&&l[2],a&16&&l[4]]))},i:Ce,o:Ce,d(l){l&&T(e),t[10](null),n=!1,o()}}}function E0(t){let e;const n=t[9].default,o=pe(n,t,t[8],ca);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&he(o,n,i,i[8],e?_e(n,i[8],r,O0):ge(i[8]),ca)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function $0(t){let e,n,o,i;const r=[E0,N0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function R0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:p},updateOption:_,getAttrs:h}=P0({orientation:u,decorative:f});fe(t,p,A=>n(7,l=A));const v=h("root");function w(A){Ne[A?"unshift":"push"](()=>{d=A,n(0,d)})}return t.$$set=A=>{e=Q(Q({},e),Re(A)),n(4,r=ae(e,i)),"orientation"in A&&n(5,u=A.orientation),"decorative"in A&&n(6,f=A.decorative),"asChild"in A&&n(1,c=A.asChild),"el"in A&&n(0,d=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&_("orientation",u),t.$$.dirty&64&&_("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,v)},[d,c,o,p,r,u,f,l,s,a,w]}let D0=class extends ve{constructor(e){super(),be(this,e,R0,$0,de,{orientation:5,decorative:6,asChild:1,el:0})}};function jc(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function L0(t){const{NAME:e,PARTS:n}=jc(),o=Hn(e,n),i={...Fc({...Co(t),role:"dialog",forceVisible:!0}),getAttrs:o};return dr(e,i),{...i,updateOption:Bn(i.options)}}function Ao(){const{NAME:t}=jc();return mr(t)}const F0=t=>({ids:t&1}),da=t=>({ids:t[0]});function q0(t){let e;const n=t[12].default,o=pe(n,t,t[11],da);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&he(o,n,i,i[11],e?_e(n,i[11],r,F0):ge(i[11]),da)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function j0(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:p=void 0}=e,{onOutsideClick:_=void 0}=e;const{states:{open:h},updateOption:v,ids:w}=L0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:p,onOutsideClick:_,onOpenChange:({next:k})=>(f!==k&&(c==null||c(k),n(2,f=k)),k)}),A=an([w.content,w.description,w.title],([k,R,F])=>({content:k,description:R,title:F}));return fe(t,A,k=>n(0,o=k)),t.$$set=k=>{"preventScroll"in k&&n(3,l=k.preventScroll),"closeOnEscape"in k&&n(4,a=k.closeOnEscape),"closeOnOutsideClick"in k&&n(5,s=k.closeOnOutsideClick),"portal"in k&&n(6,u=k.portal),"open"in k&&n(2,f=k.open),"onOpenChange"in k&&n(7,c=k.onOpenChange),"openFocus"in k&&n(8,d=k.openFocus),"closeFocus"in k&&n(9,p=k.closeFocus),"onOutsideClick"in k&&n(10,_=k.onOutsideClick),"$$scope"in k&&n(11,r=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&h.set(f),t.$$.dirty&8&&v("preventScroll",l),t.$$.dirty&16&&v("closeOnEscape",a),t.$$.dirty&32&&v("closeOnOutsideClick",s),t.$$.dirty&64&&v("portal",u),t.$$.dirty&256&&v("openFocus",d),t.$$.dirty&512&&v("closeFocus",p),t.$$.dirty&1024&&v("onOutsideClick",_)},[o,A,f,l,a,s,u,c,d,p,_,r,i]}class B0 extends ve{constructor(e){super(),be(this,e,j0,q0,de,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const G0=t=>({builder:t&8}),ma=t=>({builder:t[3]}),V0=t=>({builder:t&8}),pa=t=>({builder:t[3]});function H0(t){let e=t[1],n,o,i=t[1]&&Hr(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1]?e?de(e,r[1])?(i.d(1),i=Hr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Hr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function W0(t){let e;const n=t[9].default,o=pe(n,t,t[8],pa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&he(o,n,i,i[8],e?_e(n,i[8],r,V0):ge(i[8]),pa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Hr(t){let e,n,o,i;const r=t[9].default,l=pe(r,t,t[8],ma);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),gn(t[1])(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=je(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&he(l,r,u,u[8],n?_e(r,u[8],f,G0):ge(u[8]),ma),gn(u[1])(e,s=we(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function K0(t){let e,n,o,i;const r=[W0,H0],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function U0(t,e,n){let o;const i=["level","asChild","id","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:p},ids:_,getAttrs:h}=Ao();fe(t,p,A=>n(7,l=A));const v=h("title");function w(A){Ne[A?"unshift":"push"](()=>{d=A,n(0,d)})}return t.$$set=A=>{e=Q(Q({},e),Re(A)),n(5,r=ae(e,i)),"level"in A&&n(1,u=A.level),"asChild"in A&&n(2,f=A.asChild),"id"in A&&n(6,c=A.id),"el"in A&&n(0,d=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&_.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,v)},[d,u,f,o,p,r,c,l,s,a,w]}let Y0=class extends ve{constructor(e){super(),be(this,e,U0,K0,de,{level:1,asChild:2,id:6,el:0})}};const X0=t=>({builder:t&4}),_a=t=>({builder:t[2]}),J0=t=>({builder:t&4}),ha=t=>({builder:t[2]});function x0(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],_a);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("button"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?_e(r,u[7],f,X0):ge(u[7]),_a),ue(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,qe(i)}}}function Z0(t){let e;const n=t[8].default,o=pe(n,t,t[7],ha);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?_e(n,i[7],r,J0):ge(i[7]),ha)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Q0(t){let e,n,o,i;const r=[Z0,x0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function z0(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Ao();fe(t,c,v=>n(6,l=v));const p=Wn(),_=d("close");function h(v){Ne[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=Q(Q({},e),Re(v)),n(5,r=ae(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[f,u,o,c,p,r,l,s,a,h]}class eg extends ve{constructor(e){super(),be(this,e,z0,Q0,de,{asChild:1,el:0})}}const tg=t=>({builder:t&4}),ga=t=>({builder:t[2]}),ng=t=>({builder:t&4}),ba=t=>({builder:t[2]});function og(t){let e,n,o,i;const r=t[7].default,l=pe(r,t,t[6],ga);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&he(l,r,u,u[6],n?_e(r,u[6],f,tg):ge(u[6]),ga),ue(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function ig(t){let e;const n=t[7].default,o=pe(n,t,t[6],ba);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&he(o,n,i,i[6],e?_e(n,i[6],r,ng):ge(i[6]),ba)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function rg(t){let e,n,o,i;const r=[ig,og],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function lg(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Ao();fe(t,c,h=>n(5,l=h));const p=d("portal");function _(h){Ne[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=Q(Q({},e),Re(h)),n(4,r=ae(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,r,l,s,a,_]}let sg=class extends ve{constructor(e){super(),be(this,e,lg,rg,de,{asChild:1,el:0})}};const ag=t=>({builder:t[0]&256}),va=t=>({builder:t[8]}),ug=t=>({builder:t[0]&256}),ya=t=>({builder:t[8]}),fg=t=>({builder:t[0]&256}),wa=t=>({builder:t[8]}),cg=t=>({builder:t[0]&256}),ka=t=>({builder:t[8]}),dg=t=>({builder:t[0]&256}),Ca=t=>({builder:t[8]}),mg=t=>({builder:t[0]&256}),Aa=t=>({builder:t[8]});function pg(t){let e,n,o,i;const r=t[16].default,l=pe(r,t,t[15],va);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[je(t[8].action(e)),te(e,"pointerdown",t[45]),te(e,"pointermove",t[46]),te(e,"pointerup",t[47]),te(e,"touchend",t[48]),te(e,"touchstart",t[49]),te(e,"touchcancel",t[50]),te(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&he(l,r,u,u[15],n?_e(r,u[15],f,ag):ge(u[15]),va),ue(e,s=we(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,qe(i)}}}function _g(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],ya);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[je(t[8].action(e)),te(e,"pointerdown",t[38]),te(e,"pointermove",t[39]),te(e,"pointerup",t[40]),te(e,"touchend",t[41]),te(e,"touchstart",t[42]),te(e,"touchcancel",t[43]),te(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?_e(l,t[15],c,ug):ge(t[15]),ya),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=xt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,qe(r)}}}function hg(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],wa);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[je(t[8].action(e)),te(e,"pointerdown",t[31]),te(e,"pointermove",t[32]),te(e,"pointerup",t[33]),te(e,"touchend",t[34]),te(e,"touchstart",t[35]),te(e,"touchcancel",t[36]),te(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?_e(l,t[15],c,fg):ge(t[15]),wa),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&(n||ot(()=>{n=Jt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,qe(r)}}}function gg(t){let e,n,o,i,r,l;const a=t[16].default,s=pe(a,t,t[15],ka);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=P("div"),s&&s.c(),ue(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[je(t[8].action(e)),te(e,"pointerdown",t[24]),te(e,"pointermove",t[25]),te(e,"pointerup",t[26]),te(e,"touchend",t[27]),te(e,"touchstart",t[28]),te(e,"touchcancel",t[29]),te(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&he(s,a,t,t[15],i?_e(a,t[15],d,cg):ge(t[15]),ka),ue(e,f=we(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(C(s,c),c&&ot(()=>{i&&(o&&o.end(1),n=Jt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=xt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,qe(l)}}}function bg(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],Ca);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[je(t[8].action(e)),te(e,"pointerdown",t[17]),te(e,"pointermove",t[18]),te(e,"pointerup",t[19]),te(e,"touchend",t[20]),te(e,"touchstart",t[21]),te(e,"touchcancel",t[22]),te(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?_e(l,t[15],c,dg):ge(t[15]),Ca),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&ot(()=>{o&&(n||(n=Yt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Yt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,qe(r)}}}function vg(t){let e;const n=t[16].default,o=pe(n,t,t[15],Aa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&he(o,n,i,i[15],e?_e(n,i[15],r,mg):ge(i[15]),Aa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function yg(t){let e,n,o,i;const r=[vg,bg,gg,hg,_g,pg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function wg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=ae(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:v=!1}=e,{id:w=void 0}=e,{el:A=void 0}=e;const{elements:{content:k},states:{open:R},ids:F,getAttrs:E}=Ao();fe(t,k,G=>n(14,l=G)),fe(t,R,G=>n(9,a=G));const $=E("content");function H(G){oe.call(this,t,G)}function D(G){oe.call(this,t,G)}function U(G){oe.call(this,t,G)}function y(G){oe.call(this,t,G)}function b(G){oe.call(this,t,G)}function I(G){oe.call(this,t,G)}function O(G){oe.call(this,t,G)}function W(G){oe.call(this,t,G)}function L(G){oe.call(this,t,G)}function x(G){oe.call(this,t,G)}function z(G){oe.call(this,t,G)}function Z(G){oe.call(this,t,G)}function K(G){oe.call(this,t,G)}function ee(G){oe.call(this,t,G)}function ne(G){oe.call(this,t,G)}function m(G){oe.call(this,t,G)}function j(G){oe.call(this,t,G)}function B(G){oe.call(this,t,G)}function ie(G){oe.call(this,t,G)}function re(G){oe.call(this,t,G)}function ke(G){oe.call(this,t,G)}function Le(G){oe.call(this,t,G)}function Me(G){oe.call(this,t,G)}function ze(G){oe.call(this,t,G)}function ce(G){oe.call(this,t,G)}function $e(G){oe.call(this,t,G)}function He(G){oe.call(this,t,G)}function Be(G){oe.call(this,t,G)}function Ye(G){oe.call(this,t,G)}function Ae(G){oe.call(this,t,G)}function Se(G){oe.call(this,t,G)}function wt(G){oe.call(this,t,G)}function Rt(G){oe.call(this,t,G)}function at(G){oe.call(this,t,G)}function Dt(G){oe.call(this,t,G)}function ut(G){Ne[G?"unshift":"push"](()=>{A=G,n(0,A)})}function mt(G){Ne[G?"unshift":"push"](()=>{A=G,n(0,A)})}function nt(G){Ne[G?"unshift":"push"](()=>{A=G,n(0,A)})}function me(G){Ne[G?"unshift":"push"](()=>{A=G,n(0,A)})}function We(G){Ne[G?"unshift":"push"](()=>{A=G,n(0,A)})}return t.$$set=G=>{e=Q(Q({},e),Re(G)),n(12,r=ae(e,i)),"transition"in G&&n(1,f=G.transition),"transitionConfig"in G&&n(2,c=G.transitionConfig),"inTransition"in G&&n(3,d=G.inTransition),"inTransitionConfig"in G&&n(4,p=G.inTransitionConfig),"outTransition"in G&&n(5,_=G.outTransition),"outTransitionConfig"in G&&n(6,h=G.outTransitionConfig),"asChild"in G&&n(7,v=G.asChild),"id"in G&&n(13,w=G.id),"el"in G&&n(0,A=G.el),"$$scope"in G&&n(15,u=G.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&w&&F.content.set(w),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,$)},[A,f,c,d,p,_,h,v,o,a,k,R,r,w,l,u,s,H,D,U,y,b,I,O,W,L,x,z,Z,K,ee,ne,m,j,B,ie,re,ke,Le,Me,ze,ce,$e,He,Be,Ye,Ae,Se,wt,Rt,at,Dt,ut,mt,nt,me,We]}let kg=class extends ve{constructor(e){super(),be(this,e,wg,yg,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const Cg=t=>({builder:t&256}),Sa=t=>({builder:t[8]});function Ag(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=P("div"),ue(e,r)},m(l,a){M(l,e,a),t[25](e),n||(o=[je(t[8].action(e)),te(e,"mouseup",t[20])],n=!0)},p(l,a){ue(e,r=we(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ce,o:Ce,d(l){l&&T(e),t[25](null),n=!1,qe(o)}}}function Sg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=P("div"),ue(e,a)},m(s,u){M(s,e,u),t[24](e),o=!0,i||(r=[je(t[8].action(e)),te(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,ue(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=xt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[24](null),s&&n&&n.end(),i=!1,qe(r)}}}function Tg(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=P("div"),ue(e,l)},m(a,s){M(a,e,s),t[23](e),o||(i=[je(t[8].action(e)),te(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,ue(e,l=we(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||ot(()=>{n=Jt(e,t[3],t[4]),n.start()}))},o:Ce,d(a){a&&T(e),t[23](null),o=!1,qe(i)}}}function Mg(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("div"),ue(e,s)},m(u,f){M(u,e,f),t[22](e),i=!0,r||(l=[je(t[8].action(e)),te(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,ue(e,s=we(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&ot(()=>{i&&(o&&o.end(1),n=Jt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=xt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[22](null),u&&o&&o.end(),r=!1,qe(l)}}}function Ig(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=P("div"),ue(e,a)},m(s,u){M(s,e,u),t[21](e),o=!0,i||(r=[te(e,"mouseup",t[16]),je(t[8].action(e))],i=!0)},p(s,u){t=s,ue(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&ot(()=>{o&&(n||(n=Yt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Yt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[21](null),s&&n&&n.end(),i=!1,qe(r)}}}function Pg(t){let e;const n=t[15].default,o=pe(n,t,t[14],Sa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&he(o,n,i,i[14],e?_e(n,i[14],r,Cg):ge(i[14]),Sa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Og(t){let e,n,o,i;const r=[Pg,Ig,Mg,Tg,Sg,Ag],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function Ng(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ae(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:v=!1}=e,{el:w=void 0}=e;const{elements:{overlay:A},states:{open:k},getAttrs:R}=Ao();fe(t,A,L=>n(13,l=L)),fe(t,k,L=>n(9,a=L));const F=R("overlay");function E(L){oe.call(this,t,L)}function $(L){oe.call(this,t,L)}function H(L){oe.call(this,t,L)}function D(L){oe.call(this,t,L)}function U(L){oe.call(this,t,L)}function y(L){Ne[L?"unshift":"push"](()=>{w=L,n(0,w)})}function b(L){Ne[L?"unshift":"push"](()=>{w=L,n(0,w)})}function I(L){Ne[L?"unshift":"push"](()=>{w=L,n(0,w)})}function O(L){Ne[L?"unshift":"push"](()=>{w=L,n(0,w)})}function W(L){Ne[L?"unshift":"push"](()=>{w=L,n(0,w)})}return t.$$set=L=>{e=Q(Q({},e),Re(L)),n(12,r=ae(e,i)),"transition"in L&&n(1,f=L.transition),"transitionConfig"in L&&n(2,c=L.transitionConfig),"inTransition"in L&&n(3,d=L.inTransition),"inTransitionConfig"in L&&n(4,p=L.inTransitionConfig),"outTransition"in L&&n(5,_=L.outTransition),"outTransitionConfig"in L&&n(6,h=L.outTransitionConfig),"asChild"in L&&n(7,v=L.asChild),"el"in L&&n(0,w=L.el),"$$scope"in L&&n(14,u=L.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,F)},[w,f,c,d,p,_,h,v,o,a,A,k,r,l,u,s,E,$,H,D,U,y,b,I,O,W]}let Eg=class extends ve{constructor(e){super(),be(this,e,Ng,Og,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const $g=t=>({builder:t&4}),Ta=t=>({builder:t[2]}),Rg=t=>({builder:t&4}),Ma=t=>({builder:t[2]});function Dg(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],Ta);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?_e(r,u[7],f,$g):ge(u[7]),Ta),ue(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function Lg(t){let e;const n=t[8].default,o=pe(n,t,t[7],Ma);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?_e(n,i[7],r,Rg):ge(i[7]),Ma)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Fg(t){let e,n,o,i;const r=[Lg,Dg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function qg(t,e,n){let o;const i=["asChild","id","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:p,getAttrs:_}=Ao();fe(t,d,w=>n(6,l=w));const h=_("description");function v(w){Ne[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=Q(Q({},e),Re(w)),n(4,r=ae(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(5,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&p.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[c,u,o,d,r,f,l,s,a,v]}let jg=class extends ve{constructor(e){super(),be(this,e,qg,Fg,de,{asChild:1,id:5,el:0})}};function Bg(){const t="label",n=Hn(t,["root"]);return{NAME:t,getAttrs:n}}const Gg=t=>({builder:t&4}),Ia=t=>({builder:t[2]}),Vg=t=>({builder:t&4}),Pa=t=>({builder:t[2]});function Hg(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],Ia);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("label"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[je(t[2].action(e)),te(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?_e(r,u[7],f,Gg):ge(u[7]),Ia),ue(e,s=we(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,qe(i)}}}function Wg(t){let e;const n=t[8].default,o=pe(n,t,t[7],Pa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?_e(n,i[7],r,Vg):ge(i[7]),Pa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Kg(t){let e,n,o,i;const r=[Wg,Hg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Ug(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=J_();fe(t,c,v=>n(6,l=v));const d=Wn(),{getAttrs:p}=Bg(),_=p("root");function h(v){Ne[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=Q(Q({},e),Re(v)),n(5,r=ae(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[f,u,o,c,d,r,l,s,a,h]}let Yg=class extends ve{constructor(e){super(),be(this,e,Ug,Kg,de,{asChild:1,el:0})}};function Xg(){return{NAME:"progress",PARTS:["root"]}}function Jg(t){const{NAME:e,PARTS:n}=Xg(),o=Hn(e,n),i={...eh(Co(t)),getAttrs:o};return{...i,updateOption:Bn(i.options)}}const xg=t=>({builder:t&4}),Oa=t=>({builder:t[2]}),Zg=t=>({builder:t&4}),Na=t=>({builder:t[2]});function Qg(t){let e,n,o,i;const r=t[10].default,l=pe(r,t,t[9],Oa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&he(l,r,u,u[9],n?_e(r,u[9],f,xg):ge(u[9]),Oa),ue(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[11](null),o=!1,i()}}}function zg(t){let e;const n=t[10].default,o=pe(n,t,t[9],Na);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&he(o,n,i,i[9],e?_e(n,i[9],r,Zg):ge(i[9]),Na)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function e1(t){let e,n,o,i;const r=[zg,Qg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function t1(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:p=void 0}=e;const{elements:{root:_},states:{value:h},updateOption:v,getAttrs:w}=Jg({max:u,defaultValue:f,onValueChange:({next:R})=>(c==null||c(R),n(5,f=R),R)});fe(t,_,R=>n(8,l=R));const A=w("root");function k(R){Ne[R?"unshift":"push"](()=>{p=R,n(0,p)})}return t.$$set=R=>{e=Q(Q({},e),Re(R)),n(4,r=ae(e,i)),"max"in R&&n(6,u=R.max),"value"in R&&n(5,f=R.value),"onValueChange"in R&&n(7,c=R.onValueChange),"asChild"in R&&n(1,d=R.asChild),"el"in R&&n(0,p=R.el),"$$scope"in R&&n(9,s=R.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&h.set(f),t.$$.dirty&64&&v("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,A)},[p,d,o,_,r,f,u,c,l,s,a,k]}let n1=class extends ve{constructor(e){super(),be(this,e,t1,e1,de,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function Bc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function o1(t){const{NAME:e,PARTS:n}=Bc(),o=Hn(e,n),i={...ih(Co(t)),getAttrs:o};return dr(e,i),{...i,updateOption:Bn(i.options)}}function Gc(){const{NAME:t}=Bc();return mr(t)}const i1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Ea=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),r1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),$a=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function l1(t){let e,n,o,i;const r=t[18].default,l=pe(r,t,t[17],Ea);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("span"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&he(l,r,u,u[17],n?_e(r,u[17],f,i1):ge(u[17]),Ea),ue(e,s=we(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[19](null),o=!1,i()}}}function s1(t){let e;const n=t[18].default,o=pe(n,t,t[17],$a);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&he(o,n,i,i[17],e?_e(n,i[17],r,r1):ge(i[17]),$a)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function a1(t){let e,n,o,i;const r=[s1,l1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function u1(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=ae(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:p=void 0}=e,{step:_=void 0}=e,{orientation:h=void 0}=e,{value:v=void 0}=e,{onValueChange:w=void 0}=e,{asChild:A=!1}=e,{el:k=void 0}=e;const{elements:{root:R,ticks:F,thumbs:E},states:{value:$},updateOption:H,getAttrs:D}=o1({disabled:c,min:d,max:p,step:_,orientation:h,defaultValue:v,onValueChange:({next:b})=>(v!==b&&(w==null||w(b),n(9,v=b)),b)});fe(t,R,b=>n(16,l=b)),fe(t,F,b=>n(3,a=b)),fe(t,E,b=>n(4,s=b));const U=D("root");function y(b){Ne[b?"unshift":"push"](()=>{k=b,n(0,k)})}return t.$$set=b=>{e=Q(Q({},e),Re(b)),n(8,r=ae(e,i)),"disabled"in b&&n(10,c=b.disabled),"min"in b&&n(11,d=b.min),"max"in b&&n(12,p=b.max),"step"in b&&n(13,_=b.step),"orientation"in b&&n(14,h=b.orientation),"value"in b&&n(9,v=b.value),"onValueChange"in b&&n(15,w=b.onValueChange),"asChild"in b&&n(1,A=b.asChild),"el"in b&&n(0,k=b.el),"$$scope"in b&&n(17,f=b.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&v!==void 0&&$.set(v),t.$$.dirty&1024&&H("disabled",c),t.$$.dirty&2048&&H("min",d),t.$$.dirty&4096&&H("max",p),t.$$.dirty&8192&&H("step",_),t.$$.dirty&16384&&H("orientation",h),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,U)},[k,A,o,a,s,R,F,E,r,v,c,d,p,_,h,w,l,f,u,y]}let f1=class extends ve{constructor(e){super(),be(this,e,u1,a1,de,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const c1=t=>({builder:t&4}),Ra=t=>({builder:t[2]});function d1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=P("span"),ue(e,r)},m(l,a){M(l,e,a),t[8](e),n||(o=je(t[2].action(e)),n=!0)},p(l,a){ue(e,r=we(i,[a&4&&l[2],a&16&&l[4]]))},i:Ce,o:Ce,d(l){l&&T(e),t[8](null),n=!1,o()}}}function m1(t){let e;const n=t[7].default,o=pe(n,t,t[6],Ra);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&he(o,n,i,i[6],e?_e(n,i[6],r,c1):ge(i[6]),Ra)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function p1(t){let e,n,o,i;const r=[m1,d1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function _1(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=Gc();fe(t,c,h=>n(5,l=h));const p=d("range");function _(h){Ne[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=Q(Q({},e),Re(h)),n(4,r=ae(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,r,l,s,a,_]}class h1 extends ve{constructor(e){super(),be(this,e,_1,p1,de,{asChild:1,el:0})}}const g1=t=>({builder:t&4}),Da=t=>({builder:t[2]});function b1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=P("span"),ue(e,r)},m(l,a){M(l,e,a),t[8](e),n||(o=[je(t[2].action(e)),te(e,"m-keydown",t[3])],n=!0)},p(l,a){ue(e,r=we(i,[a&4&&l[2],a&16&&l[4]]))},i:Ce,o:Ce,d(l){l&&T(e),t[8](null),n=!1,qe(o)}}}function v1(t){let e;const n=t[7].default,o=pe(n,t,t[6],Da);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&he(o,n,i,i[6],e?_e(n,i[6],r,g1):ge(i[6]),Da)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function y1(t){let e,n,o,i;const r=[v1,b1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function w1(t,e,n){let o;const i=["asChild","el","thumb"];let r=ae(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=Gc(),d=Wn(),p=c("thumb");function _(h){Ne[h?"unshift":"push"](()=>{u=h,n(0,u)})}return t.$$set=h=>{e=Q(Q({},e),Re(h)),n(4,r=ae(e,i)),"asChild"in h&&n(1,s=h.asChild),"el"in h&&n(0,u=h.el),"thumb"in h&&n(5,f=h.thumb),"$$scope"in h&&n(6,a=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,p)},[u,s,o,d,r,f,a,l,_]}class k1 extends ve{constructor(e){super(),be(this,e,w1,y1,de,{asChild:1,el:0,thumb:5})}}function Vc(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function C1(t){const{NAME:e,PARTS:n}=Vc(),o=Hn(e,n),i={...sh({positioning:{placement:"top",gutter:0},openDelay:700,...Co(t),forceVisible:!0}),getAttrs:o};return dr(e,i),{...i,updateOption:Bn(i.options)}}function Vl(){const{NAME:t}=Vc();return mr(t)}function A1(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=Vl();S0(o)({...n})}const S1=t=>({ids:t&1}),La=t=>({ids:t[0]});function T1(t){let e;const n=t[12].default,o=pe(n,t,t[11],La);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&he(o,n,i,i[11],e?_e(n,i[11],r,S1):ge(i[11]),La)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function M1(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:p=void 0}=e,{group:_=void 0}=e;const{states:{open:h},updateOption:v,ids:w}=C1({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:p,group:_,onOpenChange:({next:k})=>(c!==k&&(d==null||d(k),n(2,c=k)),k),positioning:{gutter:0,offset:{mainAxis:1}}}),A=an([w.content,w.trigger],([k,R])=>({content:k,trigger:R}));return fe(t,A,k=>n(0,o=k)),t.$$set=k=>{"closeOnEscape"in k&&n(3,l=k.closeOnEscape),"portal"in k&&n(4,a=k.portal),"closeOnPointerDown"in k&&n(5,s=k.closeOnPointerDown),"openDelay"in k&&n(6,u=k.openDelay),"closeDelay"in k&&n(7,f=k.closeDelay),"open"in k&&n(2,c=k.open),"onOpenChange"in k&&n(8,d=k.onOpenChange),"disableHoverableContent"in k&&n(9,p=k.disableHoverableContent),"group"in k&&n(10,_=k.group),"$$scope"in k&&n(11,r=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&h.set(c),t.$$.dirty&8&&v("closeOnEscape",l),t.$$.dirty&16&&v("portal",a),t.$$.dirty&32&&v("closeOnPointerDown",s),t.$$.dirty&64&&v("openDelay",u),t.$$.dirty&128&&v("closeDelay",f),t.$$.dirty&1024&&v("group",_),t.$$.dirty&512&&v("disableHoverableContent",p)},[o,A,c,l,a,s,u,f,d,p,_,r,i]}class I1 extends ve{constructor(e){super(),be(this,e,M1,T1,de,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const P1=t=>({builder:t[0]&256}),Fa=t=>({builder:t[8]}),O1=t=>({builder:t[0]&256}),qa=t=>({builder:t[8]}),N1=t=>({builder:t[0]&256}),ja=t=>({builder:t[8]}),E1=t=>({builder:t[0]&256}),Ba=t=>({builder:t[8]}),$1=t=>({builder:t[0]&256}),Ga=t=>({builder:t[8]}),R1=t=>({builder:t[0]&256}),Va=t=>({builder:t[8]});function D1(t){let e,n,o,i;const r=t[28].default,l=pe(r,t,t[27],Fa);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[je(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&he(l,r,u,u[27],n?_e(r,u[27],f,P1):ge(u[27]),Fa),ue(e,s=we(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[33](null),o=!1,qe(i)}}}function L1(t){let e,n,o,i,r;const l=t[28].default,a=pe(l,t,t[27],qa);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[je(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&he(a,l,t,t[27],o?_e(l,t[27],c,O1):ge(t[27]),qa),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=xt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,qe(r)}}}function F1(t){let e,n,o,i,r;const l=t[28].default,a=pe(l,t,t[27],ja);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[je(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&he(a,l,t,t[27],o?_e(l,t[27],c,N1):ge(t[27]),ja),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),f&&(n||ot(()=>{n=Jt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[31](null),i=!1,qe(r)}}}function q1(t){let e,n,o,i,r,l;const a=t[28].default,s=pe(a,t,t[27],Ba);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=P("div"),s&&s.c(),ue(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[je(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&he(s,a,t,t[27],i?_e(a,t[27],d,E1):ge(t[27]),Ba),ue(e,f=we(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(C(s,c),c&&ot(()=>{i&&(o&&o.end(1),n=Jt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=xt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,qe(l)}}}function j1(t){let e,n,o,i,r;const l=t[28].default,a=pe(l,t,t[27],Ga);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[je(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&he(a,l,t,t[27],o?_e(l,t[27],c,$1):ge(t[27]),Ga),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),f&&ot(()=>{o&&(n||(n=Yt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Yt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,qe(r)}}}function B1(t){let e;const n=t[28].default,o=pe(n,t,t[27],Va);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&he(o,n,i,i[27],e?_e(n,i[27],r,R1):ge(i[27]),Va)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function G1(t){let e,n,o,i;const r=[B1,j1,q1,F1,L1,D1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function V1(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=ae(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:v=!1}=e,{id:w=void 0}=e,{side:A="top"}=e,{align:k="center"}=e,{sideOffset:R=0}=e,{alignOffset:F=0}=e,{collisionPadding:E=8}=e,{avoidCollisions:$=!0}=e,{collisionBoundary:H=void 0}=e,{sameWidth:D=!1}=e,{fitViewport:U=!1}=e,{strategy:y="absolute"}=e,{overlap:b=!1}=e,{el:I=void 0}=e;const{elements:{content:O},states:{open:W},ids:L,getAttrs:x}=Vl();fe(t,O,B=>n(26,a=B)),fe(t,W,B=>n(9,l=B));const z=Wn(),Z=x("content");function K(B){Ne[B?"unshift":"push"](()=>{I=B,n(0,I)})}function ee(B){Ne[B?"unshift":"push"](()=>{I=B,n(0,I)})}function ne(B){Ne[B?"unshift":"push"](()=>{I=B,n(0,I)})}function m(B){Ne[B?"unshift":"push"](()=>{I=B,n(0,I)})}function j(B){Ne[B?"unshift":"push"](()=>{I=B,n(0,I)})}return t.$$set=B=>{e=Q(Q({},e),Re(B)),n(13,r=ae(e,i)),"transition"in B&&n(1,f=B.transition),"transitionConfig"in B&&n(2,c=B.transitionConfig),"inTransition"in B&&n(3,d=B.inTransition),"inTransitionConfig"in B&&n(4,p=B.inTransitionConfig),"outTransition"in B&&n(5,_=B.outTransition),"outTransitionConfig"in B&&n(6,h=B.outTransitionConfig),"asChild"in B&&n(7,v=B.asChild),"id"in B&&n(14,w=B.id),"side"in B&&n(15,A=B.side),"align"in B&&n(16,k=B.align),"sideOffset"in B&&n(17,R=B.sideOffset),"alignOffset"in B&&n(18,F=B.alignOffset),"collisionPadding"in B&&n(19,E=B.collisionPadding),"avoidCollisions"in B&&n(20,$=B.avoidCollisions),"collisionBoundary"in B&&n(21,H=B.collisionBoundary),"sameWidth"in B&&n(22,D=B.sameWidth),"fitViewport"in B&&n(23,U=B.fitViewport),"strategy"in B&&n(24,y=B.strategy),"overlap"in B&&n(25,b=B.overlap),"el"in B&&n(0,I=B.el),"$$scope"in B&&n(27,u=B.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&w&&L.content.set(w),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,Z),t.$$.dirty[0]&67076608&&l&&A1({side:A,align:k,sideOffset:R,alignOffset:F,collisionPadding:E,avoidCollisions:$,collisionBoundary:H,sameWidth:D,fitViewport:U,strategy:y,overlap:b})},[I,f,c,d,p,_,h,v,o,l,O,W,z,r,w,A,k,R,F,E,$,H,D,U,y,b,a,u,s,K,ee,ne,m,j]}let H1=class extends ve{constructor(e){super(),be(this,e,V1,G1,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const W1=t=>({builder:t&4}),Ha=t=>({builder:t[2]}),K1=t=>({builder:t&4}),Wa=t=>({builder:t[2]});function U1(t){let e,n,o,i;const r=t[9].default,l=pe(r,t,t[8],Ha);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=P("button"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[je(t[2].action(e)),te(e,"m-blur",t[4]),te(e,"m-focus",t[4]),te(e,"m-keydown",t[4]),te(e,"m-pointerdown",t[4]),te(e,"m-pointerenter",t[4]),te(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&he(l,r,u,u[8],n?_e(r,u[8],f,W1):ge(u[8]),Ha),ue(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,qe(i)}}}function Y1(t){let e;const n=t[9].default,o=pe(n,t,t[8],Wa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&he(o,n,i,i[8],e?_e(n,i[8],r,K1):ge(i[8]),Wa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function X1(t){let e,n,o,i;const r=[Y1,U1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function J1(t,e,n){let o;const i=["asChild","id","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:p,getAttrs:_}=Vl();fe(t,d,A=>n(7,l=A));const h=Wn(),v=_("trigger");function w(A){Ne[A?"unshift":"push"](()=>{c=A,n(0,c)})}return t.$$set=A=>{e=Q(Q({},e),Re(A)),n(5,r=ae(e,i)),"asChild"in A&&n(1,u=A.asChild),"id"in A&&n(6,f=A.id),"el"in A&&n(0,c=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&p.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,v)},[c,u,o,d,h,r,f,l,s,a,w]}class x1 extends ve{constructor(e){super(),be(this,e,J1,X1,de,{asChild:1,id:6,el:0})}}function Z1(t){let e;const n=t[5].default,o=pe(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&he(o,n,i,i[8],e?_e(n,i[8],r,null):ge(i[8]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Q1(t){let e,n;const o=[{builders:t[3]},{class:Fe(ho({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let i={$$slots:{default:[Z1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new A0({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&31?we(o,[l&8&&{builders:r[3]},l&7&&{class:Fe(ho({variant:r[1],size:r[2],className:r[0]}))},o[2],l&16&&rt(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function z1(t,e,n){const o=["class","variant","size","builders"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(p){oe.call(this,t,p)}function d(p){oe.call(this,t,p)}return t.$$set=p=>{e=Q(Q({},e),Re(p)),n(4,i=ae(e,o)),"class"in p&&n(0,a=p.class),"variant"in p&&n(1,s=p.variant),"size"in p&&n(2,u=p.size),"builders"in p&&n(3,f=p.builders),"$$scope"in p&&n(8,l=p.$$scope)},[a,s,u,f,i,r,c,d,l]}class Tt extends ve{constructor(e){super(),be(this,e,z1,Q1,de,{class:0,variant:1,size:2,builders:3})}}var Ka=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Mt=t=>!t||typeof t!="object"||Object.keys(t).length===0,eb=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function Hc(t,e){t.forEach(function(n){Array.isArray(n)?Hc(n,e):e.push(n)})}function Wc(t){let e=[];return Hc(t,e),e}var Kc=(...t)=>Wc(t).filter(Boolean),Uc=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=Uc(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=Kc(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},Ua=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),tb={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Yc=t=>t||void 0,Xo=(...t)=>Yc(Wc(t).filter(Boolean).join(" ")),Wr=null,tn={},fl=!1,Ro=(...t)=>e=>e.twMerge?((!Wr||fl)&&(fl=!1,Wr=Mt(tn)?mc:Ym({...tn,extend:{theme:tn.theme,classGroups:tn.classGroups,conflictingClassGroupModifiers:tn.conflictingClassGroupModifiers,conflictingClassGroups:tn.conflictingClassGroups,...tn.extend}})),Yc(Wr(Xo(t)))):Xo(t),Ya=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Xo(t[n],e[n]):t[n]=e[n];return t},nb=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...tb,...e},u=n!=null&&n.base?Xo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!Mt(n.variants)?Uc(i,n.variants):i,c=n!=null&&n.defaultVariants&&!Mt(n.defaultVariants)?{...n.defaultVariants,...a}:a;!Mt(s.twMergeConfig)&&!eb(s.twMergeConfig,tn)&&(fl=!0,tn=s.twMergeConfig);let d=Mt(n==null?void 0:n.slots),p=Mt(o)?{}:{base:Xo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},_=d?p:Ya({...n==null?void 0:n.slots},Mt(p)?{base:t==null?void 0:t.base}:p),h=w=>{if(Mt(f)&&Mt(o)&&d)return Ro(u,w==null?void 0:w.class,w==null?void 0:w.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let A=(b,I,O=[],W)=>{let L=O;if(typeof I=="string")L=L.concat(Ua(I).split(" ").map(x=>`${b}:${x}`));else if(Array.isArray(I))L=L.concat(I.reduce((x,z)=>x.concat(`${b}:${z}`),[]));else if(typeof I=="object"&&typeof W=="string"){for(let x in I)if(I.hasOwnProperty(x)&&x===W){let z=I[x];if(z&&typeof z=="string"){let Z=Ua(z);L[W]?L[W]=L[W].concat(Z.split(" ").map(K=>`${b}:${K}`)):L[W]=Z.split(" ").map(K=>`${b}:${K}`)}else Array.isArray(z)&&z.length>0&&(L[W]=z.reduce((Z,K)=>Z.concat(`${b}:${K}`),[]))}}return L},k=(b,I=f,O=null,W=null)=>{var L;let x=I[b];if(!x||Mt(x))return null;let z=(L=W==null?void 0:W[b])!=null?L:w==null?void 0:w[b];if(z===null)return null;let Z=Ka(z),K=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,ee=c==null?void 0:c[b],ne=[];if(typeof Z=="object"&&K)for(let[B,ie]of Object.entries(Z)){let re=x[ie];if(B==="initial"){ee=ie;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(B)||(ne=A(B,re,ne,O))}let m=Z!=null&&typeof Z!="object"?Z:Ka(ee),j=x[m]||x.false;return typeof ne=="object"&&typeof O=="string"&&ne[O]?Ya(ne,j):ne.length>0?(ne.push(j),ne):j},R=()=>f?Object.keys(f).map(b=>k(b,f)):null,F=(b,I)=>{if(!f||typeof f!="object")return null;let O=new Array;for(let W in f){let L=k(W,f,b,I),x=b==="base"&&typeof L=="string"?L:L&&L[b];x&&(O[O.length]=x)}return O},E={};for(let b in w)w[b]!==void 0&&(E[b]=w[b]);let $=(b,I)=>{var O;let W=typeof(w==null?void 0:w[b])=="object"?{[b]:(O=w[b])==null?void 0:O.initial}:{};return{...c,...E,...W,...I}},H=(b=[],I)=>{let O=[];for(let{class:W,className:L,...x}of b){let z=!0;for(let[Z,K]of Object.entries(x)){let ee=$(Z,I);if(Array.isArray(K)){if(!K.includes(ee[Z])){z=!1;break}}else if(ee[Z]!==K){z=!1;break}}z&&(W&&O.push(W),L&&O.push(L))}return O},D=b=>{let I=H(r,b),O=H(n==null?void 0:n.compoundVariants,b);return Kc(O,I)},U=b=>{let I=D(b);if(!Array.isArray(I))return I;let O={};for(let W of I)if(typeof W=="string"&&(O.base=Ro(O.base,W)(s)),typeof W=="object")for(let[L,x]of Object.entries(W))O[L]=Ro(O[L],x)(s);return O},y=b=>{if(l.length<1)return null;let I={};for(let{slots:O=[],class:W,className:L,...x}of l){if(!Mt(x)){let z=!0;for(let Z of Object.keys(x)){let K=$(Z,b)[Z];if(K===void 0||(Array.isArray(x[Z])?!x[Z].includes(K):x[Z]!==K)){z=!1;break}}if(!z)continue}for(let z of O)I[z]=I[z]||[],I[z].push([W,L])}return I};if(!Mt(o)||!d){let b={};if(typeof _=="object"&&!Mt(_))for(let I of Object.keys(_))b[I]=O=>{var W,L;return Ro(_[I],F(I,O),((W=U(O))!=null?W:[])[I],((L=y(O))!=null?L:[])[I],O==null?void 0:O.class,O==null?void 0:O.className)(s)};return b}return Ro(u,R(),D(),w==null?void 0:w.class,w==null?void 0:w.className)(s)},v=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return h.variantKeys=v(),h.extend=n,h.base=u,h.slots=_,h.variants=f,h.defaultVariants=c,h.compoundSlots=l,h.compoundVariants=r,h};const ho=nb({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function ob(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&he(o,n,i,i[3],e?_e(n,i[3],r,null):ge(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function ib(t){let e,n;const o=[{class:Fe("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[ob]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Y0({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function rb(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Re(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Un extends ve{constructor(e){super(),be(this,e,rb,ib,de,{class:0})}}function lb(t){let e;const n=t[1].default,o=pe(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&he(o,n,i,i[2],e?_e(n,i[2],r,null):ge(i[2]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function sb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[lb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new sg({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&1?we(o,[rt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function ab(t,e,n){const o=[];let i=ae(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Q(Q({},e),Re(a)),n(0,i=ae(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class ub extends ve{constructor(e){super(),be(this,e,ab,sb,de,{})}}function fb(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=P("div"),r&&r.c(),ue(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&he(r,i,s,s[2],o?_e(i,s[2],u,null):ge(s[2]),null),ue(e,a=we(l,[(!o||u&1&&n!==(n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function cb(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Re(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class So extends ve{constructor(e){super(),be(this,e,cb,fb,de,{class:0})}}function db(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=P("div"),r&&r.c(),ue(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&he(r,i,s,s[2],o?_e(i,s[2],u,null):ge(s[2]),null),ue(e,a=we(l,[(!o||u&1&&n!==(n=Fe("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function mb(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Re(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Yn extends ve{constructor(e){super(),be(this,e,mb,db,de,{class:0})}}function Xc(t,{delay:e=0,duration:n=400,easing:o=ur}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function pb(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Eg({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?we(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function _b(t,e,n){const o=["class","transition","transitionConfig"];let i=ae(e,o),{class:r=void 0}=e,{transition:l=Xc}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Q(Q({},e),Re(s)),n(3,i=ae(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class hb extends ve{constructor(e){super(),be(this,e,_b,pb,de,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Ja(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function Kr(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=Q(o,n[i]);return{c(){e=fr(t[11]),Ri(e,o)},m(i,r){M(i,e,r)},p(i,r){Ri(e,o=we(n,[r&32&&i[12]]))},d(i){i&&T(e)}}}function xa(t){let e=t[11],n,o=t[11]&&Kr(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){i[11]?e?de(e,i[11])?(o.d(1),o=Kr(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=Kr(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&T(n),o&&o.d(i)}}}function gb(t){let e,n,o,i,r,l=Ue(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=xa(Ja(t,l,d));const s=t[10].default,u=pe(s,t,t[9],null);let f=[Xa,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=Q(c,f[d]);return{c(){e=fr("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=De(),u&&u.c(),Ri(e,c)},m(d,p){M(d,e,p);for(let _=0;_<a.length;_+=1)a[_]&&a[_].m(e,null);g(e,n),u&&u.m(e,null),r=!0},p(d,[p]){if(p&32){l=Ue(d[5]);let _;for(_=0;_<l.length;_+=1){const h=Ja(d,l,_);a[_]?a[_].p(h,p):(a[_]=xa(h),a[_].c(),a[_].m(e,n))}for(;_<a.length;_+=1)a[_].d(1);a.length=l.length}u&&u.p&&(!r||p&512)&&he(u,s,d,d[9],r?_e(s,d[9],p,null):ge(d[9]),null),Ri(e,c=we(f,[Xa,p&128&&d[7],(!r||p&4)&&{width:d[2]},(!r||p&4)&&{height:d[2]},(!r||p&2)&&{stroke:d[1]},(!r||p&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||p&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(C(u,d),r=!0)},o(d){S(u,d),r=!1},d(d){d&&T(e),_t(a,d),u&&u.d(d)}}}function bb(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const p=(..._)=>_.filter((h,v,w)=>!!h&&w.indexOf(h)===v).join(" ");return t.$$set=_=>{n(8,e=Q(Q({},e),Re(_))),n(7,i=ae(e,o)),"name"in _&&n(0,a=_.name),"color"in _&&n(1,s=_.color),"size"in _&&n(2,u=_.size),"strokeWidth"in _&&n(3,f=_.strokeWidth),"absoluteStrokeWidth"in _&&n(4,c=_.absoluteStrokeWidth),"iconNode"in _&&n(5,d=_.iconNode),"$$scope"in _&&n(9,l=_.$$scope)},e=Re(e),[a,s,u,f,c,d,p,i,e,l,r]}class vb extends ve{constructor(e){super(),be(this,e,bb,gb,de,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function yb(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&he(o,n,i,i[3],e?_e(n,i[3],r,null):ge(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function wb(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[yb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new vb({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[o[0],l&2&&rt(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function kb(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=Q(Q({},e),Re(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=Re(e),[r,e,o,i]}class Cb extends ve{constructor(e){super(),be(this,e,kb,wb,de,{})}}function Ab(t){let e,n,o,i;return e=new Cb({props:{class:"h-4 w-4"}}),{c(){J(e.$$.fragment),n=V(),o=P("span"),o.textContent="Close",N(o,"class","sr-only")},m(r,l){Y(e,r,l),M(r,n,l),M(r,o,l),i=!0},p:Ce,i(r){i||(C(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),X(e,r)}}}function Sb(t){let e,n,o;const i=t[4].default,r=pe(i,t,t[5],null);return n=new eg({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[Ab]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=V(),J(n.$$.fragment)},m(l,a){r&&r.m(l,a),M(l,e,a),Y(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&he(r,i,l,l[5],o?_e(i,l[5],a,null):ge(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(C(r,l),C(n.$$.fragment,l),o=!0)},o(l){S(r,l),S(n.$$.fragment,l),o=!1},d(l){l&&T(e),r&&r.d(l),X(n,l)}}}function Tb(t){let e,n,o,i;e=new hb({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let l={$$slots:{default:[Sb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return o=new kg({props:l}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(a,s){Y(e,a,s),M(a,n,s),Y(o,a,s),i=!0},p(a,s){const u=s&15?we(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&rt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(C(e.$$.fragment,a),C(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),X(e,a),X(o,a)}}}function Mb(t){let e,n;return e=new ub({props:{$$slots:{default:[Tb]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Ib(t,e,n){const o=["class","transition","transitionConfig"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=pr}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=Q(Q({},e),Re(f)),n(3,i=ae(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Xn extends ve{constructor(e){super(),be(this,e,Ib,Mb,de,{class:0,transition:1,transitionConfig:2})}}function Pb(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&he(o,n,i,i[3],e?_e(n,i[3],r,null):ge(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Ob(t){let e,n;const o=[{class:Fe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Pb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new jg({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe("text-sm text-muted-foreground",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Nb(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Re(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Jn extends ve{constructor(e){super(),be(this,e,Nb,Ob,de,{class:0})}}const xn=B0;function Eb(t){let e,n,o,i,r=[{class:n=Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=P("input"),ue(e,l)},m(a,s){M(a,e,s),e.autofocus&&e.focus(),en(e,t[0]),o||(i=[te(e,"input",t[17]),te(e,"blur",t[3]),te(e,"change",t[4]),te(e,"click",t[5]),te(e,"focus",t[6]),te(e,"focusin",t[7]),te(e,"focusout",t[8]),te(e,"keydown",t[9]),te(e,"keypress",t[10]),te(e,"keyup",t[11]),te(e,"mouseover",t[12]),te(e,"mouseenter",t[13]),te(e,"mouseleave",t[14]),te(e,"paste",t[15]),te(e,"input",t[16])],o=!0)},p(a,[s]){ue(e,l=we(r,[s&2&&n!==(n=Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&en(e,a[0])},i:Ce,o:Ce,d(a){a&&T(e),o=!1,qe(i)}}}function $b(t,e,n){const o=["class","value"];let i=ae(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a(E){oe.call(this,t,E)}function s(E){oe.call(this,t,E)}function u(E){oe.call(this,t,E)}function f(E){oe.call(this,t,E)}function c(E){oe.call(this,t,E)}function d(E){oe.call(this,t,E)}function p(E){oe.call(this,t,E)}function _(E){oe.call(this,t,E)}function h(E){oe.call(this,t,E)}function v(E){oe.call(this,t,E)}function w(E){oe.call(this,t,E)}function A(E){oe.call(this,t,E)}function k(E){oe.call(this,t,E)}function R(E){oe.call(this,t,E)}function F(){l=this.value,n(0,l)}return t.$$set=E=>{e=Q(Q({},e),Re(E)),n(2,i=ae(e,o)),"class"in E&&n(1,r=E.class),"value"in E&&n(0,l=E.value)},[l,r,i,a,s,u,f,c,d,p,_,h,v,w,A,k,R,F]}class Hl extends ve{constructor(e){super(),be(this,e,$b,Eb,de,{class:1,value:0})}}function Rb(t){let e;const n=t[2].default,o=pe(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&he(o,n,i,i[4],e?_e(n,i[4],r,null):ge(i[4]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Db(t){let e,n;const o=[{class:Fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[Rb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Yg({props:i}),e.$on("mousedown",t[3]),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&rt(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Lb(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){oe.call(this,t,u)}return t.$$set=u=>{e=Q(Q({},e),Re(u)),n(1,i=ae(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class lo extends ve{constructor(e){super(),be(this,e,Lb,Db,de,{class:0})}}function Fb(t){let e,n;const o=[{class:Fe("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new D0({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?we(o,[l&3&&{class:Fe("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function qb(t,e,n){const o=["class","orientation","decorative"];let i=ae(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Re(s)),n(3,i=ae(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class yt extends ve{constructor(e){super(),be(this,e,qb,Fb,de,{class:0,orientation:1,decorative:2})}}function jb(t){let e;const n=t[3].default,o=pe(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&he(o,n,i,i[4],e?_e(n,i[4],r,null):ge(i[4]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Bb(t){let e,n;const o=[{class:Fe("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[jb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new vh({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&7?we(o,[l&1&&{class:Fe("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&rt(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Gb(t,e,n){const o=["class","level"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=Q(Q({},e),Re(u)),n(2,i=ae(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class Wl extends ve{constructor(e){super(),be(this,e,Gb,Bb,de,{class:0,level:1})}}const Vb=t=>({builder:t&64}),Za=t=>({builder:t[6]});function Hb(t){let e;const n=t[2].default,o=pe(n,t,t[5],Za);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&he(o,n,i,i[5],e?_e(n,i[5],r,Vb):ge(i[5]),Za)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Wb(t){let e,n;const o=[{class:Fe(ho(),t[0])},t[1]];let i={$$slots:{default:[Hb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Th({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe(ho(),r[0])},l&2&&rt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Kb(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=Q(Q({},e),Re(f)),n(1,i=ae(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class Jc extends ve{constructor(e){super(),be(this,e,Kb,Wb,de,{class:0})}}const Ub=t=>({builder:t&64}),Qa=t=>({builder:t[6]});function Yb(t){let e;const n=t[2].default,o=pe(n,t,t[5],Qa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&he(o,n,i,i[5],e?_e(n,i[5],r,Ub):ge(i[5]),Qa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Xb(t){let e,n;const o=[{class:Fe(ho({variant:"outline"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[Yb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new $h({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe(ho({variant:"outline"}),"mt-2 sm:mt-0",r[0])},l&2&&rt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Jb(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=Q(Q({},e),Re(f)),n(1,i=ae(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class xc extends ve{constructor(e){super(),be(this,e,Jb,Xb,de,{class:0})}}function xb(t){let e;const n=t[1].default,o=pe(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&he(o,n,i,i[2],e?_e(n,i[2],r,null):ge(i[2]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Zb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[xb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Bh({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&1?we(o,[rt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Qb(t,e,n){const o=[];let i=ae(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Q(Q({},e),Re(a)),n(0,i=ae(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class zb extends ve{constructor(e){super(),be(this,e,Qb,Zb,de,{})}}function ev(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=P("div"),r&&r.c(),ue(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&he(r,i,s,s[2],o?_e(i,s[2],u,null):ge(s[2]),null),ue(e,a=we(l,[(!o||u&1&&n!==(n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function tv(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Re(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class wr extends ve{constructor(e){super(),be(this,e,tv,ev,de,{class:0})}}function nv(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=P("div"),r&&r.c(),ue(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&he(r,i,s,s[2],o?_e(i,s[2],u,null):ge(s[2]),null),ue(e,a=we(l,[(!o||u&1&&n!==(n=Fe("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function ov(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Re(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Kl extends ve{constructor(e){super(),be(this,e,ov,nv,de,{class:0})}}function iv(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new c0({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?we(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function rv(t,e,n){const o=["class","transition","transitionConfig"];let i=ae(e,o),{class:r=void 0}=e,{transition:l=Xc}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Q(Q({},e),Re(s)),n(3,i=ae(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class lv extends ve{constructor(e){super(),be(this,e,rv,iv,de,{class:0,transition:1,transitionConfig:2})}}function sv(t){let e;const n=t[4].default,o=pe(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&he(o,n,i,i[5],e?_e(n,i[5],r,null):ge(i[5]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function av(t){let e,n,o,i;e=new lv({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[sv]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return o=new t0({props:l}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(a,s){Y(e,a,s),M(a,n,s),Y(o,a,s),i=!0},p(a,s){const u=s&15?we(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[2])},s&8&&rt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(C(e.$$.fragment,a),C(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),X(e,a),X(o,a)}}}function uv(t){let e,n;return e=new zb({props:{$$slots:{default:[av]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function fv(t,e,n){const o=["transition","transitionConfig","class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=pr}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=Q(Q({},e),Re(f)),n(3,i=ae(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class kr extends ve{constructor(e){super(),be(this,e,fv,uv,de,{transition:0,transitionConfig:1,class:2})}}function cv(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&he(o,n,i,i[3],e?_e(n,i[3],r,null):ge(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function dv(t){let e,n;const o=[{class:Fe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[cv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new b0({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe("text-sm text-muted-foreground",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function mv(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Re(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Ul extends ve{constructor(e){super(),be(this,e,mv,dv,de,{class:0})}}const Cr=dh;function za(t,e,n){const o=t.slice();return o[25]=e[n],o}function eu(t,e,n){const o=t.slice();return o[28]=e[n],o}function pv(t){let e;return{c(){e=q("Pause Menu")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function _v(t){let e;return{c(){e=q("Unpause any time by pressing 'P'")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function hv(t){let e,n,o,i;return e=new Un({props:{$$slots:{default:[pv]},$$scope:{ctx:t}}}),o=new Jn({props:{$$slots:{default:[_v]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function tu(t){let e,n,o,i,r,l=JSON.stringify(t[5].requirements[t[2].difficulty].population_count)+"",a,s,u=JSON.stringify(t[2].townInfo.population_count)+"",f,c,d,p,_=JSON.stringify(t[5].requirements[t[2].difficulty].happiness)+"",h,v,w=JSON.stringify(t[2].townInfo.happiness)+"",A,k,R,F,E=JSON.stringify(t[5].requirements[t[2].difficulty].employment*100)+"",$,H,D=JSON.stringify((t[2].townInfo.employees/t[2].townInfo.population_count||0)*100)+"",U,y,b,I,O,W=JSON.stringify(t[5].requirements[t[2].difficulty].health)+"",L,x,z=JSON.stringify(t[2].townInfo.health)+"",Z,K,ee,ne,m=JSON.stringify(t[5].requirements[t[2].difficulty].knowledge)+"",j,B,ie=JSON.stringify(t[2].townInfo.knowledge_points)+"",re,ke,Le;function Me(me,We){return me[2].townInfo.population_count>=me[5].requirements[me[2].difficulty].population_count?bv:gv}let ze=Me(t),ce=ze(t);function $e(me,We){return me[2].townInfo.happiness>=me[5].requirements[me[2].difficulty].happiness?yv:vv}let He=$e(t),Be=He(t);function Ye(me,We){return me[2].townInfo.employees/me[2].townInfo.population_count>=me[5].requirements[me[2].difficulty].employment?kv:wv}let Ae=Ye(t),Se=Ae(t);function wt(me,We){return me[2].townInfo.health>=me[5].requirements[me[2].difficulty].health?Av:Cv}let Rt=wt(t),at=Rt(t);function Dt(me,We){return me[2].townInfo.knowledge_points>=me[5].requirements[me[2].difficulty].knowledge?Tv:Sv}let ut=Dt(t),mt=ut(t),nt=t[5].requirements[t[2].difficulty].required_plots!=null&&t[5].requirements[t[2].difficulty].required_plots.length>0&&nu(t);return{c(){e=P("div"),e.textContent=`With your difficulty (${t[6]}), you must also have:`,n=V(),o=P("ul"),i=P("li"),ce.c(),r=q(`
                  Population: `),a=q(l),s=q(" - Currently at "),f=q(u),c=V(),d=P("li"),Be.c(),p=q(`
                  Happiness: `),h=q(_),v=q(" - Currently at "),A=q(w),k=V(),R=P("li"),Se.c(),F=q(`
                  Employment: `),$=q(E),H=q("% - Currently at "),U=q(D),y=q("%"),b=V(),I=P("li"),at.c(),O=q(`
                  Health: `),L=q(W),x=q(" - Currently at "),Z=q(z),K=V(),ee=P("li"),mt.c(),ne=q(`
                  Knowledge: `),j=q(m),B=q(" - Currently at "),re=q(ie),ke=V(),nt&&nt.c(),Le=De(),N(e,"class","leading-relaxed text-sm"),N(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(me,We){M(me,e,We),M(me,n,We),M(me,o,We),g(o,i),ce.m(i,null),g(i,r),g(i,a),g(i,s),g(i,f),g(o,c),g(o,d),Be.m(d,null),g(d,p),g(d,h),g(d,v),g(d,A),g(o,k),g(o,R),Se.m(R,null),g(R,F),g(R,$),g(R,H),g(R,U),g(R,y),g(o,b),g(o,I),at.m(I,null),g(I,O),g(I,L),g(I,x),g(I,Z),g(o,K),g(o,ee),mt.m(ee,null),g(ee,ne),g(ee,j),g(ee,B),g(ee,re),M(me,ke,We),nt&&nt.m(me,We),M(me,Le,We)},p(me,We){ze!==(ze=Me(me))&&(ce.d(1),ce=ze(me),ce&&(ce.c(),ce.m(i,r))),We[0]&4&&l!==(l=JSON.stringify(me[5].requirements[me[2].difficulty].population_count)+"")&&se(a,l),We[0]&4&&u!==(u=JSON.stringify(me[2].townInfo.population_count)+"")&&se(f,u),He!==(He=$e(me))&&(Be.d(1),Be=He(me),Be&&(Be.c(),Be.m(d,p))),We[0]&4&&_!==(_=JSON.stringify(me[5].requirements[me[2].difficulty].happiness)+"")&&se(h,_),We[0]&4&&w!==(w=JSON.stringify(me[2].townInfo.happiness)+"")&&se(A,w),Ae!==(Ae=Ye(me))&&(Se.d(1),Se=Ae(me),Se&&(Se.c(),Se.m(R,F))),We[0]&4&&E!==(E=JSON.stringify(me[5].requirements[me[2].difficulty].employment*100)+"")&&se($,E),We[0]&4&&D!==(D=JSON.stringify((me[2].townInfo.employees/me[2].townInfo.population_count||0)*100)+"")&&se(U,D),Rt!==(Rt=wt(me))&&(at.d(1),at=Rt(me),at&&(at.c(),at.m(I,O))),We[0]&4&&W!==(W=JSON.stringify(me[5].requirements[me[2].difficulty].health)+"")&&se(L,W),We[0]&4&&z!==(z=JSON.stringify(me[2].townInfo.health)+"")&&se(Z,z),ut!==(ut=Dt(me))&&(mt.d(1),mt=ut(me),mt&&(mt.c(),mt.m(ee,ne))),We[0]&4&&m!==(m=JSON.stringify(me[5].requirements[me[2].difficulty].knowledge)+"")&&se(j,m),We[0]&4&&ie!==(ie=JSON.stringify(me[2].townInfo.knowledge_points)+"")&&se(re,ie),me[5].requirements[me[2].difficulty].required_plots!=null&&me[5].requirements[me[2].difficulty].required_plots.length>0?nt?nt.p(me,We):(nt=nu(me),nt.c(),nt.m(Le.parentNode,Le)):nt&&(nt.d(1),nt=null)},d(me){me&&(T(e),T(n),T(o),T(ke),T(Le)),ce.d(),Be.d(),Se.d(),at.d(),mt.d(),nt&&nt.d(me)}}}function gv(t){let e;return{c(){e=q("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function bv(t){let e;return{c(){e=q("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function vv(t){let e;return{c(){e=q("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function yv(t){let e;return{c(){e=q("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function wv(t){let e;return{c(){e=q("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function kv(t){let e;return{c(){e=q("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Cv(t){let e;return{c(){e=q("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Av(t){let e;return{c(){e=q("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Sv(t){let e;return{c(){e=q("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Tv(t){let e;return{c(){e=q("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function nu(t){let e,n,o,i=Ue(t[5].requirements[t[2].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=ou(eu(t,i,l));return{c(){e=P("br"),n=q(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=De()},m(l,a){M(l,e,a),M(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);M(l,o,a)},p(l,a){if(a[0]&36){i=Ue(l[5].requirements[l[2].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=eu(l,i,s);r[s]?r[s].p(u,a):(r[s]=ou(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(T(e),T(n),T(o)),_t(r,l)}}}function Mv(t){let e;return{c(){e=q("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Iv(t){let e;return{c(){e=q("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ou(t){let e,n,o,i,r=t[28]+"",l,a;function s(c,d){return d[0]&4&&(o=null),o==null&&(o=Xe(c[28],c[2]).length>0),o?Iv:Mv}let u=s(t,[-1,-1]),f=u(t);return{c(){e=P("div"),n=P("li"),f.c(),i=V(),l=q(r),a=V(),N(e,"class","text-sm")},m(c,d){M(c,e,d),g(e,n),f.m(n,null),g(n,i),g(n,l),g(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d[0]&4&&r!==(r=c[28]+"")&&se(l,r)},d(c){c&&T(e),f.d()}}}function Pv(t){let e;return{c(){e=q("Save game")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Ov(t){let e;return{c(){e=q("Save")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Nv(t){let e;return{c(){e=q("Upload game")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function iu(t){let e,n;function o(){return t[19](t[25])}return e=new Tt({props:{class:"bg-blue-600 hover:bg-blue-700 mt-4",id:"collectPrize-"+t[25].id,$$slots:{default:[Ev]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){J(e.$$.fragment)},m(i,r){Y(e,i,r),n=!0},p(i,r){t=i;const l={};r[0]&2&&(l.id="collectPrize-"+t[25].id),r[0]&2|r[1]&1&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Ev(t){let e,n=lu(t[25].prize)+"",o,i;return{c(){e=q("Collect Prize: $"),o=q(n),i=q(" gold")},m(r,l){M(r,e,l),M(r,o,l),M(r,i,l)},p(r,l){l[0]&2&&n!==(n=lu(r[25].prize)+"")&&se(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function ru(t){let e,n,o,i,r,l,a=t[25].title+"",s,u,f,c=t[25].requirements+"",d,p,_,h=t[25].icon+"",v,w,A,k=t[25].description+"",R,F,E,$,H=t[8](t[25].id)+"",D,U,y,b=t[13](t[25].id)&&!t[9](t[25].id),I,O,W,L=b&&iu(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("span"),r=P("div"),l=P("span"),s=q(a),u=V(),f=P("div"),d=q(c),p=V(),_=P("div"),v=q(h),w=V(),A=P("div"),R=q(k),F=V(),E=P("div"),$=q("✅ Completed on Day "),D=q(H),y=V(),L&&L.c(),I=V(),N(l,"class","font-semibold text-lg"),N(f,"class","font-thin text-white opacity-75 text-xs"),N(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),N(_,"class","text-sm flex-grow pr-1 break-inside-avoid "),N(i,"class","flex flex-row justify-between w-[100%]"),N(o,"class","min-w-32 flex"),N(A,"class","text-white opacity-75 text-sm font-light"),N(E,"class",U=(t[13](t[25].id)?"":"hidden")+" text-xs text-green-400"),N(n,"class","flex-col flex px-3 py-2 gap-0"),N(e,"class",O="flex flex-col gap-3 cursor-default rounded-md "+(t[13](t[25].id)?"bg-green-700":"bg-gray-500 opacity-35"))},m(x,z){M(x,e,z),g(e,n),g(n,o),g(o,i),g(i,r),g(r,l),g(l,s),g(r,u),g(r,f),g(f,d),g(i,p),g(i,_),g(_,v),g(n,w),g(n,A),g(A,R),g(n,F),g(n,E),g(E,$),g(E,D),g(n,y),L&&L.m(n,null),g(e,I),W=!0},p(x,z){(!W||z[0]&2)&&a!==(a=x[25].title+"")&&se(s,a),(!W||z[0]&2)&&c!==(c=x[25].requirements+"")&&se(d,c),(!W||z[0]&2)&&h!==(h=x[25].icon+"")&&se(v,h),(!W||z[0]&2)&&k!==(k=x[25].description+"")&&se(R,k),(!W||z[0]&2)&&H!==(H=x[8](x[25].id)+"")&&se(D,H),(!W||z[0]&2&&U!==(U=(x[13](x[25].id)?"":"hidden")+" text-xs text-green-400"))&&N(E,"class",U),z[0]&2&&(b=x[13](x[25].id)&&!x[9](x[25].id)),b?L?(L.p(x,z),z[0]&2&&C(L,1)):(L=iu(x),L.c(),C(L,1),L.m(n,null)):L&&(Pe(),S(L,1,1,()=>{L=null}),Oe()),(!W||z[0]&2&&O!==(O="flex flex-col gap-3 cursor-default rounded-md "+(x[13](x[25].id)?"bg-green-700":"bg-gray-500 opacity-35")))&&N(e,"class",O)},i(x){W||(C(L),W=!0)},o(x){S(L),W=!1},d(x){x&&T(e),L&&L.d()}}}function $v(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,_,h,v,w,A,k,R,F,E,$,H,D,U,y,b,I,O,W,L,x,z,Z,K,ee,ne,m,j,B,ie,re;e=new Yn({props:{$$slots:{default:[hv]},$$scope:{ctx:t}}});let ke=t[2].endGoal=="land"&&tu(t);h=new lo({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Pv]},$$scope:{ctx:t}}}),w=new Tt({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[Ov]},$$scope:{ctx:t}}}),w.$on("click",t[16]),k=new lo({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Nv]},$$scope:{ctx:t}}}),F=new Hl({props:{class:"hidden",type:"file",id:"upload"}}),F.$on("change",t[12]),$=new yt({props:{orientation:"vertical"}});let Le=Ue(t[1]),Me=[];for(let ce=0;ce<Le.length;ce+=1)Me[ce]=ru(za(t,Le,ce));const ze=ce=>S(Me[ce],1,1,()=>{Me[ce]=null});return{c(){J(e.$$.fragment),n=V(),o=P("div"),i=P("div"),r=P("div"),l=P("h4"),l.textContent="This game",a=V(),s=P("span"),s.textContent=`${t[5].description_title}`,u=V(),f=P("div"),ke&&ke.c(),c=V(),d=P("div"),p=P("div"),_=P("div"),J(h.$$.fragment),v=V(),J(w.$$.fragment),A=V(),J(k.$$.fragment),R=V(),J(F.$$.fragment),E=V(),J($.$$.fragment),H=V(),D=P("div"),U=P("h4"),U.textContent=`Your achievement (${t[7].length}
          / ${et.length})`,y=V(),b=P("span"),b.textContent="Track your progress through games & complete challenges!",I=V(),O=P("br"),W=V(),L=P("div"),x=P("input"),z=V(),Z=P("label"),Z.textContent="Show completed",K=V(),ee=P("div"),ne=P("div");for(let ce=0;ce<Me.length;ce+=1)Me[ce].c();m=V(),j=P("span"),j.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,N(l,"class","underline underline-offset-4"),N(s,"class","text-sm text-gray-400"),N(f,"class","mt-6 gap-0 py-0 text-gray-400 text-sm"),N(r,"class","flex-col h-max"),N(_,"class","flex gap-10 justify-start min-w-[100%] w-[100%] items"),N(p,"class","flex flex-col gap-3 h-max"),N(i,"class","flex flex-col gap-6 justify-between"),N(U,"class","underline underline-offset-4"),N(b,"class","text-sm text-gray-400"),N(x,"type","checkbox"),N(x,"id","toggle-show-completed"),N(x,"class","rounded"),N(x,"tabindex","-1"),x.checked=localStorage.getItem("showCompletedAchievements")==="true",N(Z,"for","toggle-show-completed"),N(Z,"class","text-xs text-gray-400 select-none ml-2 no-select cursor-pointer "),N(L,"class","flex items-center"),N(ne,"class","flex flex-col gap-4 overflow-scroll pb-20 scroll-smooth"),N(ee,"class","overflow-scroll mt-2 h-[55vh]"),N(j,"class","text-sm text-yellow-400 italic"),N(o,"class","flex flex-row w-full gap-10")},m(ce,$e){Y(e,ce,$e),M(ce,n,$e),M(ce,o,$e),g(o,i),g(i,r),g(r,l),g(r,a),g(r,s),g(r,u),g(r,f),ke&&ke.m(f,null),g(i,c),g(i,d),g(d,p),g(p,_),Y(h,_,null),g(_,v),Y(w,_,null),g(_,A),Y(k,_,null),g(_,R),Y(F,_,null),g(o,E),Y($,o,null),g(o,H),g(o,D),g(D,U),g(D,y),g(D,b),g(D,I),g(D,O),g(D,W),g(D,L),g(L,x),g(L,z),g(L,Z),g(D,K),g(D,ee),g(ee,ne);for(let He=0;He<Me.length;He+=1)Me[He]&&Me[He].m(ne,null);g(D,m),g(D,j),B=!0,ie||(re=[te(x,"change",t[17]),te(x,"keydown",t[18])],ie=!0)},p(ce,$e){const He={};$e[1]&1&&(He.$$scope={dirty:$e,ctx:ce}),e.$set(He),ce[2].endGoal=="land"?ke?ke.p(ce,$e):(ke=tu(ce),ke.c(),ke.m(f,null)):ke&&(ke.d(1),ke=null);const Be={};$e[1]&1&&(Be.$$scope={dirty:$e,ctx:ce}),h.$set(Be);const Ye={};$e[1]&1&&(Ye.$$scope={dirty:$e,ctx:ce}),w.$set(Ye);const Ae={};if($e[1]&1&&(Ae.$$scope={dirty:$e,ctx:ce}),k.$set(Ae),$e[0]&9986){Le=Ue(ce[1]);let Se;for(Se=0;Se<Le.length;Se+=1){const wt=za(ce,Le,Se);Me[Se]?(Me[Se].p(wt,$e),C(Me[Se],1)):(Me[Se]=ru(wt),Me[Se].c(),C(Me[Se],1),Me[Se].m(ne,null))}for(Pe(),Se=Le.length;Se<Me.length;Se+=1)ze(Se);Oe()}},i(ce){if(!B){C(e.$$.fragment,ce),C(h.$$.fragment,ce),C(w.$$.fragment,ce),C(k.$$.fragment,ce),C(F.$$.fragment,ce),C($.$$.fragment,ce);for(let $e=0;$e<Le.length;$e+=1)C(Me[$e]);B=!0}},o(ce){S(e.$$.fragment,ce),S(h.$$.fragment,ce),S(w.$$.fragment,ce),S(k.$$.fragment,ce),S(F.$$.fragment,ce),S($.$$.fragment,ce),Me=Me.filter(Boolean);for(let $e=0;$e<Me.length;$e+=1)S(Me[$e]);B=!1},d(ce){ce&&(T(n),T(o)),X(e,ce),ke&&ke.d(),X(h),X(w),X(k),X(F),X($),_t(Me,ce),ie=!1,qe(re)}}}function Rv(t){let e,n;return e=new Xn({props:{class:" max-w-[90vw] max-h-[90vh] bg-foregroundDark text-foregroundText",$$slots:{default:[$v]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Dv(t){var o;let e=((o=t[14]())==null?void 0:o.title)+"",n;return{c(){n=q(e)},m(i,r){M(i,n,r)},p:Ce,d(i){i&&T(n)}}}function Lv(t){let e,n,o,i;return{c(){var r,l;e=P("div"),n=P("div"),n.textContent=`${(r=t[14]())==null?void 0:r.icon}`,o=V(),i=P("div"),i.textContent=`${(l=t[14]())==null?void 0:l.description}`,N(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),N(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),N(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(r,l){M(r,e,l),g(e,n),g(e,o),g(e,i)},p:Ce,d(r){r&&T(e)}}}function Fv(t){let e,n,o,i;return e=new Wl({props:{class:"text-center text-xl font-bold",$$slots:{default:[Dv]},$$scope:{ctx:t}}}),o=new Ul({props:{$$slots:{default:[Lv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function qv(t){let e;return{c(){e=q("Close to collect prize")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function jv(t){let e,n;return e=new xc({props:{$$slots:{default:[qv]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Bv(t){let e,n,o,i;return e=new Kl({props:{$$slots:{default:[Fv]},$$scope:{ctx:t}}}),o=new wr({props:{$$slots:{default:[jv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&16|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Gv(t){let e,n;return e=new kr({props:{$$slots:{default:[Bv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i[0]&16|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Vv(t){let e,n,o,i,r;function l(s){t[20](s)}let a={$$slots:{default:[Rv]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),e=new xn({props:a}),Ne.push(()=>Sn(e,"open",l)),i=new Cr({props:{open:t[4],$$slots:{default:[Gv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),o=V(),J(i.$$.fragment)},m(s,u){Y(e,s,u),M(s,o,u),Y(i,s,u),r=!0},p(s,u){const f={};u[0]&6|u[1]&1&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&8&&(n=!0,f.open=s[3],An(()=>n=!1)),e.$set(f);const c={};u[0]&16&&(c.open=s[4]),u[0]&16|u[1]&1&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(C(e.$$.fragment,s),C(i.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(i.$$.fragment,s),r=!1},d(s){s&&T(o),X(e,s),X(i,s)}}}function lu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Hv(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function Wv(t,e,n){let o,i,r,l,a;fe(t,on,y=>n(23,o=y)),fe(t,Ee,y=>n(2,i=y)),fe(t,Wi,y=>n(15,r=y)),fe(t,Et,y=>n(3,l=y)),fe(t,Vi,y=>n(4,a=y));const u=bt[i.endGoal],f=Nl[i.difficulty]||0;et.sort((y,b)=>A(y.id)&&!A(b.id)?-1:!A(y.id)&&A(b.id)?1:0);const c=et.filter(y=>A(y.id));function d(y){const b=o.achievements.find(I=>I[0]==y);return b==null?0:`${b[1]} in ${b[2]}.`}function p(y){const b=o.achievements.find(I=>I[0]==y);return b==null?!1:b[3]}function _(y){const b=o.achievements.find(O=>O[0]==y);if(b==null)return;const I=et.find(O=>O.id==y);I!=null&&(Ie(Ee,i.townInfo.gold+=I.prize,i),b[3]=!0,Ie(on,o.achievements=o.achievements.map(O=>O[0]==y?b:O),o))}let h=et;function v(){const y=JSON.stringify(i),b=new Blob([y],{type:"text/plain"}),I=URL.createObjectURL(b),O=document.createElement("a");O.href=I,O.download=`${new Date().toISOString()}.json`,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(I)}function w(){const b=document.getElementById("upload").files;if(b==null)return;const I=b[0],O=new FileReader;O.onload=function(W){if(W.target==null)return;const L=W.target.result;if(typeof L=="string"){if(!Hv(L)){bn.set("Invalid game file");return}El(JSON.parse(L))}else bn.set("Invalid game file: is not String.")},O.readAsText(I)}function A(y){return o.achievements==null?!1:o.achievements.find(b=>b[0]==y)!=null}function k(){Wi.update(y=>!y),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),lc.set("game"));function R(){const y=o.achievements[o.achievements.length-1];if(y!=null)return et.find(b=>b.id==y[0])}const F=()=>v(),E=()=>{k()},$=y=>{y.key==="p"&&Et.set(!1)},H=y=>{_(y.id);const b=document.getElementById(`collectPrize-${y.id}`);b&&(b.style.display="none")};function D(y){l=y,Et.set(l)}const U=()=>{Ie(Vi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&32774&&i)if(r)n(1,h=et);else{n(1,h=[]);for(let y=0;y<et.length;y++)(!A(et[y].id)||!p(et[y].id))&&h.push(et[y])}},[k,h,i,l,a,u,f,c,d,p,_,v,w,A,R,r,F,E,$,H,D,U]}class Kv extends ve{constructor(e){super(),be(this,e,Wv,Vv,de,{toggleShowCompleted:0},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[0]}}function Uv(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function Yv(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=q(e)},m(o,i){M(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&se(n,e)},d(o){o&&T(n)}}}function Xv(t){let e;return{c(){e=q("Keep playin'")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Jv(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new Tt({props:{class:"bg-accent",$$slots:{default:[Xv]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=P("span"),o=q(n),i=V(),r=P("br"),l=V(),a=P("br"),s=V(),J(u.$$.fragment),N(e,"class","text-gray-500 text-sm")},m(c,d){M(c,e,d),g(e,o),M(c,i,d),M(c,r,d),M(c,l,d),M(c,a,d),M(c,s,d),Y(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&se(o,n);const p={};d&16&&(p.$$scope={dirty:d,ctx:c}),u.$set(p)},i(c){f||(C(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(i),T(r),T(l),T(a),T(s)),X(u,c)}}}function xv(t){let e,n,o,i;return e=new Un({props:{$$slots:{default:[Yv]},$$scope:{ctx:t}}}),o=new Jn({props:{$$slots:{default:[Jv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Zv(t){let e;return{c(){e=P("span"),e.textContent="Reset the game by pressing SHIFT+ESC",N(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function Qv(t){let e,n,o,i;return e=new Yn({props:{$$slots:{default:[xv]},$$scope:{ctx:t}}}),o=new So({props:{$$slots:{default:[Zv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function zv(t){let e,n;return e=new Xn({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[Qv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function ey(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[zv]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new xn({props:r}),Ne.push(()=>Sn(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){Y(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],An(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function ty(t,e,n){let o;fe(t,Ee,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,Ee.set(a),n(1,i=!1),Et.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class ny extends ve{constructor(e){super(),be(this,e,ty,ey,de,{})}}function oy(t){let e;return{c(){e=q("Welcome to Plots!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function iy(t){let e;return{c(){e=q("Select a map size (difficulty)")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ry(t){let e;return{c(){e=q("Select a game mode")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ly(t){let e;return{c(){e=P("p"),e.textContent=`${bt.free_play.description_title}`,N(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function sy(t){let e;return{c(){e=P("p"),e.textContent=`${bt.land.description_title}`,N(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ay(t){let e;return{c(){e=q("Town Name")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function uy(t){let e;return{c(){e=q("Cheats")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function fy(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,_,h,v,w,A,k,R,F,E,$,H,D,U,y,b,I,O,W,L,x;r=new lo({props:{for:"difficulty",class:"mt-2",$$slots:{default:[iy]},$$scope:{ctx:t}}}),p=new lo({props:{for:"endGoal",class:"mt-2",$$slots:{default:[ry]},$$scope:{ctx:t}}});function z(ee,ne){return ee[0]==="land"?sy:ly}let Z=z(t),K=Z(t);return F=new lo({props:{for:"townName",class:"mt-2",$$slots:{default:[ay]},$$scope:{ctx:t}}}),$=new Hl({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),U=new lo({props:{for:"cheats",class:"mt-2",$$slots:{default:[uy]},$$scope:{ctx:t}}}),{c(){e=P("a"),e.textContent="GitHub / Learn how to play",n=V(),o=P("div"),i=P("div"),J(r.$$.fragment),l=V(),a=P("select"),s=P("option"),s.textContent="Easy (quick game)",u=P("option"),u.textContent="Normal",f=P("option"),f.textContent="Hard (longest game)",c=V(),d=P("div"),J(p.$$.fragment),_=V(),K.c(),h=V(),v=P("select"),w=P("option"),w.textContent=`${bt.land.short_title}`,A=P("option"),A.textContent=`${bt.free_play.short_title}`,k=V(),R=P("div"),J(F.$$.fragment),E=V(),J($.$$.fragment),H=V(),D=P("div"),J(U.$$.fragment),y=V(),b=P("select"),I=P("option"),I.textContent="No cheats",O=P("option"),O.textContent="Dev mode",N(e,"href","https://github.com/josephrcox/plots#how-to-play"),N(e,"class","text-blue-500 text-sm mb-4 hover:underline"),N(e,"target","_blank"),s.__value="0",en(s,s.__value),u.__value="1",en(u,u.__value),u.selected=!0,f.__value="2",en(f,f.__value),N(a,"id","difficulty"),N(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"),w.__value="land",en(w,w.__value),A.__value="free_play",en(A,A.__value),N(v,"id","endGoal"),N(v,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),I.__value="false",en(I,I.__value),I.selected=!0,O.__value="true",en(O,O.__value),N(b,"id","cheats"),N(b,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),N(o,"class","flex flex-col justify-center gap-5 mt-4")},m(ee,ne){M(ee,e,ne),M(ee,n,ne),M(ee,o,ne),g(o,i),Y(r,i,null),g(i,l),g(i,a),g(a,s),g(a,u),g(a,f),g(o,c),g(o,d),Y(p,d,null),g(d,_),K.m(d,null),g(d,h),g(d,v),g(v,w),g(v,A),bs(v,t[0]),g(o,k),g(o,R),Y(F,R,null),g(R,E),Y($,R,null),g(o,H),g(o,D),Y(U,D,null),g(D,y),g(D,b),g(b,I),g(b,O),W=!0,L||(x=te(v,"change",t[4]),L=!0)},p(ee,ne){const m={};ne&256&&(m.$$scope={dirty:ne,ctx:ee}),r.$set(m);const j={};ne&256&&(j.$$scope={dirty:ne,ctx:ee}),p.$set(j),Z!==(Z=z(ee))&&(K.d(1),K=Z(ee),K&&(K.c(),K.m(d,h))),(!W||ne&1)&&bs(v,ee[0]);const B={};ne&256&&(B.$$scope={dirty:ne,ctx:ee}),F.$set(B);const ie={};ne&256&&(ie.$$scope={dirty:ne,ctx:ee}),U.$set(ie)},i(ee){W||(C(r.$$.fragment,ee),C(p.$$.fragment,ee),C(F.$$.fragment,ee),C($.$$.fragment,ee),C(U.$$.fragment,ee),W=!0)},o(ee){S(r.$$.fragment,ee),S(p.$$.fragment,ee),S(F.$$.fragment,ee),S($.$$.fragment,ee),S(U.$$.fragment,ee),W=!1},d(ee){ee&&(T(e),T(n),T(o)),X(r),X(p),K.d(),X(F),X($),X(U),L=!1,x()}}}function cy(t){let e,n,o,i;return e=new Un({props:{$$slots:{default:[oy]},$$scope:{ctx:t}}}),o=new Jn({props:{$$slots:{default:[fy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&257&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function dy(t){let e;return{c(){e=q("Reset user")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function my(t){let e,n,o=t[1].username+"",i,r,l,a,s,u,f,c,d;return a=new Tt({props:{$$slots:{default:[dy]},$$scope:{ctx:t}}}),a.$on("click",t[5]),{c(){e=P("div"),n=P("span"),i=q(o),r=V(),l=P("div"),J(a.$$.fragment),s=V(),u=P("button"),u.textContent="Start game",N(n,"class","italic opacity-30 text-xs py-2 text-start rounded h-full flex flex-col justify-center mr-10"),N(u,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"),N(e,"class","flex flex-row justify-between w-full px-1")},m(p,_){M(p,e,_),g(e,n),g(n,i),g(e,r),g(e,l),Y(a,l,null),g(l,s),g(l,u),f=!0,c||(d=[te(n,"click",t[6]),te(u,"click",t[3])],c=!0)},p(p,_){(!f||_&2)&&o!==(o=p[1].username+"")&&se(i,o);const h={};_&256&&(h.$$scope={dirty:_,ctx:p}),a.$set(h)},i(p){f||(C(a.$$.fragment,p),f=!0)},o(p){S(a.$$.fragment,p),f=!1},d(p){p&&T(e),X(a),c=!1,qe(d)}}}function py(t){let e,n,o,i;return e=new Yn({props:{$$slots:{default:[cy]},$$scope:{ctx:t}}}),o=new So({props:{$$slots:{default:[my]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&257&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&258&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function _y(t){let e,n;return e=new Xn({props:{transition:pr,class:"bg-foregroundDark text-foregroundText",$$slots:{default:[py]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function hy(t){let e,n,o;function i(l){t[7](l)}let r={$$slots:{default:[_y]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new xn({props:r}),Ne.push(()=>Sn(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){Y(e,l,a),o=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,An(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function gy(t,e,n){let o,i;fe(t,on,c=>n(1,o=c)),fe(t,Vo,c=>n(2,i=c)),Et.set(!1);function r(){const c=document.getElementById("difficulty").value,d=document.getElementById("endGoal").value,p=document.getElementById("townName").value,_=document.getElementById("cheats").value=="true";am(c,d,p,_)}let l="free_play";const a=c=>{n(0,l=c.target.value)};function s(){bn.set("Deleted :)"),localStorage.clear(),window.location.href=""}function u(){const c=prompt("Enter new username");let d=o;d.username=c,mm(d)}function f(c){t.$$.not_equal(i.visible,c)&&(i.visible=c,Vo.set(i))}return[l,o,i,r,a,s,u,f]}class by extends ve{constructor(e){super(),be(this,e,gy,hy,de,{})}}function vy(t){let e;return{c(){e=q("Scoreboard")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function yy(t){let e=t[1].description_title+"",n;return{c(){n=q(e)},m(o,i){M(o,n,i)},p:Ce,d(o){o&&T(n)}}}function wy(t){let e,n,o,i;return e=new Un({props:{$$slots:{default:[vy]},$$scope:{ctx:t}}}),o=new Jn({props:{$$slots:{default:[yy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function ky(t){let e;return{c(){e=q("footer")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Cy(t){let e,n,o,i;return e=new Yn({props:{$$slots:{default:[wy]},$$scope:{ctx:t}}}),o=new So({props:{$$slots:{default:[ky]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(`
		hi
		`),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Ay(t){let e,n;return e=new Xn({props:{$$slots:{default:[Cy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Sy(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Ay]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new xn({props:r}),Ne.push(()=>Sn(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){Y(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],An(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function Ty(t,e,n){let o,i;fe(t,Ee,s=>n(2,o=s)),fe(t,ks,s=>n(0,i=s));const l=bt[o.endGoal];Nl[o.difficulty];function a(s){i=s,ks.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class My extends ve{constructor(e){super(),be(this,e,Ty,Sy,de,{})}}function Oi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Iy(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zc(t){let e,n,o;t.length!==2?(e=Oi,n=(a,s)=>Oi(t(a),s),o=(a,s)=>t(a)-s):(e=t===Oi||t===Iy?t:Py,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function Py(){return 0}function Oy(t){return t===null?NaN:+t}const Ny=Zc(Oi),Ey=Ny.right;Zc(Oy).center;const $y=Math.sqrt(50),Ry=Math.sqrt(10),Dy=Math.sqrt(2);function Qi(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=$y?10:r>=Ry?5:r>=Dy?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?Qi(t,e,n*2):[a,s,u]}function Ly(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?Qi(e,t,n):Qi(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function cl(t,e,n){return e=+e,t=+t,n=+n,Qi(t,e,n)[2]}function Fy(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?cl(e,t,n):cl(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function qy(t){return t}var Ur=1,Yr=2,dl=3,Fo=4,su=1e-6;function jy(t){return"translate("+t+",0)"}function By(t){return"translate(0,"+t+")"}function Gy(t){return e=>+t(e)}function Vy(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Hy(){return!this.__axis}function Qc(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Ur||t===Fo?-1:1,f=t===Fo||t===Yr?"x":"y",c=t===Ur||t===dl?jy:By;function d(p){var _=o??(e.ticks?e.ticks.apply(e,n):e.domain()),h=i??(e.tickFormat?e.tickFormat.apply(e,n):qy),v=Math.max(r,0)+a,w=e.range(),A=+w[0]+s,k=+w[w.length-1]+s,R=(e.bandwidth?Vy:Gy)(e.copy(),s),F=p.selection?p.selection():p,E=F.selectAll(".domain").data([null]),$=F.selectAll(".tick").data(_,e).order(),H=$.exit(),D=$.enter().append("g").attr("class","tick"),U=$.select("line"),y=$.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(D),U=U.merge(D.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),y=y.merge(D.append("text").attr("fill","currentColor").attr(f,u*v).attr("dy",t===Ur?"0em":t===dl?"0.71em":"0.32em")),p!==F&&(E=E.transition(p),$=$.transition(p),U=U.transition(p),y=y.transition(p),H=H.transition(p).attr("opacity",su).attr("transform",function(b){return isFinite(b=R(b))?c(b+s):this.getAttribute("transform")}),D.attr("opacity",su).attr("transform",function(b){var I=this.parentNode.__axis;return c((I&&isFinite(I=I(b))?I:R(b))+s)})),H.remove(),E.attr("d",t===Fo||t===Yr?l?"M"+u*l+","+A+"H"+s+"V"+k+"H"+u*l:"M"+s+","+A+"V"+k:l?"M"+A+","+u*l+"V"+s+"H"+k+"V"+u*l:"M"+A+","+s+"H"+k),$.attr("opacity",1).attr("transform",function(b){return c(R(b)+s)}),U.attr(f+"2",u*r),y.attr(f,u*v).text(h),F.filter(Hy).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Yr?"start":t===Fo?"end":"middle"),F.each(function(){this.__axis=R})}return d.scale=function(p){return arguments.length?(e=p,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),d):n.slice()},d.tickValues=function(p){return arguments.length?(o=p==null?null:Array.from(p),d):o&&o.slice()},d.tickFormat=function(p){return arguments.length?(i=p,d):i},d.tickSize=function(p){return arguments.length?(r=l=+p,d):r},d.tickSizeInner=function(p){return arguments.length?(r=+p,d):r},d.tickSizeOuter=function(p){return arguments.length?(l=+p,d):l},d.tickPadding=function(p){return arguments.length?(a=+p,d):a},d.offset=function(p){return arguments.length?(s=+p,d):s},d}function Wy(t){return Qc(dl,t)}function Ky(t){return Qc(Fo,t)}var Uy={value:()=>{}};function zc(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Ni(n)}function Ni(t){this._=t}function Yy(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Ni.prototype=zc.prototype={constructor:Ni,on:function(t,e){var n=this._,o=Yy(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=Xy(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=au(n[i],t.name,e);else if(e==null)for(i in n)n[i]=au(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ni(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function Xy(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function au(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=Uy,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var ml="http://www.w3.org/1999/xhtml";const uu={svg:"http://www.w3.org/2000/svg",xhtml:ml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ar(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),uu.hasOwnProperty(e)?{space:uu[e],local:t}:t}function Jy(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ml&&e.documentElement.namespaceURI===ml?e.createElement(t):e.createElementNS(n,t)}}function xy(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ed(t){var e=Ar(t);return(e.local?xy:Jy)(e)}function Zy(){}function Yl(t){return t==null?Zy:function(){return this.querySelector(t)}}function Qy(t){typeof t!="function"&&(t=Yl(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new Ot(o,this._parents)}function zy(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ew(){return[]}function td(t){return t==null?ew:function(){return this.querySelectorAll(t)}}function tw(t){return function(){return zy(t.apply(this,arguments))}}function nw(t){typeof t=="function"?t=tw(t):t=td(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new Ot(o,i)}function nd(t){return function(){return this.matches(t)}}function od(t){return function(e){return e.matches(t)}}var ow=Array.prototype.find;function iw(t){return function(){return ow.call(this.children,t)}}function rw(){return this.firstElementChild}function lw(t){return this.select(t==null?rw:iw(typeof t=="function"?t:od(t)))}var sw=Array.prototype.filter;function aw(){return Array.from(this.children)}function uw(t){return function(){return sw.call(this.children,t)}}function fw(t){return this.selectAll(t==null?aw:uw(typeof t=="function"?t:od(t)))}function cw(t){typeof t!="function"&&(t=nd(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Ot(o,this._parents)}function id(t){return new Array(t.length)}function dw(){return new Ot(this._enter||this._groups.map(id),this._parents)}function zi(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}zi.prototype={constructor:zi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function mw(t){return function(){return t}}function pw(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new zi(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function _w(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),p;for(a=0;a<f;++a)(s=e[a])&&(d[a]=p=l.call(s,s.__data__,a,e)+"",u.has(p)?i[a]=s:u.set(p,s));for(a=0;a<c;++a)p=l.call(t,r[a],a,r)+"",(s=u.get(p))?(o[a]=s,s.__data__=r[a],u.delete(p)):n[a]=new zi(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function hw(t){return t.__data__}function gw(t,e){if(!arguments.length)return Array.from(this,hw);var n=e?_w:pw,o=this._parents,i=this._groups;typeof t!="function"&&(t=mw(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,p=bw(t.call(f,f&&f.__data__,u,o)),_=p.length,h=a[u]=new Array(_),v=l[u]=new Array(_),w=s[u]=new Array(d);n(f,c,h,v,w,p,e);for(var A=0,k=0,R,F;A<_;++A)if(R=h[A]){for(A>=k&&(k=A+1);!(F=v[k])&&++k<_;);R._next=F||null}}return l=new Ot(l,o),l._enter=a,l._exit=s,l}function bw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vw(){return new Ot(this._exit||this._groups.map(id),this._parents)}function yw(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function ww(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),p,_=0;_<c;++_)(p=u[_]||f[_])&&(d[_]=p);for(;s<i;++s)a[s]=n[s];return new Ot(a,this._parents)}function kw(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function Cw(t){t||(t=Aw);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new Ot(i,this._parents).order()}function Aw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Sw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Tw(){return Array.from(this)}function Mw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function Iw(){let t=0;for(const e of this)++t;return t}function Pw(){return!this.node()}function Ow(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function Nw(t){return function(){this.removeAttribute(t)}}function Ew(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $w(t,e){return function(){this.setAttribute(t,e)}}function Rw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Dw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Lw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Fw(t,e){var n=Ar(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?Ew:Nw:typeof e=="function"?n.local?Lw:Dw:n.local?Rw:$w)(n,e))}function rd(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function qw(t){return function(){this.style.removeProperty(t)}}function jw(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Bw(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function Gw(t,e,n){return arguments.length>1?this.each((e==null?qw:typeof e=="function"?Bw:jw)(t,e,n??"")):go(this.node(),t)}function go(t,e){return t.style.getPropertyValue(e)||rd(t).getComputedStyle(t,null).getPropertyValue(e)}function Vw(t){return function(){delete this[t]}}function Hw(t,e){return function(){this[t]=e}}function Ww(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Kw(t,e){return arguments.length>1?this.each((e==null?Vw:typeof e=="function"?Ww:Hw)(t,e)):this.node()[t]}function ld(t){return t.trim().split(/^|\s+/)}function Xl(t){return t.classList||new sd(t)}function sd(t){this._node=t,this._names=ld(t.getAttribute("class")||"")}sd.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ad(t,e){for(var n=Xl(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function ud(t,e){for(var n=Xl(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function Uw(t){return function(){ad(this,t)}}function Yw(t){return function(){ud(this,t)}}function Xw(t,e){return function(){(e.apply(this,arguments)?ad:ud)(this,t)}}function Jw(t,e){var n=ld(t+"");if(arguments.length<2){for(var o=Xl(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Xw:e?Uw:Yw)(n,e))}function xw(){this.textContent=""}function Zw(t){return function(){this.textContent=t}}function Qw(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function zw(t){return arguments.length?this.each(t==null?xw:(typeof t=="function"?Qw:Zw)(t)):this.node().textContent}function e2(){this.innerHTML=""}function t2(t){return function(){this.innerHTML=t}}function n2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function o2(t){return arguments.length?this.each(t==null?e2:(typeof t=="function"?n2:t2)(t)):this.node().innerHTML}function i2(){this.nextSibling&&this.parentNode.appendChild(this)}function r2(){return this.each(i2)}function l2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function s2(){return this.each(l2)}function a2(t){var e=typeof t=="function"?t:ed(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function u2(){return null}function f2(t,e){var n=typeof t=="function"?t:ed(t),o=e==null?u2:typeof e=="function"?e:Yl(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function c2(){var t=this.parentNode;t&&t.removeChild(this)}function d2(){return this.each(c2)}function m2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function p2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _2(t){return this.select(t?p2:m2)}function h2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function g2(t){return function(e){t.call(this,e,this.__data__)}}function b2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function v2(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function y2(t,e,n){return function(){var o=this.__on,i,r=g2(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function w2(t,e,n){var o=b2(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?y2:v2,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function fd(t,e,n){var o=rd(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function k2(t,e){return function(){return fd(this,t,e)}}function C2(t,e){return function(){return fd(this,t,e.apply(this,arguments))}}function A2(t,e){return this.each((typeof e=="function"?C2:k2)(t,e))}function*S2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var cd=[null];function Ot(t,e){this._groups=t,this._parents=e}function ti(){return new Ot([[document.documentElement]],cd)}function T2(){return this}Ot.prototype=ti.prototype={constructor:Ot,select:Qy,selectAll:nw,selectChild:lw,selectChildren:fw,filter:cw,data:gw,enter:dw,exit:vw,join:yw,merge:ww,selection:T2,order:kw,sort:Cw,call:Sw,nodes:Tw,node:Mw,size:Iw,empty:Pw,each:Ow,attr:Fw,style:Gw,property:Kw,classed:Jw,text:zw,html:o2,raise:r2,lower:s2,append:a2,insert:f2,remove:d2,clone:_2,datum:h2,on:w2,dispatch:A2,[Symbol.iterator]:S2};function M2(t){return typeof t=="string"?new Ot([[document.querySelector(t)]],[document.documentElement]):new Ot([[t]],cd)}function Jl(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function dd(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function ni(){}var Jo=.7,er=1/Jo,co="\\s*([+-]?\\d+)\\s*",xo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",I2=/^#([0-9a-f]{3,8})$/,P2=new RegExp(`^rgb\\(${co},${co},${co}\\)$`),O2=new RegExp(`^rgb\\(${Ut},${Ut},${Ut}\\)$`),N2=new RegExp(`^rgba\\(${co},${co},${co},${xo}\\)$`),E2=new RegExp(`^rgba\\(${Ut},${Ut},${Ut},${xo}\\)$`),$2=new RegExp(`^hsl\\(${xo},${Ut},${Ut}\\)$`),R2=new RegExp(`^hsla\\(${xo},${Ut},${Ut},${xo}\\)$`),fu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jl(ni,Gn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:cu,formatHex:cu,formatHex8:D2,formatHsl:L2,formatRgb:du,toString:du});function cu(){return this.rgb().formatHex()}function D2(){return this.rgb().formatHex8()}function L2(){return md(this).formatHsl()}function du(){return this.rgb().formatRgb()}function Gn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=I2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?mu(e):n===3?new At(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ki(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ki(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=P2.exec(t))?new At(e[1],e[2],e[3],1):(e=O2.exec(t))?new At(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=N2.exec(t))?ki(e[1],e[2],e[3],e[4]):(e=E2.exec(t))?ki(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=$2.exec(t))?hu(e[1],e[2]/100,e[3]/100,1):(e=R2.exec(t))?hu(e[1],e[2]/100,e[3]/100,e[4]):fu.hasOwnProperty(t)?mu(fu[t]):t==="transparent"?new At(NaN,NaN,NaN,0):null}function mu(t){return new At(t>>16&255,t>>8&255,t&255,1)}function ki(t,e,n,o){return o<=0&&(t=e=n=NaN),new At(t,e,n,o)}function F2(t){return t instanceof ni||(t=Gn(t)),t?(t=t.rgb(),new At(t.r,t.g,t.b,t.opacity)):new At}function pl(t,e,n,o){return arguments.length===1?F2(t):new At(t,e,n,o??1)}function At(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}Jl(At,pl,dd(ni,{brighter(t){return t=t==null?er:Math.pow(er,t),new At(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jo:Math.pow(Jo,t),new At(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new At(Dn(this.r),Dn(this.g),Dn(this.b),tr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pu,formatHex:pu,formatHex8:q2,formatRgb:_u,toString:_u}));function pu(){return`#${En(this.r)}${En(this.g)}${En(this.b)}`}function q2(){return`#${En(this.r)}${En(this.g)}${En(this.b)}${En((isNaN(this.opacity)?1:this.opacity)*255)}`}function _u(){const t=tr(this.opacity);return`${t===1?"rgb(":"rgba("}${Dn(this.r)}, ${Dn(this.g)}, ${Dn(this.b)}${t===1?")":`, ${t})`}`}function tr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Dn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function En(t){return t=Dn(t),(t<16?"0":"")+t.toString(16)}function hu(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ft(t,e,n,o)}function md(t){if(t instanceof Ft)return new Ft(t.h,t.s,t.l,t.opacity);if(t instanceof ni||(t=Gn(t)),!t)return new Ft;if(t instanceof Ft)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new Ft(l,a,s,t.opacity)}function j2(t,e,n,o){return arguments.length===1?md(t):new Ft(t,e,n,o??1)}function Ft(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}Jl(Ft,j2,dd(ni,{brighter(t){return t=t==null?er:Math.pow(er,t),new Ft(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jo:Math.pow(Jo,t),new Ft(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new At(Xr(t>=240?t-240:t+120,i,o),Xr(t,i,o),Xr(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new Ft(gu(this.h),Ci(this.s),Ci(this.l),tr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=tr(this.opacity);return`${t===1?"hsl(":"hsla("}${gu(this.h)}, ${Ci(this.s)*100}%, ${Ci(this.l)*100}%${t===1?")":`, ${t})`}`}}));function gu(t){return t=(t||0)%360,t<0?t+360:t}function Ci(t){return Math.max(0,Math.min(1,t||0))}function Xr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const xl=t=>()=>t;function B2(t,e){return function(n){return t+n*e}}function G2(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function V2(t){return(t=+t)==1?pd:function(e,n){return n-e?G2(e,n,t):xl(isNaN(e)?n:e)}}function pd(t,e){var n=e-t;return n?B2(t,n):xl(isNaN(t)?e:t)}const nr=function t(e){var n=V2(e);function o(i,r){var l=n((i=pl(i)).r,(r=pl(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=pd(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function H2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function W2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function K2(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=Zl(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function U2(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function Lt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Y2(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Zl(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var _l=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jr=new RegExp(_l.source,"g");function X2(t){return function(){return t}}function J2(t){return function(e){return t(e)+""}}function _d(t,e){var n=_l.lastIndex=Jr.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=_l.exec(t))&&(i=Jr.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Lt(o,i)})),n=Jr.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?J2(s[0].x):X2(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function Zl(t,e){var n=typeof e,o;return e==null||n==="boolean"?xl(e):(n==="number"?Lt:n==="string"?(o=Gn(e))?(e=o,nr):_d:e instanceof Gn?nr:e instanceof Date?U2:W2(e)?H2:Array.isArray(e)?K2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Y2:Lt)(t,e)}function x2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var bu=180/Math.PI,hl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function hd(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*bu,skewX:Math.atan(s)*bu,scaleX:l,scaleY:a}}var Ai;function Z2(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?hl:hd(e.a,e.b,e.c,e.d,e.e,e.f)}function Q2(t){return t==null||(Ai||(Ai=document.createElementNS("http://www.w3.org/2000/svg","g")),Ai.setAttribute("transform",t),!(t=Ai.transform.baseVal.consolidate()))?hl:(t=t.matrix,hd(t.a,t.b,t.c,t.d,t.e,t.f))}function gd(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,p,_){if(u!==c||f!==d){var h=p.push("translate(",null,e,null,n);_.push({i:h-4,x:Lt(u,c)},{i:h-2,x:Lt(f,d)})}else(c||d)&&p.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:Lt(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:Lt(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,p,_){if(u!==c||f!==d){var h=p.push(i(p)+"scale(",null,",",null,")");_.push({i:h-4,x:Lt(u,c)},{i:h-2,x:Lt(f,d)})}else(c!==1||d!==1)&&p.push(i(p)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(p){for(var _=-1,h=d.length,v;++_<h;)c[(v=d[_]).i]=v.x(p);return c.join("")}}}var z2=gd(Z2,"px, ","px)","deg)"),ek=gd(Q2,", ",")",")"),bo=0,qo=0,Do=0,bd=1e3,or,jo,ir=0,Vn=0,Sr=0,Zo=typeof performance=="object"&&performance.now?performance:Date,vd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ql(){return Vn||(vd(tk),Vn=Zo.now()+Sr)}function tk(){Vn=0}function rr(){this._call=this._time=this._next=null}rr.prototype=yd.prototype={constructor:rr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ql():+n)+(e==null?0:+e),!this._next&&jo!==this&&(jo?jo._next=this:or=this,jo=this),this._call=t,this._time=n,gl()},stop:function(){this._call&&(this._call=null,this._time=1/0,gl())}};function yd(t,e,n){var o=new rr;return o.restart(t,e,n),o}function nk(){Ql(),++bo;for(var t=or,e;t;)(e=Vn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--bo}function vu(){Vn=(ir=Zo.now())+Sr,bo=qo=0;try{nk()}finally{bo=0,ik(),Vn=0}}function ok(){var t=Zo.now(),e=t-ir;e>bd&&(Sr-=e,ir=t)}function ik(){for(var t,e=or,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:or=n);jo=t,gl(o)}function gl(t){if(!bo){qo&&(qo=clearTimeout(qo));var e=t-Vn;e>24?(t<1/0&&(qo=setTimeout(vu,t-Zo.now()-Sr)),Do&&(Do=clearInterval(Do))):(Do||(ir=Zo.now(),Do=setInterval(ok,bd)),bo=1,vd(vu))}}function yu(t,e,n){var o=new rr;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var rk=zc("start","end","cancel","interrupt"),lk=[],wd=0,wu=1,bl=2,Ei=3,ku=4,vl=5,$i=6;function Tr(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;sk(t,n,{name:e,index:o,group:i,on:rk,tween:lk,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:wd})}function zl(t,e){var n=Bt(t,e);if(n.state>wd)throw new Error("too late; already scheduled");return n}function Zt(t,e){var n=Bt(t,e);if(n.state>Ei)throw new Error("too late; already running");return n}function Bt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function sk(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=yd(r,0,n.time);function r(u){n.state=wu,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,p;if(n.state!==wu)return s();for(f in o)if(p=o[f],p.name===n.name){if(p.state===Ei)return yu(l);p.state===ku?(p.state=$i,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete o[f]):+f<e&&(p.state=$i,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete o[f])}if(yu(function(){n.state===Ei&&(n.state=ku,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=bl,n.on.call("start",t,t.__data__,n.index,n.group),n.state===bl){for(n.state=Ei,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(p=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=p);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=vl,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===vl&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=$i,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function ak(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>bl&&o.state<vl,o.state=$i,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function uk(t){return this.each(function(){ak(this,t)})}function fk(t,e){var n,o;return function(){var i=Zt(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function ck(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=Zt(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function dk(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=Bt(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?fk:ck)(n,t,e))}function es(t,e,n){var o=t._id;return t.each(function(){var i=Zt(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Bt(i,o).value[e]}}function kd(t,e){var n;return(typeof e=="number"?Lt:e instanceof Gn?nr:(n=Gn(e))?(e=n,nr):_d)(t,e)}function mk(t){return function(){this.removeAttribute(t)}}function pk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _k(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function hk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function gk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function bk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function vk(t,e){var n=Ar(t),o=n==="transform"?ek:kd;return this.attrTween(t,typeof e=="function"?(n.local?bk:gk)(n,o,es(this,"attr."+t,e)):e==null?(n.local?pk:mk)(n):(n.local?hk:_k)(n,o,e))}function yk(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function wk(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function kk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&wk(t,r)),n}return i._value=e,i}function Ck(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&yk(t,r)),n}return i._value=e,i}function Ak(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=Ar(t);return this.tween(n,(o.local?kk:Ck)(o,e))}function Sk(t,e){return function(){zl(this,t).delay=+e.apply(this,arguments)}}function Tk(t,e){return e=+e,function(){zl(this,t).delay=e}}function Mk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Sk:Tk)(e,t)):Bt(this.node(),e).delay}function Ik(t,e){return function(){Zt(this,t).duration=+e.apply(this,arguments)}}function Pk(t,e){return e=+e,function(){Zt(this,t).duration=e}}function Ok(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ik:Pk)(e,t)):Bt(this.node(),e).duration}function Nk(t,e){if(typeof e!="function")throw new Error;return function(){Zt(this,t).ease=e}}function Ek(t){var e=this._id;return arguments.length?this.each(Nk(e,t)):Bt(this.node(),e).ease}function $k(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Zt(this,t).ease=n}}function Rk(t){if(typeof t!="function")throw new Error;return this.each($k(this._id,t))}function Dk(t){typeof t!="function"&&(t=nd(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new ln(o,this._parents,this._name,this._id)}function Lk(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,p=0;p<f;++p)(d=s[p]||u[p])&&(c[p]=d);for(;a<o;++a)l[a]=e[a];return new ln(l,this._parents,this._name,this._id)}function Fk(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function qk(t,e,n){var o,i,r=Fk(e)?zl:Zt;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function jk(t,e){var n=this._id;return arguments.length<2?Bt(this.node(),n).on.on(t):this.each(qk(n,t,e))}function Bk(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Gk(){return this.on("end.remove",Bk(this._id))}function Vk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Yl(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Tr(u[d],e,n,d,u,Bt(f,n)));return new ln(r,this._parents,e,n)}function Hk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=td(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),p,_=Bt(f,n),h=0,v=d.length;h<v;++h)(p=d[h])&&Tr(p,e,n,h,d,_);r.push(d),l.push(f)}return new ln(r,l,e,n)}var Wk=ti.prototype.constructor;function Kk(){return new Wk(this._groups,this._parents)}function Uk(t,e){var n,o,i;return function(){var r=go(this,t),l=(this.style.removeProperty(t),go(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function Cd(t){return function(){this.style.removeProperty(t)}}function Yk(t,e,n){var o,i=n+"",r;return function(){var l=go(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function Xk(t,e,n){var o,i,r;return function(){var l=go(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),go(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function Jk(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=Zt(this,t),u=s.on,f=s.value[r]==null?a||(a=Cd(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function xk(t,e,n){var o=(t+="")=="transform"?z2:kd;return e==null?this.styleTween(t,Uk(t,o)).on("end.style."+t,Cd(t)):typeof e=="function"?this.styleTween(t,Xk(t,o,es(this,"style."+t,e))).each(Jk(this._id,t)):this.styleTween(t,Yk(t,o,e),n).on("end.style."+t,null)}function Zk(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function Qk(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&Zk(t,l,n)),o}return r._value=e,r}function zk(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,Qk(t,e,n??""))}function e5(t){return function(){this.textContent=t}}function t5(t){return function(){var e=t(this);this.textContent=e??""}}function n5(t){return this.tween("text",typeof t=="function"?t5(es(this,"text",t)):e5(t==null?"":t+""))}function o5(t){return function(e){this.textContent=t.call(this,e)}}function i5(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&o5(i)),e}return o._value=t,o}function r5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,i5(t))}function l5(){for(var t=this._name,e=this._id,n=Ad(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=Bt(s,e);Tr(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ln(o,this._parents,t,n)}function s5(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=Zt(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var a5=0;function ln(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function Ad(){return++a5}var zt=ti.prototype;ln.prototype={constructor:ln,select:Vk,selectAll:Hk,selectChild:zt.selectChild,selectChildren:zt.selectChildren,filter:Dk,merge:Lk,selection:Kk,transition:l5,call:zt.call,nodes:zt.nodes,node:zt.node,size:zt.size,empty:zt.empty,each:zt.each,on:jk,attr:vk,attrTween:Ak,style:xk,styleTween:zk,text:n5,textTween:r5,remove:Gk,tween:dk,delay:Mk,duration:Ok,ease:Ek,easeVarying:Rk,end:s5,[Symbol.iterator]:zt[Symbol.iterator]};function u5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var f5={time:null,delay:0,duration:250,ease:u5};function c5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function d5(t){var e,n;t instanceof ln?(e=t._id,t=t._name):(e=Ad(),(n=f5).time=Ql(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&Tr(s,t,e,u,l,n||c5(s,e));return new ln(o,this._parents,t,e)}ti.prototype.interrupt=uk;ti.prototype.transition=d5;const yl=Math.PI,wl=2*yl,Pn=1e-6,m5=wl-Pn;function Sd(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function p5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Sd;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class _5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Sd:p5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Pn)if(!(Math.abs(c*s-u*f)>Pn)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let p=o-l,_=i-a,h=s*s+u*u,v=p*p+_*_,w=Math.sqrt(h),A=Math.sqrt(d),k=r*Math.tan((yl-Math.acos((h+d-v)/(2*w*A)))/2),R=k/A,F=k/w;Math.abs(R-1)>Pn&&this._append`L${e+R*f},${n+R*c}`,this._append`A${r},${r},0,0,${+(c*p>f*_)},${this._x1=e+F*s},${this._y1=n+F*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Pn||Math.abs(this._y1-f)>Pn)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%wl+wl),d>m5?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>Pn&&this._append`A${o},${o},0,${+(d>=yl)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function h5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function lr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function vo(t){return t=lr(Math.abs(t)),t?t[1]:NaN}function g5(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function b5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var v5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sr(t){if(!(e=v5.exec(t)))throw new Error("invalid format: "+t);var e;return new ts({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}sr.prototype=ts.prototype;function ts(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ts.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function y5(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var Td;function w5(t,e){var n=lr(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(Td=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+lr(t,Math.max(0,e+r-1))[0]}function Cu(t,e){var n=lr(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const Au={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:h5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Cu(t*100,e),r:Cu,s:w5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Su(t){return t}var Tu=Array.prototype.map,Mu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function k5(t){var e=t.grouping===void 0||t.thousands===void 0?Su:g5(Tu.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?Su:b5(Tu.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=sr(c);var d=c.fill,p=c.align,_=c.sign,h=c.symbol,v=c.zero,w=c.width,A=c.comma,k=c.precision,R=c.trim,F=c.type;F==="n"?(A=!0,F="g"):Au[F]||(k===void 0&&(k=12),R=!0,F="g"),(v||d==="0"&&p==="=")&&(v=!0,d="0",p="=");var E=h==="$"?n:h==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",$=h==="$"?o:/[%p]/.test(F)?l:"",H=Au[F],D=/[defgprs%]/.test(F);k=k===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function U(y){var b=E,I=$,O,W,L;if(F==="c")I=H(y)+I,y="";else{y=+y;var x=y<0||1/y<0;if(y=isNaN(y)?s:H(Math.abs(y),k),R&&(y=y5(y)),x&&+y==0&&_!=="+"&&(x=!1),b=(x?_==="("?_:a:_==="-"||_==="("?"":_)+b,I=(F==="s"?Mu[8+Td/3]:"")+I+(x&&_==="("?")":""),D){for(O=-1,W=y.length;++O<W;)if(L=y.charCodeAt(O),48>L||L>57){I=(L===46?i+y.slice(O+1):y.slice(O))+I,y=y.slice(0,O);break}}}A&&!v&&(y=e(y,1/0));var z=b.length+y.length+I.length,Z=z<w?new Array(w-z+1).join(d):"";switch(A&&v&&(y=e(Z+y,Z.length?w-I.length:1/0),Z=""),p){case"<":y=b+y+I+Z;break;case"=":y=b+Z+y+I;break;case"^":y=Z.slice(0,z=Z.length>>1)+b+y+I+Z.slice(z);break;default:y=Z+b+y+I;break}return r(y)}return U.toString=function(){return c+""},U}function f(c,d){var p=u((c=sr(c),c.type="f",c)),_=Math.max(-8,Math.min(8,Math.floor(vo(d)/3)))*3,h=Math.pow(10,-_),v=Mu[8+_/3];return function(w){return p(h*w)+v}}return{format:u,formatPrefix:f}}var Si,Md,Id;C5({thousands:",",grouping:[3],currency:["$",""]});function C5(t){return Si=k5(t),Md=Si.format,Id=Si.formatPrefix,Si}function A5(t){return Math.max(0,-vo(Math.abs(t)))}function S5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vo(e)/3)))*3-vo(Math.abs(t)))}function T5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vo(e)-vo(t))+1}function M5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function I5(t){return function(){return t}}function P5(t){return+t}var Iu=[0,1];function so(t){return t}function kl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:I5(isNaN(e)?NaN:.5)}function O5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function N5(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=kl(i,o),r=n(l,r)):(o=kl(o,i),r=n(r,l)),function(a){return r(o(a))}}function E5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=kl(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=Ey(t,a,1,o)-1;return r[s](i[s](a))}}function $5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function R5(){var t=Iu,e=Iu,n=Zl,o,i,r,l=so,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==so&&(l=O5(t[0],t[d-1])),a=d>2?E5:N5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),Lt)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,P5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=x2,f()},c.clamp=function(d){return arguments.length?(l=d?!0:so,f()):l!==so},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,p){return o=d,i=p,f()}}function D5(){return R5()(so,so)}function L5(t,e,n,o){var i=Fy(t,e,n),r;switch(o=sr(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=S5(i,l))&&(o.precision=r),Id(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=T5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=A5(i))&&(o.precision=r-(o.type==="%")*2);break}}return Md(o)}function F5(t){var e=t.domain;return t.ticks=function(n){var o=e();return Ly(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return L5(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=cl(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function Cl(){var t=D5();return t.copy=function(){return $5(t,Cl())},M5.apply(t,arguments),F5(t)}function io(t){return function(){return t}}function q5(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new _5(e)}function j5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Pd(t){this._context=t}Pd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function B5(t){return new Pd(t)}function G5(t){return t[0]}function V5(t){return t[1]}function xr(t,e){var n=io(!0),o=null,i=B5,r=null,l=q5(a);t=typeof t=="function"?t:t===void 0?G5:io(t),e=typeof e=="function"?e:e===void 0?V5:io(e);function a(s){var u,f=(s=j5(s)).length,c,d=!1,p;for(o==null&&(r=i(p=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(p)return r=null,p+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:io(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:io(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:io(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function Bo(t,e,n){this.k=t,this.x=e,this.y=n}Bo.prototype={constructor:Bo,scale:function(t){return t===1?this:new Bo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Bo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Bo.prototype;function H5(t){let e;return{c(){e=fr("svg"),N(e,"id","line-chart")},m(n,o){M(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&T(e)}}}const Pu=52;function W5(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;xr().x((_,h)=>r(h)).y(_=>l(_)),cr(()=>{n(1,i=M2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=Cl().range([0,s]),l=Cl().range([u,0]),o.length&&f()});function f(){const _=o.length>Pu?o.slice(-Pu):o;c(_),d(_),p()}function c(_){i.selectAll(".line").remove();const h=xr().defined(w=>w>-5).x((w,A)=>r(A)).y(w=>l(w)),v=xr().defined(w=>w<0).x((w,A)=>r(A)).y(w=>l(w));i.append("path").datum(_).attr("class","line positive").attr("d",h).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(_).attr("class","line negative").attr("d",v).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(_){const h=Math.max(0,..._),v=Math.min(0,..._);r.domain([0,_.length-1]),l.domain([v,h]).nice()}function p(_){const h=Wy(r).ticks(0),v=Ky(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(h),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(v)}return t.$$set=_=>{"data"in _&&n(0,o=_.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class K5 extends ve{constructor(e){super(),be(this,e,W5,H5,de,{data:0})}}function U5(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=q("Manage your Knowledge ("),o=q(n),i=q(" pts)")},m(r,l){M(r,e,l),M(r,o,l),M(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&se(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function Y5(t){let e,n,o,i;return e=new Un({props:{$$slots:{default:[U5]},$$scope:{ctx:t}}}),o=new Jn({}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&258&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Ou(t){let e,n,o=Ru(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=P("br"),n=q(`
          (total value: $`),i=q(o),r=q(")")},m(l,a){M(l,e,a),M(l,n,a),M(l,i,a),M(l,r,a)},p(l,a){a&10&&o!==(o=Ru(l[1].townInfo.knowledge_points*l[3])+"")&&se(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function Nu(t){let e;return{c(){e=P("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
          convert.`},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Eu(t){let e,n,o;return n=new Tt({props:{variant:"default",$$slots:{default:[X5]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=P("div"),J(n.$$.fragment)},m(i,r){M(i,e,r),Y(n,e,null),o=!0},p(i,r){const l={};r&256&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(C(n.$$.fragment,i),o=!0)},o(i){S(n.$$.fragment,i),o=!1},d(i){i&&T(e),X(n)}}}function X5(t){let e;return{c(){e=q("Convert Knowledge to Gold")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function $u(t){let e;return{c(){e=P("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function J5(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,p,_,h,v,w,A,k,R,F;e=new Yn({props:{$$slots:{default:[Y5]},$$scope:{ctx:t}}});let E=t[3]>0&&Ou(t);h=new K5({props:{data:t[2]}});let $=t[3]<0&&Nu(),H=t[1].hasBank&&t[3]>0&&Eu(t),D=t[1].hasBank===!1&&$u();return R=new So({}),{c(){J(e.$$.fragment),n=V(),o=P("span"),o.textContent="Knowledge is power, unlock it!",i=V(),r=P("div"),l=P("div"),a=q("Market Rate: "),s=P("span"),f=q(u),c=q(" gold"),p=q(`
        per Knowledge Point
        `),E&&E.c(),_=V(),J(h.$$.fragment),v=V(),$&&$.c(),w=V(),H&&H.c(),A=V(),D&&D.c(),k=V(),J(R.$$.fragment),N(o,"class","italic"),N(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),N(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(U,y){Y(e,U,y),M(U,n,y),M(U,o,y),M(U,i,y),M(U,r,y),g(r,l),g(l,a),g(l,s),g(s,f),g(s,c),g(l,p),E&&E.m(l,null),g(r,_),Y(h,r,null),g(r,v),$&&$.m(r,null),g(r,w),H&&H.m(r,null),g(r,A),D&&D.m(r,null),M(U,k,y),Y(R,U,y),F=!0},p(U,y){const b={};y&258&&(b.$$scope={dirty:y,ctx:U}),e.$set(b),(!F||y&8)&&u!==(u=(U[3]??0)+"")&&se(f,u),(!F||y&8&&d!==(d=U[3]<0?"text-red-500":"text-green-500"))&&N(s,"class",d),U[3]>0?E?E.p(U,y):(E=Ou(U),E.c(),E.m(l,null)):E&&(E.d(1),E=null);const I={};y&4&&(I.data=U[2]),h.$set(I),U[3]<0?$||($=Nu(),$.c(),$.m(r,w)):$&&($.d(1),$=null),U[1].hasBank&&U[3]>0?H?(H.p(U,y),y&10&&C(H,1)):(H=Eu(U),H.c(),C(H,1),H.m(r,A)):H&&(Pe(),S(H,1,1,()=>{H=null}),Oe()),U[1].hasBank===!1?D||(D=$u(),D.c(),D.m(r,null)):D&&(D.d(1),D=null)},i(U){F||(C(e.$$.fragment,U),C(h.$$.fragment,U),C(H),C(R.$$.fragment,U),F=!0)},o(U){S(e.$$.fragment,U),S(h.$$.fragment,U),S(H),S(R.$$.fragment,U),F=!1},d(U){U&&(T(n),T(o),T(i),T(r),T(k)),X(e,U),E&&E.d(),X(h),$&&$.d(),H&&H.d(),D&&D.d(),X(R,U)}}}function x5(t){let e,n;return e=new Xn({props:{transitionConfig:{duration:0},class:"bg-foreground text-foregroundText",$$slots:{default:[J5]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&270&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Z5(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[x5]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new xn({props:r}),Ne.push(()=>Sn(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){Y(e,l,a),o=!0},p(l,[a]){const s={};a&270&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],An(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function Ru(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Q5(t,e,n){let o,i;fe(t,Ee,u=>n(1,o=u)),fe(t,Gi,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,Ee.set(u),localStorage.setItem(jt,JSON.stringify(u))):showCustomAlert.set("You need a bank to convert knowledge to gold.")}function s(u){i=u,Gi.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class z5 extends ve{constructor(e){super(),be(this,e,Q5,Z5,de,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const e3=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:5e3,duration:180,effect:!0},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
        
         We don't really know what that means, but it seems to make people healthier. 
        `,cost:8e3,duration:200,effect:!0},{id:"goodbye_carrots",title:"Goodbye Carrots",description:`Scientist Jarrod M. collaborated with local carrot farms to enhance the recipe, aiming to increase consumers' height by 10%.

        Unfortunately, the experiment failed, and all the local carrot farms have gone out of business. 
        `,cost:8e3,duration:80,effect:!0},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.

        The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
        `,cost:3e3,duration:60,effect:!1},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab. 

        She hopes nobody will miss it. Your town now has some more money. 
        `,cost:15e3,duration:180,effect:!0},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes. 

        We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:!0},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach. 

        We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:!1},{id:"coffee_boost_tourism",title:"Speedy Brews",description:`Scientist Claudia A. has found that a specific blend of coffee can significantly increase productivity among town employees. 

        The catch? It only works on Mondays. But hey, starting the week with a turbo-charged workforce might just be the boost we needed. The town gets a bit of extra cash from the productivity, and a bit of tourism revenue from coffee tourism.
        `,cost:8e3,duration:100,effect:!0},{id:"bee_bonanza",title:"Buzzing with Possibilities",description:`Scientist Will B. thought that introducing genetically modified super bees to the local ecosystem could help with pollination.
        
        Unfortunately, these bees prefer coffee plants over all others, leading to all coffee bean farms forced to close.`,cost:5e3,duration:120,effect:!0},{id:"wheat_whirlwind",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather control experiment aimed at improving crop yields accidentally resulted in a series of mini-tornadoes sweeping through the town's wheat farms. The wheat is gone, but the townsfolk have never been more entertained.

        Local bakers mourn the loss of wheat while selling tickets to the wheat whirlwind tours. All wheat farms are now torn down, but happiness is up.`,cost:7e3,duration:150,effect:!0},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.

        Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:!0},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools. 

        This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:!0},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took the funding and applied the town for a grant to improve education.

        The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:4e4,duration:45,effect:!0},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress. 
		
		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:!0}];function Du(t,e,n){const o=t.slice();return o[17]=e[n],o}function t3(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=q("🎉 Experiment Completed: "),o=q(n)},m(i,r){M(i,e,r),M(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&se(o,n)},d(i){i&&(T(e),T(o))}}}function n3(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=P("div"),o=q(n),N(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){M(i,e,r),g(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&se(o,n)},d(i){i&&T(e)}}}function o3(t){let e,n,o,i;return e=new Wl({props:{class:"text-center",$$slots:{default:[t3]},$$scope:{ctx:t}}}),o=new Ul({props:{$$slots:{default:[n3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function i3(t){let e;return{c(){e=q("Thank the scientists")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function r3(t){let e,n;return e=new Jc({props:{$$slots:{default:[i3]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function l3(t){let e,n,o,i;return e=new Kl({props:{$$slots:{default:[o3]},$$scope:{ctx:t}}}),o=new wr({props:{$$slots:{default:[r3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048576&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function s3(t){let e,n;return e=new kr({props:{$$slots:{default:[l3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&1048578&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function a3(t){let e;return{c(){e=P("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function u3(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=P("span"),n=q("You have earned "),o=P("span"),r=q(i),l=q(" XP"),s=q(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),N(o,"class",a="italic "+(t[1].lab.xp<0?"text-textDanger1":"text-primaryText"))},m(u,f){M(u,e,f),g(e,n),g(e,o),g(o,r),g(o,l),g(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&se(r,i),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-textDanger1":"text-primaryText"))&&N(o,"class",a)},d(u){u&&T(e)}}}function f3(t){let e,n,o,i;return e=new Un({props:{$$slots:{default:[a3]},$$scope:{ctx:t}}}),o=new Jn({props:{$$slots:{default:[u3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&1048576&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function c3(t){let e;return{c(){e=q("No more experiments available")},m(n,o){M(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&T(e)}}}function d3(t){let e,n,o,i,r=Ue(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=Fu(Du(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=P("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=V(),o=P("div");for(let s=0;s<l.length;s+=1)l[s].c();N(e,"class","select-none text-sm "),N(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){M(s,e,u),M(s,n,u),M(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=Ue(s[0]);let f;for(f=0;f<r.length;f+=1){const c=Du(s,r,f);l[f]?(l[f].p(c,u),C(l[f],1)):(l[f]=Fu(c),l[f].c(),C(l[f],1),l[f].m(o,null))}for(Pe(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)C(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),_t(l,s)}}}function m3(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&qu(t);return{c(){e=q("Currently running an experiment... check back in "),o=q(n),i=q(` days.
      `),a&&a.c(),r=De()},m(s,u){M(s,e,u),M(s,o,u),M(s,i,u),a&&a.m(s,u),M(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&se(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&C(a,1)):(a=qu(s),a.c(),C(a,1),a.m(r.parentNode,r)):a&&(Pe(),S(a,1,1,()=>{a=null}),Oe())},i(s){l||(C(a),l=!0)},o(s){S(a),l=!1},d(s){s&&(T(e),T(o),T(i),T(r)),a&&a.d(s)}}}function Lu(t){let e,n,o=t[17].id+"",i;return{c(){e=P("span"),n=q("// dev-"),i=q(o),N(e,"class","text-xs text-gray-400")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&1&&o!==(o=r[17].id+"")&&se(i,o)},d(r){r&&T(e)}}}function p3(t){let e,n=ju(t[17].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&Lu(t);return{c(){e=q("$"),o=q(n),i=q(` gold

            `),l&&l.c(),r=V()},m(a,s){M(a,e,s),M(a,o,s),M(a,i,s),l&&l.m(a,s),M(a,r,s)},p(a,s){s&1&&n!==(n=ju(a[17].cost).split(".")[0]+"")&&se(o,n),a[1].devMode===!0?l?l.p(a,s):(l=Lu(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(T(e),T(o),T(i),T(r)),l&&l.d(a)}}}function Fu(t){let e,n;function o(){return t[11](t[17])}return e=new Tt({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[p3]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){J(e.$$.fragment)},m(i,r){Y(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&1048579&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function qu(t){let e,n;return e=new Tt({props:{variant:"outline",$$slots:{default:[_3]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function _3(t){let e;return{c(){e=q("Complete experiment (and face the impact)")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function h3(t){let e;return{c(){e=P("span"),e.textContent="Keep in mind that not all experiments yield positive results.",N(e,"class","italic text-left text-textDanger1")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function g3(t){let e,n,o,i,r,l,a,s,u,f,c;e=new Yn({props:{$$slots:{default:[f3]},$$scope:{ctx:t}}}),o=new yt({});const d=[m3,d3,c3],p=[];function _(h,v){return h[1].lab.active_experiment!==null?0:h[0].length>0?1:h[0].length===0?2:-1}return~(r=_(t))&&(l=p[r]=d[r](t)),s=new yt({props:{class:"mt-4"}}),f=new So({props:{$$slots:{default:[h3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment),i=V(),l&&l.c(),a=V(),J(s.$$.fragment),u=V(),J(f.$$.fragment)},m(h,v){Y(e,h,v),M(h,n,v),Y(o,h,v),M(h,i,v),~r&&p[r].m(h,v),M(h,a,v),Y(s,h,v),M(h,u,v),Y(f,h,v),c=!0},p(h,v){const w={};v&1048578&&(w.$$scope={dirty:v,ctx:h}),e.$set(w);let A=r;r=_(h),r===A?~r&&p[r].p(h,v):(l&&(Pe(),S(p[A],1,1,()=>{p[A]=null}),Oe()),~r?(l=p[r],l?l.p(h,v):(l=p[r]=d[r](h),l.c()),C(l,1),l.m(a.parentNode,a)):l=null);const k={};v&1048576&&(k.$$scope={dirty:v,ctx:h}),f.$set(k)},i(h){c||(C(e.$$.fragment,h),C(o.$$.fragment,h),C(l),C(s.$$.fragment,h),C(f.$$.fragment,h),c=!0)},o(h){S(e.$$.fragment,h),S(o.$$.fragment,h),S(l),S(s.$$.fragment,h),S(f.$$.fragment,h),c=!1},d(h){h&&(T(n),T(i),T(a),T(u)),X(e,h),X(o,h),~r&&p[r].d(h),X(s,h),X(f,h)}}}function b3(t){let e,n;return e=new Xn({props:{class:"bg-foreground text-foregroundText",$$slots:{default:[g3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&1048579&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function v3(t){let e,n,o,i,r;e=new Cr({props:{open:t[2],$$slots:{default:[s3]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[b3]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new xn({props:a}),Ne.push(()=>Sn(o,"open",l)),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(s,u){Y(e,s,u),M(s,n,u),Y(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&1048578&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&1048579&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],An(()=>i=!1)),o.$set(c)},i(s){r||(C(e.$$.fragment,s),C(o.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(o.$$.fragment,s),r=!1},d(s){s&&T(n),X(e,s),X(o,s)}}}function ju(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function y3(t,e,n){let o,i;fe(t,Ee,k=>n(1,o=k)),fe(t,Ii,k=>n(3,i=k));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let k=[],R=e3.filter(F=>!o.lab.past_experiments.some(E=>E.id===F.id));for(let F=0;F<3;F++){let E=R[Math.floor(Math.random()*R.length)];E.cost=Math.floor(Math.random()*(E.cost*.35)+E.cost*.8),k.push(E)}return k=k.filter((F,E)=>k.indexOf(F)===E),k=k.filter(F=>F),n(8,u=!0),k}function c(k){if(o.townInfo.gold<k.cost){showCustomAlert.set("You do not have enough gold to purchase this experiment.");return}Ie(Ee,o.townInfo.gold-=k.cost,o),Ie(Ee,o.lab.active_experiment=k,o),o.lab.past_experiments.push(k)}function d(){var k;switch(Ie(Ii,i=!1,i),n(2,s=!0),(k=o.lab.active_experiment)===null||k===void 0?void 0:k.id){case"sunshine":Ie(Ee,o.modifiers.happiness=50,o);break;case"antibiotics":Ie(Ee,o.modifiers.health=50,o);break;case"goodbye_carrots":_("carrot_farm");break;case"missing_treasure":Ie(Ee,o.townInfo.gold+=Math.floor(Math.random()*o.lab.active_experiment.cost*2),o);break;case"tax_relief":Ie(Ee,o.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*o.economyAndLaws.max_tax_rate,o);break;case"bee_bonanza":_("coffee_bean_farm");break;case"wheat_whirlwind":_("wheat_farm"),Ie(Ee,o.townInfo.happiness*=1.5,o),Ie(Ee,o.modifiers.happiness+=3,o);break;case"educational_eclipse":_("small_school"),_("large_school"),Ie(Ee,o.townInfo.knowledge_points*=.8,o);break;case"education_grant":Ie(Ee,o.townInfo.knowledge_points*=1.5,o),Ie(Ee,o.townInfo.gold+=15e4,o);break;case"mindfulness_meditation_classes":o.modifiers.happiness*1.5;break}Ie(Ee,o.lab.active_experiment.duration=-1,o)}function p(){let k=o;k.lab.xp+=Math.round(k.lab.active_experiment.cost*(Math.random()*2+.5)),k.lab.active_experiment=null,n(2,s=!1),Ie(Ee,o=k,o)}function _(k){let R=Xe(k,o);for(let F=0;F<R.length;F++)Bi(R[F].x,R[F].y,o)}const h=()=>{p()},v=()=>{d()},w=k=>{k.cost<o.townInfo.gold&&c(k)};function A(k){i=k,Ii.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,p,r,u,h,v,w,A]}class w3 extends ve{constructor(e){super(),be(this,e,y3,v3,de,{})}}function Bu(t,e,n){const o=t.slice();return o[19]=e[n],o}function Gu(t){let e,n=Ue({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=Vu(Bu(t,n,i));return{c(){e=P("div");for(let i=0;i<o.length;i+=1)o[i].c();N(e,"class","confetti-holder svelte-15ksp55"),dn(e,"rounded",t[9]),dn(e,"cone",t[10]),dn(e,"no-gravity",t[11]),dn(e,"reduced-motion",t[13])},m(i,r){M(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=Ue({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=Bu(i,n,l);o[l]?o[l].p(a,r):(o[l]=Vu(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&dn(e,"rounded",i[9]),r&1024&&dn(e,"cone",i[10]),r&2048&&dn(e,"no-gravity",i[11]),r&8192&&dn(e,"reduced-motion",i[13])},d(i){i&&T(e),_t(o,i)}}}function Vu(t){let e;return{c(){e=P("div"),N(e,"class","confetti svelte-15ksp55"),Je(e,"--fall-distance",t[8]),Je(e,"--size",t[0]+"px"),Je(e,"--color",t[15]()),Je(e,"--skew",kt(-45,45)+"deg,"+kt(-45,45)+"deg"),Je(e,"--rotation-xyz",kt(-10,10)+", "+kt(-10,10)+", "+kt(-10,10)),Je(e,"--rotation-deg",kt(0,360)+"deg"),Je(e,"--translate-y-multiplier",kt(t[2][0],t[2][1])),Je(e,"--translate-x-multiplier",kt(t[1][0],t[1][1])),Je(e,"--scale",.1*kt(2,10)),Je(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),Je(e,"--transition-delay",kt(t[5][0],t[5][1])+"ms"),Je(e,"--transition-iteration-count",t[4]?"infinite":t[7]),Je(e,"--x-spread",1-t[12])},m(n,o){M(n,e,o)},p(n,o){o&256&&Je(e,"--fall-distance",n[8]),o&1&&Je(e,"--size",n[0]+"px"),o&4&&Je(e,"--translate-y-multiplier",kt(n[2][0],n[2][1])),o&2&&Je(e,"--translate-x-multiplier",kt(n[1][0],n[1][1])),o&24&&Je(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&Je(e,"--transition-delay",kt(n[5][0],n[5][1])+"ms"),o&144&&Je(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&Je(e,"--x-spread",1-n[12])},d(n){n&&T(e)}}}function k3(t){let e,n=!t[14]&&Gu(t);return{c(){n&&n.c(),e=De()},m(o,i){n&&n.m(o,i),M(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=Gu(o),n.c(),n.m(e.parentNode,e))},i:Ce,o:Ce,d(o){o&&T(e),n&&n.d(o)}}}function kt(t,e){return Math.random()*(e-t)+t}function C3(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:p="100px"}=e,{rounded:_=!1}=e,{cone:h=!1}=e,{noGravity:v=!1}=e,{xSpread:w=.15}=e,{destroyOnComplete:A=!0}=e,{disableForReducedMotion:k=!1}=e,R=!1;cr(()=>{!A||a||d=="infinite"||setTimeout(()=>n(14,R=!0),(l+s[1])*d)});function F(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(kt(u[0],u[1]))}, 75%, 50%)`}return t.$$set=E=>{"size"in E&&n(0,o=E.size),"x"in E&&n(1,i=E.x),"y"in E&&n(2,r=E.y),"duration"in E&&n(3,l=E.duration),"infinite"in E&&n(4,a=E.infinite),"delay"in E&&n(5,s=E.delay),"colorRange"in E&&n(16,u=E.colorRange),"colorArray"in E&&n(17,f=E.colorArray),"amount"in E&&n(6,c=E.amount),"iterationCount"in E&&n(7,d=E.iterationCount),"fallDistance"in E&&n(8,p=E.fallDistance),"rounded"in E&&n(9,_=E.rounded),"cone"in E&&n(10,h=E.cone),"noGravity"in E&&n(11,v=E.noGravity),"xSpread"in E&&n(12,w=E.xSpread),"destroyOnComplete"in E&&n(18,A=E.destroyOnComplete),"disableForReducedMotion"in E&&n(13,k=E.disableForReducedMotion)},[o,i,r,l,a,s,c,d,p,_,h,v,w,k,R,F,u,f,A]}class A3 extends ve{constructor(e){super(),be(this,e,C3,k3,de,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function S3(t){let e,n,o;return{c(){e=P("div"),N(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all"),N(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`)},m(i,r){M(i,e,r)},p(i,r){r&8&&n!==(n="h-full w-full flex-1 "+i[3]+" transition-all")&&N(e,"class",n),r&6&&o!==(o=`transform: translateX(-${100-100*(i[2]??0)/(i[1]??1)}%)`)&&N(e,"style",o)},d(i){i&&T(e)}}}function T3(t){let e,n;const o=[{class:Fe("relative h-4 w-full overflow-hidden rounded-full bg-white",t[0])},t[4]];let i={$$slots:{default:[S3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new n1({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&17?we(o,[l&1&&{class:Fe("relative h-4 w-full overflow-hidden rounded-full bg-white",r[0])},l&16&&rt(r[4])]):{};l&46&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function M3(t,e,n){const o=["class","max","value","color"];let i=ae(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-secondary"}=e;return t.$$set=u=>{e=Q(Q({},e),Re(u)),n(4,i=ae(e,o)),"class"in u&&n(0,r=u.class),"max"in u&&n(1,l=u.max),"value"in u&&n(2,a=u.value),"color"in u&&n(3,s=u.color)},[r,l,a,s,i]}class I3 extends ve{constructor(e){super(),be(this,e,M3,T3,de,{class:0,max:1,value:2,color:3})}}function P3(t){let e;const n=t[5].default,o=pe(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&he(o,n,i,i[6],e?_e(n,i[6],r,null):ge(i[6]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function O3(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:Fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",t[0])},t[4]];let i={$$slots:{default:[P3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new H1({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&31?we(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:Fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",r[0])},l&16&&rt(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function N3(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=4}=e,{transition:u=pr}=e,{transitionConfig:f={y:8,duration:150}}=e;return t.$$set=c=>{e=Q(Q({},e),Re(c)),n(4,i=ae(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class To extends ve{constructor(e){super(),be(this,e,N3,O3,de,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const Mo=I1,Io=x1;function Hu(t,e,n){const o=t.slice();return o[17]=e[n].name,o[18]=e[n].value,o[19]=e[n].modifier,o}function E3(t){let e,n=t[17]+"",o,i,r=it(t[19],2)+"",l,a,s,u,f;return u=new I3({props:{value:t[18],max:300,class:"w-full h-2",color:t[11](t[18])}}),{c(){e=P("span"),o=q(n),i=q(" (x"),l=q(r),a=q(")"),s=V(),J(u.$$.fragment),N(e,"class","text-xs pb-1")},m(c,d){M(c,e,d),g(e,o),g(e,i),g(e,l),g(e,a),M(c,s,d),Y(u,c,d),f=!0},p(c,d){(!f||d&4)&&n!==(n=c[17]+"")&&se(o,n),(!f||d&4)&&r!==(r=it(c[19],2)+"")&&se(l,r);const p={};d&4&&(p.value=c[18]),d&4&&(p.color=c[11](c[18])),u.$set(p)},i(c){f||(C(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(s)),X(u,c)}}}function $3(t){let e,n,o=t[17]+"",i,r,l,a,s=it(t[18],0)+"",u,f,c,d,p,_=it(t[19],0)+"",h;return{c(){e=P("div"),n=P("span"),i=q(o),r=V(),l=P("span"),a=q("Base: "),u=q(s),f=q(" / 300"),c=V(),d=P("span"),p=q("Modifier: "),h=q(_),N(n,"class","text-sm font-bold"),N(l,"class","text-xs"),N(d,"class","text-xs"),N(e,"class","flex flex-col justify-between p-0 m-0")},m(v,w){M(v,e,w),g(e,n),g(n,i),g(e,r),g(e,l),g(l,a),g(l,u),g(l,f),g(e,c),g(e,d),g(d,p),g(d,h)},p(v,w){w&4&&o!==(o=v[17]+"")&&se(i,o),w&4&&s!==(s=it(v[18],0)+"")&&se(u,s),w&4&&_!==(_=it(v[19],0)+"")&&se(h,_)},d(v){v&&T(e)}}}function R3(t){let e,n,o,i;return e=new Io({props:{class:"h-7 w-full mt-0 flex flex-col",$$slots:{default:[E3]},$$scope:{ctx:t}}}),o=new To({props:{class:t[11](t[18]),$$slots:{default:[$3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&4194308&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4&&(s.class=r[11](r[18])),l&4194308&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Wu(t){let e,n,o,i;return n=new Mo({props:{openDelay:400,closeDelay:0,$$slots:{default:[R3]},$$scope:{ctx:t}}}),{c(){e=P("div"),J(n.$$.fragment),o=V(),N(e,"class","flex flex-col gap-2")},m(r,l){M(r,e,l),Y(n,e,null),g(e,o),i=!0},p(r,l){const a={};l&4194308&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(C(n.$$.fragment,r),i=!0)},o(r){S(n.$$.fragment,r),i=!1},d(r){r&&T(e),X(n)}}}function D3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=P("span"),n=q("+$"),i=q(o),N(e,"class","text-textPrimary")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&se(i,o)},d(r){r&&T(e)}}}function L3(t){let e,n=t[0].economyAndLaws.weeklyProfit+"",o;return{c(){e=P("span"),o=q(n),N(e,"class","text-textDanger2")},m(i,r){M(i,e,r),g(e,o)},p(i,r){r&1&&n!==(n=i[0].economyAndLaws.weeklyProfit+"")&&se(o,n)},d(i){i&&T(e)}}}function F3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=P("span"),n=q("+$"),i=q(o),N(e,"class","text-textHappy")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&se(i,o)},d(r){r&&T(e)}}}function q3(t){let e=it(t[0].townInfo.employees/t[0].townInfo.population_count*100,0)+"",n,o,i=t[0].townInfo.employees+"",r,l,a=t[0].townInfo.population_count+"",s,u,f=t[0].townInfo.population_count-t[0].townInfo.employees+"",c,d;return{c(){n=q(e),o=q("% employment ("),r=q(i),l=q("/"),s=q(a),u=q(" - "),c=q(f),d=q(" unemployed)")},m(p,_){M(p,n,_),M(p,o,_),M(p,r,_),M(p,l,_),M(p,s,_),M(p,u,_),M(p,c,_),M(p,d,_)},p(p,_){_&1&&e!==(e=it(p[0].townInfo.employees/p[0].townInfo.population_count*100,0)+"")&&se(n,e),_&1&&i!==(i=p[0].townInfo.employees+"")&&se(r,i),_&1&&a!==(a=p[0].townInfo.population_count+"")&&se(s,a),_&1&&f!==(f=p[0].townInfo.population_count-p[0].townInfo.employees+"")&&se(c,f)},d(p){p&&(T(n),T(o),T(r),T(l),T(s),T(u),T(c),T(d))}}}function j3(t){let e;function n(r,l){return r[0].townInfo.population_count===0?G3:B3}let o=n(t),i=o(t);return{c(){i.c(),e=De()},m(r,l){i.m(r,l),M(r,e,l)},p(r,l){o!==(o=n(r))&&(i.d(1),i=o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i.d(r)}}}function B3(t){let e;return{c(){e=q("All citizens employed")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function G3(t){let e;return{c(){e=q("Nobody lives here , build some homes")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function V3(t){let e;return{c(){e=P("div"),e.textContent="Manage Knowledge"},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function H3(t){let e;return{c(){e=P("div"),e.textContent="City Management"},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function Ku(t){let e;function n(r,l){if(r[0].lab.active_experiment.duration>0)return K3;if(r[0].lab.active_experiment.duration===0)return W3}let o=n(t),i=o&&o(t);return{c(){i&&i.c(),e=De()},m(r,l){i&&i.m(r,l),M(r,e,l)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i&&i.d(1),i=o&&o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i&&i.d(r)}}}function W3(t){let e;return{c(){e=P("span"),e.textContent="✅ DONE!",N(e,"class","animate-pulse ")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function K3(t){let e,n=t[0].lab.active_experiment.duration+"",o,i;return{c(){e=P("span"),o=q(n),i=q("d")},m(r,l){M(r,e,l),g(e,o),g(e,i)},p(r,l){l&1&&n!==(n=r[0].lab.active_experiment.duration+"")&&se(o,n)},d(r){r&&T(e)}}}function U3(t){let e,n,o=t[0].lab.active_experiment!==null&&Ku(t);return{c(){e=P("div"),n=q(`Manage Lab
            `),o&&o.c()},m(i,r){M(i,e,r),g(e,n),o&&o.m(e,null)},p(i,r){i[0].lab.active_experiment!==null?o?o.p(i,r):(o=Ku(i),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(i){i&&T(e),o&&o.d()}}}function Uu(t){let e,n,o,i;return o=new Mo({props:{openDelay:400,closeDelay:0,$$slots:{default:[J3]},$$scope:{ctx:t}}}),{c(){e=P("div"),n=P("div"),J(o.$$.fragment),N(n,"class","flex flex-row justify-center text-xs bg-white rounded-t-2xl text-black py-2 whitespace-nowrap px-2 opacity-50"),N(e,"class","flex flex-col justify-center items-center ")},m(r,l){M(r,e,l),g(e,n),Y(o,n,null),i=!0},p(r,l){const a={};l&4194305&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(C(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(e),X(o)}}}function Y3(t){let e,n,o,i,r=qt[t[0].currentTutorialStep-1].goldReward+"",l;return{c(){e=P("span"),n=q(`Last reward
                  `),o=P("div"),i=q("💰"),l=q(r),N(e,"class","w-full no-select opacity-70 whitespace-nowrap text-center")},m(a,s){M(a,e,s),g(e,n),g(e,o),g(o,i),g(o,l)},p(a,s){s&1&&r!==(r=qt[a[0].currentTutorialStep-1].goldReward+"")&&se(l,r)},d(a){a&&T(e)}}}function X3(t){let e,n=qt[t[0].currentTutorialStep-1].message+"",o;return{c(){e=q("Last completed task: "),o=q(n)},m(i,r){M(i,e,r),M(i,o,r)},p(i,r){r&1&&n!==(n=qt[i[0].currentTutorialStep-1].message+"")&&se(o,n)},d(i){i&&(T(e),T(o))}}}function J3(t){let e,n,o,i;return e=new Io({props:{$$slots:{default:[Y3]},$$scope:{ctx:t}}}),o=new To({props:{class:"bg-black text-white rounded-2xl",$$slots:{default:[X3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&4194305&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4194305&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Yu(t){let e,n;return e=new A3({props:{y:[-.5,.5],x:[-.5,.5],duration:2e3}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function x3(t){let e=qt[t[0].currentTutorialStep].message+"",n,o,i,r,l=qt[t[0].currentTutorialStep].goldReward+"",a,s;return{c(){n=q(e),o=V(),i=P("span"),r=q("(💰"),a=q(l),s=q(")"),N(i,"class","opacity-40")},m(u,f){M(u,n,f),M(u,o,f),M(u,i,f),g(i,r),g(i,a),g(i,s)},p(u,f){f&1&&e!==(e=qt[u[0].currentTutorialStep].message+"")&&se(n,e),f&1&&l!==(l=qt[u[0].currentTutorialStep].goldReward+"")&&se(a,l)},d(u){u&&(T(n),T(o),T(i))}}}function Z3(t){let e;return{c(){e=q("No more goals!")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function Q3(t){let e,n,o,i,r,l,a,s,u,f=t[0].townInfo.name+"",c,d,p,_,h,v=t[0].townInfo.population_count+"",w,A,k=t[0].townInfo.population_max+"",R,F,E,$,H,D=vn(t[0].townInfo.gold,!1)+"",U,y,b,I,O,W,L,x,z,Z,K,ee,ne,m,j,B,ie,re,ke,Le,Me,ze,ce,$e,He,Be,Ye,Ae,Se,wt,Rt,at,Dt,ut,mt,nt,me,We,G,ns,oi,ii=t[0].environment.day%365+1+"",Mr,os,Zn,ri,is,li,si=Math.floor(t[0].environment.day/365)+1+"",Ir,rs,fn,Qn,ls,ai,ss,zn,as,ui,us,eo,fs,fi,ci,ft,Pr,cs,Tn=Ue(t[2]),tt=[];for(let ye=0;ye<Tn.length;ye+=1)tt[ye]=Wu(Hu(t,Tn,ye));const Ed=ye=>S(tt[ye],1,1,()=>{tt[ye]=null});function ds(ye,Ge){return ye[0].economyAndLaws.weeklyProfit>0?F3:ye[0].economyAndLaws.weeklyProfit<0?L3:D3}let di=ds(t),Gt=di(t);function ms(ye,Ge){return ye[0].townInfo.employees==ye[0].townInfo.population_count?j3:q3}let mi=ms(t),Vt=mi(t);B=new Tt({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[V3]},$$scope:{ctx:t}}}),B.$on("click",t[12]),re=new Tt({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[H3]},$$scope:{ctx:t}}}),re.$on("click",t[13]),Le=new Tt({props:{class:"text-xs flex flex-col h-min p-1.5 "+(t[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35"),$$slots:{default:[U3]},$$scope:{ctx:t}}}),Le.$on("click",t[10]);let lt=t[0].currentTutorialStep!=0&&Uu(t),ct=t[7]&&Yu();function ps(ye,Ge){return ye[0].currentTutorialStep>=qt.length?Z3:x3}let pi=ps(t),Ht=pi(t);return{c(){e=P("div"),n=P("div"),o=P("div");for(let ye=0;ye<tt.length;ye+=1)tt[ye].c();i=V(),r=P("div"),l=P("div"),a=P("div"),s=P("div"),u=P("h1"),c=q(f),d=V(),p=P("div"),_=P("span"),h=q("👥 "),w=q(v),A=q(" / "),R=q(k),F=V(),E=P("span"),$=P("span"),H=q("💰 "),U=q(D),y=V(),b=P("span"),I=V(),Gt.c(),O=V(),W=P("span"),W.textContent="(weekly)",L=V(),x=P("div"),Vt.c(),Z=V(),K=P("span"),ee=q("Game time: "),ne=q(t[1]),m=V(),j=P("div"),J(B.$$.fragment),ie=V(),J(re.$$.fragment),ke=V(),J(Le.$$.fragment),Me=V(),ze=P("div"),ce=P("div"),lt&&lt.c(),$e=V(),ct&&ct.c(),He=V(),Be=P("div"),Ye=P("div"),Ye.textContent="👨‍🦰",Ae=V(),Se=P("div"),Ht.c(),Rt=V(),at=P("div"),Dt=P("div"),ut=P("div"),mt=P("div"),mt.innerHTML='<span class="text-xs text-secondary cursor-pointer">Press P to Pause</span>',nt=V(),me=P("div"),We=P("span"),G=P("span"),G.textContent="Day",ns=V(),oi=P("span"),Mr=q(ii),os=V(),Zn=P("span"),ri=P("span"),ri.textContent="Year",is=V(),li=P("span"),Ir=q(si),rs=V(),fn=P("div"),Qn=P("span"),ls=q("Slow"),ss=V(),zn=P("span"),as=q("Normal"),us=V(),eo=P("span"),fs=q("Fast"),N(o,"class","flex flex-col w-36 text-foregroundText bg-accent p-2 rounded-xl gap-2 mr-2"),N(u,"class","font-bold cursor-pointer w-full pb-2 text-start select-none"),N(s,"class","cursor-pointer transition-all duration=150 min-h-8"),N(_,"class","text-sm"),N($,"class","text-sm"),N(b,"class","pl-2"),N(W,"class","text-gray-400"),N(E,"class","text-xs"),N(p,"class","flex flex-row gap-4 flex-wrap items-center"),N(x,"class",z="text-xs pt-0 opacity-70 "+(t[0].townInfo.employees==t[0].townInfo.population_count?"text-textPrimary":t[0].townInfo.employees>t[0].townInfo.population_count*.95?"text-textDanger3":t[0].townInfo.employees>t[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")),N(K,"class","text-xs text-secondary cursor-pointer"),N(a,"class","flex flex-col justify-between"),N(l,"class","rounded-xl"),N(j,"class","flex flex-row gap-2 align-middle justify-center items-center "),N(r,"class","flex justify-between flex-col"),N(n,"class","flex flex-row gap-2 my-2 h-max"),N(Ye,"class","text-lg h-max"),N(Se,"class","text-xs ml-2 overflow-auto opacity-80"),N(Be,"class","gap flex-row items-center flex bg-white text-slate-800 py-1 px-2 rounded-xl w-full"),N(ce,"class","flex flex-col justify-center w-full align-middle items-center"),N(ze,"class",wt="flex flex-row flex-wrap align-middle justify-center items-center w-80 "+(t[7]?"opacity-25 ":"")+" transition-all duration-700"),N(G,"class","text-xs"),N(oi,"class","font-semibold text-xs"),N(We,"class","flex flex-col gap-2 text-center"),N(ri,"class","text-xs"),N(li,"class","font-semibold text-xs"),N(Zn,"class","flex flex-col gap-2 text-center"),N(me,"class","rounded-xl bg-accent flex-row justify-between text-accentText w-36 h-14 flex px-6 items-center mb-2"),N(Qn,"class",ai=(t[3].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(zn,"class",ui=(t[3].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(eo,"class",fi=(t[3].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(fn,"class","flex flex-row gap-2 align-middle justify-center items-center"),N(ut,"class","flex flex-col items-center h-max"),N(Dt,"class","flex flex-col"),N(at,"class","flex justify-center align-middle flex-col"),N(e,"class",ci="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(t[4].visible?"opacity-70":""))},m(ye,Ge){M(ye,e,Ge),g(e,n),g(n,o);for(let Mn=0;Mn<tt.length;Mn+=1)tt[Mn]&&tt[Mn].m(o,null);g(n,i),g(n,r),g(r,l),g(l,a),g(a,s),g(s,u),g(u,c),g(a,d),g(a,p),g(p,_),g(_,h),g(_,w),g(_,A),g(_,R),g(p,F),g(p,E),g(E,$),g($,H),g($,U),g(E,y),g(E,b),g(E,I),Gt.m(E,null),g(E,O),g(E,W),g(a,L),g(a,x),Vt.m(x,null),g(a,Z),g(a,K),g(K,ee),g(K,ne),g(r,m),g(r,j),Y(B,j,null),g(j,ie),Y(re,j,null),g(j,ke),Y(Le,j,null),g(e,Me),g(e,ze),g(ze,ce),lt&&lt.m(ce,null),g(ce,$e),ct&&ct.m(ce,null),g(ce,He),g(ce,Be),g(Be,Ye),g(Be,Ae),g(Be,Se),Ht.m(Se,null),g(e,Rt),g(e,at),g(at,Dt),g(Dt,ut),g(ut,mt),g(ut,nt),g(ut,me),g(me,We),g(We,G),g(We,ns),g(We,oi),g(oi,Mr),g(me,os),g(me,Zn),g(Zn,ri),g(Zn,is),g(Zn,li),g(li,Ir),g(ut,rs),g(ut,fn),g(fn,Qn),g(Qn,ls),g(fn,ss),g(fn,zn),g(zn,as),g(fn,us),g(fn,eo),g(eo,fs),ft=!0,Pr||(cs=[te(s,"click",t[8]),te(Qn,"click",t[14]),te(zn,"click",t[15]),te(eo,"click",t[16])],Pr=!0)},p(ye,[Ge]){if(Ge&2052){Tn=Ue(ye[2]);let ht;for(ht=0;ht<Tn.length;ht+=1){const hs=Hu(ye,Tn,ht);tt[ht]?(tt[ht].p(hs,Ge),C(tt[ht],1)):(tt[ht]=Wu(hs),tt[ht].c(),C(tt[ht],1),tt[ht].m(o,null))}for(Pe(),ht=Tn.length;ht<tt.length;ht+=1)Ed(ht);Oe()}(!ft||Ge&1)&&f!==(f=ye[0].townInfo.name+"")&&se(c,f),(!ft||Ge&1)&&v!==(v=ye[0].townInfo.population_count+"")&&se(w,v),(!ft||Ge&1)&&k!==(k=ye[0].townInfo.population_max+"")&&se(R,k),(!ft||Ge&1)&&D!==(D=vn(ye[0].townInfo.gold,!1)+"")&&se(U,D),di===(di=ds(ye))&&Gt?Gt.p(ye,Ge):(Gt.d(1),Gt=di(ye),Gt&&(Gt.c(),Gt.m(E,O))),mi===(mi=ms(ye))&&Vt?Vt.p(ye,Ge):(Vt.d(1),Vt=mi(ye),Vt&&(Vt.c(),Vt.m(x,null))),(!ft||Ge&1&&z!==(z="text-xs pt-0 opacity-70 "+(ye[0].townInfo.employees==ye[0].townInfo.population_count?"text-textPrimary":ye[0].townInfo.employees>ye[0].townInfo.population_count*.95?"text-textDanger3":ye[0].townInfo.employees>ye[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")))&&N(x,"class",z),(!ft||Ge&2)&&se(ne,ye[1]);const Mn={};Ge&4194304&&(Mn.$$scope={dirty:Ge,ctx:ye}),B.$set(Mn);const _s={};Ge&4194304&&(_s.$$scope={dirty:Ge,ctx:ye}),re.$set(_s);const Or={};Ge&1&&(Or.class="text-xs flex flex-col h-min p-1.5 "+(ye[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35")),Ge&4194305&&(Or.$$scope={dirty:Ge,ctx:ye}),Le.$set(Or),ye[0].currentTutorialStep!=0?lt?(lt.p(ye,Ge),Ge&1&&C(lt,1)):(lt=Uu(ye),lt.c(),C(lt,1),lt.m(ce,$e)):lt&&(Pe(),S(lt,1,1,()=>{lt=null}),Oe()),ye[7]?ct?Ge&128&&C(ct,1):(ct=Yu(),ct.c(),C(ct,1),ct.m(ce,He)):ct&&(Pe(),S(ct,1,1,()=>{ct=null}),Oe()),pi===(pi=ps(ye))&&Ht?Ht.p(ye,Ge):(Ht.d(1),Ht=pi(ye),Ht&&(Ht.c(),Ht.m(Se,null))),(!ft||Ge&128&&wt!==(wt="flex flex-row flex-wrap align-middle justify-center items-center w-80 "+(ye[7]?"opacity-25 ":"")+" transition-all duration-700"))&&N(ze,"class",wt),(!ft||Ge&1)&&ii!==(ii=ye[0].environment.day%365+1+"")&&se(Mr,ii),(!ft||Ge&1)&&si!==(si=Math.floor(ye[0].environment.day/365)+1+"")&&se(Ir,si),(!ft||Ge&8&&ai!==(ai=(ye[3].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(Qn,"class",ai),(!ft||Ge&8&&ui!==(ui=(ye[3].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(zn,"class",ui),(!ft||Ge&8&&fi!==(fi=(ye[3].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(eo,"class",fi),(!ft||Ge&16&&ci!==(ci="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(ye[4].visible?"opacity-70":"")))&&N(e,"class",ci)},i(ye){if(!ft){for(let Ge=0;Ge<Tn.length;Ge+=1)C(tt[Ge]);C(B.$$.fragment,ye),C(re.$$.fragment,ye),C(Le.$$.fragment,ye),C(lt),C(ct),ft=!0}},o(ye){tt=tt.filter(Boolean);for(let Ge=0;Ge<tt.length;Ge+=1)S(tt[Ge]);S(B.$$.fragment,ye),S(re.$$.fragment,ye),S(Le.$$.fragment,ye),S(lt),S(ct),ft=!1},d(ye){ye&&T(e),_t(tt,ye),Gt.d(),Vt.d(),X(B),X(re),X(Le),lt&&lt.d(),ct&&ct.d(),Ht.d(),Pr=!1,qe(cs)}}}function z3(t,e,n){let o,i,r,l,a,s;fe(t,Ee,R=>n(0,o=R)),fe(t,el,R=>n(3,i=R)),fe(t,Qe,R=>n(4,r=R)),fe(t,Gi,R=>n(5,l=R)),fe(t,Hi,R=>n(6,a=R)),fe(t,Mi,R=>n(7,s=R)),cr(()=>{const R=setInterval(()=>{Ie(Ee,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(R)}});function u(){let R=prompt("Enter a new name for your town (under 200 chars)");if(R&&R.length<200&&R.length>=1){let F=o;F.townInfo.name=R,Ee.set(F),localStorage.setItem(jt,JSON.stringify(F))}}function f(R){return Ie(el,i=R,i),document.querySelectorAll(".speedButton").forEach(E=>{E.classList.remove("active")}),i}function c(){o.hasLab&&Ii.set(!0)}let d="00:00:00",p;const _=R=>R>149?"bg-green-500":R<149&&R>99?"bg-yellow-500":"bg-red-500",h=function(){Ie(Gi,l=!l,l)},v=function(){Ie(Hi,a=!a,a)},w=()=>f(2e3),A=()=>f(750),k=()=>f(200);return t.$$.update=()=>{t.$$.dirty&1&&(o.timeSpent>0?n(1,d=Jm(o.timeSpent)):n(1,d="00:00:00")),t.$$.dirty&1&&n(2,p=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:o.townInfo.happiness,modifier:o.modifiers.happiness},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:o.townInfo.health,modifier:o.modifiers.health},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:o.townInfo.community,modifier:o.modifiers.community}])},[o,d,p,i,r,l,a,s,u,f,c,_,h,v,w,A,k]}class e4 extends ve{constructor(e){super(),be(this,e,z3,Q3,de,{})}}function Xu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Ju(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function xu(t){let e,n,o,i=le[Te(t[0].id)].title+"",r,l,a,s=le[Te(t[0].id)].description+"",u,f,c,d,p,_,h,v,w,A=t[3]("💰",le[Te(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",k,R,F=t[3]("🥕",le[Te(t[0].id)].requirements.resources.food,t[2].resources.food)+"",E,$,H=t[3]("🧠",le[Te(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",D,U,y=t[3]("🪵",le[Te(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",b,I,O=t[3]("🪨",le[Te(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",W,L,x=t[3]("🧲",le[Te(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",z,Z,K=t[3]("🔋",le[Te(t[0].id)].active_costs.power,t[2].resources.power)+"",ee,ne,m=t[3]("🧑‍⚖️",le[Te(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",j,B=le[Te(t[0].id)].requirements.employees!=0,ie,re=le[Te(t[0].id)].revenue_per_week!=0,ke,Le=Object.values(le[Te(t[0].id)].active_costs).some(af),Me,ze=Object.values(le[Te(t[0].id)].generated_resources).some(sf)||le[Te(t[0].id)].knowledge_points_per_month>0,ce;d=new yt({props:{class:"bg-secondary opacity-25 mt-1 mb-1"}});let $e=B&&Zu(t),He=re&&Qu(t),Be=Le&&zu(t),Ye=ze&&nf(t);return{c(){e=P("div"),n=P("div"),o=P("span"),r=q(i),l=V(),a=P("span"),u=q(s),f=V(),c=P("div"),J(d.$$.fragment),p=V(),_=P("span"),_.textContent="Requirements",h=V(),v=P("div"),w=new mn(!1),k=V(),R=new mn(!1),E=V(),$=new mn(!1),D=V(),U=new mn(!1),b=V(),I=new mn(!1),W=V(),L=new mn(!1),z=V(),Z=new mn(!1),ee=V(),ne=new mn(!1),j=V(),$e&&$e.c(),ie=V(),He&&He.c(),ke=V(),Be&&Be.c(),Me=V(),Ye&&Ye.c(),N(o,"class","text-md"),N(a,"class","text-xs"),N(n,"class","flex flex-col gap-2"),N(_,"class","font-semibold"),w.a=k,R.a=E,$.a=D,U.a=b,I.a=W,L.a=z,Z.a=ee,ne.a=j,N(v,"class","flex flex-col gap-1"),N(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),N(e,"class","p-2")},m(Ae,Se){M(Ae,e,Se),g(e,n),g(n,o),g(o,r),g(n,l),g(n,a),g(a,u),g(e,f),g(e,c),Y(d,c,null),g(c,p),g(c,_),g(c,h),g(c,v),w.m(A,v),g(v,k),R.m(F,v),g(v,E),$.m(H,v),g(v,D),U.m(y,v),g(v,b),I.m(O,v),g(v,W),L.m(x,v),g(v,z),Z.m(K,v),g(v,ee),ne.m(m,v),g(v,j),$e&&$e.m(v,null),g(e,ie),He&&He.m(e,null),g(e,ke),Be&&Be.m(e,null),g(e,Me),Ye&&Ye.m(e,null),ce=!0},p(Ae,Se){(!ce||Se&1)&&i!==(i=le[Te(Ae[0].id)].title+"")&&se(r,i),(!ce||Se&1)&&s!==(s=le[Te(Ae[0].id)].description+"")&&se(u,s),(!ce||Se&5)&&A!==(A=Ae[3]("💰",le[Te(Ae[0].id)].requirements.gold,Ae[2].townInfo.gold)+"")&&w.p(A),(!ce||Se&5)&&F!==(F=Ae[3]("🥕",le[Te(Ae[0].id)].requirements.resources.food,Ae[2].resources.food)+"")&&R.p(F),(!ce||Se&5)&&H!==(H=Ae[3]("🧠",le[Te(Ae[0].id)].requirements.knowledge,Ae[2].townInfo.knowledge_points)+"")&&$.p(H),(!ce||Se&5)&&y!==(y=Ae[3]("🪵",le[Te(Ae[0].id)].requirements.resources.wood,Ae[2].resources.wood)+"")&&U.p(y),(!ce||Se&5)&&O!==(O=Ae[3]("🪨",le[Te(Ae[0].id)].requirements.resources.stone,Ae[2].resources.stone)+"")&&I.p(O),(!ce||Se&5)&&x!==(x=Ae[3]("🧲",le[Te(Ae[0].id)].requirements.resources.metal,Ae[2].resources.metal)+"")&&L.p(x),(!ce||Se&5)&&K!==(K=Ae[3]("🔋",le[Te(Ae[0].id)].active_costs.power,Ae[2].resources.power)+"")&&Z.p(K),(!ce||Se&5)&&m!==(m=Ae[3]("🧑‍⚖️",le[Te(Ae[0].id)].requirements.resources.bureaucracy,Ae[2].resources.bureaucracy)+"")&&ne.p(m),Se&1&&(B=le[Te(Ae[0].id)].requirements.employees!=0),B?$e?$e.p(Ae,Se):($e=Zu(Ae),$e.c(),$e.m(v,null)):$e&&($e.d(1),$e=null),Se&1&&(re=le[Te(Ae[0].id)].revenue_per_week!=0),re?He?(He.p(Ae,Se),Se&1&&C(He,1)):(He=Qu(Ae),He.c(),C(He,1),He.m(e,ke)):He&&(Pe(),S(He,1,1,()=>{He=null}),Oe()),Se&1&&(Le=Object.values(le[Te(Ae[0].id)].active_costs).some(af)),Le?Be?(Be.p(Ae,Se),Se&1&&C(Be,1)):(Be=zu(Ae),Be.c(),C(Be,1),Be.m(e,Me)):Be&&(Pe(),S(Be,1,1,()=>{Be=null}),Oe()),Se&1&&(ze=Object.values(le[Te(Ae[0].id)].generated_resources).some(sf)||le[Te(Ae[0].id)].knowledge_points_per_month>0),ze?Ye?(Ye.p(Ae,Se),Se&1&&C(Ye,1)):(Ye=nf(Ae),Ye.c(),C(Ye,1),Ye.m(e,null)):Ye&&(Pe(),S(Ye,1,1,()=>{Ye=null}),Oe())},i(Ae){ce||(C(d.$$.fragment,Ae),C(He),C(Be),C(Ye),ce=!0)},o(Ae){S(d.$$.fragment,Ae),S(He),S(Be),S(Ye),ce=!1},d(Ae){Ae&&T(e),X(d),$e&&$e.d(),He&&He.d(),Be&&Be.d(),Ye&&Ye.d()}}}function Zu(t){let e,n,o=le[Te(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=P("span"),n=q("👥 "),i=q(o),r=q(" employees"),N(e,"class",l=le[Te(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")},m(a,s){M(a,e,s),g(e,n),g(e,i),g(e,r)},p(a,s){s&1&&o!==(o=le[Te(a[0].id)].requirements.employees+"")&&se(i,o),s&7&&l!==(l=le[Te(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")&&N(e,"class",l)},d(a){a&&T(e)}}}function Qu(t){let e,n,o,i,r,l,a,s=le[Te(t[0].id)].revenue_per_week+"",u,f;return n=new yt({props:{class:"bg-secondary opacity-25 mt-0"}}),{c(){e=P("div"),J(n.$$.fragment),o=V(),i=P("span"),i.textContent="Weekly revenue",r=V(),l=P("span"),a=q("💰 "),u=q(s),N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(c,d){M(c,e,d),Y(n,e,null),g(e,o),g(e,i),g(e,r),g(e,l),g(l,a),g(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=le[Te(c[0].id)].revenue_per_week+"")&&se(u,s)},i(c){f||(C(n.$$.fragment,c),f=!0)},o(c){S(n.$$.fragment,c),f=!1},d(c){c&&T(e),X(n)}}}function zu(t){let e,n,o,i,r,l;n=new yt({props:{class:"bg-secondary opacity-25 mt-2"}});let a=Ue(Object.keys(le[Te(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=tf(Ju(t,a,u));return{c(){e=P("div"),J(n.$$.fragment),o=V(),i=P("span"),i.textContent="Weekly Costs",r=V();for(let u=0;u<s.length;u+=1)s[u].c();N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(u,f){M(u,e,f),Y(n,e,null),g(e,o),g(e,i),g(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ue(Object.keys(le[Te(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=Ju(u,a,c);s[c]?s[c].p(d,f):(s[c]=tf(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(C(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&T(e),X(n),_t(s,u)}}}function ef(t){let e,n=po(t[4])+"",o,i,r=ar(t[4])+"",l,a,s=-1*Object.values(le[Te(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=P("span"),o=q(n),i=V(),l=q(r),a=V(),u=q(s),f=V(),N(e,"class",c=Object.values(le[Te(t[0].id)].active_costs)[t[6]]>0?"text-textDanger1":"text-textHappyDark")},m(d,p){M(d,e,p),g(e,o),g(e,i),g(e,l),g(e,a),g(e,u),g(e,f)},p(d,p){p&1&&n!==(n=po(d[4])+"")&&se(o,n),p&1&&r!==(r=ar(d[4])+"")&&se(l,r),p&1&&s!==(s=-1*Object.values(le[Te(d[0].id)].active_costs)[d[6]]+"")&&se(u,s),p&1&&c!==(c=Object.values(le[Te(d[0].id)].active_costs)[d[6]]>0?"text-textDanger1":"text-textHappyDark")&&N(e,"class",c)},d(d){d&&T(e)}}}function tf(t){let e=Object.values(le[Te(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&ef(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){r&1&&(e=Object.values(le[Te(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=ef(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function nf(t){let e,n,o,i,r,l=le[Te(t[0].id)].knowledge_points_per_month>0,a,s;n=new yt({props:{class:"bg-secondary opacity-25 mt-2"}});let u=l&&of(t),f=Ue(Object.keys(le[Te(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=lf(Xu(t,f,d));return{c(){e=P("div"),J(n.$$.fragment),o=V(),i=P("span"),i.textContent="Generated Resources",r=V(),u&&u.c(),a=V();for(let d=0;d<c.length;d+=1)c[d].c();N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(d,p){M(d,e,p),Y(n,e,null),g(e,o),g(e,i),g(e,r),u&&u.m(e,null),g(e,a);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(e,null);s=!0},p(d,p){if(p&1&&(l=le[Te(d[0].id)].knowledge_points_per_month>0),l?u?u.p(d,p):(u=of(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),p&1){f=Ue(Object.keys(le[Te(d[0].id)].generated_resources));let _;for(_=0;_<f.length;_+=1){const h=Xu(d,f,_);c[_]?c[_].p(h,p):(c[_]=lf(h),c[_].c(),c[_].m(e,null))}for(;_<c.length;_+=1)c[_].d(1);c.length=f.length}},i(d){s||(C(n.$$.fragment,d),s=!0)},o(d){S(n.$$.fragment,d),s=!1},d(d){d&&T(e),X(n),u&&u.d(),_t(c,d)}}}function of(t){let e,n,o=Math.round(le[Te(t[0].id)].knowledge_points_per_month)+"",i,r;return{c(){e=P("span"),n=q("🧠 "),i=q(o),r=q(" (monthly)")},m(l,a){M(l,e,a),g(e,n),g(e,i),g(e,r)},p(l,a){a&1&&o!==(o=Math.round(le[Te(l[0].id)].knowledge_points_per_month)+"")&&se(i,o)},d(l){l&&T(e)}}}function rf(t){let e,n=ar(t[4])+"",o,i,r=po(t[4])+"",l,a,s=Ts(Object.values(le[Te(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=P("span"),o=q(n),i=V(),l=q(r),a=V(),u=q(s),f=V(),N(e,"class",c=Object.values(le[Te(t[0].id)].generated_resources)[t[6]]>0?"text-textHappyDark":"text-textDanger1")},m(d,p){M(d,e,p),g(e,o),g(e,i),g(e,l),g(e,a),g(e,u),g(e,f)},p(d,p){p&1&&n!==(n=ar(d[4])+"")&&se(o,n),p&1&&r!==(r=po(d[4])+"")&&se(l,r),p&1&&s!==(s=Ts(Object.values(le[Te(d[0].id)].generated_resources)[d[6]],!1)+"")&&se(u,s),p&1&&c!==(c=Object.values(le[Te(d[0].id)].generated_resources)[d[6]]>0?"text-textHappyDark":"text-textDanger1")&&N(e,"class",c)},d(d){d&&T(e)}}}function lf(t){let e=Object.values(le[Te(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&rf(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){r&1&&(e=Object.values(le[Te(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=rf(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function t4(t){let e,n,o=t[0]!=null&&xu(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&C(o,1)):(o=xu(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Pe(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function ar(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const sf=t=>t!=0,af=t=>t!=0;function n4(t,e,n){let o;fe(t,Ee,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger1 border-2 border-red-400"),f=`<span class='${c}'>${a} ${s}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class Od extends ve{constructor(e){super(),be(this,e,n4,t4,de,{option:0,checkRequirements:1})}}function uf(t,e,n){const o=t.slice();return o[25]=e[n],o}function ff(t,e,n){const o=t.slice();return o[28]=e[n],o}function cf(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,_,h=t[5].plots[t[0]][t[1]].type!==-1&&t[12](t[0],t[1]),v,w,A,k,R,F,E={type:"text",autofocus:!0,id:"search-bar",placeholder:"Search Plot Options...",value:t[3],class:"border rounded w-auto bg-white placeholder-black text-black text-xs"};a=new Hl({props:E}),t[16](a),a.$on("input",t[10]);let $=h&&df(t),H=Ue(t[6].isMineralSource||t[3].length>0?[1]:[1,2,3,4]),D=[];for(let y=0;y<H.length;y+=1)D[y]=yf(uf(t,H,y));const U=y=>S(D[y],1,1,()=>{D[y]=null});return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("div"),r=P("div"),l=P("div"),J(a.$$.fragment),s=V(),u=P("div"),f=P("input"),c=V(),d=P("label"),d.textContent="Buildable",p=V(),_=P("div"),$&&$.c(),v=V(),w=P("div");for(let y=0;y<D.length;y+=1)D[y].c();N(l,"class","flex items-end "),N(f,"type","checkbox"),N(f,"id","toggle-affordable"),N(f,"class","rounded"),f.checked=t[7],N(d,"for","toggle-affordable"),N(d,"class","ml-2 no-select cursor-pointer "),N(u,"class","flex items-center ml-4"),N(_,"class","flex justify-end ml-6"),N(r,"class","flex flex-row w-full "),N(i,"class","text-sm"),N(w,"class",A="flex flex-col "+(t[6].isMineralSource||t[3].length>0?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"),N(o,"class","flex flex-col gap-2 px-2 no-scrollbar justify-end"),N(n,"class","text-xl items-center justify-center w-[90%] align-bottom bg-foreground border-4 border-gray-400 shadow-2xl rounded-t-xl py-2 "),N(e,"class","w-[100vw] fixed bottom-0 h-["+t[9]+"] p-1 z-50 flex flex-col justify-center text-center items-center")},m(y,b){M(y,e,b),g(e,n),g(n,o),g(o,i),g(i,r),g(r,l),Y(a,l,null),g(r,s),g(r,u),g(u,f),g(u,c),g(u,d),g(r,p),g(r,_),$&&$.m(_,null),g(o,v),g(o,w);for(let I=0;I<D.length;I+=1)D[I]&&D[I].m(w,null);k=!0,R||(F=[te(f,"change",t[17]),te(o,"click",t[11])],R=!0)},p(y,b){const I={};if(b[0]&8&&(I.value=y[3]),a.$set(I),(!k||b[0]&128)&&(f.checked=y[7]),b[0]&35&&(h=y[5].plots[y[0]][y[1]].type!==-1&&y[12](y[0],y[1])),h?$?$.p(y,b):($=df(y),$.c(),$.m(_,null)):$&&($.d(1),$=null),b[0]&120){H=Ue(y[6].isMineralSource||y[3].length>0?[1]:[1,2,3,4]);let O;for(O=0;O<H.length;O+=1){const W=uf(y,H,O);D[O]?(D[O].p(W,b),C(D[O],1)):(D[O]=yf(W),D[O].c(),C(D[O],1),D[O].m(w,null))}for(Pe(),O=H.length;O<D.length;O+=1)U(O);Oe()}(!k||b[0]&72&&A!==(A="flex flex-col "+(y[6].isMineralSource||y[3].length>0?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"))&&N(w,"class",A)},i(y){if(!k){C(a.$$.fragment,y);for(let b=0;b<H.length;b+=1)C(D[b]);k=!0}},o(y){S(a.$$.fragment,y),D=D.filter(Boolean);for(let b=0;b<D.length;b+=1)S(D[b]);k=!1},d(y){y&&T(e),t[16](null),X(a),$&&$.d(),_t(D,y),R=!1,qe(F)}}}function df(t){let e,n,o;return{c(){e=P("button"),e.textContent="❌ Bulldoze",N(e,"id","bulldoze"),N(e,"class","px-2 py-2 bg-red-500 rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(i,r){M(i,e,r),n||(o=te(e,"click",t[13]),n=!0)},p:Ce,d(i){i&&T(e),n=!1,o()}}}function mf(t){let e,n,o=t[25]+"",i;return{c(){e=P("div"),n=q("Level "),i=q(o),N(e,"class","text-sm font-extralight pb-3")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l[0]&72&&o!==(o=r[25]+"")&&se(i,o)},d(r){r&&T(e)}}}function pf(t){let e,n,o=t[28].active_costs.power+"",i;return{c(){e=P("span"),n=q("🔋"),i=q(o),N(e,"class","bg-yellow-300 text-xs text-black tex px-1 py-0.5 rounded-2xl absolute top-[-5px] right-[-2px]")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l[0]&88&&o!==(o=r[28].active_costs.power+"")&&se(i,o)},d(r){r&&T(e)}}}function _f(t){let e,n,o=Xe(t[28].id,t[5]).length+"",i;return{c(){e=P("span"),n=q("x"),i=q(o),N(e,"class","bg-black text-xs text-white tex px-1 py-0.5 rounded-2xl absolute top-[-5px] left-[-2px]")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l[0]&120&&o!==(o=Xe(r[28].id,r[5]).length+"")&&se(i,o)},d(r){r&&T(e)}}}function hf(t){let e,n,o=vn(t[28].revenue_per_week,!1)+"",i,r;return{c(){e=P("br"),n=q(`
                            Makes 💰 `),i=q(o),r=q("/week")},m(l,a){M(l,e,a),M(l,n,a),M(l,i,a),M(l,r,a)},p(l,a){a[0]&88&&o!==(o=vn(l[28].revenue_per_week,!1)+"")&&se(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function gf(t){let e,n,o=vn(t[28].requirements.employees,!1)+"",i;return{c(){e=P("br"),n=q(`
                            Employs `),i=q(o)},m(r,l){M(r,e,l),M(r,n,l),M(r,i,l)},p(r,l){l[0]&88&&o!==(o=vn(r[28].requirements.employees,!1)+"")&&se(i,o)},d(r){r&&(T(e),T(n),T(i))}}}function o4(t){let e,n,o,i=(t[28].selected?"✅":Ss(t[28].title))+"",r,l,a,s=t[28].title.substring(2)+"",u,f,c,d=Xe(t[28].id,t[5]).length>0,p,_,h,v=vn(t[28].requirements.gold,!1)+"",w,A,k,R,F,E,$=t[28].active_costs.power>0&&pf(t),H=d&&_f(t),D=t[28].revenue_per_week>0&&hf(t),U=t[28].requirements.employees>0&&gf(t);return{c(){e=P("div"),n=P("div"),o=P("span"),r=q(i),l=V(),a=P("span"),u=q(s),f=V(),$&&$.c(),c=V(),H&&H.c(),p=V(),_=P("span"),h=q("Costs 💰 "),w=q(v),A=V(),D&&D.c(),k=V(),U&&U.c(),N(o,"class","text-md text-center"),N(a,"class","text-xs text-center font-bold mx-1"),N(n,"class","pt-2"),N(_,"style",R=t[28].styling),N(_,"class","text-xs text-center pt-4"),N(e,"class",F="plotOption cursor-pointer min-w-40 "+(t[6].isMineralSource||t[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(t[28].affordable||t[28].selected?"cursor-pointer":"opacity-25 cursor-not-allowed ")+" "+(t[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":"")),N(e,"data-plotoptionid",E=t[28].id),Je(e,"background-color",ji(Te(t[28].id),!0))},m(y,b){M(y,e,b),g(e,n),g(n,o),g(o,r),g(n,l),g(n,a),g(a,u),g(e,f),$&&$.m(e,null),g(e,c),H&&H.m(e,null),g(e,p),g(e,_),g(_,h),g(_,w),g(_,A),D&&D.m(_,null),g(_,k),U&&U.m(_,null)},p(y,b){b[0]&88&&i!==(i=(y[28].selected?"✅":Ss(y[28].title))+"")&&se(r,i),b[0]&88&&s!==(s=y[28].title.substring(2)+"")&&se(u,s),y[28].active_costs.power>0?$?$.p(y,b):($=pf(y),$.c(),$.m(e,c)):$&&($.d(1),$=null),b[0]&120&&(d=Xe(y[28].id,y[5]).length>0),d?H?H.p(y,b):(H=_f(y),H.c(),H.m(e,p)):H&&(H.d(1),H=null),b[0]&88&&v!==(v=vn(y[28].requirements.gold,!1)+"")&&se(w,v),y[28].revenue_per_week>0?D?D.p(y,b):(D=hf(y),D.c(),D.m(_,k)):D&&(D.d(1),D=null),y[28].requirements.employees>0?U?U.p(y,b):(U=gf(y),U.c(),U.m(_,null)):U&&(U.d(1),U=null),b[0]&88&&R!==(R=y[28].styling)&&N(_,"style",R),b[0]&88&&F!==(F="plotOption cursor-pointer min-w-40 "+(y[6].isMineralSource||y[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(y[28].affordable||y[28].selected?"cursor-pointer":"opacity-25 cursor-not-allowed ")+" "+(y[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":""))&&N(e,"class",F),b[0]&88&&E!==(E=y[28].id)&&N(e,"data-plotoptionid",E),b[0]&88&&Je(e,"background-color",ji(Te(y[28].id),!0))},d(y){y&&T(e),$&&$.d(),H&&H.d(),D&&D.d(),U&&U.d()}}}function i4(t){let e,n;return e=new Od({props:{option:t[28]}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i[0]&88&&(r.option=o[28]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function r4(t){let e,n,o,i;return e=new Io({props:{$$slots:{default:[o4]},$$scope:{ctx:t}}}),o=new To({props:{$$slots:{default:[i4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l[0]&120|l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&88|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function bf(t,e){let n,o,i;return o=new Mo({props:{openDelay:400,closeDelay:0,$$slots:{default:[r4]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=De(),J(o.$$.fragment),this.first=n},m(r,l){M(r,n,l),Y(o,r,l),i=!0},p(r,l){e=r;const a={};l[0]&120|l[1]&1&&(a.$$scope={dirty:l,ctx:e}),o.$set(a)},i(r){i||(C(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(o,r)}}}function vf(t){let e;return{c(){e=P("span"),e.textContent="No plots available!",N(e,"class","text-sm pt-2")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function yf(t){let e,n,o,i=[],r=new Map,l,a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource,s,u,f;function c(...w){return t[15](t[25],...w)}let d=t[3].length==0&&!t[6].isMineralSource&&mf(t);function p(...w){return t[18](t[25],...w)}let _=Ue(t[3].length==0&&!t[6].isMineralSource?t[4].filter(p):t[4]);const h=w=>w[28].id;for(let w=0;w<_.length;w+=1){let A=ff(t,_,w),k=h(A);r.set(k,i[w]=bf(k,A))}let v=a&&vf();return{c(){e=P("div"),d&&d.c(),n=V(),o=P("div");for(let w=0;w<i.length;w+=1)i[w].c();l=V(),v&&v.c(),u=V(),N(o,"class",s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle")},m(w,A){M(w,e,A),d&&d.m(e,null),g(e,n),g(e,o);for(let k=0;k<i.length;k+=1)i[k]&&i[k].m(o,null);g(o,l),v&&v.m(o,null),g(e,u),f=!0},p(w,A){t=w,t[3].length==0&&!t[6].isMineralSource?d?d.p(t,A):(d=mf(t),d.c(),d.m(e,n)):d&&(d.d(1),d=null),A[0]&120&&(_=Ue(t[3].length==0&&!t[6].isMineralSource?t[4].filter(p):t[4]),Pe(),i=em(i,A,h,1,t,_,r,o,zd,bf,l,ff),Oe()),A[0]&88&&(a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource),a?v||(v=vf(),v.c(),v.m(o,null)):v&&(v.d(1),v=null),(!f||A[0]&72&&s!==(s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle"))&&N(o,"class",s)},i(w){if(!f){for(let A=0;A<_.length;A+=1)C(i[A]);f=!0}},o(w){for(let A=0;A<i.length;A+=1)S(i[A]);f=!1},d(w){w&&T(e),d&&d.d();for(let A=0;A<i.length;A+=1)i[A].d();v&&v.d()}}}function l4(t){let e,n,o=t[2]&&cf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,r){i[2]?o?(o.p(i,r),r[0]&4&&C(o,1)):(o=cf(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Pe(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function s4(t,e,n){let o,i,r;fe(t,Ee,y=>n(5,o=y)),fe(t,Qe,y=>n(6,i=y)),fe(t,rc,y=>n(7,r=y));let{x:l=0}=e,{y:a=0}=e,{open:s=!1}=e,{tooltip:u=""}=e,f="",c=le,d;const p=Math.round(window.innerHeight*.2)+"px";let _=c.map(y=>Object.assign(Object.assign({},y),{affordable:w(y,o),selected:v(y)}));function h(y){n(3,f=y.target.value||"")}function v(y){return o.plots[l][a].type>-1?c[o.plots[l][a].type].id===y.id:!1}function w(y,b){let I=!0;y.requirements.gold>b.townInfo.gold&&(I=!1);let O=b.townInfo.population_count-b.townInfo.employees;return y.requirements.employees!==void 0&&y.requirements.employees>0&&y.requirements.employees>O&&(I=!1),y.requirements.knowledge!==void 0&&y.requirements.knowledge>b.townInfo.knowledge_points&&(I=!1),y.requirements.resources!==void 0&&Object.keys(y.requirements.resources).forEach(W=>{o.resources[W]<y.requirements.resources[W]&&(I=!1)}),I}function A(y){const b=y.target.closest(".plotOption");if(b){const I=b.dataset.plotoptionid;k(I)}}function k(y){document.querySelectorAll(".plotOption").forEach(O=>{O.classList.remove("active")});const I=document.querySelector(`[data-plotoptionid="${y}"]`);I&&(I.classList.add("active"),F(l,a,y))}function R(y,b){if(i.isMineralSource)return!1;let I=0;return y>0&&o.plots[y-1][b].type!==-1&&I++,y<o.plots.length-1&&o.plots[y+1][b].type!==-1&&I++,b>0&&o.plots[y][b-1].type!==-1&&I++,b<o.plots[0].length-1&&o.plots[y][b+1].type!==-1&&I++,I<=4}function F(y,b,I){let O=o;const W=le.findIndex(Z=>Z.id===I);let L=le[W];if(w(L,o)==!1)return bn.set(`${JSON.stringify(L.requirements)}`);if(L.requirements.adjacent_plots!==void 0){let Z=L.requirements.adjacent_plots;if(xm(y,b,O,L.requirements.adjacent_plots)===!1)return bn.set(`This plot requires adjacent plots of type: ${Z.join(", ")}`)}let x=!0;if((L.requirements.gold>O.townInfo.gold||L.requirements.employees>O.townInfo.population_count-O.townInfo.employees)&&(x=!1),L.requirements.size!=null&&L.requirements.size!=1&&x){let ne=function(m,j){let B={x:m,y:j};return B.x===0&&B.y===0?!0:[{x:B.x-1,y:B.y},{x:B.x+1,y:B.y},{x:B.x,y:B.y-1},{x:B.x,y:B.y+1}].some(re=>re.x<0||re.x>o.plots.length-1||re.y<0||re.y>o.plots.length-1?!1:o.plots[re.x][re.y].active)};var z=ne;let Z=L.requirements.size,K=[],ee=c[W].title.toLowerCase().indexOf("school")!=-1;for(let m=0;m<4;m++){let j=[[y,b]];m===0?(j.push([y-(Z-1),b-(Z-1)]),j.push([y-(Z-1),b]),j.push([y,b-(Z-1)])):m===1?(j.push([y,b-(Z-1)]),j.push([y+(Z-1),b-(Z-1)]),j.push([y+(Z-1),b])):m===2?(j.push([y-(Z-1),b]),j.push([y-(Z-1),b+(Z-1)]),j.push([y,b+(Z-1)])):m===3&&(j.push([y,b+(Z-1)]),j.push([y+(Z-1),b+(Z-1)]),j.push([y+(Z-1),b])),K.push(j)}K=K.filter(m=>m.every(j=>j[0]>=0&&j[0]<=O.plots.length-1&&j[1]>=0&&j[1]<=O.plots.length-1&&!O.plots[j[0]][j[1]].active&&ne(j[0],j[1])==!0)),K.length===0?x=!1:K.length>0&&K[0].forEach(j=>{O.plots[j[0]][j[1]].active=!0,O.plots[j[0]][j[1]].type=ee?-3:-2,O.plots[j[0]][j[1]].referencePlot=[y,b]})}if(x===!0){if(O.plots[y][b].type!==-1&&Bi(y,b,O),n(14,u=""),O.plots[y][b].type=W,O.plots[y][b].active=!0,O.plots[y][b].referencePlot=[],O.plots[y][b].typeId=L.id,O.townInfo.gold-=L.requirements.gold,O.townInfo.gold=it(O.townInfo.gold,2),O.townInfo.population_count+=L.immediate_variable_changes.population,O.townInfo.population_max+=L.immediate_variable_changes.population,O.townInfo.happiness+=L.immediate_variable_changes.happiness,O.townInfo.health+=L.immediate_variable_changes.health,O.modifiers.happiness=it(O.modifiers.happiness*L.effect_modifiers.happiness,2),O.modifiers.health=it(O.modifiers.health*L.effect_modifiers.health,2),O.modifiers.community=it(O.modifiers.community*L.effect_modifiers.community,2),O.townInfo.employees+=L.requirements.employees,(O.plotCounts[W]===void 0||O.plotCounts[W]===null)&&(O.plotCounts[W]=0),O.plotCounts[W]++,O.lastChangeDay=O.environment.day,L.requirements.resources!==void 0){const K=L.requirements.resources;O.resources.food-=K.food,O.resources.wood-=K.wood,O.resources.stone-=K.stone,O.resources.metal-=K.metal}switch(L.id){case"city_hall":O.hasCityHall=!0;break;case"bank":O.hasBank=!0;break}Ee.set(O),localStorage.setItem(jt,JSON.stringify(O));let Z=!1;for(let K=y;K<O.plots.length;K++){for(let ee=b;ee<O.plots[K].length;ee++)if(O.plots[K][ee].active===!1&&O.plots[K][ee].mineralSource==!1&&O.plots[K][ee].water==!1){y=K,b=ee,Z=!0;break}if(Z)break}Ie(Qe,i.x=y,i),Ie(Qe,i.y=b,i)}else n(14,u="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(K=>{K.classList.remove("active")})}function E(){document.querySelectorAll(".plotOption").forEach(b=>{b.classList.remove("active")}),Bi(l,a,o)}const $=(y,b)=>b.level===y;function H(y){Ne[y?"unshift":"push"](()=>{d=y,n(8,d)})}const D=()=>{dm()},U=(y,b)=>b.level===y;return t.$$set=y=>{"x"in y&&n(0,l=y.x),"y"in y&&n(1,a=y.y),"open"in y&&n(2,s=y.open),"tooltip"in y&&n(14,u=y.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&240&&o&&(n(4,_=c.map(y=>Object.assign(Object.assign({},y),{affordable:w(y,o),selected:v(y)}))),i.isMineralSource&&n(4,_=_.filter(y=>y.id==="mine")),r&&n(4,_=_.filter(y=>y.affordable)),Object.keys(ys).forEach(y=>{let b=ys[y];if(b>0){let I=Xe(y,o).length;n(4,_=_.filter(O=>O.id!==y||I<b))}}),_.sort((y,b)=>y.selected&&!b.selected?-1:0)),t.$$.dirty[0]&24&&n(4,_=_.filter(y=>y.title.toLowerCase().includes(f.toLowerCase())))},[l,a,s,f,_,o,i,r,d,p,h,A,R,E,u,$,H,D,U]}class Nd extends ve{constructor(e){super(),be(this,e,s4,l4,de,{x:0,y:1,open:2,tooltip:14},null,[-1,-1])}}function a4(t){let e,n,o;return{c(){e=P("span"),n=q("My liege, if you build a City Hall, you can expand your city "),o=q(t[0])},m(i,r){M(i,e,r),g(e,n),g(e,o)},p(i,r){r&1&&se(o,i[0])},i:Ce,o:Ce,d(i){i&&T(e)}}}function u4(t){let e,n;return e=new Tt({props:{class:"bg-button h-max rounded-2xl hover:scale-110 transition-transform duration-200 ease-in-out hover:drop-shadow-2xl",$$slots:{default:[f4]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&11&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function f4(t){let e,n,o,i,r,l=t[0].toUpperCase()+"",a,s,u,f,c,d,p,_,h,v,w,A=Math.round(Math.pow(1.5,t[1].kingdom_expansions+5))+"",k,R,F,E;return{c(){e=P("div"),n=q("My liege, you can expand your "),o=P("br"),i=q(`kingdom
        `),r=P("span"),a=q(l),s=q(`
        using
        `),u=P("br"),f=q(`your
        `),c=P("span"),c.textContent="City Hall",d=q("!"),p=P("br"),_=P("br"),h=V(),v=P("span"),w=q("Requires "),k=q(A),R=q(` Guardians
          `),F=P("br"),E=q("to be employed. (see city mgmt menu)"),N(r,"class","font-extrabold text-blue-200"),N(c,"class","text-blue-200 bold mx-1"),N(v,"class","opacity-75 text-xs")},m($,H){M($,e,H),g(e,n),g(e,o),g(e,i),g(e,r),g(r,a),g(e,s),g(e,u),g(e,f),g(e,c),g(e,d),g(e,p),g(e,_),g(e,h),g(e,v),g(v,w),g(v,k),g(v,R),g(v,F),g(v,E)},p($,H){H&1&&l!==(l=$[0].toUpperCase()+"")&&se(a,l),H&2&&A!==(A=Math.round(Math.pow(1.5,$[1].kingdom_expansions+5))+"")&&se(k,A)},d($){$&&T(e)}}}function c4(t){let e,n,o,i,r;const l=[u4,a4],a=[];function s(u,f){return f&2&&(n=null),n==null&&(n=Xe("city_hall",u[1]).length>0),n?0:1}return o=s(t,-1),i=a[o]=l[o](t),{c(){e=P("div"),i.c(),N(e,"class","w-48 h-max")},m(u,f){M(u,e,f),a[o].m(e,null),r=!0},p(u,[f]){let c=o;o=s(u,f),o===c?a[o].p(u,f):(Pe(),S(a[c],1,1,()=>{a[c]=null}),Oe(),i=a[o],i?i.p(u,f):(i=a[o]=l[o](u),i.c()),C(i,1),i.m(e,null))},i(u){r||(C(i),r=!0)},o(u){S(i),r=!1},d(u){u&&T(e),a[o].d()}}}function d4(t,e,n){let o;fe(t,Ee,l=>n(1,o=l));let{direction:i}=e;const r=()=>{const l=cm(o,i);l&&bn.set(l)};return t.$$set=l=>{"direction"in l&&n(0,i=l.direction)},[i,o,r]}class wf extends ve{constructor(e){super(),be(this,e,d4,c4,de,{direction:0})}}function m4(t){return{c:Ce,m:Ce,p:Ce,d:Ce}}function p4(t){let e,n,o,i=le[t[0].type].title.substring(0,2)+"",r,l,a,s,u,f=le[t[0].type].title.substring(2)+"",c,d,p,_;return{c(){e=P("div"),n=P("span"),o=P("span"),r=q(i),l=V(),a=P("br"),s=V(),u=P("span"),c=q(f),N(o,"class","text-lg align-text-top select-none"),N(u,"class","text-xs align-text-top font-normal text-black from-stone-600 select-none"),N(n,"data-size",d=le[t[0].type].requirements.size),N(n,"data-x",p=t[0].x),N(n,"data-y",_=t[0].y),N(e,"class","svelte-9dbw4v")},m(h,v){M(h,e,v),g(e,n),g(n,o),g(o,r),g(n,l),g(n,a),g(n,s),g(n,u),g(u,c)},p(h,v){v&1&&i!==(i=le[h[0].type].title.substring(0,2)+"")&&se(r,i),v&1&&f!==(f=le[h[0].type].title.substring(2)+"")&&se(c,f),v&1&&d!==(d=le[h[0].type].requirements.size)&&N(n,"data-size",d),v&1&&p!==(p=h[0].x)&&N(n,"data-x",p),v&1&&_!==(_=h[0].y)&&N(n,"data-y",_)},d(h){h&&T(e)}}}function kf(t){let e;return{c(){e=P("span"),e.textContent="🧲",N(e,"class","text-lg")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function _4(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,_,h,v,w,A,k;function R(H,D){if(H[0].type>-1)return p4;if(H[0].type==-1&&H[0].x==0&&H[0].y==0)return m4}let F=R(t),E=F&&F(t),$=t[0].mineralSource&&t[0].type==-1&&kf();return{c(){e=P("button"),E&&E.c(),n=V(),$&&$.c(),N(e,"class",o="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v"),Je(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":ji(t[0].type,t[2])),N(e,"data-active",i=t[0].active),N(e,"data-hidehoveranimation",r=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),N(e,"data-id",l=t[0].id),N(e,"data-x",a=t[0].x),N(e,"data-y",s=t[0].y),N(e,"data-optionindex",u=t[0].optionIndex),N(e,"data-canbeupgraded",t[2]),N(e,"data-type",f=t[0].type),N(e,"data-type-id",c=t[0].typeId),N(e,"data-refplotx",d=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),N(e,"data-refploty",p=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),N(e,"data-size",_=t[0].type>-1?le[t[0].type].requirements.size:null),N(e,"data-mineralsource",h=t[0].mineralSource),N(e,"data-water",v=t[0].water),N(e,"data-nearwater",w=Ln(t[0].x,t[0].y,t[5]))},m(H,D){M(H,e,D),E&&E.m(e,null),g(e,n),$&&$.m(e,null),A||(k=te(e,"click",function(){sn(t[0].water?null:t[6])&&(t[0].water?null:t[6]).apply(this,arguments)}),A=!0)},p(H,D){t=H,F===(F=R(t))&&E?E.p(t,D):(E&&E.d(1),E=F&&F(t),E&&(E.c(),E.m(e,n))),t[0].mineralSource&&t[0].type==-1?$||($=kf(),$.c(),$.m(e,null)):$&&($.d(1),$=null),D&7&&o!==(o="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v")&&N(e,"class",o),D&21&&Je(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":ji(t[0].type,t[2])),D&1&&i!==(i=t[0].active)&&N(e,"data-active",i),D&17&&r!==(r=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0)&&N(e,"data-hidehoveranimation",r),D&1&&l!==(l=t[0].id)&&N(e,"data-id",l),D&1&&a!==(a=t[0].x)&&N(e,"data-x",a),D&1&&s!==(s=t[0].y)&&N(e,"data-y",s),D&1&&u!==(u=t[0].optionIndex)&&N(e,"data-optionindex",u),D&4&&N(e,"data-canbeupgraded",t[2]),D&1&&f!==(f=t[0].type)&&N(e,"data-type",f),D&1&&c!==(c=t[0].typeId)&&N(e,"data-type-id",c),D&1&&d!==(d=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null)&&N(e,"data-refplotx",d),D&1&&p!==(p=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null)&&N(e,"data-refploty",p),D&1&&_!==(_=t[0].type>-1?le[t[0].type].requirements.size:null)&&N(e,"data-size",_),D&1&&h!==(h=t[0].mineralSource)&&N(e,"data-mineralsource",h),D&1&&v!==(v=t[0].water)&&N(e,"data-water",v),D&33&&w!==(w=Ln(t[0].x,t[0].y,t[5]))&&N(e,"data-nearwater",w)},d(H){H&&T(e),E&&E.d(),$&&$.d(),A=!1,k()}}}function Cf(t){let e;return{c(){e=q("Water - Place farms nearby for more food & revenue!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Af(t){let e;return{c(){e=P("span"),e.textContent="Near water - Generating more food & revenue!",N(e,"class","text-xs bg-blue-500 text-white p-1")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Sf(t){let e,n;return e=new Od({props:{option:t[3],checkRequirements:!1}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&8&&(r.option=o[3]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function h4(t){let e,n,o=Ln(t[0].x,t[0].y,t[5]),i,r,l=t[0].water&&Cf(),a=o&&Af(),s=t[0].active&&Sf(t);return{c(){e=P("div"),l&&l.c(),n=V(),a&&a.c(),i=V(),s&&s.c(),N(e,"class","flex flex-col gap-2")},m(u,f){M(u,e,f),l&&l.m(e,null),g(e,n),a&&a.m(e,null),g(e,i),s&&s.m(e,null),r=!0},p(u,f){u[0].water?l||(l=Cf(),l.c(),l.m(e,n)):l&&(l.d(1),l=null),f&33&&(o=Ln(u[0].x,u[0].y,u[5])),o?a||(a=Af(),a.c(),a.m(e,i)):a&&(a.d(1),a=null),u[0].active?s?(s.p(u,f),f&1&&C(s,1)):(s=Sf(u),s.c(),C(s,1),s.m(e,null)):s&&(Pe(),S(s,1,1,()=>{s=null}),Oe())},i(u){r||(C(s),r=!0)},o(u){S(s),r=!1},d(u){u&&T(e),l&&l.d(),a&&a.d(),s&&s.d()}}}function g4(t){let e,n,o,i;return e=new Io({props:{$$slots:{default:[_4]},$$scope:{ctx:t}}}),o=new To({props:{class:t[0].type<0&&!t[0].water?"hidden":"",$$slots:{default:[h4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&1079&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class=r[0].type<0&&!r[0].water?"hidden":""),l&1065&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function b4(t){let e,n;return e=new Mo({props:{openDelay:400,closeDelay:0,$$slots:{default:[g4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,[i]){const r={};i&1087&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function v4(t,e,n){let o,i,r,l;fe(t,Qe,p=>n(4,o=p)),fe(t,Ee,p=>n(5,i=p)),fe(t,Et,p=>n(8,r=p)),fe(t,mo,p=>n(9,l=p));let{data:a={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,s,{classText:u=""}=e,{canBeUpgraded:f=!1}=e;function c(p,_,h){let v=document.querySelectorAll(".plot_container");if(r==!1){if(a.referencePlot!=null&&a.referencePlot[0]!==null&&_==null&&h==null&&a.referencePlot[1]!==void 0)return c(p,a.referencePlot[0],a.referencePlot[1]);!a.active&&!f?(Ie(mo,l={},l),Ie(Qe,o.visible=!1,o),v.forEach(w=>{w.classList.remove("selected")})):(_!=null&&h!=null?(Ie(Qe,o.x=_,o),Ie(Qe,o.y=h,o)):(Ie(Qe,o.x=a.x,o),Ie(Qe,o.y=a.y,o)),Ie(Qe,o.isMineralSource=a.mineralSource,o),Ie(Qe,o.visible=!0,o),v.forEach(w=>{w.classList.remove("selected")}),_!=null&&h!=null?document.querySelector(`.plot_container[data-x="${_}"][data-y="${h}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${a.id}"]`).classList.add("selected"))}}function d(p){r==!1&&(Ie(Ee,i.plots[a.x][a.y].type=p,i),Ie(Qe,o.visible=!1,o))}return t.$$set=p=>{"data"in p&&n(0,a=p.data),"classText"in p&&n(1,u=p.classText),"canBeUpgraded"in p&&n(2,f=p.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1&&a.type>-1&&n(3,s=le[a.type])},[a,u,f,s,o,i,c,d]}class y4 extends ve{constructor(e){super(),be(this,e,v4,b4,de,{data:0,classText:1,canBeUpgraded:2,changePlotType:7})}get changePlotType(){return this.$$.ctx[7]}}function Tf(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function Mf(t,e,n){const o=t.slice();return o[9]=e[n],o}function If(t){let e,n,o,i,r,l,a,s,u,f,c,d=t[3],p,_,h=Ue(t[2].plots),v=[];for(let k=0;k<h.length;k+=1)v[k]=Of(Tf(t,h,k));const w=k=>S(v[k],1,1,()=>{v[k]=null});a=new wf({props:{direction:"east"}}),f=new wf({props:{direction:"south"}});let A=Ef(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("div");for(let k=0;k<v.length;k+=1)v[k].c();r=V(),l=P("span"),J(a.$$.fragment),s=V(),u=P("span"),J(f.$$.fragment),c=V(),A.c(),p=De(),N(i,"class","grid plot_controller svelte-rx1u2k"),N(o,"class","flex flex-row items-center"),N(n,"id","plotContainerMain"),N(n,"class","absolute left-[170px] items-center h-max flex flex-col top-[170px] pl-32 pt-32 pb-80 pr-80 bg-background"),N(e,"class","flex flex-col")},m(k,R){M(k,e,R),g(e,n),g(n,o),g(o,i);for(let F=0;F<v.length;F+=1)v[F]&&v[F].m(i,null);g(o,r),g(o,l),Y(a,l,null),g(n,s),g(n,u),Y(f,u,null),M(k,c,R),A.m(k,R),M(k,p,R),_=!0},p(k,R){if(R&7){h=Ue(k[2].plots);let F;for(F=0;F<h.length;F+=1){const E=Tf(k,h,F);v[F]?(v[F].p(E,R),C(v[F],1)):(v[F]=Of(E),v[F].c(),C(v[F],1),v[F].m(i,null))}for(Pe(),F=h.length;F<v.length;F+=1)w(F);Oe()}R&8&&de(d,d=k[3])?(Pe(),S(A,1,1,Ce),Oe(),A=Ef(k),A.c(),C(A,1),A.m(p.parentNode,p)):A.p(k,R)},i(k){if(!_){for(let R=0;R<h.length;R+=1)C(v[R]);C(a.$$.fragment,k),C(f.$$.fragment,k),C(A),_=!0}},o(k){v=v.filter(Boolean);for(let R=0;R<v.length;R+=1)S(v[R]);S(a.$$.fragment,k),S(f.$$.fragment,k),S(A),_=!1},d(k){k&&(T(e),T(c),T(p)),_t(v,k),X(a),X(f),A.d(k)}}}function Pf(t){let e,n;return e=new y4({props:{classText:"hexagon",data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&4&&(r.data=o[9]),i&4&&(r.canBeUpgraded=o[0](o[9].x,o[9].y)),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Of(t){let e,n,o,i,r,l=Ue(t[6]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Pf(Mf(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=P("div");for(let u=0;u<a.length;u+=1)a[u].c();n=V(),N(e,"class","row "+(t[8]%2!==0?"odd-row":"")+" svelte-rx1u2k")},m(u,f){M(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);g(e,n),o=!0,i||(r=te(e,"click",t[1]),i=!0)},p(u,f){if(f&5){l=Ue(u[6]);let c;for(c=0;c<l.length;c+=1){const d=Mf(u,l,c);a[c]?(a[c].p(d,f),C(a[c],1)):(a[c]=Pf(d),a[c].c(),C(a[c],1),a[c].m(e,n))}for(Pe(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)C(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);o=!1},d(u){u&&T(e),_t(a,u),i=!1,r()}}}function Nf(t){let e,n;return e=new Nd({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.x=o[4].x),i&16&&(r.y=o[4].y),i&16&&(r.open=o[4].visible),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Ef(t){let e,n,o=t[4].visible&&Nf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,r){i[4].visible?o?(o.p(i,r),r&16&&C(o,1)):(o=Nf(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Pe(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function w4(t){let e,n,o=t[2]!=null&&If(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[2]!=null?o?(o.p(i,r),r&4&&C(o,1)):(o=If(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Pe(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function k4(t,e,n){let o,i,r;fe(t,mo,u=>n(3,o=u)),fe(t,Ee,u=>n(2,i=u)),fe(t,Qe,u=>n(4,r=u)),document.addEventListener("click",function(u){const f=u.target;(f.dataset.x==null&&f.dataset.type!="-1"&&f.dataset.size!=null||f.id=="plotContainerMain"||f.classList.contains("row")||f.classList.contains("grid"))&&Ie(Qe,r.visible=!1,r)});function l(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(p=>p.x<0||p.x>=i.plots.length||p.y<0||p.y>=i.plots[p.x].length?!1:i.plots[p.x][p.y].active)}function a(){let u=[];for(let f=0;f<i.plots.length;f++)for(let c=0;c<i.plots.length;c++)l(f,c)&&i.plots[f][c].active==!1&&u.push(i.plots[f][c])}function s(){Ie(mo,o={},o)}return t.$$.update=()=>{t.$$.dirty&4&&i&&a()},[l,s,i,o,r]}class C4 extends ve{constructor(e){super(),be(this,e,k4,w4,de,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}function $f(t,e,n){const o=t.slice();return o[2]=e[n],o}function Rf(t){let e;return{c(){e=P("span"),e.textContent="No alerts in the last 30d",N(e,"class","text-sm italic text-center opacity-70")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Df(t){let e,n=t[2]+"",o,i,r;return{c(){e=P("p"),o=q(n),i=V(),r=P("br"),N(e,"class","text-xs")},m(l,a){M(l,e,a),g(e,o),M(l,i,a),M(l,r,a)},p(l,a){a&2&&n!==(n=l[2]+"")&&se(o,n)},d(l){l&&(T(e),T(i),T(r))}}}function A4(t){let e,n,o,i,r,l,a,s,u=t[1].townLog==""&&Rf(),f=Ue(t[1].townLog.split(`
`)),c=[];for(let d=0;d<f.length;d+=1)c[d]=Df($f(t,f,d));return{c(){e=P("div"),n=P("div"),o=P("h1"),o.textContent="Alerts",i=V(),u&&u.c(),r=V();for(let d=0;d<c.length;d+=1)c[d].c();l=V(),a=P("ul"),a.innerHTML="",N(o,"class","text-xl w-full pb-2 text-center "),N(a,"class","list-disc pl-5 gap-2 flex flex-col text-xs "),N(n,"class",s="bg-foreground w-[160px] border-foregroundDark border-4 "+(t[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 p-3 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300"),N(e,"class","flex flex-row text-foregroundText")},m(d,p){M(d,e,p),g(e,n),g(n,o),g(n,i),u&&u.m(n,null),g(n,r);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(n,null);g(n,l),g(n,a)},p(d,[p]){if(d[1].townLog==""?u||(u=Rf(),u.c(),u.m(n,r)):u&&(u.d(1),u=null),p&2){f=Ue(d[1].townLog.split(`
`));let _;for(_=0;_<f.length;_+=1){const h=$f(d,f,_);c[_]?c[_].p(h,p):(c[_]=Df(h),c[_].c(),c[_].m(n,l))}for(;_<c.length;_+=1)c[_].d(1);c.length=f.length}p&1&&s!==(s="bg-foreground w-[160px] border-foregroundDark border-4 "+(d[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 p-3 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300")&&N(n,"class",s)},i:Ce,o:Ce,d(d){d&&T(e),u&&u.d(),_t(c,d)}}}function S4(t,e,n){let o,i;return fe(t,Qe,r=>n(0,o=r)),fe(t,Ee,r=>n(1,i=r)),[o,i]}class T4 extends ve{constructor(e){super(),be(this,e,S4,A4,de,{})}}function Lf(t,e,n){const o=t.slice();return o[5]=e[n],o}function Ff(t){let e,n;return e=new k1({props:{thumb:t[5],class:"block h-5 w-5 rounded-full border-2 border-primary bg-accent ring-accent transition-colors focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function M4(t){let e,n,o,i,r;n=new h1({props:{class:"absolute h-full bg-primary"}});let l=Ue(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Ff(Lf(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=P("span"),J(n.$$.fragment),o=V();for(let u=0;u<a.length;u+=1)a[u].c();i=De(),N(e,"class","relative h-2 w-full grow overflow-hidden rounded-full bg-textPrimary")},m(u,f){M(u,e,f),Y(n,e,null),M(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);M(u,i,f),r=!0},p(u,f){if(f&16){l=Ue(u[4]);let c;for(c=0;c<l.length;c+=1){const d=Lf(u,l,c);a[c]?(a[c].p(d,f),C(a[c],1)):(a[c]=Ff(d),a[c].c(),C(a[c],1),a[c].m(i.parentNode,i))}for(Pe(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!r){C(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)C(a[f]);r=!0}},o(u){S(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);r=!1},d(u){u&&(T(e),T(o),T(i)),X(n),_t(a,u)}}}function I4(t){let e,n,o;const i=[{class:Fe("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[M4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=Q(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new f1({props:l}),Ne.push(()=>Sn(e,"value",r)),{c(){J(e.$$.fragment)},m(a,s){Y(e,a,s),o=!0},p(a,[s]){const u=s&6?we(i,[s&2&&{class:Fe("relative flex w-full touch-none select-none items-center",a[1])},s&4&&rt(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],An(()=>n=!1)),e.$set(u)},i(a){o||(C(e.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),o=!1},d(a){X(e,a)}}}function P4(t,e,n){const o=["class","value"];let i=ae(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=Q(Q({},e),Re(s)),n(2,i=ae(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class qf extends ve{constructor(e){super(),be(this,e,P4,I4,de,{class:1,value:0})}}function jf(t,e,n){const o=t.slice();return o[7]=e[n].icon,o[8]=e[n].name,o[9]=e[n].value,o[10]=e[n].rate,o}function Bf(t,e,n){const o=t.slice();return o[13]=e[n],o}function O4(t){let e;return{c(){e=P("div"),e.innerHTML=`Resources are generated from plots. Generation rate can be increased
            by raising the productivity of the town, at the cost of some
            happiness.
            <br/> <br/>
            There is also a slight bit of randomness as townspeople aren&#39;t robots.`,N(e,"class","text-sm")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function N4(t){let e,n,o,i;return o=new To({props:{class:"text-sm w-[200px]",$$slots:{default:[O4]},$$scope:{ctx:t}}}),{c(){e=P("div"),e.innerHTML='<h1 class="text-xl w-full text-center">Resources</h1> <button class="text-textPrimary text-sm">ℹ️</button>',n=V(),J(o.$$.fragment),N(e,"class","flex flex-row items-center pb-2 gap-2")},m(r,l){M(r,e,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&65536&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(C(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&(T(e),T(n)),X(o,r)}}}function E4(t){let e,n;return e=new Io({props:{$$slots:{default:[N4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&65536&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function $4(t){let e,n,o=t[10]+"",i;return{c(){e=P("span"),n=q("+"),i=q(o),N(e,"class","text-textPrimary")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&se(i,o)},d(r){r&&T(e)}}}function R4(t){let e;return{c(){e=P("span")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function D4(t){let e,n=t[10]+"",o;return{c(){e=P("span"),o=q(n),N(e,"class","text-textDanger2")},m(i,r){M(i,e,r),g(e,o)},p(i,r){r&2&&n!==(n=i[10]+"")&&se(o,n)},d(i){i&&T(e)}}}function L4(t){let e,n,o=t[10]+"",i;return{c(){e=P("span"),n=q("+"),i=q(o),N(e,"class","text-textHappy")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&se(i,o)},d(r){r&&T(e)}}}function F4(t){let e;return{c(){e=P("span"),N(e,"class","display-none")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function q4(t){let e,n,o=t[10]+"",i,r;return{c(){e=P("span"),n=q("+"),i=q(o),r=q(" (weekly)"),N(e,"class","")},m(l,a){M(l,e,a),g(e,n),g(e,i),g(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&se(i,o)},d(l){l&&T(e)}}}function j4(t){let e,n=t[10]+"",o,i;return{c(){e=P("span"),o=q(n),i=q(" (weekly)"),N(e,"class","text-textDanger2")},m(r,l){M(r,e,l),g(e,o),g(e,i)},p(r,l){l&2&&n!==(n=r[10]+"")&&se(o,n)},d(r){r&&T(e)}}}function B4(t){let e,n,o=t[10]+"",i,r;return{c(){e=P("span"),n=q("+"),i=q(o),r=q(" (weekly)"),N(e,"class","text-textHappy")},m(l,a){M(l,e,a),g(e,n),g(e,i),g(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&se(i,o)},d(l){l&&T(e)}}}function Gf(t){let e,n,o,i;return e=new yt({}),{c(){J(e.$$.fragment),n=V(),o=P("span"),o.textContent="Required for",N(o,"class","text-sm font-semibold")},m(r,l){Y(e,r,l),M(r,n,l),M(r,o,l),i=!0},i(r){i||(C(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),X(e,r)}}}function Vf(t){let e,n=t[13]+"",o;return{c(){e=P("span"),o=q(n),N(e,"class","text-xs mr-4")},m(i,r){M(i,e,r),g(e,o)},p(i,r){r&2&&n!==(n=i[13]+"")&&se(o,n)},d(i){i&&T(e)}}}function G4(t){let e,n,o=t[7]+"",i,r,l=po(t[8])+"",a,s,u,f=t[5](t[8]).length>0,c,d,p;function _(R,F){return R[10]>0?B4:R[10]<0?j4:R[10]!=null?q4:F4}let h=_(t),v=h(t),w=f&&Gf(),A=Ue(t[5](t[8])),k=[];for(let R=0;R<A.length;R+=1)k[R]=Vf(Bf(t,A,R));return{c(){e=P("div"),n=P("span"),i=q(o),r=V(),a=q(l),s=V(),v.c(),u=V(),w&&w.c(),c=V(),d=P("div");for(let R=0;R<k.length;R+=1)k[R].c();N(n,"class","text-md font-bold"),N(d,"class","flex flex-col flex-wrap min-w-full"),N(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit")},m(R,F){M(R,e,F),g(e,n),g(n,i),g(n,r),g(n,a),g(e,s),v.m(e,null),g(e,u),w&&w.m(e,null),g(e,c),g(e,d);for(let E=0;E<k.length;E+=1)k[E]&&k[E].m(d,null);p=!0},p(R,F){if((!p||F&2)&&o!==(o=R[7]+"")&&se(i,o),(!p||F&2)&&l!==(l=po(R[8])+"")&&se(a,l),h===(h=_(R))&&v?v.p(R,F):(v.d(1),v=h(R),v&&(v.c(),v.m(e,u))),F&2&&(f=R[5](R[8]).length>0),f?w?F&2&&C(w,1):(w=Gf(),w.c(),C(w,1),w.m(e,c)):w&&(Pe(),S(w,1,1,()=>{w=null}),Oe()),F&34){A=Ue(R[5](R[8]));let E;for(E=0;E<A.length;E+=1){const $=Bf(R,A,E);k[E]?k[E].p($,F):(k[E]=Vf($),k[E].c(),k[E].m(d,null))}for(;E<k.length;E+=1)k[E].d(1);k.length=A.length}},i(R){p||(C(w),p=!0)},o(R){S(w),p=!1},d(R){R&&T(e),v.d(),w&&w.d(),_t(k,R)}}}function V4(t){let e,n=t[7]+"",o,i,r=t[9]+"",l,a,s,u,f,c;function d(h,v){return h[10]>0?L4:h[10]<0?D4:h[10]==null?R4:$4}let p=d(t),_=p(t);return f=new To({props:{$$slots:{default:[G4]},$$scope:{ctx:t}}}),{c(){e=P("span"),o=q(n),i=V(),l=q(r),a=V(),_.c(),u=V(),J(f.$$.fragment),N(e,"class",s="flex flex-row justify-between "+(t[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary"))},m(h,v){M(h,e,v),g(e,o),g(e,i),g(e,l),g(e,a),_.m(e,null),M(h,u,v),Y(f,h,v),c=!0},p(h,v){(!c||v&2)&&n!==(n=h[7]+"")&&se(o,n),(!c||v&2)&&r!==(r=h[9]+"")&&se(l,r),p===(p=d(h))&&_?_.p(h,v):(_.d(1),_=p(h),_&&(_.c(),_.m(e,null))),(!c||v&2&&s!==(s="flex flex-row justify-between "+(h[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary")))&&N(e,"class",s);const w={};v&65538&&(w.$$scope={dirty:v,ctx:h}),f.$set(w)},i(h){c||(C(f.$$.fragment,h),c=!0)},o(h){S(f.$$.fragment,h),c=!1},d(h){h&&(T(e),T(u)),_.d(),X(f,h)}}}function H4(t){let e,n,o;return e=new Io({props:{$$slots:{default:[V4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V()},m(i,r){Y(e,i,r),M(i,n,r),o=!0},p(i,r){const l={};r&65538&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(C(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){i&&T(n),X(e,i)}}}function Hf(t){let e,n;return e=new Mo({props:{openDelay:400,closeDelay:0,$$slots:{default:[H4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&65538&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function W4(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,_,h=it(t[0].townInfo.productivity,0)+"",v,w,A,k,R,F,E,$,H,D,U,y=it(t[0].economyAndLaws.tax_rate*100,0)+"",b,I,O,W,L,x,z;o=new Mo({props:{openDelay:400,closeDelay:0,$$slots:{default:[E4]},$$scope:{ctx:t}}});let Z=Ue(t[1]),K=[];for(let ne=0;ne<Z.length;ne+=1)K[ne]=Hf(jf(t,Z,ne));const ee=ne=>S(K[ne],1,1,()=>{K[ne]=null});return k=new qf({props:{value:[t[0].townInfo.productivity],onValueChange:t[4],min:0,max:200,step:5,class:"cursor-pointer w-full"}}),W=new qf({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[3],min:0,max:1,step:.05,class:"cursor-pointer w-full"}}),{c(){e=P("div"),n=P("div"),J(o.$$.fragment),i=V(),r=P("div"),l=P("div");for(let ne=0;ne<K.length;ne+=1)K[ne].c();a=V(),s=P("div"),u=P("div"),f=P("div"),c=P("span"),c.textContent="Productivity",d=V(),p=P("span"),_=q("("),v=q(h),w=q("%)"),A=V(),J(k.$$.fragment),R=V(),F=P("div"),E=P("div"),$=P("span"),$.textContent="Tax Rate",H=V(),D=P("span"),U=q("("),b=q(y),I=q("%)"),O=V(),J(W.$$.fragment),N(n,"class","flex flex-row justify-center"),N(l,"class","flex flex-col text-sm text-nowrap gap-2"),N(c,"class","text-xs"),N(p,"class","text-xs"),N(u,"class","flex flex-col justify-center w-full text-center items-center gap-2"),N($,"class","text-xs"),N(D,"class","text-xs"),N(F,"class",L="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(t[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")),N(s,"class","flex flex-col gap-6 rounded-xl text-center justify-center"),N(r,"class","flex flex-col justify-between gap-4 text-foregroundText h-full pb-12"),N(e,"class",x="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(t[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300")},m(ne,m){M(ne,e,m),g(e,n),Y(o,n,null),g(e,i),g(e,r),g(r,l);for(let j=0;j<K.length;j+=1)K[j]&&K[j].m(l,null);g(r,a),g(r,s),g(s,u),g(u,f),g(f,c),g(f,d),g(f,p),g(p,_),g(p,v),g(p,w),g(u,A),Y(k,u,null),g(s,R),g(s,F),g(F,E),g(E,$),g(E,H),g(E,D),g(D,U),g(D,b),g(D,I),g(F,O),Y(W,F,null),z=!0},p(ne,[m]){const j={};if(m&65536&&(j.$$scope={dirty:m,ctx:ne}),o.$set(j),m&34){Z=Ue(ne[1]);let re;for(re=0;re<Z.length;re+=1){const ke=jf(ne,Z,re);K[re]?(K[re].p(ke,m),C(K[re],1)):(K[re]=Hf(ke),K[re].c(),C(K[re],1),K[re].m(l,null))}for(Pe(),re=Z.length;re<K.length;re+=1)ee(re);Oe()}(!z||m&1)&&h!==(h=it(ne[0].townInfo.productivity,0)+"")&&se(v,h);const B={};m&1&&(B.value=[ne[0].townInfo.productivity]),k.$set(B),(!z||m&1)&&y!==(y=it(ne[0].economyAndLaws.tax_rate*100,0)+"")&&se(b,y);const ie={};m&1&&(ie.value=[ne[0].economyAndLaws.tax_rate]),W.$set(ie),(!z||m&1&&L!==(L="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(ne[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")))&&N(F,"class",L),(!z||m&4&&x!==(x="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(ne[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300"))&&N(e,"class",x)},i(ne){if(!z){C(o.$$.fragment,ne);for(let m=0;m<Z.length;m+=1)C(K[m]);C(k.$$.fragment,ne),C(W.$$.fragment,ne),z=!0}},o(ne){S(o.$$.fragment,ne),K=K.filter(Boolean);for(let m=0;m<K.length;m+=1)S(K[m]);S(k.$$.fragment,ne),S(W.$$.fragment,ne),z=!1},d(ne){ne&&T(e),X(o),_t(K,ne),X(k),X(W)}}}function K4(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function U4(t,e,n){let o,i;fe(t,Ee,f=>n(0,o=f)),fe(t,Qe,f=>n(2,i=f));function r(f){let c=o;c.economyAndLaws.tax_rate=it(f[0],2),Ee.set(c),localStorage.setItem(jt,JSON.stringify(c))}function l(f){let c=o;c.townInfo.productivity=it(f[0],2),Ee.set(c),localStorage.setItem(jt,JSON.stringify(c))}let a=[];function s(f){let c=[];for(let d=0;d<le.length;d++)(f!="knowledge"&&le[d].requirements.resources[f]>0||f=="power"&&le[d].active_costs.power>0||f=="knowledge"&&le[d].requirements.knowledge>0)&&c.push(le[d].title);return c}function u(f){return K4(f)?s(f):[]}return t.$$.update=()=>{t.$$.dirty&1&&n(1,a=[{icon:"🥕",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"🪵",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"🪨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"🧠",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"🧲",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"🔋",name:"power",value:o.resources.power+" (surplus)",rate:null},{icon:"🧑‍⚖️",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy}])},[o,a,i,r,l,u]}class Y4 extends ve{constructor(e){super(),be(this,e,U4,W4,de,{})}}function X4(t){let e,n,o,i,r,l,a,s,u,f,c,d,p;return o=new e4({}),l=new T4({}),s=new C4({}),f=new Y4({}),d=new Nd({}),{c(){e=P("div"),n=P("div"),J(o.$$.fragment),i=V(),r=P("div"),J(l.$$.fragment),a=V(),J(s.$$.fragment),u=V(),J(f.$$.fragment),c=V(),J(d.$$.fragment),N(r,"class","flex flex-row text-foregroundText"),N(e,"class","flex flex-col max-h-[100%] justify-between")},m(_,h){M(_,e,h),g(e,n),Y(o,n,null),g(e,i),g(e,r),Y(l,r,null),g(r,a),Y(s,r,null),g(r,u),Y(f,r,null),g(r,c),Y(d,r,null),p=!0},p:Ce,i(_){p||(C(o.$$.fragment,_),C(l.$$.fragment,_),C(s.$$.fragment,_),C(f.$$.fragment,_),C(d.$$.fragment,_),p=!0)},o(_){S(o.$$.fragment,_),S(l.$$.fragment,_),S(s.$$.fragment,_),S(f.$$.fragment,_),S(d.$$.fragment,_),p=!1},d(_){_&&T(e),X(o),X(l),X(s),X(f),X(d)}}}function J4(t,e,n){return fe(t,Ee,o=>n(0,o)),[]}class x4 extends ve{constructor(e){super(),be(this,e,J4,X4,de,{})}}function Z4(t){let e;return{c(){e=q("Welcome to Plots!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Q4(t){let e,n,o,i,r=t[0].townInfo.name+"",l,a,s,u,f,c,d,p,_,h,v,w,A,k,R,F,E,$,H,D,U,y,b,I,O,W,L,x,z,Z;return p=new yt({props:{class:"bg-white mt-2 mb-1"}}),w=new yt({props:{class:"bg-white mt-2 mb-1"}}),F=new yt({props:{class:"bg-white mt-2 mb-1"}}),D=new yt({props:{class:"bg-white mt-2 mb-1"}}),{c(){e=P("div"),n=P("p"),o=q(`You come across a large amount of land, and you decide to start a
            town called `),i=P("span"),l=q(r),a=q("."),s=V(),u=P("div"),f=P("p"),f.textContent="To run a successful town, you will need to have:",c=V(),d=P("ul"),J(p.$$.fragment),_=V(),h=P("li"),h.textContent=`👥 People - build homes and they will stay as long as they are
                happy.`,v=V(),J(w.$$.fragment),A=V(),k=P("li"),k.textContent=`🪵 Resources - generated by some plots and used to build others.
                some plots require sustained weekly resources (such as needing
                wood to heat homes)`,R=V(),J(F.$$.fragment),E=V(),$=P("li"),$.textContent=`💰 Gold - generated by plots through tax revenue. most plots
                make the town some amount of money but some cost a lot to
                operate.`,H=V(),J(D.$$.fragment),U=V(),y=P("p"),y.innerHTML=`The town&#39;s key metrics are <span class="font-bold text-textHappyDark">Happiness</span>
            and <span class="font-bold text-textHappyDark">Health</span>, shown
            in the top-left corner.`,b=V(),I=P("p"),I.textContent=`These metrics are affected by the plots you build. Some plots may
            not always increase happiness, and some could even be harmful enough
            to tear down an otherwise great town.`,O=V(),W=P("p"),W.textContent="Be cautious and make sure to hover over plots before you buy them.",L=V(),x=P("img"),N(i,"class","font-bold text-accent"),N(d,"class","list-desc"),qd(x.src,z="welcome_example_plot.png")||N(x,"src",z),N(x,"class","max-w-[60%] object-fit"),N(e,"class","flex flex-col gap-3 max-h-[50vh] overflow-y-scroll")},m(K,ee){M(K,e,ee),g(e,n),g(n,o),g(n,i),g(i,l),g(i,a),g(e,s),g(e,u),g(u,f),g(u,c),g(u,d),Y(p,d,null),g(d,_),g(d,h),g(d,v),Y(w,d,null),g(d,A),g(d,k),g(d,R),Y(F,d,null),g(d,E),g(d,$),g(d,H),Y(D,d,null),g(e,U),g(e,y),g(e,b),g(e,I),g(e,O),g(e,W),g(e,L),g(e,x),Z=!0},p(K,ee){(!Z||ee&1)&&r!==(r=K[0].townInfo.name+"")&&se(l,r)},i(K){Z||(C(p.$$.fragment,K),C(w.$$.fragment,K),C(F.$$.fragment,K),C(D.$$.fragment,K),Z=!0)},o(K){S(p.$$.fragment,K),S(w.$$.fragment,K),S(F.$$.fragment,K),S(D.$$.fragment,K),Z=!1},d(K){K&&T(e),X(p),X(w),X(F),X(D)}}}function z4(t){let e,n,o,i;return e=new Wl({props:{class:"",$$slots:{default:[Z4]},$$scope:{ctx:t}}}),o=new Ul({props:{$$slots:{default:[Q4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&524288&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524289&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function eC(t){let e;return{c(){e=q("Get started")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function tC(t){let e,n;return e=new xc({props:{class:"bg-button rounded-2xl text-foregroundText px-4 py-2 hover:rounded-lg transition-all duration-300",$$slots:{default:[eC]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&524288&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function nC(t){let e,n,o,i;return e=new Kl({props:{$$slots:{default:[z4]},$$scope:{ctx:t}}}),o=new wr({props:{$$slots:{default:[tC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&524289&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524288&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function oC(t){let e,n;return e=new kr({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[nC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function iC(t){let e,n;return e=new Cr({props:{open:t[1],$$slots:{default:[oC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,[i]){const r={};i&2&&(r.open=o[1]),i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function rC(t,e,n){let o,i,r,l;fe(t,on,p=>n(7,o=p)),fe(t,Ee,p=>n(0,i=p)),fe(t,Wi,p=>n(4,r=p)),fe(t,zr,p=>n(1,l=p)),bt[i.endGoal],Nl[i.difficulty],et.sort((p,_)=>f(p.id)&&!f(_.id)?-1:!f(p.id)&&f(_.id)?1:0),et.filter(p=>f(p.id));function s(p){const _=o.achievements.find(h=>h[0]==p);return _==null?!1:_[3]}let u=et;function f(p){return o.achievements==null?!1:o.achievements.find(_=>_[0]==p)!=null}function c(){Wi.update(p=>!p),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),lc.set("game"));const d=()=>{zr.set(!1)};return t.$$.update=()=>{if(t.$$.dirty&25&&i)if(r)n(3,u=et);else{n(3,u=[]);for(let p=0;p<et.length;p++)(!f(et[p].id)||!s(et[p].id))&&u.push(et[p])}},[i,l,c,u,r,d]}class lC extends ve{constructor(e){super(),be(this,e,rC,iC,de,{toggleShowCompleted:2})}get toggleShowCompleted(){return this.$$.ctx[2]}}function Wf(t,e,n){const o=t.slice();return o[7]=e[n],o}function sC(t){let e,n,o=t[0].townInfo.name+"",i,r,l,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=P("div"),n=P("span"),i=q(o),r=V(),l=P("span"),a=q("🧑‍⚖️ "),u=q(s),N(e,"class","flex justify-between mr-10")},m(f,c){M(f,e,c),g(e,n),g(n,i),g(e,r),g(e,l),g(l,a),g(l,u)},p(f,c){c&1&&o!==(o=f[0].townInfo.name+"")&&se(i,o),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&se(u,s)},d(f){f&&T(e)}}}function aC(t){let e;return{c(){e=q("-")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function uC(t){let e;return{c(){e=q("+")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function fC(t){let e;return{c(){e=q("Build a City Hall to manage your city.")},m(n,o){M(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&T(e)}}}function cC(t){let e,n,o,i,r=Ue(il),l=[];for(let s=0;s<r.length;s+=1)l[s]=Kf(Wf(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=P("span"),e.textContent="Laws 🧑‍⚖️",n=V();for(let s=0;s<l.length;s+=1)l[s].c();o=De(),N(e,"class","text-lg font-bold")},m(s,u){M(s,e,u),M(s,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);M(s,o,u),i=!0},p(s,u){if(u&1){r=Ue(il);let f;for(f=0;f<r.length;f+=1){const c=Wf(s,r,f);l[f]?(l[f].p(c,u),C(l[f],1)):(l[f]=Kf(c),l[f].c(),C(l[f],1),l[f].m(o.parentNode,o))}for(Pe(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)C(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),_t(l,s)}}}function dC(t){let e,n=t[7].cost+"",o;return{c(){e=q("Enact for 🧑‍⚖️ "),o=q(n)},m(i,r){M(i,e,r),M(i,o,r)},d(i){i&&(T(e),T(o))}}}function mC(t){let e;return{c(){e=q("Repeal ❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function pC(t){let e,n;function o(l,a){return a&1&&(e=null),e==null&&(e=!!l[0].economyAndLaws.enacted.includes(l[7].id)),e?mC:dC}let i=o(t,-1),r=i(t);return{c(){r.c(),n=De()},m(l,a){r.m(l,a),M(l,n,a)},p(l,a){i!==(i=o(l,a))&&(r.d(1),r=i(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&T(n),r.d(l)}}}function Kf(t){let e,n,o,i,r,l,a;function s(){return t[4](t[7])}return i=new Tt({props:{class:"bg-button rounded-2xl",$$slots:{default:[pC]},$$scope:{ctx:t}}}),i.$on("click",s),l=new yt({props:{class:"bg-white opacity-30"}}),{c(){e=P("div"),n=P("span"),n.textContent=`${t[7].description}`,o=V(),J(i.$$.fragment),r=V(),J(l.$$.fragment),N(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){M(u,e,f),g(e,n),g(e,o),Y(i,e,null),M(u,r,f),Y(l,u,f),a=!0},p(u,f){t=u;const c={};f&1025&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(C(i.$$.fragment,u),C(l.$$.fragment,u),a=!0)},o(u){S(i.$$.fragment,u),S(l.$$.fragment,u),a=!1},d(u){u&&(T(e),T(r)),X(i),X(l,u)}}}function _C(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,_,h,v,w,A,k=t[0].townInfo.guardians+"",R,F,E,$,H,D=t[0].townInfo.population_count-t[0].townInfo.employees+"",U,y,b,I,O,W,L,x,z,Z;e=new Un({props:{class:"text-xl",$$slots:{default:[sC]},$$scope:{ctx:t}}}),o=new Jn({props:{class:"w-3/4"}}),r=new yt({props:{class:"mb-4"}}),v=new Tt({props:{class:`bg-button rounded-2xl h-min select-none
            `+(t[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[aC]},$$scope:{ctx:t}}}),v.$on("click",t[2]),E=new Tt({props:{class:`bg-button rounded-2xl h-min select-none
            
              `+(t[0].townInfo.employees>=t[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[uC]},$$scope:{ctx:t}}}),E.$on("click",t[3]),I=new yt({props:{class:"mb-4"}});const K=[cC,fC],ee=[];function ne(m,j){return j&1&&(L=null),L==null&&(L=Xe("city_hall",m[0]).length>0),L?0:1}return x=ne(t,-1),z=ee[x]=K[x](t),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment),i=V(),J(r.$$.fragment),l=V(),a=P("div"),s=P("span"),s.textContent="Hire Guardians ⚔️",u=V(),f=P("br"),c=V(),d=P("span"),d.textContent=`Guardians work for you and are required to expand your kingdom. They
          do not generate revenue, but still require housing & food.`,p=V(),_=P("div"),h=P("div"),J(v.$$.fragment),w=V(),A=P("span"),R=q(k),F=V(),J(E.$$.fragment),$=V(),H=P("span"),U=q(D),y=q(`
            unemployed available for hire.`),b=V(),J(I.$$.fragment),O=V(),W=P("div"),z.c(),N(s,"class","text-lg font-bold"),N(d,"class","text-sm italic"),N(A,"class","text-lg font-bold select-none px-2"),N(H,"class","w-max"),N(_,"class","flex flex-row justify-between align-middle items-center pt-2 pb-2 gap-2 "),N(a,"class","w-full"),N(W,"class","w-full")},m(m,j){Y(e,m,j),M(m,n,j),Y(o,m,j),M(m,i,j),Y(r,m,j),M(m,l,j),M(m,a,j),g(a,s),g(a,u),g(a,f),g(a,c),g(a,d),g(a,p),g(a,_),g(_,h),Y(v,h,null),g(h,w),g(h,A),g(A,R),g(h,F),Y(E,h,null),g(_,$),g(_,H),g(H,U),g(H,y),M(m,b,j),Y(I,m,j),M(m,O,j),M(m,W,j),ee[x].m(W,null),Z=!0},p(m,j){const B={};j&1025&&(B.$$scope={dirty:j,ctx:m}),e.$set(B);const ie={};j&1&&(ie.class=`bg-button rounded-2xl h-min select-none
            `+(m[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `),j&1024&&(ie.$$scope={dirty:j,ctx:m}),v.$set(ie),(!Z||j&1)&&k!==(k=m[0].townInfo.guardians+"")&&se(R,k);const re={};j&1&&(re.class=`bg-button rounded-2xl h-min select-none
            
              `+(m[0].townInfo.employees>=m[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `),j&1024&&(re.$$scope={dirty:j,ctx:m}),E.$set(re),(!Z||j&1)&&D!==(D=m[0].townInfo.population_count-m[0].townInfo.employees+"")&&se(U,D);let ke=x;x=ne(m,j),x===ke?ee[x].p(m,j):(Pe(),S(ee[ke],1,1,()=>{ee[ke]=null}),Oe(),z=ee[x],z?z.p(m,j):(z=ee[x]=K[x](m),z.c()),C(z,1),z.m(W,null))},i(m){Z||(C(e.$$.fragment,m),C(o.$$.fragment,m),C(r.$$.fragment,m),C(v.$$.fragment,m),C(E.$$.fragment,m),C(I.$$.fragment,m),C(z),Z=!0)},o(m){S(e.$$.fragment,m),S(o.$$.fragment,m),S(r.$$.fragment,m),S(v.$$.fragment,m),S(E.$$.fragment,m),S(I.$$.fragment,m),S(z),Z=!1},d(m){m&&(T(n),T(i),T(l),T(a),T(b),T(O),T(W)),X(e,m),X(o,m),X(r,m),X(v),X(E),X(I,m),ee[x].d()}}}function hC(t){let e,n,o,i;return e=new Yn({props:{$$slots:{default:[_C]},$$scope:{ctx:t}}}),o=new So({}),{c(){J(e.$$.fragment),n=V(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&1025&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function gC(t){let e,n;return e=new Xn({props:{class:"bg-foreground text-foregroundText",$$slots:{default:[hC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&1025&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function bC(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[gC]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new xn({props:r}),Ne.push(()=>Sn(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){Y(e,l,a),o=!0},p(l,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],An(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function vC(t,e,n){let o,i;fe(t,Ee,u=>n(0,o=u)),fe(t,Hi,u=>n(1,i=u));const r=()=>{o.townInfo.guardians>0?(Ie(Ee,o.townInfo.guardians-=1,o),Ie(Ee,o.townInfo.employees-=1,o)):showCustomAlert.set("No guardians to fire.")},l=()=>{o.townInfo.employees<o.townInfo.population_count?(Ie(Ee,o.townInfo.guardians+=1,o),Ie(Ee,o.townInfo.employees+=1,o)):showCustomAlert.set("Not enough people.")},a=u=>{o.economyAndLaws.enacted.includes(u.id)?o.economyAndLaws.enacted.splice(o.economyAndLaws.enacted.indexOf(u.id),1):u.cost<=o.resources.bureaucracy?(Ie(Ee,o.resources.bureaucracy-=u.cost,o),o.economyAndLaws.enacted.push(u.id)):showCustomAlert.set("Not enough bureaucracy!")};function s(u){i=u,Hi.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[o,i,r,l,a,s]}class yC extends ve{constructor(e){super(),be(this,e,vC,bC,de,{})}}function wC(t){let e;return{c(){e=q("Got it")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function kC(t){let e,n,o,i,r,l,a,s;return r=new Jc({props:{class:"bg-button hover:scale-105 min-w-[70%] transition-all duration-150 mt-2",$$slots:{default:[wC]},$$scope:{ctx:t}}}),r.$on("click",t[1]),a=new wr({}),{c(){e=P("span"),n=q("🛎️ "),o=q(t[0]),i=V(),J(r.$$.fragment),l=V(),J(a.$$.fragment),N(e,"class","whitespace-pre-wrap overflow-auto text-center sm:whitespace-normal break-all sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center"),Je(e,"max-height","80%")},m(u,f){M(u,e,f),g(e,n),g(e,o),M(u,i,f),Y(r,u,f),M(u,l,f),Y(a,u,f),s=!0},p(u,f){(!s||f&1)&&se(o,u[0]);const c={};f&4&&(c.$$scope={dirty:f,ctx:u}),r.$set(c)},i(u){s||(C(r.$$.fragment,u),C(a.$$.fragment,u),s=!0)},o(u){S(r.$$.fragment,u),S(a.$$.fragment,u),s=!1},d(u){u&&(T(e),T(i),T(l)),X(r,u),X(a,u)}}}function CC(t){let e,n;return e=new kr({props:{class:`bg-foregroundDark text-white rounded-input shadow-3xl justify-center items-center flex flex-col py-2 text-lg font-semibold p-2 min-w-96 min-h-36
         sm:rounded-2xl sm:flex sm:flex-col sm:p-6 sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center max-h-96`,$$slots:{default:[kC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function AC(t){let e,n;return e=new Cr({props:{open:t[0]!="",$$slots:{default:[CC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,[i]){const r={};i&1&&(r.open=o[0]!=""),i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function SC(t,e,n){let o;return fe(t,bn,r=>n(0,o=r)),[o,()=>{bn.set("")}]}class TC extends ve{constructor(e){super(),be(this,e,SC,AC,de,{})}}function Uf(t){let e,n,o,i;const r=[IC,MC],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function MC(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,_,h,v,w,A,k,R,F=t[2]==!0&&Yf();n=new x4({}),i=new rp({}),l=new ny({}),s=new My({}),f=new z5({}),d=new w3({}),_=new yC({}),v=new TC({});let E=t[0].environment.day==0&&t[3]&&Xf();return{c(){F&&F.c(),e=V(),J(n.$$.fragment),o=V(),J(i.$$.fragment),r=V(),J(l.$$.fragment),a=V(),J(s.$$.fragment),u=V(),J(f.$$.fragment),c=V(),J(d.$$.fragment),p=V(),J(_.$$.fragment),h=V(),J(v.$$.fragment),w=V(),E&&E.c(),A=V(),k=P("style"),k.textContent=`body {
        margin-bottom: 0;
      }
      /* no visible scrollbars */
      #plot_grid::-webkit-scrollbar {
        display: none;
      }

      ::-webkit-scrollbar {
        width: 0px;
        background: transparent; /* make scrollbar transparent */
      }

      /* no scrollbars on firefox either */
      #plot_grid {
        scrollbar-width: none;
      }

      /* no scrollbars for IE/Edge */
      #plot_grid {
        -ms-overflow-style: none;
      }`},m($,H){F&&F.m($,H),M($,e,H),Y(n,$,H),M($,o,H),Y(i,$,H),M($,r,H),Y(l,$,H),M($,a,H),Y(s,$,H),M($,u,H),Y(f,$,H),M($,c,H),Y(d,$,H),M($,p,H),Y(_,$,H),M($,h,H),Y(v,$,H),M($,w,H),E&&E.m($,H),M($,A,H),M($,k,H),R=!0},p($,H){$[2]==!0?F?H&4&&C(F,1):(F=Yf(),F.c(),C(F,1),F.m(e.parentNode,e)):F&&(Pe(),S(F,1,1,()=>{F=null}),Oe()),$[0].environment.day==0&&$[3]?E?H&9&&C(E,1):(E=Xf(),E.c(),C(E,1),E.m(A.parentNode,A)):E&&(Pe(),S(E,1,1,()=>{E=null}),Oe())},i($){R||(C(F),C(n.$$.fragment,$),C(i.$$.fragment,$),C(l.$$.fragment,$),C(s.$$.fragment,$),C(f.$$.fragment,$),C(d.$$.fragment,$),C(_.$$.fragment,$),C(v.$$.fragment,$),C(E),R=!0)},o($){S(F),S(n.$$.fragment,$),S(i.$$.fragment,$),S(l.$$.fragment,$),S(s.$$.fragment,$),S(f.$$.fragment,$),S(d.$$.fragment,$),S(_.$$.fragment,$),S(v.$$.fragment,$),S(E),R=!1},d($){$&&(T(e),T(o),T(r),T(a),T(u),T(c),T(p),T(h),T(w),T(A),T(k)),F&&F.d($),X(n,$),X(i,$),X(l,$),X(s,$),X(f,$),X(d,$),X(_,$),X(v,$),E&&E.d($)}}}function IC(t){let e,n;return e=new by({}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p:Ce,i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Yf(t){let e,n;return e=new Kv({}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Xf(t){let e,n;return e=new lC({}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function PC(t){let e,n,o=(t[1]||t[0]==null)&&Uf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&C(o,1)):(o=Uf(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Pe(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function OC(t,e,n){let o,i,r,l,a,s;fe(t,mo,d=>n(6,o=d)),fe(t,Qe,d=>n(7,i=d)),fe(t,Et,d=>n(2,r=d)),fe(t,Ee,d=>n(0,l=d)),fe(t,Vo,d=>n(8,a=d)),fe(t,zr,d=>n(3,s=d));let u=!1;Uv();let f=!1;document.addEventListener("keydown",d=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&d.key!=="Escape")return;switch(d.key.toLowerCase()){case"p":r==!0?Et.set(!1):(Et.set(!0),Ie(Qe,i.visible=!1,i));break;case"escape":d.shiftKey?(Ie(Et,r=!0,r),localStorage.setItem("reset","true"),location.reload(),El()):i.visible==!0&&Ie(Qe,i.visible=!1,i);break}});function c(d,p,_){if(f==!0)switch(_){case"up":p-=2;break;case"down":p+=1;break;case"left":d-=2;break;case"right":d+=1;break}d<0?d=0:d>l.plots.length&&(d=l.plots.length),p<0?p=0:p>l.plots.length&&(p=l.plots.length);let h=document.querySelectorAll(".plot_container"),v;if(h.forEach(w=>{w.dataset.x=="$x"&&w.dataset.y=="$y"&&(v=w)}),r==!1){if(v.dataset.canBeUpgraded==="true"?Ie(Qe,i.visible=!0,i):Ie(Qe,i.visible=!1,i),v.dataset.refPlotX!==void 0&&v.dataset.refPlotY!=""?(f=!0,h.forEach(w=>{w.dataset.x==v.dataset.refPlotX&&w.dataset.y==v.dataset.refPlotY&&(v=w,d=parseInt(v.dataset.x),p=parseInt(v.dataset.y))})):f=!1,v.dataset.size!=="1"&&v.dataset.size!==void 0&&(f=!0),Ie(Qe,i.x=d,i),Ie(Qe,i.y=p,i),h.forEach(w=>{w.classList.remove("selected"),w.style.fontWeight=""}),v.classList.add("selected"),f){let w="4px solid #00800045";v.classList.remove("selected"),v.style.borderTop=w,v.style.borderLeft=w,v.style.fontWeight="600",h.forEach(A=>{const k=parseInt(`${A.dataset.x}`),R=parseInt(`${A.dataset.y}`);k==d+1&&R==p&&(A.style.borderLeft=w,A.style.borderBottom=w),k==d&&R==p+1&&(A.style.borderTop=w,A.style.borderRight=w),k==d+1&&R==p+1&&(A.style.borderBottom=w,A.style.borderRight=w)})}v.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Ie(mo,o={},o)}}return t.$$.update=()=>{t.$$.dirty&1&&(l?(Ie(Vo,a.visible=!1,a),n(1,u=!0)):(Ie(Vo,a.visible=!0,a),n(1,u=!1)))},[l,u,r,s,c]}class NC extends ve{constructor(e){super(),be(this,e,OC,PC,de,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new NC({target:document.getElementById("app")});
